import os
import base64
import subprocess

folder_path = 'module_registrar/modules/whisper'

file_data = [
    ('speech2text_module.py', 'aW1wb3J0IGJhc2U2NAppbXBvcnQgZmZtcGVnCgpmcm9tIG1vZHVsZV9yZWdpc3RyYXIubW9kdWxlcy5iYXNlX21vZHVsZSBpbXBvcnQgQmFzZU1vZHVsZQpmcm9tIG1vZHVsZV9yZWdpc3RyYXIubW9kdWxlcy53aGlzcGVyLndoaXNwZXIgaW1wb3J0IHJ1bl93aGlzcGVyCmZyb20gbW9kdWxlX3JlZ2lzdHJhci5tb2R1bGVzLndoaXNwZXIuY29udmVydF9maWxlIGltcG9ydCBjb252ZXJ0X3RvX3dhdgpmcm9tIG1vZHVsZV9yZWdpc3RyYXIubW9kdWxlcy53aGlzcGVyLnNldHVwLmF1ZGlvX21hbmFnZXIgaW1wb3J0IEF1ZGlvTWFuYWdlcgpmcm9tIG1vZHVsZV9yZWdpc3RyYXIubW9kdWxlX3JlZ2lzdHJhci5yZWdpc3RyYXIgaW1wb3J0IE1vZHVsZVJlZ2lzdHJhcgoKCmNsYXNzIFNwZWVjaDJUZXh0TW9kdWxlKEJhc2VNb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYuYXVkaW8gPSBBdWRpb01hbmFnZXIoKQogICAgICAgIAogICAgYXN5bmMgZGVmIHByb2Nlc3Moc2VsZiwgYmFzZTY0X3JlcXVlc3Q6IHN0cikgLT4gc3RyOgogICAgICAgIHNlbGYuYXVkaW8uc2F2ZV9hdWRpbyhiYXNlNjRfcmVxdWVzdCkKICAgICAgICBjb252ZXJ0X3RvX3dhdigibW9kdWxlX3JlZ2lzdHJhci9tb2R1bGVzL3doaXNwZXIvaW4vaW5wdXQud2F2IikKICAgICAgICBydW5fd2hpc3BlcigKICAgICAgICAgICAgd2hpc3Blcl9iaW49Im1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL3doaXNwZXIuY3BwL21haW4iLAogICAgICAgICAgICBmaWxlX3BhdGg9Im1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL291dC9vdXRwdXQud2F2IiwKICAgICAgICAgICAgbW9kZWxfcGF0aD0ibW9kdWxlX3JlZ2lzdHJhci9tb2R1bGVzL3doaXNwZXIvd2hpc3Blci5jcHAvbW9kZWxzL2dnbWwtYmFzZS5lbi5iaW4iCiAgICAgICAgKQogICAgICAgIGRhdGEgPSBzZWxmLmF1ZGlvLnJldHJpZXZlX3Byb2Nlc3NlZF9kYXRhKCkKICAgICAgICByZXR1cm4gc2VsZi5hdWRpby5lbmNvZGVfcHJvY2Vzc2VkX2RhdGEoZGF0YSkKICAgICAgICAKICAgICAgICAKcmVnaXN0cmFyID0gTW9kdWxlUmVnaXN0cmFyKCkKcmVnaXN0cmFyLnJlZ2lzdGVyKCJzcGVlY2gydGV4dCIsIFNwZWVjaDJUZXh0TW9kdWxlKQ=='),
    ('audio_manager.py', 'aW1wb3J0IGJhc2U2NAppbXBvcnQgb3MKaW1wb3J0IHdhdmUKCgpjbGFzcyBBdWRpb01hbmFnZXI6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5pbnB1dF9wYXRoID0gIm1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL2luL2F1ZGlvX3JlcXVlc3Qud2F2IgogICAgICAgIHNlbGYub3V0cHV0X3BhdGggPSAibW9kdWxlX3JlZ2lzdHJhci9tb2R1bGVzL3doaXNwZXIvb3V0L2F1ZGlvX3JlcXVlc3Qud2F2IgoKICAgIGRlZiBlbmNvZGVfYXVkaW8oc2VsZiwgYXVkaW9fcGF0aCk6CiAgICAgICAgIiIiRW5jb2RlIGF1ZGlvIGZpbGUgdG8gYmFzZTY0IHN0cmluZy4iIiIKICAgICAgICB3aXRoIG9wZW4oYXVkaW9fcGF0aCwgInJiIikgYXMgYXVkaW9fZmlsZToKICAgICAgICAgICAgYXVkaW9fY29udGVudCA9IGF1ZGlvX2ZpbGUucmVhZCgpCiAgICAgICAgcmV0dXJuIHNlbGYuZW5jb2RlX3Byb2Nlc3NlZF9kYXRhKGF1ZGlvX2NvbnRlbnQpCiAgICAKICAgIGRlZiBkZWNvZGVfYXVkaW8oc2VsZiwgYmFzZTY0X3N0cmluZyk6CiAgICAgICAgIiIiRGVjb2RlIGJhc2U2NCBzdHJpbmcgdG8gYXVkaW8gZGF0YS4iIiIKICAgICAgICByZXR1cm4gc2VsZi5kZWNvZGVfcHJvY2Vzc2VkX2RhdGEoYmFzZTY0X3N0cmluZykKCiAgICBkZWYgc2F2ZV9hdWRpbyhzZWxmLCBiYXNlNjRfc3RyaW5nKToKICAgICAgICAiIiJEZWNvZGUgYW5kIHNhdmUgYmFzZTY0IGF1ZGlvIHN0cmluZyB0byBpbnB1dCBwYXRoLiIiIgogICAgICAgIGF1ZGlvX2RhdGEgPSBzZWxmLmRlY29kZV9hdWRpbyhiYXNlNjRfc3RyaW5nKQogICAgICAgIG9zLm1ha2VkaXJzKG9zLnBhdGguZGlybmFtZShzZWxmLmlucHV0X3BhdGgpLCBleGlzdF9vaz1UcnVlKQogICAgICAgIHdhdmVfZmlsZSA9IHdhdmUub3BlbihzZWxmLmlucHV0X3BhdGgsICd3YicpCiAgICAgICAgd2F2ZV9maWxlLnNldG5jaGFubmVscygxKQogICAgICAgIHdhdmVfZmlsZS5zZXRzYW1wd2lkdGgoMikgICMgMTYtYml0CiAgICAgICAgd2F2ZV9maWxlLnNldGZyYW1lcmF0ZSgxNjAwMCkgICMgMTZrSHoKICAgICAgICB3YXZlX2ZpbGUud3JpdGVmcmFtZXMoYXVkaW9fZGF0YSkKICAgICAgICB3YXZlX2ZpbGUuY2xvc2UoKQogICAgICAgICAgICAKICAgIGRlZiByZXRyaWV2ZV9wcm9jZXNzZWRfZGF0YShzZWxmKToKICAgICAgICAiIiJSZXRyaWV2ZSBwcm9jZXNzZWQgZGF0YSBmcm9tIG91dHB1dCBwYXRoLiIiIgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhzZWxmLm91dHB1dF9wYXRoKToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICB3aXRoIG9wZW4oc2VsZi5vdXRwdXRfcGF0aCwgJ3JiJykgYXMgZmlsZToKICAgICAgICAgICAgcmV0dXJuIGZpbGUucmVhZCgpCgogICAgZGVmIGVuY29kZV9wcm9jZXNzZWRfZGF0YShzZWxmLCBkYXRhKToKICAgICAgICAiIiJFbmNvZGUgcHJvY2Vzc2VkIGRhdGEgdG8gYmFzZTY0IHN0cmluZy4iIiIKICAgICAgICByZXR1cm4gYmFzZTY0LmI2NGVuY29kZShkYXRhLmVuY29kZSgndXRmLTgnKSkuZGVjb2RlKCd1dGYtOCcpCgogICAgZGVmIGRlY29kZV9wcm9jZXNzZWRfZGF0YShzZWxmLCBiYXNlNjRfc3RyaW5nKToKICAgICAgICAiIiJEZWNvZGUgYmFzZTY0IHN0cmluZyB0byBwcm9jZXNzZWQgZGF0YS4iIiIKICAgICAgICByZXR1cm4gYmFzZTY0LmI2NGRlY29kZShiYXNlNjRfc3RyaW5nKS5kZWNvZGUoJ3V0Zi04Jyk='),
    ('install_whisper.py', 'aW1wb3J0IG9zCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCBqc29uCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKc3VicHJvY2Vzcy5ydW4oWyJwaXAiLCAiaW5zdGFsbCIsICJsb2d1cnUiXSwgY2hlY2s9VHJ1ZSkKCmZyb20gbG9ndXJ1IGltcG9ydCBsb2dnZXIKCgpkZWYgaW5zdGFsbF9jdWRhKCk6CiAgICBjb21tYW5kcyA9ICIiIgojIS9iaW4vYmFzaAojIEluc3RhbGwgQ1VEQQpwaXAgaW5zdGFsbCBudmlkaWEtcHlpbmRleAp3Z2V0IGh0dHBzOi8vZGV2ZWxvcGVyLmRvd25sb2FkLm52aWRpYS5jb20vY29tcHV0ZS9jdWRhL3JlcG9zL3VidW50dTIyMDQveDg2XzY0L2N1ZGEtdWJ1bnR1MjIwNC5waW4Kc3VkbyBtdiBjdWRhLXVidW50dTIyMDQucGluIC9ldGMvYXB0L3ByZWZlcmVuY2VzLmQvY3VkYS1yZXBvc2l0b3J5LXBpbi02MDAKd2dldCBodHRwczovL2RldmVsb3Blci5kb3dubG9hZC5udmlkaWEuY29tL2NvbXB1dGUvY3VkYS8xMi4zLjAvbG9jYWxfaW5zdGFsbGVycy9jdWRhLXJlcG8tdWJ1bnR1MjIwNC0xMi0zLWxvY2FsXzEyLjMuMC01NDUuMjMuMDYtMV9hbWQ2NC5kZWIKc3VkbyBkcGtnIC1pIGN1ZGEtcmVwby11YnVudHUyMjA0LTEyLTMtbG9jYWxfMTIuMy4wLTU0NS4yMy4wNi0xX2FtZDY0LmRlYgpzdWRvIGNwIC92YXIvY3VkYS1yZXBvLXVidW50dTIyMDQtMTItMy1sb2NhbC9jdWRhLSota2V5cmluZy5ncGcgL3Vzci9zaGFyZS9rZXlyaW5ncy8Kc3VkbyBhcHQtZ2V0IHVwZGF0ZQpzdWRvIGFwdC1nZXQgLXkgaW5zdGFsbCBjdWRhLXRvb2xraXQtMTItMwoiIiIKICAgIGN1ZGEgPSBpbnB1dCgiRG8geW91IHdhbnQgdG8gaW5zdGFsbCBDVURBIDEyLjM/ICh5L24pOiAiKQogICAgY3VkYSA9IGN1ZGEgaW4gWyJ5IiwgIlkiLCAieWVzIiwgIlllcyJdCiAgICBpZiBjdWRhOgogICAgICAgIHN1YnByb2Nlc3MucnVuKFtjb21tYW5kc10sIGNoZWNrPVRydWUsIHNoZWxsPVRydWUpCiAgICByZXR1cm4gY3VkYQoKCmluc3RhbGxfY3VkYSgpCgppbnN0YWxsX3doaXNwZXJfc2ggPSAiIiIjIS9iaW4vYmFzaAoKIyBJbnN0YWxsIHdoaXNwZXIuY3BwCmdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vZ2dlcmdhbm92L3doaXNwZXIuY3BwLmdpdCBtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci93aGlzcGVyLmNwcApjZCBtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci93aGlzcGVyLmNwcAptYWtlIGNsZWFuCldISVNQRVJfQ0JMQVNUPTEgbWFrZSAtagoKIyBEb3dubG9hZCBXaGlzcGVyIG1vZGVsCmJhc2ggbW9kZWxzL2Rvd25sb2FkLWdnbWwtbW9kZWwuc2ggYmFzZS5lbgogICAgCiMgTWFrZSBpbiBhbmQgb3V0IGRpcnMKY2QgLi4gCm1rZGlyIC1wIGluIG91dAoKY2QgLi4vLi4vLi4KCiMgUnVuIGV4YW1wbGUKYmFzaCBtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci9leGFtcGxlLnNoCiIiIgpleGFtcGxlX3NoID0gIiIiIyEgL2Jpbi9iYXNoCgpjcCBtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci93aGlzcGVyLmNwcC9zYW1wbGVzL2pmay53YXYgbW9kdWxlX3JlZ2lzdHJhci9tb2R1bGVzL3doaXNwZXIvaW4KCnB5dGhvbiBtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci9jb252ZXJ0X2ZpbGUucHkgLWYgbW9kdWxlX3JlZ2lzdHJhci9tb2R1bGVzL3doaXNwZXIvaW4vamZrLndhdgoKcHl0aG9uIG1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL3doaXNwZXIucHkgLWYgbW9kdWxlX3JlZ2lzdHJhci9tb2R1bGVzL3doaXNwZXIvaW4vamZrLndhdiAtbSBtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci93aGlzcGVyLmNwcC9tb2RlbHMvZ2dtbC1iYXNlLmVuLmJpbiAtdyBtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci93aGlzcGVyLmNwcC9tYWluCiIiIgoKY29udmVydF9maWxlX3B5ID0gIiIiaW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBzdWJwcm9jZXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKCgpkZWYgY29udmVydF90b193YXYoZmlsZV9wYXRoKToKICAgIGlucHV0X25hbWUgPSBQYXRoKGZpbGVfcGF0aCkKICAgIG91dHB1dF9uYW1lID0gaW5wdXRfbmFtZS5uYW1lLmZvcm1hdCgid2F2IikKICAgIG91dHB1dF9wYXRoID0gUGF0aChmIm1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL291dC97b3V0cHV0X25hbWV9IikKICAgIHN1YnByb2Nlc3MucnVuKAogICAgICAgIFsKICAgICAgICAgICAgImZmbXBlZyIsCiAgICAgICAgICAgICItaSIsCiAgICAgICAgICAgIGYie2lucHV0X25hbWV9IiwKICAgICAgICAgICAgIi1hciIsCiAgICAgICAgICAgICIxNjAwMCIsCiAgICAgICAgICAgICItYWMiLAogICAgICAgICAgICAiMSIsCiAgICAgICAgICAgICItYzphIiwKICAgICAgICAgICAgInBjbV9zMTZsZSIsCiAgICAgICAgICAgIGYie291dHB1dF9wYXRofSIsCiAgICAgICAgXSwKICAgICAgICBjaGVjaz1UcnVlLAogICAgKQoKCmRlZiBwYXJzZV9hcmdzKCk6CiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcigpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItZiIsICItLWZpbGVfcGF0aCIsIHR5cGU9c3RyLCByZXF1aXJlZD1UcnVlKQogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKICAgIHJldHVybiBhcmdzCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGZpbGVfcGF0aCA9IHBhcnNlX2FyZ3MoKS5maWxlX3BhdGgKICAgIGNvbnZlcnRfdG9fd2F2KGZpbGVfcGF0aCkKIiIiCgp3aGlzcGVyX3B5ID0gIiIiaW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBzdWJwcm9jZXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKZnJvbSBsb2d1cnUgaW1wb3J0IGxvZ2dlcgoKZGVmIHJ1bl93aGlzcGVyKAogICAgd2hpc3Blcl9iaW49Im1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL3doaXNwZXIuY3BwL21haW4iLAogICAgZmlsZV9wYXRoPSJtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci9pbi9qZmsud2F2IiwKICAgIG1vZGVsX3BhdGg9Im1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL3doaXNwZXIuY3BwL21vZGVscy9nZ21sLWJhc2UuZW4uYmluIiwKKToKICAgIGZpbGVfcGF0aCA9IFBhdGgoZmlsZV9wYXRoKQogICAgbW9kZWxfcGF0aCA9IFBhdGgobW9kZWxfcGF0aCkKICAgIHdoaXNwZXJfcGF0aCA9IFBhdGgod2hpc3Blcl9iaW4pCiAgICB0cnk6CiAgICAgICAgcmVzdWx0ID0gc3VicHJvY2Vzcy5ydW4oCiAgICAgICAgICAgIFtmInt3aGlzcGVyX2Jpbn0iLCAiLW0iLCBmInttb2RlbF9wYXRofSIsICItZiIsIGYie2ZpbGVfcGF0aH0iXSwKICAgICAgICAgICAgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwKICAgICAgICAgICAgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSwKICAgICAgICAgICAgY2hlY2s9VHJ1ZSwKICAgICAgICApCiAgICAgICAgbG9nZ2VyLmRlYnVnKHJlc3VsdC5zdGRvdXQuZGVjb2RlKCJ1dGYtOCIpKQogICAgICAgIHJldHVybiByZXN1bHQuc3Rkb3V0LmRlY29kZSgidXRmLTgiKQogICAgZXhjZXB0IHN1YnByb2Nlc3MuQ2FsbGVkUHJvY2Vzc0Vycm9yIGFzIGVycm9yOgogICAgICAgIGxvZ2dlci5lcnJvcihlcnJvcikKICAgICAgICByZXR1cm4gZXJyb3IKICAgIGV4Y2VwdCBSdW50aW1lRXJyb3IgYXMgZXJyb3I6CiAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yKQogICAgICAgIHJldHVybiBlcnJvcgoKCmRlZiBwYXJzZV9hcmdzKCk6CiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcigpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItZiIsICItLWZpbGVfcGF0aCIsIGRlZmF1bHQ9Im1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL2lucHV0L2pmay53YXYiLCB0eXBlPXN0ciwgcmVxdWlyZWQ9RmFsc2UKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi1tIiwKICAgICAgICAiLS1tb2RlbF9wYXRoIiwKICAgICAgICBkZWZhdWx0PSJtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci93aGlzcGVyLmNwcC9tb2RlbHMvZ2dtbC1iYXNlLmVuLmJpbiIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgcmVxdWlyZWQ9RmFsc2UsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItdyIsICItLXdoaXNwZXJfYmluIiwgZGVmYXVsdD0ibW9kdWxlX3JlZ2lzdHJhci9tb2R1bGVzL3doaXNwZXIvd2hpc3Blci5jcHAvbWFpbiIsIHR5cGU9c3RyKQogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKICAgIHJldHVybiBhcmdzCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFyZ3MgPSBwYXJzZV9hcmdzKCkKICAgIHJ1bl93aGlzcGVyKCoqdmFycyhhcmdzKSkKIiIiCgppbmZlcmVuY2VfdHlwZXMgPSBQYXRoKCJtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvaW5mZXJlbmNlX3R5cGVzLmpzb24iKQoKdHlwZV9kYXRhID0gIndoaXNwZXIiCmpzb25fZGF0YSA9IHsidHlwZSI6IFtdfQppZiBvcy5wYXRoLmV4aXN0cyhpbmZlcmVuY2VfdHlwZXMpOgogICAganNvbl9kYXRhID0ganNvbi5sb2FkcyhpbmZlcmVuY2VfdHlwZXMucmVhZF90ZXh0KCkpCmpzb25fZGF0YVsidHlwZSJdLmFwcGVuZCh0eXBlX2RhdGEpCmluZmVyZW5jZV90eXBlcy53cml0ZV90ZXh0KGpzb24uZHVtcHMoanNvbl9kYXRhKSkKCgpmaWxlX3BhdGhzID0gewogICAgImluc3RhbGxfd2hpc3Blcl9zaCI6IFBhdGgoCiAgICAgICAgIm1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL2luc3RhbGxfd2hpc3Blci5zaCIKICAgICksCiAgICAiZXhhbXBsZV9zaCI6IFBhdGgoIm1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL2V4YW1wbGUuc2giKSwKICAgICJjb252ZXJ0X2ZpbGVfcHkiOiBQYXRoKCJtb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvd2hpc3Blci9jb252ZXJ0X2ZpbGUucHkiKSwKICAgICJ3aGlzcGVyX3B5IjogUGF0aCgibW9kdWxlX3JlZ2lzdHJhci9tb2R1bGVzL3doaXNwZXIvd2hpc3Blci5weSIpLAp9CmRhdGEgPSB7CiAgICAiaW5zdGFsbF93aGlzcGVyX3NoIjogaW5zdGFsbF93aGlzcGVyX3NoLAogICAgImV4YW1wbGVfc2giOiBleGFtcGxlX3NoLAogICAgImNvbnZlcnRfZmlsZV9weSI6IGNvbnZlcnRfZmlsZV9weSwKICAgICJ3aGlzcGVyX3B5Ijogd2hpc3Blcl9weSwKfQoKCmRlZiB3cml0ZV9maWxlKGZpbGVfZGF0YTogc3RyLCBmaWxlX3BhdGg6IHN0cikgLT4gTm9uZToKICAgIGxvZ2dlci5kZWJ1ZyhmIlxcbmZpbGVfZGF0YToge2ZpbGVfZGF0YX1cXG5maWxlX3BhdGg6IHtmaWxlX3BhdGh9XFxuIikKICAgIGZpbGVfcGF0aC53cml0ZV90ZXh0KGZpbGVfZGF0YSkKICAgIGZpbGVfcGF0aC5jaG1vZCgwbzc3NykKCgpmb3Iga2V5IGluIGZpbGVfcGF0aHMua2V5cygpOgogICAgd3JpdGVfZmlsZShkYXRhW2tleV0sIGZpbGVfcGF0aHNba2V5XSkKICAgIGxvZ2dlci5kZWJ1ZyhmIlxcbmZpbGU6IHtmaWxlX3BhdGhzW2tleV19XFxuIikKCnN1YnByb2Nlc3MucnVuKAogICAgWyJiYXNoIiwgIm1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy93aGlzcGVyL2luc3RhbGxfd2hpc3Blci5zaCJdLCBjaGVjaz1UcnVlCikK'),
]

for relative_path, encoded_content in file_data:
    full_path = os.path.join(folder_path, relative_path)
    os.makedirs(os.path.dirname(full_path), exist_ok=True)
    with open(full_path, 'wb') as f:
        f.write(base64.b64decode(encoded_content))
    print(f'Created: {full_path}')
subprocess.run(['python', 'module_registrar/modules/whisper/install_whisper.py'], check=True)
