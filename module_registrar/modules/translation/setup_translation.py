import os
import base64
import subprocess

folder_path = 'module_registrar/modules/translation'

file_data = [
    ('translation_module.py', 'aW1wb3J0IGFyZ3BhcnNlCmltcG9ydCByZXF1ZXN0cwoKZnJvbSAuLmJhc2VfbW9kdWxlIGltcG9ydCBCYXNlTW9kdWxlCmZyb20gLmRhdGFfbW9kZWxzIGltcG9ydCBNb2R1bGVDb25maWcsIFRyYW5zbGF0aW9uUmVxdWVzdApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLnRyYW5zbGF0b3IgaW1wb3J0IFNlYW1sZXNzVHJhbnNsYXRvcgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBPcHRpb25hbAoKCmNsYXNzIFRyYW5zbGF0ZU1pbmVyKEJhc2VNb2R1bGUpOgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtb2R1bGVfY29uZmlnOiBPcHRpb25hbFtNb2R1bGVDb25maWddID0gTm9uZSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb25maWcgPSBNb2R1bGVDb25maWcoKiptb2R1bGVfY29uZmlnKQogICAgICAgIHNlbGYudHJhbnNsYXRvciA9IFNlYW1sZXNzVHJhbnNsYXRvcigpCgogICAgZGVmIHByb2Nlc3Moc2VsZiwgdXJsOiBzdHIsIHJlcXVlc3Q6IFRyYW5zbGF0aW9uUmVxdWVzdCkgLT4gQW55OgogICAgICAgICIiIlByb2Nlc3MgYSByZXF1ZXN0IG1hZGUgdG8gdGhlIG1vZHVsZS4iIiIKICAgICAgICBpZiByZXF1ZXN0LmluZmVyZW5jZV90eXBlID09ICJ0cmFuc2xhdGlvbiI6CiAgICAgICAgICAgIHJlc3VsdCA9IHNlbGYudHJhbnNsYXRvci50cmFuc2xhdGlvbl9pbmZlcmVuY2UoaW5fZmlsZT1yZXF1ZXN0LnJlcXVlc3RfZGF0YS5pbl9maWxlLCB0YXNrX3N0cmluZz1yZXF1ZXN0LnJlcXVlc3RfZGF0YS50YXNrX3N0cmluZywgdGFyZ2V0X2xhbmd1YWdlcz1yZXF1ZXN0LnJlcXVlc3RfZGF0YS50YXJnZXRfbGFuZ3VhZ2UpCiAgICAgICAgCiAgICAgICAgcHJpbnQocmVzdWx0KQogICAgCiAgICAgICAgCiAgICAKICAgICAgICAKICAgICAgICAKICAgICAgICAKCgoKZGVmIHBhcnNlX2FydWdtZW50cygpOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1rZXluYW1lIiwgdHlwZT1zdHIsIGRlZmF1bHQ9ImVkZW4uTWluZXJfMiIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLWhvc3QiLCB0eXBlPXN0ciwgZGVmYXVsdD0iMC4wLjAuMCIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXBvcnQiLCB0eXBlPWludCwgZGVmYXVsdD04MDgwKQogICAgcmV0dXJuIHBhcnNlci5wYXJzZV9hcmdzKCkKCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKCiAgICBhcmdzID0gcGFyc2VfYXJ1Z21lbnRzKCkKICAgIG1pbmVyID0gVHJhbnNsYXRlTWluZXIoKQoKICAgIG1pbmVyLnN0YXJ0X21pbmVyX3NlcnZlcihhcmdzLmtleW5hbWUsIGFyZ3MuaG9zdCwgYXJncy5wb3J0KQ=='),
    ('translation.py', 'aW1wb3J0IHRvcmNoYXVkaW8KaW1wb3J0IHRvcmNoCgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCmZyb20gbG9ndXJ1IGltcG9ydCBsb2dnZXIKZnJvbSB0eXBpbmcgaW1wb3J0IFVuaW9uLCBUdXBsZSwgTGlzdCwgRGljdAoKZnJvbSBtb2R1bGVfcmVnaXN0cmFyLm1vZHVsZXMudHJhbnNsYXRpb24uc2VhbWxlc3Muc3JjLnNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLnRyYW5zbGF0b3IgaW1wb3J0IFRyYW5zbGF0b3IsIE1vZGFsaXR5CmZyb20gbW9kdWxlX3JlZ2lzdHJhci5tb2R1bGVzLnRyYW5zbGF0aW9uLmRhdGFfbW9kZWxzIGltcG9ydCBUQVJSR0VUX0xBTkdVQUdFUywgVEFTS19TVFJJTkdTCgoKY2xhc3MgU2VhbWxlc3NUcmFuc2xhdG9yOgogICAgIiIiQSBjbGFzcyBmb3IgcGVyZm9ybWluZyB0cmFuc2xhdGlvbiB0YXNrcyB1c2luZyBhIHNwZWNpZmllZCBtb2RlbCBhbmQgdm9jb2Rlci4KCiAgICBBdHRyaWJ1dGVzOgogICAgICAgIG1vZGVsX25hbWUgKHN0cik6IFRoZSBuYW1lIG9mIHRoZSB0cmFuc2xhdGlvbiBtb2RlbC4KICAgICAgICB2b2NvZGVyX25hbWUgKHN0cik6IFRoZSBuYW1lIG9mIHRoZSB2b2NvZGVyLgogICAgICAgIHRyYW5zbGF0b3IgKFRyYW5zbGF0b3IpOiBUaGUgdHJhbnNsYXRvciBvYmplY3QuCiAgICAgICAgdGFyZ2V0X2xhbmd1YWdlcyAoRGljdFtzdHIsIHN0cl0pOiBBIGRpY3Rpb25hcnkgbWFwcGluZyBsYW5ndWFnZSBuYW1lcyB0byBsYW5ndWFnZSBjb2Rlcy4KICAgICAgICB0YXNrX3N0cmluZ3MgKERpY3Rbc3RyLCBzdHJdKTogQSBkaWN0aW9uYXJ5IG1hcHBpbmcgdGFzayBzdHJpbmdzIHRvIGFiYnJldmlhdGlvbnMuCgogICAgQXJnczoKICAgICAgICBpbl9maWxlIChVbmlvbltzdHIsIFBhdGhdKTogVGhlIGlucHV0IGZpbGUgZm9yIHRyYW5zbGF0aW9uLgogICAgICAgIHRhc2tfc3RyaW5nIChzdHIpOiBUaGUgdHlwZSBvZiB0cmFuc2xhdGlvbiB0YXNrLgogICAgICAgIHRhcmdldF9sYW5ndWFnZXMgKExpc3Rbc3RyXSk6IFRoZSB0YXJnZXQgbGFuZ3VhZ2VzIGZvciB0cmFuc2xhdGlvbi4KCiAgICBSZXR1cm5zOgogICAgICAgIFR1cGxlW1BhdGgsIFBhdGhdIHwgTm9uZTogQSB0dXBsZSBjb250YWluaW5nIHRoZSBwYXRocyB0byB0aGUgdHJhbnNsYXRlZCB0ZXh0IGFuZCBhdWRpbyBmaWxlcywgb3IgTm9uZSBpZiB0cmFuc2xhdGlvbiBmYWlscy4KICAgICIiIgoKICAgIG1vZGVsX25hbWU6IHN0cgogICAgdm9jb2Rlcl9uYW1lOiBzdHIKICAgIHRyYW5zbGF0b3I6IFRyYW5zbGF0b3IKICAgIHRhcmdldF9sYW5ndWFnZXM6IERpY3Rbc3RyLCBzdHJdCiAgICB0YXNrX3N0cmluZ3M6IERpY3Rbc3RyLCBzdHJdCgogICAgZGVmIF9faW5pdF9fKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgSW5pdGlhbGl6ZXMgdGhlIFNlYW1sZXNzVHJhbnNsYXRvciBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIG1vZGVsIGFuZCB2b2NvZGVyIG5hbWVzLAogICAgICAgIGFuZCBjcmVhdGVzIGEgdHJhbnNsYXRvciBvYmplY3QgdXNpbmcgdGhlIHNwZWNpZmllZCBtb2RlbCBhbmQgdm9jb2Rlci4gVGhlIHRyYW5zbGF0b3IKICAgICAgICBvYmplY3QgaXMgY3JlYXRlZCB3aXRoIHRoZSBkZXZpY2Ugc2V0IHRvICJjdWRhOjAiIGFuZCB0aGUgZGF0YSB0eXBlIHNldCB0byAidG9yY2guZmxvYXQxNiIuCiAgICAgICAgVGhlIHRhcmdldF9sYW5ndWFnZXMgZGljdGlvbmFyeSBtYXBzIGxhbmd1YWdlIG5hbWVzIHRvIGxhbmd1YWdlIGNvZGVzLCBhbmQgdGhlIHRhc2tfc3RyaW5ncwogICAgICAgIGRpY3Rpb25hcnkgbWFwcyB0YXNrIHN0cmluZ3MgdG8gYWJicmV2aWF0aW9ucy4KICAgICAgICAiIiIKICAgICAgICBzZWxmLm1vZGVsX25hbWUgPSAic2VhbWxlc3NNNFRfdjJfbGFyZ2UiCiAgICAgICAgc2VsZi52b2NvZGVyX25hbWUgPSAoCiAgICAgICAgICAgICJ2b2NvZGVyX3YyIgogICAgICAgICAgICBpZiBzZWxmLm1vZGVsX25hbWUgPT0gInNlYW1sZXNzTTRUX3YyX2xhcmdlIgogICAgICAgICAgICBlbHNlICJ2b2NvZGVyXzM2bGFuZ3MiCiAgICAgICAgKQoKICAgICAgICBzZWxmLnRyYW5zbGF0b3IgPSBUcmFuc2xhdG9yKAogICAgICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQ9c2VsZi5tb2RlbF9uYW1lLAogICAgICAgICAgICB2b2NvZGVyX25hbWVfb3JfY2FyZD1zZWxmLnZvY29kZXJfbmFtZSwKICAgICAgICAgICAgZGV2aWNlPXRvcmNoLmRldmljZShkZXZpY2U9ImN1ZGE6MCIpLAogICAgICAgICAgICBkdHlwZT10b3JjaC5mbG9hdDE2LAogICAgICAgICkKICAgICAgICAKCiAgICBkZWYgdHJhbnNsYXRpb25faW5mZXJlbmNlKAogICAgICAgIHNlbGYsCiAgICAgICAgaW5fZmlsZTogVW5pb25bc3RyLCBQYXRoXSwKICAgICAgICB0YXNrX3N0cmluZzogc3RyID0gInMyc3QiLAogICAgICAgIHRhcmdldF9sYW5ndWFnZXM6IExpc3Rbc3RyXSA9IFsiZW5nIl0sCiAgICApIC0+IFR1cGxlW1BhdGgsIFBhdGhdIHwgTm9uZToKICAgICAgICAiIiIKICAgICAgICBQZXJmb3JtIHRyYW5zbGF0aW9uIGluZmVyZW5jZSBvbiB0aGUgZ2l2ZW4gaW5wdXQgZmlsZS4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgaW5fZmlsZSAoVW5pb25bc3RyLCBQYXRoXSk6IFRoZSBwYXRoIHRvIHRoZSBpbnB1dCBmaWxlLgogICAgICAgICAgICB0YXNrX3N0cmluZyAoc3RyLCBvcHRpb25hbCk6IFRoZSB0YXNrIHN0cmluZy4gRGVmYXVsdHMgdG8gInMyc3QiLgogICAgICAgICAgICB0YXJnZXRfbGFuZ3VhZ2VzIChMaXN0W3N0cl0sIG9wdGlvbmFsKTogVGhlIGxpc3Qgb2YgdGFyZ2V0IGxhbmd1YWdlcy4gRGVmYXVsdHMgdG8gWyJlbmciXS4KCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgVHVwbGVbUGF0aCwgUGF0aF0gfCBOb25lOiBBIHR1cGxlIGNvbnRhaW5pbmcgdGhlIGFic29sdXRlIHBhdGhzIHRvIHRoZSBvdXRwdXQgdGV4dCBmaWxlIGFuZCBvdXRwdXQgYXVkaW8gZmlsZSwgb3IgTm9uZSBpZiB0aGUgaW5wdXQgZmlsZSBpcyBub3QgZm91bmQuCgogICAgICAgIFJhaXNlczoKICAgICAgICAgICAgRmlsZU5vdEZvdW5kRXJyb3I6IElmIHRoZSBpbnB1dCBmaWxlIGlzIG5vdCBmb3VuZC4KICAgICAgICAgICAgVmFsdWVFcnJvcjogSWYgdGhlIHRhc2sgc3RyaW5nIG9yIHRhcmdldCBsYW5ndWFnZSBpcyBpbnZhbGlkLgoKICAgICAgICAiIiIKCiAgICAgICAgaWYgbm90IFBhdGgoaW5fZmlsZSkuZXhpc3RzKCk6CiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmIkZpbGUge2luX2ZpbGV9IG5vdCBmb3VuZCIpCiAgICAgICAgICAgIHJhaXNlIEZpbGVOb3RGb3VuZEVycm9yKGYiRmlsZSB7aW5fZmlsZX0gbm90IGZvdW5kIikKCiAgICAgICAgaW5wdXRfZmlsZSA9IFBhdGgoaW5fZmlsZSkKICAgICAgICBvdXRwdXRfdGV4dCA9IFBhdGgoZiJtb2RlbC9vdXRwdXQve2lucHV0X2ZpbGUuc3RlbX0udHh0IikKICAgICAgICBvdXRwdXRfYXVkaW8gPSBQYXRoKGYibW9kZWwvb3V0cHV0L3tpbnB1dF9maWxlLnN0ZW19LndhdiIpCgogICAgICAgIHRhc2tfc3RyOiBzdHIgPSBzZWxmLnRhc2tfc3RyaW5nc1t0YXNrX3N0cmluZ10KICAgICAgICBpZiBub3QgdGFza19zdHI6CiAgICAgICAgICAgIGxvZ2dlci5lcnJvcigiSW52YWxpZCB0YXNrIHN0cmluZyIpCiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkludmFsaWQgdGFzayBzdHJpbmciKQoKICAgICAgICBmb3IgdGd0X2xhbmcgaW4gdGFyZ2V0X2xhbmd1YWdlczoKCiAgICAgICAgICAgIHRndF9sYW5nOiBzdHIgPSBzZWxmLnRhcmdldF9sYW5ndWFnZXNbdGd0X2xhbmddCiAgICAgICAgICAgIGlmIG5vdCB0Z3RfbGFuZzoKICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcigiSW52YWxpZCB0YXJnZXQgbGFuZ3VhZ2UiKQogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiSW52YWxpZCB0YXJnZXQgbGFuZ3VhZ2UiKQoKICAgICAgICAgICAgdGV4dF9vdXRwdXQsIHNwZWVjaF9vdXRwdXQgPSBzZWxmLnRyYW5zbGF0b3IucHJlZGljdCgKICAgICAgICAgICAgICAgIGlucHV0PXN0cihvYmplY3Q9aW5fZmlsZSksCiAgICAgICAgICAgICAgICB0YXNrX3N0cj10YXNrX3N0ciwKICAgICAgICAgICAgICAgIHRndF9sYW5nPXRndF9sYW5nLAogICAgICAgICAgICApCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiVHJhbnNsYXRlZCB0ZXh0IGluIHt0Z3RfbGFuZ306IHt0ZXh0X291dHB1dFswXX0iKQoKICAgICAgICAgICAgaWYgc3BlZWNoX291dHB1dDoKICAgICAgICAgICAgICAgIHRvcmNoYXVkaW8uc2F2ZSgKICAgICAgICAgICAgICAgICAgICB1cmk9b3V0cHV0X2F1ZGlvLAogICAgICAgICAgICAgICAgICAgIHNyYz1zcGVlY2hfb3V0cHV0LmF1ZGlvX3dhdnNbMF1bMF0udG8odG9yY2guZmxvYXQzMikuY3B1KCksCiAgICAgICAgICAgICAgICAgICAgc2FtcGxlX3JhdGU9c3BlZWNoX291dHB1dC5zYW1wbGVfcmF0ZSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgaWYgdGV4dF9vdXRwdXQ6CiAgICAgICAgICAgICAgICBvdXRwdXRfdGV4dC53cml0ZV90ZXh0KAogICAgICAgICAgICAgICAgICAgIGRhdGE9c3RyKG9iamVjdD10ZXh0X291dHB1dFswXSksIGVuY29kaW5nPSJ1dGYtOCIKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCJUcmFuc2xhdGVkIHRhcmdldCBmaWxlIikKCiAgICAgICAgICAgIHJldHVybiBvdXRwdXRfdGV4dC5hYnNvbHV0ZSgpLCBvdXRwdXRfYXVkaW8uYWJzb2x1dGUoKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICB0cmFuc2xhdG9yID0gVHJhbnNsYXRvcigKICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQ9InNlYW1sZXNzTTRUX1YyX2xhcmdlIiwKICAgICAgICB2b2NvZGVyX25hbWVfb3JfY2FyZD0idm9jb2Rlcl8zNmxhbmdzIiwKICAgICAgICBkZXZpY2U9InRvcmNoLmRldmljZShkZXZpY2U9J2N1ZGE6MCcpIiwKICAgICAgICB0ZXh0X3Rva2VuaXplcj0ic2VudGVuY2VwaWVjZSIsCiAgICAgICAgYXBwbHlfbWludG94PUZhbHNlLAogICAgICAgIGR0eXBlPXRvcmNoLmZsb2F0MTYsCiAgICAgICAgaW5wdXRfbW9kYWxpdHk9InRleHQiLAogICAgICAgIG91dHB1dF9tb2RhbGl0eT0idGV4dCIsCiAgICApLnRyYW5zbGF0b3IudHJhbnNsYXRpb25faW5mZXJlbmNlKGluX2ZpbGU9Im1vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy90cmFuc2xhdGlvbi9pbi90ZXN0LndhdiIpCiAgICA='),
    ('__init__.py', ''),
    ('data_models.py', 'ZnJvbSBweWRhbnRpYyBpbXBvcnQgQmFzZU1vZGVsCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBVbmlvbiwgT3B0aW9uYWwsIEFueQpmcm9tIG1vZHVsZV9yZWdpc3RyYXIuZGF0YV9tb2RlbHMgaW1wb3J0IE1pbmVyUmVxdWVzdApmcm9tIG1vZHVsZV9yZWdpc3RyYXIubW9kdWxlcy50cmFuc2xhdGlvbi50cmFuc2xhdGlvbiBpbXBvcnQgTW9kYWxpdHkKCmltcG9ydCB0b3JjaAoKZnJvbSBlbnVtIGltcG9ydCBFbnVtCgoKY2xhc3MgVEFTS19TVFJJTkdTKEVudW0pOgogICAgc3BlZWNoMnRleHQgPSAiczJ0dCIKICAgIHNwZWVjaDJzcGVlY2ggPSAiczJzdCIKICAgIGF1dG9fc3BlZWNoX3JlY29nbml0aW9uID0gImFzciIKICAgIHRleHQyc3BlZWNoID0gInQyc3QiCiAgICB0ZXh0MnRleHQgPSAidDJ0dCIKCgpjbGFzcyBUQVJSR0VUX0xBTkdVQUdFUyhFbnVtKToKICAgIEFmcmlrYWFucyA9ICJhZiIKICAgIEFtaGFyaWMgPSAiYW0iCiAgICBBcmFiaWMgPSAiYXIiCiAgICBBc3R1cmlhbiA9ICJhc3QiCiAgICBBemVyYmFpamFuaSA9ICJheiIKICAgIEJhc2hraXIgPSAiYmEiCiAgICBCZWxhcnVzaWFuID0gImJlIgogICAgQnVsZ2FyaWFuID0gImJnIgogICAgQmVuZ2FsaSA9ICJibiIKICAgIEJyZXRvbiA9ICJiciIKICAgIEJvc25pYW4gPSAiYnMiCiAgICBDYXRhbGFuVmFsZW5jaWEgPSAiY2EiCiAgICBDZWJ1YW5vID0gImNlYiIKICAgIEN6ZWNoID0gImNzIgogICAgV2Vsc2ggPSAiY3kiCiAgICBEYW5pc2ggPSAiZGEiCiAgICBHZXJtYW4gPSAiZGUiCiAgICBHcmVlZWsgPSAiZWwiCiAgICBFbmdsaXNoID0gImVuIgogICAgU3BhbmlzaCA9ICJlcyIKICAgIEVzdG9uaWFuID0gImV0IgogICAgUGVyc2lhbiA9ICJmYSIKICAgIEZ1bGFoID0gImZmIgogICAgRmlubmlzaCA9ICJmaSIKICAgIEZyZW5jaCA9ICJmciIKICAgIFdlc3Rlcm5GcmlzaWEgPSAiZnkiCiAgICBJcmlzaCA9ICJnYSIKICAgIEdhZWxpY19TY290dGlzaCA9ICJnZCIKICAgIEdhbGljaWFuID0gImdsIgogICAgR3VqYXJhdGkgPSAiZ3UiCiAgICBIYXVzYSA9ICJoYSIKICAgIEhlYnJldyA9ICJoZSIKICAgIEhpbmRpID0gImhpIgogICAgQ3JvYXRpYW4gPSAiaHIiCiAgICBIYWl0aWFuX0NyZW9sZSA9ICJodCIKICAgIEh1bmdhcmlhbiA9ICJodSIKICAgIEFybWVuaWFuID0gImh5IgogICAgSW5kb25lc2lhbiA9ICJpZCIKICAgIElnYm8gPSAiaWciCiAgICBJbG9rbyA9ICJpbG8iCiAgICBJY2VsYW5kaWMgPSAiaXMiCiAgICBJdGFsaWFuID0gIml0IgogICAgSmFwYW5lc2UgPSAiamEiCiAgICBKYXZhbmVzZSA9ICJqdiIKICAgIEdlb3JnaWFuID0gImthIgogICAgS2F6YWtoID0gImtrIgogICAgQ2VudHJhbEtobWUgPSAia20iCiAgICBLYW5uYWRhID0gImtuIgogICAgS29yZWFuID0gImtvIgogICAgTHV4ZW1ib3VyZ2lzaCA9ICJsYiIKICAgIEdhbmRhID0gImxnIgogICAgTGluZ2FsYSA9ICJsbiIKICAgIExhbyA9ICJsbyIKICAgIExpdGh1YW5pYW4gPSAibHQiCiAgICBMYXR2aWFuID0gImx2IgogICAgTWFsYWdhc3kgPSAibWciCiAgICBNYWNlZG9uaWFuID0gIm1rIgogICAgTWFsYXlhbGFtID0gIm1sIgogICAgTW9uZ29saWFuID0gIm1uIgogICAgTWFyYXRoaSA9ICJtciIKICAgIE1hbGF5ID0gIm1zIgogICAgQnVybWVzZSA9ICJteSIKICAgIE5lcGFsaSA9ICJuZSIKICAgIER1dGNoX0ZsZW1pc2ggPSAibmwiCiAgICBOb3J3ZWdpYW4gPSAibm8iCiAgICBOb3J0aGVyblNvdGggPSAibnMiCiAgICBPY2NpdGFuID0gIm9jIgogICAgT3JpeWEgPSAib3IiCiAgICBQYW5qYWJpID0gInBhIgogICAgUG9saXNoID0gInBsIgogICAgUHVzaHRvID0gInBzIgogICAgUG9ydHVndWVzZSA9ICJwdCIKICAgIFJvbWFuaWFuID0gInJvIgogICAgUnVzc2lhbiA9ICJydSIKICAgIFNpbmRoaSA9ICJzZCIKICAgIFNpbmhhbGEgPSAic2kiCiAgICBTbG92YWsgPSAic2siCiAgICBTbG92ZW5pYW4gPSAic2wiCiAgICBTb21hbGkgPSAic28iCiAgICBBbGJhbmlhbiA9ICJzcSIKICAgIFNlcmJpYW4gPSAic3IiCiAgICBTd2F0aSA9ICJzcyIKICAgIFN1bmRhbmVzZSA9ICJzdSIKICAgIFN3ZWRpc2ggPSAic3YiCiAgICBTd2FoaWxpID0gInN3IgogICAgVGFtaWwgPSAidGEiCiAgICBUaGFpID0gInRoIgogICAgVGFnYWxvZyA9ICJ0bCIKICAgIFRzd2FuYSA9ICJ0biIKICAgIFR1cmtpc2ggPSAidHIiCiAgICBVa3JhaW5pYW4gPSAidWsiCiAgICBVcmR1ID0gInVyIgogICAgVXpiZWsgPSAidXoiCiAgICBWaWV0bmFtZXNlID0gInZpIgogICAgV29sb2YgPSAid28iCiAgICBYaG9zYSA9ICJ4aCIKICAgIFlpZGRpc2ggPSAieWkiCiAgICBZb3J1YmEgPSAieW8iCiAgICBDaGluZXNlID0gInpoIgogICAgWnVsdSA9ICJ6dSIKICAgIAoKY2xhc3MgTW9kdWxlQ29uZmlnKEJhc2VNb2RlbCk6CiAgICBtb2RlbF9uYW1lX29yX2NhcmQ6IFVuaW9uW3N0ciwgQW55XSA9ICJzZWFtbGVzc000VF9WMl9sYXJnZSIKICAgIHZvY29kZXJfbmFtZTogc3RyID0gInZvY29kZXJfdjIiIGlmIG1vZGVsX25hbWVfb3JfY2FyZCA9PSAic2VhbWxlc3NNNFRfVjJfbGFyZ2UiIGVsc2UgInZvY29kZXJfMzZsYW5ncyIKICAgIGRldmljZTogdG9yY2guZGV2aWNlID0gdG9yY2guZGV2aWNlKGRldmljZT0iY3VkYTowIikKICAgIHRleHRfdG9rZW5pemVyOiBzdHIgPSBtb2RlbF9uYW1lX29yX2NhcmQKICAgIGFwcGx5X21pbnRveDogYm9vbCA9IFRydWUsCiAgICBkdHlwZTogVW5pb25bdG9yY2guZmxvYXQxNiwgdG9yY2guZmxvYXQzMl0gPSB0b3JjaC5mbG9hdDE2LAogICAgaW5wdXRfbW9kYWxpdHk6IE9wdGlvbmFsW01vZGFsaXR5XSA9IE5vbmUsCiAgICBvdXRwdXRfbW9kYWxpdHk6IE9wdGlvbmFsW01vZGFsaXR5XSA9IE5vbmUKCgpjbGFzcyBSZXF1ZXN0RGF0YShCYXNlTW9kZWwpOgogICAgaW5wdXQ6IHN0cgogICAgdGFza19zdHJpbmc6IHN0cgogICAgdGFyZ2V0X2xhbmd1YWdlOiBzdHIKICAgIAoKY2xhc3MgVHJhbnNsYXRpb25SZXF1ZXN0KE1pbmVyUmVxdWVzdCk6CiAgICByZXF1ZXN0X2RhdGE6IFJlcXVlc3REYXRhCiAgICBpbmZlcmVuY2VfdHlwZTogc3RyID0gInRyYW5zbGF0aW9uIgoKCg=='),
    ('install_seamless.py', 'aW1wb3J0IG9zCmltcG9ydCBzdWJwcm9jZXNzCgoKCg=='),
    ('install_translation.sh', 'IyFiaW4vYmFzaAoKc2V0IC1lCgpzb3VyY2UgLi8udmVudi9iaW4vYWN0aXZhdGUKCnB5dGhvbiAtbSBwaXAgaW5zdGFsbCAtLXVwZ3JhZGUgcGlwCgpwaXAgaW5zdGFsbCBzZXR1cHRvb2xzIHdoZWVsIGdudXJlYWRsaW5lCnBpcCBpbnN0YWxsIHNuZGZpbGUgZ2dtbC1weXRob24KCnN1ZG8gYXB0LWdldCBsaWJzbmRmaWxlMS1kZXYKCmdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2tyZXNlYXJjaC9zZWFtbGVzc19jb21tdW5pY2F0aW9uLmdpdCAuL21vZHVsZV9yZWdpc3RyYXIvbW9kdWxlcy90cmFuc2xhdGlvbi9zZWFtbGVzcwoKcGlwIGluc3RhbGwgLi9tb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvdHJhbnNsYXRpb24vc2VhbWxlc3MKCnBpcCBpbnN0YWxsIGdpdCtodHRwczovL2dpdGh1Yi5jb20vaHVnZ2luZ2ZhY2UvdHJhbnNmb3JtZXJzIHRvcmNoIHRvcmNoYXVkaW8gdG9yY2h2aXNpb24gZmFpcnNlcTIKCm1rZGlyIC1wIC9tb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvdHJhbnNsYXRpb24vaW4KCm1rZGlyIC1wIC9tb2R1bGVfcmVnaXN0cmFyL21vZHVsZXMvdHJhbnNsYXRpb24vb3V0Cgo='),
    ('seamless/setup.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2V0dXB0b29scyBpbXBvcnQgZmluZF9wYWNrYWdlcywgc2V0dXAKCnNldHVwKAogICAgbmFtZT0ic2VhbWxlc3NfY29tbXVuaWNhdGlvbiIsCiAgICB2ZXJzaW9uPSIxLjAuMCIsCiAgICBwYWNrYWdlcz1maW5kX3BhY2thZ2VzKHdoZXJlPSJzcmMiKSwKICAgIHBhY2thZ2VfZGlyPXsiIjogInNyYyJ9LAogICAgcGFja2FnZV9kYXRhPXsiIjogWyJweS50eXBlZCIsICJjYXJkcy8qLnlhbWwiXX0sCiAgICBkZXNjcmlwdGlvbj0iU2VhbWxlc3NNNFQgLS0gTWFzc2l2ZWx5IE11bHRpbGluZ3VhbCAmIE11bHRpbW9kYWwgTWFjaGluZSBUcmFuc2xhdGlvbiBNb2RlbCIsCiAgICBsb25nX2Rlc2NyaXB0aW9uPW9wZW4oIlJFQURNRS5tZCIsIGVuY29kaW5nPSJ1dGYtOCIpLnJlYWQoKSwKICAgIGxvbmdfZGVzY3JpcHRpb25fY29udGVudF90eXBlPSJ0ZXh0L21hcmtkb3duIiwKICAgIHJlYWRtZT0iUkVBRE1FLm1kIiwKICAgIHB5dGhvbl9yZXF1aXJlcz0iPj0zLjgiLAogICAgYXV0aG9yPSJGdW5kYW1lbnRhbCBBSSBSZXNlYXJjaCAoRkFJUikgYXQgTWV0YSIsCiAgICB1cmw9Imh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9va3Jlc2VhcmNoL3NlYW1sZXNzX2NvbW11bmljYXRpb24iLAogICAgbGljZW5zZT0iQ3JlYXRpdmUgQ29tbW9ucyIsCiAgICBpbnN0YWxsX3JlcXVpcmVzPVsKICAgICAgICAiZGF0YXNldHM9PTIuMTguMCIsCiAgICAgICAgImZhaXJzZXEyPT0wLjIuKiIsCiAgICAgICAgImZpcmUiLAogICAgICAgICJsaWJyb3NhIiwKICAgICAgICAib3BlbmFpLXdoaXNwZXIiLAogICAgICAgICJzaW11bGV2YWx+PTEuMS4zIiwKICAgICAgICAic29uYXItc3BhY2U9PTAuMi4qIiwKICAgICAgICAic291bmRmaWxlIiwKICAgICAgICAic2NpcHkiLAogICAgICAgICJ0b3JjaGF1ZGlvIiwKICAgICAgICAidHFkbSIsCiAgICBdLAogICAgZW50cnlfcG9pbnRzPXsKICAgICAgICAiY29uc29sZV9zY3JpcHRzIjogWwogICAgICAgICAgICAibTR0X2V2YWx1YXRlPXNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5ldmFsdWF0ZS5ldmFsdWF0ZTptYWluIiwKICAgICAgICAgICAgIm00dF9wcmVkaWN0PXNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5wcmVkaWN0LnByZWRpY3Q6bWFpbiIsCiAgICAgICAgICAgICJtNHRfZmluZXR1bmU9c2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkubTR0LmZpbmV0dW5lLmZpbmV0dW5lOm1haW4iLAogICAgICAgICAgICAibTR0X3ByZXBhcmVfZGF0YXNldD1zZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5tNHQuZmluZXR1bmUuZGF0YXNldDptYWluIiwKICAgICAgICAgICAgIm00dF9hdWRpb190b191bml0cz1zZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5tNHQuYXVkaW9fdG9fdW5pdHMuYXVkaW9fdG9fdW5pdHM6bWFpbiIsCiAgICAgICAgICAgICJleHByZXNzaXZpdHlfZXZhbHVhdGU9c2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXhwcmVzc2l2aXR5LmV2YWx1YXRlLmV2YWx1YXRlOm1haW4iLAogICAgICAgICAgICAiZXhwcmVzc2l2aXR5X3ByZWRpY3Q9c2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXhwcmVzc2l2aXR5LnByZWRpY3QucHJlZGljdDptYWluIiwKICAgICAgICAgICAgInN0cmVhbWluZ19ldmFsdWF0ZT1zZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5zdHJlYW1pbmcuZXZhbHVhdGU6bWFpbiIsCiAgICAgICAgXSwKICAgIH0sCiAgICBpbmNsdWRlX3BhY2thZ2VfZGF0YT1UcnVlLAopCg=='),
    ('seamless/tests/conftest.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCB0ZW1wZmlsZQpmcm9tIGFyZ3BhcnNlIGltcG9ydCBBcmd1bWVudFR5cGVFcnJvcgpmcm9tIHR5cGluZyBpbXBvcnQgY2FzdApmcm9tIHVybGxpYi5yZXF1ZXN0IGltcG9ydCB1cmxyZXRyaWV2ZQoKaW1wb3J0IHB5dGVzdAppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5kYXRhLmF1ZGlvIGltcG9ydCBBdWRpb0RlY29kZXIsIEF1ZGlvRGVjb2Rlck91dHB1dApmcm9tIGZhaXJzZXEyLm1lbW9yeSBpbXBvcnQgTWVtb3J5QmxvY2sKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERldmljZQoKaW1wb3J0IHRlc3RzLmNvbW1vbgoKCmRlZiBwYXJzZV9kZXZpY2VfYXJnKHZhbHVlOiBzdHIpIC0+IERldmljZToKICAgIHRyeToKICAgICAgICByZXR1cm4gRGV2aWNlKHZhbHVlKQogICAgZXhjZXB0IFJ1bnRpbWVFcnJvcjoKICAgICAgICByYWlzZSBBcmd1bWVudFR5cGVFcnJvcihmIid7dmFsdWV9JyBpcyBub3QgYSB2YWxpZCBkZXZpY2UgbmFtZS4iKQoKCmRlZiBweXRlc3RfYWRkb3B0aW9uKHBhcnNlcjogcHl0ZXN0LlBhcnNlcikgLT4gTm9uZToKICAgICMgZm10OiBvZmYKICAgIHBhcnNlci5hZGRvcHRpb24oCiAgICAgICAgIi0tZGV2aWNlIiwgZGVmYXVsdD0iY3B1IiwgdHlwZT1wYXJzZV9kZXZpY2VfYXJnLAogICAgICAgIGhlbHA9ImRldmljZSBvbiB3aGljaCB0byBydW4gdGVzdHMgKGRlZmF1bHQ6ICUoZGVmYXVsdClzKSIsCiAgICApCiAgICAjIGZtdDogb24KCgpkZWYgcHl0ZXN0X3Nlc3Npb25zdGFydChzZXNzaW9uOiBweXRlc3QuU2Vzc2lvbikgLT4gTm9uZToKICAgIHRlc3RzLmNvbW1vbi5kZXZpY2UgPSBjYXN0KERldmljZSwgc2Vzc2lvbi5jb25maWcuZ2V0b3B0aW9uKCJkZXZpY2UiKSkKCgpAcHl0ZXN0LmZpeHR1cmUoc2NvcGU9Im1vZHVsZSIpCmRlZiBleGFtcGxlX3JhdGUxNmtfYXVkaW8oKSAtPiBBdWRpb0RlY29kZXJPdXRwdXQ6CiAgICB1cmwgPSAiaHR0cHM6Ly9kbC5mYmFpcHVibGljZmlsZXMuY29tL3NlYW1sZXNzTTRUL0xKMDM3LTAxNzFfc3IxNmsud2F2IgoKICAgIGF1ZGlvX2RlY29kZXIgPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPXRlc3RzLmNvbW1vbi5kZXZpY2UpCgogICAgd2l0aCB0ZW1wZmlsZS5OYW1lZFRlbXBvcmFyeUZpbGUoKSBhcyBmOgogICAgICAgIHVybHJldHJpZXZlKHVybCwgZi5uYW1lKQogICAgICAgIHdpdGggb3BlbihmLm5hbWUsICJyYiIpIGFzIGZiOgogICAgICAgICAgICBibG9jayA9IE1lbW9yeUJsb2NrKGZiLnJlYWQoKSkKICAgICAgICBkZWNvZGVkX2F1ZGlvID0gYXVkaW9fZGVjb2RlcihibG9jaykKCiAgICByZXR1cm4gZGVjb2RlZF9hdWRpbwo='),
    ('seamless/tests/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBweXRlc3QKCnB5dGVzdC5yZWdpc3Rlcl9hc3NlcnRfcmV3cml0ZSgidGVzdHMuY29tbW9uIikK'),
    ('seamless/tests/common.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gY29udGV4dGxpYiBpbXBvcnQgY29udGV4dG1hbmFnZXIKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgR2VuZXJhdG9yLCBMaXN0LCBPcHRpb25hbCwgVW5pb24KCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IENvbGxhdGVyCmZyb20gZmFpcnNlcTIuZGF0YS5hdWRpbyBpbXBvcnQgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyLCBXYXZlZm9ybVRvRmJhbmtJbnB1dApmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKCiMgVGhlIGRlZmF1bHQgZGV2aWNlIHRoYXQgdGVzdHMgc2hvdWxkIHVzZS4gTm90ZSB0aGF0IHB5dGVzdCBjYW4gY2hhbmdlIGl0IGJhc2VkCiMgb24gdGhlIHByb3ZpZGVkIGNvbW1hbmQgbGluZSBhcmd1bWVudHMuCmRldmljZSA9IERldmljZSgiY3B1IikKCgpkZWYgYXNzZXJ0X2Nsb3NlKAogICAgYTogVGVuc29yLAogICAgYjogVW5pb25bVGVuc29yLCBMaXN0W0FueV1dLAogICAgcnRvbDogT3B0aW9uYWxbZmxvYXRdID0gTm9uZSwKICAgIGF0b2w6IE9wdGlvbmFsW2Zsb2F0XSA9IE5vbmUsCikgLT4gTm9uZToKICAgICIiIkFzc2VydCB0aGF0IGBgYWBgIGFuZCBgYGJgYCBhcmUgZWxlbWVudC13aXNlIGVxdWFsIHdpdGhpbiBhIHRvbGVyYW5jZS4iIiIKICAgIGlmIG5vdCBpc2luc3RhbmNlKGIsIFRlbnNvcik6CiAgICAgICAgYiA9IHRvcmNoLnRlbnNvcihiLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1hLmR0eXBlKQoKICAgIHRvcmNoLnRlc3RpbmcuYXNzZXJ0X2Nsb3NlKGEsIGIsIHJ0b2w9cnRvbCwgYXRvbD1hdG9sKSAgIyB0eXBlOiBpZ25vcmVbYXR0ci1kZWZpbmVkXQoKCmRlZiBhc3NlcnRfZXF1YWwoYTogVGVuc29yLCBiOiBVbmlvbltUZW5zb3IsIExpc3RbQW55XV0pIC0+IE5vbmU6CiAgICAiIiJBc3NlcnQgdGhhdCBgYGFgYCBhbmQgYGBiYGAgYXJlIGVsZW1lbnQtd2lzZSBlcXVhbC4iIiIKICAgIGlmIG5vdCBpc2luc3RhbmNlKGIsIFRlbnNvcik6CiAgICAgICAgYiA9IHRvcmNoLnRlbnNvcihiLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1hLmR0eXBlKQoKICAgIHRvcmNoLnRlc3RpbmcuYXNzZXJ0X2Nsb3NlKGEsIGIsIHJ0b2w9MCwgYXRvbD0wKSAgIyB0eXBlOiBpZ25vcmVbYXR0ci1kZWZpbmVkXQoKCmRlZiBhc3NlcnRfdW5pdF9jbG9zZSgKICAgIGE6IFRlbnNvciwKICAgIGI6IFVuaW9uW1RlbnNvciwgTGlzdFtBbnldXSwKICAgIG51bV91bml0X3RvbDogaW50ID0gMSwKICAgIHBlcmNlbnRfdW5pdF90b2w6IGZsb2F0ID0gMC4wLAopIC0+IE5vbmU6CiAgICAiIiJBc3NlcnQgdHdvIHVuaXQgc2VxdWVuY2UgYXJlIGVxdWFsIHdpdGhpbiBhIHRvbGVyYW5jZSIiIgogICAgaWYgbm90IGlzaW5zdGFuY2UoYiwgVGVuc29yKToKICAgICAgICBiID0gdG9yY2gudGVuc29yKGIsIGRldmljZT1kZXZpY2UsIGR0eXBlPWEuZHR5cGUpCgogICAgYXNzZXJ0ICgKICAgICAgICBhLnNoYXBlID09IGIuc2hhcGUKICAgICksIGYiVHdvIHNoYXBlcyBhcmUgZGlmZmVyZW50LCBvbmUgaXMge2Euc2hhcGV9LCB0aGUgb3RoZXIgaXMge2Iuc2hhcGV9IgoKICAgIGlmIHBlcmNlbnRfdW5pdF90b2wgPiAwLjA6CiAgICAgICAgbnVtX3VuaXRfdG9sID0gaW50KHBlcmNlbnRfdW5pdF90b2wgKiBsZW4oYSkpCgogICAgbnVtX3VuaXRfZGlmZiA9IChhICE9IGIpLnN1bSgpCiAgICBhc3NlcnQgKAogICAgICAgIG51bV91bml0X2RpZmYgPD0gbnVtX3VuaXRfdG9sCiAgICApLCBmIlRoZSBkaWZmZXJlbmNlIGlzIGJleW9uZCB0b2xlcmFuY2UsIHtudW1fdW5pdF9kaWZmfSB1bml0cyBhcmUgZGlmZmVyZW50LCB0b2xlcmFuY2UgaXMge251bV91bml0X3RvbH0iCgoKZGVmIGhhc19ub19pbmYoYTogVGVuc29yKSAtPiBib29sOgogICAgIiIiUmV0dXJuIGBgVHJ1ZWBgIGlmIGBgYWBgIGhhcyBubyBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbmZpbml0ZSBlbGVtZW50LiIiIgogICAgcmV0dXJuIG5vdCB0b3JjaC5hbnkodG9yY2guaXNpbmYoYSkpCgoKZGVmIGhhc19ub19uYW4oYTogVGVuc29yKSAtPiBib29sOgogICAgIiIiUmV0dXJuIGBgVHJ1ZWBgIGlmIGBgYWBgIGhhcyBubyBOYU4gZWxlbWVudC4iIiIKICAgIHJldHVybiBub3QgdG9yY2guYW55KHRvcmNoLmlzbmFuKGEpKQoKCkBjb250ZXh0bWFuYWdlcgpkZWYgdG1wX3JuZ19zZWVkKGRldmljZTogRGV2aWNlLCBzZWVkOiBpbnQgPSAwKSAtPiBHZW5lcmF0b3JbTm9uZSwgTm9uZSwgTm9uZV06CiAgICAiIiJTZXQgYSB0ZW1wb3JhcnkgbWFudWFsIFJORyBzZWVkLgoKICAgIFRoZSBSTkcgaXMgcmVzZXQgdG8gaXRzIG9yaWdpbmFsIHN0YXRlIG9uY2UgdGhlIGJsb2NrIGlzIGV4aXRlZC4KICAgICIiIgogICAgZGV2aWNlID0gRGV2aWNlKGRldmljZSkKCiAgICBpZiBkZXZpY2UudHlwZSA9PSAiY3VkYSI6CiAgICAgICAgZGV2aWNlcyA9IFtkZXZpY2VdCiAgICBlbHNlOgogICAgICAgIGRldmljZXMgPSBbXQoKICAgIHdpdGggdG9yY2gucmFuZG9tLmZvcmtfcm5nKGRldmljZXMpOgogICAgICAgIHRvcmNoLm1hbnVhbF9zZWVkKHNlZWQpCgogICAgICAgIHlpZWxkCgoKZGVmIGdldF9kZWZhdWx0X2R0eXBlKCkgLT4gRGF0YVR5cGU6CiAgICBpZiBkZXZpY2UgPT0gRGV2aWNlKCJjcHUiKToKICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MzIKICAgIGVsc2U6CiAgICAgICAgZHR5cGUgPSB0b3JjaC5mbG9hdDE2CiAgICByZXR1cm4gZHR5cGUKCgpkZWYgY29udmVydF90b19jb2xsYXRlZF9mYmFuayhhdWRpb19kaWN0OiBXYXZlZm9ybVRvRmJhbmtJbnB1dCwgZHR5cGU6IERhdGFUeXBlKSAtPiBBbnk6CiAgICBjb252ZXJ0X3RvX2ZiYW5rID0gV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyKAogICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICB3YXZlZm9ybV9zY2FsZT0yKioxNSwKICAgICAgICBjaGFubmVsX2xhc3Q9VHJ1ZSwKICAgICAgICBzdGFuZGFyZGl6ZT1UcnVlLAogICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICApCgogICAgY29sbGF0ZXIgPSBDb2xsYXRlcihwYWRfdmFsdWU9MSkKCiAgICBmZWF0ID0gY29sbGF0ZXIoY29udmVydF90b19mYmFuayhhdWRpb19kaWN0KSlbImZiYW5rIl0KCiAgICByZXR1cm4gZmVhdAo='),
    ('seamless/tests/integration/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/tests/integration/inference/__init__.py', ''),
    ('seamless/tests/integration/inference/test_mintox.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBkb3dubG9hZF9tYW5hZ2VyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5pbmZlcmVuY2UudHJhbnNsYXRvciBpbXBvcnQgVHJhbnNsYXRvcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24udG94aWNpdHkuZXRveF9iYWRfd29yZF9jaGVja2VyIGltcG9ydCBFVE9YQmFkV29yZENoZWNrZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5Lm1pbnRveCBpbXBvcnQgX2V4dHJhY3RfYmFkX3dvcmRzX3dpdGhfYmF0Y2hfaW5kaWNlcwpmcm9tIHRlc3RzLmNvbW1vbiBpbXBvcnQgZGV2aWNlLCBnZXRfZGVmYXVsdF9kdHlwZQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24udG94aWNpdHkgaW1wb3J0IGxvYWRfZXRveF9iYWRfd29yZF9jaGVja2VyCgppbXBvcnQgcHl0ZXN0CgoKQHB5dGVzdC5maXh0dXJlCmRlZiBiYWRfd29yZHNfY2hlY2tlcigpIC0+IEVUT1hCYWRXb3JkQ2hlY2tlcjoKICAgIHJldHVybiBsb2FkX2V0b3hfYmFkX3dvcmRfY2hlY2tlcigibWludG94IikKCgpkZWYgdGVzdF9taW50b3hfczJ0dChiYWRfd29yZHNfY2hlY2tlcjogRVRPWEJhZFdvcmRDaGVja2VyKToKICAgIG1vZGVsX25hbWUgPSAic2VhbWxlc3NNNFRfdjJfbGFyZ2UiCiAgICB2b2NvZGVyX25hbWUgPSAidm9jb2Rlcl92MiIKICAgIHNyY190ZXh0ID0gIlRoZSBzdHJhdGVneSBwcm92ZWQgZWZmZWN0aXZlLCBjdXR0aW5nIG9mZiB2aXRhbCBtaWxpdGFyeSBhbmQgY2l2aWxpYW4gc3VwcGxpZXMsIGFsdGhvdWdoIHRoaXMgYmxvY2thZGUgdmlvbGF0ZWQgZ2VuZXJhbGx5IGFjY2VwdGVkIGludGVybmF0aW9uYWwgbGF3IGNvZGlmaWVkIGJ5IHNldmVyYWwgaW50ZXJuYXRpb25hbCBhZ3JlZW1lbnRzIG9mIHRoZSBwYXN0IHR3byBjZW50dXJpZXMuIgogICAgc3JjX2xhbmcgPSAiZW5nIgogICAgdGd0X2xhbmcgPSAiZnJhIgogICAgdGFzayA9ICJzMnR0IgogICAgc2FtcGxlX3JhdGUgPSAxNl8wMDAKICAgIHRlc3Rfd2F2X3VyaSA9ICJodHRwczovL2RsLmZiYWlwdWJsaWNmaWxlcy5jb20vc2VhbWxlc3NNNFQvaW5mZXJlbmNlL21pbnRveC9taW50b3hfczJ0X3Rlc3RfZmlsZS53YXYiCgogICAgaW5wdXRfd2F2ID0gc3RyKGRvd25sb2FkX21hbmFnZXIuZG93bmxvYWRfY2hlY2twb2ludCh0ZXN0X3dhdl91cmksIHRlc3Rfd2F2X3VyaSkpCiAgICBkdHlwZSA9IGdldF9kZWZhdWx0X2R0eXBlKCkKCiAgICB0cmFuc2xhdG9yX3dpdGhvdXRfbWludG94ID0gVHJhbnNsYXRvcigKICAgICAgICBtb2RlbF9uYW1lLCB2b2NvZGVyX25hbWUsIGRldmljZSwgZHR5cGU9ZHR5cGUKICAgICkKICAgIHRyYW5zbGF0ZWRfdGV4dHMsIF8gPSB0cmFuc2xhdG9yX3dpdGhvdXRfbWludG94LnByZWRpY3QoCiAgICAgICAgaW5wdXQ9aW5wdXRfd2F2LAogICAgICAgIHRhc2tfc3RyPXRhc2ssCiAgICAgICAgdGd0X2xhbmc9dGd0X2xhbmcsCiAgICAgICAgc3JjX2xhbmc9c3JjX2xhbmcsCiAgICAgICAgc2FtcGxlX3JhdGU9c2FtcGxlX3JhdGUsCiAgICApCiAgICBhbGxfYmFkX3dvcmRzLCBiYXRjaF9pbmRpY2VzID0gX2V4dHJhY3RfYmFkX3dvcmRzX3dpdGhfYmF0Y2hfaW5kaWNlcygKICAgICAgICBbc3JjX3RleHRdLAogICAgICAgIFtzdHIodCkgZm9yIHQgaW4gdHJhbnNsYXRlZF90ZXh0c10sCiAgICAgICAgc3JjX2xhbmcsCiAgICAgICAgdGd0X2xhbmcsCiAgICAgICAgYmFkX3dvcmRzX2NoZWNrZXIsCiAgICApCiAgICBhc3NlcnQgYWxsX2JhZF93b3JkcyA9PSBbInZpb2zDqSIsICJWSU9Mw4kiLCAiVmlvbMOpIl0KICAgIGFzc2VydCBiYXRjaF9pbmRpY2VzID09IFswXQogICAgZGVsIHRyYW5zbGF0b3Jfd2l0aG91dF9taW50b3gKICAgIHRyYW5zbGF0b3Jfd2l0aF9taW50b3ggPSBUcmFuc2xhdG9yKAogICAgICAgIG1vZGVsX25hbWUsIHZvY29kZXJfbmFtZSwgZGV2aWNlLCBkdHlwZT1kdHlwZSwgYXBwbHlfbWludG94PVRydWUKICAgICkKICAgIHRyYW5zbGF0ZWRfdGV4dHMsIF8gPSB0cmFuc2xhdG9yX3dpdGhfbWludG94LnByZWRpY3QoCiAgICAgICAgaW5wdXQ9aW5wdXRfd2F2LAogICAgICAgIHRhc2tfc3RyPXRhc2ssCiAgICAgICAgdGd0X2xhbmc9dGd0X2xhbmcsCiAgICAgICAgc3JjX2xhbmc9c3JjX2xhbmcsCiAgICAgICAgc2FtcGxlX3JhdGU9c2FtcGxlX3JhdGUsCiAgICApCiAgICBhbGxfYmFkX3dvcmRzLCBiYXRjaF9pbmRpY2VzID0gX2V4dHJhY3RfYmFkX3dvcmRzX3dpdGhfYmF0Y2hfaW5kaWNlcygKICAgICAgICBbc3JjX3RleHRdLAogICAgICAgIFtzdHIodCkgZm9yIHQgaW4gdHJhbnNsYXRlZF90ZXh0c10sCiAgICAgICAgc3JjX2xhbmcsCiAgICAgICAgdGd0X2xhbmcsCiAgICAgICAgYmFkX3dvcmRzX2NoZWNrZXIsCiAgICApCiAgICBhc3NlcnQgYWxsX2JhZF93b3JkcyA9PSBbXQogICAgYXNzZXJ0IGJhdGNoX2luZGljZXMgPT0gW10KCgpkZWYgdGVzdF9taW50b3hfdDJ0dChiYWRfd29yZHNfY2hlY2tlcjogRVRPWEJhZFdvcmRDaGVja2VyKToKICAgIG1vZGVsX25hbWUgPSAic2VhbWxlc3NNNFRfdjJfbGFyZ2UiCiAgICB2b2NvZGVyX25hbWUgPSAidm9jb2Rlcl92MiIKICAgIHNyY190ZXh0ID0gIkkgd29uZGVyIHdoYXQgaXQnZCBiZSBsaWtlIHRvIGJlIGEgZG9mZiBwYXJlbnQuIgogICAgc3JjX2xhbmcgPSAiZW5nIgogICAgdGd0X2xhbmcgPSAiZnJhIgogICAgdGFzayA9ICJ0MnR0IgoKICAgIGR0eXBlID0gZ2V0X2RlZmF1bHRfZHR5cGUoKQoKICAgIHRyYW5zbGF0b3Jfd2l0aG91dF9taW50b3ggPSBUcmFuc2xhdG9yKAogICAgICAgIG1vZGVsX25hbWUsIHZvY29kZXJfbmFtZSwgZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgKQogICAgdHJhbnNsYXRlZF90ZXh0cywgXyA9IHRyYW5zbGF0b3Jfd2l0aG91dF9taW50b3gucHJlZGljdCgKICAgICAgICBpbnB1dD1zcmNfdGV4dCwKICAgICAgICB0YXNrX3N0cj10YXNrLAogICAgICAgIHRndF9sYW5nPXRndF9sYW5nLAogICAgICAgIHNyY19sYW5nPXNyY19sYW5nLAogICAgKQogICAgYWxsX2JhZF93b3JkcywgYmF0Y2hfaW5kaWNlcyA9IF9leHRyYWN0X2JhZF93b3Jkc193aXRoX2JhdGNoX2luZGljZXMoCiAgICAgICAgW3NyY190ZXh0XSwKICAgICAgICBbc3RyKHQpIGZvciB0IGluIHRyYW5zbGF0ZWRfdGV4dHNdLAogICAgICAgIHNyY19sYW5nLAogICAgICAgIHRndF9sYW5nLAogICAgICAgIGJhZF93b3Jkc19jaGVja2VyLAogICAgKQogICAgYXNzZXJ0ICgKICAgICAgICBzdHIodHJhbnNsYXRlZF90ZXh0c1swXSkKICAgICAgICA9PSAiSmUgbWUgZGVtYW5kZSDDoCBxdW9pIMOnYSByZXNzZW1ibGVyYWl0IGQnw6p0cmUgdW4gcGFyZW50IGTDqWJpbGUuIgogICAgKQogICAgYXNzZXJ0IGFsbF9iYWRfd29yZHMgPT0gWyJkw6liaWxlIiwgIkTDiUJJTEUiLCAiRMOpYmlsZSJdCiAgICBhc3NlcnQgYmF0Y2hfaW5kaWNlcyA9PSBbMF0KICAgIGRlbCB0cmFuc2xhdG9yX3dpdGhvdXRfbWludG94CiAgICB0cmFuc2xhdG9yX3dpdGhfbWludG94ID0gVHJhbnNsYXRvcigKICAgICAgICBtb2RlbF9uYW1lLCB2b2NvZGVyX25hbWUsIGRldmljZSwgZHR5cGU9ZHR5cGUsIGFwcGx5X21pbnRveD1UcnVlCiAgICApCiAgICB0cmFuc2xhdGVkX3RleHRzLCBfID0gdHJhbnNsYXRvcl93aXRoX21pbnRveC5wcmVkaWN0KAogICAgICAgIGlucHV0PXNyY190ZXh0LAogICAgICAgIHRhc2tfc3RyPXRhc2ssCiAgICAgICAgdGd0X2xhbmc9dGd0X2xhbmcsCiAgICAgICAgc3JjX2xhbmc9c3JjX2xhbmcsCiAgICApCiAgICBhbGxfYmFkX3dvcmRzLCBiYXRjaF9pbmRpY2VzID0gX2V4dHJhY3RfYmFkX3dvcmRzX3dpdGhfYmF0Y2hfaW5kaWNlcygKICAgICAgICBbc3JjX3RleHRdLAogICAgICAgIFtzdHIodCkgZm9yIHQgaW4gdHJhbnNsYXRlZF90ZXh0c10sCiAgICAgICAgc3JjX2xhbmcsCiAgICAgICAgdGd0X2xhbmcsCiAgICAgICAgYmFkX3dvcmRzX2NoZWNrZXIsCiAgICApCiAgICBhc3NlcnQgKAogICAgICAgIHN0cih0cmFuc2xhdGVkX3RleHRzWzBdKQogICAgICAgID09ICJKZSBtZSBkZW1hbmRlIMOgIHF1b2kgw6dhIHJlc3NlbWJsZXJhaXQgZCfDqnRyZSB1biBwYXJlbnQgZG9mZi4iCiAgICApCiAgICBhc3NlcnQgYWxsX2JhZF93b3JkcyA9PSBbXQogICAgYXNzZXJ0IGJhdGNoX2luZGljZXMgPT0gW10K'),
    ('seamless/tests/integration/inference/test_translator.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBGaW5hbAoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZSBpbXBvcnQgVHJhbnNsYXRvcgpmcm9tIHRlc3RzLmNvbW1vbiBpbXBvcnQgZGV2aWNlLCBnZXRfZGVmYXVsdF9kdHlwZQoKIyBmbXQ6IG9mZgpFTkdfU0VOVEVOQ0U6ICAgICBGaW5hbCA9ICJPbiBNb25kYXksIHNjaWVudGlzdHMgZnJvbSB0aGUgU3RhbmZvcmQgVW5pdmVyc2l0eSBTY2hvb2wgb2YgTWVkaWNpbmUgYW5ub3VuY2VkIHRoZSBpbnZlbnRpb24gb2YgYSBuZXcgZGlhZ25vc3RpYyB0b29sIHRoYXQgY2FuIHNvcnQgY2VsbHMgYnkgdHlwZTogYSB0aW55IHByaW50YWJsZSBjaGlwIHRoYXQgY2FuIGJlIG1hbnVmYWN0dXJlZCB1c2luZyBzdGFuZGFyZCBpbmtqZXQgcHJpbnRlcnMgZm9yIHBvc3NpYmx5IGFib3V0IG9uZSBVLlMuIGNlbnQgZWFjaC4iCkRFVV9TRU5URU5DRTogICAgIEZpbmFsID0gIkFtIE1vbnRhZyBrw7xuZGlndGVuIFdpc3NlbnNjaGFmdGxlciBkZXIgU3RhbmZvcmQgVW5pdmVyc2l0eSBTY2hvb2wgb2YgTWVkaWNpbmUgZGllIEVyZmluZHVuZyBlaW5lcyBuZXVlbiBEaWFnbm9zZXdlcmt6ZXVncyBhbiwgZGFzIFplbGxlbiBuYWNoIFR5cCBzb3J0aWVyZW4ga2FubjogZWluIHdpbnppZ2VyIGRydWNrYmFyZXIgQ2hpcCwgZGVyIG1pdCBTdGFuZGFyZC1UaW50ZW5zdHJhaGxkcnVja2VybiBmw7xyIGV0d2EgZWluZW4gVVMtQ2VudCBoZXJnZXN0ZWxsdCB3ZXJkZW4ga2Fubi4iCkRFVV9TRU5URU5DRV9WMjogIEZpbmFsID0gIkFtIE1vbnRhZyBrw7xuZGlndGVuIFdpc3NlbnNjaGFmdGxlciBkZXIgU3RhbmZvcmQgVW5pdmVyc2l0eSBTY2hvb2wgb2YgTWVkaWNpbmUgZGllIEVyZmluZHVuZyBlaW5lcyBuZXVlbiBkaWFnbm9zdGlzY2hlbiBXZXJremV1Z3MgYW4sIGRhcyBaZWxsZW4gbmFjaCBUeXAgc29ydGllcmVuIGthbm46IGVpbiB3aW56aWdlciBkcnVja2JhcmVyIENoaXAsIGRlciBtaXQgU3RhbmRhcmQtVGludGVuc3RyYWhsZHJ1Y2tlciBmw7xyIG3DtmdsaWNoZXJ3ZWlzZSBldHdhIGVpbmVuIFVTLUNlbnQgcHJvIFN0w7xjayBoZXJnZXN0ZWxsdCB3ZXJkZW4ga2Fubi4iCiMgZm10OiBvbgoKCmRlZiB0ZXN0X3NlYW1sZXNzX200dF9sYXJnZV90MnR0KCkgLT4gTm9uZToKICAgIG1vZGVsX25hbWUgPSAic2VhbWxlc3NNNFRfbGFyZ2UiCiAgICBzcmNfbGFuZyA9ICJlbmciCiAgICB0Z3RfbGFuZyA9ICJkZXUiCgogICAgZHR5cGUgPSBnZXRfZGVmYXVsdF9kdHlwZSgpCgogICAgdHJhbnNsYXRvciA9IFRyYW5zbGF0b3IobW9kZWxfbmFtZSwgInZvY29kZXJfMzZsYW5ncyIsIGRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICB0ZXh0X291dHB1dCwgXyA9IHRyYW5zbGF0b3IucHJlZGljdCgKICAgICAgICBFTkdfU0VOVEVOQ0UsCiAgICAgICAgInQydHQiLAogICAgICAgIHRndF9sYW5nLAogICAgICAgIHNyY19sYW5nPXNyY19sYW5nLAogICAgKQogICAgYXNzZXJ0IHRleHRfb3V0cHV0WzBdID09IERFVV9TRU5URU5DRSwgZiIne3RleHRfb3V0cHV0WzBdfScgaXMgbm90ICd7REVVX1NFTlRFTkNFfSciCgoKZGVmIHRlc3Rfc2VhbWxlc3NfbTR0X3YyX2xhcmdlX3QydHQoKSAtPiBOb25lOgogICAgbW9kZWxfbmFtZSA9ICJzZWFtbGVzc000VF92Ml9sYXJnZSIKICAgIHNyY19sYW5nID0gImVuZyIKICAgIHRndF9sYW5nID0gImRldSIKCiAgICBkdHlwZSA9IGdldF9kZWZhdWx0X2R0eXBlKCkKCiAgICB0cmFuc2xhdG9yID0gVHJhbnNsYXRvcihtb2RlbF9uYW1lLCAidm9jb2Rlcl92MiIsIGRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICB0ZXh0X291dHB1dCwgXyA9IHRyYW5zbGF0b3IucHJlZGljdCgKICAgICAgICBFTkdfU0VOVEVOQ0UsCiAgICAgICAgInQydHQiLAogICAgICAgIHRndF9sYW5nLAogICAgICAgIHNyY19sYW5nPXNyY19sYW5nLAogICAgKQogICAgYXNzZXJ0ICgKICAgICAgICB0ZXh0X291dHB1dFswXSA9PSBERVVfU0VOVEVOQ0VfVjIKICAgICksIGYiJ3t0ZXh0X291dHB1dFswXX0nIGlzIG5vdCAne0RFVV9TRU5URU5DRV9WMn0nIgoKCmRlZiB0ZXN0X3NlYW1sZXNzX200dF92Ml9sYXJnZV9tdWx0aXBsZV90YXNrcygpIC0+IE5vbmU6CiAgICBtb2RlbF9uYW1lID0gInNlYW1sZXNzTTRUX3YyX2xhcmdlIgogICAgZW5nbGlzaF90ZXh0ID0gIkhlbGxvISBJIGhvcGUgeW91J3JlIGFsbCBkb2luZyB3ZWxsLiIKICAgIHJlZl9zcGFuaXNoX3RleHQgPSAiSG9sYSwgZXNwZXJvIHF1ZSB0b2RvIHNlIGVzdMOpIGhhY2llbmRvIGJpZW4uIgogICAgcmVmX3NwYW5pc2hfYXNyX3RleHQgPSAiSG9sYSwgZXNwZXJvIHF1ZSB0b2RvIHNlIGVzdMOpIGhhY2llbmRvIGJpZW4uIgoKICAgIGR0eXBlID0gZ2V0X2RlZmF1bHRfZHR5cGUoKQoKICAgIHRyYW5zbGF0b3IgPSBUcmFuc2xhdG9yKG1vZGVsX25hbWUsICJ2b2NvZGVyX3YyIiwgZGV2aWNlLCBkdHlwZT1kdHlwZSkKCiAgICAjIEdlbmVyYXRlIGVuZ2xpc2ggc3BlZWNoIGZvciB0aGUgZW5nbGlzaCB0ZXh0LgogICAgXywgZW5nbGlzaF9zcGVlY2hfb3V0cHV0ID0gdHJhbnNsYXRvci5wcmVkaWN0KAogICAgICAgIGVuZ2xpc2hfdGV4dCwKICAgICAgICAidDJzdCIsCiAgICAgICAgImVuZyIsCiAgICAgICAgc3JjX2xhbmc9ImVuZyIsCiAgICApCiAgICBhc3NlcnQgZW5nbGlzaF9zcGVlY2hfb3V0cHV0IGlzIG5vdCBOb25lCgogICAgIyBUcmFuc2xhdGUgZW5nbGlzaCBzcGVlY2ggdG8gc3BhbmlzaCBzcGVlY2guCiAgICBzcGFuaXNoX3RleHRfb3V0cHV0LCBzcGFuaXNoX3NwZWVjaF9vdXRwdXQgPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgZW5nbGlzaF9zcGVlY2hfb3V0cHV0LmF1ZGlvX3dhdnNbMF1bMF0sCiAgICAgICAgInMyc3QiLAogICAgICAgICJzcGEiLAogICAgKQogICAgYXNzZXJ0IHNwYW5pc2hfc3BlZWNoX291dHB1dCBpcyBub3QgTm9uZQogICAgYXNzZXJ0ICgKICAgICAgICBzcGFuaXNoX3RleHRfb3V0cHV0WzBdID09IHJlZl9zcGFuaXNoX3RleHQKICAgICksIGYiJ3tzcGFuaXNoX3RleHRfb3V0cHV0WzBdfScgaXMgbm90ICd7cmVmX3NwYW5pc2hfdGV4dH0nIgoKICAgICMgUnVuIEFTUiBvbiB0aGUgc3BhbmlzaCBzcGVlY2guCiAgICBzcGFuaXNoX2Fzcl90ZXh0X291dHB1dCwgXyA9IHRyYW5zbGF0b3IucHJlZGljdCgKICAgICAgICBzcGFuaXNoX3NwZWVjaF9vdXRwdXQuYXVkaW9fd2F2c1swXVswXSwKICAgICAgICAiYXNyIiwKICAgICAgICAic3BhIiwKICAgICkKICAgIGFzc2VydCAoCiAgICAgICAgc3BhbmlzaF9hc3JfdGV4dF9vdXRwdXRbMF0gPT0gcmVmX3NwYW5pc2hfYXNyX3RleHQKICAgICksIGYie3NwYW5pc2hfYXNyX3RleHRfb3V0cHV0WzBdfSBpcyBub3Qge3JlZl9zcGFuaXNoX2Fzcl90ZXh0fSciCg=='),
    ('seamless/tests/integration/models/test_conformer_shaw.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKaW1wb3J0IHRvcmNoCgpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IEF1ZGlvRGVjb2Rlck91dHB1dApmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IGdldF9zZXFzX2FuZF9wYWRkaW5nX21hc2sKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuY29uZm9ybWVyX3NoYXcgaW1wb3J0IGxvYWRfY29uZm9ybWVyX3NoYXdfbW9kZWwKCmZyb20gdGVzdHMuY29tbW9uIGltcG9ydCAoCiAgICBjb252ZXJ0X3RvX2NvbGxhdGVkX2ZiYW5rLAogICAgZ2V0X2RlZmF1bHRfZHR5cGUsCiAgICBkZXZpY2UsCikKClJFRl9NRUFOLCBSRUZfU1REID0gLTAuMDAwMSwgMC4xNTQ3CgoKZGVmIHRlc3RfY29uZm9ybWVyX3NoYXdfNjAwbShleGFtcGxlX3JhdGUxNmtfYXVkaW86IEF1ZGlvRGVjb2Rlck91dHB1dCkgLT4gTm9uZToKCiAgICBkdHlwZSA9IGdldF9kZWZhdWx0X2R0eXBlKCkKICAgIGF1ZGlvX2RpY3QgPSBleGFtcGxlX3JhdGUxNmtfYXVkaW8KICAgIHNyYyA9IGNvbnZlcnRfdG9fY29sbGF0ZWRfZmJhbmsoYXVkaW9fZGljdCwgZHR5cGU9ZHR5cGUpCiAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrKHNyYykKCiAgICBtb2RlbCA9IGxvYWRfY29uZm9ybWVyX3NoYXdfbW9kZWwoImNvbmZvcm1lcl9zaGF3IiwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICBtb2RlbC5ldmFsKCkKCiAgICB3aXRoIHRvcmNoLmluZmVyZW5jZV9tb2RlKCk6CiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gbW9kZWwuZW5jb2Rlcl9mcm9udGVuZChzZXFzLCBwYWRkaW5nX21hc2spCgogICAgICAgIHNlcXMsIF8gPSBtb2RlbC5lbmNvZGVyKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICBzdGQsIG1lYW4gPSB0b3JjaC5zdGRfbWVhbihzZXFzKQoKICAgIGFzc2VydCByb3VuZChtZWFuLml0ZW0oKSwgNCkgPT0gUkVGX01FQU4KICAgIGFzc2VydCByb3VuZChzdGQuaXRlbSgpLCA0KSA9PSBSRUZfU1RECg=='),
    ('seamless/tests/integration/models/test_unity2_aligner.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBGaW5hbAoKaW1wb3J0IHRvcmNoCmZyb20gdG9yY2ggaW1wb3J0IHRlbnNvcgoKZnJvbSBmYWlyc2VxMi5kYXRhLmF1ZGlvIGltcG9ydCBBdWRpb0RlY29kZXJPdXRwdXQKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5hbGlnbmVyLmFsaWdubWVudF9leHRyYWN0b3IgaW1wb3J0IEFsaWdubWVudEV4dHJhY3Rvcgpmcm9tIHRlc3RzLmNvbW1vbiBpbXBvcnQgYXNzZXJ0X2VxdWFsLCBkZXZpY2UsIGdldF9kZWZhdWx0X2R0eXBlCgoKUkVGX1RFWFQgPSAidGhlIGV4YW1pbmF0aW9uIGFuZCB0ZXN0aW1vbnkgb2YgdGhlIGV4cGVydHMgZW5hYmxlZCB0aGUgY29tbWlzaW9uIHRvIGNvbmNsdWRlIHRoYXQgZml2ZSBzaG90cyBtYXkgaGF2ZSBiZWVuIGZpcmVkIgoKIyBmbXQ6IG9mZgpSRUZfRFVSQVRJT05TX0ZQMTY6IEZpbmFsID0gW1sgMSwgIDEsICAyLCAgMSwgIDEsICA1LCAgNSwgIDYsICA0LCAgMywgIDIsICAzLCAgNCwgIDQsICAyLCAgMiwgIDIsICAxLAogICAgICAgICAgMSwgIDEsICAzLCAgMywgIDMsICA0LCAgMywgIDMsICAzLCAgNCwgIDQsICAzLCAgMiwgIDIsICAxLCAgMSwgIDEsICAxLAogICAgICAgICAgMiwgIDQsICA2LCAgNSwgIDQsICAzLCAgNCwgIDUsICA1LCAxNiwgIDYsICAzLCAgNSwgIDUsICAzLCAgMywgIDEsICAyLAogICAgICAgICAgMSwgIDEsICAxLCAgMiwgIDMsICAyLCAgMywgIDEsICAzLCAgMywgIDMsICAyLCAgMiwgIDQsICAyLCAgMiwgIDIsICAzLAogICAgICAgICAgMiwgIDQsICA1LCAgNCwgIDUsICA4LCAgMywgMTcsICAyLCAgMiwgIDMsICAyLCAgNSwgIDQsICA2LCAgMywgIDEsICAxLAogICAgICAgICAgNCwgIDQsICAzLCAgNSwgIDMsICAzLCAgMiwgIDIsICAyLCAgMiwgIDIsICAyLCAgMiwgIDEsICAyLCAgMiwgIDEsICAxLAogICAgICAgICAgMiwgIDYsICA0LCAgNSwgIDksICA1LCAgMSwgMTJdXQojIGZtdDogb24KCiMgZm10OiBvZmYKUkVGX0RVUkFUSU9OU19GUDMyOiBGaW5hbCA9IFtbIDEsICAxLCAgMiwgIDEsICAxLCAgNSwgIDUsICA2LCAgNCwgIDMsICAyLCAgMywgIDQsICA0LCAgMiwgIDIsICAyLCAgMSwKICAgICAgICAgICAxLCAgMSwgIDMsICAzLCAgMywgIDQsICAzLCAgMywgIDQsICAzLCAgNCwgIDMsICAyLCAgMiwgIDEsICAxLCAgMSwgIDEsCiAgICAgICAgICAgMiwgIDQsICA2LCAgNSwgIDQsICAzLCAgNCwgIDUsICA1LCAxNiwgIDYsICAzLCAgNSwgIDUsICAzLCAgMywgIDEsICAyLAogICAgICAgICAgIDEsICAxLCAgMSwgIDIsICAzLCAgMiwgIDMsICAxLCAgMywgIDMsICAzLCAgMiwgIDIsICA0LCAgMiwgIDIsICAyLCAgMywKICAgICAgICAgICAyLCAgNCwgIDUsICA0LCAgNSwgIDgsICAzLCAxNywgIDIsICAyLCAgMywgIDIsICA1LCAgNCwgIDYsICAzLCAgMSwgIDEsCiAgICAgICAgICAgNCwgIDQsICAzLCAgNSwgIDMsICAzLCAgMiwgIDIsICAyLCAgMiwgIDIsICAyLCAgMiwgIDEsICAyLCAgMiwgIDEsICAxLAogICAgICAgICAgIDIsICA2LCAgNCwgIDUsICA5LCAgNSwgIDEsIDEyXV0KIyBmbXQ6IG9uCgoKZGVmIHRlc3RfYWxpZ25lcihleGFtcGxlX3JhdGUxNmtfYXVkaW86IEF1ZGlvRGVjb2Rlck91dHB1dCkgLT4gTm9uZToKICAgIGFsaWduZXJfbmFtZSA9ICJuYXJfdDJ1X2FsaWduZXIiCiAgICB1bml0X2V4dHJhY3Rvcl9uYW1lID0gInhsc3IyXzFiX3YyIgogICAgdW5pdF9leHRyYWN0b3Jfb3V0cHV0X2xheWVyX24gPSAzNQogICAgdW5pdF9leHRyYWN0b3Jfa21lYW5zX3VyaSA9ICJodHRwczovL2RsLmZiYWlwdWJsaWNmaWxlcy5jb20vc2VhbWxlc3NNNFQvbW9kZWxzL3VuaXRfZXh0cmFjdGlvbi9rbWVhbnNfMTBrLm5weSIKICAgIGR0eXBlID0gZ2V0X2RlZmF1bHRfZHR5cGUoKQogICAgaWYgZHR5cGUgPT0gdG9yY2guZmxvYXQzMjoKICAgICAgICByZWZfdGVuc29yID0gUkVGX0RVUkFUSU9OU19GUDMyCiAgICBlbHNlOgogICAgICAgIHJlZl90ZW5zb3IgPSBSRUZfRFVSQVRJT05TX0ZQMTYKCiAgICBhdWRpbyA9IGV4YW1wbGVfcmF0ZTE2a19hdWRpb1sid2F2ZWZvcm0iXS5tZWFuKAogICAgICAgIDEKICAgICkgICMgYXZlcmFnaW5nIG1vbm8gdG8gZ2V0IFtUaW1lXSBzaGFwZSByZXF1aXJlZCBieSBhbGlnbmVyCgogICAgZXh0cmFjdG9yID0gQWxpZ25tZW50RXh0cmFjdG9yKAogICAgICAgIGFsaWduZXJfbmFtZSwKICAgICAgICB1bml0X2V4dHJhY3Rvcl9uYW1lLAogICAgICAgIHVuaXRfZXh0cmFjdG9yX291dHB1dF9sYXllcl9uLAogICAgICAgIHVuaXRfZXh0cmFjdG9yX2ttZWFuc191cmksCiAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICBkdHlwZT1kdHlwZSwKICAgICkKCiAgICBhbGlnbm1lbnRfZHVyYXRpb25zLCBfLCBfID0gZXh0cmFjdG9yLmV4dHJhY3RfYWxpZ25tZW50KAogICAgICAgIGF1ZGlvLCBSRUZfVEVYVCwgcGxvdD1GYWxzZSwgYWRkX3RyYWlsaW5nX3NpbGVuY2U9VHJ1ZQogICAgKQoKICAgIGFzc2VydF9lcXVhbCgKICAgICAgICBhbGlnbm1lbnRfZHVyYXRpb25zLCB0ZW5zb3IocmVmX3RlbnNvciwgZGV2aWNlPWRldmljZSwgZHR5cGU9dG9yY2guaW50NjQpCiAgICApCg=='),
    ('seamless/tests/integration/models/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/tests/unit/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/tests/unit/segment/__init__.py', ''),
    ('seamless/tests/unit/segment/test_silero_vad.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCB1bml0dGVzdApmcm9tIGFyZ3BhcnNlIGltcG9ydCBOYW1lc3BhY2UKZnJvbSB1bml0dGVzdC5tb2NrIGltcG9ydCBNb2NrCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zZWdtZW50LnNpbGVyb192YWQgaW1wb3J0IFNpbGVyb1ZBRFNlZ21lbnRlciwgU2VnbWVudAppbXBvcnQgbnVtcHkgYXMgbnAKCgpjbGFzcyBUZXN0U2lsZXJvVkFEU2VnbWVudGVyKHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgIGRlZiB0ZXN0X2luaXRfd29ya3Moc2VsZik6CiAgICAgICAgc2VnbWVudGVyID0gU2lsZXJvVkFEU2VnbWVudGVyKAogICAgICAgICAgc2FtcGxlX3JhdGU9MTYwMDAsIAogICAgICAgICAgY2h1bmtfc2l6ZV9zZWM9MTAsIAogICAgICAgICAgcGF1c2VfbGVuZ3RoPTAuNSkKICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHNlZ21lbnRlci5zYW1wbGVfcmF0ZSwgMTYwMDApCiAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChzZWdtZW50ZXIuY2h1bmtfc2l6ZV9zZWMsIDEwKQogICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwoc2VnbWVudGVyLnBhdXNlX2xlbmd0aCwgMC41KQoKCiAgICBkZWYgdGVzdF9zZWdtZW50X2xvbmdfaW5wdXQoc2VsZik6CiAgICAgICAgc2VsZi5zZWdtZW50ZXIgPSBTaWxlcm9WQURTZWdtZW50ZXIoCiAgICAgICAgICBzYW1wbGVfcmF0ZT0xNjAwMCwgCiAgICAgICAgICBjaHVua19zaXplX3NlYz0xMCwgCiAgICAgICAgICBwYXVzZV9sZW5ndGg9MC41KQogICAgICAgIHNlbGYuc2VnbWVudGVyLmdldF9zcGVlY2hfdGltZXN0YW1wcyA9IE1vY2soCiAgICAgICAgICByZXR1cm5fdmFsdWU9W3swOiAwLCAxOiAxMDAwMH0sIAogICAgICAgICAgezA6IDIwMDAwLCAxOiAzMDAwMH1dKQogICAgICAgIHNlZ21lbnRzID0gc2VsZi5zZWdtZW50ZXIuc2VnbWVudF9sb25nX2lucHV0KGF1ZGlvPU5vbmUpCiAgICAgICAgZXhwZWN0ZWRfc2VnbWVudHMgPSBbWzAsIDEwMDAwXSwgWzIwMDAwLCAzMDAwMF1dCiAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChzZWdtZW50cywgZXhwZWN0ZWRfc2VnbWVudHMpCgoKICAgIGRlZiB0ZXN0X3JlY3Vyc2l2ZV9zcGxpdChzZWxmKToKICAgICAgICBzZWdtZW50ZXIgPSBTaWxlcm9WQURTZWdtZW50ZXIoCiAgICAgICAgICBzYW1wbGVfcmF0ZT0xNjAwMCwgCiAgICAgICAgICBjaHVua19zaXplX3NlYz0xMCwKICAgICAgICAgIHBhdXNlX2xlbmd0aD0wLjUpCiAgICAgICAgc2dtID0gU2VnbWVudCgwLCAxMDAwMCwgbnAucmFuZG9tLnJhbmQoMTAwMDApKQogICAgICAgIHNlZ21lbnRzID0gW10KICAgICAgICBtYXhfc2VnbWVudF9sZW5ndGggPSA1MDAwCiAgICAgICAgbWluX3NlZ21lbnRfbGVuZ3RoID0gMTAwMAogICAgICAgIHdpbmRvd19zaXplX3NhbXBsZXMgPSAxMDAKICAgICAgICB0aHJlc2hvbGQgPSAuNQoKICAgICAgICBzZWdtZW50ZXIucmVjdXJzaXZlX3NwbGl0KAogICAgICAgICAgc2dtLCAKICAgICAgICAgIHNlZ21lbnRzLCAKICAgICAgICAgIG1heF9zZWdtZW50X2xlbmd0aCwgCiAgICAgICAgICBtaW5fc2VnbWVudF9sZW5ndGgsIAogICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlcywgCiAgICAgICAgICB0aHJlc2hvbGQpCgogICAgICAgIGFzc2VydCBhbGwoW3NlZy5kdXJhdGlvbiA8IG1heF9zZWdtZW50X2xlbmd0aCBmb3Igc2VnIGluIHNlZ21lbnRzXSkKICAgICAgICBhc3NlcnQgYWxsKFtzZWcuZHVyYXRpb24gPiBtaW5fc2VnbWVudF9sZW5ndGggZm9yIHNlZyBpbiBzZWdtZW50c10pCg=='),
    ('seamless/tests/unit/models/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/tests/unit/models/unity/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/tests/unit/models/unity/test_unity.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBweXRlc3QKaW1wb3J0IHRvcmNoCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5IGltcG9ydCBVbml0VG9rZW5pemVyCmZyb20gdGVzdHMuY29tbW9uIGltcG9ydCBhc3NlcnRfZXF1YWwsIGRldmljZQoKCmNsYXNzIFRlc3RVbml0VG9rZW5pemVyOgogICAgZGVmIHRlc3RfaW5pdF93b3JrcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHRva2VuaXplciA9IFVuaXRUb2tlbml6ZXIoCiAgICAgICAgICAgIG51bV91bml0cz0xMDAsIGxhbmdzPVsiZW5nIiwgImRldSIsICJmcmEiXSwgbW9kZWxfYXJjaD0ic2VhbWxlc3NNNFRfbGFyZ2UiCiAgICAgICAgKQoKICAgICAgICBhc3NlcnQgdG9rZW5pemVyLm51bV91bml0cyA9PSAxMDAKCiAgICAgICAgYXNzZXJ0IHRva2VuaXplci5sYW5nX21hcCA9PSB7ImVuZyI6IDAsICJkZXUiOiAxLCAiZnJhIjogMn0KCiAgICAgICAgYXNzZXJ0IHRva2VuaXplci52b2NhYl9pbmZvLnNpemUgPT0gMTEyCgogICAgZGVmIHRlc3RfbGFuZ190b19pbmRleF93b3JrcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHRva2VuaXplciA9IFVuaXRUb2tlbml6ZXIoCiAgICAgICAgICAgIG51bV91bml0cz0xMDAsIGxhbmdzPVsiZW5nIiwgImRldSIsICJmcmEiXSwgbW9kZWxfYXJjaD0ic2VhbWxlc3NNNFRfbGFyZ2UiCiAgICAgICAgKQoKICAgICAgICBhc3NlcnQgdG9rZW5pemVyLmxhbmdfdG9faW5kZXgoImVuZyIpID09IDEwOAogICAgICAgIGFzc2VydCB0b2tlbml6ZXIubGFuZ190b19pbmRleCgiZGV1IikgPT0gMTA5CiAgICAgICAgYXNzZXJ0IHRva2VuaXplci5sYW5nX3RvX2luZGV4KCJmcmEiKSA9PSAxMTAKCiAgICBkZWYgdGVzdF9sYW5nX3RvX2luZGV4X3dvcmtzX25hcl9kZWNvZGVyKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgdG9rZW5pemVyID0gVW5pdFRva2VuaXplcigKICAgICAgICAgICAgbnVtX3VuaXRzPTEwMCwKICAgICAgICAgICAgbGFuZ3M9WyJlbmciLCAiZGV1IiwgImZyYSJdLAogICAgICAgICAgICBtb2RlbF9hcmNoPSJzZWFtbGVzc000VF9sYXJnZV92MiIsCiAgICAgICAgKQogICAgICAgIGFzc2VydCB0b2tlbml6ZXIudm9jYWJfaW5mby5zaXplID09IDEwOAoKICAgICAgICBhc3NlcnQgdG9rZW5pemVyLmxhbmdfdG9faW5kZXgoImVuZyIpID09IDEwNAogICAgICAgIGFzc2VydCB0b2tlbml6ZXIubGFuZ190b19pbmRleCgiZGV1IikgPT0gMTA1CiAgICAgICAgYXNzZXJ0IHRva2VuaXplci5sYW5nX3RvX2luZGV4KCJmcmEiKSA9PSAxMDYKCiAgICBkZWYgdGVzdF9sYW5nX3RvX2luZGV4X3JhaXNlc19lcnJvcl93aGVuX2xhbmdfaXNfbm90X3N1cHBvcnRlZChzZWxmKSAtPiBOb25lOgogICAgICAgIHRva2VuaXplciA9IFVuaXRUb2tlbml6ZXIoCiAgICAgICAgICAgIG51bV91bml0cz0xMDAsIGxhbmdzPVsiZW5nIiwgImRldSIsICJmcmEiXSwgbW9kZWxfYXJjaD0ic2VhbWxlc3NNNFRfbGFyZ2UiCiAgICAgICAgKQoKICAgICAgICB3aXRoIHB5dGVzdC5yYWlzZXMoCiAgICAgICAgICAgIFZhbHVlRXJyb3IsCiAgICAgICAgICAgIG1hdGNoPXIiXmBsYW5nYCBtdXN0IGJlIG9uZSBvZiB0aGUgc3VwcG9ydGVkIGxhbmd1YWdlcywgYnV0IGlzICdmb28nIGluc3RlYWRcLiBTdXBwb3J0ZWQgbGFuZ3VhZ2VzOiBlbmcsIGRldSwgZnJhJCIsCiAgICAgICAgKToKICAgICAgICAgICAgdG9rZW5pemVyLmxhbmdfdG9faW5kZXgoImZvbyIpCgogICAgZGVmIHRlc3RfaW5kZXhfdG9fbGFuZ193b3JrcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHRva2VuaXplciA9IFVuaXRUb2tlbml6ZXIoCiAgICAgICAgICAgIG51bV91bml0cz0xMDAsIGxhbmdzPVsiZW5nIiwgImRldSIsICJmcmEiXSwgbW9kZWxfYXJjaD0ic2VhbWxlc3NNNFRfbGFyZ2UiCiAgICAgICAgKQoKICAgICAgICBhc3NlcnQgdG9rZW5pemVyLmluZGV4X3RvX2xhbmcoMTA4KSA9PSAiZW5nIgogICAgICAgIGFzc2VydCB0b2tlbml6ZXIuaW5kZXhfdG9fbGFuZygxMDkpID09ICJkZXUiCiAgICAgICAgYXNzZXJ0IHRva2VuaXplci5pbmRleF90b19sYW5nKDExMCkgPT0gImZyYSIKCiAgICBkZWYgdGVzdF9pbmRleF90b19sYW5nX3dvcmtzX25hcl9kZWNvZGVyKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgdG9rZW5pemVyID0gVW5pdFRva2VuaXplcigKICAgICAgICAgICAgbnVtX3VuaXRzPTEwMCwKICAgICAgICAgICAgbGFuZ3M9WyJlbmciLCAiZGV1IiwgImZyYSJdLAogICAgICAgICAgICBtb2RlbF9hcmNoPSJzZWFtbGVzc000VF9sYXJnZV92MiIsCiAgICAgICAgKQoKICAgICAgICBhc3NlcnQgdG9rZW5pemVyLmluZGV4X3RvX2xhbmcoMTA0KSA9PSAiZW5nIgogICAgICAgIGFzc2VydCB0b2tlbml6ZXIuaW5kZXhfdG9fbGFuZygxMDUpID09ICJkZXUiCiAgICAgICAgYXNzZXJ0IHRva2VuaXplci5pbmRleF90b19sYW5nKDEwNikgPT0gImZyYSIKCiAgICBkZWYgdGVzdF92b2NhYl9jb250cm9sX3N5bWJvbHMoc2VsZikgLT4gTm9uZToKICAgICAgICB0b2tlbml6ZXIgPSBVbml0VG9rZW5pemVyKAogICAgICAgICAgICBudW1fdW5pdHM9MTAwLCBsYW5ncz1bImVuZyIsICJkZXUiLCAiZnJhIl0sIG1vZGVsX2FyY2g9InNlYW1sZXNzTTRUX2xhcmdlIgogICAgICAgICkKCiAgICAgICAgYXNzZXJ0IHRva2VuaXplci52b2NhYl9pbmZvLmJvc19pZHggPT0gMAogICAgICAgIGFzc2VydCB0b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4ID09IDEKICAgICAgICBhc3NlcnQgdG9rZW5pemVyLnZvY2FiX2luZm8uZW9zX2lkeCA9PSAyCiAgICAgICAgYXNzZXJ0IHRva2VuaXplci52b2NhYl9pbmZvLnVua19pZHggPT0gMwoKICAgIGRlZiB0ZXN0X2luZGV4X3RvX2xhbmdfcmFpc2VzX2Vycm9yX3doZW5faWR4X2lzX291dF9vZl9yYW5nZShzZWxmKSAtPiBOb25lOgogICAgICAgIHRva2VuaXplciA9IFVuaXRUb2tlbml6ZXIoCiAgICAgICAgICAgIG51bV91bml0cz0xMDAsIGxhbmdzPVsiZW5nIiwgImRldSIsICJmcmEiXSwgbW9kZWxfYXJjaD0ic2VhbWxlc3NNNFRfbGFyZ2UiCiAgICAgICAgKQoKICAgICAgICB3aXRoIHB5dGVzdC5yYWlzZXMoCiAgICAgICAgICAgIFZhbHVlRXJyb3IsCiAgICAgICAgICAgIG1hdGNoPXIiXmBpZHhgIG11c3QgY29ycmVzcG9uZCB0byBvbmUgb2YgdGhlIHN1cHBvcnRlZCBsYW5ndWFnZSBzeW1ib2wgaW5kaWNlcyBcKDAgdG8gMlwpLCBidXQgaXMgMTIzNCBpbnN0ZWFkXC4kIiwKICAgICAgICApOgogICAgICAgICAgICB0b2tlbml6ZXIuaW5kZXhfdG9fbGFuZygxMjM0KQoKCmNsYXNzIFRlc3RVbml0RW5jb2RlcjoKICAgIGRlZiB0ZXN0X2luaXRfcmFpc2VzX2Vycm9yX3doZW5fbGFuZ19pc19ub3Rfc3VwcG9ydGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgdG9rZW5pemVyID0gVW5pdFRva2VuaXplcigKICAgICAgICAgICAgbnVtX3VuaXRzPTEwMCwgbGFuZ3M9WyJlbmciLCAiZGV1IiwgImZyYSJdLCBtb2RlbF9hcmNoPSJzZWFtbGVzc000VF9sYXJnZSIKICAgICAgICApCgogICAgICAgIHdpdGggcHl0ZXN0LnJhaXNlcygKICAgICAgICAgICAgVmFsdWVFcnJvciwKICAgICAgICAgICAgbWF0Y2g9ciJeYGxhbmdgIG11c3QgYmUgb25lIG9mIHRoZSBzdXBwb3J0ZWQgbGFuZ3VhZ2VzXCwgYnV0IGlzICd4eXonIGluc3RlYWRcLiBTdXBwb3J0ZWQgbGFuZ3VhZ2VzOiBlbmcsIGRldSwgZnJhJCIsCiAgICAgICAgKToKICAgICAgICAgICAgdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKGxhbmc9Inh5eiIsIGRldmljZT1kZXZpY2UpCgogICAgZGVmIHRlc3RfY2FsbF93b3JrcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHRva2VuaXplciA9IFVuaXRUb2tlbml6ZXIoCiAgICAgICAgICAgIG51bV91bml0cz0xMDAsIGxhbmdzPVsiZW5nIiwgImRldSIsICJmcmEiXSwgbW9kZWxfYXJjaD0ic2VhbWxlc3NNNFRfbGFyZ2UiCiAgICAgICAgKQoKICAgICAgICBwcmVmaXggPSB0b3JjaC50ZW5zb3IoWzIsIDEwOV0sIGRldmljZT1kZXZpY2UsIGR0eXBlPXRvcmNoLmludDY0KQoKICAgICAgICBlbmNvZGVyID0gdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKGxhbmc9ImRldSIsIGRldmljZT1kZXZpY2UpCgogICAgICAgICMgRW1wdHkgdW5pdHMuCiAgICAgICAgdW5pdHMgPSB0b3JjaC5vbmVzKCgxLCAwKSwgZGV2aWNlPWRldmljZSwgZHR5cGU9dG9yY2guaW50NjQpCgogICAgICAgIGFzc2VydF9lcXVhbChlbmNvZGVyKHVuaXRzKSwgcHJlZml4LmV4cGFuZCgxLCAtMSkpCgogICAgICAgICMgQmF0Y2hlZCB1bml0cy4KICAgICAgICB1bml0cyA9IHRvcmNoLm9uZXMoKDYsIDQpLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT10b3JjaC5pbnQ2NCkKCiAgICAgICAgYXNzZXJ0X2VxdWFsKAogICAgICAgICAgICBlbmNvZGVyKHVuaXRzKSwgdG9yY2guY2F0KFtwcmVmaXguZXhwYW5kKDYsIC0xKSwgdW5pdHMgKyA0XSwgZGltPTEpCiAgICAgICAgKQoKICAgIGRlZiB0ZXN0X2NhbGxfd29ya3NfbmFyX2RlY29kZXIoc2VsZikgLT4gTm9uZToKICAgICAgICB0b2tlbml6ZXIgPSBVbml0VG9rZW5pemVyKAogICAgICAgICAgICBudW1fdW5pdHM9MTAwLAogICAgICAgICAgICBsYW5ncz1bImVuZyIsICJkZXUiLCAiZnJhIl0sCiAgICAgICAgICAgIG1vZGVsX2FyY2g9InNlYW1sZXNzTTRUX2xhcmdlX3YyIiwKICAgICAgICApCgogICAgICAgIGVuY29kZXIgPSB0b2tlbml6ZXIuY3JlYXRlX2VuY29kZXIobGFuZz0iZGV1IiwgZGV2aWNlPWRldmljZSkKCiAgICAgICAgIyBFbXB0eSB1bml0cy4KICAgICAgICB1bml0cyA9IHRvcmNoLm9uZXMoKDEsIDApLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT10b3JjaC5pbnQ2NCkKCiAgICAgICAgYXNzZXJ0X2VxdWFsKGVuY29kZXIodW5pdHMpLCB1bml0cykKCiAgICAgICAgIyBCYXRjaGVkIHVuaXRzLgogICAgICAgIHVuaXRzID0gdG9yY2gub25lcygoNiwgNCksIGRldmljZT1kZXZpY2UsIGR0eXBlPXRvcmNoLmludDY0KQoKICAgICAgICBhc3NlcnRfZXF1YWwoZW5jb2Rlcih1bml0cyksIHVuaXRzICsgNCkKCiAgICBkZWYgdGVzdF9jYWxsX3dvcmtzX3doZW5fdW5pdHNfaGF2ZV91bmtzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgdG9rZW5pemVyID0gVW5pdFRva2VuaXplcigKICAgICAgICAgICAgbnVtX3VuaXRzPTEwMCwgbGFuZ3M9WyJlbmciLCAiZGV1IiwgImZyYSJdLCBtb2RlbF9hcmNoPSJzZWFtbGVzc000VF9sYXJnZSIKICAgICAgICApCgogICAgICAgIGVuY29kZXIgPSB0b2tlbml6ZXIuY3JlYXRlX2VuY29kZXIobGFuZz0iZGV1IiwgZGV2aWNlPWRldmljZSkKCiAgICAgICAgdW5pdHMgPSB0b3JjaC5vbmVzKCg2LCA0KSwgZGV2aWNlPWRldmljZSwgZHR5cGU9dG9yY2guaW50NjQpCgogICAgICAgIHVuaXRzWzEsIDNdID0gMTAwCiAgICAgICAgdW5pdHNbMiwgMV0gPSAxMDEKCiAgICAgICAgdG9rZW5faW5kaWNlcyA9IGVuY29kZXIodW5pdHMpCgogICAgICAgIGFzc2VydCB0b2tlbl9pbmRpY2VzWzEsIDVdLml0ZW0oKSA9PSB0b2tlbml6ZXIudm9jYWJfaW5mby51bmtfaWR4CiAgICAgICAgYXNzZXJ0IHRva2VuX2luZGljZXNbMiwgM10uaXRlbSgpID09IHRva2VuaXplci52b2NhYl9pbmZvLnVua19pZHgKCiAgICBkZWYgdGVzdF9jYWxsX3dvcmtzX3doZW5fdW5pdHNfaGF2ZV91bmtzX25hcl9kZWNvZGVyKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgdG9rZW5pemVyID0gVW5pdFRva2VuaXplcigKICAgICAgICAgICAgbnVtX3VuaXRzPTEwMCwKICAgICAgICAgICAgbGFuZ3M9WyJlbmciLCAiZGV1IiwgImZyYSJdLAogICAgICAgICAgICBtb2RlbF9hcmNoPSJzZWFtbGVzc000VF9sYXJnZV92MiIsCiAgICAgICAgKQoKICAgICAgICBlbmNvZGVyID0gdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKGxhbmc9ImRldSIsIGRldmljZT1kZXZpY2UpCgogICAgICAgIHVuaXRzID0gdG9yY2gub25lcygoNiwgNCksIGRldmljZT1kZXZpY2UsIGR0eXBlPXRvcmNoLmludDY0KQoKICAgICAgICB1bml0c1sxLCAzXSA9IDEwMAogICAgICAgIHVuaXRzWzIsIDFdID0gMTAxCgogICAgICAgIHRva2VuX2luZGljZXMgPSBlbmNvZGVyKHVuaXRzKQoKICAgICAgICBhc3NlcnQgdG9rZW5faW5kaWNlc1sxLCAzXS5pdGVtKCkgPT0gdG9rZW5pemVyLnZvY2FiX2luZm8udW5rX2lkeAogICAgICAgIGFzc2VydCB0b2tlbl9pbmRpY2VzWzIsIDFdLml0ZW0oKSA9PSB0b2tlbml6ZXIudm9jYWJfaW5mby51bmtfaWR4CgoKY2xhc3MgVGVzdFVuaXREZWNvZGVyOgogICAgZGVmIHRlc3RfY2FsbF93b3JrcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHRva2VuaXplciA9IFVuaXRUb2tlbml6ZXIoCiAgICAgICAgICAgIG51bV91bml0cz0xMDAsIGxhbmdzPVsiZW5nIiwgImRldSIsICJmcmEiXSwgbW9kZWxfYXJjaD0ic2VhbWxlc3NNNFRfbGFyZ2UiCiAgICAgICAgKQoKICAgICAgICBlbmNvZGVyID0gdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKGxhbmc9ImRldSIsIGRldmljZT1kZXZpY2UpCiAgICAgICAgZGVjb2RlciA9IHRva2VuaXplci5jcmVhdGVfZGVjb2RlcigpCgogICAgICAgIGFzc2VydCB0b2tlbml6ZXIudm9jYWJfaW5mby5lb3NfaWR4IGlzIG5vdCBOb25lCiAgICAgICAgYXNzZXJ0IHRva2VuaXplci52b2NhYl9pbmZvLnBhZF9pZHggaXMgbm90IE5vbmUKCiAgICAgICAgdW5pdHMxID0gdG9yY2gub25lcygoNiwgNCksIGRldmljZT1kZXZpY2UsIGR0eXBlPXRvcmNoLmludDY0KQoKICAgICAgICBlbmNvZGVkX3VuaXRzID0gZW5jb2Rlcih1bml0czEpCgogICAgICAgIGVuY29kZWRfdW5pdHNbMiwgMl0gPSB0b2tlbml6ZXIudm9jYWJfaW5mby5lb3NfaWR4CgogICAgICAgIHVuaXRzMiA9IGRlY29kZXIoZW5jb2RlZF91bml0cykKCiAgICAgICAgdW5pdHMxWzIsIDJdID0gdG9rZW5pemVyLnZvY2FiX2luZm8ucGFkX2lkeAoKICAgICAgICBwcmVmaXggPSB0b3JjaC50ZW5zb3IoWzEwOV0sIGRldmljZT1kZXZpY2UsIGR0eXBlPXRvcmNoLmludDY0KQoKICAgICAgICBhc3NlcnRfZXF1YWwodG9yY2guY2F0KFtwcmVmaXguZXhwYW5kKDYsIC0xKSwgdW5pdHMxXSwgZGltPTEpLCB1bml0czIpCgogICAgZGVmIHRlc3RfY2FsbF93b3Jrc19uYXJfZGVjb2RlcihzZWxmKSAtPiBOb25lOgogICAgICAgIHRva2VuaXplciA9IFVuaXRUb2tlbml6ZXIoCiAgICAgICAgICAgIG51bV91bml0cz0xMDAsCiAgICAgICAgICAgIGxhbmdzPVsiZW5nIiwgImRldSIsICJmcmEiXSwKICAgICAgICAgICAgbW9kZWxfYXJjaD0ic2VhbWxlc3NNNFRfbGFyZ2VfdjIiLAogICAgICAgICkKCiAgICAgICAgZW5jb2RlciA9IHRva2VuaXplci5jcmVhdGVfZW5jb2RlcihsYW5nPSJkZXUiLCBkZXZpY2U9ZGV2aWNlKQogICAgICAgIGRlY29kZXIgPSB0b2tlbml6ZXIuY3JlYXRlX2RlY29kZXIoKQoKICAgICAgICBhc3NlcnQgdG9rZW5pemVyLnZvY2FiX2luZm8uZW9zX2lkeCBpcyBub3QgTm9uZQogICAgICAgIGFzc2VydCB0b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4IGlzIG5vdCBOb25lCgogICAgICAgIHVuaXRzMSA9IHRvcmNoLm9uZXMoKDYsIDQpLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT10b3JjaC5pbnQ2NCkKCiAgICAgICAgZW5jb2RlZF91bml0cyA9IGVuY29kZXIodW5pdHMxKQoKICAgICAgICBlbmNvZGVkX3VuaXRzWzIsIDJdID0gdG9rZW5pemVyLnZvY2FiX2luZm8uZW9zX2lkeAoKICAgICAgICB1bml0czIgPSBkZWNvZGVyKGVuY29kZWRfdW5pdHMpCgogICAgICAgIHVuaXRzMVsyLCAyXSA9IHRva2VuaXplci52b2NhYl9pbmZvLnBhZF9pZHgKCiAgICAgICAgYXNzZXJ0X2VxdWFsKHVuaXRzMSwgdW5pdHMyKQo='),
    ('seamless/tests/unit/denoise/__init__.py', ''),
    ('seamless/tests/unit/denoise/test_demucs.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCB1bml0dGVzdApmcm9tIHVuaXR0ZXN0Lm1vY2sgaW1wb3J0IHBhdGNoLCBNYWdpY01vY2sKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmRlbm9pc2UuZGVtdWNzIGltcG9ydCBEZW11Y3MsIERlbm9pc2luZ0NvbmZpZwppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5tZW1vcnkgaW1wb3J0IE1lbW9yeUJsb2NrCgpjbGFzcyBUZXN0RGVtdWNzKHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgIGRlZiB0ZXN0X2luaXRfd29ya3Moc2VsZik6CiAgICAgICAgY29uZmlnID0gRGVub2lzaW5nQ29uZmlnKG1vZGVsPSJodGRlbXVjcyIsIHNhbXBsZV9yYXRlPTE2MDAwKQogICAgICAgIGRlbXVjcyA9IERlbXVjcyhkZW5vaXNlX2NvbmZpZz1jb25maWcpCiAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChkZW11Y3MuZGVub2lzZV9jb25maWcubW9kZWwsICJodGRlbXVjcyIpCiAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChkZW11Y3MuZGVub2lzZV9jb25maWcuc2FtcGxlX3JhdGUsIDE2MDAwKQoKICAgIEBwYXRjaCgic2VhbWxlc3NfY29tbXVuaWNhdGlvbi5kZW5vaXNlLmRlbXVjcy50b3JjaGF1ZGlvLmxvYWQiKQogICAgQHBhdGNoKCJzZWFtbGVzc19jb21tdW5pY2F0aW9uLmRlbm9pc2UuZGVtdWNzLlBhdGgiKQogICAgQHBhdGNoKCJzZWFtbGVzc19jb21tdW5pY2F0aW9uLmRlbm9pc2UuZGVtdWNzLnNwLnJ1biIpCiAgICBkZWYgdGVzdF9kZW5vaXNlKHNlbGYsIG1vY2tfcnVuLCBtb2NrX3BhdGgsIG1vY2tfbG9hZCk6CgogICAgICAgIG1vY2tfcnVuLnJldHVybl92YWx1ZSA9IE1hZ2ljTW9jayhyZXR1cm5jb2RlPTApCiAgICAgICAgbW9ja19sb2FkLnJldHVybl92YWx1ZSA9ICh0b3JjaC5yYW5kbigxLCAxNjAwMCksIDE2MDAwKQogICAgICAgIG1vY2tfcGF0aC5yZXR1cm5fdmFsdWUuZXhpc3RzLnJldHVybl92YWx1ZSA9IFRydWUKICAgICAgICBtb2NrX3BhdGgucmV0dXJuX3ZhbHVlLmdsb2IucmV0dXJuX3ZhbHVlID0gW01hZ2ljTW9jaygpXQogICAgICAgIG1vY2tfcGF0aC5yZXR1cm5fdmFsdWUub3Blbi5yZXR1cm5fdmFsdWUuX19lbnRlcl9fLnJldHVybl92YWx1ZS5yZWFkLnJldHVybl92YWx1ZSA9IGIiIgogICAgICAgIGNvbmZpZyA9IERlbm9pc2luZ0NvbmZpZyhtb2RlbD0iaHRkZW11Y3MiLCBzYW1wbGVfcmF0ZT0xNjAwMCkKICAgICAgICBkZW11Y3MgPSBEZW11Y3MoZGVub2lzZV9jb25maWc9Y29uZmlnKQogICAgICAgIHJlc3VsdCA9IGRlbXVjcy5kZW5vaXNlKGF1ZGlvPU5vbmUpCgogICAgICAgIG1vY2tfcnVuLmFzc2VydF9jYWxsZWRfb25jZSgpCiAgICAgICAgbW9ja19sb2FkLmFzc2VydF9jYWxsZWRfb25jZSgpCiAgICAgICAgc2VsZi5hc3NlcnRJc0luc3RhbmNlKHJlc3VsdCwgTWVtb3J5QmxvY2spCiAgICAgICAg'),
    ('seamless/ggml/test_ggml_integration.py', 'aW1wb3J0IGN0eXBlcwppbXBvcnQgZnVuY3Rvb2xzCmltcG9ydCBsb2dnaW5nCmltcG9ydCBzeXMKZnJvbSBjdHlwZXMgaW1wb3J0IGNfdm9pZF9wCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBJdGVyYXRvciwgVHVwbGUKCmltcG9ydCBmYWlyc2VxMi5ubgppbXBvcnQgZmFpcnNlcTIubm4udHJhbnNmb3JtZXIKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBweXRlc3QKaW1wb3J0IHRvcmNoCgppbXBvcnQgZ2dtbApmcm9tIGN0eXBlc191dGlscyBpbXBvcnQgUHRyCmZyb20gZ2dtbCBpbXBvcnQgTmF0aXZlT2JqCmZyb20gZ2dtbF9jb252ZXJ0IGltcG9ydCBjb252ZXJ0X21vZGVsCgpDdHggPSBnZ21sLmdnbWxfY29udGV4dF9wCgpVTklUWV9NT0RFTFMgPSBQYXRoKF9fZmlsZV9fKS5wYXJlbnQgLyAiZXhhbXBsZXMvdW5pdHkvbW9kZWxzIgpDVFhfUEFSQU1TID0gZ2dtbC5nZ21sX2luaXRfcGFyYW1zKG1lbV9zaXplPTE2ICogMTAyNCAqIDEwMjQsIG1lbV9idWZmZXI9Tm9uZSkKCgpAcHl0ZXN0LmZpeHR1cmUobmFtZT0iY3R4IikKZGVmIF9jdHgoKSAtPiBJdGVyYXRvcltDdHhdOgogICAgIiIiQWxsb2NhdGUgYSBuZXcgY29udGV4dCB3aXRoIDE2IE1CIG9mIG1lbW9yeSIiIgogICAgdHJ5OgogICAgICAgIGN0eCA9IGdnbWwuZ2dtbF9pbml0KHBhcmFtcz1DVFhfUEFSQU1TKQogICAgICAgIHlpZWxkIGN0eAogICAgZmluYWxseToKICAgICAgICBnZ21sLmdnbWxfZnJlZShjdHgpCgoKZGVmIHRlc3RfZ2dtbF9iaW5kaW5nc193b3JrKGN0eDogQ3R4KSAtPiBOb25lOgogICAgIyBJbnN0YW50aWF0ZSB0ZW5zb3JzCiAgICB4ID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDEpCiAgICBhID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDEpCiAgICBiID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDEpCgogICAgIyBVc2UgZ2dtbCBvcGVyYXRpb25zIHRvIGJ1aWxkIGEgY29tcHV0YXRpb25hbCBncmFwaAogICAgeDIgPSBnZ21sLmdnbWxfbXVsKGN0eCwgeCwgeCkKICAgIGYgPSBnZ21sLmdnbWxfYWRkKGN0eCwgZ2dtbC5nZ21sX211bChjdHgsIGEsIHgyKSwgYikKCiAgICBnZiA9IGdnbWwuZ2dtbF9idWlsZF9mb3J3YXJkKGYpCgogICAgIyBTZXQgdGhlIGlucHV0IHZhbHVlcwogICAgZ2dtbC5nZ21sX3NldF9mMzIoeCwgMi4wKQogICAgZ2dtbC5nZ21sX3NldF9mMzIoYSwgMy4wKQogICAgZ2dtbC5nZ21sX3NldF9mMzIoYiwgNC4wKQoKICAgICMgQ29tcHV0ZSB0aGUgZ3JhcGgKICAgIGdnbWwuZ2dtbF9ncmFwaF9jb21wdXRlX3dpdGhfY3R4KGN0eCwgY3R5cGVzLnBvaW50ZXIoZ2YpLCAxKQoKICAgICMgR2V0IHRoZSBvdXRwdXQgdmFsdWUKICAgIG91dHB1dCA9IGdnbWwuZ2dtbF9nZXRfZjMyXzFkKGYsIDApCiAgICBhc3NlcnQgb3V0cHV0ID09IDE2LjAKCgpkZWYgdGVzdF9nZ21sX21hdG11bChjdHg6IEN0eCkgLT4gTm9uZToKICAgICMgSW5zdGFudGlhdGUgdGVuc29ycwogICAgYSA9IGdnbWwuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCA0LCAyKQogICAgeCA9IGdnbWwuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCA0LCAzKQoKICAgICMgVXNlIGdnbWwgb3BlcmF0aW9ucyB0byBidWlsZCBhIGNvbXB1dGF0aW9uYWwgZ3JhcGgKICAgIHkgPSBnZ21sLmdnbWxfbXVsX21hdChjdHgsIGEsIHgpCiAgICBhc3NlcnQgZ2dtbC5zaGFwZSh5KSA9PSAoMywgMikKICAgIGdmID0gZ2dtbC5nZ21sX2J1aWxkX2ZvcndhcmQoeSkKCiAgICAjIFNldCB0aGUgaW5wdXQgdmFsdWVzCiAgICBnZ21sLmdnbWxfc2V0X2YzMih4LCAwLjApCiAgICBmb3IgaSBpbiByYW5nZSg0ICogMyk6CiAgICAgICAgZ2dtbC5nZ21sX3NldF9mMzJfMWQoeCwgaSwgaSkKCiAgICBnZ21sLmdnbWxfc2V0X2YzMihhLCAwLjApCiAgICBnZ21sLmdnbWxfc2V0X2YzMl8xZChhLCAxLCAxLjApCiAgICBnZ21sLmdnbWxfc2V0X2YzMl8xZChhLCA3LCAxLjApCiAgICBnZ21sLmdnbWxfZ3JhcGhfY29tcHV0ZV93aXRoX2N0eChjdHgsIGN0eXBlcy5wb2ludGVyKGdmKSwgMSkKICAgIG91dHB1dCA9IFtbZ2dtbC5nZ21sX2dldF9mMzJfMWQoeSwgaiAqIDIgKyBpKSBmb3IgaiBpbiByYW5nZSgzKV0gZm9yIGkgaW4gcmFuZ2UoMildCiAgICBhc3NlcnQgb3V0cHV0ID09IFtbMSwgNSwgOV0sIFszLCA3LCAxMV1dCgoKZGVmIHRlc3Rfc2hhcGVfd29ya3MoY3R4OiBDdHgpIC0+IE5vbmU6CiAgICAiIiJHR01MIHNoYXBlIG9yZGVyIGNvbnZlbnRpb24gaXMgdGhlIHJldmVyc2UgZnJvbSBudW1weSIiIgogICAgYSA9IGdnbWwuZ2dtbF9uZXdfdGVuc29yXzFkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCAxMCkKICAgIGFzc2VydCBnZ21sLnNoYXBlKGEpID09ICgxMCwpCgogICAgYiA9IGdnbWwuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCAxMSwgMjEpCiAgICBhc3NlcnQgZ2dtbC5zaGFwZShiKSA9PSAoMjEsIDExKQoKICAgIGMgPSBnZ21sLmdnbWxfbmV3X3RlbnNvcl8zZChjdHgsIGdnbWwuR0dNTF9UWVBFX0YzMiwgMTIsIDIyLCAzMikKICAgIGFzc2VydCBnZ21sLnNoYXBlKGMpID09ICgzMiwgMjIsIDEyKQoKCmRlZiB0ZXN0X25iX3dvcmtzKGN0eDogQ3R4KSAtPiBOb25lOgogICAgYSA9IGdnbWwuZ2dtbF9uZXdfdGVuc29yXzFkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCAxMCkKICAgIGFzc2VydCBnZ21sLm5iKGEpID09ICg0LCA0MCwgNDAsIDQwKQoKICAgIGIgPSBnZ21sLmdnbWxfbmV3X3RlbnNvcl8yZChjdHgsIGdnbWwuR0dNTF9UWVBFX0YxNiwgMTEsIDIxKQogICAgYXNzZXJ0IGdnbWwubmIoYikgPT0gKDIsIDIyLCA0NjIsIDQ2MikKCiAgICBjID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfM2QoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDEyLCAyMiwgMzIpCiAgICBhc3NlcnQgZ2dtbC5uYihjKSA9PSAoNCwgNDgsIDEwNTYsIDMzNzkyKQoKCmRlZiB0ZXN0X3N0cmlkZXNfd29ya3MoY3R4OiBDdHgpIC0+IE5vbmU6CiAgICBhID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDEwKQogICAgYXNzZXJ0IGdnbWwuc3RyaWRlcyhhKSA9PSBucC5vbmVzKCgxMCwpLCBkdHlwZT1ucC5mbG9hdDMyKS5zdHJpZGVzCgogICAgYiA9IGdnbWwuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCAxMSwgMjEpCiAgICBhc3NlcnQgZ2dtbC5zdHJpZGVzKGIpID09IG5wLm9uZXMoKDIxLCAxMSksIGR0eXBlPW5wLmZsb2F0MzIpLnN0cmlkZXMKCiAgICBjID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfM2QoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDEyLCAyMiwgMzIpCiAgICBhc3NlcnQgZ2dtbC5zdHJpZGVzKGMpID09IG5wLm9uZXMoKDMyLCAyMiwgMTIpLCBkdHlwZT1ucC5mbG9hdDMyKS5zdHJpZGVzCgoKZGVmIHRlc3RfdG9fbnVtcHlfd29ya3Nfd2l0aF9mMzIoY3R4OiBDdHgpIC0+IE5vbmU6CiAgICBhID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDEwKQogICAgbmEgPSBnZ21sLnRvX251bXB5KGEpCiAgICBmb3IgaSBpbiByYW5nZSgxMCk6CiAgICAgICAgZ2dtbC5nZ21sX3NldF9mMzJfMWQoYSwgaSwgaSkKICAgIGFzc2VydCBuYVs1XSA9PSA1CiAgICBhc3NlcnQgbnAuYWxsY2xvc2UobmEsIG5wLmFycmF5KHJhbmdlKDEwKSwgZHR5cGU9bnAuZmxvYXQzMikpCiAgICBnZ21sLmdnbWxfc2V0X2YzMl8xZChhLCA1LCAtMS41KQogICAgYXNzZXJ0IG5hWzVdID09IC0xLjUKCiAgICAjIE5vdGU6IEdHTUwgb3JkZXIgb2YgZGltcyBpcyByZXZlcnNlZCB3cnQgbnVtcHkgc2hhcGVzCiAgICBiID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfMmQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDExLCAyMSkKICAgIGZvciBpIGluIHJhbmdlKDExICogMjEpOgogICAgICAgIGdnbWwuZ2dtbF9zZXRfZjMyXzFkKGIsIGksIGkpCiAgICBuYiA9IGdnbWwudG9fbnVtcHkoYikKICAgICMgYXNzZXJ0IG5iLnNoYXBlID09ICgyMSwgMTEpCiAgICBhc3NlcnQgbmJbMCwgNV0gPT0gNQogICAgYXNzZXJ0IG5iWzMsIDVdID09IDExICogMyArIDUKICAgIGFzc2VydCBucC5hbGxjbG9zZSgKICAgICAgICBuYiwgbnAuYXJyYXkocmFuZ2UoMTEgKiAyMSksIGR0eXBlPW5wLmZsb2F0MzIpLnJlc2hhcGUoZ2dtbC5zaGFwZShiKSkKICAgICkKICAgIGdnbWwuZ2dtbF9zZXRfZjMyXzFkKGIsIDExICogMyArIDUsIC0xLjUpCiAgICBhc3NlcnQgbmJbMywgNV0gPT0gLTEuNQoKICAgIHN1bV9yb3dzID0gZ2dtbC5nZ21sX3N1bV9yb3dzKGN0eCwgYikKICAgIGdmID0gZ2dtbC5nZ21sX2J1aWxkX2ZvcndhcmQoc3VtX3Jvd3MpCiAgICBnZ21sLmdnbWxfZ3JhcGhfY29tcHV0ZV93aXRoX2N0eChjdHgsIGN0eXBlcy5wb2ludGVyKGdmKSwgMSkKICAgIG5wX3N1bV9yb3dzID0gbnAuc3VtKG5iLCBheGlzPS0xLCBrZWVwZGltcz1UcnVlKQogICAgYXNzZXJ0IG5wX3N1bV9yb3dzLnNoYXBlID09IGdnbWwuc2hhcGUoc3VtX3Jvd3MpCiAgICBmb3IgaSBpbiByYW5nZSgxMSk6CiAgICAgICAgYXNzZXJ0IG5wX3N1bV9yb3dzW2ldID09IGdnbWwuZ2dtbF9nZXRfZjMyXzFkKHN1bV9yb3dzLCBpKQoKICAgIGMgPSBnZ21sLmdnbWxfbmV3X3RlbnNvcl8zZChjdHgsIGdnbWwuR0dNTF9UWVBFX0YzMiwgMTIsIDIyLCAzMikKICAgIGZvciBpIGluIHJhbmdlKDEyICogMjIgKiAzMik6CiAgICAgICAgZ2dtbC5nZ21sX3NldF9mMzJfMWQoYywgaSwgaSkKICAgIG5jID0gZ2dtbC50b19udW1weShjKQogICAgYXNzZXJ0IGdnbWwuc2hhcGUoYykgPT0gKDMyLCAyMiwgMTIpCiAgICBhc3NlcnQgbmNbMywgNSwgMTFdID09IDIyICogMTIgKiAzICsgMTIgKiA1ICsgMTEKICAgIGFzc2VydCBucC5hbGxjbG9zZSgKICAgICAgICBuYywgbnAuYXJyYXkocmFuZ2UoMTIgKiAyMiAqIDMyKSwgZHR5cGU9bnAuZmxvYXQzMikucmVzaGFwZShnZ21sLnNoYXBlKGMpKQogICAgKQogICAgZ2dtbC5nZ21sX3NldF9mMzJfMWQoYywgMjIgKiAxMiAqIDMgKyAxMiAqIDUgKyAxMSwgLTEuNSkKICAgIGFzc2VydCBuY1szLCA1LCAxMV0gPT0gLTEuNQoKCmRlZiB0ZXN0X2Zyb21fbnVtcHlfd29ya3Nfd2l0aF9mMzIoY3R4OiBDdHgpIC0+IE5vbmU6CiAgICBhID0gbnAucmFuZG9tLm5vcm1hbChzaXplPSgxMCwpKS5hc3R5cGUoZHR5cGU9bnAuZmxvYXQzMikKICAgIGdhID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgYSkKICAgIGFzc2VydCBnZ21sLnNoYXBlKGdhKSA9PSAoMTAsKQogICAgYXNzZXJ0IGdnbWwubmIoZ2EpID09IGdnbWwubmIoZ2dtbC5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDEwKSkKICAgIGFzc2VydCBucC5hbGxjbG9zZShhLCBnZ21sLnRvX251bXB5KGdhKSkKCiAgICBhID0gbnAucmFuZG9tLm5vcm1hbChzaXplPSgxMSwgMjEpKS5hc3R5cGUoZHR5cGU9bnAuZmxvYXQzMikKICAgIGdhID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgYSkKICAgIGFzc2VydCBnZ21sLnNoYXBlKGdhKSA9PSAoMTEsIDIxKQogICAgYXNzZXJ0IGdnbWwubmIoZ2EpID09IGdnbWwubmIoCiAgICAgICAgZ2dtbC5nZ21sX25ld190ZW5zb3JfMmQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsICphLnNoYXBlWzo6LTFdKQogICAgKQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKGEsIGdnbWwudG9fbnVtcHkoZ2EpKQoKICAgIGEgPSBucC5yYW5kb20ubm9ybWFsKHNpemU9KDEyLCAyMiwgMzIpKS5hc3R5cGUoZHR5cGU9bnAuZmxvYXQzMikKICAgIGdhID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgYSkKICAgIGFzc2VydCBnZ21sLnNoYXBlKGdhKSA9PSAoMTIsIDIyLCAzMikKICAgIGFzc2VydCBnZ21sLm5iKGdhKSA9PSBnZ21sLm5iKAogICAgICAgIGdnbWwuZ2dtbF9uZXdfdGVuc29yXzNkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCAqYS5zaGFwZVs6Oi0xXSkKICAgICkKICAgIGFzc2VydCBucC5hbGxjbG9zZShhLCBnZ21sLnRvX251bXB5KGdhKSkKCgpkZWYgdGVzdF90b19udW1weV93b3Jrc193aXRoX2YxNihjdHg6IEN0eCkgLT4gTm9uZToKICAgICMgV2UgZXhwbGljaXRseSBmaWxsIHRoZSB0ZW5zb3Igb3RoZXJ3aXNlIHRoZXkgbWlnaHQgaGF2ZSBub24temVybyB2YWx1ZXMgaW4gdGhlbS4KICAgIGEgPSBnZ21sLmdnbWxfbmV3X3RlbnNvcl8xZChjdHgsIGdnbWwuR0dNTF9UWVBFX0YxNiwgMTApCiAgICBuYSA9IGdnbWwudG9fbnVtcHkoYSkKICAgIGdnbWwuZ2dtbF9zZXRfZjMyKGEsIDIuMTQpCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UobmEsIG5wLm9uZXMoKDEwLCksIGR0eXBlPW5wLmZsb2F0MTYpICogMi4xNCkKICAgIGdnbWwuZ2dtbF9zZXRfZjMyKGEsIDQuMjgpCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UobmEsIG5wLm9uZXMoKDEwLCksIGR0eXBlPW5wLmZsb2F0MTYpICogNC4yOCkKCiAgICBiID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfMmQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMTYsIDExLCAyMSkKICAgIG5iID0gZ2dtbC50b19udW1weShiKQogICAgZ2dtbC5nZ21sX3NldF9mMzIoYiwgNC4xOCkKICAgIGFzc2VydCBucC5hbGxjbG9zZShuYiwgbnAub25lcygoMjEsIDExKSwgZHR5cGU9bnAuZmxvYXQxNikgKiA0LjE4KQogICAgZ2dtbC5nZ21sX3NldF9mMzIoYiwgNS4xMikKICAgIGFzc2VydCBucC5hbGxjbG9zZShuYiwgbnAub25lcygoMjEsIDExKSwgZHR5cGU9bnAuZmxvYXQxNikgKiA1LjEyKQoKICAgIGMgPSBnZ21sLmdnbWxfbmV3X3RlbnNvcl8zZChjdHgsIGdnbWwuR0dNTF9UWVBFX0YxNiwgMTIsIDIyLCAzMikKICAgIG5jID0gZ2dtbC50b19udW1weShjKQogICAgZ2dtbC5nZ21sX3NldF9mMzIoYywgMy4xNikKICAgIGFzc2VydCBucC5hbGxjbG9zZShuYywgbnAub25lcygoMzIsIDIyLCAxMiksIGR0eXBlPW5wLmZsb2F0MTYpICogMy4xNikKICAgIGdnbWwuZ2dtbF9zZXRfZjMyKGMsIDUuMDgpCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UobmMsIG5wLm9uZXMoKDMyLCAyMiwgMTIpLCBkdHlwZT1ucC5mbG9hdDE2KSAqIDUuMDgpCgoKZGVmIHRlc3RfZnJvbV9udW1weV93b3Jrc193aXRoX2YxNihjdHg6IEN0eCkgLT4gTm9uZToKICAgIGEgPSBucC5yYW5kb20ubm9ybWFsKHNpemU9KDEwLCkpLmFzdHlwZShkdHlwZT1ucC5mbG9hdDE2KQogICAgZ2EgPSBnZ21sLmZyb21fbnVtcHkoY3R4LCBhKQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKGEsIGdnbWwudG9fbnVtcHkoZ2EpKQogICAgYSA9IG5wLnJhbmRvbS5ub3JtYWwoc2l6ZT0oMTEsIDIxKSkuYXN0eXBlKGR0eXBlPW5wLmZsb2F0MTYpCiAgICBnYSA9IGdnbWwuZnJvbV9udW1weShjdHgsIGEpCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UoYSwgZ2dtbC50b19udW1weShnYSkpCiAgICBhID0gbnAucmFuZG9tLm5vcm1hbChzaXplPSgxMiwgMjIsIDMyKSkuYXN0eXBlKGR0eXBlPW5wLmZsb2F0MTYpCiAgICBnYSA9IGdnbWwuZnJvbV9udW1weShjdHgsIGEpCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UoYSwgZ2dtbC50b19udW1weShnYSkpCgoKZGVmIHRlc3RfdG9fbnVtcHlfd29ya3Nfd2l0aF90cmFuc3Bvc2VkKGN0eDogQ3R4KSAtPiBOb25lOgogICAgZ2EgPSBnZ21sLmdnbWxfbmV3X3RlbnNvcl8yZChjdHgsIGdnbWwuR0dNTF9UWVBFX0YzMiwgMTAsIDUpCiAgICBhID0gZ2dtbC50b19udW1weShnYSkKICAgIGFbLi4uXSA9IG5wLmFyYW5nZSg1MCkucmVzaGFwZSg1LCAxMCkuYXN0eXBlKGR0eXBlPW5wLmZsb2F0MzIpCgogICAgZ2F0ID0gZ2dtbC5nZ21sX3RyYW5zcG9zZShjdHgsIGdhKQogICAgYXQgPSBnZ21sLnRvX251bXB5KGdhdCkKICAgIGFzc2VydCBucC5hbGxjbG9zZShhLlQsIGF0KQoKCmRlZiB0ZXN0X2dnbWxfc2xpY2UoY3R4OiBDdHgpIC0+IE5vbmU6CiAgICBnYSA9IGdnbWwuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCAxMCwgNSkKICAgIGEgPSBnZ21sLnRvX251bXB5KGdhKQogICAgYVsuLi5dID0gbnAuYXJhbmdlKDUwKS5yZXNoYXBlKDUsIDEwKS5hc3R5cGUoZHR5cGU9bnAuZmxvYXQzMikKCiAgICBnczAgPSBnZ21sLmdnbWxfc2xpY2UoY3R4LCBnYSwgMCwgMywgNykKICAgIHMwID0gZ2dtbC50b19udW1weShnczApCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UoYVs6LCAzOjddLCBzMCkKCiAgICBnczEgPSBnZ21sLmdnbWxfc2xpY2UoY3R4LCBnYSwgMSwgMiwgNSkKICAgIHMxID0gZ2dtbC50b19udW1weShnczEpCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UoYVsyOjUsIDpdLCBzMSkKCgpAcHl0ZXN0Lm1hcmsueGZhaWwocmVhc29uPSJ0b19udW1weSBub3QgaW1wbGVtZW50ZWQiKQpkZWYgdGVzdF9nZ21sX3RyYW5zcG9zZV9hbmRfc2xpY2UoY3R4OiBDdHgpIC0+IE5vbmU6CiAgICBnYSA9IGdnbWwuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCAxMCwgNSkKICAgIGEgPSBnZ21sLnRvX251bXB5KGdhKQogICAgYVsuLi5dID0gbnAuYXJhbmdlKDUwKS5yZXNoYXBlKDUsIDEwKS5hc3R5cGUoZHR5cGU9bnAuZmxvYXQzMikKCiAgICBnYXQgPSBnZ21sLmdnbWxfdHJhbnNwb3NlKGN0eCwgZ2EpCiAgICBnczAgPSBnZ21sLmdnbWxfc2xpY2UoY3R4LCBnYXQsIDAsIDIsIDUpCiAgICBzMCA9IGdnbWwudG9fbnVtcHkoZ3MwKQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKGEuVFs6LCAyOjVdLCBzMCkKCiAgICBnczEgPSBnZ21sLmdnbWxfc2xpY2UoY3R4LCBnYXQsIDEsIDMsIDcpCiAgICBzMSA9IGdnbWwudG9fbnVtcHkoZ3MxKQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKGEuVFszOjcsIDpdLCBzMSkKCgpkZWYgdGVzdF9udW1weV9tdWxfbWF0KGN0eDogQ3R4KSAtPiBOb25lOgogICAgc2xlbiwgZF9pbiwgZF9vdXQgPSAoNSwgNCwgMikKICAgICMgdG9yY2gubm4gYW5kIGZhaXJzZXEyLm5uIGFzc3VtZXMgKHNlcV9sZW4sIGRpbSkgdG8gcmVwcmVzZW50IGlucHV0cywKICAgIHggPSBucC56ZXJvcygoc2xlbiwgZF9pbiksIGR0eXBlPW5wLmZsb2F0MzIpICAjIChzZXFfbGVuLCBkaW1faW4pCiAgICB4WzAsIDpdID0gWzEsIDEgLyAzLCAwLCAwXQoKICAgIHdlaWdodCA9IG5wLmV5ZShkX291dCwgZF9pbiwgZHR5cGU9bnAuZmxvYXQzMikKICAgIHdlaWdodFsxLCAxXSA9IDEKICAgICMgYXNzZXJ0IHdlaWdodC5zaGFwZSA9PSAoZF9vdXQsIGRfaW4pICMgKGRpbV9vdXQsIGRpbV9pbikKICAgIHlfZXhwID0geCBAIHdlaWdodC5UICAjIChzZXFfbGVuLCBkaW1fb3V0KQoKICAgIGd4ID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgeCkgICMgKGRpbV9pbiwgc2VxX2xlbikKICAgIGd3ID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgd2VpZ2h0KSAgIyAoZGltX2luLCBkaW1fb3V0KQogICAgIyBnYiA9IGdnbWwuZnJvbV9udW1weShjdHgsIGxpbmVhci5iaWFzLm51bXB5KCkpICAjIChkaW1fb3V0KQogICAgIyBHR01MIGxpbmVhciBpbXBsCiAgICBhc3NlcnQgZ2dtbC5nZ21sX2Nhbl9tdWxfbWF0KGd3LCBneCkKICAgICMgZ3kgPSBnZ21sLmdnbWxfYWRkKGN0eCwgZ2dtbC5nZ21sX211bF9tYXQoY3R4LCBndywgZ3gpLCBnYikgICMgKGRpbV9vdXQsIHNlcV9sZW4pCiAgICBneSA9IGdnbWwuZ2dtbF9tdWxfbWF0KGN0eCwgZ3csIGd4KSAgIyAoZGltX291dCwgc2VxX2xlbikKCiAgICBnZ21sLmJ1aWxkX2FuZF9jb21wdXRlKGN0eCwgZ3kpCgogICAgeSA9IGdnbWwudG9fbnVtcHkoZ3kpCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UoeV9leHAsIHkpCgoKQHB5dGVzdC5tYXJrLnBhcmFtZXRyaXplKCJuZGltIiwgWzIsIDMsIDRdKQpkZWYgdGVzdF9mbGF0dGVuKGN0eDogQ3R4LCBuZGltOiBpbnQpIC0+IE5vbmU6CiAgICBzaGFwZSA9IFsxMSwgNywgNSwgM11bOm5kaW1dICAjIFByaW1lIG51bWJlcnMgdG8gYXZvaWQgc3VycHJpc2VzCiAgICBudW1lbCA9IGZ1bmN0b29scy5yZWR1Y2UobGFtYmRhIGEsIGI6IGEgKiBiLCBzaGFwZSwgMSkKICAgIHggPSB0b3JjaC5hcmFuZ2UobnVtZWwsIGR0eXBlPXRvcmNoLmZsb2F0MzIpLnJlc2hhcGUoc2hhcGUpCiAgICBmb3IgdG9yY2hfZGltIGluIHJhbmdlKG5kaW0gLSAxKToKICAgICAgICBnZ21sX2RpbSA9IG5kaW0gLSAxIC0gdG9yY2hfZGltCiAgICAgICAgbiA9IHguc2hhcGVbdG9yY2hfZGltICsgMV0KCiAgICAgICAgZ3ggPSBnZ21sLmZyb21fbnVtcHkoY3R4LCB4KQogICAgICAgIGd4MSA9IGdnbWwuZ2dtbF9mbGF0dGVuXzFkKGN0eCwgZ3gsIGdnbWxfZGltIC0gMSkKICAgICAgICBneSA9IGdnbWwuZ2dtbF91bmZsYXR0ZW5fMWQoY3R4LCBneDEsIGdnbWxfZGltIC0gMSwgbikKCiAgICAgICAgeDEgPSB4LmZsYXR0ZW4odG9yY2hfZGltLCB0b3JjaF9kaW0gKyAxKQogICAgICAgIHkgPSB4MS51bmZsYXR0ZW4odG9yY2hfZGltLCAoLTEsIG4pKQogICAgICAgIGFzc2VydCB5LnNoYXBlID09IHguc2hhcGUKICAgICAgICBhc3NlcnQgbnAuYWxsY2xvc2UoeS5udW1weSgpLCB4Lm51bXB5KCkpCiAgICAgICAgYXNzZXJ0IHgxLnNoYXBlID09IGdnbWwuc2hhcGUoZ3gxKQogICAgICAgIGFzc2VydCBucC5hbGxjbG9zZSh4MS5udW1weSgpLCBnZ21sLnRvX251bXB5KGd4MSkpCiAgICAgICAgYXNzZXJ0IHkuc2hhcGUgPT0gZ2dtbC5zaGFwZShneSkKICAgICAgICBhc3NlcnQgbnAuYWxsY2xvc2UoeS5udW1weSgpLCBnZ21sLnRvX251bXB5KGd5KSkKCgpAdG9yY2gubm9fZ3JhZCgpCmRlZiB0ZXN0X3RvcmNoX3NwZGFfdnNfZ2dtbF9mbGFzaF9hdHRuKGN0eDogQ3R4KSAtPiBOb25lOgogICAgc2xlbiwgZF9pbiwgbnVtX2hlYWRzID0gKDUsIDQsIDIpCiAgICB0b3JjaC5yYW5kb20ubWFudWFsX3NlZWQoMCkKICAgIHEgPSB0b3JjaC56ZXJvcygobnVtX2hlYWRzLCBzbGVuLCBkX2luKSkKICAgIHRvcmNoLm5uLmluaXQudW5pZm9ybV8ocSwgLTEsIDEpCiAgICBrID0gdG9yY2guemVyb3MoKG51bV9oZWFkcywgc2xlbiwgZF9pbikpCiAgICB0b3JjaC5ubi5pbml0LnVuaWZvcm1fKGssIC0xLCAxKQogICAgdiA9IHRvcmNoLnplcm9zKChudW1faGVhZHMsIHNsZW4sIGRfaW4pKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyh2LCAtMSwgMSkKCiAgICAjIE5vdGU6IHdlIGFyZSB1c2luZyB4IGZvciBib3RoIGtleXMgYW5kIHF1ZXJpZXMsIHNvIGV2ZXJ5IHBvc2l0aW9uCiAgICAjIGF0dGVuZHMgbW9zdGx5IHRvIGl0c2VsZiwgaGVuY2UgeV9leHAgbG9va3MgYSBiaXQgbGlrZSBhcmFuZ2Uoc2xlbikKICAgIHlfZXhwID0gdG9yY2gubm4uZnVuY3Rpb25hbC5zY2FsZWRfZG90X3Byb2R1Y3RfYXR0ZW50aW9uKHEsIGssIHYsIGlzX2NhdXNhbD1UcnVlKQogICAgeV9leHAgPSB5X2V4cC5udW1weSgpCiAgICBncSA9IGdnbWwuZnJvbV9udW1weShjdHgsIHEubnVtcHkoKSkKICAgIGdrID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgay5udW1weSgpKQogICAgIyBnZ21sIGZsYXNoIGF0dGVudGlvbiBleHBlY3QgYSBkaWZmZXJlbnQgb3JkZXIgb2YgYXhpcyBmb3IgdjoKICAgICMgKEgsIHNsZW4sIEhfZGltKSAtPiAoSCwgSF9kaW0sIHNsZW4pCiAgICBndiA9IGdnbWwuZnJvbV9udW1weShjdHgsIHYudHJhbnNwb3NlKDEsIDIpLmNvbnRpZ3VvdXMoKS5udW1weSgpKQogICAgYXNzZXJ0IGdnbWwuc2hhcGUoZ3YpID09IChudW1faGVhZHMsIGRfaW4sIHNsZW4pCiAgICBneSA9IGdnbWwuZ2dtbF9mbGFzaF9hdHRuKGN0eCwgZ3EsIGdrLCBndiwgVHJ1ZSkKICAgIGdmID0gZ2dtbC5nZ21sX2J1aWxkX2ZvcndhcmQoZ3kpCiAgICBnZ21sLmdnbWxfZ3JhcGhfY29tcHV0ZV93aXRoX2N0eChjdHgsIGN0eXBlcy5wb2ludGVyKGdmKSwgMSkKCiAgICB5ID0gZ2dtbC50b19udW1weShneSkKICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSkKCgpAcHl0ZXN0Lm1hcmsucGFyYW1ldHJpemUoInNoYXBlIiwgWyg1LCA4LCA0KSwgKDIsIDUsIDgsIDQpXSkKZGVmIHRlc3RfZ2dtbF9zb2Z0bWF4X3ZzX3RvcmNoKGN0eDogQ3R4LCBzaGFwZTogVHVwbGVbaW50LCAuLi5dKSAtPiBOb25lOgogICAgeCA9IHRvcmNoLmVtcHR5KHNoYXBlKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyh4LCAtMSwgMSkKICAgIHlfZXhwID0gdG9yY2guc29mdG1heCh4LCBkaW09LTEpLm51bXB5KCkKCiAgICBneCA9IGdnbWwuZnJvbV9udW1weShjdHgsIHgubnVtcHkoKSkKICAgIGd5ID0gZ2dtbC5nZ21sX3NvZnRfbWF4KGN0eCwgZ3gpCgogICAgZ2dtbC5idWlsZF9hbmRfY29tcHV0ZShjdHgsIGd5KQoKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKHlfZXhwLCB5LCBydG9sPTFlLTMpCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UobnAuYXJnbWF4KHlfZXhwLCBheGlzPS0xKSwgbnAuYXJnbWF4KHksIGF4aXM9LTEpKQoKCmRlZiB0ZXN0X2Nhbl9yZXR1cm5faHlwb3RoZXNpc19wdHIoY3R4OiBDdHgpIC0+IE5vbmU6CiAgICBoeXBfcHRyID0gZ2dtbC5fdGVzdGluZ19yZXR1cm5faHlwb3RoZXNpc19wdHIoY3R4KQoKICAgIGh5cDAsIGh5cDEgPSBoeXBfcHRyWzBdLCBoeXBfcHRyWzFdCiAgICBhc3NlcnQgZ2dtbC50b19udW1weShoeXAwLnNlcSkudG9saXN0KCkgPT0gWzMxNF0KICAgIGFzc2VydCBoeXAwLnNjb3JlID09IHB5dGVzdC5hcHByb3goMy4xNCkKCiAgICBhc3NlcnQgZ2dtbC50b19udW1weShoeXAxLnNlcSkudG9saXN0KCkgPT0gWzQyMV0KICAgIGFzc2VydCBoeXAxLnNjb3JlID09IHB5dGVzdC5hcHByb3goNC4yMSkKCgpAcHl0ZXN0Lm1hcmsucGFyYW1ldHJpemUoImlucGxhY2UiLCBbIiIsICJpbnBsYWNlIl0pCmRlZiB0ZXN0X3NldF8yZChjdHg6IEN0eCwgaW5wbGFjZTogYm9vbCk6CiAgICBhID0gdG9yY2guZW1wdHkoKDUsIDMsIDIpKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyhhLCAtMSwgMSkKICAgIGIgPSB0b3JjaC5lbXB0eSgoMywgMikpCiAgICB0b3JjaC5ubi5pbml0LnVuaWZvcm1fKGIsIC0xLCAxKQogICAgYV9vcmlnaW5hbCA9IGEuY2xvbmUoKQoKICAgICMgbWFrZSBhIGNvcHkgb2YgYGFgIGJlZm9yZSB3ZSBtb2RpZnkgaXQKICAgIGdhID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgYS5jbG9uZSgpLm51bXB5KCkpCiAgICBnYiA9IGdnbWwuZnJvbV9udW1weShjdHgsIGIubnVtcHkoKSkKICAgIGFbMywgLi4uXSA9IGIKCiAgICBzZXRfMmQgPSBnZ21sLmdnbWxfc2V0XzJkX2lucGxhY2UgaWYgaW5wbGFjZSBlbHNlIGdnbWwuZ2dtbF9zZXRfMmQKICAgIGdhX3VwZGF0ZWQgPSBzZXRfMmQoY3R4LCBnYSwgZ2IsIGdnbWwubmIoZ2EpWzFdLCBnZ21sLm5iKGdhKVsyXSAqIDMpCiAgICBnZ21sLmJ1aWxkX2FuZF9jb21wdXRlKGN0eCwgZ2FfdXBkYXRlZCkKCiAgICBhX3VwZGF0ZWQgPSBnZ21sLnRvX251bXB5KGdhIGlmIGlucGxhY2UgZWxzZSBnYV91cGRhdGVkKQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKGEubnVtcHkoKSwgYV91cGRhdGVkKQoKICAgIGlmIG5vdCBpbnBsYWNlOgogICAgICAgICMgV2hlbiBub3QgdXNpbmcgc2V0XzJkX2lucGxhY2UsIHRoZSBvcmlnaW5hbCB0ZW5zb3IgaXMgdW5tb2RpZmllZC4KICAgICAgICBhc3NlcnQgbnAuYWxsY2xvc2UoZ2dtbC50b19udW1weShnYSksIGFfb3JpZ2luYWwubnVtcHkoKSkKICAgICAgICBhc3NlcnQgZ2EuY29udGVudHMuZGF0YSAhPSBnYV91cGRhdGVkLmNvbnRlbnRzLmRhdGEK'),
    ('seamless/ggml/ggml_convert.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCgojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBkYXRhY2xhc3NlcwppbXBvcnQgbG9nZ2luZwppbXBvcnQgc3RydWN0CmZyb20gZW51bSBpbXBvcnQgRW51bQpmcm9tIGlvIGltcG9ydCBCdWZmZXJlZFdyaXRlcgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgQ2FsbGFibGUsIERpY3QsIExpc3QsIE9wdGlvbmFsLCBNYXBwaW5nLCBUdXBsZSwgVW5pb24sIFNlcXVlbmNlLCBTZXQsIGZpbmFsCmltcG9ydCByZQoKaW1wb3J0IHRvcmNoCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBBc3NldENhcmQKZnJvbSBmYWlyc2VxMi5tb2RlbHMudHJhbnNmb3JtZXIuZnJvbnRlbmQgaW1wb3J0IFRyYW5zZm9ybWVyRW1iZWRkaW5nRnJvbnRlbmQKZnJvbSBmYWlyc2VxMi5ubiBpbXBvcnQgU2ludXNvaWRhbFBvc2l0aW9uRW5jb2Rlcgpmcm9tIGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyIGltcG9ydCBSZWxhdGl2ZVBvc2l0aW9uYWxFbmNvZGluZwpmcm9tIGZhaXJzZXEyLmRhdGEudGV4dCBpbXBvcnQgU2VudGVuY2VQaWVjZUVuY29kZXIsIFNlbnRlbmNlUGllY2VUb2tlbml6ZXJCYXNlCmZyb20gZmFpcnNlcTIuZGF0YS50eXBpbmcgaW1wb3J0IFBhdGhMaWtlCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEZXZpY2UsIGZpbmFsb3ZlcnJpZGUKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMgaW1wb3J0IFRva2VuaXplckxvYWRlckJhc2UsIE1vZGVsTG9hZGVyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzLmNoZWNrcG9pbnQgaW1wb3J0IGNvbnZlcnRfbW9kZWxfc3RhdGVfZGljdApmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUsIGRvd25sb2FkX21hbmFnZXIKCmltcG9ydCBnZ21sCgpQcmVwcm9jZXNzb3IgPSBDYWxsYWJsZVtbQW55XSwgQW55XQpsb2cgPSBsb2dnaW5nLmdldExvZ2dlcigiZ2dtbF9jb252ZXJ0IikKCgpjbGFzcyBNb2RlbFR5cGUoc3RyLCBFbnVtKToKICAgIEFVVE8gPSAiYXV0byIgICMgaW5mZXJyZWQgZnJvbSB0aGUgbW9kZWwgbmFtZQogICAgVU5JVFkgPSAidW5pdHkiCiAgICBOTExCID0gIm5sbGIiCiAgICBNVCA9ICJiaXRleHQiCiAgICBNVFMgPSAiYml0ZXh0X3NjcmlwdGVkIgoKClVOSVRZX1NNQUxMRVJfTU9ERUxTID0gWwogICAgInVuaXR5X25hbm8iLAogICAgInVuaXR5X21pY3JvIiwKXSAgIyBUcmFpbmVkIHdpdGggZmFpcnNlcTIsIHdpdGggY3VzdG9tIGRpY3QgKG5vdCBvcmlnaW5hbCBOTExCIG9uZXMpCgoKTkxMQl8yX1VOSVRZX0tFWU1BUCA9IHsKICAgIHIiXmVuY29kZXJfZnJvbnRlbmRcLiI6IHIidGV4dF9lbmNvZGVyX2Zyb250ZW5kLiIsCiAgICByIl5lbmNvZGVyXC4iICAgICAgICAgOiByInRleHRfZW5jb2Rlci4iLAogICAgciJeZGVjb2RlclwuIiAgICAgICAgIDogciJ0ZXh0X2RlY29kZXIuIiwKICAgIHIiXmRlY29kZXJfZnJvbnRlbmRcLiI6IHIidGV4dF9kZWNvZGVyX2Zyb250ZW5kLiIsCn0KCgpAZmluYWwKY2xhc3MgTmxsYkxpa2VUb2tlbml6ZXIoU2VudGVuY2VQaWVjZVRva2VuaXplckJhc2UpOgogICAgIiIiVGhlIG9ubHkgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoaXMgY2xhc3MgYW5kIE5sbGJUb2tlbml6ZXIgaXMgaXQgZG9lc24ndCBhZGQgYSA8cGFkPiB0byBjb250cm9sIHN5bWJvbCBsaXN0LgogICAgU2luY2UgTmxsYlRva2VuaXplciBpcyBkZWZpbmVkIGFzIGZpbmFsLCB3ZSBjb3VsZG4ndCBpbmhlcml0IGZyb20gaXQgZGlyZWN0bHkuIFNvIGNvcHlpbmcgfmV2ZXJ5dGhpbmciIiIKCiAgICBsYW5nczogU2V0W3N0cl0KICAgIGRlZmF1bHRfbGFuZzogc3RyCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIHBhdGhuYW1lOiBQYXRoTGlrZSwgbGFuZ3M6IFNlcXVlbmNlW3N0cl0sIGRlZmF1bHRfbGFuZzogc3RyCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIHBhdGhuYW1lOgogICAgICAgICAgICBUaGUgcGF0aG5hbWUgb2YgdGhlIFNlbnRlbmNlUGllY2UgbW9kZWwgZmlsZS4KICAgICAgICA6cGFyYW0gbGFuZ3M6CiAgICAgICAgICAgIFRoZSBsaXN0IG9mIHN1cHBvcnRlZCBsYW5ndWFnZXMuCiAgICAgICAgOnBhcmFtIGRlZmF1bHRfbGFuZzoKICAgICAgICAgICAgVGhlIGZhbGwtYmFjayBsYW5ndWFnZSBpZiBubyBsYW5ndWFnZSBpcyBzcGVjaWZpZWQuCiAgICAgICAgIiIiCiAgICAgICAgIyBFYWNoIGxhbmd1YWdlIGlzIHJlcHJlc2VudGVkIGJ5IGEgYF9fbGFuZ19fYCBjb250cm9sIHN5bWJvbC4KICAgICAgICBjb250cm9sX3N5bWJvbHMgPSBbZiJfX3tsYW5nfV9fIiBmb3IgbGFuZyBpbiBsYW5nc10KCiAgICAgICAgIyBJbnRlcm5hbCBjb250cm9sIHN5bWJvbHMgdGhhdCBhcmUgbm90IHJlbGV2YW50IGZvciBldmFsIHVzZS4KICAgICAgICBjb250cm9sX3N5bWJvbHMuZXh0ZW5kKFsiPE1JTkVEX0RBVEE+IiwgIjxNTVRfQlRfREFUQT4iLCAiPFNNVF9CVF9EQVRBPiJdKQogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGF0aG5hbWUsIGNvbnRyb2xfc3ltYm9scykKCiAgICAgICAgc2VsZi5sYW5ncyA9IHNldChsYW5ncykKCiAgICAgICAgc2VsZi5kZWZhdWx0X2xhbmcgPSBkZWZhdWx0X2xhbmcKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGNyZWF0ZV9lbmNvZGVyKAogICAgICAgIHNlbGYsCiAgICAgICAgKiwKICAgICAgICB0YXNrOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBsYW5nOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBtb2RlOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIHBpbl9tZW1vcnk6IGJvb2wgPSBGYWxzZSwKICAgICkgLT4gU2VudGVuY2VQaWVjZUVuY29kZXI6CiAgICAgICAgIiIiQ3JlYXRlIGEgdG9rZW4gZW5jb2Rlci4KCiAgICAgICAgOnBhcmFtIHRhc2s6CiAgICAgICAgICAgIE11c3QgYmUgJ3RyYW5zbGF0aW9uJy4gSWYgYGBOb25lYGAsIGRlZmF1bHRzIHRvICd0cmFuc2xhdGlvbicuCiAgICAgICAgOnBhcmFtIGxhbmc6CiAgICAgICAgICAgIEEgbGFuZ3VhZ2UgZnJvbSA6YXR0cjpgbGFuZ3NgLiBJZiBgYE5vbmVgYCwgZGVmYXVsdHMgdG8KICAgICAgICAgICAgOmF0dHI6YGRlZmF1bHRfbGFuZ2AuCiAgICAgICAgOnBhcmFtIG1vZGU6CiAgICAgICAgICAgIE11c3QgYmUgJ3NvdXJjZScgb3IgJ3RhcmdldCcuIFNldCB0byAnc291cmNlJyBpZiBgYGxhbmdgYCBpcyB0aGUKICAgICAgICAgICAgc291cmNlIGxhbmd1YWdlOyBzZXQgdG8gJ3RhcmdldCcgaWYgYGBsYW5nYGAgaXMgdGhlIHRhcmdldCBsYW5ndWFnZS4KICAgICAgICAgICAgSWYgYGBOb25lYGAsIGRlZmF1bHRzIHRvICdzb3VyY2UnLgogICAgICAgIDpwYXJhbSBkZXZpY2U6CiAgICAgICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gY29uc3RydWN0IHRlbnNvcnMuCiAgICAgICAgOnBhcmFtIHBpbl9tZW1vcnk6CiAgICAgICAgICAgIElmIGBgVHJ1ZWBgLCB1c2VzIHBpbm5lZCBtZW1vcnkgd2hpbGUgY29uc3RydWN0aW5nIHRlbnNvcnMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgdGFzayBpcyBub3QgTm9uZSBhbmQgdGFzayAhPSAidHJhbnNsYXRpb24iOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiYHRhc2tgIG11c3QgYmUgJ3RyYW5zbGF0aW9uJywgYnV0IGlzICd7dGFza30nIGluc3RlYWQuIikKCiAgICAgICAgaWYgbGFuZyBpcyBOb25lOgogICAgICAgICAgICBsYW5nID0gc2VsZi5kZWZhdWx0X2xhbmcKCiAgICAgICAgaWYgbGFuZyBub3QgaW4gc2VsZi5sYW5nczoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgIGYiYGxhbmdgIG11c3QgYmUgYSBzdXBwb3J0ZWQgbGFuZ3VhZ2UsIGJ1dCBpcyAne2xhbmd9JyBpbnN0ZWFkLiIKICAgICAgICAgICAgKQoKICAgICAgICBpZiBtb2RlIGlzIE5vbmUgb3IgbW9kZSA9PSAic291cmNlIjoKICAgICAgICAgICAgIyBOTExCIG1vZGVscyBleHBlY3QgYSBsYW5ndWFnZSB0b2tlbiBpbiBwbGFjZSBvZiBCT1MgaW4gc291cmNlCiAgICAgICAgICAgICMgc2VxdWVuY2VzLgogICAgICAgICAgICBwcmVmaXhfdG9rZW5zID0gW2YiX197bGFuZ31fXyJdCiAgICAgICAgICAgIHN1ZmZpeF90b2tlbnMgPSBbIjwvcz4iXQogICAgICAgIGVsaWYgbW9kZSA9PSAic291cmNlX21pbmluZyI6CiAgICAgICAgICAgIHByZWZpeF90b2tlbnMgPSBbZiJfX3tsYW5nfV9fIiwgIjxNSU5FRF9EQVRBPiJdCiAgICAgICAgICAgIHN1ZmZpeF90b2tlbnMgPSBbIjwvcz4iXQogICAgICAgIGVsaWYgbW9kZSA9PSAic291cmNlX21tdF9idCI6CiAgICAgICAgICAgIHByZWZpeF90b2tlbnMgPSBbZiJfX3tsYW5nfV9fIiwgIjxNTVRfQlRfREFUQT4iXQogICAgICAgICAgICBzdWZmaXhfdG9rZW5zID0gWyI8L3M+Il0KICAgICAgICBlbGlmIG1vZGUgPT0gInNvdXJjZV9zbXRfYnQiOgogICAgICAgICAgICBwcmVmaXhfdG9rZW5zID0gW2YiX197bGFuZ31fXyIsICI8U01UX0JUX0RBVEE+Il0KICAgICAgICAgICAgc3VmZml4X3Rva2VucyA9IFsiPC9zPiJdCiAgICAgICAgZWxpZiBtb2RlID09ICJ0YXJnZXQiOgogICAgICAgICAgICAjIFRhcmdldCBzZXF1ZW5jZXMgYXJlIGV4cGVjdGVkIHRvIHN0YXJ0IHdpdGggYW4gRU9TLCBmb2xsb3dlZCBieQogICAgICAgICAgICAjIHRoZSBsYW5ndWFnZSB0b2tlbi4KICAgICAgICAgICAgcHJlZml4X3Rva2VucyA9IFsiPC9zPiIsIGYiX197bGFuZ31fXyJdCiAgICAgICAgICAgIHN1ZmZpeF90b2tlbnMgPSBbXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICBmImBtb2RlYCBtdXN0IGJlICdzb3VyY2UnIG9yICd0YXJnZXQnLCBidXQgaXMgJ3ttb2RlfScgaW5zdGVhZC4iCiAgICAgICAgICAgICkKCiAgICAgICAgcmV0dXJuIFNlbnRlbmNlUGllY2VFbmNvZGVyKAogICAgICAgICAgICBzZWxmLm1vZGVsLAogICAgICAgICAgICBwcmVmaXhfdG9rZW5zPXByZWZpeF90b2tlbnMsCiAgICAgICAgICAgIHN1ZmZpeF90b2tlbnM9c3VmZml4X3Rva2VucywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgcGluX21lbW9yeT1waW5fbWVtb3J5LAogICAgICAgICkKCgpAZmluYWwKY2xhc3MgTmxsYkxpa2VUb2tlbml6ZXJMb2FkZXIoVG9rZW5pemVyTG9hZGVyQmFzZVtObGxiTGlrZVRva2VuaXplcl0pOgogICAgIiIiTG9hZHMgdG9rZW5pemVycyB1c2VkIGJ5IE5MTEIgbW9kZWxzLiIiIgoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgX2xvYWQoc2VsZiwgcGF0aG5hbWU6IFBhdGgsIGNhcmQ6IEFzc2V0Q2FyZCkgLT4gTmxsYkxpa2VUb2tlbml6ZXI6CiAgICAgICAgbGFuZ3MgPSBjYXJkLmZpZWxkKCJsYW5ncyIpLmFzX2xpc3Qoc3RyKQoKICAgICAgICBkZWZhdWx0X2xhbmcgPSBjYXJkLmZpZWxkKCJkZWZhdWx0X2xhbmciKS5hc18oc3RyKQoKICAgICAgICByZXR1cm4gTmxsYkxpa2VUb2tlbml6ZXIocGF0aG5hbWUsIGxhbmdzLCBkZWZhdWx0X2xhbmcpCgoKZGVmIGNvbnZlcnRfc3RhdGVfZGljdCgKICAgIHN0YXRlX2RpY3Q6IERpY3Rbc3RyLCBBbnldLCBrZXlfbWFwOiBPcHRpb25hbFtNYXBwaW5nW3N0ciwgc3RyXV0gPSBOb25lCikgLT4gRGljdFtzdHIsIEFueV06CgogICAgaWYga2V5X21hcCBpcyBOb25lOgogICAgICAgIHJldHVybiBzdGF0ZV9kaWN0CiAgICAKICAgIHN0YXRlX2RpY3QgPSBjb252ZXJ0X21vZGVsX3N0YXRlX2RpY3Qoc3RhdGVfZGljdCwga2V5X21hcD1rZXlfbWFwKQoKICAgICMgV2UgdXNlIHRoZSBidWlsdC1pbiB2ZXJzaW9uIGF0dHJpYnV0ZSBvZiBgdG9yY2gubm4uTW9kdWxlYC4KICAgIHRyeToKICAgICAgICBkZWwgc3RhdGVfZGljdFsiZW5jb2Rlci52ZXJzaW9uIl0KICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICBwYXNzCiAgICB0cnk6CiAgICAgICAgZGVsIHN0YXRlX2RpY3RbImRlY29kZXIudmVyc2lvbiJdCiAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgcGFzcwoKICAgIHRyeToKICAgICAgICBkZWwgc3RhdGVfZGljdFsiZW5jb2Rlci5lbWJlZF9wb3NpdGlvbnMuX2Zsb2F0X3RlbnNvciJdCiAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgcGFzcwogICAgdHJ5OgogICAgICAgIGRlbCBzdGF0ZV9kaWN0WyJkZWNvZGVyLmVtYmVkX3Bvc2l0aW9ucy5fZmxvYXRfdGVuc29yIl0KICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICBwYXNzCgogICAgcmV0dXJuIHN0YXRlX2RpY3QKCgpkZWYgY29udmVydF91bml0eV9tb2RlbCgKICAgIG1vZGVsX25hbWU6IHN0ciwKICAgIGhwYXJhbXM6IE9wdGlvbmFsW0RpY3Rbc3RyLCBBbnldXSA9IE5vbmUsCik6CiAgICBmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzIGltcG9ydCB1bml0eQogICAgZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5idWlsZGVyIGltcG9ydCBVbml0WUNvbmZpZywgY3JlYXRlX3VuaXR5X21vZGVsCiAgICBmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5Lm1vZGVsIGltcG9ydCBVbml0WU1vZGVsCgogICAgbG9hZF91bml0eV9tb2RlbF93aXRob3V0X2NvbnZlcnNpb24gPSBNb2RlbExvYWRlcltVbml0WU1vZGVsLCBVbml0WUNvbmZpZ10oCiAgICAgICAgYXNzZXRfc3RvcmUsCiAgICAgICAgZG93bmxvYWRfbWFuYWdlciwKICAgICAgICB1bml0eS5sb2FkX3VuaXR5X2NvbmZpZywKICAgICAgICBjcmVhdGVfdW5pdHlfbW9kZWwsCiAgICAgICAgTm9uZSwKICAgICAgICByZXN0cmljdF9jaGVja3BvaW50cz1GYWxzZSwKICAgICkKCiAgICBtb2RlbF9jb25maWcgPSB1bml0eS5sb2FkX3VuaXR5X2NvbmZpZyhtb2RlbF9uYW1lKQogICAgaHBhcmFtcyA9IGZsYXR0ZW5fY29uZmlnKAogICAgICAgIGRhdGFjbGFzc2VzLmFzZGljdChtb2RlbF9jb25maWcpLCBzZXBhcmF0b3I9Il9fIiwgb3ZlcnJpZGVzPWhwYXJhbXMKICAgICkKICAgIGhwYXJhbXNbIm11bHRpbGluZ3VhbCJdID0gVHJ1ZQogICAgbG9nLmluZm8oaHBhcmFtcykKICAgICMgTmVlZCB0aGUgZGl2ZXJnZSBoZXJlIGJlY2F1c2UgY3VycmVudCBkZWZhdWx0IGluIFNDIGlzIHRvIGNvbnZlcnQgZnJvbSBmYWlyc2VxMSBja3B0IGZvcm1hdAogICAgaWYgbW9kZWxfbmFtZSBpbiBVTklUWV9TTUFMTEVSX01PREVMUzoKICAgICAgICBtb2RlbCA9IGxvYWRfdW5pdHlfbW9kZWxfd2l0aG91dF9jb252ZXJzaW9uKG1vZGVsX25hbWUpCiAgICAgICAgdG9rZW5pemVyID0gTmxsYkxpa2VUb2tlbml6ZXJMb2FkZXIoYXNzZXRfc3RvcmUsIGRvd25sb2FkX21hbmFnZXIpKG1vZGVsX25hbWUpCiAgICBlbHNlOgogICAgICAgIG1vZGVsID0gdW5pdHkubG9hZF91bml0eV9tb2RlbChtb2RlbF9uYW1lKQogICAgICAgIHRva2VuaXplciA9IHVuaXR5LmxvYWRfdW5pdHlfdGV4dF90b2tlbml6ZXIobW9kZWxfbmFtZSkKCiAgICB2b2NhYiA9IHJlYWRfdm9jYWIodG9rZW5pemVyKQoKICAgIHJldHVybiBtb2RlbCwgaHBhcmFtcywgdm9jYWIKCgpkZWYgY29udmVydF9ubGxiX21vZGVsKAogICAgbW9kZWxfbmFtZTogc3RyLAogICAgaHBhcmFtczogT3B0aW9uYWxbRGljdFtzdHIsIEFueV1dID0gTm9uZSwKKToKICAgIGZyb20gZmFpcnNlcTIubW9kZWxzLm5sbGIubG9hZGVyIGltcG9ydCBsb2FkX25sbGJfdG9rZW5pemVyLCBsb2FkX25sbGJfbW9kZWwsIGxvYWRfbmxsYl9jb25maWcKCiAgICBtb2RlbF9jb25maWcgPSBsb2FkX25sbGJfY29uZmlnKG1vZGVsX25hbWUpCiAgICBocGFyYW1zID0gZmxhdHRlbl9jb25maWcoCiAgICAgICAgZGF0YWNsYXNzZXMuYXNkaWN0KG1vZGVsX2NvbmZpZyksIHNlcGFyYXRvcj0iX18iLCBvdmVycmlkZXM9aHBhcmFtcywKICAgICkKICAgIGhwYXJhbXNbIm11bHRpbGluZ3VhbCJdID0gVHJ1ZQoKICAgIG1vZGVsID0gbG9hZF9ubGxiX21vZGVsKG1vZGVsX25hbWUpCiAgICB0b2tlbml6ZXIgPSBsb2FkX25sbGJfdG9rZW5pemVyKG1vZGVsX25hbWUpCiAgICB2b2NhYiA9IHJlYWRfdm9jYWIodG9rZW5pemVyKQoKICAgIHJldHVybiBtb2RlbCwgaHBhcmFtcywgdm9jYWIKCgpkZWYgY29udmVydF9iaXRleHRfbW9kZWwoCiAgICBtb2RlbF9uYW1lOiBzdHIsCiAgICBocGFyYW1zOiBPcHRpb25hbFtEaWN0W3N0ciwgQW55XV0gPSBOb25lLAopOgogICAgZnJvbSBtdCBpbXBvcnQgbG9hZF9tdF9tb2RlbCwgbG9hZF92b2NhYiAgIywgdGVzdF9tdAoKICAgIGhwYXJhbXMgPSBocGFyYW1zIG9yIHt9CiAgICBocGFyYW1zWyJtdWx0aWxpbmd1YWwiXSA9IEZhbHNlCiAgICBtb2RlbCA9IGxvYWRfbXRfbW9kZWwobW9kZWxfbmFtZSkKICAgIHNyY192b2NhYiwgc3JjX3NwbSA9IGxvYWRfdm9jYWIobW9kZWxfbmFtZSwgInNyYyIpCiAgICB0Z3Rfdm9jYWIsIHRndF9zcG0gPSBsb2FkX3ZvY2FiKG1vZGVsX25hbWUsICJ0Z3QiKQoKICAgICMgdGVzdF9tdChtb2RlbCwgc3JjX3NwbSwgdGd0X3NwbSkKCiAgICByZXR1cm4gbW9kZWwsIGhwYXJhbXMsIHNyY192b2NhYiwgdGd0X3ZvY2FiCgoKZGVmIGNvbnZlcnRfbW9kZWwoCiAgICBtb2RlbF9uYW1lOiBVbmlvbltzdHIsIHRvcmNoLm5uLk1vZHVsZV0sCiAgICBvdXQ6IE9wdGlvbmFsW1BhdGhdID0gTm9uZSwKICAgIG1vZGVsX3R5cGU6IE1vZGVsVHlwZSA9IE1vZGVsVHlwZS5BVVRPLAogICAgbGF5ZXJzOiBzdHIgPSAiIiwKICAgIGhwYXJhbXM6IE9wdGlvbmFsW0RpY3Rbc3RyLCBBbnldXSA9IE5vbmUsCiAgICBmcDE2OiBib29sID0gRmFsc2UsCikgLT4gTm9uZToKICAgICIiIgogICAgRW50cnkgZnVuY3Rpb24gZm9yIGNvbnZlcnRpbmcgZGlmZmVyZW50IGtpbmRzIG9mIG1vZGVsIGludG8gR0dNTCBmaWxlLiBTdXBwb3J0ZWQgbW9kZWwgY2hlY2twb2ludHM6CiAgICAgICAgLSB1bml0eSBtb2RlbHMKICAgICAgICAtIG5sbGIgbW9kZWxzCiAgICAgICAgLSBCaWxpbmd1YWwgZW5jb2Rlci1kZWNvZGVyIG1vZGVsIChQeXRvcmNoKSB3aXRoIHNlcGFyYXRlIHZvY2FidWxhcnkgZm9yIHNyYyBhbmQgdGd0IGxhbmd1YWdlcwogICAgICAgIC0gQmlsaW5ndWFsIGVuY29kZXItZGVjb2RlciBtb2RlbCAodG9yY2hzY3JpcHQpCiAgICBBcmdzOgogICAgICAgIG1vZGVsX25hbWU6IG5hbWUgb2YgYSByZWdpc3RlcmVkIG1vZGVsIChkaXNjb3ZlcmFibGUgaW4gYSBmYWlyc2VxMiBhc3NldCksIHBhdGggdG8gYSBjaGVja3BvaW50LFwKICAgICAgICAgICAgb3IgdGhlIG1vZGVsIG9iamVjdCBwYXNzZWQgZGlyZWN0bHkKICAgICAgICBvdXQ6IHBhdGggdG8gc3RvcmUgdGhlIGNvbnZlcnRlZCAuZ2dtbCBtb2RlbC4gSWYgTm9uZSwgdGhlIGdnbWwgbW9kZWwgaXMgc3RvcmVkIGluIHRoZSBzYW1lIHBsYWNlXAogICAgICAgICAgICBhcyBpbnB1dCBtb2RlbAogICAgICAgIG1vZGVsX3R5cGU6IHR5cGUgb2YgdGhlIG1vZGVsIChvciBpbmZlcnJlZCBmcm9tIHRoZSBuYW1lLCBvbmx5IGFwcGxpZWQgdG8gbmxsYiwgdW5pdHkgYW5kIHNlYW1sZXNzKQogICAgICAgIGxheWVyczogd2lsZGNhcmQgcGF0dGVybnMgdG8gZmlsdGVyIHRoZSBsYXllcnMgZnJvbSB0aGUgbW9kZWwuIERvZXMgbm90IGFwcGxpZWQgdG8gc2NyaXB0ZWQgbW9kZWxzCiAgICAgICAgaHBhcmFtczogb3ZlcnJpZGUgdGhlIGhwYXJhbXMgaW4gdGhlIG1vZGVsIHdpdGggdGhlIHVzZXItZGVmaW5lZCB2YWx1ZXMKICAgICAgICB2b2NhYjogUGF0aCB0byAgdm9jYWJ1bGFyeSBmaWxlcyAoaW4gY2FzZSBub3QgYnVuZGxlZCB3aXRoIHRoZSBtb2RlbCBjaGVja3BvaW50KQogICAgICAgIGV4dHJhX3ZvY2FiOiBQYXRoIHRvIGFkZGl0aW9uYWwgdm9jYWJ1bGFyeSBmaWxlcyAodXNlZCBpbiBiaWxpbmd1YWwgbW9kZWxzIHdpdGggZXhwbGljaXQgdGd0IGxhbmd1YWdlcykKICAgICAgICBmcDE2OiBTYXZlIHRvIC5HR01MIGZsb2F0MTYgdGVuc29ycyBpbnN0ZWFkIG9mIGZsb2F0MzIKICAgICIiIgoKICAgIGtleV9tYXA6IE9wdGlvbmFsW0RpY3Rbc3RyLCBzdHJdXSA9IE5vbmUKICAgIHRndF92b2NhYjogT3B0aW9uYWxbTGlzdFtUdXBsZVtzdHIsIGZsb2F0XV1dID0gTm9uZQogICAgaWYgaXNpbnN0YW5jZShtb2RlbF9uYW1lLCBzdHIpOgogICAgICAgICMgTG9hZCB0aGUgY29ycmVzcG9uZGluZyBmYWlyc2VxMiBtb2RlbAogICAgICAgIGlmIG91dCBpcyBOb25lOgogICAgICAgICAgICBvdXQgPSBQYXRoKG1vZGVsX25hbWUpLndpdGhfc3VmZml4KCIuZ2dtbCIpCgogICAgICAgICMgUmVhc29uIHRoZSBtb2RlbCBhcmNoaXRlY3R1cmUgZnJvbSB0aGUgbW9kZWwgbmFtZSBvciB1c2VyIGlucHV0CiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZiBtb2RlbF90eXBlID09IE1vZGVsVHlwZS5BVVRPOgogICAgICAgICAgICAgICAgaWYgInVuaXR5IiBpbiBtb2RlbF9uYW1lIG9yICJzZWFtbGVzc000VCIgaW4gbW9kZWxfbmFtZToKICAgICAgICAgICAgICAgICAgICBtb2RlbF90eXBlID0gTW9kZWxUeXBlLlVOSVRZCiAgICAgICAgICAgICAgICBlbGlmICJubGxiIiBpbiBtb2RlbF9uYW1lOgogICAgICAgICAgICAgICAgICAgIG1vZGVsX3R5cGUgPSBNb2RlbFR5cGUuTkxMQgoKICAgICAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgICAgIG1vZGVsX3R5cGUgIT0gTW9kZWxUeXBlLkFVVE8KICAgICAgICAgICAgKSwgIkNhbm5vdCBpbmZlciBtb2RlbCB0eXBlIGZyb20gdGhlIGBtb2RlbF9uYW1lYC4gUGxlYXNlIHNwZWNpZnkgYG1vZGVsX3R5cGVgIgoKICAgICAgICAgICAgaWYgbW9kZWxfdHlwZSA9PSBNb2RlbFR5cGUuVU5JVFk6CiAgICAgICAgICAgICAgICBtb2RlbCwgaHBhcmFtcywgdm9jYWIgPSBjb252ZXJ0X3VuaXR5X21vZGVsKG1vZGVsX25hbWUsIGhwYXJhbXM9aHBhcmFtcykKICAgICAgICAgICAgZWxpZiBtb2RlbF90eXBlID09IE1vZGVsVHlwZS5OTExCOgogICAgICAgICAgICAgICAgbW9kZWwsIGhwYXJhbXMsIHZvY2FiID0gY29udmVydF9ubGxiX21vZGVsKG1vZGVsX25hbWUsIGhwYXJhbXM9aHBhcmFtcykKICAgICAgICAgICAgICAgIGtleV9tYXAgPSBOTExCXzJfVU5JVFlfS0VZTUFQCiAgICAgICAgICAgIGVsaWYgbW9kZWxfdHlwZSA9PSBNb2RlbFR5cGUuTVRTOgogICAgICAgICAgICAgICAgIyBUT0RPOiBpbXBsZW1lbnQgdGhlIEVkZ2VNTCBtb2RlbCBjb252ZXJzaW9uIGhlcmUKICAgICAgICAgICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIlNjcmlwdGVkIG1vZGVsIGNvbnZlcnNpb24gbm90IGltcGxlbWVudGVkIHlldCIpCiAgICAgICAgICAgIAogICAgICAgICAgICAjIEJpbGluZ3VhbCBub24tc2NyaXB0ZWQgbW9kZWwKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG1vZGVsLCBocGFyYW1zLCB2b2NhYiwgdGd0X3ZvY2FiID0gY29udmVydF9iaXRleHRfbW9kZWwobW9kZWxfbmFtZSwgaHBhcmFtcz1ocGFyYW1zKQogICAgICAgICAgICAgICAga2V5X21hcCA9IE5MTEJfMl9VTklUWV9LRVlNQVAKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVycm9yIGluIGxvYWRpbmcgbW9kZWw6IHttb2RlbF9uYW1lfSIpIGZyb20gZXhjCiAgICBlbHNlOgogICAgICAgICMgVXNlIHRoZSBtb2RlbCBwYXNzZWQgZXhwbGljaXRseQogICAgICAgIGFzc2VydCAoCiAgICAgICAgICAgIG91dCBpcyBub3QgTm9uZQogICAgICAgICksICJvdXRwdXQgcGF0aCBpcyByZXF1aXJlZCB3aGVuIGV4cGxpY2l0bHkgcGFzc2luZyBhIG1vZHVsZSIKICAgICAgICBocGFyYW1zID0gaHBhcmFtcyBvciB7fQogICAgICAgIG1vZGVsID0gbW9kZWxfbmFtZQoKICAgIHN0YXRlX2RpY3QgPSBtb2RlbC5zdGF0ZV9kaWN0KCkKICAgIGlmIGxheWVyczoKICAgICAgICBzdGF0ZV9kaWN0ID0ge2s6IHYgZm9yIGssIHYgaW4gc3RhdGVfZGljdC5pdGVtcygpIGlmIHJlLm1hdGNoKGxheWVycywgayl9CiAgICBmaXh1cF9tb2RlbChtb2RlbCwgc3RhdGVfZGljdCwgbGF5ZXJfZmlsdGVyPWxheWVycykKICAgIHN0YXRlX2RpY3QgPSBjb252ZXJ0X3N0YXRlX2RpY3Qoc3RhdGVfZGljdCwga2V5X21hcD1rZXlfbWFwKQogICAgbGF5ZXJfY29uZmlnID0gcmVhZF9sYXllcl9jb25maWcobW9kZWwsIGxheWVyX2ZpbHRlcj1sYXllcnMsIGtleV9tYXA9a2V5X21hcCkKCiAgICB2b2NhYiA9IHZvY2FiIG9yIFtdCiAgICB0Z3Rfdm9jYWIgPSB0Z3Rfdm9jYWIgb3IgW10KICAgIHdyaXRlX2dnbWxfZmlsZShvdXQsIGhwYXJhbXMsIGxheWVyX2NvbmZpZywgc3RhdGVfZGljdD1zdGF0ZV9kaWN0LCB2b2NhYj12b2NhYiwgdGd0X3ZvY2FiPXRndF92b2NhYiwgZnAxNj1mcDE2KQoKCmRlZiBmaW5kX2NoaWxkcmVuKG1vZGVsOiB0b3JjaC5ubi5Nb2R1bGUsIHQ6IHR5cGUsIGxheWVyX2ZpbHRlcjogc3RyID0gIiIpIC0+IExpc3RbVHVwbGVbc3RyLCB0b3JjaC5ubi5Nb2R1bGVdXToKICAgIHF1ZXVlID0gbGlzdChtb2RlbC5fbW9kdWxlcy5pdGVtcygpKQogICAgbW9kdWxlcyA9IFtdCiAgICB3aGlsZSBxdWV1ZToKICAgICAgICBuYW1lLCBub2RlID0gcXVldWUucG9wKCkKICAgICAgICBpZiBub2RlIGlzIE5vbmU6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgaWYgbGF5ZXJfZmlsdGVyIGFuZCBub3QgcmUubWF0Y2gobGF5ZXJfZmlsdGVyLCBuYW1lKToKICAgICAgICAgICAgY29udGludWUKICAgICAgICBpZiBpc2luc3RhbmNlKG5vZGUsIHQpOgogICAgICAgICAgICBtb2R1bGVzLmFwcGVuZCgobmFtZSwgbm9kZSkpCiAgICAgICAgZm9yIGNoaWxkX25hbWUsIGNoaWxkX25vZGUgaW4gbm9kZS5fbW9kdWxlcy5pdGVtcygpOgogICAgICAgICAgICBxdWV1ZS5hcHBlbmQoKCIuIi5qb2luKChuYW1lLCBjaGlsZF9uYW1lKSksIGNoaWxkX25vZGUpKQoKICAgIHJldHVybiBtb2R1bGVzCgoKZGVmIGZpeHVwX21vZGVsKG1vZGVsOiB0b3JjaC5ubi5Nb2R1bGUsIHN0YXRlX2RpY3Q6IERpY3Rbc3RyLCB0b3JjaC5UZW5zb3JdLCBsYXllcl9maWx0ZXI6IHN0cikgLT4gTm9uZToKICAgICMgQmFrZSB0aGUgZW1iZWRkaW5nIHNjYWxpbmcgaW50byB0aGUgd2VpZ2h0cwogICAgZnJvbnRlbmRzID0gZmluZF9jaGlsZHJlbihtb2RlbCwgVHJhbnNmb3JtZXJFbWJlZGRpbmdGcm9udGVuZCwgbGF5ZXJfZmlsdGVyKQogICAgaWYgZnJvbnRlbmRzOgogICAgICAgIGxvZy5pbmZvKAogICAgICAgICAgICAiVXBncmFkaW5nIHRoZSBmb2xsb3dpbmcgVHJhbnNmb3JtZXJFbWJlZGRpbmdGcm9udGVuZDoge30iLAogICAgICAgICAgICBbeFswXSBmb3IgeCBpbiBmcm9udGVuZHNdLAogICAgICAgICkKICAgIGZvciBuYW1lLCBmcm9udGVuZCBpbiBmcm9udGVuZHM6CiAgICAgICAgZW1iZWRfd2VpZ2h0cyA9IHN0YXRlX2RpY3RbbmFtZSArICIuZW1iZWQud2VpZ2h0Il0KICAgICAgICBzdGF0ZV9kaWN0W25hbWUgKyAiLmVtYmVkLndlaWdodCJdID0gZW1iZWRfd2VpZ2h0cyAqIGZyb250ZW5kLnNjYWxlCgogICAgIyBTaW51c29pZGFsIGVtYmVkZGluZ3MgYXJlIHR5cGljYWxseSBub3Qgc2F2ZWQgc2luY2UgdGhleSBhcmUgZWFzaWx5IHJlY29tcHV0ZWQsCiAgICAjIGJ1dCB0aGlzIGFsbG93cyB0byBhdm9pZCBwb3J0aW5nIHRoZSBzaW51c29pZGFsIGxvZ2ljIHRvIEdHTUwKICAgIHBvc19lbmNvZGVycyA9IGZpbmRfY2hpbGRyZW4obW9kZWwsIFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIsIGxheWVyX2ZpbHRlcikKICAgIGlmIHBvc19lbmNvZGVyczoKICAgICAgICBsb2cuaW5mbygKICAgICAgICAgICAgIlVwZ3JhZGluZyB0aGUgZm9sbG93aW5nIFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXI6IHt9IiwKICAgICAgICAgICAgW3hbMF0gZm9yIHggaW4gcG9zX2VuY29kZXJzXSwKICAgICAgICApCiAgICBmb3IgbmFtZSwgcG9zX2VuY29kZXIgaW4gcG9zX2VuY29kZXJzOgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHBvc19lbmNvZGVyLmZyZXFzLCB0b3JjaC5UZW5zb3IpCiAgICAgICAgYXNzZXJ0IG5hbWUgbm90IGluIHN0YXRlX2RpY3QKICAgICAgICBzdGF0ZV9kaWN0W25hbWVdID0gcG9zX2VuY29kZXIuZnJlcXMKCiAgICByZWxhdGl2ZV9wb3NfZW5jcyA9IGZpbmRfY2hpbGRyZW4obW9kZWwsIFJlbGF0aXZlUG9zaXRpb25hbEVuY29kaW5nLCBsYXllcl9maWx0ZXIpCiAgICAjIHNwZWVjaF9lbmNvZGVyIGhhcyBzZXZlcmFsIGNvcGllcyBvZiB0aGUgcmVsYXRpdmVfcG9zX2VuYyBtb2R1bGUuCiAgICAjIEZvciBlZmZpY2llbmN5IHJlYXNvbnMgd2Ugb25seSBtYWtlIG9uZSBjb3B5IG9mIGl0IHRvIEdHTUwuCiAgICBpZiByZWxhdGl2ZV9wb3NfZW5jczoKICAgICAgICBsb2cuaW5mbygiTWVyZ2luZyBhbGwgc3BlZWNoX2VuY29kZXIgUmVsYXRpdmVQb3NpdGlvbmFsRW5jb2RpbmcgaW50byBvbmUuIikKICAgICAgICBfLCByZWxfcG9zX2VuYyA9IHJlbGF0aXZlX3Bvc19lbmNzWzBdCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UocmVsX3Bvc19lbmMuZnJlcXMsIHRvcmNoLlRlbnNvcikKICAgICAgICBzdGF0ZV9kaWN0WyJzcGVlY2hfZW5jb2Rlci5wb3NfZW5jIl0gPSByZWxfcG9zX2VuYy5mcmVxcwoKCmRlZiByZWFkX3ZvY2FiKHRva2VuaXplcjogQW55KSAtPiBMaXN0W1R1cGxlW3N0ciwgZmxvYXRdXToKICAgIHZvY2FiX2luZm8gPSB0b2tlbml6ZXIudm9jYWJfaW5mbwogICAgdm9jYWIgPSBbCiAgICAgICAgKHRva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbihpKS5yZXBsYWNlKCLiloEiLCAiICIpLCAtaSkKICAgICAgICBmb3IgaSBpbiByYW5nZSh2b2NhYl9pbmZvLnNpemUpCiAgICBdCiAgICByZXR1cm4gdm9jYWIgICMgdHlwZTogaWdub3JlW3JldHVybi12YWx1ZV0KCgpkZWYgd3JpdGVfZ2dtbF9maWxlKAogICAgb3V0OiBQYXRoLAogICAgaHBhcmFtczogRGljdFtzdHIsIEFueV0sCiAgICBsYXllcl9jb25maWc6IERpY3Rbc3RyLCBBbnldLAogICAgc3RhdGVfZGljdDogRGljdFtzdHIsIHRvcmNoLlRlbnNvcl0sCiAgICB2b2NhYjogTGlzdFtUdXBsZVtzdHIsIGZsb2F0XV0sCiAgICB0Z3Rfdm9jYWI6IE9wdGlvbmFsW0xpc3RbVHVwbGVbc3RyLCBmbG9hdF1dXSA9IE5vbmUsICAjIHRndF92b2NhYiBmb3IgYmlsaW5ndWFsIG1vZGVscwogICAgZnAxNjogYm9vbCA9IEZhbHNlLAopIC0+IE5vbmU6CiAgICB3aXRoIG91dC5vcGVuKCJ3YiIpIGFzIG86CiAgICAgICAgd3JpdGVfZ2dtbF9oZWFkZXIobykKICAgICAgICB3cml0ZV9ocGFyYW1zKG8sIGhwYXJhbXMpCiAgICAgICAgd3JpdGVfaHBhcmFtcyhvLCBsYXllcl9jb25maWcpCiAgICAgICAgd3JpdGVfdm9jYWIobywgdm9jYWIpCiAgICAgICAgd3JpdGVfc3RhdGVfZGljdChvLCBzdGF0ZV9kaWN0LCBmcDE2KQogICAgICAgIHdyaXRlX3ZvY2FiKG8sIHRndF92b2NhYikKCgpkZWYgd3JpdGVfZ2dtbF9oZWFkZXIob3V0OiBCdWZmZXJlZFdyaXRlcikgLT4gTm9uZToKICAgICIiIldyaXRlIEdHTUwgaGVhZGVyIChpbiByZXZlcnNlIGNhdXNlIGJpZy1lbmRpYW4pIiIiCiAgICBvdXQud3JpdGUoYiJnZ21sIls6Oi0xXSkKCgpkZWYgd3JpdGVfaHBhcmFtcyhvdXQ6IEJ1ZmZlcmVkV3JpdGVyLCBocGFyYW1zOiBEaWN0W3N0ciwgQW55XSkgLT4gTm9uZToKICAgICIiIldyaXRlIGh5cGVyIHBhcmFtZXRlcnMuCgogICAgOnBhcmFtcyBocGFyYW1zOgogICAgICAgIGZsYXR0ZW5lZCBkaWN0IGNvbnRhaW5pbmcgbW9kZWwncyBoeXBlciBwYXJhbWV0ZXJzLgoKICAgICIiIgogICAgc2ltcGxlX3ZhbHMgPSB7fQogICAgZm9yIGtleSwgdmFsdWUgaW4gaHBhcmFtcy5pdGVtcygpOgogICAgICAgIHRyeToKICAgICAgICAgICAgc2ltcGxlX3ZhbHNba2V5XSA9IHRvX2N0eXBlKHZhbHVlKQogICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICBsb2dnaW5nLndhcm5pbmcoZiJTa2lwcGluZyBjb25maWcgZm9yIGtleSB7a2V5fT17dmFsdWUhcn0iKQogICAgICAgICAgICBjb250aW51ZQoKICAgIG91dC53cml0ZShzdHJ1Y3QucGFjaygiPHEiLCBsZW4oc2ltcGxlX3ZhbHMpKSkKICAgIGZvciBrZXksIChjdHlwZSwgY3ZhbHVlKSBpbiBzaW1wbGVfdmFscy5pdGVtcygpOgogICAgICAgIHdyaXRlX3N0cmluZyhvdXQsIGtleSkKICAgICAgICBiID0gc3RydWN0LnBhY2soY3R5cGUsIGN2YWx1ZSkKICAgICAgICBhc3NlcnQgbGVuKGIpID09IDgKICAgICAgICBvdXQud3JpdGUoYikKCiAgICBsb2dnaW5nLmluZm8oZiJTYXZlZCB7bGVuKHNpbXBsZV92YWxzKX0gcGFyYW1zLiIpCgoKZGVmIHdyaXRlX3ZvY2FiKG91dDogQnVmZmVyZWRXcml0ZXIsIHZvY2FiOiBMaXN0W1R1cGxlW3N0ciwgZmxvYXRdXSkgLT4gTm9uZToKICAgIG91dC53cml0ZShzdHJ1Y3QucGFjaygiPHEiLCBsZW4odm9jYWIpKSkKCiAgICBpZiBsZW4odm9jYWIpID09IDA6CiAgICAgICAgcmV0dXJuCgogICAgIyBXcml0ZSBhbGwgd29yZHMgY29uY2F0ZW5hdGVkIGluIGEgYnVmZmVyCiAgICB3b3JkcyA9IFtieXRlcyh3LCAidXRmOCIpIGZvciB3LCBzY29yZSBpbiB2b2NhYl0KICAgIHBhY2tlZF93b3JkcyA9IGIiXDAiLmpvaW4od29yZHMpCiAgICAjIFdlIHVzZSBpMzIgdG8gYWxsb3cgcmV1c2luZyB0aGUgc3RyaW5nIGxvYWRpbmcgY29kZXMKICAgIHBhY2tlZF9sZW4gPSBzdHJ1Y3QucGFjaygiPGkiLCBsZW4ocGFja2VkX3dvcmRzKSkKICAgIG91dC53cml0ZShwYWNrZWRfbGVuKQogICAgb3V0LndyaXRlKHBhY2tlZF93b3JkcykKCiAgICBsZW5ndGhzID0gdG9yY2gudGVuc29yKFtsZW4odykgZm9yIHcgaW4gd29yZHNdLCBkdHlwZT10b3JjaC5pbnQ4KQogICAgd3JpdGVfdGVuc29yKG91dCwgbGVuZ3RocykKCiAgICBzY29yZXMgPSB0b3JjaC50ZW5zb3IoW3Njb3JlIGZvciB3LCBzY29yZSBpbiB2b2NhYl0sIGR0eXBlPXRvcmNoLmZsb2F0MzIpCiAgICB3cml0ZV90ZW5zb3Iob3V0LCBzY29yZXMpCgoKZGVmIHdyaXRlX3N0YXRlX2RpY3QoCiAgICBvdXQ6IEJ1ZmZlcmVkV3JpdGVyLCBzdGF0ZV9kaWN0OiBEaWN0W3N0ciwgdG9yY2guVGVuc29yXSwgZnAxNjogYm9vbAopIC0+IE5vbmU6CiAgICAiIiJXcml0ZSBweXRvcmNoIHN0YXRlIGRpY3QuCgogICAgOnBhcmFtcyBzdGF0ZV9kaWN0OgogICAgICAgIHN0YXRlIGRpY3QgcmV0dXJuZWQgYnkgcHl0b3JjaCBtb2RlbAogICAgOnBhcmFtcyBmcDE2OgogICAgICAgIGNvbnZlcnQgZmxvYXQzMiB0ZW5zb3JzIHRvIGZsb2F0MTYgb24gZGlzawogICAgIiIiCiAgICBvdXQud3JpdGUoc3RydWN0LnBhY2soIjxxIiwgbGVuKHN0YXRlX2RpY3QpKSkKICAgICMgVHJ1ZSBzaXplIG9mIGVhY2ggdGVuc29yIChiZWZvcmUgZG93bmNhc3RpbmcgdG8gZmxvYXQxNikKICAgIHRydWVfYnl0ZV9zaXplID0gc3VtKHgubnVtZWwoKSAqIHguZWxlbWVudF9zaXplKCkgZm9yIHggaW4gc3RhdGVfZGljdC52YWx1ZXMoKSkKICAgIG91dC53cml0ZShzdHJ1Y3QucGFjaygiPHEiLCB0cnVlX2J5dGVfc2l6ZSkpCgogICAgR0IgPSAxMDI0KiozCiAgICBpZiBub3QgZnAxNjoKICAgICAgICBsb2cud2FybmluZygKICAgICAgICAgICAgZiJTYXZpbmcgYSBnZ21sIGZpbGUgd2l0aCB7bGVuKHN0YXRlX2RpY3QpfSB0ZW5zb3JzLCB0b3RhbGxpbmcge3RydWVfYnl0ZV9zaXplIC8gR0I6LjNmfUdiIgogICAgICAgICkKICAgIGVsc2U6CgogICAgICAgIGRlZiBfZnAxNl9ieXRlX3NpemUoeDogdG9yY2guVGVuc29yKSAtPiBpbnQ6CiAgICAgICAgICAgIGZ1bGxfYnl0ZV9zaXplID0geC5udW1lbCgpICogeC5lbGVtZW50X3NpemUoKQogICAgICAgICAgICBpZiBmcDE2IGFuZCB4LmR0eXBlID09IHRvcmNoLmZsb2F0MzI6CiAgICAgICAgICAgICAgICBmdWxsX2J5dGVfc2l6ZSAvLz0gMgogICAgICAgICAgICByZXR1cm4gZnVsbF9ieXRlX3NpemUKCiAgICAgICAgIyBDb21wcmVzc2VkIHNpemUKICAgICAgICBjb21wcmVzc2VkX2J5dGVfc2l6ZSA9IHN1bShfZnAxNl9ieXRlX3NpemUoeCkgZm9yIHggaW4gc3RhdGVfZGljdC52YWx1ZXMoKSkKICAgICAgICBsb2cud2FybmluZygKICAgICAgICAgICAgZiJTYXZpbmcgYSBnZ21sIGZpbGUgd2l0aCB7bGVuKHN0YXRlX2RpY3QpfSB0ZW5zb3JzLCB0b3RhbGxpbmcge3RydWVfYnl0ZV9zaXplIC8gR0I6LjNmfUdiIgogICAgICAgICAgICBmIi4gQ29tcHJlc3NlZCB0byB7Y29tcHJlc3NlZF9ieXRlX3NpemUgLyBHQjouM2Z9R2IiCiAgICAgICAgKQoKICAgIGZvciBrZXksIHZhbHVlIGluIHN0YXRlX2RpY3QuaXRlbXMoKToKICAgICAgICAjIFJlbmFtZSB0aGUgbGF5ZXJzIHRvIG1ha2UgaXQgbG9vayBsaWtlICJ1bml0eS1hcmNoIgogICAgICAgIHdyaXRlX3N0cmluZyhvdXQsIGtleSkKICAgICAgICBpZiBrZXkuZW5kc3dpdGgoIi5iaWFzIikgYW5kIHZhbHVlLm5kaW0gPT0gMSBhbmQgImFkYXB0b3IiIG5vdCBpbiBrZXk6CiAgICAgICAgICAgICMgR0dNTCBicm9hZGNhc3RpbmcgaXNuJ3QgYXMgc3Ryb25nIGFzIG51bXB5CiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVzaGFwZSgxLCAtMSkKICAgICAgICBpZiAicG9pbnR3aXNlX2NvbnYiIGluIGtleTogICMgcG9pbnR3aXNlX2NvbnYgLyBkZXB0aHdpc2VfY29udgogICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNxdWVlemUoLTEpCiAgICAgICAgaWYgImRlcHRod2lzZV9jb252IiBpbiBrZXk6CiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3F1ZWV6ZSgxKQogICAgICAgIGlmIGZwMTYgYW5kIHZhbHVlLmR0eXBlID09IHRvcmNoLmZsb2F0MzI6CiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG8odG9yY2guZmxvYXQxNikKICAgICAgICB3cml0ZV90ZW5zb3Iob3V0LCB2YWx1ZS5jb250aWd1b3VzKCkpCgoKZGVmIHdyaXRlX3N0cmluZyhvdXQ6IEJ1ZmZlcmVkV3JpdGVyLCB2YWx1ZTogc3RyKSAtPiBOb25lOgogICAgIiIiV3JpdGUgc3RyaW5nIGluIHV0Zi04IGZvcm1hdC4KCiAgICA6cGFyYW1zIHZhbHVlOgogICAgICAgIHN0cmluZyB2YWx1ZSB0byBkdW1wLgogICAgIiIiCiAgICBzdHJfID0gdmFsdWUuZW5jb2RlKCJ1dGYtOCIpCiAgICBwYWNrZWRfbGVuID0gc3RydWN0LnBhY2soIjxpIiwgbGVuKHN0cl8pKQogICAgYXNzZXJ0IGxlbihwYWNrZWRfbGVuKSA9PSA0CiAgICBvdXQud3JpdGUocGFja2VkX2xlbikKICAgIG91dC53cml0ZShzdHJfKQoKCmRlZiB3cml0ZV90ZW5zb3Iob3V0OiBCdWZmZXJlZFdyaXRlciwgdmFsdWU6IHRvcmNoLlRlbnNvcikgLT4gTm9uZToKICAgICIiIldyaXRlIHRvcmNoIHRlbnNvciBpbiBnZ21sIGZvcm1hdC4KCiAgICBGaXJzdCB3ZSBzYXZlIHRoZSBudW1iZXIgb2YgZGltZW5zaW9ucyBhbmQgdGhlIGR0eXBlLgogICAgVGhlbiB3ZSBzYXZlIHRoZSBkYXRhIGFzIG51bXB5IGFycmF5LgoKICAgIDpwYXJhbXMgdmFsdWU6CiAgICAgICAgVGVuc29yIHRvIGR1bXAuCiAgICAiIiIKICAgIGlmIHZhbHVlLmR0eXBlIGlzIHRvcmNoLmludDY0OgogICAgICAgICMgR0dNTCBkb2Vzbid0IGhhdmUgaW50NjQsIGRvd25jYXN0IGl0CiAgICAgICAgdmFsdWUgPSB2YWx1ZS50byhkdHlwZT10b3JjaC5pbnQzMikKCiAgICBpZiB2YWx1ZS5uZGltID09IDA6CiAgICAgICAgIyBHR01MIGRvZXNuJ3Qgc3VwcG9ydCBzY2FsYXIgYXMgdGVuc29ycy4KICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlc2hhcGUoMSkKCiAgICBkYXRhID0gdmFsdWUubnVtcHkoKQogICAgbl9kaW1zID0gZGF0YS5uZGltCiAgICBhc3NlcnQgbl9kaW1zIDwgNSwgImdnbWwgZG9lc24ndCBzdXBwb3J0IDUgZGltcyB0ZW5zb3JzIgogICAgYXNzZXJ0IG5fZGltcyA+PSAxLCAiZ2dtbCBkb2Vzbid0IHN1cHBvcnQgMCBkaW0gdGVuc29ycyIKCiAgICBmdHlwZSA9IHRvcmNoX3RvX2dnbWxfdHlwZSh2YWx1ZS5kdHlwZSkKICAgIG91dC53cml0ZShzdHJ1Y3QucGFjaygiPGkiLCBuX2RpbXMpKQogICAgb3V0LndyaXRlKHN0cnVjdC5wYWNrKCI8aSIsIGZ0eXBlKSkKICAgIGZvciBpIGluIHJhbmdlKG5fZGltcyk6CiAgICAgICAgIyBnZ21sIHVzZXMgbG9uZyBmb3Igc2hhcGUKICAgICAgICBvdXQud3JpdGUoc3RydWN0LnBhY2soIjxxIiwgZGF0YS5zaGFwZVtuX2RpbXMgLSAxIC0gaV0pKQoKICAgIGRhdGEudG9maWxlKG91dCkKCgpkZWYgdG9yY2hfdG9fZ2dtbF90eXBlKGR0eXBlOiB0b3JjaC5kdHlwZSkgLT4gaW50OgogICAgaWYgZHR5cGUgaXMgdG9yY2guZmxvYXQzMjoKICAgICAgICByZXR1cm4gZ2dtbC5HR01MX1RZUEVfRjMyCiAgICBlbGlmIGR0eXBlIGlzIHRvcmNoLmZsb2F0MTY6CiAgICAgICAgcmV0dXJuIGdnbWwuR0dNTF9UWVBFX0YxNgogICAgZWxpZiBkdHlwZSBpcyB0b3JjaC5pbnQzMjoKICAgICAgICByZXR1cm4gZ2dtbC5HR01MX1RZUEVfSTMyCiAgICBlbGlmIGR0eXBlIGlzIHRvcmNoLmludDg6CiAgICAgICAgcmV0dXJuIGdnbWwuR0dNTF9UWVBFX0k4CiAgICBlbHNlOgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoZiJ7ZHR5cGV9IGlzIG5vdCBtYXBwZWQgdG8gYSBHR01MX1RZUEUiKQoKCmRlZiBmbGF0dGVuX2NvbmZpZygKICAgIGNvbmZpZzogRGljdFtzdHIsIEFueV0sCiAgICBzZXBhcmF0b3I6IHN0ciwKICAgIG92ZXJyaWRlczogT3B0aW9uYWxbRGljdFtzdHIsIEFueV1dID0gTm9uZSwKKSAtPiBEaWN0W3N0ciwgQW55XToKICAgICIiIkZsYXR0ZW4gbmVzdGVkIGRpY3Rpb25uYXJ5CgogICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICBuZXN0ZWQgZGljdGlvbm5hcnkgY29udGFpbmluZyBtb2RlbCBjb25maWcuCiAgICA6cGFyYW0gc2VwYXJhdG9yOgogICAgICAgICAgICBzdHJpbmcgc2VwYXJhdG9yIHVzZWQgd2hlbiBmbGF0dGVuaW5nIG5lc3RlZCBocGFyYW1zCiAgICA6cGFyYW0gY29uZmlnX3ByZXByb2Nlc3NvcjoKICAgICAgICBQcmVwcm9jZXNzb3IgdXNlZCBmb3IgY29uZmlnL2hwYXJhbXMgdmFsdWVzCgogICAgOnJldHVybnM6CiAgICAgICAgZmxhdCBkaWN0aW9ubmFyeQogICAgIiIiCgogICAgZGVmIF9fZmxhdHRlbihjb25maWc6IERpY3Rbc3RyLCBBbnldLCBwcmVmaXg6IHN0ciA9ICIiKSAtPiBEaWN0W3N0ciwgQW55XToKICAgICAgICByZXN1bHQgPSB7fQogICAgICAgIGZvciBrZXkgaW4gY29uZmlnOgogICAgICAgICAgICBuZXdfa2V5ID0gZiJ7cHJlZml4fXtrZXl9IgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKGNvbmZpZ1trZXldLCBkaWN0KToKICAgICAgICAgICAgICAgIG5lc3RlZF9yZXN1bHQgPSBfX2ZsYXR0ZW4oY29uZmlnW2tleV0sIGYie25ld19rZXl9e3NlcGFyYXRvcn0iKQogICAgICAgICAgICAgICAgcmVzdWx0LnVwZGF0ZShuZXN0ZWRfcmVzdWx0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbmV3X2NvbmZpZyA9IGNvbmZpZ1trZXldCiAgICAgICAgICAgICAgICBpZiBuZXdfY29uZmlnIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuZXdfa2V5XSA9IGNvbmZpZ1trZXldCgogICAgICAgIHJldHVybiByZXN1bHQKCiAgICByZXNfY29uZmlnID0gX19mbGF0dGVuKGNvbmZpZykKICAgIGlmIG92ZXJyaWRlczoKICAgICAgICByZXR1cm4geyoqcmVzX2NvbmZpZywgKipvdmVycmlkZXN9CiAgICBlbHNlOgogICAgICAgIHJldHVybiByZXNfY29uZmlnCgoKZGVmIHJlYWRfbGF5ZXJfY29uZmlnKAogICAgbW9kZWw6IHRvcmNoLm5uLk1vZHVsZSwgbGF5ZXJfZmlsdGVyOiBzdHIsIGtleV9tYXA6IE9wdGlvbmFsW0RpY3Rbc3RyLCBzdHJdXSA9IE5vbmUKKSAtPiBEaWN0W3N0ciwgQW55XToKICAgIGxheWVyX2NvbmZpZyA9IHt9CgogICAgZGVmIF9hcHBlbmRfbm9kZV9jb25maWcobm9kZTogQW55LCBwcmVmaXg6IHN0cikgLT4gTm9uZToKICAgICAgICBmb3IgaywgdiBpbiBub2RlLl9fZGljdF9fLml0ZW1zKCk6CiAgICAgICAgICAgICMgU2tpcCBzcGVjaWFsIG1lbWJlcnMuIEluIHBhcnRpY3VsYXIgYWxsIGNoaWxkcmVuIG1vZHVsZSBhbmQgdGVuc29ycwogICAgICAgICAgICAjIHdpbGwgYmUgaGlkZGVuIGluIHNwZWNpYWwgZGljdHMgYF9wYXJhbWV0ZXJzYCBhbmQgYF9tb2R1bGVzYAogICAgICAgICAgICBpZiBrLnN0YXJ0c3dpdGgoIl8iKToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICMgQWxsIG1vZHVsZXMgaGF2ZSBhICJ0cmFpbmluZyIgZmxhZwogICAgICAgICAgICBpZiBrIGluICgidHJhaW5pbmciLCAiaW5pdF9mbiIpOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgaWYgdiBpcyBOb25lOgogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHRvX2N0eXBlKHYpCiAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgbG9nLndhcm5pbmcoZiJTa2lwcGluZyBsYXllciBjb25maWcge2t9PXt2IXJ9IikKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGxheWVyX2NvbmZpZ1twcmVmaXggKyBrXSA9IHYKCiAgICBfYXBwZW5kX25vZGVfY29uZmlnKG1vZGVsLCAiIikKICAgIGZvciBuYW1lLCBub2RlIGluIGZpbmRfY2hpbGRyZW4obW9kZWwsIHRvcmNoLm5uLk1vZHVsZSwgbGF5ZXJfZmlsdGVyKToKICAgICAgICBfYXBwZW5kX25vZGVfY29uZmlnKG5vZGUsIG5hbWUgKyAiLiIpCgogICAga2V5X21hcCA9IGtleV9tYXAgb3Ige30KICAgIGtleXNfdG9fcmVwbGFjZSA9IFtdCiAgICBmb3IgaywgdiBpbiBsYXllcl9jb25maWcuaXRlbXMoKToKICAgICAgICBmb3Igb2xkX3BhdHRlcm4sIHJlcGxhY2VtZW50IGluIGtleV9tYXAuaXRlbXMoKToKICAgICAgICAgICAgaWYgKG5ld19rZXkgOj0gcmUuc3ViKG9sZF9wYXR0ZXJuLCByZXBsYWNlbWVudCwgaykpICE9IGs6CiAgICAgICAgICAgICAgICBrZXlzX3RvX3JlcGxhY2UuYXBwZW5kKChrLCBuZXdfa2V5KSkKICAgIGZvciBvbGRfa2V5LCBuZXdfa2V5IGluIGtleXNfdG9fcmVwbGFjZToKICAgICAgICBsYXllcl9jb25maWdbbmV3X2tleV0gPSBsYXllcl9jb25maWcucG9wKG9sZF9rZXkpCiAgICByZXR1cm4gbGF5ZXJfY29uZmlnCgoKZGVmIHRvX2N0eXBlKHZhbHVlOiBBbnkpIC0+IFR1cGxlW3N0ciwgQW55XToKICAgICIiIlRyYW5zZm9ybSBweXRob24gdHlwZSB0byBjdHlwZS4KCiAgICBOb3RlOiB3ZSBhbHdheXMgdXNlIGxpdHRsZS1lbmRpYW4gYW5kIDgtYnl0ZSB0eXBlcy4KICAgIFRoaXMgbWFrZSB0aGUgZm9ybWF0IGluZGVwZW5kZW50IG9mIHRoZSBjdXJyZW50IHBsYXRmb3JtLgoKICAgIDpwYXJhbXMgdmFsdWU6CiAgICAgICAgdmFsdWUgdG8gY2FzdCBpbnRvIGN0eXBlCgogICAgOnJldHVybnM6CiAgICAgICAgQSB0dXBsZSBvZiBjdHlwZSBhbmQgY3ZhbHVlLgogICAgIiIiCiAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBpbnQpOgogICAgICAgIHJldHVybiAoIjxxIiwgdmFsdWUpCiAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBmbG9hdCk6CiAgICAgICAgcmV0dXJuICgiPGQiLCB2YWx1ZSkKICAgIGlmIGlzaW5zdGFuY2UodmFsdWUsIGJvb2wpOgogICAgICAgIHJldHVybiAoIjxxIiwgdmFsdWUpCiAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBFbnVtKToKICAgICAgICByZXR1cm4gKCI8cSIsIHZhbHVlLnZhbHVlKQogICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgdHVwbGUpIGFuZCBsZW4odmFsdWUpID09IDE6CiAgICAgICAgcmV0dXJuIHRvX2N0eXBlKHZhbHVlWzBdKQogICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgc3RyKSBhbmQgbGVuKHZhbHVlKSA8IDg6CiAgICAgICAgdmFsdWUgPSBieXRlcyh2YWx1ZSwgImFzY2lpIikKICAgICAgICBpZiBsZW4odmFsdWUpIDwgODoKICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArICg4IC0gbGVuKHZhbHVlKSkgKiBiIlwwIgogICAgICAgIHJldHVybiAoIjhzIiwgdmFsdWUpCgogICAgcmFpc2UgVmFsdWVFcnJvcihmIlVuc3VwcG9ydGVkIHR5cGUge3R5cGUodmFsdWUpfSIpCgoKZGVmIGdldF9jcHBfdHlwZSh2YWx1ZTogQW55KSAtPiBzdHI6CiAgICAiIiJSZXR1cm4gZXF1aXZhbGVudCBjcHAgdHlwZSBpbiBzdHJpbmcgZm9ybWF0CgogICAgOnBhcmFtcyB2YWx1ZToKICAgICAgICB2YWx1ZSB0byBjYXN0IGludG8gY3R5cGUKCiAgICA6cmV0dXJuczoKICAgICAgICBzdHIgY29udGFpbmluZyBjcHAgdHlwZQogICAgIiIiCiAgICAjIHVzZWQgdG8gaGF2ZSBjb21wYXRpYmlsaXR5IGJldHdlZW4gdHlwZXMKICAgIHRyeToKICAgICAgICBjdHlwZSwgXyA9IHRvX2N0eXBlKHZhbHVlKQogICAgZXhjZXB0IFZhbHVlRXJyb3IgYXMgZToKICAgICAgICByZXR1cm4gZiIvLyBFcnJvcjoge2V9IgoKICAgIGlmIGN0eXBlID09ICJpIjoKICAgICAgICByZXR1cm4gInN0ZDo6aW50MzJfdCIKICAgIGlmIGN0eXBlID09ICJsIjoKICAgICAgICByZXR1cm4gInN0ZDo6aW50NjRfdCIKICAgIGlmIGN0eXBlID09ICJmIjoKICAgICAgICByZXR1cm4gImZsb2F0IgogICAgaWYgY3R5cGUgPT0gImQiOgogICAgICAgIHJldHVybiAiZG91YmxlIgogICAgaWYgY3R5cGUgPT0gIj8iOgogICAgICAgIHJldHVybiAiYm9vbCIKCiAgICByYWlzZSBSdW50aW1lRXJyb3IoCiAgICAgICAgZiJTaG91bGQgbm90IGhhdmUgcmVhY2hlZCB0aGlzIHBhcnQuIiBmIk1pc3NpbmcgY3BwIHRyYW5zbGF0aW9uIGZvciB7Y3R5cGV9IgogICAgKQoKCmRlZiBnZW5lcmF0ZV9ocGFyYW1zX3N0cnVjdCgKICAgIGhwYXJhbXM6IERpY3Rbc3RyLCBBbnldLAogICAgc3RydWN0X25hbWU6IHN0ciwKKSAtPiBzdHI6CiAgICAiIiJHZW5lcmF0ZSBhIGMrKyBzdHJ1Y3QgdG8gaG9sZCB0aGUgbW9kZWwgaHlwZXItcGFyYW1ldGVycy4KCiAgICA6cGFyYW0gaHBhcmFtczoKICAgICAgICBGbGF0dGVuZWQgY29uZmlnIG9mIHRoZSBtb2RlbC4KICAgIDpwYXJhbSBzdHJ1Y3RfbmFtZToKICAgICAgICBOYW1lIG9mIHRoZSBnZW5lcmF0ZWQgc3RydWN0LgogICAgIiIiCiAgICBzdHJ1Y3QgPSBmInN0cnVjdCB7c3RydWN0X25hbWV9IHt7IgogICAgZmllbGRzID0gW2YiICAgIHtnZXRfY3BwX3R5cGUodmFsdWUpfSB7a2V5fTsiIGZvciBrZXksIHZhbHVlIGluIGhwYXJhbXMuaXRlbXMoKV0KICAgIHN0cnVjdCA9ICJcbiIuam9pbihbc3RydWN0XSArIGZpZWxkcyArIFsifTtcbiJdKQoKICAgIHZhbGlkX2ZpZWxkcyA9IFsKICAgICAgICBrZXkgZm9yIGtleSwgdmFsdWUgaW4gaHBhcmFtcy5pdGVtcygpIGlmICJFcnJvciIgbm90IGluIGdldF9jcHBfdHlwZSh2YWx1ZSkKICAgIF0KICAgIHJlYWRfc3RydWN0ID0gZiJ2b2lkIHJlYWRfe3N0cnVjdF9uYW1lfSh7c3RydWN0X25hbWV9JiBvdXQsIHN0ZDo6aWZzdHJlYW0gJmZpbikge3siCiAgICByZWFkX2ZpZWxkcyA9IFsKICAgICAgICBmIiAgICBmaW4ucmVhZCgoY2hhciopICZvdXQue2ZpZWxkfSwgc2l6ZW9mKG91dC57ZmllbGR9KSk7IgogICAgICAgIGZvciBmaWVsZCBpbiB2YWxpZF9maWVsZHMKICAgIF0KICAgIHJlYWRfc3RydWN0ID0gIlxuIi5qb2luKFtyZWFkX3N0cnVjdF0gKyByZWFkX2ZpZWxkcyArIFsifTtcbiJdKQoKICAgIHJldHVybiAiXG4iLmpvaW4oW3N0cnVjdCwgcmVhZF9zdHJ1Y3RdKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBpbXBvcnQgZnVuY19hcmdwYXJzZQoKICAgIGZ1bmNfYXJncGFyc2Uuc2luZ2xlX21haW4oY29udmVydF9tb2RlbCkK'),
    ('seamless/ggml/ctypes_utils.py', 'aW1wb3J0IGN0eXBlcwppbXBvcnQgZGF0YWNsYXNzZXMKaW1wb3J0IGZ1bmN0b29scwppbXBvcnQgaW5zcGVjdAppbXBvcnQgdHlwZXMKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgQ2FsbGFibGUsIEdlbmVyaWMsIE9wdGlvbmFsLCBUeXBlLCBUeXBlVmFyCgpUID0gVHlwZVZhcigiVCIpCgoKY2xhc3MgUHRyKEdlbmVyaWNbVF0sIGN0eXBlcy5fUG9pbnRlcik6ICAjIHR5cGU6IGlnbm9yZQogICAgY29udGVudHM6IFQKCiAgICBkZWYgX19uZXdfXyhjbHMsIHg6IFQpIC0+ICJQdHJbVF0iOgogICAgICAgIHJldHVybiBjdHlwZXMucG9pbnRlcih4KSAgIyB0eXBlOiBpZ25vcmUKCgpOVUxMUFRSOiBQdHJbQW55XSA9IE5vbmUgICMgdHlwZTogaWdub3JlW2Fzc2lnbm1lbnRdCgoKZGVmIGNfc3RydWN0KGNsczogVHlwZVtUXSkgLT4gVHlwZVtUXToKICAgIHN0cnVjdCA9IHR5cGVzLm5ld19jbGFzcyhjbHMuX19uYW1lX18sIGJhc2VzPShjdHlwZXMuU3RydWN0dXJlLCkpCiAgICBzdHJ1Y3QuX19tb2R1bGVfXyA9IGNscy5fX21vZHVsZV9fCiAgICBzdHJ1Y3QuX2ZpZWxkc18gPSBbICAjIHR5cGU6IGlnbm9yZQogICAgICAgIChrLCBfcHlfdHlwZV90b19jdHlwZSh2KSkgZm9yIGssIHYgaW4gY2xzLl9fYW5ub3RhdGlvbnNfXy5pdGVtcygpCiAgICBdCgogICAgZGVmIG5pY2VfaW5pdChzZWxmOiBULCAqYXJnczogQW55LCAqKmt3YXJnczogQW55KSAtPiBOb25lOgogICAgICAgIGRjID0gY2xzKCphcmdzLCAqKmt3YXJncykKICAgICAgICBmb3IgaywgXyBpbiBzZWxmLl9maWVsZHNfOiAgIyB0eXBlOiBpZ25vcmUKICAgICAgICAgICAgc2V0YXR0cihzZWxmLCBrLCBnZXRhdHRyKGRjLCBrKSkKCiAgICBzZXRhdHRyKHN0cnVjdCwgIl9faW5pdF9fIiwgbmljZV9pbml0KQogICAgcmV0dXJuIHN0cnVjdAoKCkBmdW5jdG9vbHMubHJ1X2NhY2hlKDI1NikKZGVmIF9weV90eXBlX3RvX2N0eXBlKHQ6IHR5cGUpIC0+IHR5cGU6CiAgICBpZiBpc2luc3RhbmNlKHQsIHN0cik6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgZiJUeXBlIHBhcnNpbmcgb2YgJ3t0fScgaXNuJ3Qgc3VwcG9ydGVkLCB5b3UgbmVlZCB0byBwcm92aWRlIGEgcmVhbCB0eXBlIGFubm90YXRpb24uIgogICAgICAgICkKICAgIGlmIHQgaXMgTm9uZToKICAgICAgICByZXR1cm4gTm9uZQogICAgaWYgaXNpbnN0YW5jZSh0LCB0eXBlKToKICAgICAgICBpZiB0Ll9fbW9kdWxlX18gPT0gImN0eXBlcyI6CiAgICAgICAgICAgIHJldHVybiB0CiAgICAgICAgaWYgaXNzdWJjbGFzcyh0LCBjdHlwZXMuU3RydWN0dXJlKToKICAgICAgICAgICAgcmV0dXJuIHQKICAgICAgICBpZiBpc3N1YmNsYXNzKHQsIGN0eXBlcy5fUG9pbnRlcik6CiAgICAgICAgICAgIHJldHVybiB0CiAgICBpZiB0IGlzIGludDoKICAgICAgICByZXR1cm4gY3R5cGVzLmNfaW50CiAgICBpZiB0IGlzIGZsb2F0OgogICAgICAgIHJldHVybiBjdHlwZXMuY19mbG9hdAogICAgaWYgdCBpcyBib29sOgogICAgICAgIHJldHVybiBjdHlwZXMuY19ib29sCiAgICBpZiB0IGlzIGJ5dGVzOgogICAgICAgIHJldHVybiBjdHlwZXMuY19jaGFyX3AKICAgIGlmIHQgaXMgc3RyOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInN0ciB0eXBlIGlzJ3Qgc3VwcG9ydGVkIGJ5IGN0eXBlcyA/IikKCiAgICBpZiBnZXRhdHRyKHQsICJfX29yaWdpbl9fIiwgTm9uZSkgaXMgUHRyOgogICAgICAgIHBvaW50ZWUgPSBfcHlfdHlwZV90b19jdHlwZSh0Ll9fYXJnc19fWzBdKSAgIyB0eXBlOiBpZ25vcmUKICAgICAgICByZXR1cm4gY3R5cGVzLlBPSU5URVIocG9pbnRlZSkKCiAgICByZXR1cm4gY3R5cGVzLmNfdm9pZF9wCgoKRiA9IFR5cGVWYXIoIkYiLCBib3VuZD1DYWxsYWJsZVsuLi4sIEFueV0pCgoKZGVmIF9jX2ZuKG1vZHVsZTogQW55LCBmbjogRikgLT4gRjoKICAgIGlmIGNhbGxhYmxlKG1vZHVsZSk6CiAgICAgICAgY19mbiA9IG1vZHVsZQogICAgZWxzZToKICAgICAgICBjX2ZuID0gZ2V0YXR0cihtb2R1bGUsIGZuLl9fbmFtZV9fKQogICAgYW5ub3RhdGlvbnMgPSBmbi5fX2Fubm90YXRpb25zX18KICAgIGlmICJyZXR1cm4iIG5vdCBpbiBhbm5vdGF0aW9uczoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAiQGNfZm4gZGVjb3JhdG9yIHJlcXVpcmVzIHR5cGUgYW5ub3RhdGlvbnMgb24gdGhlIGRlY29yYXRlZCBmdW5jdGlvbi4iCiAgICAgICAgKQoKICAgIGNfZm4uYXJndHlwZXMgPSBbCiAgICAgICAgX3B5X3R5cGVfdG9fY3R5cGUodCkgZm9yIGssIHQgaW4gZm4uX19hbm5vdGF0aW9uc19fLml0ZW1zKCkgaWYgayAhPSAicmV0dXJuIgogICAgXQogICAgY19mbi5yZXN0eXBlID0gX3B5X3R5cGVfdG9fY3R5cGUoZm4uX19hbm5vdGF0aW9uc19fWyJyZXR1cm4iXSkKCiAgICBAZnVuY3Rvb2xzLndyYXBzKGZuKQogICAgZGVmIGFjdHVhbF9mbigqYXJncywgKiprd2FyZ3MpOiAgIyB0eXBlOiBpZ25vcmUKICAgICAgICByYXdfcmVzID0gY19mbigqYXJncywgKiprd2FyZ3MpCiAgICAgICAgcmV0dXJuIHJhd19yZXMKCiAgICByZXR1cm4gYWN0dWFsX2ZuICAjIHR5cGU6IGlnbm9yZQoKCmRlZiBjX2ZuKG1vZHVsZTogQW55KSAtPiBDYWxsYWJsZVtbRl0sIEZdOgogICAgcmV0dXJuIGZ1bmN0b29scy5wYXJ0aWFsKF9jX2ZuLCBtb2R1bGUpCg=='),
    ('seamless/ggml/test_unity_cpp.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBjdHlwZXMKaW1wb3J0IGZ1bmN0b29scwppbXBvcnQgc2h1dGlsCmZyb20gY3R5cGVzIGltcG9ydCBjX3ZvaWRfcApmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgSXRlcmF0b3IsIFR1cGxlCgppbXBvcnQgZmFpcnNlcTIubm4KaW1wb3J0IGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgcHl0ZXN0CmltcG9ydCByZXF1ZXN0cyAgIyB0eXBlOiBpZ25vcmUKaW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaGF1ZGlvICAjIHR5cGU6IGlnbm9yZQpmcm9tIGN0eXBlc191dGlscyBpbXBvcnQgTlVMTFBUUiwgUHRyCmZyb20gZmFpcnNlcTIuZGF0YS5hdWRpbyBpbXBvcnQgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyCmZyb20gZmFpcnNlcTIubW9kZWxzLndhdjJ2ZWMyLmZlYXR1cmVfZXh0cmFjdG9yIGltcG9ydCBXYXYyVmVjMkZiYW5rRmVhdHVyZUV4dHJhY3Rvcgpmcm9tIGdnbWxfY29udmVydCBpbXBvcnQgY29udmVydF9tb2RlbCwgcmVhZF9sYXllcl9jb25maWcKCmltcG9ydCBnZ21sCmZyb20gZ2dtbCBpbXBvcnQgTmF0aXZlT2JqCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5pbmZlcmVuY2UuZ2VuZXJhdG9yIGltcG9ydCBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZS50cmFuc2xhdG9yIGltcG9ydCBNb2RhbGl0eSwgVHJhbnNsYXRvcgoKQ3R4ID0gZ2dtbC5nZ21sX2NvbnRleHRfcAoKVU5JVFlfTU9ERUxTID0gUGF0aChfX2ZpbGVfXykucGFyZW50IC8gImV4YW1wbGVzL3VuaXR5L21vZGVscyIKRkFJUlNFUTJfQ1BQID0gUGF0aChfX2ZpbGVfXykucGFyZW50IC8gImV4YW1wbGVzL3VuaXR5L2ZhaXJzZXEyLmNwcCIKVU5JVFlfRkxBU0hfQVRUTiA9ICJcbiMgZGVmaW5lIFVOSVRZX0ZMQVNIX0FUVE4gMFxuIiBub3QgaW4gRkFJUlNFUTJfQ1BQLnJlYWRfdGV4dCgpCgpEQVRBID0gUGF0aChfX2ZpbGVfXykucGFyZW50IC8gInRlc3RfZGF0YSIKTE9DQUxfQVVESU9fU0FNUExFX1BBVEggPSBEQVRBIC8gIkxKMDM3LTAxNzFfc3IxNmsud2F2IgpURVNUX0FVRElPX1NBTVBMRV9VUkwgPSAoCiAgICAiaHR0cHM6Ly9kbC5mYmFpcHVibGljZmlsZXMuY29tL3NlYW1sZXNzL3Rlc3RzL0xKMDM3LTAxNzFfc3IxNmsud2F2IgopCgoKTUIgPSAxMDI0ICogMTAyNAoKCkBweXRlc3QuZml4dHVyZShuYW1lPSJjdHgiKQpkZWYgX2N0eCgpIC0+IEl0ZXJhdG9yW0N0eF06CiAgICAiIiJBbGxvY2F0ZSBhIG5ldyBjb250ZXh0IHdpdGggMTAyNCBNQiBvZiBtZW1vcnkiIiIKICAgIHRyeToKICAgICAgICBtZW1fc2l6ZSA9IDE2ICogTUIKICAgICAgICBtZW1vcnkgPSB0b3JjaC56ZXJvcyhtZW1fc2l6ZSwgZHR5cGU9dG9yY2gudWludDgpCiAgICAgICAgY3R4ID0gZ2dtbC5nZ21sX2luaXQoCiAgICAgICAgICAgIHBhcmFtcz1nZ21sLmdnbWxfaW5pdF9wYXJhbXMoCiAgICAgICAgICAgICAgICBtZW1fc2l6ZT1tZW1fc2l6ZSwKICAgICAgICAgICAgICAgIG1lbV9idWZmZXI9Y3R5cGVzLmNfdm9pZF9wKG1lbW9yeS5kYXRhX3B0cigpKSwKICAgICAgICAgICAgICAgIG5vX2FsbG9jPVRydWUsCiAgICAgICAgICAgICkKICAgICAgICApCgogICAgICAgICMgQ3JlYXRlICdkb3QnIGZvbGRlciBmb3IgdGVtcG9yYXJ5IGR1bXAgb2YgZ2dtbCBncmFwaHMKICAgICAgICAoUGF0aChfX2ZpbGVfXykucGFyZW50IC8gImRvdCIpLm1rZGlyKGV4aXN0X29rPVRydWUpCgogICAgICAgIHdpdGggdG9yY2guaW5mZXJlbmNlX21vZGUoKToKICAgICAgICAgICAgeWllbGQgY3R4CiAgICBmaW5hbGx5OgogICAgICAgIGdnbWwuZ2dtbF9mcmVlKGN0eCkKCgpAZnVuY3Rvb2xzLmxydV9jYWNoZSgpCmRlZiBfbG9hZF9nX21vZGVsX29uY2UoKSAtPiBOYXRpdmVPYmo6CiAgICBtb2RlbF9maWxlID0gUGF0aChfX2ZpbGVfXykucGFyZW50IC8gInNlYW1sZXNzTTRUX21lZGl1bS5nZ21sIgogICAgaWYgbm90IG1vZGVsX2ZpbGUuZXhpc3RzKCk6CiAgICAgICAgY29udmVydF9tb2RlbCgic2VhbWxlc3NNNFRfbWVkaXVtIiwgbW9kZWxfZmlsZSkKICAgIHJldHVybiBnZ21sLmxvYWRfZmFpcnNlcTJfZ2dtbF9maWxlKG1vZGVsX2ZpbGUpCgoKQHB5dGVzdC5maXh0dXJlKCkKZGVmIGdfbW9kZWwoY3R4OiBDdHgpIC0+IGNfdm9pZF9wOgogICAgbW9kZWwgPSBfbG9hZF9nX21vZGVsX29uY2UoKQogICAgZ2dtbC5saWIuZmFpcnNlcTJfbW9kZWxfc2V0X2luZmVyZW5jZV9jdHgobW9kZWwucHRyLCBjdHgpCiAgICByZXR1cm4gbW9kZWwucHRyCgoKQGZ1bmN0b29scy5scnVfY2FjaGUobWF4c2l6ZT0xKQpkZWYgbG9hZF90cmFuc2xhdG9yKCkgLT4gVHJhbnNsYXRvcjoKICAgIHJldHVybiBUcmFuc2xhdG9yKCJzZWFtbGVzc000VF9tZWRpdW0iLCBOb25lLCBkZXZpY2U9dG9yY2guZGV2aWNlKCJjcHUiKSkKCgpkZWYgbG9hZF9wdF9tb2RlbCgpIC0+IEFueToKICAgIHJldHVybiBsb2FkX3RyYW5zbGF0b3IoKS5tb2RlbAoKCmRlZiBkb3dubG9hZF9zYW1wbGVfYXVkaW8oKSAtPiBBbnk6CiAgICBQYXRoKERBVEEpLm1rZGlyKGV4aXN0X29rPVRydWUpCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldChURVNUX0FVRElPX1NBTVBMRV9VUkwsIHN0cmVhbT1UcnVlKQogICAgd2l0aCBvcGVuKERBVEEgLyAiTEowMzctMDE3MV9zcjE2ay53YXYiLCAid2IiKSBhcyBmaWxlOgogICAgICAgIGZvciBjaHVuayBpbiByZXNwb25zZS5pdGVyX2NvbnRlbnQoY2h1bmtfc2l6ZT0xMDI0KToKICAgICAgICAgICAgaWYgY2h1bms6CiAgICAgICAgICAgICAgICBmaWxlLndyaXRlKGNodW5rKQoKCmRlZiB0ZXN0X2NvbnZlcnRfbGluZWFyKHRtcF9wYXRoOiBQYXRoKSAtPiBOb25lOgogICAgbW9kdWxlID0gZmFpcnNlcTIubm4uTGluZWFyKDE2LCAyNCwgVHJ1ZSkKCiAgICBsYXllcl9jb25maWcgPSByZWFkX2xheWVyX2NvbmZpZyhtb2R1bGUsICIiKQogICAgYXNzZXJ0IGxheWVyX2NvbmZpZyA9PSB7ImlucHV0X2RpbSI6IDE2LCAib3V0cHV0X2RpbSI6IDI0fQoKICAgIG1vZHVsZV9maWxlID0gdG1wX3BhdGggLyAibW9kdWxlLmdnbWwiCiAgICBjb252ZXJ0X21vZGVsKG1vZHVsZSwgbW9kdWxlX2ZpbGUpCiAgICBnX21vZHVsZSA9IGdnbWwubG9hZF9mYWlyc2VxMl9nZ21sX2ZpbGUobW9kdWxlX2ZpbGUpCgogICAgZm9yIGssIHYgaW4gbGF5ZXJfY29uZmlnLml0ZW1zKCk6CiAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgZ2dtbC5mYWlyc2VxMl9tb2RlbF9sYXllcl9jb25maWdfaW50KGdfbW9kdWxlLnB0ciwgYnl0ZXMoaywgImFzY2lpIikpID09IHYKICAgICAgICApCgpkZWYgdGVzdF9jb252ZXJ0X2xpbmVhcl9mcDE2KHRtcF9wYXRoOiBQYXRoLCBjdHg6IEN0eCkgLT4gTm9uZToKICAgIHB0X21vZGVsID0gdG9yY2gubm4uTW9kdWxlRGljdCh7ImxpbmVhciI6IGZhaXJzZXEyLm5uLkxpbmVhcigxNiwgMjQsIFRydWUpfSkKCiAgICBsYXllcl9jb25maWcgPSByZWFkX2xheWVyX2NvbmZpZyhwdF9tb2RlbCwgIiIpCiAgICBhc3NlcnQgbGF5ZXJfY29uZmlnID09IHsibGluZWFyLmlucHV0X2RpbSI6IDE2LCAibGluZWFyLm91dHB1dF9kaW0iOiAyNH0KCiAgICBnZ21sX2ZpbGUgPSB0bXBfcGF0aCAvICJsaW5lYXIuZ2dtbCIKICAgIGNvbnZlcnRfbW9kZWwocHRfbW9kZWwsIGdnbWxfZmlsZSwgZnAxNj1UcnVlKQogICAgYXNzZXJ0IGdnbWxfZmlsZS5zdGF0KCkuc3Rfc2l6ZSA8ICgxNiAqIDI0ICsgMjQpICogMiAqIDEuNQogICAgZ19tb2RlbCA9IGdnbWwubG9hZF9mYWlyc2VxMl9nZ21sX2ZpbGUoZ2dtbF9maWxlKQogICAgZ2dtbC5saWIuZmFpcnNlcTJfbW9kZWxfc2V0X2luZmVyZW5jZV9jdHgoZ19tb2RlbC5wdHIsIGN0eCkKCiAgICB4ID0gdG9yY2guZW1wdHkoKDIsIDUsIDE2KSkKICAgIHRvcmNoLm5uLmluaXQudW5pZm9ybV8oeCwgLTEsIDEpCiAgICB5X2V4cCA9IHB0X21vZGVsLmxpbmVhcih4KS5udW1weSgpCiAgICBneCA9IGdnbWwuZnJvbV9udW1weShjdHgsIHgpCiAgICBneSA9IGdnbWwuZm9yd2FyZCgiTGluZWFyIiwgZ19tb2RlbC5wdHIsICJsaW5lYXIiLCBneCkKICAgIGdnbWwuYnVpbGRfYW5kX2NvbXB1dGUoY3R4LCBneSkKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQoKICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSwgYXRvbD0xZS0zKQoKCmRlZiB0ZXN0X2NhdXNhbF9hdHRlbnRpb25fbWFzayhjdHg6IEN0eCk6CiAgICB4ID0gdG9yY2guemVyb3MoKDEsIDEwLCAzMikpCiAgICBnZW5lcmF0b3IgPSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lci5DYXVzYWxBdHRlbnRpb25NYXNrRmFjdG9yeSgpCiAgICBtYXNrX2V4cCA9IGdlbmVyYXRvcih4LCB4KS5tYXRlcmlhbGl6ZSgpLm51bXB5KCkKCiAgICBneCA9IGdnbWwuZnJvbV9udW1weShjdHgsIHgpCiAgICBnbWFzayA9IGdnbWwuY2F1c2FsX2F0dGVudGlvbl9tYXNrKGN0eCwgZ3gpCiAgICBnZ21sLmJ1aWxkX2FuZF9jb21wdXRlKGN0eCwgZ21hc2spCiAgICBtYXNrID0gZ2dtbC50b19udW1weShnbWFzaykKCiAgICBhc3NlcnQgbWFza19leHAuc2hhcGUgPT0gKDEwLCAxMCkKICAgIGFzc2VydCBtYXNrLnNoYXBlID09ICgxMCwgMTApCiAgICBhc3NlcnQgbnAuYWxsKG1hc2sgPT0gbWFza19leHApCgogICAgeCA9IHhbOiwgOjgsIDpdCiAgICBtYXNrX2V4cCA9IGdlbmVyYXRvcih4LCB4KS5tYXRlcmlhbGl6ZSgpLm51bXB5KCkKICAgIGd4ID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgeCkKICAgIGdtYXNrID0gZ2dtbC5jYXVzYWxfYXR0ZW50aW9uX21hc2soY3R4LCBneCkKICAgIGdnbWwuYnVpbGRfYW5kX2NvbXB1dGUoY3R4LCBnbWFzaykKICAgIG1hc2sgPSBnZ21sLnRvX251bXB5KGdtYXNrKQoKICAgIGFzc2VydCBtYXNrX2V4cC5zaGFwZSA9PSAoOCwgOCkKICAgIGFzc2VydCBtYXNrLnNoYXBlID09ICg4LCA4KQogICAgYXNzZXJ0IG5wLmFsbChtYXNrID09IG1hc2tfZXhwKQoKCmRlZiB0ZXN0X0xheWVyTm9ybV9mb3J3YXJkKGN0eDogQ3R4LCBnX21vZGVsOiBjX3ZvaWRfcCkgLT4gTm9uZToKICAgIHggPSB0b3JjaC5lbXB0eSgoMiwgMjEsIDEwMjQpKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyh4LCAtMSwgMSkKCiAgICBwdF9tb2RlbCA9IGxvYWRfcHRfbW9kZWwoKQogICAgeV9leHAgPSBwdF9tb2RlbC50ZXh0X2VuY29kZXIubGF5ZXJzWzBdLmZmbl9sYXllcl9ub3JtKHgpLm51bXB5KCkKICAgIGd4ID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgeCkKICAgIGd5ID0gZ2dtbC5mb3J3YXJkKCJMYXllck5vcm0iLCBnX21vZGVsLCAidGV4dF9lbmNvZGVyLmxheWVycy4wLmZmbl9sYXllcl9ub3JtIiwgZ3gpCiAgICBnZ21sLmJ1aWxkX2FuZF9jb21wdXRlKGN0eCwgZ3kpCgogICAgeSA9IGdnbWwudG9fbnVtcHkoZ3kpCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UoeV9leHAsIHksIGF0b2w9MWUtNSkKCgpkZWYgdGVzdF9MaW5lYXJfZm9yd2FyZChjdHg6IEN0eCwgZ19tb2RlbDogY192b2lkX3ApIC0+IE5vbmU6CiAgICB4ID0gdG9yY2guZW1wdHkoKDIsIDIxLCAxMDI0KSkKICAgIHRvcmNoLm5uLmluaXQudW5pZm9ybV8oeCwgLTEsIDEpCgogICAgcHRfbW9kZWwgPSBsb2FkX3B0X21vZGVsKCkKICAgIHlfZXhwID0gcHRfbW9kZWwudGV4dF9lbmNvZGVyLmxheWVyc1swXS5mZm4uaW5uZXJfcHJvaih4KS5udW1weSgpCiAgICBneCA9IGdnbWwuZnJvbV9udW1weShjdHgsIHgpCiAgICBneSA9IGdnbWwuZm9yd2FyZCgiTGluZWFyIiwgZ19tb2RlbCwgInRleHRfZW5jb2Rlci5sYXllcnMuMC5mZm4uaW5uZXJfcHJvaiIsIGd4KQogICAgZ2dtbC5idWlsZF9hbmRfY29tcHV0ZShjdHgsIGd5LCBkdW1wPSJkb3QvdGVzdF9MaW5lYXJfZm9yd2FyZC5kb3QiKQoKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKHlfZXhwLCB5LCBhdG9sPTFlLTUpCgoKZGVmIHRlc3RfRmVlZEZvcndhcmROZXR3b3JrX2ZvcndhcmQoY3R4OiBDdHgsIGdfbW9kZWw6IGNfdm9pZF9wKSAtPiBOb25lOgogICAgeCA9IHRvcmNoLmVtcHR5KCgyLCAyMSwgMTAyNCkpICAjIChicywgc2VxX2xlbiwgbW9kZWxfZGltKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyh4LCAtMSAvIDMyLCAxIC8gMzIpCgogICAgIyBUZXN0IEZGTiB3aXRob3V0IExheWVyTm9ybQogICAgcHRfbW9kZWwgPSBsb2FkX3B0X21vZGVsKCkKICAgIHlfZXhwID0gcHRfbW9kZWwudGV4dF9lbmNvZGVyLmxheWVyc1swXS5mZm4oeCkubnVtcHkoKQogICAgZ3ggPSBnZ21sLmZyb21fbnVtcHkoY3R4LCB4KQogICAgZ3kgPSBnZ21sLmZvcndhcmQoCiAgICAgICAgIlN0YW5kYXJkRmVlZEZvcndhcmROZXR3b3JrIiwgZ19tb2RlbCwgInRleHRfZW5jb2Rlci5sYXllcnMuMC5mZm4iLCBneAogICAgKQogICAgZ2dtbC5idWlsZF9hbmRfY29tcHV0ZShjdHgsIGd5KQoKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKHlfZXhwLCB5LCBhdG9sPTFlLTUpCgoKQHB5dGVzdC5tYXJrLnBhcmFtZXRyaXplKCJsZW5ndGhzIiwgWygxMSwgMjEpLCAoMjEsIDEzKV0pCmRlZiB0ZXN0X011bHRpaGVhZEF0dGVudGlvbl9mb3J3YXJkKAogICAgY3R4OiBDdHgsIGdfbW9kZWw6IGNfdm9pZF9wLCBsZW5ndGhzOiBUdXBsZVtpbnQsIGludF0KKSAtPiBOb25lOgogICAgeCA9IHRvcmNoLmVtcHR5KCgyLCAyMSwgMTAyNCkpCiAgICB0b3JjaC5yYW5kb20ubWFudWFsX3NlZWQoMCkKICAgIHRvcmNoLm5uLmluaXQudW5pZm9ybV8oeCwgLTEsIDEpCgogICAgIyBOb3RlOiB3ZSB1c2UgZGlmZmVyZW50IGxlbmd0aHMgZm9yIHF1ZXJpZXMgYW5kIGtleXMsCiAgICAjIHRoaXMgdGVzdHMgdGhlIGltcGxlbWVudGF0aW9uIGluIGRlY29kaW5nIGNvbnRleHQgdG9vLgogICAgIyBOb3RlMjogZ2dtbF9mbGFzaF9hdHRuIHJlcXVpcmVzIHRoYXQgd2UgaGF2ZSBtb3JlIGtleXMgdGhhbiBxdWVyaWVzCiAgICAjIHFsZW4sIGtsZW4gPSAoMTEsIDIxKSBpZiBmbGFzaF9hdHRuIGVsc2UgKDIxLCAxMykKICAgIHFsZW4sIGtsZW4gPSBsZW5ndGhzCiAgICB4cSA9IHhbOiwgOnFsZW5dCiAgICB4ayA9IHhbOiwgOmtsZW5dCiAgICBpZiBxbGVuID4ga2xlbiBhbmQgVU5JVFlfRkxBU0hfQVRUTjoKICAgICAgICBweXRlc3Quc2tpcChyZWFzb249ImZsYXNoX2F0dG4gcmVxdWlyZXMgcWxlbiA+IGtsZW4iKQoKICAgIGd4cSA9IGdnbWwuZnJvbV9udW1weShjdHgsIHhxLmNvbnRpZ3VvdXMoKSkKICAgIGdnbWwuZ2dtbF9zZXRfbmFtZShneHEsIGIieHEiKQogICAgZ3hrID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgeGsuY29udGlndW91cygpKQogICAgZ2dtbC5nZ21sX3NldF9uYW1lKGd4aywgYiJ4ayIpCiAgICBnZ21sLmdnbWxfc2V0X25vX2FsbG9jKGN0eCwgVHJ1ZSkKICAgIGd5ID0gZ2dtbC5mb3J3YXJkKAogICAgICAgICJNdWx0aWhlYWRBdHRlbnRpb24iLAogICAgICAgIGdfbW9kZWwsCiAgICAgICAgInRleHRfZW5jb2Rlci5sYXllcnMuMC5zZWxmX2F0dG4iLAogICAgICAgIGd4cSwKICAgICAgICBneGssCiAgICAgICAgZ3hrLAogICAgICAgIE5VTExQVFIsICAjIFRPRE86IHRlc3RzIHdpdGggY2F1c2FsIGF0dGVudGlvbiBtYXNrcwogICAgKQogICAgZ2YgPSBnZ21sLmJ1aWxkX2FuZF9jb21wdXRlKGN0eCwgZ3ksIGR1bXA9ImRvdC90ZXN0X011bHRpaGVhZEF0dGVudGlvbl9mb3J3YXJkIikKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQogICAgbm9kZXMgPSBnZ21sLm5vZGVzKGdmKQogICAgbm9kZV9idWZmZXJzID0gc2V0KHQuY29udGVudHMuZGF0YSBmb3IgdCBpbiBub2Rlcy52YWx1ZXMoKSkKCiAgICBwdF9tb2RlbCA9IGxvYWRfcHRfbW9kZWwoKQogICAgc2VsZl9hdHRuID0gcHRfbW9kZWwudGV4dF9lbmNvZGVyLmxheWVyc1swXS5zZWxmX2F0dG4KCiAgICAjIElmIGJ1ZmZlcnMgYXJlIG92ZXJsYXBwaW5nLCByZWFkaW5nIG5vZGUgY29udGVudHMsIGNhbiBiZSBtaXNsZWFkaW5nLgogICAgb3ZlcmxhcCA9IGxlbihub2RlX2J1ZmZlcnMpIDwgbGVuKG5vZGVzKQogICAgaWYgbm90IG92ZXJsYXA6CiAgICAgICAgcV9leHAgPSBzZWxmX2F0dG4uX3Byb2plY3RfcSh4cSwgTm9uZSkubnVtcHkoKS5yZXNoYXBlKDIgKiAxNiwgcWxlbiwgNjQpCiAgICAgICAgcSA9IGdnbWwudG9fbnVtcHkobm9kZXNbYiJxIl0pCiAgICAgICAgYXNzZXJ0IHEuc2hhcGUgPT0gcV9leHAuc2hhcGUKICAgICAgICBhc3NlcnQgbnAuYWxsY2xvc2UocV9leHAsIHEsIGF0b2w9MWUtNSkKCiAgICAgICAgYXR0bl93ZWlnaHRzX2hvb2sgPSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lci5BdHRlbnRpb25XZWlnaHRTdG9yZUhvb2soW10pCiAgICAgICAgc2VsZl9hdHRuLnJlZ2lzdGVyX2F0dG5fd2VpZ2h0X2hvb2soYXR0bl93ZWlnaHRzX2hvb2spCgogICAgeV9leHAgPSBzZWxmX2F0dG4oeHEsIE5vbmUsIHhrLCBOb25lLCB4aykubnVtcHkoKQoKICAgICMgd2l0aCBmbGFzaF9hdHRuIHdlIGRvbid0IGhhdmUgYXR0bl93ZWlnaHRzCiAgICBuYWl2ZV9hdHRuID0gYiJhdHRuX3dlaWdodHMiIGluIG5vZGVzCiAgICBpZiBuYWl2ZV9hdHRuIGFuZCBub3Qgb3ZlcmxhcDoKICAgICAgICBhdHRuX3dlaWdodHMgPSBnZ21sLnRvX251bXB5KG5vZGVzW2IiYXR0bl93ZWlnaHRzIl0pLnJlc2hhcGUoLTEsIDE2LCBxbGVuLCBrbGVuKQogICAgICAgIFsoXywgYXR0bl93ZWlnaHRzX2V4cCldID0gYXR0bl93ZWlnaHRzX2hvb2suX3N0b3JhZ2UKICAgICAgICBhdHRuX3dlaWdodHNfZXhwID0gYXR0bl93ZWlnaHRzX2V4cC5udW1weSgpCiAgICAgICAgYXNzZXJ0IGF0dG5fd2VpZ2h0c19leHAuc2hhcGUgPT0gYXR0bl93ZWlnaHRzLnNoYXBlCiAgICAgICAgIyBHR01MIGlzIHZlcnkgYWdyZXNzaXZlbHkgcmVkdWNpbmcgc21hbGwgc29mdG1heCB3ZWlnaHRzIHRvIDAsCiAgICAgICAgIyBzbyB0aGUgZXJyb3IgaXNuJ3QgdGhhdCBzbWFsbAogICAgICAgIGFzc2VydCBucC5hbGxjbG9zZShhdHRuX3dlaWdodHNfZXhwLCBhdHRuX3dlaWdodHMsIGF0b2w9MWUtMykKICAgICAgICAjIEJ1dCB0aGUgc3VtcyBzaG91bGQgYmUgY2xvc2UgdG8gMQogICAgICAgIGFzc2VydCBucC5hbGxjbG9zZShucC5zdW0oYXR0bl93ZWlnaHRzLCBheGlzPS0xKSwgbnAub25lcygoMiwgMTYsIHFsZW4pKSkKICAgICAgICAjIEFuZCB0aGUgbWF4aW11bSBpbmRleCBzaG91bGQgbWF0Y2ggdGhlIG9yaWdpbmFsIG9uZXMuCiAgICAgICAgYXNzZXJ0IG5wLmFsbGNsb3NlKAogICAgICAgICAgICBucC5hcmdtYXgoYXR0bl93ZWlnaHRzX2V4cCwgYXhpcz0tMSksIG5wLmFyZ21heChhdHRuX3dlaWdodHMsIGF4aXM9LTEpCiAgICAgICAgKQogICAgYXNzZXJ0IHkuc2hhcGUgPT0geV9leHAuc2hhcGUKICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSwgYXRvbD0xZS0yIGlmIG5haXZlX2F0dG4gZWxzZSAxZS00KQoKCmRlZiB0ZXN0X011bHRpaGVhZEF0dGVudGlvbl9mb3J3YXJkX3NlbGZfYXR0bl93aXRoX2NhY2hlKAogICAgY3R4OiBDdHgsIGdfbW9kZWw6IGNfdm9pZF9wCikgLT4gTm9uZToKICAgIHB0X21vZGVsID0gbG9hZF9wdF9tb2RlbCgpCiAgICBhdHRuID0gcHRfbW9kZWwudGV4dF9kZWNvZGVyLmxheWVyc1swXS5zZWxmX2F0dG4KCiAgICB4ID0gdG9yY2guZW1wdHkoKDIsIDIxLCAxMDI0KSkKICAgIHRvcmNoLnJhbmRvbS5tYW51YWxfc2VlZCgwKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyh4LCAtMSwgMSkKCiAgICBzdGF0ZV9iYWcgPSBmYWlyc2VxMi5ubi5JbmNyZW1lbnRhbFN0YXRlQmFnKDEwMCkKCiAgICB3aXRoIGdnbWwuZmFpcnNlcTJfa3ZfY2FjaGVfYWxsb2MoZ19tb2RlbCwgMTYgKiBNQiwgMiwgMjEpOgogICAgICAgICMgSW5jcmVtZW50YWwgZGVjb2RpbmcKICAgICAgICBmb3IgdCBpbiByYW5nZSgzKToKICAgICAgICAgICAgeHEgPSB4WzosIHQgOiB0ICsgMV0KCiAgICAgICAgICAgIGd4cSA9IGdnbWwuZnJvbV9udW1weShjdHgsIHhxLmNvbnRpZ3VvdXMoKSkKICAgICAgICAgICAgZ2dtbC5nZ21sX3NldF9uYW1lKGd4cSwgYiJ4cSIpCiAgICAgICAgICAgIGd5ID0gZ2dtbC5mb3J3YXJkKAogICAgICAgICAgICAgICAgIk11bHRpaGVhZEF0dGVudGlvbiIsCiAgICAgICAgICAgICAgICBnX21vZGVsLAogICAgICAgICAgICAgICAgInRleHRfZGVjb2Rlci5sYXllcnMuMC5zZWxmX2F0dG4iLAogICAgICAgICAgICAgICAgZ3hxLAogICAgICAgICAgICAgICAgZ3hxLAogICAgICAgICAgICAgICAgZ3hxLAogICAgICAgICAgICAgICAgTm9uZSwgICMgdHlwZTogaWdub3JlCiAgICAgICAgICAgICkKICAgICAgICAgICAgZ2YgPSBnZ21sLmJ1aWxkX2FuZF9jb21wdXRlKAogICAgICAgICAgICAgICAgY3R4LAogICAgICAgICAgICAgICAgZ3ksCiAgICAgICAgICAgICAgICBkdW1wPWYiZG90L3Rlc3RfTXVsdGloZWFkQXR0ZW50aW9uX2ZvcndhcmRfc2VsZl9hdHRuX3dpdGhfY2FjaGVfe3R9LmRvdCIsCiAgICAgICAgICAgICkKICAgICAgICAgICAgbm9kZXMgPSBnZ21sLm5vZGVzKGdmKQogICAgICAgICAgICBna19jYWNoZSA9IGdnbWwudG9fbnVtcHkoCiAgICAgICAgICAgICAgICBub2Rlc1tiInRleHRfZGVjb2Rlci5sYXllcnMuMC5zZWxmX2F0dG4uayAoc3RlcD0lZCkiICUgdF0KICAgICAgICAgICAgKQogICAgICAgICAgICBhc3NlcnQgZ2tfY2FjaGUuc2hhcGUgPT0gKDIsIHQgKyAxLCAxMDI0KQogICAgICAgICAgICBna19jYWNoZSA9IGdrX2NhY2hlLnJlc2hhcGUoMiwgdCArIDEsIDE2LCA2NCkudHJhbnNwb3NlKDAsIDIsIDEsIDMpCiAgICAgICAgICAgIGFzc2VydCBna19jYWNoZS5zaGFwZSA9PSAoMiwgMTYsIHQgKyAxLCA2NCkKCiAgICAgICAgICAgIHlfZXhwID0gYXR0bih4cSwgTm9uZSwgeHEsIE5vbmUsIHhxLCBzdGF0ZV9iYWc9c3RhdGVfYmFnKS5udW1weSgpCiAgICAgICAgICAgIGFzc2VydCB5X2V4cC5zaGFwZSA9PSAoMiwgMSwgMTAyNCkKICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZV9iYWcuZ2V0X3N0YXRlKGF0dG4sIGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyLkF0dGVudGlvblN0YXRlKQogICAgICAgICAgICBzdGF0ZV9iYWcuaW5jcmVtZW50X3N0ZXBfbnIoKQogICAgICAgICAgICBhc3NlcnQgc3RhdGUgaXMgbm90IE5vbmUKCiAgICAgICAgICAgIGtfY2FjaGUgPSBzdGF0ZS5nZXQoKVswXS5udW1weSgpCiAgICAgICAgICAgIGFzc2VydCBrX2NhY2hlLnNoYXBlID09ICgyLCAxNiwgdCArIDEsIDY0KQogICAgICAgICAgICBhc3NlcnQgbnAuYWxsY2xvc2UoZ2tfY2FjaGUsIGtfY2FjaGUsIGF0b2w9MWUtMykKCiAgICAgICAgICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQogICAgICAgICAgICBhc3NlcnQgbnAuYWxsY2xvc2UoeSwgeV9leHAsIGF0b2w9MWUtMikKCgpkZWYgdGVzdF9NdWx0aWhlYWRBdHRlbnRpb25fZm9yd2FyZF9jcm9zc19hdHRuX3dpdGhfY2FjaGUoCiAgICBjdHg6IEN0eCwgZ19tb2RlbDogY192b2lkX3AKKSAtPiBOb25lOgogICAgcHRfbW9kZWwgPSBsb2FkX3B0X21vZGVsKCkKICAgIGF0dG4gPSBwdF9tb2RlbC50ZXh0X2RlY29kZXIubGF5ZXJzWzBdLmVuY29kZXJfZGVjb2Rlcl9hdHRuCgogICAgeCA9IHRvcmNoLmVtcHR5KCgyLCAyMSwgMTAyNCkpCiAgICB0b3JjaC5yYW5kb20ubWFudWFsX3NlZWQoMCkKICAgIHRvcmNoLm5uLmluaXQudW5pZm9ybV8oeCwgLTEsIDEpCgogICAgc3RhdGVfYmFnID0gZmFpcnNlcTIubm4uSW5jcmVtZW50YWxTdGF0ZUJhZygxMDApCgogICAgd2l0aCBnZ21sLmZhaXJzZXEyX2t2X2NhY2hlX2FsbG9jKGdfbW9kZWwsIDE2ICogTUIsIDIsIDIxKToKICAgICAgICAjIEluY3JlbWVudGFsIGRlY29kaW5nLCB0aGUga2V5cyBjb21lIGZyb20gdGhlIGVuY29kZXIsIGFuZCBkb24ndCBjaGFuZ2UgZHVyaW5nIGRlY29kaW5nCiAgICAgICAgeGsgPSB4WzosIDoxMV0KICAgICAgICBneGsgPSBnZ21sLmZyb21fbnVtcHkoY3R4LCB4ay5jb250aWd1b3VzKCksIG5hbWU9YiJ4ayIpCgogICAgICAgIGZvciB0IGluIHJhbmdlKDMpOgogICAgICAgICAgICB4cSA9IHhbOiwgdCA6IHQgKyAxXQoKICAgICAgICAgICAgZ3hxID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgeHEuY29udGlndW91cygpKQogICAgICAgICAgICBnZ21sLmdnbWxfc2V0X25hbWUoZ3hxLCBiInhxIikKICAgICAgICAgICAgZ3kgPSBnZ21sLmZvcndhcmQoCiAgICAgICAgICAgICAgICAiTXVsdGloZWFkQXR0ZW50aW9uIiwKICAgICAgICAgICAgICAgIGdfbW9kZWwsCiAgICAgICAgICAgICAgICAidGV4dF9kZWNvZGVyLmxheWVycy4wLmVuY29kZXJfZGVjb2Rlcl9hdHRuIiwKICAgICAgICAgICAgICAgIGd4cSwKICAgICAgICAgICAgICAgIGd4aywKICAgICAgICAgICAgICAgIGd4aywKICAgICAgICAgICAgICAgIE5vbmUsICAjIHR5cGU6IGlnbm9yZQogICAgICAgICAgICApCiAgICAgICAgICAgIGdmID0gZ2dtbC5idWlsZF9hbmRfY29tcHV0ZSgKICAgICAgICAgICAgICAgIGN0eCwKICAgICAgICAgICAgICAgIGd5LAogICAgICAgICAgICAgICAgZHVtcD1mImRvdC90ZXN0X011bHRpaGVhZEF0dGVudGlvbl9mb3J3YXJkX2Nyb3NzX2F0dG5fd2l0aF9jYWNoZV97dH0uZG90IiwKICAgICAgICAgICAgKQogICAgICAgICAgICB5ID0gZ2dtbC50b19udW1weShneSkKICAgICAgICAgICAgbm9kZXMgPSBnZ21sLm5vZGVzKGdmKQogICAgICAgICAgICBsZWF2ZXMgPSBnZ21sLmxlYWZzKGdmKQoKICAgICAgICAgICAgaWYgdCA+IDA6CiAgICAgICAgICAgICAgICAjIHRoZSBjYWNoZSBvbmx5IGFwcGVhciBpbiB0aGUgZ3JhcGggZHVyaW5nIHRoZSBzZWNvbmQgY2FsbAogICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZV9iYWcuZ2V0X3N0YXRlKAogICAgICAgICAgICAgICAgICAgIGF0dG4sIGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyLkF0dGVudGlvblN0YXRlCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBhc3NlcnQgc3RhdGUgaXMgbm90IE5vbmUKICAgICAgICAgICAgICAgIGFzc2VydCBucC5hbGxjbG9zZSgKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5nZXQoKVswXS50cmFuc3Bvc2UoMSwgMikubnVtcHkoKSwKICAgICAgICAgICAgICAgICAgICBnZ21sLnRvX251bXB5KAogICAgICAgICAgICAgICAgICAgICAgICBub2Rlc1sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIidGV4dF9kZWNvZGVyLmxheWVycy4wLmVuY29kZXJfZGVjb2Rlcl9hdHRuLmtfY2FjaGUgKHZpZXcpIgogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICBhdG9sPTFlLTMsCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICBzdGF0ZV9iYWcuaW5jcmVtZW50X3N0ZXBfbnIoKQogICAgICAgICAgICB5X2V4cCA9IGF0dG4oeHEsIE5vbmUsIHhrLCBOb25lLCB4aywgc3RhdGVfYmFnPXN0YXRlX2JhZykubnVtcHkoKQogICAgICAgICAgICBhc3NlcnQgeV9leHAuc2hhcGUgPT0gKDIsIDEsIDEwMjQpCiAgICAgICAgICAgIGFzc2VydCBucC5hbGxjbG9zZSh5LCB5X2V4cCwgYXRvbD0xZS0yKQoKCmRlZiB0ZXN0X1N0YW5kYXJkVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXJfZm9yd2FyZChjdHg6IEN0eCwgZ19tb2RlbDogY192b2lkX3ApIC0+IE5vbmU6CiAgICB4ID0gdG9yY2guZW1wdHkoKDIsIDIxLCAxMDI0KSkKICAgIHRvcmNoLnJhbmRvbS5tYW51YWxfc2VlZCgwKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyh4LCAtMSwgMSkKCiAgICBwdF9tb2RlbCA9IGxvYWRfcHRfbW9kZWwoKQogICAgbGF5ZXIgPSBwdF9tb2RlbC50ZXh0X2VuY29kZXIubGF5ZXJzWzBdCgogICAgZ3ggPSBnZ21sLmZyb21fbnVtcHkoY3R4LCB4KQogICAgZ2dtbC5nZ21sX3NldF9uYW1lKGd4LCBiIngiKQogICAgZ3kgPSBnZ21sLmZvcndhcmQoCiAgICAgICAgIlN0YW5kYXJkVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIiLAogICAgICAgIGdfbW9kZWwsCiAgICAgICAgInRleHRfZW5jb2Rlci5sYXllcnMuMCIsCiAgICAgICAgZ3gsCiAgICAgICAgTm9uZSwgICMgVE9ETyBzdXBwb3J0IHBhZGRpbmcgbWFzawogICAgKQogICAgZ2YgPSBnZ21sLmJ1aWxkX2FuZF9jb21wdXRlKGN0eCwgZ3kpCgogICAgeSA9IGdnbWwudG9fbnVtcHkoZ3kpCgogICAgeV9leHAsIF8gPSBsYXllcih4LCBwYWRkaW5nX21hc2s9Tm9uZSkKICAgIHlfZXhwID0geV9leHAubnVtcHkoKQoKICAgIGFzc2VydCB5LnNoYXBlID09IHlfZXhwLnNoYXBlCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UoeV9leHAsIHksIGF0b2w9MWUtNCBpZiBVTklUWV9GTEFTSF9BVFROIGVsc2UgMWUtMikKCgpkZWYgdGVzdF9TdGFuZGFyZENvbmZvcm1lckVuY29kZXJMYXllcl9mb3J3YXJkKGN0eDogQ3R4LCBnX21vZGVsOiBjX3ZvaWRfcCkgLT4gTm9uZToKICAgIHB0X21vZGVsID0gbG9hZF9wdF9tb2RlbCgpCiAgICB4ID0gdG9yY2gucmFuZCgxLCAxMzcsIDEwMjQpCgogICAgbGF5ZXIgPSBwdF9tb2RlbC5zcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnNbMF0KICAgIGd4ID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgeFswXSkKICAgIGdnbWwuZ2dtbF9zZXRfbmFtZShneCwgYiJ4IikKICAgIGd5ID0gZ2dtbC5mb3J3YXJkKAogICAgICAgICJTdGFuZGFyZENvbmZvcm1lckVuY29kZXJMYXllciIsCiAgICAgICAgZ19tb2RlbCwKICAgICAgICAic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLjAiLAogICAgICAgIGd4LAogICAgICAgIE5vbmUsICAjIFRPRE8gc3VwcG9ydCBwYWRkaW5nIG1hc2sKICAgICkKICAgIGdmID0gZ2dtbC5idWlsZF9hbmRfY29tcHV0ZShjdHgsIGd5KQoKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQoKICAgIHlfZXhwLCBfID0gbGF5ZXIoeCwgcGFkZGluZ19tYXNrPU5vbmUpCiAgICB5X2V4cCA9IHlfZXhwLnNxdWVlemUoMCkubnVtcHkoKQogICAgYXNzZXJ0IHkuc2hhcGUgPT0geV9leHAuc2hhcGUKICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSwgYXRvbD0yZS0zKQoKCmRlZiB0ZXN0X1N0YW5kYXJkQ29uZm9ybWVyRW5jb2RlckFkYXB0b3JMYXllcl9mb3J3YXJkKAogICAgY3R4OiBDdHgsIGdfbW9kZWw6IGNfdm9pZF9wCikgLT4gTm9uZToKICAgIHB0X21vZGVsID0gbG9hZF9wdF9tb2RlbCgpCiAgICB0b3JjaC5yYW5kb20ubWFudWFsX3NlZWQoMCkKICAgIHggPSB0b3JjaC5yYW5kKDEsIDEzNywgMTAyNCkKICAgIGxheWVyID0gcHRfbW9kZWwuc3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnNbMF0KICAgIGd4ID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgeFswXSkKICAgIGdnbWwuZ2dtbF9zZXRfbmFtZShneCwgYiJ4IikKICAgIGd5ID0gZ2dtbC5mb3J3YXJkKAogICAgICAgICJTdGFuZGFyZENvbmZvcm1lckVuY29kZXJBZGFwdG9yTGF5ZXIiLAogICAgICAgIGdfbW9kZWwsCiAgICAgICAgInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLjAiLAogICAgICAgIGd4LAogICAgICAgIE5vbmUsICAjIFRPRE8gc3VwcG9ydCBwYWRkaW5nIG1hc2sKICAgICkKICAgIGdmID0gZ2dtbC5idWlsZF9hbmRfY29tcHV0ZShjdHgsIGd5KQoKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQoKICAgIHlfZXhwLCBfID0gbGF5ZXIoeCwgTm9uZSkKICAgIHlfZXhwID0geV9leHAubnVtcHkoKQoKICAgIGFzc2VydCB5LnNoYXBlID09IHlfZXhwLnNoYXBlCiAgICBhc3NlcnQgbnAuYWxsY2xvc2UoeV9leHAsIHksIGF0b2w9MmUtMykKCgpkZWYgdGVzdF9TdGFuZGFyZFRyYW5zZm9ybWVyRW5jb2Rlcl9mb3J3YXJkKGN0eDogQ3R4LCBnX21vZGVsOiBjX3ZvaWRfcCkgLT4gTm9uZToKICAgIHggPSB0b3JjaC5lbXB0eSgoMiwgMjEsIDEwMjQpKQogICAgcGFkZGluZ19tYXNrID0gZmFpcnNlcTIubm4ucGFkZGluZy5QYWRkaW5nTWFzayh0b3JjaC50ZW5zb3IoWzIxLCAyMV0pLCAyMSkKICAgIHRvcmNoLnJhbmRvbS5tYW51YWxfc2VlZCgwKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyh4LCAtMSwgMSkKCiAgICBneCA9IGdnbWwuZnJvbV9udW1weShjdHgsIHgpCiAgICBnZ21sLmdnbWxfc2V0X25hbWUoZ3gsIGIieCIpCiAgICBncGFkID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgcGFkZGluZ19tYXNrLm1hdGVyaWFsaXplKCkpCiAgICBnZ21sLmdnbWxfc2V0X25hbWUoZ3BhZCwgYiJwYWRkaW5nX21hc2siKQogICAgZ3kgPSBnZ21sLmZvcndhcmQoCiAgICAgICAgIlN0YW5kYXJkVHJhbnNmb3JtZXJFbmNvZGVyIiwKICAgICAgICBnX21vZGVsLAogICAgICAgICJ0ZXh0X2VuY29kZXIiLAogICAgICAgIGd4LAogICAgICAgIE5vbmUsICAjIFRPRE8gc3VwcG9ydCBwYWRkaW5nIG1hc2sKICAgICkKICAgIGdmID0gZ2dtbC5idWlsZF9hbmRfY29tcHV0ZShjdHgsIGd5KQoKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQoKICAgIHB0X21vZGVsID0gbG9hZF9wdF9tb2RlbCgpCiAgICB5X2V4cCwgXyA9IHB0X21vZGVsLnRleHRfZW5jb2Rlcih4LCBwYWRkaW5nX21hc2spCiAgICB5X2V4cCA9IHlfZXhwLm51bXB5KCkKCiAgICBhc3NlcnQgeS5zaGFwZSA9PSB5X2V4cC5zaGFwZQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKHlfZXhwLCB5LCBhdG9sPTVlLTMpCgoKZGVmIHRlc3RfU3RhbmRhcmRDb25mb3JtZXJFbmNvZGVyX2ZvcndhcmQoY3R4OiBDdHgsIGdfbW9kZWw6IGNfdm9pZF9wKSAtPiBOb25lOgogICAgcHRfbW9kZWwgPSBsb2FkX3B0X21vZGVsKCkKICAgIGlmIG5vdCBMT0NBTF9BVURJT19TQU1QTEVfUEFUSC5leGlzdHMoKToKICAgICAgICBkb3dubG9hZF9zYW1wbGVfYXVkaW8oKQogICAgd2F2LCBfID0gdG9yY2hhdWRpby5sb2FkKExPQ0FMX0FVRElPX1NBTVBMRV9QQVRIKQogICAgZ3ggPSBnZ21sLmZyb21fbnVtcHkoY3R4LCB3YXYgKiAyKioxNSkgICMgQXBwbHkgc2NhbGUgYmVmb3JlIHNlbmRpbmcgaW50byBnZ21sIQogICAgZ2dtbC5nZ21sX3NldF9uYW1lKGd4LCBiIngiKQogICAgZ3kgPSBnZ21sLmZvcndhcmQoCiAgICAgICAgIlN0YW5kYXJkQ29uZm9ybWVyRW5jb2RlciIsCiAgICAgICAgZ19tb2RlbCwKICAgICAgICAic3BlZWNoX2VuY29kZXIiLAogICAgICAgIGd4LAogICAgICAgIE5vbmUsICAjIFRPRE8gc3VwcG9ydCBwYWRkaW5nIG1hc2sKICAgICkKICAgIGdmID0gZ2dtbC5idWlsZF9hbmRfY29tcHV0ZShjdHgsIGd5KQoKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQoKICAgIGNhY2hlID0gREFUQSAvICJ0ZXN0X1N0YW5kYXJkQ29uZm9ybWVyRW5jb2Rlcl9mb3J3YXJkLm5weSIKICAgIGlmIG5vdCBjYWNoZS5leGlzdHMoKToKICAgICAgICBjb252ZXJ0ZXIgPSBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoCiAgICAgICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgICAgIGNoYW5uZWxfbGFzdD1UcnVlLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1UcnVlLAogICAgICAgICkKICAgICAgICBjb252ZXJ0ZXJfaW5wdXQgPSB7CiAgICAgICAgICAgICJ3YXZlZm9ybSI6IHdhdi50cmFuc3Bvc2UoMCwgMSksCiAgICAgICAgICAgICJzYW1wbGVfcmF0ZSI6IDE2MDAwLjAsCiAgICAgICAgICAgICJmb3JtYXQiOiAtMSwKICAgICAgICB9CgogICAgICAgIHB0X21vZGVsID0gbG9hZF9wdF9tb2RlbCgpCiAgICAgICAgc3BlZWNoX2VuY29kZXJfaW5wdXQgPSBwdF9tb2RlbC5zcGVlY2hfZW5jb2Rlcl9mcm9udGVuZCgKICAgICAgICAgICAgY29udmVydGVyKGNvbnZlcnRlcl9pbnB1dClbImZiYW5rIl0udW5zcXVlZXplKDApLCBOb25lCiAgICAgICAgKVswXQoKICAgICAgICB5X2V4cCwgXyA9IHB0X21vZGVsLnNwZWVjaF9lbmNvZGVyKHNwZWVjaF9lbmNvZGVyX2lucHV0LCBOb25lKQogICAgICAgIHlfZXhwID0geV9leHAubnVtcHkoKQogICAgICAgIG5wLnNhdmUoY2FjaGUsIHlfZXhwKQogICAgZWxzZToKICAgICAgICB5X2V4cCA9IG5wLmxvYWQoY2FjaGUpCgogICAgYXNzZXJ0IHkuc2hhcGUgPT0geV9leHAuc2hhcGUKICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSwgYXRvbD0xZS0yKQoKCmRlZiB0ZXN0X1dhdmVmb3JtVG9GYmFua19mb3J3YXJkKGN0eDogQ3R4LCBnX21vZGVsOiBjX3ZvaWRfcCkgLT4gTm9uZToKICAgIGNvbnZlcnRlciA9IFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlcigKICAgICAgICBudW1fbWVsX2JpbnM9ODAsCiAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgY2hhbm5lbF9sYXN0PVRydWUsCiAgICAgICAgc3RhbmRhcmRpemU9VHJ1ZSwKICAgICkKICAgIGV4dHJhY3RvciA9IFdhdjJWZWMyRmJhbmtGZWF0dXJlRXh0cmFjdG9yKDgwLCBzdHJpZGU9Miwgc2FtcGxlX2V2ZXJ5X2s9MSkKICAgIGlmIG5vdCBMT0NBTF9BVURJT19TQU1QTEVfUEFUSC5leGlzdHMoKToKICAgICAgICBkb3dubG9hZF9zYW1wbGVfYXVkaW8oKQogICAgd2F2LCBfID0gdG9yY2hhdWRpby5sb2FkKExPQ0FMX0FVRElPX1NBTVBMRV9QQVRIKQogICAgZ3ggPSBnZ21sLmZyb21fbnVtcHkoY3R4LCB3YXYgKiAyKioxNSkgICMgQXBwbHkgc2NhbGUgYmVmb3JlIHNlbmRpbmcgaW50byBnZ21sIQogICAgZ2dtbC5nZ21sX3NldF9uYW1lKGd4LCBiIngiKQoKICAgIGd5ID0gZ2dtbC5mb3J3YXJkKCJXYXZlZm9ybVRvRmJhbmsiLCBnX21vZGVsLCAiIiwgZ3gpCiAgICBnZiA9IGdnbWwuYnVpbGRfYW5kX2NvbXB1dGUoY3R4LCBneSkKCiAgICB5ID0gZ2dtbC50b19udW1weShneSkKICAgIGNvbnZlcnRlcl9pbnB1dCA9IHsKICAgICAgICAid2F2ZWZvcm0iOiB3YXYudHJhbnNwb3NlKDAsIDEpLAogICAgICAgICJzYW1wbGVfcmF0ZSI6IDE2MDAwLjAsCiAgICAgICAgImZvcm1hdCI6IC0xLAogICAgfQogICAgeV9leHAsIF8gPSBleHRyYWN0b3IoY29udmVydGVyKGNvbnZlcnRlcl9pbnB1dClbImZiYW5rIl0udW5zcXVlZXplKDApLCBOb25lKQogICAgeV9leHAgPSB5X2V4cC5zcXVlZXplKDApLm51bXB5KCkKCiAgICBhc3NlcnQgeS5zaGFwZSA9PSB5X2V4cC5zaGFwZQogICAgYXNzZXJ0IG5wLmFsbGNsb3NlKHlfZXhwLCB5LCBhdG9sPTRlLTMpICAjIHJlZHVjZT8gZXJyb3IgaXMgZnJvbSBzdGFuZGFyZGl6YXRpb24KCgpkZWYgdGVzdF9Qb3NpdGlvbmFsRW1iZWRkaW5nX2ZvcndhcmQoY3R4OiBDdHgsIGdfbW9kZWw6IGNfdm9pZF9wKSAtPiBOb25lOgogICAgc2VxID0gdG9yY2guemVyb3MoKDQsIDIwLCAxMDI0KSwgZHR5cGU9dG9yY2guZmxvYXQzMikKCiAgICBwb3NfZW5jb2RlciA9IGZhaXJzZXEyLm5uLlNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoMTAyNCwgNTUsIF9sZWdhY3lfcGFkX2lkeD0xKQogICAgeV9leHAgPSBwb3NfZW5jb2RlcihzZXEsIE5vbmUpWzBdLm51bXB5KCkKCiAgICBnc2VxID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgc2VxWzBdLmNsb25lKCkubnVtcHkoKSkKICAgIGdnbWwuZ2dtbF9zZXRfbmFtZShnc2VxLCBiInNlcSIpCiAgICBneSA9IGdnbWwuZm9yd2FyZCgKICAgICAgICAiUG9zaXRpb25hbEVtYmVkZGluZyIsIGdfbW9kZWwsICJ0ZXh0X2RlY29kZXJfZnJvbnRlbmQucG9zX2VuY29kZXIiLCBnc2VxCiAgICApCiAgICBnZiA9IGdnbWwuYnVpbGRfYW5kX2NvbXB1dGUoY3R4LCBneSwgZHVtcD1UcnVlKQogICAgeSA9IGdnbWwudG9fbnVtcHkoZ3kpCgogICAgYXNzZXJ0IHkuc2hhcGUgPT0geV9leHAuc2hhcGUKICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSwgYXRvbD0xZS02KQoKCmRlZiB0ZXN0X1Bvc2l0aW9uYWxFbWJlZGRpbmdfZm9yd2FyZF93aXRoX2NhY2hlKGN0eDogQ3R4LCBnX21vZGVsOiBjX3ZvaWRfcCkgLT4gTm9uZToKICAgIHNlcSA9IHRvcmNoLnplcm9zKCg0LCAyMCwgMTAyNCksIGR0eXBlPXRvcmNoLmZsb2F0MzIpCiAgICBwb3NfZW5jb2RlciA9IGZhaXJzZXEyLm5uLlNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoMTAyNCwgNTUsIF9sZWdhY3lfcGFkX2lkeD0xKQogICAgcG9zX2VuY29kZXIuZXZhbCgpCiAgICBzdGF0ZV9iYWcgPSBmYWlyc2VxMi5ubi5JbmNyZW1lbnRhbFN0YXRlQmFnKDEwMCkKCiAgICB3aXRoIGdnbWwuZmFpcnNlcTJfa3ZfY2FjaGVfYWxsb2MoZ19tb2RlbCwgMTYgKiBNQiwgMiwgMjEpOgogICAgICAgICMgSW5jcmVtZW50YWwgZGVjb2RpbmcKICAgICAgICBmb3IgdCBpbiByYW5nZSgyMCk6CiAgICAgICAgICAgIGdzZXEgPSBnZ21sLmZyb21fbnVtcHkoY3R4LCBzZXFbOiwgdCA6IHQgKyAxLCA6XS5udW1weSgpKQogICAgICAgICAgICBnZ21sLmdnbWxfc2V0X25hbWUoZ3NlcSwgYiJzZXEiKQogICAgICAgICAgICBneSA9IGdnbWwuZm9yd2FyZCgKICAgICAgICAgICAgICAgICJQb3NpdGlvbmFsRW1iZWRkaW5nIiwKICAgICAgICAgICAgICAgIGdfbW9kZWwsCiAgICAgICAgICAgICAgICAidGV4dF9kZWNvZGVyX2Zyb250ZW5kLnBvc19lbmNvZGVyIiwKICAgICAgICAgICAgICAgIGdzZXEsCiAgICAgICAgICAgICkKICAgICAgICAgICAgZ2dtbC5idWlsZF9hbmRfY29tcHV0ZShjdHgsIGd5LCBkdW1wPXQgPT0gMSkKICAgICAgICAgICAgeSA9IGdnbWwudG9fbnVtcHkoZ3kpCgogICAgICAgICAgICB5X2V4cCA9IHBvc19lbmNvZGVyKHNlcVs6LCB0IDogdCArIDEsIDpdLCBOb25lLCBzdGF0ZV9iYWc9c3RhdGVfYmFnKS5udW1weSgpCiAgICAgICAgICAgIHN0YXRlX2JhZy5pbmNyZW1lbnRfc3RlcF9ucigpCiAgICAgICAgICAgIGFzc2VydCB5LnNoYXBlID09IHlfZXhwLnNoYXBlCiAgICAgICAgICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSwgYXRvbD0xZS02KQoKCmRlZiB0ZXN0X1RyYW5zZm9ybWVyRW1iZWRkaW5nRnJvbnRlbmRfZm9yd2FyZChjdHg6IEN0eCwgZ19tb2RlbDogY192b2lkX3ApIC0+IE5vbmU6CiAgICBzZXEgPSB0b3JjaC5hcmFuZ2UoMiAqIDIwKS5yZXNoYXBlKDIsIDIwKQogICAgc2VxWzEsIDE1Ol0gPSAwICAjIHBhZGRpbmcgZm9yIHNlY29uZCBzZW50ZW5jZQogICAgc2VxX2xlbiA9IHRvcmNoLnRlbnNvcihbMjAsIDE1XSkKICAgIGdzZXEgPSBnZ21sLmZyb21fbnVtcHkoY3R4LCBzZXEubnVtcHkoKS5hc3R5cGUobnAuaW50MzIpKQoKICAgIGdnbWwuZ2dtbF9zZXRfbmFtZShnc2VxLCBiInNlcSIpCiAgICBneSA9IGdnbWwuZm9yd2FyZCgKICAgICAgICAiVHJhbnNmb3JtZXJFbWJlZGRpbmdGcm9udGVuZCIsIGdfbW9kZWwsICJ0ZXh0X2RlY29kZXJfZnJvbnRlbmQiLCBnc2VxCiAgICApCiAgICBnZ21sLmJ1aWxkX2FuZF9jb21wdXRlKGN0eCwgZ3kpCiAgICB5ID0gZ2dtbC50b19udW1weShneSkKCiAgICBwdF9tb2RlbCA9IGxvYWRfcHRfbW9kZWwoKQogICAgeV9leHAsIF8gPSBwdF9tb2RlbC50ZXh0X2RlY29kZXJfZnJvbnRlbmQoc2VxLCBzZXFfbGVuKQogICAgeV9leHAgPSB5X2V4cC5udW1weSgpCgogICAgYXNzZXJ0IHkuc2hhcGUgPT0geV9leHAuc2hhcGUKICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSwgYXRvbD0xZS02KQoKCmRlZiB0ZXN0X1N0YW5kYXJkVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXJfZm9yd2FyZChjdHg6IEN0eCwgZ19tb2RlbDogY192b2lkX3ApIC0+IE5vbmU6CiAgICB4ID0gdG9yY2guZW1wdHkoKDIsIDEzLCAxMDI0KSkKICAgIGVuY29kZXJfb3V0ID0gdG9yY2guZW1wdHkoKDIsIDIxLCAxMDI0KSkKICAgIHRvcmNoLnJhbmRvbS5tYW51YWxfc2VlZCgwKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyh4LCAtMSwgMSkKICAgIHRvcmNoLm5uLmluaXQudW5pZm9ybV8oZW5jb2Rlcl9vdXQsIC0xLCAxKQoKICAgIHNlbGZfYXR0bl9tYXNrID0gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIuQ2F1c2FsQXR0ZW50aW9uTWFza0ZhY3RvcnkoKSh4LCB4KQogICAgZ3ggPSBnZ21sLmZyb21fbnVtcHkoY3R4LCB4KQogICAgZ2dtbC5nZ21sX3NldF9uYW1lKGd4LCBiIngiKQogICAgZ3NlbGZfYXR0bl9tYXNrID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgc2VsZl9hdHRuX21hc2subWF0ZXJpYWxpemUoKS5udW1weSgpKQogICAgZ2dtbC5nZ21sX3NldF9uYW1lKGdzZWxmX2F0dG5fbWFzaywgYiJzZWxmX2F0dG5fbWFzayIpCiAgICBnZW5jID0gZ2dtbC5mcm9tX251bXB5KGN0eCwgZW5jb2Rlcl9vdXQpCiAgICBnZ21sLmdnbWxfc2V0X25hbWUoZ2VuYywgYiJlbmNvZGVyX291dCIpCiAgICBneSA9IGdnbWwuZm9yd2FyZCgKICAgICAgICAiU3RhbmRhcmRUcmFuc2Zvcm1lckRlY29kZXJMYXllciIsCiAgICAgICAgZ19tb2RlbCwKICAgICAgICAidGV4dF9kZWNvZGVyLmxheWVycy4wIiwKICAgICAgICBneCwKICAgICAgICBnc2VsZl9hdHRuX21hc2ssCiAgICAgICAgZ2VuYywKICAgICAgICBOVUxMUFRSLCAgIyBUT0RPIHN1cHBvcnQgcGFkZGluZyBtYXNrLAogICAgKQogICAgZ2dtbC5idWlsZF9hbmRfY29tcHV0ZShjdHgsIGd5LCBkdW1wPVRydWUpCiAgICB5ID0gZ2dtbC50b19udW1weShneSkKCiAgICBwdF9tb2RlbCA9IGxvYWRfcHRfbW9kZWwoKQogICAgeV9leHAsIF8gPSBwdF9tb2RlbC50ZXh0X2RlY29kZXIubGF5ZXJzWzBdKHgsIE5vbmUsIGVuY29kZXJfb3V0cHV0PWVuY29kZXJfb3V0LCBzZWxmX2F0dG5fbWFzaz1zZWxmX2F0dG5fbWFzaykKICAgIHlfZXhwID0geV9leHAubnVtcHkoKQoKICAgIGFzc2VydCB5LnNoYXBlID09IHlfZXhwLnNoYXBlCiAgICAjIFdlIHN0aWxsIGhhdmUgc29tZSBudW1lcmljYWwgaW1wcmVjaXNpb24KICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSwgYXRvbD0wLjEpCiAgICBhc3NlcnQgbnAuc3VtKG5wLmFicyh5X2V4cC15KSA+IDFlLTIpIDwgMjAKCgpkZWYgdGVzdF9TdGFuZGFyZFRyYW5zZm9ybWVyRGVjb2Rlcl9mb3J3YXJkKGN0eDogQ3R4LCBnX21vZGVsOiBjX3ZvaWRfcCkgLT4gTm9uZToKICAgIHggPSB0b3JjaC5lbXB0eSgoMiwgMTMsIDEwMjQpKQogICAgZW5jb2Rlcl9vdXQgPSB0b3JjaC5lbXB0eSgoMiwgMjEsIDEwMjQpKQogICAgcGFkZGluZ19tYXNrID0gZmFpcnNlcTIubm4ucGFkZGluZy5QYWRkaW5nTWFzayh0b3JjaC50ZW5zb3IoWzEzLCAxM10pLCAxMykKICAgIHRvcmNoLnJhbmRvbS5tYW51YWxfc2VlZCgwKQogICAgdG9yY2gubm4uaW5pdC51bmlmb3JtXyh4LCAtMSwgMSkKICAgIHRvcmNoLm5uLmluaXQudW5pZm9ybV8oZW5jb2Rlcl9vdXQsIC0xLCAxKQogICAgZ3ggPSBnZ21sLmZyb21fbnVtcHkoY3R4LCB4KQogICAgZ2dtbC5nZ21sX3NldF9uYW1lKGd4LCBiIngiKQogICAgZ3BhZCA9IGdnbWwuZnJvbV9udW1weShjdHgsIHBhZGRpbmdfbWFzay5tYXRlcmlhbGl6ZSgpKQogICAgZ2dtbC5nZ21sX3NldF9uYW1lKGdwYWQsIGIicGFkZGluZ19tYXNrIikKICAgIGdlbmMgPSBnZ21sLmZyb21fbnVtcHkoY3R4LCBlbmNvZGVyX291dCkKICAgIGd5ID0gZ2dtbC5mb3J3YXJkKAogICAgICAgICJTdGFuZGFyZFRyYW5zZm9ybWVyRGVjb2RlciIsCiAgICAgICAgZ19tb2RlbCwKICAgICAgICAidGV4dF9kZWNvZGVyIiwKICAgICAgICBneCwKICAgICAgICBOb25lLCAgIyBUT0RPIHN1cHBvcnQgcGFkZGluZyBtYXNrLAogICAgICAgIGdlbmMsCiAgICAgICAgTm9uZSwKICAgICkKICAgIGdnbWwuYnVpbGRfYW5kX2NvbXB1dGUoY3R4LCBneSkKICAgIHkgPSBnZ21sLnRvX251bXB5KGd5KQoKICAgIHB0X21vZGVsID0gbG9hZF9wdF9tb2RlbCgpCiAgICB5X2V4cCwgXyA9IHB0X21vZGVsLnRleHRfZGVjb2Rlcih4LCBwYWRkaW5nX21hc2ssIGVuY29kZXJfb3V0LCBOb25lKQogICAgeV9leHAgPSB5X2V4cC5udW1weSgpCgogICAgYXNzZXJ0IHkuc2hhcGUgPT0geV9leHAuc2hhcGUKICAgIGFzc2VydCBucC5hbGxjbG9zZSh5X2V4cCwgeSwgYXRvbD0xZS0zKSAgIyBUT0RPOiB0aG9zZSB0ZXN0cyBhcmUgZmFpbGluZyBub3cKCgpkZWYgdGVzdF9zMnR0KGN0eDogQ3R4LCBnX21vZGVsOiBjX3ZvaWRfcCk6CiAgICBpZiBub3QgTE9DQUxfQVVESU9fU0FNUExFX1BBVEguZXhpc3RzKCk6CiAgICAgICAgZG93bmxvYWRfc2FtcGxlX2F1ZGlvKCkKICAgIHNyY19hdWRpb193YXYsIF8gPSB0b3JjaGF1ZGlvLmxvYWQoTE9DQUxfQVVESU9fU0FNUExFX1BBVEgpCiAgICBzYW1wbGVfZmlsZSA9IERBVEEgLyAiTEowMzctMDE3MV9zcjE2ay53YXYudHJhbnMiCiAgICB0cmFuc2xhdG9yID0gbG9hZF90cmFuc2xhdG9yKCkKICAgIGlmIG5vdCBzYW1wbGVfZmlsZS5leGlzdHMoKToKICAgICAgICBkZWNvZGVkX2F1ZGlvID0gewogICAgICAgICAgICAid2F2ZWZvcm0iOiBzcmNfYXVkaW9fd2F2LnQoKSwKICAgICAgICAgICAgInNhbXBsZV9yYXRlIjogMTYwMDAuMCwKICAgICAgICAgICAgImZvcm1hdCI6IC0xLAogICAgICAgIH0KICAgICAgICBzcmMgPSB0cmFuc2xhdG9yLmNvbGxhdGUodHJhbnNsYXRvci5jb252ZXJ0X3RvX2ZiYW5rKGRlY29kZWRfYXVkaW8pKVsiZmJhbmsiXQoKICAgICAgICB0ZXh0X291dCwgXyA9IHRyYW5zbGF0b3IuZ2V0X3ByZWRpY3Rpb24oCiAgICAgICAgICAgIHRyYW5zbGF0b3IubW9kZWwsCiAgICAgICAgICAgIHRyYW5zbGF0b3IudGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgIHRyYW5zbGF0b3IudW5pdF90b2tlbml6ZXIsCiAgICAgICAgICAgIHNyY1sic2VxcyJdLAogICAgICAgICAgICBwYWRkaW5nX21hc2s9Tm9uZSwKICAgICAgICAgICAgaW5wdXRfbW9kYWxpdHk9TW9kYWxpdHkuU1BFRUNILAogICAgICAgICAgICBvdXRwdXRfbW9kYWxpdHk9TW9kYWxpdHkuVEVYVCwKICAgICAgICAgICAgdGd0X2xhbmc9ImNtbiIsCiAgICAgICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzPVNlcXVlbmNlR2VuZXJhdG9yT3B0aW9ucygpLAogICAgICAgICAgICB1bml0X2dlbmVyYXRpb25fb3B0cz1Ob25lLAogICAgICAgICkKCiAgICAgICAgdGd0X3RleHQgPSBzdHIodGV4dF9vdXRbMF0pCiAgICAgICAgYXNzZXJ0IHRndF90ZXh0ID09ICLkuJPlrrbnmoTmo4Dmn6Xlkozor4Hmja7kvb/or6Xlp5TlkZjkvJrlvpflh7rkuobnu5Porros5Y+v6IO95pyJ5LqU5qyh5p6q5Ye7LiIKICAgICAgICB3aXRoIG9wZW4oc2FtcGxlX2ZpbGUsICJ3IikgYXMgZjoKICAgICAgICAgICAgZi53cml0ZSh0Z3RfdGV4dCkKCiAgICB3aXRoIG9wZW4oc2FtcGxlX2ZpbGUsICJyIikgYXMgZXhwOgogICAgICAgIGV4cF90Z3RfdGV4dCA9IGV4cC5yZWFkbGluZXMoKVswXS5zdHJpcCgpCgogICAgIyBBcHBseSBzY2FsZSBiZWZvcmUgc2VuZGluZyBpbnRvIGdnbWwhCiAgICBneCA9IGdnbWwuZnJvbV9udW1weShjdHgsIHNyY19hdWRpb193YXYgKiAyKioxNSkKICAgIGdnbWwuZ2dtbF9zZXRfbmFtZShneCwgYiJ4IikKICAgIGVuY29kZXJfb3V0ID0gZ2dtbC5mb3J3YXJkKAogICAgICAgICJTdGFuZGFyZENvbmZvcm1lckVuY29kZXIiLAogICAgICAgIGdfbW9kZWwsCiAgICAgICAgInNwZWVjaF9lbmNvZGVyIiwKICAgICAgICBneCwKICAgICAgICBOVUxMUFRSLCAgIyBUT0RPIHN1cHBvcnQgcGFkZGluZyBtYXNrCiAgICApCiAgICBnZiA9IGdnbWwuYnVpbGRfYW5kX2NvbXB1dGUoY3R4LCBlbmNvZGVyX291dCkKCiAgICBiZWFtX3NpemUgPSA1CiAgICBvcHRzID0gZ2dtbC5TZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICAgICAgYmVhbV9zaXplPWJlYW1fc2l6ZSwKICAgICAgICBzb2Z0X21heF9zZXFfbGVuX2E9MSwKICAgICAgICBzb2Z0X21heF9zZXFfbGVuX2I9MjAwLAogICAgICAgIGhhcmRfbWF4X3NlcV9sZW49NTAwLAogICAgKQogICAgam9iID0gZ2dtbC5TZXF1ZW5jZUdlbmVyYXRvckpvYigKICAgICAgICBvcHRzPW9wdHMsCiAgICAgICAgcHJlZml4X3NlcT1nZ21sLmZyb21fbnVtcHkoY3R4LCBucC5hcnJheShbMywgMjU2MjAwXSkuYXN0eXBlKG5wLmludDMyKSksCiAgICAgICAgcGFkX2lkeD0wLAogICAgICAgIHVua19pZHg9MSwKICAgICAgICBib3NfaWR4PTIsCiAgICAgICAgZW9zX2lkeD0zLAogICAgKQogICAgcmVzdWx0X3B0ciA9IGdnbWwuZ2VuZXJhdGVfc2VxdWVuY2UoZ19tb2RlbCwgUHRyKGpvYiksIGVuY29kZXJfb3V0LCBOVUxMUFRSLCBjdHgpCiAgICByZXN1bHRzID0gW3Jlc3VsdF9wdHJbaV0gZm9yIGkgaW4gcmFuZ2UoYmVhbV9zaXplKSBpZiByZXN1bHRfcHRyW2ldLnNlcSAhPSBOb25lXQogICAgdG9rZW5zID0gWwogICAgICAgIHRyYW5zbGF0b3IudGV4dF90b2tlbml6ZXIubW9kZWwuaW5kZXhfdG9fdG9rZW4oaWQpCiAgICAgICAgZm9yIGlkIGluIGdnbWwudG9fbnVtcHkocmVzdWx0c1swXS5zZXEpLnRvbGlzdCgpCiAgICBdWzI6LTFdCiAgICB0b2tlbnMgPSAiIi5qb2luKHRva2VucykucmVwbGFjZSgi4paBIiwgIiAiKVsxOl0KICAgIGFzc2VydCB0b2tlbnMgPT0gZXhwX3RndF90ZXh0Cg=='),
    ('seamless/ggml/third_party_ggml.py', 'IiIiVGhpcyBtb2R1bGUgaXMgdGhlIGNvcmUgb2YgdGhlIGdnbWwtcHl0aG9uIGxpYnJhcnksIGl0IGV4cG9zZXMgYSBsb3ctbGV2ZWwgW2N0eXBlc10oaHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy9saWJyYXJ5L2N0eXBlcy5odG1sKS1iYXNlZCBpbnRlcmZhY2UgZm9yIGdnbWwuCgpTdHJ1Y3R1cmVzIGFuZCBmdW5jdGlvbnMgaW4gdGhlIGBnZ21sLmdnbWxgIG1vZHVsZSBtYXAgZGlyZWN0bHkgdG8gdGhlIG9yaWdpbmFsIGdnbWwgQyBsaWJyYXJ5IGFuZAp0aGV5IG9wZXJhdGUgYXQgYSBmYWlybHkgbG93IGxldmVsLgpObyBhZGRpdGlvbmFsIHJ1bnRpbWUgY2hlY2tzIGNoZWNrcyBhcmUgcGVyZm9ybWVkIG5vciBpcyBtZW1vcnkgbWFuYWdlbWVudCBoYW5kbGVkIGF1dG9tYXRpY2FsbHkuCllvdSd2ZSBiZWVuIHdhcm5lZCA6KS4KCldpdGggdGhhdCBpbiBtaW5kIGhlcmUgYXJlIHNvbWUgdXNlZnVsIHRoaW5ncyB0byBrZWVwIGluIG1pbmQKCi0gRnVuY3Rpb25zIGFjY2VwdCBib3RoIGN0eXBlcyB0eXBlcyAoY19pbnQsIGNfYm9vbCwgY19mbG9hdCwgZXRjLikgYW5kIFB5dGhvbiB0eXBlcyAoaW50LCBib29sLCBmbG9hdCwgZXRjLikgYXMgcGFyYW1ldGVycy4KLSBGdW5jdGlvbnMgcmV0dXJuIFB5dGhvbiB0eXBlcyBmb3Igc2ltcGxlIHZhbHVlcyAoaW50LCBib29sLCBmbG9hdCwgZXRjLikgYW5kIGN0eXBlcyB0eXBlcyBmb3IgY29tcGxleCB2YWx1ZXMgKFtnZ21sX2NvbnRleHRfcF1bZ2dtbC5nZ21sX2NvbnRleHRfcF0sIFtnZ21sX3RlbnNvcl9wXVtnZ21sLmdnbWxfdGVuc29yX3BdLCBldGMuKS4KLSBNZW1vcnkgbWFuYWdlbWVudCBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhlIHVzZXIuIFRoZSB1c2VyIG11c3QgY2FsbCBbZ2dtbC5nZ21sX2ZyZWVdW10gb24gdGhlIGNvbnRleHQgYWZ0ZXIgY2FsbGluZyBbZ2dtbC5nZ21sX2luaXRdW10uCgpFeGFtcGxlCgpgYGBweXRob24KaW1wb3J0IGdnbWwKaW1wb3J0IGN0eXBlcwoKIyBBbGxvY2F0ZSBhIG5ldyBjb250ZXh0IHdpdGggMTYgTUIgb2YgbWVtb3J5CnBhcmFtcyA9IGdnbWwuZ2dtbF9pbml0X3BhcmFtcyhtZW1fc2l6ZT0xNiAqIDEwMjQgKiAxMDI0LCBtZW1fYnVmZmVyPU5vbmUpCmN0eCA9IGdnbWwuZ2dtbF9pbml0KHBhcmFtcz1wYXJhbXMpCgojIEluc3RhbnRpYXRlIHRlbnNvcnMKeCA9IGdnbWwuZ2dtbF9uZXdfdGVuc29yXzFkKGN0eCwgZ2dtbC5HR01MX1RZUEVfRjMyLCAxKQphID0gZ2dtbC5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBnZ21sLkdHTUxfVFlQRV9GMzIsIDEpCmIgPSBnZ21sLmdnbWxfbmV3X3RlbnNvcl8xZChjdHgsIGdnbWwuR0dNTF9UWVBFX0YzMiwgMSkKCiMgVXNlIGdnbWwgb3BlcmF0aW9ucyB0byBidWlsZCBhIGNvbXB1dGF0aW9uYWwgZ3JhcGgKeDIgPSBnZ21sLmdnbWxfbXVsKGN0eCwgeCwgeCkKZiA9IGdnbWwuZ2dtbF9hZGQoY3R4LCBnZ21sLmdnbWxfbXVsKGN0eCwgYSwgeDIpLCBiKQoKZ2YgPSBnZ21sLmdnbWxfbmV3X2dyYXBoKGN0eCkKZ2dtbC5nZ21sX2J1aWxkX2ZvcndhcmRfZXhwYW5kKGdmLCBmKQoKIyBTZXQgdGhlIGlucHV0IHZhbHVlcwpnZ21sLmdnbWxfc2V0X2YzMih4LCAyLjApCmdnbWwuZ2dtbF9zZXRfZjMyKGEsIDMuMCkKZ2dtbC5nZ21sX3NldF9mMzIoYiwgNC4wKQoKIyBDb21wdXRlIHRoZSBncmFwaApnZ21sLmdnbWxfZ3JhcGhfY29tcHV0ZV93aXRoX2N0eChjdHgsIGdmLCAxKQoKIyBHZXQgdGhlIG91dHB1dCB2YWx1ZQpvdXRwdXQgPSBnZ21sLmdnbWxfZ2V0X2YzMl8xZChmLCAwKQphc3NlcnQgb3V0cHV0ID09IDE2LjAKCiMgRnJlZSB0aGUgY29udGV4dApnZ21sLmdnbWxfZnJlZShjdHgpCmBgYAoKIiIiCmltcG9ydCBvcwppbXBvcnQgc3lzCmltcG9ydCBjdHlwZXMKaW1wb3J0IHBhdGhsaWIKaW1wb3J0IGltcG9ydGxpYi5yZXNvdXJjZXMKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgU2VxdWVuY2UsIFVuaW9uCmZyb20gdHlwaW5nX2V4dGVuc2lvbnMgaW1wb3J0IFR5cGVBbGlhcwoKCiMgTG9hZCB0aGUgbGlicmFyeQpkZWYgbG9hZF9zaGFyZWRfbGlicmFyeShiYXNlX3BhdGg6IFBhdGgsIGxpYl9iYXNlX25hbWU6IHN0cik6CiAgICAjIENvbnN0cnVjdCB0aGUgcGF0aHMgdG8gdGhlIHBvc3NpYmxlIHNoYXJlZCBsaWJyYXJ5IG5hbWVzCiAgICAjIFNlYXJjaGluZyBmb3IgdGhlIGxpYnJhcnkgaW4gdGhlIGN1cnJlbnQgZGlyZWN0b3J5IHVuZGVyIHRoZSBuYW1lICJsaWJnZ21sIiAoZGVmYXVsdCBuYW1lCiAgICAjIGZvciBnZ21sKSBhbmQgImdnbWwiIChkZWZhdWx0IG5hbWUgZm9yIHRoaXMgcmVwbykKICAgIGxpYl9uYW1lczogTGlzdFtzdHJdID0gWwogICAgICAgIGYibGlie2xpYl9iYXNlX25hbWV9LnNvIiwKICAgICAgICBmImxpYntsaWJfYmFzZV9uYW1lfS5keWxpYiIsCiAgICAgICAgZiJ7bGliX2Jhc2VfbmFtZX0uZGxsIiwKICAgIF0KCiAgICBjZGxsX2FyZ3MgPSBkaWN0KCkgICMgdHlwZTogaWdub3JlCiAgICAjIEFkZCB0aGUgbGlicmFyeSBkaXJlY3RvcnkgdG8gdGhlIERMTCBzZWFyY2ggcGF0aCBvbiBXaW5kb3dzIChpZiBuZWVkZWQpCiAgICBpZiBzeXMucGxhdGZvcm0gPT0gIndpbjMyIiBhbmQgc3lzLnZlcnNpb25faW5mbyA+PSAoMywgOCk6CiAgICAgICAgb3MuYWRkX2RsbF9kaXJlY3Rvcnkoc3RyKGJhc2VfcGF0aCkpCiAgICAgICAgY2RsbF9hcmdzWyJ3aW5tb2RlIl0gPSAwCgogICAgZm9yIGxpYl9uYW1lIGluIGxpYl9uYW1lczoKICAgICAgICAjIFRyeSB0byBsb2FkIHRoZSBzaGFyZWQgbGlicmFyeSwgaGFuZGxpbmcgcG90ZW50aWFsIGVycm9ycwogICAgICAgIHBhdGggPSBiYXNlX3BhdGggLyBsaWJfbmFtZQogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygpOgogICAgICAgICAgICBjb250aW51ZQogICAgICAgIHRyeToKICAgICAgICAgICAgcmV0dXJuIGN0eXBlcy5DRExMKHN0cihwYXRoKSwgKipjZGxsX2FyZ3MpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZiJGYWlsZWQgdG8gbG9hZCBzaGFyZWQgbGlicmFyeSAne3BhdGh9Jzoge2V9IikKCiAgICByYWlzZSBGaWxlTm90Rm91bmRFcnJvcigKICAgICAgICBmIlNoYXJlZCBsaWJyYXJ5IHdpdGggYmFzZSBuYW1lICd7bGliX2Jhc2VfbmFtZX0nIG5vdCBmb3VuZCBpbiB7YmFzZV9wYXRofSIKICAgICkKCgpiYXNlX3BhdGggPSBwYXRobGliLlBhdGgoX19maWxlX18pLnBhcmVudC5yZXNvbHZlKCkgLyAiYnVpbGQvZXhhbXBsZXMvdW5pdHkiCmxpYl9iYXNlX25hbWUgPSAiZmFpcnNlcTJfY3BwIgpsaWIgPSBsb2FkX3NoYXJlZF9saWJyYXJ5KGJhc2VfcGF0aCwgbGliX2Jhc2VfbmFtZSkKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgR0dNTCBVdGlsaXR5IFR5cGVzCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgpDRmxvYXRBcnJheTogVHlwZUFsaWFzID0gImN0eXBlcy5BcnJheVtjdHlwZXMuY19mbG9hdF0iCkNJbnQ2NEFycmF5OiBUeXBlQWxpYXMgPSAiY3R5cGVzLkFycmF5W2N0eXBlcy5jX2ludDY0XSIKQ0ludFBvaW50ZXI6IFR5cGVBbGlhcyA9ICJjdHlwZXMuX1BvaW50ZXJbY3R5cGVzLmNfaW50XSIgICMgdHlwZTogaWdub3JlCkNDaGFyUG9pbnRlcjogVHlwZUFsaWFzID0gImN0eXBlcy5fUG9pbnRlcltjdHlwZXMuY19jaGFyXSIgICMgdHlwZTogaWdub3JlCgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBHR01MIEFQSQojIHNvdXJjZTogZ2dtbC5oCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoKIyBkZWZpbmUgR0dNTF9GSUxFX01BR0lDICAgMHg2NzY3NmQ2YyAvLyAiZ2dtbCIKIyBkZWZpbmUgR0dNTF9GSUxFX1ZFUlNJT04gMQpHR01MX0ZJTEVfTUFHSUMgPSAweDY3Njc2RDZDCkdHTUxfRklMRV9WRVJTSU9OID0gMQoKIyBkZWZpbmUgR0dNTF9RTlRfVkVSU0lPTiAgICAgICAgMiAgICAvLyBidW1wIHRoaXMgb24gcXVhbnRpemF0aW9uIGZvcm1hdCBjaGFuZ2VzCiMgZGVmaW5lIEdHTUxfUU5UX1ZFUlNJT05fRkFDVE9SIDEwMDAgLy8gZG8gbm90IGNoYW5nZSB0aGlzCkdHTUxfUU5UX1ZFUlNJT04gPSAyCkdHTUxfUU5UX1ZFUlNJT05fRkFDVE9SID0gMTAwMAoKIyBkZWZpbmUgR0dNTF9NQVhfRElNUyAgICAgICAgICAgNAojIGRlZmluZSBHR01MX01BWF9QQVJBTVMgICAgICAgICAyMDQ4CiMgZGVmaW5lIEdHTUxfTUFYX0NPTlRFWFRTICAgICAgIDY0CiMgZGVmaW5lIEdHTUxfTUFYX1NSQyAgICAgICAgICAgIDEwCiMgZGVmaW5lIEdHTUxfTUFYX05BTUUgICAgICAgICAgIDY0CiMgZGVmaW5lIEdHTUxfTUFYX09QX1BBUkFNUyAgICAgIDY0CiMgZGVmaW5lIEdHTUxfREVGQVVMVF9OX1RIUkVBRFMgIDQKIyBkZWZpbmUgR0dNTF9ERUZBVUxUX0dSQVBIX1NJWkUgMjA0OApHR01MX01BWF9ESU1TID0gNApHR01MX01BWF9QQVJBTVMgPSAyMDQ4CkdHTUxfTUFYX0NPTlRFWFRTID0gNjQKR0dNTF9NQVhfU1JDID0gMTAKR0dNTF9NQVhfTkFNRSA9IDY0CkdHTUxfTUFYX09QX1BBUkFNUyA9IDY0CkdHTUxfREVGQVVMVF9OX1RIUkVBRFMgPSA0CkdHTUxfREVGQVVMVF9HUkFQSF9TSVpFID0gMjA0OAoKIyAjaWYgVUlOVFBUUl9NQVggPT0gMFhGRkZGRkZGRgojICAgICAjZGVmaW5lIEdHTUxfTUVNQUxJR04gNAojICNlbHNlCiMgICAgICMgZGVmaW5lIEdHTUxfTUVNQUxJR04gMTYKIyAjZW5kaWYKR0dNTF9NRU1BTElHTiA9ICgKICAgIDE2IGlmIGN0eXBlcy5zaXplb2YoY3R5cGVzLmNfdm9pZF9wKSA9PSA0IGVsc2UgMzIKKSAgIyBGSVhNRTogQ2hlY2sgaWYgdGhpcyBpcyBjb3JyZWN0CgojICNkZWZpbmUgR0dNTF9FWElUX1NVQ0NFU1MgMApHR01MX0VYSVRfU1VDQ0VTUyA9IDAKIyAjZGVmaW5lIEdHTUxfRVhJVF9BQk9SVEVEIDEKR0dNTF9FWElUX0FCT1JURUQgPSAxCgojIGRlZmluZSBHR1VGX01BR0lDICJHR1VGIgpHR1VGX01BR0lDID0gIkdHVUYiCgojIGRlZmluZSBHR1VGX1ZFUlNJT04gMwpHR1VGX1ZFUlNJT04gPSAzCgojICNkZWZpbmUgR0dVRl9ERUZBVUxUX0FMSUdOTUVOVCAzMgpHR1VGX0RFRkFVTFRfQUxJR05NRU5UID0gMzIKCiMgVE9ETzogQ2hlY2sgaWYgdGhpcyBpcyBjb3JyZWN0CiMgdHlwZWRlZiB1aW50MTZfdCBnZ21sX2ZwMTZfdDsKZ2dtbF9mcDE2X3QgPSBjdHlwZXMuY191aW50MTYKCkNGUDE2QXJyYXk6IFR5cGVBbGlhcyA9ICJjdHlwZXMuQXJyYXlbZ2dtbF9mcDE2X3RdIgoKCiMgR0dNTF9BUEkgZmxvYXQgICAgICAgZ2dtbF9mcDE2X3RvX2ZwMzIoZ2dtbF9mcDE2X3QgeCk7CmRlZiBnZ21sX2ZwMTZfdG9fZnAzMih4OiBnZ21sX2ZwMTZfdCkgLT4gZmxvYXQ6CiAgICByZXR1cm4gbGliLmdnbWxfZnAxNl90b19mcDMyKHgpCgoKbGliLmdnbWxfZnAxNl90b19mcDMyLmFyZ3R5cGVzID0gW2dnbWxfZnAxNl90XQpsaWIuZ2dtbF9mcDE2X3RvX2ZwMzIucmVzdHlwZSA9IGN0eXBlcy5jX2Zsb2F0CgoKIyBHR01MX0FQSSBnZ21sX2ZwMTZfdCBnZ21sX2ZwMzJfdG9fZnAxNihmbG9hdCB4KTsKZGVmIGdnbWxfZnAzMl90b19mcDE2KHg6IGN0eXBlcy5jX2Zsb2F0KSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfZnAzMl90b19mcDE2KHgpCgoKbGliLmdnbWxfZnAzMl90b19mcDE2LmFyZ3R5cGVzID0gW2N0eXBlcy5jX2Zsb2F0XQpsaWIuZ2dtbF9mcDMyX3RvX2ZwMTYucmVzdHlwZSA9IGdnbWxfZnAxNl90CgoKIyBHR01MX0FQSSB2b2lkIGdnbWxfZnAxNl90b19mcDMyX3Jvdyhjb25zdCBnZ21sX2ZwMTZfdCAqIHgsIGZsb2F0ICogeSwgc2l6ZV90IG4pOwpkZWYgZ2dtbF9mcDE2X3RvX2ZwMzJfcm93KAogICAgeDogQ0ZQMTZBcnJheSwKICAgIHk6IENGbG9hdEFycmF5LAogICAgbjogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IE5vbmU6CiAgICByZXR1cm4gbGliLmdnbWxfZnAxNl90b19mcDMyX3Jvdyh4LCB5LCBuKQoKCmxpYi5nZ21sX2ZwMTZfdG9fZnAzMl9yb3cuYXJndHlwZXMgPSBbCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2ZwMTZfdCksCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19mbG9hdCksCiAgICBjdHlwZXMuY19pbnQsCl0KbGliLmdnbWxfZnAxNl90b19mcDMyX3Jvdy5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2ZwMzJfdG9fZnAxNl9yb3coY29uc3QgZmxvYXQgKiB4LCBnZ21sX2ZwMTZfdCAqIHksIHNpemVfdCBuKTsKZGVmIGdnbWxfZnAzMl90b19mcDE2X3JvdygKICAgIHg6IENGbG9hdEFycmF5LAogICAgeTogQ0ZQMTZBcnJheSwKICAgIG46IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBOb25lOgogICAgcmV0dXJuIGxpYi5nZ21sX2ZwMzJfdG9fZnAxNl9yb3coeCwgeSwgbikKCgpsaWIuZ2dtbF9mcDMyX3RvX2ZwMTZfcm93LmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9mcDE2X3QpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX2ZwMzJfdG9fZnAxNl9yb3cucmVzdHlwZSA9IE5vbmUKCgojIHN0cnVjdCBnZ21sX2NvbnRleHQ7CmdnbWxfY29udGV4dF9wID0gY3R5cGVzLmNfdm9pZF9wCiIiIk9wYXF1ZSBwb2ludGVyIHRvIGEgZ2dtbF9jb250ZXh0LgoKZ2dtbF9jb250ZXh0IHN0cnVjdHMgYXJlIG5vdCBhY2Nlc3NlZCBkaXJlY3RseSBpbnN0ZWFkIHRoZXkgbXVzdCBiZSBjcmVhdGVkIHVzaW5nIFtnZ21sX2luaXRdKGdnbWwuZ2dtbF9pbml0KSBhbmQgZnJlZWQgdXNpbmcgW2dnbWxfZnJlZV0oZ2dtbC5nZ21sX2ZyZWUpLiIiIgoKCiMgZW51bSBnZ21sX3R5cGUgewojICAgICBHR01MX1RZUEVfRjMyICA9IDAsCiMgICAgIEdHTUxfVFlQRV9GMTYgID0gMSwKIyAgICAgR0dNTF9UWVBFX1E0XzAgPSAyLAojICAgICBHR01MX1RZUEVfUTRfMSA9IDMsCiMgICAgIC8vIEdHTUxfVFlQRV9RNF8yID0gNCwgc3VwcG9ydCBoYXMgYmVlbiByZW1vdmVkCiMgICAgIC8vIEdHTUxfVFlQRV9RNF8zICg1KSBzdXBwb3J0IGhhcyBiZWVuIHJlbW92ZWQKIyAgICAgR0dNTF9UWVBFX1E1XzAgPSA2LAojICAgICBHR01MX1RZUEVfUTVfMSA9IDcsCiMgICAgIEdHTUxfVFlQRV9ROF8wID0gOCwKIyAgICAgR0dNTF9UWVBFX1E4XzEgPSA5LAojICAgICBHR01MX1RZUEVfUTJfSyA9IDEwLAojICAgICBHR01MX1RZUEVfUTNfSyA9IDExLAojICAgICBHR01MX1RZUEVfUTRfSyA9IDEyLAojICAgICBHR01MX1RZUEVfUTVfSyA9IDEzLAojICAgICBHR01MX1RZUEVfUTZfSyA9IDE0LAojICAgICBHR01MX1RZUEVfUThfSyA9IDE1LAojICAgICBHR01MX1RZUEVfSTgsCiMgICAgIEdHTUxfVFlQRV9JMTYsCiMgICAgIEdHTUxfVFlQRV9JMzIsCiMgICAgIEdHTUxfVFlQRV9DT1VOVCwKIyB9OwpHR01MX1RZUEVfRjMyID0gMApHR01MX1RZUEVfRjE2ID0gMQpHR01MX1RZUEVfUTRfMCA9IDIKR0dNTF9UWVBFX1E0XzEgPSAzCkdHTUxfVFlQRV9RNV8wID0gNgpHR01MX1RZUEVfUTVfMSA9IDcKR0dNTF9UWVBFX1E4XzAgPSA4CkdHTUxfVFlQRV9ROF8xID0gOQpHR01MX1RZUEVfUTJfSyA9IDEwCkdHTUxfVFlQRV9RM19LID0gMTEKR0dNTF9UWVBFX1E0X0sgPSAxMgpHR01MX1RZUEVfUTVfSyA9IDEzCkdHTUxfVFlQRV9RNl9LID0gMTQKR0dNTF9UWVBFX1E4X0sgPSAxNQpHR01MX1RZUEVfSTggPSAxNgpHR01MX1RZUEVfSTE2ID0gMTcKR0dNTF9UWVBFX0kzMiA9IDE4CkdHTUxfVFlQRV9DT1VOVCA9IDE5CgoKIyBlbnVtIGdnbWxfYmFja2VuZF90eXBlIHsKIyAgICAgR0dNTF9CQUNLRU5EX0NQVSA9IDAsCiMgICAgIEdHTUxfQkFDS0VORF9HUFUgPSAxMCwKIyAgICAgR0dNTF9CQUNLRU5EX0dQVV9TUExJVCA9IDIwLAojIH07CkdHTUxfQkFDS0VORF9DUFUgPSAwCkdHTUxfQkFDS0VORF9HUFUgPSAxMApHR01MX0JBQ0tFTkRfR1BVX1NQTElUID0gMjAKCgojIC8vIG1vZGVsIGZpbGUgdHlwZXMKIyBlbnVtIGdnbWxfZnR5cGUgewojICAgICBHR01MX0ZUWVBFX1VOS05PV04gICAgID0gLTEsCiMgICAgIEdHTUxfRlRZUEVfQUxMX0YzMiAgICAgPSAwLAojICAgICBHR01MX0ZUWVBFX01PU1RMWV9GMTYgID0gMSwgIC8vIGV4Y2VwdCAxZCB0ZW5zb3JzCiMgICAgIEdHTUxfRlRZUEVfTU9TVExZX1E0XzAgPSAyLCAgLy8gZXhjZXB0IDFkIHRlbnNvcnMKIyAgICAgR0dNTF9GVFlQRV9NT1NUTFlfUTRfMSA9IDMsICAvLyBleGNlcHQgMWQgdGVuc29ycwojICAgICBHR01MX0ZUWVBFX01PU1RMWV9RNF8xX1NPTUVfRjE2ID0gNCwgLy8gdG9rX2VtYmVkZGluZ3Mud2VpZ2h0IGFuZCBvdXRwdXQud2VpZ2h0IGFyZSBGMTYKIyAgICAgR0dNTF9GVFlQRV9NT1NUTFlfUThfMCA9IDcsICAvLyBleGNlcHQgMWQgdGVuc29ycwojICAgICBHR01MX0ZUWVBFX01PU1RMWV9RNV8wID0gOCwgIC8vIGV4Y2VwdCAxZCB0ZW5zb3JzCiMgICAgIEdHTUxfRlRZUEVfTU9TVExZX1E1XzEgPSA5LCAgLy8gZXhjZXB0IDFkIHRlbnNvcnMKIyAgICAgR0dNTF9GVFlQRV9NT1NUTFlfUTJfSyA9IDEwLCAvLyBleGNlcHQgMWQgdGVuc29ycwojICAgICBHR01MX0ZUWVBFX01PU1RMWV9RM19LID0gMTEsIC8vIGV4Y2VwdCAxZCB0ZW5zb3JzCiMgICAgIEdHTUxfRlRZUEVfTU9TVExZX1E0X0sgPSAxMiwgLy8gZXhjZXB0IDFkIHRlbnNvcnMKIyAgICAgR0dNTF9GVFlQRV9NT1NUTFlfUTVfSyA9IDEzLCAvLyBleGNlcHQgMWQgdGVuc29ycwojICAgICBHR01MX0ZUWVBFX01PU1RMWV9RNl9LID0gMTQsIC8vIGV4Y2VwdCAxZCB0ZW5zb3JzCiMgfTsKR0dNTF9GVFlQRV9VTktOT1dOID0gLTEKR0dNTF9GVFlQRV9BTExfRjMyID0gMApHR01MX0ZUWVBFX01PU1RMWV9GMTYgPSAxCkdHTUxfRlRZUEVfTU9TVExZX1E0XzAgPSAyCkdHTUxfRlRZUEVfTU9TVExZX1E0XzEgPSAzCkdHTUxfRlRZUEVfTU9TVExZX1E0XzFfU09NRV9GMTYgPSA0CkdHTUxfRlRZUEVfTU9TVExZX1E4XzAgPSA3CkdHTUxfRlRZUEVfTU9TVExZX1E1XzAgPSA4CkdHTUxfRlRZUEVfTU9TVExZX1E1XzEgPSA5CkdHTUxfRlRZUEVfTU9TVExZX1EyX0sgPSAxMApHR01MX0ZUWVBFX01PU1RMWV9RM19LID0gMTEKR0dNTF9GVFlQRV9NT1NUTFlfUTRfSyA9IDEyCkdHTUxfRlRZUEVfTU9TVExZX1E1X0sgPSAxMwpHR01MX0ZUWVBFX01PU1RMWV9RNl9LID0gMTQKCgojIC8vIGF2YWlsYWJsZSB0ZW5zb3Igb3BlcmF0aW9uczoKIyBlbnVtIGdnbWxfb3AgewojICAgICBHR01MX09QX05PTkUgPSAwLAoKIyAgICAgR0dNTF9PUF9EVVAsCiMgICAgIEdHTUxfT1BfQURELAojICAgICBHR01MX09QX0FERDEsCiMgICAgIEdHTUxfT1BfQUNDLAojICAgICBHR01MX09QX1NVQiwKIyAgICAgR0dNTF9PUF9NVUwsCiMgICAgIEdHTUxfT1BfRElWLAojICAgICBHR01MX09QX1NRUiwKIyAgICAgR0dNTF9PUF9TUVJULAojICAgICBHR01MX09QX0xPRywKIyAgICAgR0dNTF9PUF9TVU0sCiMgICAgIEdHTUxfT1BfU1VNX1JPV1MsCiMgICAgIEdHTUxfT1BfTUVBTiwKIyAgICAgR0dNTF9PUF9BUkdNQVgsCiMgICAgIEdHTUxfT1BfUkVQRUFULAojICAgICBHR01MX09QX1JFUEVBVF9CQUNLLAojICAgICBHR01MX09QX0NPTkNBVCwKIyAgICAgR0dNTF9PUF9TSUxVX0JBQ0ssCiMgICAgIEdHTUxfT1BfTk9STSwgLy8gbm9ybWFsaXplCiMgICAgIEdHTUxfT1BfUk1TX05PUk0sCiMgICAgIEdHTUxfT1BfUk1TX05PUk1fQkFDSywKIyAgICAgR0dNTF9PUF9HUk9VUF9OT1JNLAoKIyAgICAgR0dNTF9PUF9NVUxfTUFULAojICAgICBHR01MX09QX01VTF9NQVRfSUQsCiMgICAgIEdHTUxfT1BfT1VUX1BST0QsCgojICAgICBHR01MX09QX1NDQUxFLAojICAgICBHR01MX09QX1NFVCwKIyAgICAgR0dNTF9PUF9DUFksCiMgICAgIEdHTUxfT1BfQ09OVCwKIyAgICAgR0dNTF9PUF9SRVNIQVBFLAojICAgICBHR01MX09QX1ZJRVcsCiMgICAgIEdHTUxfT1BfUEVSTVVURSwKIyAgICAgR0dNTF9PUF9UUkFOU1BPU0UsCiMgICAgIEdHTUxfT1BfR0VUX1JPV1MsCiMgICAgIEdHTUxfT1BfR0VUX1JPV1NfQkFDSywKIyAgICAgR0dNTF9PUF9ESUFHLAojICAgICBHR01MX09QX0RJQUdfTUFTS19JTkYsCiMgICAgIEdHTUxfT1BfRElBR19NQVNLX1pFUk8sCiMgICAgIEdHTUxfT1BfU09GVF9NQVgsCiMgICAgIEdHTUxfT1BfU09GVF9NQVhfQkFDSywKIyAgICAgR0dNTF9PUF9ST1BFLAojICAgICBHR01MX09QX1JPUEVfQkFDSywKIyAgICAgR0dNTF9PUF9BTElCSSwKIyAgICAgR0dNTF9PUF9DTEFNUCwKIyAgICAgR0dNTF9PUF9DT05WX1RSQU5TUE9TRV8xRCwKIyAgICAgR0dNTF9PUF9JTTJDT0wsCiMgICAgIEdHTUxfT1BfQ09OVl9UUkFOU1BPU0VfMkQsCiMgICAgIEdHTUxfT1BfUE9PTF8xRCwKIyAgICAgR0dNTF9PUF9QT09MXzJELAojICAgICBHR01MX09QX1VQU0NBTEUsIC8vIG5lYXJlc3QgaW50ZXJwb2xhdGUKIyAgICAgR0dNTF9PUF9QQUQsCiMgICAgIEdHTUxfT1BfQVJHU09SVCwKIyAgICAgR0dNTF9PUF9MRUFLWV9SRUxVLAoKIyAgICAgR0dNTF9PUF9GTEFTSF9BVFROLAojICAgICBHR01MX09QX0ZMQVNIX0ZGLAojICAgICBHR01MX09QX0ZMQVNIX0FUVE5fQkFDSywKIyAgICAgR0dNTF9PUF9XSU5fUEFSVCwKIyAgICAgR0dNTF9PUF9XSU5fVU5QQVJULAojICAgICBHR01MX09QX0dFVF9SRUxfUE9TLAojICAgICBHR01MX09QX0FERF9SRUxfUE9TLAoKIyAgICAgR0dNTF9PUF9VTkFSWSwKCiMgICAgIEdHTUxfT1BfTUFQX1VOQVJZLAojICAgICBHR01MX09QX01BUF9CSU5BUlksCgojICAgICBHR01MX09QX01BUF9DVVNUT00xX0YzMiwKIyAgICAgR0dNTF9PUF9NQVBfQ1VTVE9NMl9GMzIsCiMgICAgIEdHTUxfT1BfTUFQX0NVU1RPTTNfRjMyLAoKIyAgICAgR0dNTF9PUF9NQVBfQ1VTVE9NMSwKIyAgICAgR0dNTF9PUF9NQVBfQ1VTVE9NMiwKIyAgICAgR0dNTF9PUF9NQVBfQ1VTVE9NMywKCiMgICAgIEdHTUxfT1BfQ1JPU1NfRU5UUk9QWV9MT1NTLAojICAgICBHR01MX09QX0NST1NTX0VOVFJPUFlfTE9TU19CQUNLLAoKIyAgICAgR0dNTF9PUF9DT1VOVCwKIyB9OwpHR01MX09QX05PTkUgPSAwCkdHTUxfT1BfRFVQID0gMQpHR01MX09QX0FERCA9IDIKR0dNTF9PUF9BREQxID0gMwpHR01MX09QX0FDQyA9IDQKR0dNTF9PUF9TVUIgPSA1CkdHTUxfT1BfTVVMID0gNgpHR01MX09QX0RJViA9IDcKR0dNTF9PUF9TUVIgPSA4CkdHTUxfT1BfU1FSVCA9IDkKR0dNTF9PUF9MT0cgPSAxMApHR01MX09QX1NVTSA9IDExCkdHTUxfT1BfU1VNX1JPV1MgPSAxMgpHR01MX09QX01FQU4gPSAxMwpHR01MX09QX0FSR01BWCA9IDE0CkdHTUxfT1BfUkVQRUFUID0gMTUKR0dNTF9PUF9SRVBFQVRfQkFDSyA9IDE2CkdHTUxfT1BfQ09OQ0FUID0gMTcKR0dNTF9PUF9TSUxVX0JBQ0sgPSAxOApHR01MX09QX05PUk0gPSAxOQpHR01MX09QX1JNU19OT1JNID0gMjAKR0dNTF9PUF9STVNfTk9STV9CQUNLID0gMjEKR0dNTF9PUF9HUk9VUF9OT1JNID0gMjIKR0dNTF9PUF9NVUxfTUFUID0gMjMKR0dNTF9PUF9NVUxfTUFUX0lEID0gMjQKR0dNTF9PUF9PVVRfUFJPRCA9IDI1CkdHTUxfT1BfU0NBTEUgPSAyNgpHR01MX09QX1NFVCA9IDI3CkdHTUxfT1BfQ1BZID0gMjgKR0dNTF9PUF9DT05UID0gMjkKR0dNTF9PUF9SRVNIQVBFID0gMzAKR0dNTF9PUF9WSUVXID0gMzEKR0dNTF9PUF9QRVJNVVRFID0gMzIKR0dNTF9PUF9UUkFOU1BPU0UgPSAzMwpHR01MX09QX0dFVF9ST1dTID0gMzQKR0dNTF9PUF9HRVRfUk9XU19CQUNLID0gMzUKR0dNTF9PUF9ESUFHID0gMzYKR0dNTF9PUF9ESUFHX01BU0tfSU5GID0gMzcKR0dNTF9PUF9ESUFHX01BU0tfWkVSTyA9IDM4CkdHTUxfT1BfU09GVF9NQVggPSAzOQpHR01MX09QX1NPRlRfTUFYX0JBQ0sgPSA0MApHR01MX09QX1JPUEUgPSA0MQpHR01MX09QX1JPUEVfQkFDSyA9IDQyCkdHTUxfT1BfQUxJQkkgPSA0MwpHR01MX09QX0NMQU1QID0gNDQKR0dNTF9PUF9DT05WX1RSQU5TUE9TRV8xRCA9IDQ1CkdHTUxfT1BfSU0yQ09MID0gNDYKR0dNTF9PUF9DT05WX1RSQU5TUE9TRV8yRCA9IDQ3CkdHTUxfT1BfUE9PTF8xRCA9IDQ4CkdHTUxfT1BfUE9PTF8yRCA9IDQ5CkdHTUxfT1BfVVBTQ0FMRSA9IDUwCkdHTUxfT1BfUEFEID0gNTEKR0dNTF9PUF9BUkdTT1JUID0gNTIKR0dNTF9PUF9MRUFLWV9SRUxVID0gNTMKR0dNTF9PUF9GTEFTSF9BVFROID0gNTQKR0dNTF9PUF9GTEFTSF9GRiA9IDU1CkdHTUxfT1BfRkxBU0hfQVRUTl9CQUNLID0gNTYKR0dNTF9PUF9XSU5fUEFSVCA9IDU3CkdHTUxfT1BfV0lOX1VOUEFSVCA9IDU4CkdHTUxfT1BfR0VUX1JFTF9QT1MgPSA1OQpHR01MX09QX0FERF9SRUxfUE9TID0gNjAKR0dNTF9PUF9VTkFSWSA9IDYxCkdHTUxfT1BfTUFQX1VOQVJZID0gNjIKR0dNTF9PUF9NQVBfQklOQVJZID0gNjMKR0dNTF9PUF9NQVBfQ1VTVE9NMV9GMzIgPSA2NApHR01MX09QX01BUF9DVVNUT00yX0YzMiA9IDY1CkdHTUxfT1BfTUFQX0NVU1RPTTNfRjMyID0gNjYKR0dNTF9PUF9NQVBfQ1VTVE9NMSA9IDY3CkdHTUxfT1BfTUFQX0NVU1RPTTIgPSA2OApHR01MX09QX01BUF9DVVNUT00zID0gNjkKR0dNTF9PUF9DUk9TU19FTlRST1BZX0xPU1MgPSA3MApHR01MX09QX0NST1NTX0VOVFJPUFlfTE9TU19CQUNLID0gNzEKR0dNTF9PUF9DT1VOVCA9IDcyCgojIGVudW0gZ2dtbF91bmFyeV9vcCB7CiMgICAgIEdHTUxfVU5BUllfT1BfQUJTLAojICAgICBHR01MX1VOQVJZX09QX1NHTiwKIyAgICAgR0dNTF9VTkFSWV9PUF9ORUcsCiMgICAgIEdHTUxfVU5BUllfT1BfU1RFUCwKIyAgICAgR0dNTF9VTkFSWV9PUF9UQU5ILAojICAgICBHR01MX1VOQVJZX09QX0VMVSwKIyAgICAgR0dNTF9VTkFSWV9PUF9SRUxVLAojICAgICBHR01MX1VOQVJZX09QX0dFTFUsCiMgICAgIEdHTUxfVU5BUllfT1BfR0VMVV9RVUlDSywKIyAgICAgR0dNTF9VTkFSWV9PUF9TSUxVLAojICAgICBHR01MX1VOQVJZX09QX0xFQUtZCgojICAgICBHR01MX1VOQVJZX09QX0NPVU5ULAojIH07CkdHTUxfVU5BUllfT1BfQUJTID0gMApHR01MX1VOQVJZX09QX1NHTiA9IDEKR0dNTF9VTkFSWV9PUF9ORUcgPSAyCkdHTUxfVU5BUllfT1BfU1RFUCA9IDMKR0dNTF9VTkFSWV9PUF9UQU5IID0gNApHR01MX1VOQVJZX09QX0VMVSA9IDUKR0dNTF9VTkFSWV9PUF9SRUxVID0gNgpHR01MX1VOQVJZX09QX0dFTFUgPSA3CkdHTUxfVU5BUllfT1BfR0VMVV9RVUlDSyA9IDgKR0dNTF9VTkFSWV9PUF9TSUxVID0gOQpHR01MX1VOQVJZX09QX0xFQUtZID0gMTAKR0dNTF9VTkFSWV9PUF9DT1VOVCA9IDExCgojIGVudW0gZ2dtbF9vYmplY3RfdHlwZSB7CiMgICAgIEdHTUxfT0JKRUNUX1RFTlNPUiwKIyAgICAgR0dNTF9PQkpFQ1RfR1JBUEgsCiMgICAgIEdHTUxfT0JKRUNUX1dPUktfQlVGRkVSCiMgfTsKR0dNTF9PQkpFQ1RfVEVOU09SID0gMApHR01MX09CSkVDVF9HUkFQSCA9IDEKR0dNTF9PQkpFQ1RfV09SS19CVUZGRVIgPSAyCgojIGVudW0gZ2dtbF9sb2dfbGV2ZWwgewojICAgICBHR01MX0xPR19MRVZFTF9FUlJPUiA9IDIsCiMgICAgIEdHTUxfTE9HX0xFVkVMX1dBUk4gPSAzLAojICAgICBHR01MX0xPR19MRVZFTF9JTkZPID0gNAojIH07CkdHTUxfTE9HX0xFVkVMX0VSUk9SID0gMgpHR01MX0xPR19MRVZFTF9XQVJOID0gMwpHR01MX0xPR19MRVZFTF9JTkZPID0gNAoKIyAvLyBnZ21sIG9iamVjdAojIHN0cnVjdCBnZ21sX29iamVjdCB7CiMgICAgIHNpemVfdCBvZmZzOwojICAgICBzaXplX3Qgc2l6ZTsKCiMgICAgIHN0cnVjdCBnZ21sX29iamVjdCAqIG5leHQ7CgojICAgICBlbnVtIGdnbWxfb2JqZWN0X3R5cGUgdHlwZTsKCgojICAgICBjaGFyIHBhZGRpbmdbNF07CiMgfTsKY2xhc3MgZ2dtbF9vYmplY3QoY3R5cGVzLlN0cnVjdHVyZSk6CiAgICBwYXNzCgoKZ2dtbF9vYmplY3QuX2ZpZWxkc18gPSBbCiAgICAoIm9mZnMiLCBjdHlwZXMuY19zaXplX3QpLAogICAgKCJzaXplIiwgY3R5cGVzLmNfc2l6ZV90KSwKICAgICgibmV4dCIsIGN0eXBlcy5QT0lOVEVSKGdnbWxfb2JqZWN0KSksCiAgICAoInR5cGUiLCBjdHlwZXMuY19pbnQpLAogICAgKCJwYWRkaW5nIiwgY3R5cGVzLmNfY2hhciAqIDQpLApdCgpnZ21sX29iamVjdF9wOiBUeXBlQWxpYXMgPSAiY3R5cGVzLl9Qb2ludGVyW2dnbWxfb2JqZWN0XSIgICMgdHlwZTogaWdub3JlCgpHR01MX09CSkVDVF9TSVpFID0gY3R5cGVzLnNpemVvZihnZ21sX29iamVjdCkKCgojIC8vIG4tZGltZW5zaW9uYWwgdGVuc29yCiMgc3RydWN0IGdnbWxfdGVuc29yIHsKIyAgICAgZW51bSBnZ21sX3R5cGUgICAgICAgICB0eXBlOwojICAgICBlbnVtIGdnbWxfYmFja2VuZF90eXBlIGJhY2tlbmQ7CgojICAgICBzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2J1ZmZlciAqIGJ1ZmZlcjsKCiMgICAgIGludCAgICAgbl9kaW1zOwojICAgICBpbnQ2NF90IG5lW0dHTUxfTUFYX0RJTVNdOyAvLyBudW1iZXIgb2YgZWxlbWVudHMKIyAgICAgc2l6ZV90ICBuYltHR01MX01BWF9ESU1TXTsgLy8gc3RyaWRlIGluIGJ5dGVzOgojICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuYlswXSA9IGdnbWxfdHlwZV9zaXplKHR5cGUpCiMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5iWzFdID0gbmJbMF0gICAqIChuZVswXSAvIGdnbWxfYmxja19zaXplKHR5cGUpKSArIHBhZGRpbmcKIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmJbaV0gPSBuYltpLTFdICogbmVbaS0xXQoKIyAgICAgLy8gY29tcHV0ZSBkYXRhCiMgICAgIGVudW0gZ2dtbF9vcCBvcDsKCiMgICAgIC8vIG9wIHBhcmFtcyAtIGFsbG9jYXRlZCBhcyBpbnQzMl90IGZvciBhbGlnbm1lbnQKIyAgICAgaW50MzJfdCBvcF9wYXJhbXNbR0dNTF9NQVhfT1BfUEFSQU1TIC8gc2l6ZW9mKGludDMyX3QpXTsKCiMgICAgIGJvb2wgaXNfcGFyYW07CgojICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBncmFkOwojICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBzcmNbR0dNTF9NQVhfU1JDXTsKCiMgICAgIC8vIHBlcmZvcm1hbmNlCiMgICAgIGludCAgICAgcGVyZl9ydW5zOwojICAgICBpbnQ2NF90IHBlcmZfY3ljbGVzOwojICAgICBpbnQ2NF90IHBlcmZfdGltZV91czsKCiMgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIHZpZXdfc3JjOwojICAgICBzaXplX3QgICAgICAgICAgICAgICB2aWV3X29mZnM7CgojICAgICB2b2lkICogZGF0YTsKCiMgICAgIGNoYXIgbmFtZVtHR01MX01BWF9OQU1FXTsKCiMgICAgIHZvaWQgKiBleHRyYTsgLy8gZXh0cmEgdGhpbmdzIGUuZy4gZm9yIGdnbWwtY3VkYS5jdQoKCiMgICAgIGNoYXIgcGFkZGluZ1sxMl07CiMgfTsKY2xhc3MgZ2dtbF90ZW5zb3IoY3R5cGVzLlN0cnVjdHVyZSk6CiAgICAiIiJuLWRpbWVuc2lvbmFsIHRlbnNvcgoKICAgIEF0dHJpYnV0ZXM6CiAgICAgICAgdHlwZSAoaW50KTogZ2dtbF90eXBlCiAgICAgICAgYmFja2VuZCAoaW50KTogZ2dtbF9iYWNrZW5kCiAgICAgICAgYnVmZmVyIChjdHlwZXMucG9pbnRlcltnZ21sX2JhY2tlbmRfYnVmZmVyXSk6IHBvaW50ZXIgdG8gYmFja2VuZCBidWZmZXIKICAgICAgICBuX2RpbXMgKGludCk6IG51bWJlciBvZiBkaW1lbnNpb25zCiAgICAgICAgbmUgKGN0eXBlcy5BcnJheVtjdHlwZXMuY19pbnQ2NF0pOiBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBkaW1lbnNpb24KICAgICAgICBuYiAoY3R5cGVzLkFycmF5W2N0eXBlcy5jX3NpemVfdF0pOiBzdHJpZGUgaW4gYnl0ZXMgZm9yIGVhY2ggZGltZW5zaW9uCiAgICAgICAgb3AgKGludCk6IGdnbWwgb3BlcmF0aW9uCiAgICAgICAgb3BfcGFyYW1zIChjdHlwZXMuQXJyYXlbY3R5cGVzLmNfaW50MzJdKTogYEdHTUxfTUFYX09QX1BBUkFNU2AtbGVuZ3RoIGFycmF5IG9mIG9wZXJhdGlvbiBwYXJhbWV0ZXJzCiAgICAgICAgaXNfcGFyYW0gKGJvb2wpOiBpcyB0aGlzIGEgcGFyYW1ldGVyIHRlbnNvcgogICAgICAgIGdyYWQgKGdnbWxfdGVuc29yX3ApOiByZWZlcmVuY2UgdG8gZ3JhZGllbnQgdGVuc29yCiAgICAgICAgc3JjIChjdHlwZXMuQXJyYXlbZ2dtbF90ZW5zb3JfcF0pOiBgR0dNTF9NQVhfU1JDYC1sZW5ndGggYXJyYXkgb2Ygc291cmNlIHRlbnNvcnMKICAgICAgICBwZXJmX3J1bnMgKGludCk6IG51bWJlciBvZiBwZXJmb3JtYW5jZSBydW5zCiAgICAgICAgcGVyZl9jeWNsZXMgKGludCk6IG51bWJlciBvZiBjeWNsZXMKICAgICAgICBwZXJmX3RpbWVfdXMgKGludCk6IHRpbWUgaW4gbWljcm9zZWNvbmRzCiAgICAgICAgdmlld19zcmMgKGdnbWxfdGVuc29yX3ApOiBwb2ludGVyIHRvIHRlbnNvciBpZiB0aGlzIHRlbnNvciBpcyBhIHZpZXcsIE5vbmUgaWYgdGhlIHRlbnNvciBpcyBub3QgYSB2aWV3CiAgICAgICAgdmlld19vZmZzIChjdHlwZXMuY19zaXplX3QpOiBvZmZzZXQgaW50byB0aGUgZGF0YSBwb2ludGVyIG9mIHRoZSB2aWV3IHRlbnNvcgogICAgICAgIGRhdGEgKGN0eXBlcy5jX3ZvaWRfcCk6IHJlZmVyZW5jZSB0byByYXcgdGVuc29yIGRhdGEKICAgICAgICBuYW1lIChieXRlcyk6IG5hbWUgb2YgdGVuc29yCiAgICAgICAgZXh0cmEgKGN0eXBlcy5jX3ZvaWRfcCk6IGV4dHJhIGRhdGEgKGUuZy4gZm9yIENVREEpCiAgICAiIiIKCiAgICBwYXNzCgoKZ2dtbF90ZW5zb3IuX2ZpZWxkc18gPSBbCiAgICAoInR5cGUiLCBjdHlwZXMuY19pbnQpLAogICAgKCJiYWNrZW5kIiwgY3R5cGVzLmNfaW50KSwKICAgICgiYnVmZmVyIiwgY3R5cGVzLmNfdm9pZF9wKSwKICAgICgibl9kaW1zIiwgY3R5cGVzLmNfaW50KSwKICAgICgibmUiLCBjdHlwZXMuY19pbnQ2NCAqIEdHTUxfTUFYX0RJTVMpLAogICAgKCJuYiIsIGN0eXBlcy5jX3NpemVfdCAqIEdHTUxfTUFYX0RJTVMpLAogICAgKCJvcCIsIGN0eXBlcy5jX2ludCksCiAgICAoCiAgICAgICAgIm9wX3BhcmFtcyIsCiAgICAgICAgY3R5cGVzLmNfaW50MzIgKiAoR0dNTF9NQVhfT1BfUEFSQU1TIC8vIGN0eXBlcy5zaXplb2YoY3R5cGVzLmNfaW50MzIpKSwKICAgICksCiAgICAoImlzX3BhcmFtIiwgY3R5cGVzLmNfYm9vbCksCiAgICAoImdyYWQiLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikpLAogICAgKCJzcmMiLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikgKiBHR01MX01BWF9TUkMpLAogICAgKCJwZXJmX3J1bnMiLCBjdHlwZXMuY19pbnQpLAogICAgKCJwZXJmX2N5Y2xlcyIsIGN0eXBlcy5jX2ludDY0KSwKICAgICgicGVyZl90aW1lX3VzIiwgY3R5cGVzLmNfaW50NjQpLAogICAgKCJ2aWV3X3NyYyIsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSksCiAgICAoInZpZXdfb2ZmcyIsIGN0eXBlcy5jX3NpemVfdCksCiAgICAoImRhdGEiLCBjdHlwZXMuY192b2lkX3ApLAogICAgKCJuYW1lIiwgY3R5cGVzLmNfY2hhciAqIEdHTUxfTUFYX05BTUUpLAogICAgKCJleHRyYSIsIGN0eXBlcy5jX3ZvaWRfcCksCiAgICAoInBhZGRpbmciLCBjdHlwZXMuY19jaGFyICogMTIpLApdCgpHR01MX1RFTlNPUl9TSVpFID0gY3R5cGVzLnNpemVvZihnZ21sX3RlbnNvcikKCmdnbWxfdGVuc29yX3A6IFR5cGVBbGlhcyA9ICJjdHlwZXMuX1BvaW50ZXJbZ2dtbF90ZW5zb3JdIiAgIyB0eXBlOiBpZ25vcmUKIiIiY3R5cGVzIHBvaW50ZXIgdG8gYSBbZ2dtbF90ZW5zb3JdW2dnbWwuZ2dtbF90ZW5zb3JdCgpDYW4gYmUgZGVyZWZlcmVuY2VkIHRvIGEgW2dnbWxfdGVuc29yXVtnZ21sLmdnbWxfdGVuc29yXSBvYmplY3QgdXNpbmcKdGhlIGAuY29udGVudHNgIGF0dHJpYnV0ZS4iIiIKCmFib3J0X2NhbGxiYWNrX3QgPSBjdHlwZXMuQ0ZVTkNUWVBFKGN0eXBlcy5jX2Jvb2wsIGN0eXBlcy5jX3ZvaWRfcCkKCiMgLy8gdGhlIGNvbXB1dGUgcGxhbiB0aGF0IG5lZWRzIHRvIGJlIHByZXBhcmVkIGZvciBnZ21sX2dyYXBoX2NvbXB1dGUoKQojIC8vIHNpbmNlIGh0dHBzOi8vZ2l0aHViLmNvbS9nZ2VyZ2Fub3YvZ2dtbC9pc3N1ZXMvMjg3CiMgc3RydWN0IGdnbWxfY3BsYW4gewojICAgICBzaXplX3QgICAgd29ya19zaXplOyAvLyBzaXplIG9mIHdvcmsgYnVmZmVyLCBjYWxjdWxhdGVkIGJ5IGBnZ21sX2dyYXBoX3BsYW4oKWAKIyAgICAgdWludDhfdCAqIHdvcmtfZGF0YTsgLy8gd29yayBidWZmZXIsIHRvIGJlIGFsbG9jYXRlZCBieSBjYWxsZXIgYmVmb3JlIGNhbGxpbmcgdG8gYGdnbWxfZ3JhcGhfY29tcHV0ZSgpYAoKIyAgICAgaW50IG5fdGhyZWFkczsKCgojICAgICAvLyBhYm9ydCBnZ21sX2dyYXBoX2NvbXB1dGUgd2hlbiB0cnVlCiMgICAgIGJvb2wgKCphYm9ydF9jYWxsYmFjaykodm9pZCAqIGRhdGEpOwojICAgICB2b2lkICogYWJvcnRfY2FsbGJhY2tfZGF0YTsKIyB9OwpjbGFzcyBnZ21sX2NwbGFuKGN0eXBlcy5TdHJ1Y3R1cmUpOgogICAgIiIiQ29tcHV0ZSBwbGFuIGZvciBhIGdnbWwgY29tcHV0YXRpb24gZ3JhcGgKCiAgICBBdHRyaWJ1dGVzOgogICAgICAgIHdvcmtfc2l6ZSAoaW50KTogc2l6ZSBvZiB3b3JrIGJ1ZmZlcgogICAgICAgIHdvcmtfZGF0YSAoY3R5cGVzLnBvaW50ZXJbY3R5cGVzLmNfdWludDhdKTogd29yayBidWZmZXIKICAgICAgICBuX3RocmVhZHMgKGludCk6IG51bWJlciBvZiB0aHJlYWRzCiAgICAgICAgYWJvcnRfY2FsbGJhY2sgKGFib3J0X2NhbGxiYWNrX3QpOiBhYm9ydCBjYWxsYmFjawogICAgICAgIGFib3J0X2NhbGxiYWNrX2RhdGEgKGN0eXBlcy5jX3ZvaWRfcCk6IGFib3J0IGNhbGxiYWNrIGRhdGEKICAgICIiIgoKICAgIF9maWVsZHNfID0gWwogICAgICAgICgid29ya19zaXplIiwgY3R5cGVzLmNfc2l6ZV90KSwKICAgICAgICAoIndvcmtfZGF0YSIsIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5jX3VpbnQ4KSksCiAgICAgICAgKCJuX3RocmVhZHMiLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgKICAgICAgICAgICAgImFib3J0X2NhbGxiYWNrIiwKICAgICAgICAgICAgYWJvcnRfY2FsbGJhY2tfdCwKICAgICAgICApLAogICAgICAgICgiYWJvcnRfY2FsbGJhY2tfZGF0YSIsIGN0eXBlcy5jX3ZvaWRfcCksCiAgICBdCgoKR0dNTF9DUExBTl9TSVpFID0gY3R5cGVzLnNpemVvZihnZ21sX2NwbGFuKQoKZ2dtbF9jcGxhbl9wOiBUeXBlQWxpYXMgPSAiY3R5cGVzLl9Qb2ludGVyW2dnbWxfY3BsYW5dIiAgIyB0eXBlOiBpZ25vcmUKIiIiY3R5cGVzIHBvaW50ZXIgdG8gYSBbZ2dtbF9jcGxhbl1bZ2dtbC5nZ21sX2NwbGFuXQoKQ2FuIGJlIGRlcmVmZXJlbmNlZCB0byBhIFtnZ21sX2NwbGFuXVtnZ21sLmdnbWxfY3BsYW5dIG9iamVjdCB1c2luZwp0aGUgYC5jb250ZW50c2AgYXR0cmlidXRlLiIiIgoKIyBlbnVtIGdnbWxfY2dyYXBoX2V2YWxfb3JkZXIgewojICAgICBHR01MX0NHUkFQSF9FVkFMX09SREVSX0xFRlRfVE9fUklHSFQgPSAwLAojICAgICBHR01MX0NHUkFQSF9FVkFMX09SREVSX1JJR0hUX1RPX0xFRlQsCiMgICAgIEdHTUxfQ0dSQVBIX0VWQUxfT1JERVJfQ09VTlQKIyB9OwpHR01MX0NHUkFQSF9FVkFMX09SREVSX0xFRlRfVE9fUklHSFQgPSAwCkdHTUxfQ0dSQVBIX0VWQUxfT1JERVJfUklHSFRfVE9fTEVGVCA9IDEKR0dNTF9DR1JBUEhfRVZBTF9PUkRFUl9DT1VOVCA9IDIKCgojIHN0cnVjdCBnZ21sX2hhc2hfc2V0IHsKIyAgICAgc2l6ZV90IHNpemU7CiMgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqKiBrZXlzOwojIH07CmNsYXNzIGdnbWxfaGFzaF9zZXQoY3R5cGVzLlN0cnVjdHVyZSk6CiAgICBfZmllbGRzXyA9IFsKICAgICAgICAoInNpemUiLCBjdHlwZXMuY19zaXplX3QpLAogICAgICAgICgia2V5cyIsIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSkpLAogICAgXQoKCiMgLy8gY29tcHV0YXRpb24gZ3JhcGgKIyBzdHJ1Y3QgZ2dtbF9jZ3JhcGggewojICAgICBpbnQgc2l6ZTsKIyAgICAgaW50IG5fbm9kZXM7CiMgICAgIGludCBuX2xlYWZzOwoKIyAgICAgc3RydWN0IGdnbWxfdGVuc29yICoqIG5vZGVzOwojICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiogZ3JhZHM7CiMgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqKiBsZWFmczsKCiMgICAgIHN0cnVjdCBnZ21sX2hhc2hfc2V0IHZpc2l0ZWRfaGFzaF90YWJsZTsKCiMgICAgIGVudW0gZ2dtbF9jZ3JhcGhfZXZhbF9vcmRlciBvcmRlcjsKCgojICAgICAvLyBwZXJmb3JtYW5jZQojICAgICBpbnQgICAgIHBlcmZfcnVuczsKIyAgICAgaW50NjRfdCBwZXJmX2N5Y2xlczsKIyAgICAgaW50NjRfdCBwZXJmX3RpbWVfdXM7CiMgfTsKY2xhc3MgZ2dtbF9jZ3JhcGgoY3R5cGVzLlN0cnVjdHVyZSk6CiAgICAiIiJnZ21sIGNvbXB1dGF0aW9uIGdyYXBoCgogICAgQXR0cmlidXRlczoKICAgICAgICBuX25vZGVzIChpbnQpOiBudW1iZXIgb2Ygbm9kZXMKICAgICAgICBuX2xlYWZzIChpbnQpOiBudW1iZXIgb2YgbGVhZnMKICAgICAgICBub2RlcyAoY3R5cGVzLkFycmF5W2dnbWxfdGVuc29yX3BdKTogYG5fbm9kZXNgLWxlbmd0aCBhcnJheSBvZiBjb21wdXRlIHRlbnNvcnMKICAgICAgICBncmFkcyAoY3R5cGVzLkFycmF5W2dnbWxfdGVuc29yX3BdKTogYG5fbm9kZXNgLWxlbmd0aCBhcnJheSBvZiBncmFkaWVudCB0ZW5zb3JzCiAgICAgICAgbGVhZnMgKGN0eXBlcy5BcnJheVtnZ21sX3RlbnNvcl9wXSk6IGBuX2xlYWZzYC1sZW5ndGggYXJyYXkgb2YgcGFyYW1ldGVyIHRlbnNvcnMKICAgICAgICB2aXNpdGVkX2hhc2hfdGFibGUgKGN0eXBlcy5BcnJheVtjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildKTogaGFzaCB0YWJsZSBvZiB2aXNpdGVkIHRlbnNvcnMKICAgICAgICBvcmRlciAoaW50KTogZXZhbHVhdGlvbiBvcmRlcgogICAgICAgIHBlcmZfcnVucyAoaW50KTogbnVtYmVyIG9mIHJ1bnMKICAgICAgICBwZXJmX2N5Y2xlcyAoaW50KTogbnVtYmVyIG9mIGN5Y2xlcwogICAgICAgIHBlcmZfdGltZV91cyAoaW50KTogY29tcHV0YXRpb24gdGltZSBpbiBtaWNyb3NlY29uZHMiIiIKCiAgICBfZmllbGRzXyA9IFsKICAgICAgICAoInNpemUiLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgibl9ub2RlcyIsIGN0eXBlcy5jX2ludCksCiAgICAgICAgKCJuX2xlYWZzIiwgY3R5cGVzLmNfaW50KSwKICAgICAgICAoIm5vZGVzIiwgY3R5cGVzLlBPSU5URVIoY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpKSksCiAgICAgICAgKCJncmFkcyIsIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSkpLAogICAgICAgICgibGVhZnMiLCBjdHlwZXMuUE9JTlRFUihjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikpKSwKICAgICAgICAoInZpc2l0ZWRfaGFzaF90YWJsZSIsIGdnbWxfaGFzaF9zZXQpLAogICAgICAgICgib3JkZXIiLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgicGVyZl9ydW5zIiwgY3R5cGVzLmNfaW50KSwKICAgICAgICAoInBlcmZfY3ljbGVzIiwgY3R5cGVzLmNfaW50NjQpLAogICAgICAgICgicGVyZl90aW1lX3VzIiwgY3R5cGVzLmNfaW50NjQpLAogICAgXQoKCmdnbWxfY2dyYXBoX3A6IFR5cGVBbGlhcyA9ICJjdHlwZXMuX1BvaW50ZXJbZ2dtbF9jZ3JhcGhdIiAgIyB0eXBlOiBpZ25vcmUKIiIiY3R5cGVzIHBvaW50ZXIgdG8gYSBbZ2dtbF9jZ3JhcGhdW2dnbWwuZ2dtbF9jZ3JhcGhdCgpDYW4gYmUgZGVyZWZlcmVuY2VkIHRvIGEgW2dnbWxfY2dyYXBoXVtnZ21sLmdnbWxfY2dyYXBoXSBvYmplY3QgdXNpbmcKdGhlIGAuY29udGVudHNgIGF0dHJpYnV0ZS4iIiIKCgojIHN0cnVjdCBnZ21sX3NjcmF0Y2ggewojICAgICBzaXplX3Qgb2ZmczsKIyAgICAgc2l6ZV90IHNpemU7CiMgICAgIHZvaWQgKiBkYXRhOwojIH07CmNsYXNzIGdnbWxfc2NyYXRjaChjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgib2ZmcyIsIGN0eXBlcy5jX3NpemVfdCksCiAgICAgICAgKCJzaXplIiwgY3R5cGVzLmNfc2l6ZV90KSwKICAgICAgICAoImRhdGEiLCBjdHlwZXMuY192b2lkX3ApLAogICAgXQoKCiMgc3RydWN0IGdnbWxfaW5pdF9wYXJhbXMgewojICAgICAvLyBtZW1vcnkgcG9vbAojICAgICBzaXplX3QgbWVtX3NpemU7ICAgLy8gYnl0ZXMKIyAgICAgdm9pZCAqIG1lbV9idWZmZXI7IC8vIGlmIE5VTEwsIG1lbW9yeSB3aWxsIGJlIGFsbG9jYXRlZCBpbnRlcm5hbGx5CiMgICAgIGJvb2wgICBub19hbGxvYzsgICAvLyBkb24ndCBhbGxvY2F0ZSBtZW1vcnkgZm9yIHRoZSB0ZW5zb3IgZGF0YQojIH07CmNsYXNzIGdnbWxfaW5pdF9wYXJhbXMoY3R5cGVzLlN0cnVjdHVyZSk6CiAgICAiIiJJbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzIGZvciBhIGdnbWwgY29udGV4dAoKICAgICoqTk9URSoqOiBSZWZlcmVuY2UgY291bnRpbmcgZG9lcyBub3QgY3Jvc3MgaW50byBnZ21sLCBpZiB5b3UgYWxsb2NhdGUgYSBtZW1vcnkgYnVmZmVyCiAgICBpbiBweXRob24gdXNpbmcgY3R5cGVzIEFycmF5cyBvciBhIG51bXB5IGFycmF5LCB5b3UgbXVzdCBrZWVwIGEgcmVmZXJlbmNlIHRvIGl0IHVudGlsCiAgICB5b3UgZnJlZSB0aGUgZ2dtbCBjb250ZXh0IG90aGVyd2lzZSB5b3Ugd2lsbCBlbmNvdW50ZXIgYSBzZWdtZW50YXRpb24gZmF1bHQuCgogICAgQXR0cmlidXRlczoKICAgICAgICBtZW1fc2l6ZSAoaW50KTogc2l6ZSBvZiBtZW1vcnkgcG9vbCBpbiBieXRlcwogICAgICAgIG1lbV9idWZmZXIgKGN0eXBlcy5jX3ZvaWRfcCk6IHBvaW50ZXIgdG8gbWVtb3J5IHBvb2wsIGlmIE5vbmUsIG1lbW9yeSB3aWxsIGJlIGFsbG9jYXRlZCBpbnRlcm5hbGx5CiAgICAgICAgbm9fYWxsb2MgKGJvb2wpOiBkb24ndCBhbGxvY2F0ZSBtZW1vcnkgZm9yIHRlbnNvciBkYXRhCiAgICAiIiIKCiAgICBfZmllbGRzXyA9IFsKICAgICAgICAoIm1lbV9zaXplIiwgY3R5cGVzLmNfc2l6ZV90KSwKICAgICAgICAoIm1lbV9idWZmZXIiLCBjdHlwZXMuY192b2lkX3ApLAogICAgICAgICgibm9fYWxsb2MiLCBjdHlwZXMuY19ib29sKSwKICAgIF0KCgojIC8vIGNvbXB1dGUgdHlwZXMKCiMgLy8gTk9URTogdGhlIElOSVQgb3IgRklOQUxJWkUgcGFzcyBpcyBub3Qgc2NoZWR1bGVkIHVubGVzcyBleHBsaWNpdGx5IGVuYWJsZWQuCiMgLy8gVGhpcyBiZWhhdmlvciB3YXMgY2hhbmdlZCBzaW5jZSBodHRwczovL2dpdGh1Yi5jb20vZ2dlcmdhbm92L2xsYW1hLmNwcC9wdWxsLzE5OTUuCiMgZW51bSBnZ21sX3Rhc2tfdHlwZSB7CiMgICAgIEdHTUxfVEFTS19JTklUID0gMCwKIyAgICAgR0dNTF9UQVNLX0NPTVBVVEUsCiMgICAgIEdHTUxfVEFTS19GSU5BTElaRSwKIyB9OwpHR01MX1RBU0tfSU5JVCA9IDAKR0dNTF9UQVNLX0NPTVBVVEUgPSAxCkdHTUxfVEFTS19GSU5BTElaRSA9IDIKCiMgc3RydWN0IGdnbWxfY29tcHV0ZV9wYXJhbXMgewojICAgICBlbnVtIGdnbWxfdGFza190eXBlIHR5cGU7CgojICAgICAvLyBpdGggPSB0aHJlYWQgaW5kZXgsIG50aCA9IG51bWJlciBvZiB0aHJlYWRzCiMgICAgIGludCBpdGgsIG50aDsKCgojICAgICAvLyB3b3JrIGJ1ZmZlciBmb3IgYWxsIHRocmVhZHMKIyAgICAgc2l6ZV90IHdzaXplOwojICAgICB2b2lkICogd2RhdGE7CiMgfTsKY2xhc3MgZ2dtbF9jb21wdXRlX3BhcmFtcyhjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgidHlwZSIsIGN0eXBlcy5jX2ludCksCiAgICAgICAgKCJpdGgiLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgibnRoIiwgY3R5cGVzLmNfaW50KSwKICAgICAgICAoIndzaXplIiwgY3R5cGVzLmNfc2l6ZV90KSwKICAgICAgICAoIndkYXRhIiwgY3R5cGVzLmNfdm9pZF9wKSwKICAgIF0KCgpnZ21sX2NvbXB1dGVfcGFyYW1zX3A6IFR5cGVBbGlhcyA9ICJjdHlwZXMuX1BvaW50ZXJbZ2dtbF9jb21wdXRlX3BhcmFtc10iICAjIHR5cGU6IGlnbm9yZQoKIyAvLyBtaXNjCgoKIyBHR01MX0FQSSB2b2lkICAgIGdnbWxfdGltZV9pbml0KHZvaWQpOyAvLyBjYWxsIHRoaXMgb25jZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwcm9ncmFtCmRlZiBnZ21sX3RpbWVfaW5pdCgpOgogICAgcmV0dXJuIGxpYi5nZ21sX3RpbWVfaW5pdCgpCgoKbGliLmdnbWxfdGltZV9pbml0LmFyZ3R5cGVzID0gW10KbGliLmdnbWxfdGltZV9pbml0LnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBpbnQ2NF90IGdnbWxfdGltZV9tcyh2b2lkKTsKZGVmIGdnbWxfdGltZV9tcygpIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF90aW1lX21zKCkKCgpsaWIuZ2dtbF90aW1lX21zLmFyZ3R5cGVzID0gW10KbGliLmdnbWxfdGltZV9tcy5yZXN0eXBlID0gY3R5cGVzLmNfaW50NjQKCgojIEdHTUxfQVBJIGludDY0X3QgZ2dtbF90aW1lX3VzKHZvaWQpOwpkZWYgZ2dtbF90aW1lX3VzKCkgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX3RpbWVfdXMoKQoKCmxpYi5nZ21sX3RpbWVfdXMuYXJndHlwZXMgPSBbXQpsaWIuZ2dtbF90aW1lX3VzLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQ2NAoKCiMgR0dNTF9BUEkgaW50NjRfdCBnZ21sX2N5Y2xlcyh2b2lkKTsKZGVmIGdnbWxfY3ljbGVzKCkgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX2N5Y2xlcygpCgoKbGliLmdnbWxfY3ljbGVzLmFyZ3R5cGVzID0gW10KbGliLmdnbWxfY3ljbGVzLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQ2NAoKCiMgR0dNTF9BUEkgaW50NjRfdCBnZ21sX2N5Y2xlc19wZXJfbXModm9pZCk7CmRlZiBnZ21sX2N5Y2xlc19wZXJfbXMoKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfY3ljbGVzX3Blcl9tcygpCgoKbGliLmdnbWxfY3ljbGVzX3Blcl9tcy5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX2N5Y2xlc19wZXJfbXMucmVzdHlwZSA9IGN0eXBlcy5jX2ludDY0CgoKIyBHR01MX0FQSSB2b2lkICAgIGdnbWxfcHJpbnRfYmFja3RyYWNlKHZvaWQpOwpkZWYgZ2dtbF9wcmludF9iYWNrdHJhY2UoKToKICAgIHJldHVybiBsaWIuZ2dtbF9wcmludF9iYWNrdHJhY2UoKQoKCmxpYi5nZ21sX3ByaW50X2JhY2t0cmFjZS5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX3ByaW50X2JhY2t0cmFjZS5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCAgICBnZ21sX251bWFfaW5pdCh2b2lkKTsgLy8gY2FsbCBvbmNlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2Ugb24gTlVNQSBzeXN0ZW1zCmRlZiBnZ21sX251bWFfaW5pdCgpOgogICAgcmV0dXJuIGxpYi5nZ21sX251bWFfaW5pdCgpCgoKbGliLmdnbWxfbnVtYV9pbml0LmFyZ3R5cGVzID0gW10KbGliLmdnbWxfbnVtYV9pbml0LnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBib29sICAgIGdnbWxfaXNfbnVtYSh2b2lkKTsgLy8gdHJ1ZSBpZiBpbml0IGRldGVjdGVkIHRoYXQgc3lzdGVtIGhhcyA+MSBOVU1BIG5vZGUKZGVmIGdnbWxfaXNfbnVtYSgpIC0+IGJvb2w6CiAgICByZXR1cm4gbGliLmdnbWxfaXNfbnVtYSgpCgoKbGliLmdnbWxfaXNfbnVtYS5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX2lzX251bWEucmVzdHlwZSA9IGN0eXBlcy5jX2Jvb2wKCgojIEdHTUxfQVBJIHZvaWQgICAgZ2dtbF9wcmludF9vYmplY3QgKGNvbnN0IHN0cnVjdCBnZ21sX29iamVjdCAqIG9iaik7CmRlZiBnZ21sX3ByaW50X29iamVjdChvYmo6IGdnbWxfb2JqZWN0X3ApOgogICAgcmV0dXJuIGxpYi5nZ21sX3ByaW50X29iamVjdChvYmopCgoKbGliLmdnbWxfcHJpbnRfb2JqZWN0LmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfb2JqZWN0KV0KbGliLmdnbWxfcHJpbnRfb2JqZWN0LnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSB2b2lkICAgIGdnbWxfcHJpbnRfb2JqZWN0cyhjb25zdCBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4KTsKZGVmIGdnbWxfcHJpbnRfb2JqZWN0cyhjdHg6IGdnbWxfY29udGV4dF9wKToKICAgIHJldHVybiBsaWIuZ2dtbF9wcmludF9vYmplY3RzKGN0eCkKCgpsaWIuZ2dtbF9wcmludF9vYmplY3RzLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wXQpsaWIuZ2dtbF9wcmludF9vYmplY3RzLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBpbnQ2NF90IGdnbWxfbmVsZW1lbnRzICAgKGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvcik7CmRlZiBnZ21sX25lbGVtZW50cygKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBpbnQ6CiAgICAiIiJHZXQgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhIHRlbnNvcgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIG51bWJlciBvZiBlbGVtZW50cyIiIgogICAgcmV0dXJuIGxpYi5nZ21sX25lbGVtZW50cyh0ZW5zb3IpCgoKbGliLmdnbWxfbmVsZW1lbnRzLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfbmVsZW1lbnRzLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQ2NAoKCiMgR0dNTF9BUEkgaW50NjRfdCBnZ21sX25yb3dzICAgICAgIChjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9ucm93cygKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBpbnQ6CiAgICAiIiJHZXQgdGhlIG51bWJlciBvZiByb3dzIGluIGEgdGVuc29yCgogICAgUGFyYW1ldGVyczoKICAgICAgICB0ZW5zb3I6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgbnVtYmVyIG9mIHJvd3MiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9ucm93cyh0ZW5zb3IpCgoKbGliLmdnbWxfbnJvd3MuYXJndHlwZXMgPSBbY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9ucm93cy5yZXN0eXBlID0gY3R5cGVzLmNfaW50NjQKCgojIEdHTUxfQVBJIHNpemVfdCAgZ2dtbF9uYnl0ZXMgICAgICAoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfbmJ5dGVzKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopIC0+IGludDoKICAgICIiIkdldCB0aGUgbnVtYmVyIG9mIGJ5dGVzIHJlcXVpcmVkIHRvIHN0b3JlIHRlbnNvciBkYXRhCgogICAgUGFyYW1ldGVyczoKICAgICAgICB0ZW5zb3I6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgbnVtYmVyIG9mIGJ5dGVzIiIiCiAgICByZXR1cm4gbGliLmdnbWxfbmJ5dGVzKHRlbnNvcikKCgpsaWIuZ2dtbF9uYnl0ZXMuYXJndHlwZXMgPSBbY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9uYnl0ZXMucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90ICBnZ21sX25ieXRlc19wYWQgIChjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOyAvLyBzYW1lIGFzIGdnbWxfbmJ5dGVzKCkgYnV0IHBhZGRlZCB0byBHR01MX01FTV9BTElHTgpkZWYgZ2dtbF9uYnl0ZXNfcGFkKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopIC0+IGludDoKICAgICIiIkdldCB0aGUgbnVtYmVyIG9mIGJ5dGVzIHJlcXVpcmVkIHRvIHN0b3JlIHRlbnNvciBkYXRhLCBwYWRkZWQgdG8gR0dNTF9NRU1fQUxJR04KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHRlbnNvcjogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBudW1iZXIgb2YgYnl0ZXMiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9uYnl0ZXNfcGFkKHRlbnNvcikKCgpsaWIuZ2dtbF9uYnl0ZXNfcGFkLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfbmJ5dGVzX3BhZC5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyBHR01MX0FQSSBzaXplX3QgIGdnbWxfbmJ5dGVzX3NwbGl0KGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgaW50IG5yb3dzX3NwbGl0KTsKZGVmIGdnbWxfbmJ5dGVzX3NwbGl0KAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAogICAgbnJvd3Nfc3BsaXQ6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfbmJ5dGVzX3NwbGl0KHRlbnNvciwgbnJvd3Nfc3BsaXQpCgoKbGliLmdnbWxfbmJ5dGVzX3NwbGl0LmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwgY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF9uYnl0ZXNfc3BsaXQucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgaW50ICAgICBnZ21sX2JsY2tfc2l6ZSAoZW51bSBnZ21sX3R5cGUgdHlwZSk7CmRlZiBnZ21sX2JsY2tfc2l6ZSh0eXBlOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0pIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9ibGNrX3NpemUodHlwZSkKCgpsaWIuZ2dtbF9ibGNrX3NpemUuYXJndHlwZXMgPSBbY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF9ibGNrX3NpemUucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgc2l6ZV90ICBnZ21sX3R5cGVfc2l6ZSAoZW51bSBnZ21sX3R5cGUgdHlwZSk7IC8vIHNpemUgaW4gYnl0ZXMgZm9yIGFsbCBlbGVtZW50cyBpbiBhIGJsb2NrCmRlZiBnZ21sX3R5cGVfc2l6ZSh0eXBlOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0pIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF90eXBlX3NpemUodHlwZSkKCgpsaWIuZ2dtbF90eXBlX3NpemUuYXJndHlwZXMgPSBbY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF90eXBlX3NpemUucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgZmxvYXQgICBnZ21sX3R5cGVfc2l6ZWYoZW51bSBnZ21sX3R5cGUgdHlwZSk7IC8vIGdnbWxfdHlwZV9zaXplKCkvZ2dtbF9ibGNrX3NpemUoKSBhcyBmbG9hdApkZWYgZ2dtbF90eXBlX3NpemVmKHR5cGU6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSkgLT4gZmxvYXQ6CiAgICByZXR1cm4gbGliLmdnbWxfdHlwZV9zaXplZih0eXBlKQoKCmxpYi5nZ21sX3R5cGVfc2l6ZWYuYXJndHlwZXMgPSBbY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF90eXBlX3NpemVmLnJlc3R5cGUgPSBjdHlwZXMuY19mbG9hdAoKCiMgR0dNTF9BUEkgY29uc3QgY2hhciAqIGdnbWxfdHlwZV9uYW1lKGVudW0gZ2dtbF90eXBlIHR5cGUpOwpkZWYgZ2dtbF90eXBlX25hbWUodHlwZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdKSAtPiBieXRlczoKICAgIHJldHVybiBsaWIuZ2dtbF90eXBlX25hbWUodHlwZSkKCgpsaWIuZ2dtbF90eXBlX25hbWUuYXJndHlwZXMgPSBbY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF90eXBlX25hbWUucmVzdHlwZSA9IGN0eXBlcy5jX2NoYXJfcAoKCiMgR0dNTF9BUEkgY29uc3QgY2hhciAqIGdnbWxfb3BfbmFtZSAgKGVudW0gZ2dtbF9vcCAgIG9wKTsKZGVmIGdnbWxfb3BfbmFtZShvcDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdKSAtPiBieXRlczoKICAgIHJldHVybiBsaWIuZ2dtbF9vcF9uYW1lKG9wKQoKCmxpYi5nZ21sX29wX25hbWUuYXJndHlwZXMgPSBbY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF9vcF9uYW1lLnJlc3R5cGUgPSBjdHlwZXMuY19jaGFyX3AKCgojIEdHTUxfQVBJIGNvbnN0IGNoYXIgKiBnZ21sX29wX3N5bWJvbChlbnVtIGdnbWxfb3AgICBvcCk7CmRlZiBnZ21sX29wX3N5bWJvbChvcDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdKSAtPiBieXRlczoKICAgIHJldHVybiBsaWIuZ2dtbF9vcF9zeW1ib2wob3ApCgoKbGliLmdnbWxfb3Bfc3ltYm9sLmFyZ3R5cGVzID0gW2N0eXBlcy5jX2ludF0KbGliLmdnbWxfb3Bfc3ltYm9sLnJlc3R5cGUgPSBjdHlwZXMuY19jaGFyX3AKCgojIEdHTUxfQVBJIGNvbnN0IGNoYXIgKiBnZ21sX3VuYXJ5X29wX25hbWUoZW51bSBnZ21sX3VuYXJ5X29wIG9wKTsKZGVmIGdnbWxfdW5hcnlfb3BfbmFtZShvcDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdKSAtPiBieXRlczoKICAgIHJldHVybiBsaWIuZ2dtbF91bmFyeV9vcF9uYW1lKG9wKQoKCmxpYi5nZ21sX3VuYXJ5X29wX25hbWUuYXJndHlwZXMgPSBbY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF91bmFyeV9vcF9uYW1lLnJlc3R5cGUgPSBjdHlwZXMuY19jaGFyX3AKCgojIEdHTUxfQVBJIGNvbnN0IGNoYXIgKiBnZ21sX29wX2Rlc2MoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdCk7IC8vIHVuYXJ5IG9yIG9wIG5hbWUKZGVmIGdnbWxfb3BfZGVzYygKICAgIHQ6IGdnbWxfdGVuc29yX3AsCikgLT4gYnl0ZXM6CiAgICByZXR1cm4gbGliLmdnbWxfb3BfZGVzYyh0KQoKCmxpYi5nZ21sX29wX2Rlc2MuYXJndHlwZXMgPSBbY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9vcF9kZXNjLnJlc3R5cGUgPSBjdHlwZXMuY19jaGFyX3AKCgojIEdHTUxfQVBJIHNpemVfdCAgZ2dtbF9lbGVtZW50X3NpemUoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfZWxlbWVudF9zaXplKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9lbGVtZW50X3NpemUodGVuc29yKQoKCmxpYi5nZ21sX2VsZW1lbnRfc2l6ZS5hcmd0eXBlcyA9IFtjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX2VsZW1lbnRfc2l6ZS5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyBHR01MX0FQSSBib29sICAgIGdnbWxfaXNfcXVhbnRpemVkKGVudW0gZ2dtbF90eXBlIHR5cGUpOwpkZWYgZ2dtbF9pc19xdWFudGl6ZWQodHlwZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdKSAtPiBib29sOgogICAgcmV0dXJuIGxpYi5nZ21sX2lzX3F1YW50aXplZCh0eXBlKQoKCmxpYi5nZ21sX2lzX3F1YW50aXplZC5hcmd0eXBlcyA9IFtjdHlwZXMuY19pbnRdCmxpYi5nZ21sX2lzX3F1YW50aXplZC5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMgLy8gVE9ETzogdGVtcG9yYXJ5IHVudGlsIG1vZGVsIGxvYWRpbmcgb2YgZ2dtbCBleGFtcGxlcyBpcyByZWZhY3RvcmVkCiMgR0dNTF9BUEkgZW51bSBnZ21sX3R5cGUgZ2dtbF9mdHlwZV90b19nZ21sX3R5cGUoZW51bSBnZ21sX2Z0eXBlIGZ0eXBlKTsKZGVmIGdnbWxfZnR5cGVfdG9fZ2dtbF90eXBlKGZ0eXBlOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0pIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9mdHlwZV90b19nZ21sX3R5cGUoZnR5cGUpCgoKbGliLmdnbWxfZnR5cGVfdG9fZ2dtbF90eXBlLmFyZ3R5cGVzID0gW2N0eXBlcy5jX2ludF0KbGliLmdnbWxfZnR5cGVfdG9fZ2dtbF90eXBlLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQKCgojIEdHTUxfQVBJIGJvb2wgZ2dtbF9pc190cmFuc3Bvc2VkKGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvcik7CmRlZiBnZ21sX2lzX3RyYW5zcG9zZWQoCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCikgLT4gYm9vbDoKICAgICIiIkNoZWNrIGlmIGEgdGVuc29yIGlzIHRyYW5zcG9zZWQKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHRlbnNvcjogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBUcnVlIGlmIHRlbnNvciBpcyB0cmFuc3Bvc2VkIGVsc2UgRmFsc2UiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9pc190cmFuc3Bvc2VkKHRlbnNvcikKCgpsaWIuZ2dtbF9pc190cmFuc3Bvc2VkLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfaXNfdHJhbnNwb3NlZC5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMgR0dNTF9BUEkgYm9vbCBnZ21sX2lzX2NvbnRpZ3VvdXMoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfaXNfY29udGlndW91cygKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBib29sOgogICAgIiIiQ2hlY2sgaWYgYSB0ZW5zb3IgaXMgY29udGlndW91cwoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFRydWUgaWYgdGVuc29yIGlzIGNvbnRpZ3VvdXMgZWxzZSBGYWxzZSIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2lzX2NvbnRpZ3VvdXModGVuc29yKQoKCmxpYi5nZ21sX2lzX2NvbnRpZ3VvdXMuYXJndHlwZXMgPSBbY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9pc19jb250aWd1b3VzLnJlc3R5cGUgPSBjdHlwZXMuY19ib29sCgoKIyBHR01MX0FQSSBib29sIGdnbWxfaXNfcGVybXV0ZWQgIChjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9pc19wZXJtdXRlZCgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBib29sOgogICAgIiIiQ2hlY2sgaWYgYSB0ZW5zb3IgaXMgcGVybXV0ZWQKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHRlbnNvcjogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBUcnVlIGlmIHRlbnNvciBpcyBwZXJtdXRlZCBlbHNlIEZhbHNlIiIiCiAgICByZXR1cm4gbGliLmdnbWxfaXNfcGVybXV0ZWQodGVuc29yKQoKCmxpYi5nZ21sX2lzX3Blcm11dGVkLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfaXNfcGVybXV0ZWQucmVzdHlwZSA9IGN0eXBlcy5jX2Jvb2wKCgojIEdHTUxfQVBJIGJvb2wgZ2dtbF9hcmVfc2FtZV9zaGFwZShjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0MCwgY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdDEpOwpkZWYgZ2dtbF9hcmVfc2FtZV9zaGFwZSgKICAgIHQwOiBnZ21sX3RlbnNvcl9wLAogICAgdDE6IGdnbWxfdGVuc29yX3AsCikgLT4gYm9vbDoKICAgICIiIkNoZWNrIGlmIHR3byB0ZW5zb3JzIGhhdmUgdGhlIHNhbWUgc2hhcGUKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHQwOiB0ZW5zb3IgMAogICAgICAgIHQxOiB0ZW5zb3IgMQoKICAgIFJldHVybnM6CiAgICAgICAgVHJ1ZSBpZiB0ZW5zb3JzIGhhdmUgdGhlIHNhbWUgc2hhcGUgZWxzZSBGYWxzZSIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2FyZV9zYW1lX3NoYXBlKHQwLCB0MSkKCgpsaWIuZ2dtbF9hcmVfc2FtZV9zaGFwZS5hcmd0eXBlcyA9IFsKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9hcmVfc2FtZV9zaGFwZS5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMgLy8gdXNlIHRoaXMgdG8gY29tcHV0ZSB0aGUgbWVtb3J5IG92ZXJoZWFkIG9mIGEgdGVuc29yCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfdGVuc29yX292ZXJoZWFkKHZvaWQpOwpkZWYgZ2dtbF90ZW5zb3Jfb3ZlcmhlYWQoKSAtPiBpbnQ6CiAgICAiIiJPdmVyaGVhZCByZXF1aXJlZCBmb3IgYSB0ZW5zb3Igc3RydWN0IGluIGJ5dGVzCgogICAgUmV0dXJuczoKICAgICAgICBzaXplIG9mIHRlbnNvciBzdHJ1Y3QgaW4gYnl0ZXMiIiIKICAgIHJldHVybiBsaWIuZ2dtbF90ZW5zb3Jfb3ZlcmhlYWQoKQoKCmxpYi5nZ21sX3RlbnNvcl9vdmVyaGVhZC5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX3RlbnNvcl9vdmVyaGVhZC5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgojIC8vIG1haW4KCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBnZ21sX2luaXQoc3RydWN0IGdnbWxfaW5pdF9wYXJhbXMgcGFyYW1zKTsKZGVmIGdnbWxfaW5pdCgKICAgIHBhcmFtczogZ2dtbF9pbml0X3BhcmFtcywKKSAtPiBnZ21sX2NvbnRleHRfcDoKICAgICIiIkluc3RhbnRpYXRlIGEgbmV3IGdnbWwgY29udGV4dCB3aXRoIHBhcmFtcy4KCiAgICBZb3UgbXVzdCBjYWxsIGBnZ21sX2ZyZWUoKWAgdG8gZnJlZSB0aGUgY29udGV4dC4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHBhcmFtczogZ2dtbCBpbml0IHBhcmFtcwoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX2NvbnRleHQiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9pbml0KHBhcmFtcykKCgpsaWIuZ2dtbF9pbml0LmFyZ3R5cGVzID0gW2dnbWxfaW5pdF9wYXJhbXNdCmxpYi5nZ21sX2luaXQucmVzdHlwZSA9IGdnbWxfY29udGV4dF9wCgoKIyBHR01MX0FQSSB2b2lkICAgICAgICAgICAgICAgICAgZ2dtbF9mcmVlKHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgpOwpkZWYgZ2dtbF9mcmVlKGN0eDogZ2dtbF9jb250ZXh0X3ApOgogICAgIiIiRnJlZSB0aGUgZ2dtbCBjb250ZXh0LgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9mcmVlKGN0eCkKCgpsaWIuZ2dtbF9mcmVlLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wXQpsaWIuZ2dtbF9mcmVlLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBzaXplX3QgIGdnbWxfdXNlZF9tZW0oY29uc3Qgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCk7CmRlZiBnZ21sX3VzZWRfbWVtKGN0eDogZ2dtbF9jb250ZXh0X3ApIC0+IGludDoKICAgICIiIlJldHVybiB0aGUgYW1vdW50IG9mIG1lbW9yeSB1c2VkIGJ5IHRoZSBnZ21sIGNvbnRleHQgaW4gYnl0ZXMuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAoKICAgIFJldHVybnM6CiAgICAgICAgYW1vdW50IG9mIG1lbW9yeSB1c2VkIGluIGJ5dGVzIiIiCiAgICByZXR1cm4gbGliLmdnbWxfdXNlZF9tZW0oY3R4KQoKCmxpYi5nZ21sX3VzZWRfbWVtLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wXQpsaWIuZ2dtbF91c2VkX21lbS5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyBHR01MX0FQSSBzaXplX3QgIGdnbWxfc2V0X3NjcmF0Y2goc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwgc3RydWN0IGdnbWxfc2NyYXRjaCBzY3JhdGNoKTsKZGVmIGdnbWxfc2V0X3NjcmF0Y2goY3R4OiBnZ21sX2NvbnRleHRfcCwgc2NyYXRjaDogZ2dtbF9zY3JhdGNoKSAtPiBpbnQ6CiAgICAiIiJTZXQgdGhlIHNjcmF0Y2ggYnVmZmVyIGZvciB0aGUgZ2dtbCBjb250ZXh0LiIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3NldF9zY3JhdGNoKGN0eCwgc2NyYXRjaCkKCgpsaWIuZ2dtbF9zZXRfc2NyYXRjaC5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgZ2dtbF9zY3JhdGNoXQpsaWIuZ2dtbF9zZXRfc2NyYXRjaC5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyBHR01MX0FQSSBib29sICAgIGdnbWxfZ2V0X25vX2FsbG9jKHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgpOwpkZWYgZ2dtbF9nZXRfbm9fYWxsb2MoY3R4OiBnZ21sX2NvbnRleHRfcCkgLT4gYm9vbDoKICAgICIiIlJldHVybiB0aGUgbm9fYWxsb2MgZmxhZyBmb3IgdGhlIGdnbWwgY29udGV4dC4iIiIKICAgIHJldHVybiBsaWIuZ2dtbF9nZXRfbm9fYWxsb2MoY3R4KQoKCmxpYi5nZ21sX2dldF9ub19hbGxvYy5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcF0KbGliLmdnbWxfZ2V0X25vX2FsbG9jLnJlc3R5cGUgPSBjdHlwZXMuY19ib29sCgoKIyBHR01MX0FQSSB2b2lkICAgIGdnbWxfc2V0X25vX2FsbG9jKHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsIGJvb2wgbm9fYWxsb2MpOwpkZWYgZ2dtbF9zZXRfbm9fYWxsb2MoY3R4OiBnZ21sX2NvbnRleHRfcCwgbm9fYWxsb2M6IFVuaW9uW2N0eXBlcy5jX2Jvb2wsIGJvb2xdKToKICAgICIiIlNldCB0aGUgbm9fYWxsb2MgZmxhZyBmb3IgdGhlIGdnbWwgY29udGV4dC4iIiIKICAgIHJldHVybiBsaWIuZ2dtbF9zZXRfbm9fYWxsb2MoY3R4LCBub19hbGxvYykKCgpsaWIuZ2dtbF9zZXRfbm9fYWxsb2MuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5jX2Jvb2xdCmxpYi5nZ21sX3NldF9ub19hbGxvYy5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCAqICBnZ21sX2dldF9tZW1fYnVmZmVyICAgICAoc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCk7CmRlZiBnZ21sX2dldF9tZW1fYnVmZmVyKGN0eDogZ2dtbF9jb250ZXh0X3ApIC0+IE9wdGlvbmFsW2N0eXBlcy5jX3ZvaWRfcF06CiAgICAiIiJSZXR1cm4gdGhlIG1lbW9yeSBidWZmZXIgZm9yIHRoZSBnZ21sIGNvbnRleHQuIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZ2V0X21lbV9idWZmZXIoY3R4KQoKCmxpYi5nZ21sX2dldF9tZW1fYnVmZmVyLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wXQpsaWIuZ2dtbF9nZXRfbWVtX2J1ZmZlci5yZXN0eXBlID0gY3R5cGVzLmNfdm9pZF9wCgoKIyBHR01MX0FQSSBzaXplX3QgIGdnbWxfZ2V0X21lbV9zaXplICAgICAgIChzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4KTsKZGVmIGdnbWxfZ2V0X21lbV9zaXplKGN0eDogZ2dtbF9jb250ZXh0X3ApIC0+IGludDoKICAgICIiIlJldHVybiB0aGUgc2l6ZSBvZiB0aGUgbWVtb3J5IGJ1ZmZlciBmb3IgdGhlIGdnbWwgY29udGV4dCBpbiBieXRlcy4iIiIKICAgIHJldHVybiBsaWIuZ2dtbF9nZXRfbWVtX3NpemUoY3R4KQoKCmxpYi5nZ21sX2dldF9tZW1fc2l6ZS5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcF0KbGliLmdnbWxfZ2V0X21lbV9zaXplLnJlc3R5cGUgPSBjdHlwZXMuY19zaXplX3QKCgojIEdHTUxfQVBJIHNpemVfdCAgZ2dtbF9nZXRfbWF4X3RlbnNvcl9zaXplKGNvbnN0IHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgpOwpkZWYgZ2dtbF9nZXRfbWF4X3RlbnNvcl9zaXplKGN0eDogZ2dtbF9jb250ZXh0X3ApIC0+IGludDoKICAgICIiIlJldHVybiB0aGUgbWF4aW11bSBzaXplIG9mIGEgdGVuc29yIGluIGJ5dGVzLiIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dldF9tYXhfdGVuc29yX3NpemUoY3R4KQoKCmxpYi5nZ21sX2dldF9tYXhfdGVuc29yX3NpemUuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3BdCmxpYi5nZ21sX2dldF9tYXhfdGVuc29yX3NpemUucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9uZXdfdGVuc29yKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIGVudW0gICBnZ21sX3R5cGUgdHlwZSwKIyAgICAgICAgIGludCAgICBuX2RpbXMsCiMgICAgICAgICBjb25zdCBpbnQ2NF90ICpuZSk7CmRlZiBnZ21sX25ld190ZW5zb3IoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgdHlwZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbl9kaW1zOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBuZTogQ0ludDY0QXJyYXksCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkNyZWF0ZSBhIG5ldyB0ZW5zb3Igd2l0aCB0aGUgZ2l2ZW4gdHlwZSwgbnVtYmVyIG9mIGRpbWVuc2lvbnMsIGFuZCBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBkaW1lbnNpb24uCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIHR5cGU6IGdnbWwgdHlwZQogICAgICAgIG5fZGltczogbnVtYmVyIG9mIGRpbWVuc2lvbnMKICAgICAgICBuZSAoY3R5cGVzLkFycmF5W2N0eXBlcy5jX2ludDY0XSk6IG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIGRpbWVuc2lvbiAoYXJyYXkgb2YgbGVuZ3RoIG5fZGltcykKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9uZXdfdGVuc29yKGN0eCwgdHlwZSwgbl9kaW1zLCBuZSkKCgpsaWIuZ2dtbF9uZXdfdGVuc29yLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19pbnQ2NCksCl0KbGliLmdnbWxfbmV3X3RlbnNvci5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX25ld190ZW5zb3JfMWQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgZW51bSAgIGdnbWxfdHlwZSB0eXBlLAojICAgICAgICAgaW50NjRfdCBuZTApOwpkZWYgZ2dtbF9uZXdfdGVuc29yXzFkKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwgdHlwZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLCBuZTA6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkNyZWF0ZSBhIG5ldyAxLWRpbWVuc2lvbmFsIHRlbnNvciB3aXRoIHRoZSBnaXZlbiB0eXBlIGFuZCBudW1iZXIgb2YgZWxlbWVudHMuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIHR5cGU6IGdnbWwgdHlwZQogICAgICAgIG5lMDogbnVtYmVyIG9mIGVsZW1lbnRzIGluIGRpbWVuc2lvbiAwCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfbmV3X3RlbnNvcl8xZChjdHgsIHR5cGUsIG5lMCkKCgpsaWIuZ2dtbF9uZXdfdGVuc29yXzFkLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuY19pbnQsIGN0eXBlcy5jX2ludDY0XQpsaWIuZ2dtbF9uZXdfdGVuc29yXzFkLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfbmV3X3RlbnNvcl8yZCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBlbnVtICAgZ2dtbF90eXBlIHR5cGUsCiMgICAgICAgICBpbnQ2NF90IG5lMCwKIyAgICAgICAgIGludDY0X3QgbmUxKTsKZGVmIGdnbWxfbmV3X3RlbnNvcl8yZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICB0eXBlOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBuZTA6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAogICAgbmUxOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQ3JlYXRlIGEgbmV3IDItZGltZW5zaW9uYWwgdGVuc29yIHdpdGggdGhlIGdpdmVuIHR5cGUgYW5kIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIGRpbWVuc2lvbi4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgdHlwZTogZ2dtbCB0eXBlCiAgICAgICAgbmUwOiBudW1iZXIgb2YgZWxlbWVudHMgaW4gZGltZW5zaW9uIDAKICAgICAgICBuZTE6IG51bWJlciBvZiBlbGVtZW50cyBpbiBkaW1lbnNpb24gMQoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX25ld190ZW5zb3JfMmQoY3R4LCB0eXBlLCBuZTAsIG5lMSkKCgpsaWIuZ2dtbF9uZXdfdGVuc29yXzJkLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX2ludDY0LApdCmxpYi5nZ21sX25ld190ZW5zb3JfMmQucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9uZXdfdGVuc29yXzNkKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIGVudW0gICBnZ21sX3R5cGUgdHlwZSwKIyAgICAgICAgIGludDY0X3QgbmUwLAojICAgICAgICAgaW50NjRfdCBuZTEsCiMgICAgICAgICBpbnQ2NF90IG5lMik7CmRlZiBnZ21sX25ld190ZW5zb3JfM2QoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgdHlwZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbmUwOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKICAgIG5lMTogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuZTI6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJDcmVhdGUgYSBuZXcgMy1kaW1lbnNpb25hbCB0ZW5zb3Igd2l0aCB0aGUgZ2l2ZW4gdHlwZSBhbmQgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGVhY2ggZGltZW5zaW9uLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICB0eXBlOiBnZ21sIHR5cGUKICAgICAgICBuZTA6IG51bWJlciBvZiBlbGVtZW50cyBpbiBkaW1lbnNpb24gMAogICAgICAgIG5lMTogbnVtYmVyIG9mIGVsZW1lbnRzIGluIGRpbWVuc2lvbiAxCiAgICAgICAgbmUyOiBudW1iZXIgb2YgZWxlbWVudHMgaW4gZGltZW5zaW9uIDIKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9uZXdfdGVuc29yXzNkKGN0eCwgdHlwZSwgbmUwLCBuZTEsIG5lMikKCgpsaWIuZ2dtbF9uZXdfdGVuc29yXzNkLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfbmV3X3RlbnNvcl8zZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX25ld190ZW5zb3JfNGQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgZW51bSAgIGdnbWxfdHlwZSB0eXBlLAojICAgICAgICAgaW50NjRfdCBuZTAsCiMgICAgICAgICBpbnQ2NF90IG5lMSwKIyAgICAgICAgIGludDY0X3QgbmUyLAojICAgICAgICAgaW50NjRfdCBuZTMpOwpkZWYgZ2dtbF9uZXdfdGVuc29yXzRkKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIHR5cGU6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIG5lMDogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuZTE6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAogICAgbmUyOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKICAgIG5lMzogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkNyZWF0ZSBhIG5ldyA0LWRpbWVuc2lvbmFsIHRlbnNvciB3aXRoIHRoZSBnaXZlbiB0eXBlIGFuZCBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBkaW1lbnNpb24uCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIHR5cGU6IGdnbWwgdHlwZQogICAgICAgIG5lMDogbnVtYmVyIG9mIGVsZW1lbnRzIGluIGRpbWVuc2lvbiAwCiAgICAgICAgbmUxOiBudW1iZXIgb2YgZWxlbWVudHMgaW4gZGltZW5zaW9uIDEKICAgICAgICBuZTI6IG51bWJlciBvZiBlbGVtZW50cyBpbiBkaW1lbnNpb24gMgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX25ld190ZW5zb3JfNGQoY3R4LCB0eXBlLCBuZTAsIG5lMSwgbmUyLCBuZTMpCgoKbGliLmdnbWxfbmV3X3RlbnNvcl80ZC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50NjQsCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfbmV3X3RlbnNvcl80ZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX25ld19pMzIoc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwgaW50MzJfdCB2YWx1ZSk7CmRlZiBnZ21sX25ld19pMzIoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLCB2YWx1ZTogVW5pb25bY3R5cGVzLmNfaW50MzIsIGludF0KKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQ3JlYXRlIGEgMSBlbGVtZW50IHRlbnNvciB3aXRoIHRoZSBnaXZlbiBpbnRlZ2VyIHZhbHVlLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICB2YWx1ZTogaW50ZWdlciB2YWx1ZQoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX25ld19pMzIoY3R4LCB2YWx1ZSkKCgpsaWIuZ2dtbF9uZXdfaTMyLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuY19pbnQzMl0KbGliLmdnbWxfbmV3X2kzMi5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX25ld19mMzIoc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwgZmxvYXQgdmFsdWUpOwpkZWYgZ2dtbF9uZXdfZjMyKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIHZhbHVlOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJDcmVhdGUgYSAxIGVsZW1lbnQgdGVuc29yIHdpdGggdGhlIGdpdmVuIGZsb2F0IHZhbHVlLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICB2YWx1ZTogZmxvYXQgdmFsdWUKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9uZXdfZjMyKGN0eCwgdmFsdWUpCgoKbGliLmdnbWxfbmV3X2YzMi5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgY3R5cGVzLmNfZmxvYXRdCmxpYi5nZ21sX25ld19mMzIucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9kdXBfdGVuc29yIChzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LCBjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBzcmMpOwpkZWYgZ2dtbF9kdXBfdGVuc29yKGN0eDogZ2dtbF9jb250ZXh0X3AsIHNyYzogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkNyZWF0ZSBhIG5ldyB0ZW5zb3Igd2l0aCB0aGUgc2FtZSB0eXBlIGFuZCBkaW1lbnNpb25zIGFzIHRoZSBzb3VyY2UgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBzcmM6IHNvdXJjZSB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9kdXBfdGVuc29yKGN0eCwgc3JjKQoKCmxpYi5nZ21sX2R1cF90ZW5zb3IuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfZHVwX3RlbnNvci5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3ZpZXdfdGVuc29yKHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsIHN0cnVjdCBnZ21sX3RlbnNvciAqIHNyYyk7CmRlZiBnZ21sX3ZpZXdfdGVuc29yKGN0eDogZ2dtbF9jb250ZXh0X3AsIHNyYzogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkNyZWF0ZSBhIG5ldyB0ZW5zb3Igd2l0aCB0aGUgc2FtZSB0eXBlLCBkaW1lbnNpb25zIGFuZCBkYXRhIGFzIHRoZSBzb3VyY2UgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBzcmM6IHNvdXJjZSB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF92aWV3X3RlbnNvcihjdHgsIHNyYykKCgpsaWIuZ2dtbF92aWV3X3RlbnNvci5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF92aWV3X3RlbnNvci5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBDb250ZXh0IHRlbnNvciBlbnVtZXJhdGlvbiBhbmQgbG9va3VwCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9nZXRfZmlyc3RfdGVuc29yKHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgpOwpkZWYgZ2dtbF9nZXRfZmlyc3RfdGVuc29yKGN0eDogZ2dtbF9jb250ZXh0X3ApIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJHZXQgdGhlIGZpcnN0IHRlbnNvciBmcm9tIHRoZSBnZ21sIGNvbnRleHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dldF9maXJzdF90ZW5zb3IoY3R4KQoKCmxpYi5nZ21sX2dldF9maXJzdF90ZW5zb3IuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3BdCmxpYi5nZ21sX2dldF9maXJzdF90ZW5zb3IucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9nZXRfbmV4dF90ZW5zb3IgKHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsIHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvcik7CmRlZiBnZ21sX2dldF9uZXh0X3RlbnNvcihjdHg6IGdnbWxfY29udGV4dF9wLCB0ZW5zb3I6IGdnbWxfdGVuc29yX3ApIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJHZXQgdGhlIG5leHQgdGVuc29yIGZyb20gdGhlIGdnbWwgY29udGV4dC4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9nZXRfbmV4dF90ZW5zb3IoY3R4LCB0ZW5zb3IpCgoKbGliLmdnbWxfZ2V0X25leHRfdGVuc29yLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX2dldF9uZXh0X3RlbnNvci5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2dldF90ZW5zb3Ioc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwgY29uc3QgY2hhciAqIG5hbWUpOwpkZWYgZ2dtbF9nZXRfdGVuc29yKGN0eDogZ2dtbF9jb250ZXh0X3AsIG5hbWU6IGJ5dGVzKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiR2V0IGEgdGVuc29yIGZyb20gdGhlIGdnbWwgY29udGV4dCBieSBuYW1lLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBuYW1lOiBuYW1lIG9mIHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dldF90ZW5zb3IoY3R4LCBuYW1lKQoKCmxpYi5nZ21sX2dldF90ZW5zb3IuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5jX2NoYXJfcF0KbGliLmdnbWxfZ2V0X3RlbnNvci5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3NldF96ZXJvKHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvcik7CmRlZiBnZ21sX3NldF96ZXJvKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJaZXJvIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHRlbnNvcjogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfc2V0X3plcm8odGVuc29yKQoKCmxpYi5nZ21sX3NldF96ZXJvLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfc2V0X3plcm8ucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zZXRfaTMyIChzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IsIGludDMyX3QgdmFsdWUpOwpkZWYgZ2dtbF9zZXRfaTMyKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAogICAgdmFsdWU6IFVuaW9uW2N0eXBlcy5jX2ludDMyLCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJTZXQgYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIHRvIHRoZSBnaXZlbiBpbnRlZ2VyIHZhbHVlLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKICAgICAgICB2YWx1ZTogaW50ZWdlciB2YWx1ZQoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3NldF9pMzIodGVuc29yLCB2YWx1ZSkKCgpsaWIuZ2dtbF9zZXRfaTMyLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwgY3R5cGVzLmNfaW50MzJdCmxpYi5nZ21sX3NldF9pMzIucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zZXRfZjMyIChzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IsIGZsb2F0IHZhbHVlKTsKZGVmIGdnbWxfc2V0X2YzMigKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKICAgIHZhbHVlOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJTZXQgYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIHRvIHRoZSBnaXZlbiBmbG9hdCB2YWx1ZS4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHRlbnNvcjogdGVuc29yCiAgICAgICAgdmFsdWU6IGZsb2F0IHZhbHVlCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfc2V0X2YzMih0ZW5zb3IsIHZhbHVlKQoKCmxpYi5nZ21sX3NldF9mMzIuYXJndHlwZXMgPSBbY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLCBjdHlwZXMuY19mbG9hdF0KbGliLmdnbWxfc2V0X2YzMi5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBDb252ZXJ0cyBhIGZsYXQgaW5kZXggaW50byBjb29yZGluYXRlcwojIEdHTUxfQVBJIHZvaWQgICAgZ2dtbF91bnJhdmVsX2luZGV4KGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgaW50NjRfdCBpLCBpbnQ2NF90ICogaTAsIGludDY0X3QgKiBpMSwgaW50NjRfdCAqIGkyLCBpbnQ2NF90ICogaTMpOwpkZWYgZ2dtbF91bnJhdmVsX2luZGV4KAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAogICAgaTogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBpMCwgICMgdHlwZTogImN0eXBlcy5fUG9pbnRlcihjdHlwZXMuY19pbnQ2NCkiICMgdHlwZTogaWdub3JlCiAgICBpMSwgICMgdHlwZTogImN0eXBlcy5fUG9pbnRlcihjdHlwZXMuY19pbnQ2NCkiICMgdHlwZTogaWdub3JlCiAgICBpMiwgICMgdHlwZTogImN0eXBlcy5fUG9pbnRlcihjdHlwZXMuY19pbnQ2NCkiICMgdHlwZTogaWdub3JlCiAgICBpMywgICMgdHlwZTogImN0eXBlcy5fUG9pbnRlcihjdHlwZXMuY19pbnQ2NCkiICMgdHlwZTogaWdub3JlCik6CiAgICAiIiJDb252ZXJ0IGEgZmxhdCBpbmRleCBpbnRvIGNvb3JkaW5hdGVzLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKICAgICAgICBpOiBmbGF0IGluZGV4CiAgICAgICAgaTA6IHBvaW50ZXIgdG8gaW5kZXggMAogICAgICAgIGkxOiBwb2ludGVyIHRvIGluZGV4IDEKICAgICAgICBpMjogcG9pbnRlciB0byBpbmRleCAyCiAgICAgICAgaTM6IHBvaW50ZXIgdG8gaW5kZXggMyIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3VucmF2ZWxfaW5kZXgodGVuc29yLCBpLCBpMCwgaTEsIGkyLCBpMykKCgpsaWIuZ2dtbF91bnJhdmVsX2luZGV4LmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50NjQsCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19pbnQ2NCksCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19pbnQ2NCksCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19pbnQ2NCksCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19pbnQ2NCksCl0KbGliLmdnbWxfdW5yYXZlbF9pbmRleC5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgaW50MzJfdCBnZ21sX2dldF9pMzJfMWQoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yLCBpbnQgaSk7CmRlZiBnZ21sX2dldF9pMzJfMWQoCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCiAgICBpOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gaW50OgogICAgIiIiR2V0IHRoZSBpbnRlZ2VyIHZhbHVlIG9mIHRoZSBpLXRoIGVsZW1lbnQgaW4gYSAxLWRpbWVuc2lvbmFsIHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHRlbnNvcjogdGVuc29yCiAgICAgICAgaTogaW5kZXggb2YgZWxlbWVudAoKICAgIFJldHVybnM6CiAgICAgICAgaW50ZWdlciB2YWx1ZSBvZiBlbGVtZW50IGF0IGluZGV4IGkiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9nZXRfaTMyXzFkKHRlbnNvciwgaSkKCgpsaWIuZ2dtbF9nZXRfaTMyXzFkLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwgY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF9nZXRfaTMyXzFkLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQzMgoKCiMgR0dNTF9BUEkgdm9pZCAgICBnZ21sX3NldF9pMzJfMWQoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yLCBpbnQgaSwgaW50MzJfdCB2YWx1ZSk7CmRlZiBnZ21sX3NldF9pMzJfMWQoCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCiAgICBpOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICB2YWx1ZTogVW5pb25bY3R5cGVzLmNfaW50MzIsIGludF0sCik6CiAgICAiIiJTZXQgdGhlIGludGVnZXIgdmFsdWUgb2YgdGhlIGktdGggZWxlbWVudCBpbiBhIDEtZGltZW5zaW9uYWwgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKICAgICAgICBpOiBpbmRleCBvZiBlbGVtZW50CiAgICAgICAgdmFsdWU6IGludGVnZXIgdmFsdWUgdG8gc2V0IGVsZW1lbnQgdG8iIiIKICAgIHJldHVybiBsaWIuZ2dtbF9zZXRfaTMyXzFkKHRlbnNvciwgaSwgdmFsdWUpCgoKbGliLmdnbWxfc2V0X2kzMl8xZC5hcmd0eXBlcyA9IFsKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludDMyLApdCmxpYi5nZ21sX3NldF9pMzJfMWQucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIGludDMyX3QgZ2dtbF9nZXRfaTMyX25kKGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgaW50IGkwLCBpbnQgaTEsIGludCBpMiwgaW50IGkzKTsKZGVmIGdnbWxfZ2V0X2kzMl9uZCgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKICAgIGkwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBpMTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgaTI6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGkzOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gaW50OgogICAgIiIiR2V0IHRoZSBpbnRlZ2VyIHZhbHVlIG9mIHRoZSBlbGVtZW50IGF0IHRoZSBnaXZlbiBjb29yZGluYXRlcyBpbiBhIDQtZGltZW5zaW9uYWwgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKICAgICAgICBpMDogaW5kZXggb2YgZWxlbWVudCBpbiBkaW1lbnNpb24gMAogICAgICAgIGkxOiBpbmRleCBvZiBlbGVtZW50IGluIGRpbWVuc2lvbiAxCiAgICAgICAgaTI6IGluZGV4IG9mIGVsZW1lbnQgaW4gZGltZW5zaW9uIDIKICAgICAgICBpMzogaW5kZXggb2YgZWxlbWVudCBpbiBkaW1lbnNpb24gMwoKICAgIFJldHVybnM6CiAgICAgICAgaW50ZWdlciB2YWx1ZSBvZiBlbGVtZW50IGF0IGNvb3JkaW5hdGVzIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZ2V0X2kzMl9uZCh0ZW5zb3IsIGkwLCBpMSwgaTIsIGkzKQoKCmxpYi5nZ21sX2dldF9pMzJfbmQuYXJndHlwZXMgPSBbCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCl0KbGliLmdnbWxfZ2V0X2kzMl9uZC5yZXN0eXBlID0gY3R5cGVzLmNfaW50MzIKCgojIEdHTUxfQVBJIHZvaWQgICAgZ2dtbF9zZXRfaTMyX25kKGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgaW50IGkwLCBpbnQgaTEsIGludCBpMiwgaW50IGkzLCBpbnQzMl90IHZhbHVlKTsKZGVmIGdnbWxfc2V0X2kzMl9uZCgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKICAgIGkwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBpMTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgaTI6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGkzOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICB2YWx1ZTogVW5pb25bY3R5cGVzLmNfaW50MzIsIGludF0sCik6CiAgICAiIiJTZXQgdGhlIGludGVnZXIgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYXQgdGhlIGdpdmVuIGNvb3JkaW5hdGVzIGluIGEgNC1kaW1lbnNpb25hbCB0ZW5zb3IuCgogICAgUGFyYW1ldGVyczoKICAgICAgICB0ZW5zb3I6IHRlbnNvcgogICAgICAgIGkwOiBpbmRleCBvZiBlbGVtZW50IGluIGRpbWVuc2lvbiAwCiAgICAgICAgaTE6IGluZGV4IG9mIGVsZW1lbnQgaW4gZGltZW5zaW9uIDEKICAgICAgICBpMjogaW5kZXggb2YgZWxlbWVudCBpbiBkaW1lbnNpb24gMgogICAgICAgIGkzOiBpbmRleCBvZiBlbGVtZW50IGluIGRpbWVuc2lvbiAzCiAgICAgICAgdmFsdWU6IGludGVnZXIgdmFsdWUgdG8gc2V0IGVsZW1lbnQgdG8iIiIKICAgIHJldHVybiBsaWIuZ2dtbF9zZXRfaTMyX25kKHRlbnNvciwgaTAsIGkxLCBpMiwgaTMsIHZhbHVlKQoKCmxpYi5nZ21sX3NldF9pMzJfbmQuYXJndHlwZXMgPSBbCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQzMiwKXQpsaWIuZ2dtbF9zZXRfaTMyX25kLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBmbG9hdCAgIGdnbWxfZ2V0X2YzMl8xZChjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IsIGludCBpKTsKZGVmIGdnbWxfZ2V0X2YzMl8xZCgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKICAgIGk6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBmbG9hdDoKICAgICIiIkdldCB0aGUgZmxvYXQgdmFsdWUgb2YgdGhlIGktdGggZWxlbWVudCBpbiBhIDEtZGltZW5zaW9uYWwgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIGZsb2F0IHZhbHVlIG9mIGVsZW1lbnQgYXQgaW5kZXggaSIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dldF9mMzJfMWQodGVuc29yLCBpKQoKCmxpYi5nZ21sX2dldF9mMzJfMWQuYXJndHlwZXMgPSBbY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLCBjdHlwZXMuY19pbnRdCmxpYi5nZ21sX2dldF9mMzJfMWQucmVzdHlwZSA9IGN0eXBlcy5jX2Zsb2F0CgoKIyBHR01MX0FQSSB2b2lkICAgIGdnbWxfc2V0X2YzMl8xZChjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IsIGludCBpLCBmbG9hdCB2YWx1ZSk7CmRlZiBnZ21sX3NldF9mMzJfMWQoCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCiAgICBpOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICB2YWx1ZTogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKKToKICAgICIiIlNldCB0aGUgZmxvYXQgdmFsdWUgb2YgdGhlIGktdGggZWxlbWVudCBpbiBhIDEtZGltZW5zaW9uYWwgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKICAgICAgICBpOiBpbmRleCBvZiBlbGVtZW50CiAgICAgICAgdmFsdWU6IGZsb2F0IHZhbHVlIHRvIHNldCBlbGVtZW50IHRvIiIiCiAgICByZXR1cm4gbGliLmdnbWxfc2V0X2YzMl8xZCh0ZW5zb3IsIGksIHZhbHVlKQoKCmxpYi5nZ21sX3NldF9mMzJfMWQuYXJndHlwZXMgPSBbCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19mbG9hdCwKXQpsaWIuZ2dtbF9zZXRfZjMyXzFkLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBmbG9hdCAgIGdnbWxfZ2V0X2YzMl9uZChjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IsIGludCBpMCwgaW50IGkxLCBpbnQgaTIsIGludCBpMyk7CmRlZiBnZ21sX2dldF9mMzJfbmQoCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCiAgICBpMDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgaTE6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGkyOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBpMzogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGZsb2F0OgogICAgIiIiR2V0IHRoZSBmbG9hdCB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhdCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMgaW4gYSA0LWRpbWVuc2lvbmFsIHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHRlbnNvcjogdGVuc29yCiAgICAgICAgaTA6IGluZGV4IG9mIGVsZW1lbnQgaW4gZGltZW5zaW9uIDAKICAgICAgICBpMTogaW5kZXggb2YgZWxlbWVudCBpbiBkaW1lbnNpb24gMQogICAgICAgIGkyOiBpbmRleCBvZiBlbGVtZW50IGluIGRpbWVuc2lvbiAyCiAgICAgICAgaTM6IGluZGV4IG9mIGVsZW1lbnQgaW4gZGltZW5zaW9uIDMKCiAgICBSZXR1cm5zOgogICAgICAgIGZsb2F0IHZhbHVlIG9mIGVsZW1lbnQgYXQgY29vcmRpbmF0ZXMiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9nZXRfZjMyX25kKHRlbnNvciwgaTAsIGkxLCBpMiwgaTMpCgoKbGliLmdnbWxfZ2V0X2YzMl9uZC5hcmd0eXBlcyA9IFsKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF9nZXRfZjMyX25kLnJlc3R5cGUgPSBjdHlwZXMuY19mbG9hdAoKCiMgR0dNTF9BUEkgdm9pZCAgICBnZ21sX3NldF9mMzJfbmQoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yLCBpbnQgaTAsIGludCBpMSwgaW50IGkyLCBpbnQgaTMsIGZsb2F0IHZhbHVlKTsKZGVmIGdnbWxfc2V0X2YzMl9uZCgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKICAgIGkwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBpMTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgaTI6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGkzOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICB2YWx1ZTogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKKToKICAgICIiIlNldCB0aGUgZmxvYXQgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYXQgdGhlIGdpdmVuIGNvb3JkaW5hdGVzIGluIGEgNC1kaW1lbnNpb25hbCB0ZW5zb3IuCgogICAgUGFyYW1ldGVyczoKICAgICAgICB0ZW5zb3I6IHRlbnNvcgogICAgICAgIGkwOiBpbmRleCBvZiBlbGVtZW50IGluIGRpbWVuc2lvbiAwCiAgICAgICAgaTE6IGluZGV4IG9mIGVsZW1lbnQgaW4gZGltZW5zaW9uIDEKICAgICAgICBpMjogaW5kZXggb2YgZWxlbWVudCBpbiBkaW1lbnNpb24gMgogICAgICAgIGkzOiBpbmRleCBvZiBlbGVtZW50IGluIGRpbWVuc2lvbiAzCiAgICAgICAgdmFsdWU6IGZsb2F0IHZhbHVlIHRvIHNldCBlbGVtZW50IHRvIiIiCiAgICByZXR1cm4gbGliLmdnbWxfc2V0X2YzMl9uZCh0ZW5zb3IsIGkwLCBpMSwgaTIsIGkzLCB2YWx1ZSkKCgpsaWIuZ2dtbF9zZXRfZjMyX25kLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfZmxvYXQsCl0KbGliLmdnbWxfc2V0X2YzMl9uZC5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCAqICBnZ21sX2dldF9kYXRhICAgIChjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9nZXRfZGF0YSgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBPcHRpb25hbFtjdHlwZXMuY192b2lkX3BdOgogICAgIiIiR2V0IHRoZSBkYXRhIHBvaW50ZXIgb2YgYSB0ZW5zb3IuCgogICAgUGFyYW1ldGVyczoKICAgICAgICB0ZW5zb3I6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBkYXRhLCBvciBOb25lIGlmIHRlbnNvciBoYXMgbm8gZGF0YSIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dldF9kYXRhKHRlbnNvcikKCgpsaWIuZ2dtbF9nZXRfZGF0YS5hcmd0eXBlcyA9IFtjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX2dldF9kYXRhLnJlc3R5cGUgPSBjdHlwZXMuY192b2lkX3AKCgojIEdHTUxfQVBJIGZsb2F0ICogZ2dtbF9nZXRfZGF0YV9mMzIoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfZ2V0X2RhdGFfZjMyKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopIC0+IE9wdGlvbmFsW0NGbG9hdEFycmF5XToKICAgICIiIkdldCB0aGUgZGF0YSBwb2ludGVyIG9mIGEgdGVuc29yIGFzIGEgZmxvYXQgYXJyYXkuCgogICAgUGFyYW1ldGVyczoKICAgICAgICB0ZW5zb3I6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgKE9wdGlvbmFsW2N0eXBlcy5BcnJheVtjdHlwZXMuY19mbG9hdF1dKTogYXJyYXkgb2YgZmxvYXQgdG8gZGF0YSwgb3IgTm9uZSBpZiB0ZW5zb3IgaGFzIG5vIGRhdGEKICAgICIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dldF9kYXRhX2YzMih0ZW5zb3IpCgoKbGliLmdnbWxfZ2V0X2RhdGFfZjMyLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfZ2V0X2RhdGFfZjMyLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19mbG9hdCkKCgojIEdHTUxfQVBJIGVudW0gZ2dtbF91bmFyeV9vcCBnZ21sX2dldF91bmFyeV9vcChjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9nZXRfdW5hcnlfb3AoCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCikgLT4gaW50OgogICAgIiIiR2V0IHRoZSB1bmFyeSBvcGVyYXRpb24gb2YgYSB0ZW5zb3IuCgogICAgUGFyYW1ldGVyczoKICAgICAgICB0ZW5zb3I6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgdW5hcnkgb3BlcmF0aW9uIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZ2V0X3VuYXJ5X29wKHRlbnNvcikKCgpsaWIuZ2dtbF9nZXRfdW5hcnlfb3AuYXJndHlwZXMgPSBbY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9nZXRfdW5hcnlfb3AucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgY29uc3QgY2hhciAqICAgICAgICAgZ2dtbF9nZXRfbmFtZShjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9nZXRfbmFtZSgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBieXRlczoKICAgICIiIkdldCB0aGUgbmFtZSBvZiBhIHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHRlbnNvcjogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBuYW1lIG9mIHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dldF9uYW1lKHRlbnNvcikKCgpsaWIuZ2dtbF9nZXRfbmFtZS5hcmd0eXBlcyA9IFtjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX2dldF9uYW1lLnJlc3R5cGUgPSBjdHlwZXMuY19jaGFyX3AKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfc2V0X25hbWUoc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yLCBjb25zdCBjaGFyICogbmFtZSk7CmRlZiBnZ21sX3NldF9uYW1lKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAogICAgbmFtZTogYnl0ZXMsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIlNldCB0aGUgbmFtZSBvZiBhIHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIHRlbnNvcjogdGVuc29yCiAgICAgICAgbmFtZTogbmFtZSB0byBzZXQgdGVuc29yIHRvCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfc2V0X25hbWUodGVuc29yLCBuYW1lKQoKCmxpYi5nZ21sX3NldF9uYW1lLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwgY3R5cGVzLmNfY2hhcl9wXQpsaWIuZ2dtbF9zZXRfbmFtZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2Zvcm1hdF9uYW1lKHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgY29uc3QgY2hhciAqIGZtdCwgLi4uKTsKZGVmIGdnbWxfZm9ybWF0X25hbWUoCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCiAgICBmbXQ6IGJ5dGVzLAogICAgKmFyZ3M6IFNlcXVlbmNlW1VuaW9uW2Jvb2wsIGludCwgZmxvYXQsIHN0cl1dLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJGb3JtYXQgdGhlIG5hbWUgb2YgYSB0ZW5zb3IgdXNpbmcgdGhlIGdpdmVuIGZvcm1hdCBjIHN0cmluZyBhbmQgYXJndW1lbnRzLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgdGVuc29yOiB0ZW5zb3IKICAgICAgICBmbXQ6IGZvcm1hdCBjIHN0cmluZwogICAgICAgIGFyZ3M6IGFyZ3VtZW50cyB0byBmb3JtYXQgc3RyaW5nCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZm9ybWF0X25hbWUodGVuc29yLCBmbXQsICphcmdzKQoKCmxpYi5nZ21sX2Zvcm1hdF9uYW1lLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwgY3R5cGVzLmNfY2hhcl9wXQpsaWIuZ2dtbF9mb3JtYXRfbmFtZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgojIC8vCiMgLy8gb3BlcmF0aW9ucyBvbiB0ZW5zb3JzIHdpdGggYmFja3Byb3BhZ2F0aW9uCiMgLy8KCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfZHVwKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfZHVwKGN0eDogZ2dtbF9jb250ZXh0X3AsIGE6IGdnbWxfdGVuc29yX3ApIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfZHVwKGN0eCwgYSkKCgpsaWIuZ2dtbF9kdXAuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfZHVwLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGluLXBsYWNlLCByZXR1cm5zIHZpZXcoYSkKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2R1cF9pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfZHVwX2lucGxhY2UoY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9kdXBfaW5wbGFjZShjdHgsIGEpCgoKbGliLmdnbWxfZHVwX2lucGxhY2UuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfZHVwX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9hZGQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX2FkZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQWRkIHR3byB0ZW5zb3JzIHRvZ2V0aGVyIGFuZCByZXR1cm4gdGhlIHJlc3VsdC4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogZmlyc3QgdGVuc29yCiAgICAgICAgYjogc2Vjb25kIHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2FkZChjdHgsIGEsIGIpCgoKbGliLmdnbWxfYWRkLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfYWRkLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfYWRkX2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX2FkZF9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJBZGQgdHdvIHRlbnNvcnMgdG9nZXRoZXIgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIGZpcnN0IHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogZmlyc3QgdGVuc29yCiAgICAgICAgYjogc2Vjb25kIHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2FkZF9pbnBsYWNlKGN0eCwgYSwgYikKCgpsaWIuZ2dtbF9hZGRfaW5wbGFjZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2FkZF9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfYWRkX2Nhc3QoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYiwKIyAgICAgICAgIGVudW0gICBnZ21sX3R5cGUgICAgICB0eXBlKTsKZGVmIGdnbWxfYWRkX2Nhc3QoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICB0eXBlOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkFkZCB0d28gdGVuc29ycyB0b2dldGhlciBhbmQgY2FzdCB0aGUgcmVzdWx0IHRvIHRoZSBnaXZlbiB0eXBlLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiBmaXJzdCB0ZW5zb3IKICAgICAgICBiOiBzZWNvbmQgdGVuc29yCiAgICAgICAgdHlwZTogdHlwZSB0byBjYXN0IHJlc3VsdCB0bwoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2FkZF9jYXN0KGN0eCwgYSwgYiwgdHlwZSkKCgpsaWIuZ2dtbF9hZGRfY2FzdC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX2FkZF9jYXN0LnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfYWRkMSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiKTsKZGVmIGdnbWxfYWRkMSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2FkZDEoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX2FkZDEuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9hZGQxLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfYWRkMV9pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9hZGQxX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9hZGQxX2lucGxhY2UoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX2FkZDFfaW5wbGFjZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2FkZDFfaW5wbGFjZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBkc3QgPSBhCiMgLy8gdmlldyhkc3QsIG5iMSwgbmIyLCBuYjMsIG9mZnNldCkgKz0gYgojIC8vIHJldHVybiBkc3QKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2FjYygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG5iMSwKIyAgICAgICAgIHNpemVfdCAgICAgICAgICAgICAgICBuYjIsCiMgICAgICAgICBzaXplX3QgICAgICAgICAgICAgICAgbmIzLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG9mZnNldCk7CmRlZiBnZ21sX2FjYygKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIG5iMTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgbmIyOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBuYjM6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKICAgIG9mZnNldDogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfYWNjKGN0eCwgYSwgYiwgbmIxLCBuYjIsIG5iMywgb2Zmc2V0KQoKCmxpYi5nZ21sX2FjYy5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LApdCmxpYi5nZ21sX2FjYy5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2FjY19pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIsCiMgICAgICAgICBzaXplX3QgICAgICAgICAgICAgICAgbmIxLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG5iMiwKIyAgICAgICAgIHNpemVfdCAgICAgICAgICAgICAgICBuYjMsCiMgICAgICAgICBzaXplX3QgICAgICAgICAgICAgICAgb2Zmc2V0KTsKZGVmIGdnbWxfYWNjX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBuYjE6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKICAgIG5iMjogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgbmIzOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBvZmZzZXQ6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2FjY19pbnBsYWNlKGN0eCwgYSwgYiwgbmIxLCBuYjIsIG5iMywgb2Zmc2V0KQoKCmxpYi5nZ21sX2FjY19pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19zaXplX3QsCiAgICBjdHlwZXMuY19zaXplX3QsCiAgICBjdHlwZXMuY19zaXplX3QsCiAgICBjdHlwZXMuY19zaXplX3QsCl0KbGliLmdnbWxfYWNjX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zdWIoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX3N1YigKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiU3VidHJhY3QgdHdvIHRlbnNvcnMgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiBmaXJzdCB0ZW5zb3IKICAgICAgICBiOiBzZWNvbmQgdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfc3ViKGN0eCwgYSwgYikKCgpsaWIuZ2dtbF9zdWIuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9zdWIucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zdWJfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiKTsKZGVmIGdnbWxfc3ViX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIlN1YnRyYWN0IHR3byB0ZW5zb3JzIGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIHRoZSBmaXJzdCB0ZW5zb3IuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IGZpcnN0IHRlbnNvcgogICAgICAgIGI6IHNlY29uZCB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9zdWJfaW5wbGFjZShjdHgsIGEsIGIpCgoKbGliLmdnbWxfc3ViX2lucGxhY2UuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9zdWJfaW5wbGFjZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX211bCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiKTsKZGVmIGdnbWxfbXVsKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJFbGVtZW50LXdpc2UgbXVsdGlwbHkgdHdvIHRlbnNvcnMgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiBmaXJzdCB0ZW5zb3IKICAgICAgICBiOiBzZWNvbmQgdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfbXVsKGN0eCwgYSwgYikKCgpsaWIuZ2dtbF9tdWwuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9tdWwucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tdWxfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiKTsKZGVmIGdnbWxfbXVsX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkVsZW1lbnQtd2lzZSBtdWx0aXBseSB0d28gdGVuc29ycyBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiB0aGUgZmlyc3QgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiBmaXJzdCB0ZW5zb3IKICAgICAgICBiOiBzZWNvbmQgdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfbXVsX2lucGxhY2UoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX211bF9pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfbXVsX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9kaXYoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX2RpdigKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiRWxlbWVudC13aXNlIGRpdmlkZSB0d28gdGVuc29ycyBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IGZpcnN0IHRlbnNvcgogICAgICAgIGI6IHNlY29uZCB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9kaXYoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX2Rpdi5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2Rpdi5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2Rpdl9pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9kaXZfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiRWxlbWVudC13aXNlIGRpdmlkZSB0d28gdGVuc29ycyBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiB0aGUgZmlyc3QgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiBmaXJzdCB0ZW5zb3IKICAgICAgICBiOiBzZWNvbmQgdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZGl2X2lucGxhY2UoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX2Rpdl9pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfZGl2X2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zcXIoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF9zcXIoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiU3F1YXJlIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3NxcihjdHgsIGEpCgoKbGliLmdnbWxfc3FyLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX3Nxci5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3Nxcl9pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfc3FyX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiU3F1YXJlIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiB0aGUgZmlyc3QgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9zcXJfaW5wbGFjZShjdHgsIGEpCgoKbGliLmdnbWxfc3FyX2lucGxhY2UuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfc3FyX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zcXJ0KAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfc3FydCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJTcXVhcmUgcm9vdCBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9zcXJ0KGN0eCwgYSkKCgpsaWIuZ2dtbF9zcXJ0LmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX3NxcnQucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zcXJ0X2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF9zcXJ0X2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiU3F1YXJlIHJvb3QgYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIHRoZSBmaXJzdCB0ZW5zb3IuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3NxcnRfaW5wbGFjZShjdHgsIGEpCgoKbGliLmdnbWxfc3FydF9pbnBsYWNlLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX3NxcnRfaW5wbGFjZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2xvZygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX2xvZyhjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiVGFrZSB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFuZCByZXR1cm4gdGhlIHJlc3VsdC4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfbG9nKGN0eCwgYSkKCgpsaWIuZ2dtbF9sb2cuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfbG9nLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfbG9nX2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF9sb2dfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJUYWtlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIGZpcnN0IHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfbG9nX2lucGxhY2UoY3R4LCBhKQoKCmxpYi5nZ21sX2xvZ19pbnBsYWNlLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX2xvZ19pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIHJldHVybiBzY2FsYXIKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3N1bSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX3N1bShjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiU3VtIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3N1bShjdHgsIGEpCgoKbGliLmdnbWxfc3VtLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX3N1bS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBzdW1zIGFsb25nIHJvd3MsIHdpdGggaW5wdXQgc2hhcGUgW2EsYixjLGRdIHJldHVybiBzaGFwZSBbMSxiLGMsZF0KIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3N1bV9yb3dzKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfc3VtX3Jvd3MoY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIlN1bSBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYWxvbmcgdGhlIGZpcnN0IGF4aXMgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIHN1bXMgYWxvbmcgcm93cywgd2l0aCBpbnB1dCBzaGFwZSBbYSxiLGMsZF0gcmV0dXJuIHNoYXBlIFsxLGIsYyxkXQoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9zdW1fcm93cyhjdHgsIGEpCgoKbGliLmdnbWxfc3VtX3Jvd3MuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfc3VtX3Jvd3MucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gbWVhbiBhbG9uZyByb3dzCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tZWFuKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfbWVhbihjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiVGFrZSB0aGUgbWVhbiBvZiBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9tZWFuKGN0eCwgYSkKCgpsaWIuZ2dtbF9tZWFuLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX21lYW4ucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gYXJnbWF4IGFsb25nIHJvd3MKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2FyZ21heCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX2FyZ21heChjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiVGFrZSB0aGUgYXJnbWF4IG9mIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgYXJnbWF4IGFsb25nIHJvd3MKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfYXJnbWF4KGN0eCwgYSkKCgpsaWIuZ2dtbF9hcmdtYXguYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfYXJnbWF4LnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGlmIGEgaXMgdGhlIHNhbWUgc2hhcGUgYXMgYiwgYW5kIGEgaXMgbm90IHBhcmFtZXRlciwgcmV0dXJuIGEKIyAvLyBvdGhlcndpc2UsIHJldHVybiBhIG5ldyB0ZW5zb3I6IHJlcGVhdChhKSB0byBmaXQgaW4gYgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcmVwZWF0KAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9yZXBlYXQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIlJlcGVhdCBhIHRlbnNvciB0byBmaXQgdGhlIHNoYXBlIG9mIGFub3RoZXIgdGVuc29yLgoKICAgIElmIGEgaXMgdGhlIHNhbWUgc2hhcGUgYXMgYiwgYW5kIGEgaXMgbm90IHBhcmFtZXRlciwgcmV0dXJuIGEKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yIHRvIHJlcGVhdAogICAgICAgIGI6IHRlbnNvciB0byBmaXQKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9yZXBlYXQoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX3JlcGVhdC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX3JlcGVhdC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBzdW1zIHJlcGV0aXRpb25zIGluIGEgaW50byBzaGFwZSBvZiBiCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9yZXBlYXRfYmFjaygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiKTsKZGVmIGdnbWxfcmVwZWF0X2JhY2soCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9yZXBlYXRfYmFjayhjdHgsIGEsIGIpCgoKbGliLmdnbWxfcmVwZWF0X2JhY2suYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9yZXBlYXRfYmFjay5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBjb25jYXQgYSBhbmQgYiBvbiBkaW0gMgojIC8vIHVzZWQgaW4gc3RhYmxlLWRpZmZ1c2lvbgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfY29uY2F0KAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9jb25jYXQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkNvbmNhdGVuYXRlIHR3byB0ZW5zb3JzIGFsb25nIHRoZSBzZWNvbmQgYXhpcyBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IGZpcnN0IHRlbnNvcgogICAgICAgIGI6IHNlY29uZCB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9jb25jYXQoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX2NvbmNhdC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2NvbmNhdC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2FicygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX2FicyhjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiVGFrZSB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFuZCByZXR1cm4gdGhlIHJlc3VsdC4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfYWJzKGN0eCwgYSkKCgpsaWIuZ2dtbF9hYnMuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfYWJzLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfYWJzX2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF9hYnNfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJUYWtlIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIGZpcnN0IHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfYWJzX2lucGxhY2UoY3R4LCBhKQoKCmxpYi5nZ21sX2Fic19pbnBsYWNlLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX2Fic19pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfc2duKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfc2duKGN0eDogZ2dtbF9jb250ZXh0X3AsIGE6IGdnbWxfdGVuc29yX3ApIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJHZXQgdGhlIHNpZ24gb2YgYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFuZCByZXR1cm4gdGhlIHJlc3VsdC4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfc2duKGN0eCwgYSkKCgpsaWIuZ2dtbF9zZ24uYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfc2duLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfc2duX2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF9zZ25faW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJHZXQgdGhlIHNpZ24gb2YgYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIHRoZSBmaXJzdCB0ZW5zb3IuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3Nnbl9pbnBsYWNlKGN0eCwgYSkKCgpsaWIuZ2dtbF9zZ25faW5wbGFjZS5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9zZ25faW5wbGFjZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX25lZygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX25lZyhjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiTmVnYXRlIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX25lZyhjdHgsIGEpCgoKbGliLmdnbWxfbmVnLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX25lZy5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX25lZ19pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfbmVnX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiTmVnYXRlIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiB0aGUgZmlyc3QgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9uZWdfaW5wbGFjZShjdHgsIGEpCgoKbGliLmdnbWxfbmVnX2lucGxhY2UuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfbmVnX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zdGVwKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfc3RlcChjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3N0ZXAoY3R4LCBhKQoKCmxpYi5nZ21sX3N0ZXAuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfc3RlcC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3RhbmgoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF90YW5oKGN0eDogZ2dtbF9jb250ZXh0X3AsIGE6IGdnbWxfdGVuc29yX3ApIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJBcHBseSB0aGUgdGFuaCBhY3RpdmF0aW9uIGZ1bmN0aW9uIHRvIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3RhbmgoY3R4LCBhKQoKCmxpYi5nZ21sX3RhbmguYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfdGFuaC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3RhbmhfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX3RhbmhfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJBcHBseSB0aGUgdGFuaCBhY3RpdmF0aW9uIGZ1bmN0aW9uIHRvIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiB0aGUgZmlyc3QgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF90YW5oX2lucGxhY2UoY3R4LCBhKQoKCmxpYi5nZ21sX3RhbmhfaW5wbGFjZS5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF90YW5oX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9lbHUoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF9lbHUoY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkFwcGx5IHRoZSBFTFUgYWN0aXZhdGlvbiBmdW5jdGlvbiB0byBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9lbHUoY3R4LCBhKQoKCmxpYi5nZ21sX2VsdS5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9lbHUucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9lbHVfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX2VsdV9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkFwcGx5IHRoZSBFTFUgYWN0aXZhdGlvbiBmdW5jdGlvbiB0byBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIGZpcnN0IHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZWx1X2lucGxhY2UoY3R4LCBhKQoKCmxpYi5nZ21sX2VsdV9pbnBsYWNlLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX2VsdV9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcmVsdSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX3JlbHUoY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkFwcGx5IHRoZSBSZUxVIGFjdGl2YXRpb24gZnVuY3Rpb24gdG8gYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFuZCByZXR1cm4gdGhlIHJlc3VsdC4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfcmVsdShjdHgsIGEpCgoKbGliLmdnbWxfcmVsdS5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9yZWx1LnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfbGVha3lfcmVsdSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwgZmxvYXQgbmVnYXRpdmVfc2xvcGUsIGJvb2wgaW5wbGFjZSk7CmRlZiBnZ21sX2xlYWt5X3JlbHUoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wLCBuZWdhdGl2ZV9zbG9wZTogZmxvYXQsIGlucGxhY2U6IGJvb2wKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQXBwbHkgdGhlIExlYWt5IFJlTFUgYWN0aXZhdGlvbiBmdW5jdGlvbiB0byBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKICAgICAgICBuZWdhdGl2ZV9zbG9wZTogbmVnYXRpdmUgc2xvcGUKICAgICAgICBpbnBsYWNlOiB3aGV0aGVyIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIGZpcnN0IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgoKICAgIHJldHVybiBsaWIuZ2dtbF9sZWFreV9yZWx1KGN0eCwgYSwgbmVnYXRpdmVfc2xvcGUsIGlucGxhY2UpCgoKbGliLmdnbWxfbGVha3lfcmVsdS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19ib29sLApdCmxpYi5nZ21sX2xlYWt5X3JlbHUucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9yZWx1X2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF9yZWx1X2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQXBwbHkgdGhlIFJlTFUgYWN0aXZhdGlvbiBmdW5jdGlvbiB0byBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIGZpcnN0IHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfcmVsdV9pbnBsYWNlKGN0eCwgYSkKCgpsaWIuZ2dtbF9yZWx1X2lucGxhY2UuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfcmVsdV9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfZ2VsdSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX2dlbHUoY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkFwcGx5IHRoZSBHYXVzc2lhbiBFcnJvciBMaW5lYXIgVW5pdCBhY3RpdmF0aW9uIGZ1bmN0aW9uIHRvIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dlbHUoY3R4LCBhKQoKCmxpYi5nZ21sX2dlbHUuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfZ2VsdS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2dlbHVfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX2dlbHVfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJBcHBseSB0aGUgR2F1c3NpYW4gRXJyb3IgTGluZWFyIFVuaXQgYWN0aXZhdGlvbiBmdW5jdGlvbiB0byBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIGZpcnN0IHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZ2VsdV9pbnBsYWNlKGN0eCwgYSkKCgpsaWIuZ2dtbF9nZWx1X2lucGxhY2UuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfZ2VsdV9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfZ2VsdV9xdWljaygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX2dlbHVfcXVpY2soY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkFwcGx5IHRoZSBHYXVzc2lhbiBFcnJvciBMaW5lYXIgVW5pdCBhY3RpdmF0aW9uIGZ1bmN0aW9uIHRvIGFsbCBlbGVtZW50cyBpbiBhIHRlbnNvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dlbHVfcXVpY2soY3R4LCBhKQoKCmxpYi5nZ21sX2dlbHVfcXVpY2suYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfZ2VsdV9xdWljay5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2dlbHVfcXVpY2tfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX2dlbHVfcXVpY2tfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJBcHBseSB0aGUgR2F1c3NpYW4gRXJyb3IgTGluZWFyIFVuaXQgYWN0aXZhdGlvbiBmdW5jdGlvbiB0byBhbGwgZWxlbWVudHMgaW4gYSB0ZW5zb3IgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIGZpcnN0IHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZ2VsdV9xdWlja19pbnBsYWNlKGN0eCwgYSkKCgpsaWIuZ2dtbF9nZWx1X3F1aWNrX2lucGxhY2UuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfZ2VsdV9xdWlja19pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfc2lsdSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX3NpbHUoY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkFwcGx5IHRoZSBTaWdtb2lkIExpbmVhciBVbml0IGFjdGl2YXRpb24gZnVuY3Rpb24gdG8gYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFuZCByZXR1cm4gdGhlIHJlc3VsdC4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfc2lsdShjdHgsIGEpCgoKbGliLmdnbWxfc2lsdS5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9zaWx1LnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfc2lsdV9pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfc2lsdV9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkFwcGx5IHRoZSBTaWdtb2lkIExpbmVhciBVbml0IGFjdGl2YXRpb24gZnVuY3Rpb24gdG8gYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIHRoZSBmaXJzdCB0ZW5zb3IuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3NpbHVfaW5wbGFjZShjdHgsIGEpCgoKbGliLmdnbWxfc2lsdV9pbnBsYWNlLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX3NpbHVfaW5wbGFjZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBhIC0geAojIC8vIGIgLSBkeQojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfc2lsdV9iYWNrKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9zaWx1X2JhY2soCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9zaWx1X2JhY2soY3R4LCBhLCBiKQoKCmxpYi5nZ21sX3NpbHVfYmFjay5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX3NpbHVfYmFjay5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBub3JtYWxpemUgYWxvbmcgcm93cwojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfbm9ybSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYQojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgZXBzKTsKZGVmIGdnbWxfbm9ybSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgZXBzOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJOb3JtYWxpemUgYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFsb25nIHRoZSBmaXJzdCBheGlzIGFuZCByZXR1cm4gdGhlIHJlc3VsdC4KCiAgICBub3JtYWxpemUgYWxvbmcgcm93cy4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCiAgICAgICAgZXBzOiBtaW5pbXVtIHZhbHVlIHRvIGF2b2lkIGRpdmlzaW9uIGJ5IHplcm8KCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9ub3JtKGN0eCwgYSwgZXBzKQoKCmxpYi5nZ21sX25vcm0uYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwgY3R5cGVzLmNfZmxvYXRdCmxpYi5nZ21sX25vcm0ucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9ub3JtX2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgIGVwcyk7CmRlZiBnZ21sX25vcm1faW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgZXBzOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJOb3JtYWxpemUgYWxsIGVsZW1lbnRzIGluIGEgdGVuc29yIGFsb25nIHRoZSBmaXJzdCBheGlzIGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIHRoZSBmaXJzdCB0ZW5zb3IuCgogICAgbm9ybWFsaXplIGFsb25nIHJvd3MuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgogICAgICAgIGVwczogbWluaW11bSB2YWx1ZSB0byBhdm9pZCBkaXZpc2lvbiBieSB6ZXJvCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfbm9ybV9pbnBsYWNlKGN0eCwgYSwgZXBzKQoKCmxpYi5nZ21sX25vcm1faW5wbGFjZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfZmxvYXQsCl0KbGliLmdnbWxfbm9ybV9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcm1zX25vcm0oCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBmbG9hdCAgICAgICAgICAgICAgICAgZXBzKTsKZGVmIGdnbWxfcm1zX25vcm0oCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGVwczogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQ29tcHV0ZSB0aGUgUk1TIG5vcm0gb2YgYSB0ZW5zb3IgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKICAgICAgICBlcHM6IGZsb2F0CgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfcm1zX25vcm0oY3R4LCBhLCBlcHMpCgoKbGliLmdnbWxfcm1zX25vcm0uYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2Zsb2F0LApdCmxpYi5nZ21sX3Jtc19ub3JtLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcm1zX25vcm1faW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBlcHMpOwpkZWYgZ2dtbF9ybXNfbm9ybV9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBlcHM6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9ybXNfbm9ybV9pbnBsYWNlKGN0eCwgYSwgZXBzKQoKCmxpYi5nZ21sX3Jtc19ub3JtX2lucGxhY2UuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2Zsb2F0LApdCmxpYi5nZ21sX3Jtc19ub3JtX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gZ3JvdXAgbm9ybWFsaXplIGFsb25nIG5lMCpuZTEqbl9ncm91cHMKIyAvLyB1c2VkIGluIHN0YWJsZS1kaWZmdXNpb24KIyAvLyBUT0RPOiBlcHMgaXMgaGFyZGNvZGVkIHRvIDFlLTYgZm9yIG5vdwojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfZ3JvdXBfbm9ybSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBuX2dyb3Vwcyk7CmRlZiBnZ21sX2dyb3VwX25vcm0oCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG5fZ3JvdXBzOiBpbnQsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkdyb3VwIG5vcm1hbGl6ZSBhIHRlbnNvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGE6IHRlbnNvcgogICAgICAgIG5fZ3JvdXBzOiBpbnQKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9ncm91cF9ub3JtKGN0eCwgYSwgbl9ncm91cHMpCgoKbGliLmdnbWxfZ3JvdXBfbm9ybS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX2dyb3VwX25vcm0ucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9ncm91cF9ub3JtX2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9ncm91cHMpOwpkZWYgZ2dtbF9ncm91cF9ub3JtX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG5fZ3JvdXBzOiBpbnQsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkdyb3VwIG5vcm1hbGl6ZSBhIHRlbnNvciBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiB0aGUgZmlyc3QgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKICAgICAgICBuX2dyb3VwczogaW50CgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZ3JvdXBfbm9ybV9pbnBsYWNlKGN0eCwgYSwgbl9ncm91cHMpCgoKbGliLmdnbWxfZ3JvdXBfbm9ybV9pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCl0KbGliLmdnbWxfZ3JvdXBfbm9ybV9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGEgLSB4CiMgLy8gYiAtIGR5CiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9ybXNfbm9ybV9iYWNrKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBlcHMpOwpkZWYgZ2dtbF9ybXNfbm9ybV9iYWNrKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgZXBzOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfcm1zX25vcm1fYmFjayhjdHgsIGEsIGIsIGVwcykKCgpsaWIuZ2dtbF9ybXNfbm9ybV9iYWNrLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19mbG9hdCwKXQpsaWIuZ2dtbF9ybXNfbm9ybV9iYWNrLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIEE6IGsgY29sdW1ucywgbiByb3dzID0+IFtuZTAzLCBuZTAyLCBuLCBrXQojIC8vIEI6IGsgY29sdW1ucywgbSByb3dzICAoaS5lLiB3ZSB0cmFuc3Bvc2UgaXQgaW50ZXJuYWxseSkgPT4gW25lMDMgKiB4LCBuZTAyICogeSwgbSwga10KIyAvLyByZXN1bHQgaXMgbiBjb2x1bW5zLCBtIHJvd3MgPT4gW25lMDMgKiB4LCBuZTAyICogeSwgbSwgbl0KIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX211bF9tYXQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX211bF9tYXQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIk11bHRpcGx5IHR3byBtYXRyaWNlcyBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgQTogayBjb2x1bW5zLCBuIHJvd3MgPT4gW25lMDMsIG5lMDIsIG4sIGtdCiAgICBCOiBrIGNvbHVtbnMsIG0gcm93cyAgKGkuZS4gd2UgdHJhbnNwb3NlIGl0IGludGVybmFsbHkpID0+IFtuZTAzICogeCwgbmUwMiAqIHksIG0sIGtdCiAgICByZXN1bHQgaXMgbiBjb2x1bW5zLCBtIHJvd3MgPT4gW25lMDMgKiB4LCBuZTAyICogeSwgbSwgbl0KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCiAgICAgICAgYjogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfbXVsX21hdChjdHgsIGEsIGIpCgoKbGliLmdnbWxfbXVsX21hdC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX211bF9tYXQucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gaW5kaXJlY3QgbWF0cml4IG11bHRpcGxpY2F0aW9uCiMgLy8gIGdnbWxfbXVsX21hdF9pZChjdHgsIGFzLCBpZHMsIGlkLCBiKSB+PSBnZ21sX211bF9tYXQoYXNbaWRzW2lkXV0sIGIpCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tdWxfbWF0X2lkKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBjb25zdCBhc1tdLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIG5fYXMsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogaWRzLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIGlkLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9tdWxfbWF0X2lkKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGFzXywgICMgdHlwZTogY3R5cGVzLlBPSU5URVIoY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpKSAjIHR5cGU6IGlnbm9yZQogICAgbl9hczogaW50LAogICAgaWRzOiBnZ21sX3RlbnNvcl9wLAogICAgaWRfOiBpbnQsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJNdWx0aXBseSB0d28gbWF0cmljZXMgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIGluZGlyZWN0IG1hdHJpeCBtdWx0aXBsaWNhdGlvbgoKICAgIGdnbWxfbXVsX21hdF9pZChjdHgsIGFzLCBpZHMsIGlkLCBiKSB+PSBnZ21sX211bF9tYXQoYXNbaWRzW2lkXV0sIGIpCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IGdnbWwgY29udGV4dAogICAgICAgIGFzXzogYXJyYXkgb2YgdGVuc29yIHBvaW50ZXJzCiAgICAgICAgbl9hczogaW50CiAgICAgICAgaWRzOiB0ZW5zb3IKICAgICAgICBpZF86IGludAogICAgICAgIGI6IHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgUG9pbnRlciB0byBnZ21sX3RlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX211bF9tYXRfaWQoY3R4LCBhc18sIG5fYXMsIGlkcywgaWRfLCBiKQoKCmxpYi5nZ21sX211bF9tYXRfaWQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfbXVsX21hdF9pZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBBOiBtIGNvbHVtbnMsIG4gcm93cywKIyAvLyBCOiBwIGNvbHVtbnMsIG4gcm93cywKIyAvLyByZXN1bHQgaXMgbSBjb2x1bW5zLCBwIHJvd3MKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX291dF9wcm9kKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9vdXRfcHJvZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQ29tcHV0ZSB0aGUgb3V0ZXIgcHJvZHVjdCBvZiB0d28gbWF0cmljZXMgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIEE6IG0gY29sdW1ucywgbiByb3dzLAogICAgQjogcCBjb2x1bW5zLCBuIHJvd3MsCiAgICByZXN1bHQgaXMgbSBjb2x1bW5zLCBwIHJvd3MKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCiAgICAgICAgYjogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfb3V0X3Byb2QoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX291dF9wcm9kLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfb3V0X3Byb2QucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKIyAvLwojIC8vIG9wZXJhdGlvbnMgb24gdGVuc29ycyB3aXRob3V0IGJhY2twcm9wYWdhdGlvbgojIC8vCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3NjYWxlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9zY2FsZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiU2NhbGUgYSB0ZW5zb3IgYnkgYW5vdGhlciB0ZW5zb3IgYW5kIHJldHVybiB0aGUgcmVzdWx0LgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKICAgICAgICBiOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9zY2FsZShjdHgsIGEsIGIpCgoKbGliLmdnbWxfc2NhbGUuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9zY2FsZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBpbi1wbGFjZSwgcmV0dXJucyB2aWV3KGEpCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zY2FsZV9pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9zY2FsZV9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJTY2FsZSBhIHRlbnNvciBieSBhbm90aGVyIHRlbnNvciBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiB0aGUgZmlyc3QgdGVuc29yLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKCiAgICBSZXR1cm5zOgogICAgICAgIFBvaW50ZXIgdG8gZ2dtbF90ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9zY2FsZV9pbnBsYWNlKGN0eCwgYSwgYikKCgpsaWIuZ2dtbF9zY2FsZV9pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfc2NhbGVfaW5wbGFjZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBiIC0+IHZpZXcoYSxvZmZzZXQsbmIxLG5iMiwzKSwgcmV0dXJuIG1vZGlmaWVkIGEKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3NldCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG5iMSwKIyAgICAgICAgIHNpemVfdCAgICAgICAgICAgICAgICBuYjIsCiMgICAgICAgICBzaXplX3QgICAgICAgICAgICAgICAgbmIzLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG9mZnNldCk7CmRlZiBnZ21sX3NldCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIG5iMTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgbmIyOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBuYjM6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKICAgIG9mZnNldDogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfc2V0KGN0eCwgYSwgYiwgbmIxLCBuYjIsIG5iMywgb2Zmc2V0KQoKCmxpYi5nZ21sX3NldC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LApdCmxpYi5nZ21sX3NldC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBiIC0+IHZpZXcoYSxvZmZzZXQsbmIxLG5iMiwzKSwgcmV0dXJuIHZpZXcoYSkKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3NldF9pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIsCiMgICAgICAgICBzaXplX3QgICAgICAgICAgICAgICAgbmIxLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG5iMiwKIyAgICAgICAgIHNpemVfdCAgICAgICAgICAgICAgICBuYjMsCiMgICAgICAgICBzaXplX3QgICAgICAgICAgICAgICAgb2Zmc2V0KTsKZGVmIGdnbWxfc2V0X2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBuYjE6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKICAgIG5iMjogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgbmIzOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBvZmZzZXQ6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3NldF9pbnBsYWNlKGN0eCwgYSwgYiwgbmIxLCBuYjIsIG5iMywgb2Zmc2V0KQoKCmxpYi5nZ21sX3NldF9pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19zaXplX3QsCiAgICBjdHlwZXMuY19zaXplX3QsCiAgICBjdHlwZXMuY19zaXplX3QsCiAgICBjdHlwZXMuY19zaXplX3QsCl0KbGliLmdnbWxfc2V0X2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zZXRfMWQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYiwKIyAgICAgICAgIHNpemVfdCAgICAgICAgICAgICAgICBvZmZzZXQpOwpkZWYgZ2dtbF9zZXRfMWQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBvZmZzZXQ6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3NldF8xZChjdHgsIGEsIGIsIG9mZnNldCkKCgpsaWIuZ2dtbF9zZXRfMWQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX3NpemVfdCwKXQpsaWIuZ2dtbF9zZXRfMWQucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zZXRfMWRfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG9mZnNldCk7CmRlZiBnZ21sX3NldF8xZF9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgb2Zmc2V0OiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9zZXRfMWRfaW5wbGFjZShjdHgsIGEsIGIsIG9mZnNldCkKCgpsaWIuZ2dtbF9zZXRfMWRfaW5wbGFjZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfc2l6ZV90LApdCmxpYi5nZ21sX3NldF8xZF9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGIgLT4gdmlldyhhLG9mZnNldCxuYjEsbmIyLDMpLCByZXR1cm4gbW9kaWZpZWQgYQojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfc2V0XzJkKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIsCiMgICAgICAgICBzaXplX3QgICAgICAgICAgICAgICAgbmIxLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG9mZnNldCk7CmRlZiBnZ21sX3NldF8yZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIG5iMTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgb2Zmc2V0OiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9zZXRfMmQoY3R4LCBhLCBiLCBuYjEsIG9mZnNldCkKCgpsaWIuZ2dtbF9zZXRfMmQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIGN0eXBlcy5jX3NpemVfdCwKXQpsaWIuZ2dtbF9zZXRfMmQucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gYiAtPiB2aWV3KGEsb2Zmc2V0LG5iMSxuYjIsMyksIHJldHVybiB2aWV3KGEpCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zZXRfMmRfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG5iMSwKIyAgICAgICAgIHNpemVfdCAgICAgICAgICAgICAgICBvZmZzZXQpOwpkZWYgZ2dtbF9zZXRfMmRfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIG5iMTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgb2Zmc2V0OiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9zZXRfMmRfaW5wbGFjZShjdHgsIGEsIGIsIG5iMSwgb2Zmc2V0KQoKCmxpYi5nZ21sX3NldF8yZF9pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19zaXplX3QsCiAgICBjdHlwZXMuY19zaXplX3QsCl0KbGliLmdnbWxfc2V0XzJkX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gYSAtPiBiLCByZXR1cm4gdmlldyhiKQojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfY3B5KAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIpOwpkZWYgZ2dtbF9jcHkoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9jcHkoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX2NweS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2NweS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBhIC0+IGIsIGluLXBsYWNlLCByZXR1cm4gdmlldyhiKQojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfY3B5X2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX2NweV9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfY3B5X2lucGxhY2UoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX2NweV9pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfY3B5X2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gbWFrZSBjb250aWd1b3VzCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9jb250KAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhKTsKZGVmIGdnbWxfY29udChjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiTWFrZSBhIHRlbnNvciBjb250aWd1b3VzIGFuZCByZXR1cm4gdGhlIHJlc3VsdC4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfY29udChjdHgsIGEpCgoKbGliLmdnbWxfY29udC5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9jb250LnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIG1ha2UgY29udGlndW91cywgaW4tcGxhY2UKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2NvbnRfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX2NvbnRfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJNYWtlIGEgdGVuc29yIGNvbnRpZ3VvdXMgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIGZpcnN0IHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfY29udF9pbnBsYWNlKGN0eCwgYSkKCgpsaWIuZ2dtbF9jb250X2lucGxhY2UuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfY29udF9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIG1ha2UgY29udGlndW91cywgd2l0aCBuZXcgc2hhcGUKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2NvbnRfMWQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUwKTsKZGVmIGdnbWxfY29udF8xZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgbmUwOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2NvbnRfMWQoY3R4LCBhLCBuZTApCgoKbGliLmdnbWxfY29udF8xZC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfY29udF8xZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2NvbnRfMmQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUwLAojICAgICAgICAgaW50NjRfdCAgICAgICAgICAgICAgIG5lMSk7CmRlZiBnZ21sX2NvbnRfMmQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG5lMDogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuZTE6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfY29udF8yZChjdHgsIGEsIG5lMCwgbmUxKQoKCmxpYi5nZ21sX2NvbnRfMmQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfY29udF8yZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2NvbnRfM2QoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUwLAojICAgICAgICAgaW50NjRfdCAgICAgICAgICAgICAgIG5lMSwKIyAgICAgICAgIGludDY0X3QgICAgICAgICAgICAgICBuZTIpOwpkZWYgZ2dtbF9jb250XzNkKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBuZTA6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAogICAgbmUxOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKICAgIG5lMjogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9jb250XzNkKGN0eCwgYSwgbmUwLCBuZTEsIG5lMikKCgpsaWIuZ2dtbF9jb250XzNkLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfY29udF8zZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2NvbnRfNGQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUwLAojICAgICAgICAgaW50NjRfdCAgICAgICAgICAgICAgIG5lMSwKIyAgICAgICAgIGludDY0X3QgICAgICAgICAgICAgICBuZTIsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUzKTsKZGVmIGdnbWxfY29udF80ZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgbmUwOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKICAgIG5lMTogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuZTI6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAogICAgbmUzOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2NvbnRfNGQoY3R4LCBhLCBuZTAsIG5lMSwgbmUyLCBuZTMpCgoKbGliLmdnbWxfY29udF80ZC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50NjQsCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfY29udF80ZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyByZXR1cm4gdmlldyhhKSwgYiBzcGVjaWZpZXMgdGhlIG5ldyBzaGFwZQojIC8vIFRPRE86IHdoZW4gd2Ugc3RhcnQgY29tcHV0aW5nIGdyYWRpZW50LCBtYWtlIGEgY29weSBpbnN0ZWFkIG9mIHZpZXcKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3Jlc2hhcGUoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX3Jlc2hhcGUoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9yZXNoYXBlKGN0eCwgYSwgYikKCgpsaWIuZ2dtbF9yZXNoYXBlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfcmVzaGFwZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyByZXR1cm4gdmlldyhhKQojIC8vIFRPRE86IHdoZW4gd2Ugc3RhcnQgY29tcHV0aW5nIGdyYWRpZW50LCBtYWtlIGEgY29weSBpbnN0ZWFkIG9mIHZpZXcKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3Jlc2hhcGVfMWQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUwKTsKZGVmIGdnbWxfcmVzaGFwZV8xZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgbmUwOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3Jlc2hhcGVfMWQoY3R4LCBhLCBuZTApCgoKbGliLmdnbWxfcmVzaGFwZV8xZC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfcmVzaGFwZV8xZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3Jlc2hhcGVfMmQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUwLAojICAgICAgICAgaW50NjRfdCAgICAgICAgICAgICAgIG5lMSk7CmRlZiBnZ21sX3Jlc2hhcGVfMmQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG5lMDogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuZTE6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfcmVzaGFwZV8yZChjdHgsIGEsIG5lMCwgbmUxKQoKCmxpYi5nZ21sX3Jlc2hhcGVfMmQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfcmVzaGFwZV8yZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyByZXR1cm4gdmlldyhhKQojIC8vIFRPRE86IHdoZW4gd2Ugc3RhcnQgY29tcHV0aW5nIGdyYWRpZW50LCBtYWtlIGEgY29weSBpbnN0ZWFkIG9mIHZpZXcKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3Jlc2hhcGVfM2QoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUwLAojICAgICAgICAgaW50NjRfdCAgICAgICAgICAgICAgIG5lMSwKIyAgICAgICAgIGludDY0X3QgICAgICAgICAgICAgICBuZTIpOwpkZWYgZ2dtbF9yZXNoYXBlXzNkKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBuZTA6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAogICAgbmUxOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKICAgIG5lMjogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9yZXNoYXBlXzNkKGN0eCwgYSwgbmUwLCBuZTEsIG5lMikKCgpsaWIuZ2dtbF9yZXNoYXBlXzNkLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfcmVzaGFwZV8zZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3Jlc2hhcGVfNGQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUwLAojICAgICAgICAgaW50NjRfdCAgICAgICAgICAgICAgIG5lMSwKIyAgICAgICAgIGludDY0X3QgICAgICAgICAgICAgICBuZTIsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUzKTsKZGVmIGdnbWxfcmVzaGFwZV80ZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgbmUwOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKICAgIG5lMTogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuZTI6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAogICAgbmUzOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3Jlc2hhcGVfNGQoY3R4LCBhLCBuZTAsIG5lMSwgbmUyLCBuZTMpCgoKbGliLmdnbWxfcmVzaGFwZV80ZC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50NjQsCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfaW50NjQsCl0KbGliLmdnbWxfcmVzaGFwZV80ZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBvZmZzZXQgaW4gYnl0ZXMKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3ZpZXdfMWQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUwLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG9mZnNldCk7CmRlZiBnZ21sX3ZpZXdfMWQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG5lMDogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBvZmZzZXQ6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3ZpZXdfMWQoY3R4LCBhLCBuZTAsIG9mZnNldCkKCgpsaWIuZ2dtbF92aWV3XzFkLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX3NpemVfdCwKXQpsaWIuZ2dtbF92aWV3XzFkLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfdmlld18yZCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludDY0X3QgICAgICAgICAgICAgICBuZTAsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUxLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG5iMSwgLy8gcm93IHN0cmlkZSBpbiBieXRlcwojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG9mZnNldCk7CmRlZiBnZ21sX3ZpZXdfMmQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG5lMDogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuZTE6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAogICAgbmIxOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBvZmZzZXQ6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3ZpZXdfMmQoY3R4LCBhLCBuZTAsIG5lMSwgbmIxLCBvZmZzZXQpCgoKbGliLmdnbWxfdmlld18yZC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50NjQsCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIGN0eXBlcy5jX3NpemVfdCwKXQpsaWIuZ2dtbF92aWV3XzJkLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfdmlld18zZCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludDY0X3QgICAgICAgICAgICAgICBuZTAsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUxLAojICAgICAgICAgaW50NjRfdCAgICAgICAgICAgICAgIG5lMiwKIyAgICAgICAgIHNpemVfdCAgICAgICAgICAgICAgICBuYjEsIC8vIHJvdyAgIHN0cmlkZSBpbiBieXRlcwojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG5iMiwgLy8gc2xpY2Ugc3RyaWRlIGluIGJ5dGVzCiMgICAgICAgICBzaXplX3QgICAgICAgICAgICAgICAgb2Zmc2V0KTsKZGVmIGdnbWxfdmlld18zZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgbmUwOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKICAgIG5lMTogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuZTI6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAogICAgbmIxOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBuYjI6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKICAgIG9mZnNldDogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfdmlld18zZChjdHgsIGEsIG5lMCwgbmUxLCBuZTIsIG5iMSwgbmIyLCBvZmZzZXQpCgoKbGliLmdnbWxfdmlld18zZC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50NjQsCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LApdCmxpYi5nZ21sX3ZpZXdfM2QucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF92aWV3XzRkKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgaW50NjRfdCAgICAgICAgICAgICAgIG5lMCwKIyAgICAgICAgIGludDY0X3QgICAgICAgICAgICAgICBuZTEsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgbmUyLAojICAgICAgICAgaW50NjRfdCAgICAgICAgICAgICAgIG5lMywKIyAgICAgICAgIHNpemVfdCAgICAgICAgICAgICAgICBuYjEsIC8vIHJvdyAgIHN0cmlkZSBpbiBieXRlcwojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG5iMiwgLy8gc2xpY2Ugc3RyaWRlIGluIGJ5dGVzCiMgICAgICAgICBzaXplX3QgICAgICAgICAgICAgICAgbmIzLAojICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgIG9mZnNldCk7CmRlZiBnZ21sX3ZpZXdfNGQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG5lMDogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuZTE6IFVuaW9uW2N0eXBlcy5jX2ludDY0LCBpbnRdLAogICAgbmUyOiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKICAgIG5lMzogVW5pb25bY3R5cGVzLmNfaW50NjQsIGludF0sCiAgICBuYjE6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKICAgIG5iMjogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgbmIzOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBvZmZzZXQ6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3ZpZXdfNGQoY3R4LCBhLCBuZTAsIG5lMSwgbmUyLCBuZTMsIG5iMSwgbmIyLCBuYjMsIG9mZnNldCkKCgpsaWIuZ2dtbF92aWV3XzRkLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX2ludDY0LAogICAgY3R5cGVzLmNfaW50NjQsCiAgICBjdHlwZXMuY19pbnQ2NCwKICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIGN0eXBlcy5jX3NpemVfdCwKXQpsaWIuZ2dtbF92aWV3XzRkLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcGVybXV0ZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBheGlzMCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBheGlzMSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBheGlzMiwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBheGlzMyk7CmRlZiBnZ21sX3Blcm11dGUoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGF4aXMwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBheGlzMTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgYXhpczI6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGF4aXMzOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9wZXJtdXRlKGN0eCwgYSwgYXhpczAsIGF4aXMxLCBheGlzMiwgYXhpczMpCgoKbGliLmdnbWxfcGVybXV0ZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX3Blcm11dGUucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gYWxpYXMgZm9yIGdnbWxfcGVybXV0ZShjdHgsIGEsIDEsIDAsIDIsIDMpCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF90cmFuc3Bvc2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF90cmFuc3Bvc2UoY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCkgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIlRyYW5zcG9zZSAqdGhlIGZpcnN0IHR3byBkaW1lbnNpb25zKiBvZiBhIHRlbnNvciBhbmQgcmV0dXJuIHRoZSByZXN1bHQuCgogICAgYWxpYXMgZm9yIGBnZ21sX3Blcm11dGUoY3R4LCBhLCAxLCAwLCAyLCAzKWAKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfdHJhbnNwb3NlKGN0eCwgYSkKCgpsaWIuZ2dtbF90cmFuc3Bvc2UuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfdHJhbnNwb3NlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIHN1cHBvcnRzIDNEOiBhLT5uZVsyXSA9PSBiLT5uZVsxXQojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfZ2V0X3Jvd3MoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX2dldF9yb3dzKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfZ2V0X3Jvd3MoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX2dldF9yb3dzLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfZ2V0X3Jvd3MucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9nZXRfcm93c19iYWNrKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYyk7CmRlZiBnZ21sX2dldF9yb3dzX2JhY2soCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBjOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfZ2V0X3Jvd3NfYmFjayhjdHgsIGEsIGIsIGMpCgoKbGliLmdnbWxfZ2V0X3Jvd3NfYmFjay5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2dldF9yb3dzX2JhY2sucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9kaWFnKAojICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICAgICAqIGN0eCwKIyAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgKiBhKTsKZGVmIGdnbWxfZGlhZyhjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2RpYWcoY3R4LCBhKQoKCmxpYi5nZ21sX2RpYWcuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfZGlhZy5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBzZXQgZWxlbWVudHMgYWJvdmUgdGhlIGRpYWdvbmFsIHRvIC1JTkYKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2RpYWdfbWFza19pbmYoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9wYXN0KTsKZGVmIGdnbWxfZGlhZ19tYXNrX2luZigKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgbl9wYXN0OiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9kaWFnX21hc2tfaW5mKGN0eCwgYSwgbl9wYXN0KQoKCmxpYi5nZ21sX2RpYWdfbWFza19pbmYuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF9kaWFnX21hc2tfaW5mLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGluLXBsYWNlLCByZXR1cm5zIHZpZXcoYSkKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2RpYWdfbWFza19pbmZfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBuX3Bhc3QpOwpkZWYgZ2dtbF9kaWFnX21hc2tfaW5mX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG5fcGFzdDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfZGlhZ19tYXNrX2luZl9pbnBsYWNlKGN0eCwgYSwgbl9wYXN0KQoKCmxpYi5nZ21sX2RpYWdfbWFza19pbmZfaW5wbGFjZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX2RpYWdfbWFza19pbmZfaW5wbGFjZS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBzZXQgZWxlbWVudHMgYWJvdmUgdGhlIGRpYWdvbmFsIHRvIDAKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2RpYWdfbWFza196ZXJvKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIG5fcGFzdCk7CmRlZiBnZ21sX2RpYWdfbWFza196ZXJvKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBuX3Bhc3Q6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2RpYWdfbWFza196ZXJvKGN0eCwgYSwgbl9wYXN0KQoKCmxpYi5nZ21sX2RpYWdfbWFza196ZXJvLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCl0KbGliLmdnbWxfZGlhZ19tYXNrX3plcm8ucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gaW4tcGxhY2UsIHJldHVybnMgdmlldyhhKQojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfZGlhZ19tYXNrX3plcm9faW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBuX3Bhc3QpOwpkZWYgZ2dtbF9kaWFnX21hc2tfemVyb19pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBuX3Bhc3Q6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2RpYWdfbWFza196ZXJvX2lucGxhY2UoY3R4LCBhLCBuX3Bhc3QpCgoKbGliLmdnbWxfZGlhZ19tYXNrX3plcm9faW5wbGFjZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX2RpYWdfbWFza196ZXJvX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zb2Z0X21heCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSk7CmRlZiBnZ21sX3NvZnRfbWF4KGN0eDogZ2dtbF9jb250ZXh0X3AsIGE6IGdnbWxfdGVuc29yX3ApIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfc29mdF9tYXgoY3R4LCBhKQoKCmxpYi5nZ21sX3NvZnRfbWF4LmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX3NvZnRfbWF4LnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGluLXBsYWNlLCByZXR1cm5zIHZpZXcoYSkKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3NvZnRfbWF4X2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEpOwpkZWYgZ2dtbF9zb2Z0X21heF9pbnBsYWNlKGN0eDogZ2dtbF9jb250ZXh0X3AsIGE6IGdnbWxfdGVuc29yX3ApIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfc29mdF9tYXhfaW5wbGFjZShjdHgsIGEpCgoKbGliLmdnbWxfc29mdF9tYXhfaW5wbGFjZS5hcmd0eXBlcyA9IFtnZ21sX2NvbnRleHRfcCwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9zb2Z0X21heF9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGZ1c2VkIHNvZnRfbWF4KGEqc2NhbGUgKyBtYXNrKQojIC8vIG1hc2sgaXMgb3B0aW9uYWwKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3NvZnRfbWF4X2V4dCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBtYXNrLAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIHNjYWxlKTsKZGVmIGdnbWxfc29mdF9tYXhfZXh0KAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBtYXNrOiBnZ21sX3RlbnNvcl9wLAogICAgc2NhbGU6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9zb2Z0X21heF9leHQoY3R4LCBhLCBtYXNrLCBzY2FsZSkKCgpsaWIuZ2dtbF9zb2Z0X21heF9leHQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2Zsb2F0LApdCmxpYi5nZ21sX3NvZnRfbWF4X2V4dC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3NvZnRfbWF4X2JhY2soCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX3NvZnRfbWF4X2JhY2soCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9zb2Z0X21heF9iYWNrKGN0eCwgYSwgYikKCgpsaWIuZ2dtbF9zb2Z0X21heF9iYWNrLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfc29mdF9tYXhfYmFjay5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBpbi1wbGFjZSwgcmV0dXJucyB2aWV3KGEpCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9zb2Z0X21heF9iYWNrX2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX3NvZnRfbWF4X2JhY2tfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3NvZnRfbWF4X2JhY2tfaW5wbGFjZShjdHgsIGEsIGIpCgoKbGliLmdnbWxfc29mdF9tYXhfYmFja19pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfc29mdF9tYXhfYmFja19pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIHJvdGFyeSBwb3NpdGlvbiBlbWJlZGRpbmcKIyAvLyBpZiBtb2RlICYgMSA9PSAxLCBza2lwIG5fcGFzdCBlbGVtZW50cyAoREVQUkVDQVRFRCkKIyAvLyBpZiBtb2RlICYgMiA9PSAxLCBHUFQtTmVvWCBzdHlsZQojIC8vIGlmIG1vZGUgJiA0ID09IDEsIENoYXRHTE0gc3R5bGUKIyAvLwojIC8vIGIgaXMgYW4gaW50MzIgdmVjdG9yIHdpdGggc2l6ZSBhLT5uZVsyXSwgaXQgY29udGFpbnMgdGhlIHBvc2l0aW9ucwojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcm9wZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIG5fZGltcywKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBtb2RlLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIG5fY3R4KTsKZGVmIGdnbWxfcm9wZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIG5fZGltczogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbW9kZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbl9jdHg6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiUm90YXJ5IHBvc2l0aW9uIGVtYmVkZGluZwoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKICAgICAgICBiOiBpbnQzMiB2ZWN0b3Igd2l0aCBzaXplIGEtPm5lWzJdLCBpdCBjb250YWlucyB0aGUgcG9zaXRpb25zCiAgICAgICAgbl9kaW1zOiBudW1iZXIgb2YgZGltZW5zaW9ucwogICAgICAgIG1vZGU6IGlmIG1vZGUgJiAxID09IDEsIHNraXAgbl9wYXN0IGVsZW1lbnRzIChERVBSRUNBVEVEKQogICAgICAgICAgICAgICAgaWYgbW9kZSAmIDIgPT0gMSwgR1BULU5lb1ggc3R5bGUKICAgICAgICAgICAgICAgIGlmIG1vZGUgJiA0ID09IDEsIENoYXRHTE0gc3R5bGUKICAgICAgICBuX2N0eDogY29udGV4dCBzaXplCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfcm9wZShjdHgsIGEsIGIsIG5fZGltcywgbW9kZSwgbl9jdHgpCgoKbGliLmdnbWxfcm9wZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX3JvcGUucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gaW4tcGxhY2UsIHJldHVybnMgdmlldyhhKQojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcm9wZV9pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9kaW1zLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIG1vZGUsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9jdHgpOwpkZWYgZ2dtbF9yb3BlX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBuX2RpbXM6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIG1vZGU6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIG5fY3R4OiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIlJvdGFyeSBwb3NpdGlvbiBlbWJlZGRpbmcgaW5wbGFjZQoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBnZ21sIGNvbnRleHQKICAgICAgICBhOiB0ZW5zb3IKICAgICAgICBiOiBpbnQzMiB2ZWN0b3Igd2l0aCBzaXplIGEtPm5lWzJdLCBpdCBjb250YWlucyB0aGUgcG9zaXRpb25zCiAgICAgICAgbl9kaW1zOiBudW1iZXIgb2YgZGltZW5zaW9ucwogICAgICAgIG1vZGU6IGlmIG1vZGUgJiAxID09IDEsIHNraXAgbl9wYXN0IGVsZW1lbnRzIChERVBSRUNBVEVEKQogICAgICAgICAgICAgICAgaWYgbW9kZSAmIDIgPT0gMSwgR1BULU5lb1ggc3R5bGUKICAgICAgICAgICAgICAgIGlmIG1vZGUgJiA0ID09IDEsIENoYXRHTE0gc3R5bGUKICAgICAgICBuX2N0eDogY29udGV4dCBzaXplCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfcm9wZV9pbnBsYWNlKGN0eCwgYSwgYiwgbl9kaW1zLCBtb2RlLCBuX2N0eCkKCgpsaWIuZ2dtbF9yb3BlX2lucGxhY2UuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF9yb3BlX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gY3VzdG9tIFJvUEUKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3JvcGVfY3VzdG9tKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9kaW1zLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIG1vZGUsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9jdHgsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9vcmlnX2N0eCwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBmcmVxX2Jhc2UsCiMgICAgICAgICBmbG9hdCAgICAgICAgICAgICAgICAgZnJlcV9zY2FsZSwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBleHRfZmFjdG9yLAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIGF0dG5fZmFjdG9yLAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIGJldGFfZmFzdCwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBiZXRhX3Nsb3cpOwpkZWYgZ2dtbF9yb3BlX2N1c3RvbSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIG5fZGltczogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbW9kZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbl9jdHg6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIG5fb3JpZ19jdHg6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGZyZXFfYmFzZTogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKICAgIGZyZXFfc2NhbGU6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICBleHRfZmFjdG9yOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAogICAgYXR0bl9mYWN0b3I6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICBiZXRhX2Zhc3Q6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICBiZXRhX3Nsb3c6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkN1c3RvbSByb3RhcnkgcG9zaXRpb24gZW1iZWRkaW5nIiIiCiAgICByZXR1cm4gbGliLmdnbWxfcm9wZV9jdXN0b20oCiAgICAgICAgY3R4LAogICAgICAgIGEsCiAgICAgICAgYiwKICAgICAgICBuX2RpbXMsCiAgICAgICAgbW9kZSwKICAgICAgICBuX2N0eCwKICAgICAgICBuX29yaWdfY3R4LAogICAgICAgIGZyZXFfYmFzZSwKICAgICAgICBmcmVxX3NjYWxlLAogICAgICAgIGV4dF9mYWN0b3IsCiAgICAgICAgYXR0bl9mYWN0b3IsCiAgICAgICAgYmV0YV9mYXN0LAogICAgICAgIGJldGFfc2xvdywKICAgICkKCgpsaWIuZ2dtbF9yb3BlX2N1c3RvbS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19mbG9hdCwKICAgIGN0eXBlcy5jX2Zsb2F0LAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19mbG9hdCwKICAgIGN0eXBlcy5jX2Zsb2F0LApdCmxpYi5nZ21sX3JvcGVfY3VzdG9tLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGluLXBsYWNlLCByZXR1cm5zIHZpZXcoYSkKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3JvcGVfY3VzdG9tX2lucGxhY2UoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYiwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBuX2RpbXMsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbW9kZSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBuX2N0eCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBuX29yaWdfY3R4LAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIGZyZXFfYmFzZSwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBmcmVxX3NjYWxlLAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIGV4dF9mYWN0b3IsCiMgICAgICAgICBmbG9hdCAgICAgICAgICAgICAgICAgYXR0bl9mYWN0b3IsCiMgICAgICAgICBmbG9hdCAgICAgICAgICAgICAgICAgYmV0YV9mYXN0LAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIGJldGFfc2xvdyk7CmRlZiBnZ21sX3JvcGVfY3VzdG9tX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBuX2RpbXM6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIG1vZGU6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIG5fY3R4OiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBuX29yaWdfY3R4OiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBmcmVxX2Jhc2U6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICBmcmVxX3NjYWxlOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAogICAgZXh0X2ZhY3RvcjogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKICAgIGF0dG5fZmFjdG9yOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAogICAgYmV0YV9mYXN0OiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAogICAgYmV0YV9zbG93OiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJDdXN0b20gcm90YXJ5IHBvc2l0aW9uIGVtYmVkZGluZyBpbnBsYWNlIiIiCiAgICByZXR1cm4gbGliLmdnbWxfcm9wZV9jdXN0b21faW5wbGFjZSgKICAgICAgICBjdHgsCiAgICAgICAgYSwKICAgICAgICBiLAogICAgICAgIG5fZGltcywKICAgICAgICBtb2RlLAogICAgICAgIG5fY3R4LAogICAgICAgIG5fb3JpZ19jdHgsCiAgICAgICAgZnJlcV9iYXNlLAogICAgICAgIGZyZXFfc2NhbGUsCiAgICAgICAgZXh0X2ZhY3RvciwKICAgICAgICBhdHRuX2ZhY3RvciwKICAgICAgICBiZXRhX2Zhc3QsCiAgICAgICAgYmV0YV9zbG93LAogICAgKQoKCmxpYi5nZ21sX3JvcGVfY3VzdG9tX2lucGxhY2UuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2Zsb2F0LAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19mbG9hdCwKICAgIGN0eXBlcy5jX2Zsb2F0LAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19mbG9hdCwKXQpsaWIuZ2dtbF9yb3BlX2N1c3RvbV9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGNvbXB1dGUgY29ycmVjdGlvbiBkaW1zIGZvciBZYVJOIFJvUEUgc2NhbGluZwojIHZvaWQgZ2dtbF9yb3BlX3lhcm5fY29ycl9kaW1zKAojICAgICBpbnQgbl9kaW1zLCBpbnQgbl9vcmlnX2N0eCwgZmxvYXQgZnJlcV9iYXNlLCBmbG9hdCBiZXRhX2Zhc3QsIGZsb2F0IGJldGFfc2xvdywgZmxvYXQgZGltc1syXSk7CmRlZiBnZ21sX3JvcGVfeWFybl9jb3JyX2RpbXMoCiAgICBuX2RpbXM6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIG5fb3JpZ19jdHg6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGZyZXFfYmFzZTogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKICAgIGJldGFfZmFzdDogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKICAgIGJldGFfc2xvdzogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKICAgIGRpbXM6IENGbG9hdEFycmF5LAopIC0+IE5vbmU6CiAgICAiIiJDb21wdXRlIGNvcnJlY3Rpb24gZGltcyBmb3IgWWFSTiBSb1BFIHNjYWxpbmciIiIKICAgIHJldHVybiBsaWIuZ2dtbF9yb3BlX3lhcm5fY29ycl9kaW1zKAogICAgICAgIG5fZGltcywKICAgICAgICBuX29yaWdfY3R4LAogICAgICAgIGZyZXFfYmFzZSwKICAgICAgICBiZXRhX2Zhc3QsCiAgICAgICAgYmV0YV9zbG93LAogICAgICAgIGRpbXMsCiAgICApCgoKbGliLmdnbWxfcm9wZV95YXJuX2NvcnJfZGltcy5hcmd0eXBlcyA9IFsKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2Zsb2F0LAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19mbG9hdCwKICAgIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5jX2Zsb2F0KSwKXQpsaWIuZ2dtbF9yb3BlX3lhcm5fY29ycl9kaW1zLnJlc3R5cGUgPSBOb25lCgoKIyAvLyB4UG9zIFJvUEUsIGluLXBsYWNlLCByZXR1cm5zIHZpZXcoYSkKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3JvcGVfeHBvc19pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9kaW1zLAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIGJhc2UsCiMgICAgICAgICBib29sICAgICAgICAgICAgICAgICAgZG93bik7CmRlZiBnZ21sX3JvcGVfeHBvc19pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgbl9kaW1zOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBiYXNlOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAogICAgZG93bjogVW5pb25bY3R5cGVzLmNfYm9vbCwgYm9vbF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiInhQb3MgUm9QRSwgaW4tcGxhY2UsIHJldHVybnMgdmlldyhhKSIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3JvcGVfeHBvc19pbnBsYWNlKGN0eCwgYSwgYiwgbl9kaW1zLCBiYXNlLCBkb3duKQoKCmxpYi5nZ21sX3JvcGVfeHBvc19pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19mbG9hdCwKICAgIGN0eXBlcy5jX2Jvb2wsCl0KbGliLmdnbWxfcm9wZV94cG9zX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gcm90YXJ5IHBvc2l0aW9uIGVtYmVkZGluZyBiYWNrd2FyZCwgaS5lIGNvbXB1dGUgZHggZnJvbSBkeQojIC8vIGEgLSBkeQojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcm9wZV9iYWNrKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGIsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9kaW1zLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIG1vZGUsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9jdHgsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9vcmlnX2N0eCwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBmcmVxX2Jhc2UsCiMgICAgICAgICBmbG9hdCAgICAgICAgICAgICAgICAgZnJlcV9zY2FsZSwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBleHRfZmFjdG9yLAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIGF0dG5fZmFjdG9yLAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIGJldGFfZmFzdCwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBiZXRhX3Nsb3csCiMgICAgICAgICBmbG9hdCAgICAgICAgICAgICAgICAgeHBvc19iYXNlLAojICAgICAgICAgYm9vbCAgICAgICAgICAgICAgICAgIHhwb3NfZG93bik7CmRlZiBnZ21sX3JvcGVfYmFjaygKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIG5fZGltczogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbW9kZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbl9jdHg6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIG5fb3JpZ19jdHg6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGZyZXFfYmFzZTogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKICAgIGZyZXFfc2NhbGU6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICBleHRfZmFjdG9yOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAogICAgYXR0bl9mYWN0b3I6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICBiZXRhX2Zhc3Q6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICBiZXRhX3Nsb3c6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICB4cG9zX2Jhc2U6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICB4cG9zX2Rvd246IFVuaW9uW2N0eXBlcy5jX2Jvb2wsIGJvb2xdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJSb3RhcnkgcG9zaXRpb24gZW1iZWRkaW5nIGJhY2t3YXJkIHBhc3MiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9yb3BlX2JhY2soCiAgICAgICAgY3R4LAogICAgICAgIGEsCiAgICAgICAgYiwKICAgICAgICBuX2RpbXMsCiAgICAgICAgbW9kZSwKICAgICAgICBuX2N0eCwKICAgICAgICBuX29yaWdfY3R4LAogICAgICAgIGZyZXFfYmFzZSwKICAgICAgICBmcmVxX3NjYWxlLAogICAgICAgIGV4dF9mYWN0b3IsCiAgICAgICAgYXR0bl9mYWN0b3IsCiAgICAgICAgYmV0YV9mYXN0LAogICAgICAgIGJldGFfc2xvdywKICAgICAgICB4cG9zX2Jhc2UsCiAgICAgICAgeHBvc19kb3duLAogICAgKQoKCmxpYi5nZ21sX3JvcGVfYmFjay5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19mbG9hdCwKICAgIGN0eXBlcy5jX2Zsb2F0LAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19mbG9hdCwKICAgIGN0eXBlcy5jX2Zsb2F0LAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19ib29sLApdCmxpYi5nZ21sX3JvcGVfYmFjay5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBhbGliaSBwb3NpdGlvbiBlbWJlZGRpbmcKIyAvLyBpbi1wbGFjZSwgcmV0dXJucyB2aWV3KGEpCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9hbGliaSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBuX3Bhc3QsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgbl9oZWFkLAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIGJpYXNfbWF4KTsKZGVmIGdnbWxfYWxpYmkoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG5fcGFzdDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbl9oZWFkOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBiaWFzX21heDogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2FsaWJpKGN0eCwgYSwgbl9wYXN0LCBuX2hlYWQsIGJpYXNfbWF4KQoKCmxpYi5nZ21sX2FsaWJpLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19mbG9hdCwKXQpsaWIuZ2dtbF9hbGliaS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBjbGFtcAojIC8vIGluLXBsYWNlLCByZXR1cm5zIHZpZXcoYSkKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2NsYW1wKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgZmxvYXQgICAgICAgICAgICAgICAgIG1pbiwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBtYXgpOwpkZWYgZ2dtbF9jbGFtcCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgbWluOiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAogICAgbWF4OiBVbmlvbltjdHlwZXMuY19mbG9hdCwgZmxvYXRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJDbGFtcCB0ZW5zb3IgdmFsdWVzIGJldHdlZW4gbWluIGFuZCBtYXgKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGN0eDogZ2dtbCBjb250ZXh0CiAgICAgICAgYTogdGVuc29yCiAgICAgICAgbWluOiBtaW5pbXVtIHZhbHVlCiAgICAgICAgbWF4OiBtYXhpbXVtIHZhbHVlCgogICAgUmV0dXJuczoKICAgICAgICBQb2ludGVyIHRvIGdnbWxfdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfY2xhbXAoY3R4LCBhLCBtaW4sIG1heCkKCgpsaWIuZ2dtbF9jbGFtcC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfZmxvYXQsCiAgICBjdHlwZXMuY19mbG9hdCwKXQpsaWIuZ2dtbF9jbGFtcC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2ltMmNvbCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgczAsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICBzMSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgIHAwLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgcDEsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICBkMCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgIGQxLAojICAgICAgICAgYm9vbCAgICAgICAgICAgICAgICAgaXNfMkQpOwpkZWYgZ2dtbF9pbTJjb2woCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBzMDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgczE6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIHAwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBwMTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgZDA6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGQxOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBpc18yRDogVW5pb25bY3R5cGVzLmNfYm9vbCwgYm9vbF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9pbTJjb2woY3R4LCBhLCBiLCBzMCwgczEsIHAwLCBwMSwgZDAsIGQxLCBpc18yRCkKCgpsaWIuZ2dtbF9pbTJjb2wuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2Jvb2wsCl0KbGliLmdnbWxfaW0yY29sLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfY29udl8xZCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIHMwLCAgLy8gc3RyaWRlCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgcDAsICAvLyBwYWRkaW5nCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgZDApOyAvLyBkaWxhdGlvbgpkZWYgZ2dtbF9jb252XzFkKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgczA6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIHAwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBkMDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJDb252b2x1dGlvbiAxRAoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgYTogaW5wdXQgdGVuc29yCiAgICAgICAgYjogZmlsdGVyIHRlbnNvcgogICAgICAgIHMwOiBzdHJpZGUKICAgICAgICBwMDogcGFkZGluZwogICAgICAgIGQwOiBkaWxhdGlvbgoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2NvbnZfMWQoY3R4LCBhLCBiLCBzMCwgcDAsIGQwKQoKCmxpYi5nZ21sX2NvbnZfMWQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF9jb252XzFkLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIGNvbnZfMWQgd2l0aCBwYWRkaW5nID0gaGFsZgojIC8vIGFsaWFzIGZvciBnZ21sX2NvbnZfMWQoYSwgYiwgcywgYS0+bmVbMF0vMiwgZCkKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IqIGdnbWxfY29udl8xZF9waCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIHMsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgZCk7CmRlZiBnZ21sX2NvbnZfMWRfcGgoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBzOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBkOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkNvbnZvbHV0aW9uIDFEIHdpdGggcGFkZGluZyA9IGhhbGYKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGE6IGlucHV0IHRlbnNvcgogICAgICAgIGI6IGZpbHRlciB0ZW5zb3IKICAgICAgICBzOiBzdHJpZGUKICAgICAgICBkOiBkaWxhdGlvbgoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2NvbnZfMWRfcGgoY3R4LCBhLCBiLCBzLCBkKQoKCmxpYi5nZ21sX2NvbnZfMWRfcGguYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF9jb252XzFkX3BoLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfY29udl90cmFuc3Bvc2VfMWQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYiwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBzMCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBwMCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBkMCk7CmRlZiBnZ21sX2NvbnZfdHJhbnNwb3NlXzFkKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgczA6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIHAwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBkMDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJDb252b2x1dGlvbiB0cmFuc3Bvc2UgMUQKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGE6IGlucHV0IHRlbnNvcgogICAgICAgIGI6IGZpbHRlciB0ZW5zb3IKICAgICAgICBzMDogc3RyaWRlCiAgICAgICAgcDA6IHBhZGRpbmcKICAgICAgICBkMDogZGlsYXRpb24KCiAgICBSZXR1cm5zOgogICAgICAgIG91dHB1dCB0ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9jb252X3RyYW5zcG9zZV8xZChjdHgsIGEsIGIsIHMwLCBwMCwgZDApCgoKbGliLmdnbWxfY29udl90cmFuc3Bvc2VfMWQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF9jb252X3RyYW5zcG9zZV8xZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2NvbnZfMmQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYiwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBzMCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBzMSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBwMCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBwMSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBkMCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBkMSk7CmRlZiBnZ21sX2NvbnZfMmQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBzMDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgczE6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIHAwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBwMTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgZDA6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGQxOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkNvbnZvbHV0aW9uIDJECgogICAgUGFyYW1ldGVyczoKICAgICAgICBhOiBpbnB1dCB0ZW5zb3IKICAgICAgICBiOiBmaWx0ZXIgdGVuc29yCiAgICAgICAgczA6IHN0cmlkZQogICAgICAgIHMxOiBzdHJpZGUKICAgICAgICBwMDogcGFkZGluZwogICAgICAgIHAxOiBwYWRkaW5nCiAgICAgICAgZDA6IGRpbGF0aW9uCiAgICAgICAgZDE6IGRpbGF0aW9uCgogICAgUmV0dXJuczoKICAgICAgICBvdXRwdXQgdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfY29udl8yZChjdHgsIGEsIGIsIHMwLCBzMSwgcDAsIHAxLCBkMCwgZDEpCgoKbGliLmdnbWxfY29udl8yZC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX2NvbnZfMmQucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8ga2VybmVsIHNpemUgaXMgYS0+bmVbMF0geCBhLT5uZVsxXQojIC8vIHN0cmlkZSBpcyBlcXVhbCB0byBrZXJuZWwgc2l6ZQojIC8vIHBhZGRpbmcgaXMgemVybwojIC8vIGV4YW1wbGU6CiMgLy8gYTogICAgIDE2ICAgMTYgICAgMyAgNzY4CiMgLy8gYjogICAxMDI0IDEwMjQgICAgMyAgICAxCiMgLy8gcmVzOiAgIDY0ICAgNjQgIDc2OCAgICAxCiMgLy8gdXNlZCBpbiBzYW0KIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2NvbnZfMmRfc2tfcDAoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYik7CmRlZiBnZ21sX2NvbnZfMmRfc2tfcDAoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkNvbnZvbHV0aW9uIDJECgogICAgUGFyYW1ldGVyczoKICAgICAgICBhOiBpbnB1dCB0ZW5zb3IKICAgICAgICBiOiBmaWx0ZXIgdGVuc29yCgogICAgUmV0dXJuczoKICAgICAgICBvdXRwdXQgdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfY29udl8yZF9za19wMChjdHgsIGEsIGIpCgoKbGliLmdnbWxfY29udl8yZF9za19wMC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2NvbnZfMmRfc2tfcDAucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8ga2VybmVsIHNpemUgaXMgYS0+bmVbMF0geCBhLT5uZVsxXQojIC8vIHN0cmlkZSBpcyAxCiMgLy8gcGFkZGluZyBpcyBoYWxmCiMgLy8gZXhhbXBsZToKIyAvLyBhOiAgICAgIDMgICAgMyAgICAyNTYgIDI1NgojIC8vIGI6ICAgICA2NCAgIDY0ICAgIDI1NiAgICAxCiMgLy8gcmVzOiAgIDY0ICAgNjQgICAgMjU2ICAgIDEKIyAvLyB1c2VkIGluIHNhbQojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfY29udl8yZF9zMV9waCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBiKTsKZGVmIGdnbWxfY29udl8yZF9zMV9waCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQ29udm9sdXRpb24gMkQgd2l0aCBzdHJpZGUgPSAxIGFuZCBwYWRkaW5nID0gaGFsZgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgYTogaW5wdXQgdGVuc29yCiAgICAgICAgYjogZmlsdGVyIHRlbnNvcgoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2NvbnZfMmRfczFfcGgoY3R4LCBhLCBiKQoKCmxpYi5nZ21sX2NvbnZfMmRfczFfcGguYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9jb252XzJkX3MxX3BoLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfY29udl90cmFuc3Bvc2VfMmRfcDAoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYiwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBzdHJpZGUpOwpkZWYgZ2dtbF9jb252X3RyYW5zcG9zZV8yZF9wMCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIHN0cmlkZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJDb252b2x1dGlvbiBUcmFuc3Bvc2UgMkQgd2l0aCBwYWRkaW5nID0gemVybwoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgYTogaW5wdXQgdGVuc29yCiAgICAgICAgYjogZmlsdGVyIHRlbnNvcgogICAgICAgIHN0cmlkZTogc3RyaWRlCgogICAgUmV0dXJuczoKICAgICAgICBvdXRwdXQgdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfY29udl90cmFuc3Bvc2VfMmRfcDAoY3R4LCBhLCBiLCBzdHJpZGUpCgoKbGliLmdnbWxfY29udl90cmFuc3Bvc2VfMmRfcDAuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF9jb252X3RyYW5zcG9zZV8yZF9wMC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgojIGVudW0gZ2dtbF9vcF9wb29sIHsKIyAgICAgR0dNTF9PUF9QT09MX01BWCwKIyAgICAgR0dNTF9PUF9QT09MX0FWRywKIyAgICAgR0dNTF9PUF9QT09MX0NPVU5ULAojIH07CkdHTUxfT1BfUE9PTF9NQVggPSAwCkdHTUxfT1BfUE9PTF9BVkcgPSAxCkdHTUxfT1BfUE9PTF9DT1VOVCA9IDIKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcG9vbF8xZCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGVudW0gZ2dtbF9vcF9wb29sICAgICBvcCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBrMCwgLy8ga2VybmVsIHNpemUKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBzMCwgLy8gc3RyaWRlCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgcDApOyAvLyBwYWRkaW5nCmRlZiBnZ21sX3Bvb2xfMWQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG9wOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrMDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgczA6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIHAwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIjFEIFBvb2xpbmcKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGE6IGlucHV0IHRlbnNvcgogICAgICAgIG9wOiBwb29saW5nIG9wZXJhdGlvbgogICAgICAgIGswOiBrZXJuZWwgc2l6ZQogICAgICAgIHMwOiBzdHJpZGUKICAgICAgICBwMDogcGFkZGluZwoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3Bvb2xfMWQoY3R4LCBhLCBvcCwgazAsIHMwLCBwMCkKCgpsaWIuZ2dtbF9wb29sXzFkLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCl0KbGliLmdnbWxfcG9vbF8xZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyB0aGUgcmVzdWx0IHdpbGwgaGF2ZSAyKnAwIHBhZGRpbmcgZm9yIHRoZSBmaXJzdCBkaW1lbnNpb24KIyAvLyBhbmQgMipwMSBwYWRkaW5nIGZvciB0aGUgc2Vjb25kIGRpbWVuc2lvbgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfcG9vbF8yZCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGVudW0gZ2dtbF9vcF9wb29sICAgICBvcCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBrMCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBrMSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBzMCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBzMSwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBwMCwKIyAgICAgICAgIGZsb2F0ICAgICAgICAgICAgICAgICBwMSk7CmRlZiBnZ21sX3Bvb2xfMmQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG9wOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrMDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgazE6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIHMwOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBzMTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgcDA6IFVuaW9uW2N0eXBlcy5jX2Zsb2F0LCBmbG9hdF0sCiAgICBwMTogVW5pb25bY3R5cGVzLmNfZmxvYXQsIGZsb2F0XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiMkQgUG9vbGluZwoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgYTogaW5wdXQgdGVuc29yCiAgICAgICAgb3A6IHBvb2xpbmcgb3BlcmF0aW9uCiAgICAgICAgazA6IGtlcm5lbCBzaXplCiAgICAgICAgazE6IGtlcm5lbCBzaXplCiAgICAgICAgczA6IHN0cmlkZQogICAgICAgIHMxOiBzdHJpZGUKICAgICAgICBwMDogcGFkZGluZwogICAgICAgIHAxOiBwYWRkaW5nCgogICAgUmV0dXJuczoKICAgICAgICBvdXRwdXQgdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfcG9vbF8yZChjdHgsIGEsIG9wLCBrMCwgazEsIHMwLCBzMSwgcDAsIHAxKQoKCmxpYi5nZ21sX3Bvb2xfMmQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2Zsb2F0LAogICAgY3R5cGVzLmNfZmxvYXQsCl0KbGliLmdnbWxfcG9vbF8yZC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyAvLyBuZWFyZXN0IGludGVycG9sYXRlCiMgLy8gdXNlZCBpbiBzdGFibGUtZGlmZnVzaW9uCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF91cHNjYWxlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIHNjYWxlX2ZhY3Rvcik7CmRlZiBnZ21sX3Vwc2NhbGUoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIHNjYWxlX2ZhY3RvcjogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJVcHNjYWxlCgogICAgUGFyYW1ldGVyczoKICAgICAgICBhOiBpbnB1dCB0ZW5zb3IKICAgICAgICBzY2FsZV9mYWN0b3I6IHNjYWxlIGZhY3RvcgoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX3Vwc2NhbGUoY3R4LCBhLCBzY2FsZV9mYWN0b3IpCgoKbGliLmdnbWxfdXBzY2FsZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX3Vwc2NhbGUucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gcGFkIGVhY2ggZGltZW5zaW9uIHdpdGggemVyb3M6IFt4LCAuLi4sIHhdIC0+IFt4LCAuLi4sIHgsIDAsIC4uLiwgMF0KIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3BhZCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgIHAwLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgcDEsCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICBwMiwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgIHAzKTsKZGVmIGdnbWxfcGFkKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBwMDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgcDE6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIHAyOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBwMzogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJQYWQgdGVuc29yIHdpdGggemVyb3MKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGE6IGlucHV0IHRlbnNvcgogICAgICAgIHAwOiBwYWRkaW5nCiAgICAgICAgcDE6IHBhZGRpbmcKICAgICAgICBwMjogcGFkZGluZwogICAgICAgIHAzOiBwYWRkaW5nCgogICAgUmV0dXJuczoKICAgICAgICBvdXRwdXQgdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfcGFkKGN0eCwgYSwgcDAsIHAxLCBwMiwgcDMpCgoKbGliLmdnbWxfcGFkLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCl0KbGliLmdnbWxfcGFkLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCiMgLy8gc29ydCByb3dzCiMgZW51bSBnZ21sX3NvcnRfb3JkZXIgewojICAgICBHR01MX1NPUlRfQVNDLAojICAgICBHR01MX1NPUlRfREVTQywKIyB9OwpHR01MX1NPUlRfQVNDID0gMApHR01MX1NPUlRfREVTQyA9IDEKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfYXJnc29ydCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGVudW0gZ2dtbF9zb3J0X29yZGVyICBvcmRlcik7CmRlZiBnZ21sX2FyZ3NvcnQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIG9yZGVyOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkFyZ3NvcnQKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGE6IGlucHV0IHRlbnNvcgogICAgICAgIG9yZGVyOiBzb3J0IG9yZGVyCgogICAgUmV0dXJuczoKICAgICAgICBvdXRwdXQgdGVuc29yIiIiCiAgICByZXR1cm4gbGliLmdnbWxfYXJnc29ydChjdHgsIGEsIG9yZGVyKQoKCmxpYi5nZ21sX2FyZ3NvcnQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF9hcmdzb3J0LnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIHRvcCBrIGVsZW1lbnRzIHBlciByb3cKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3RvcF9rKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIGspOwpkZWYgZ2dtbF90b3BfaygKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgazogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJUb3AgayBlbGVtZW50cyBwZXIgcm93CgogICAgUGFyYW1ldGVyczoKICAgICAgICBhOiBpbnB1dCB0ZW5zb3IKICAgICAgICBrOiBudW1iZXIgb2YgZWxlbWVudHMKCiAgICBSZXR1cm5zOgogICAgICAgIG91dHB1dCB0ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF90b3BfayhjdHgsIGEsIGspCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2ZsYXNoX2F0dG4oCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIHEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogaywKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiB2LAojICAgICAgICAgYm9vbCAgICAgICAgICAgICAgICAgIG1hc2tlZCk7CmRlZiBnZ21sX2ZsYXNoX2F0dG4oCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgcTogZ2dtbF90ZW5zb3JfcCwKICAgIGs6IGdnbWxfdGVuc29yX3AsCiAgICB2OiBnZ21sX3RlbnNvcl9wLAogICAgbWFza2VkOiBVbmlvbltjdHlwZXMuY19ib29sLCBib29sXSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2ZsYXNoX2F0dG4oY3R4LCBxLCBrLCB2LCBtYXNrZWQpCgoKbGliLmdnbWxfZmxhc2hfYXR0bi5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfYm9vbCwKXQpsaWIuZ2dtbF9mbGFzaF9hdHRuLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfZmxhc2hfYXR0bl9iYWNrKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBxLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGssCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogdiwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBkLAojICAgICAgICAgYm9vbCAgICAgICAgICAgICAgICAgIG1hc2tlZCk7CmRlZiBnZ21sX2ZsYXNoX2F0dG5fYmFjaygKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBxOiBnZ21sX3RlbnNvcl9wLAogICAgazogZ2dtbF90ZW5zb3JfcCwKICAgIHY6IGdnbWxfdGVuc29yX3AsCiAgICBkOiBnZ21sX3RlbnNvcl9wLAogICAgbWFza2VkOiBVbmlvbltjdHlwZXMuY19ib29sLCBib29sXSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2ZsYXNoX2F0dG5fYmFjayhjdHgsIHEsIGssIHYsIGQsIG1hc2tlZCkKCgpsaWIuZ2dtbF9mbGFzaF9hdHRuX2JhY2suYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2Jvb2wsCl0KbGliLmdnbWxfZmxhc2hfYXR0bl9iYWNrLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfZmxhc2hfZmYoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYjAsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYjEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYzAsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYzEpOwpkZWYgZ2dtbF9mbGFzaF9mZigKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjA6IGdnbWxfdGVuc29yX3AsCiAgICBiMTogZ2dtbF90ZW5zb3JfcCwKICAgIGMwOiBnZ21sX3RlbnNvcl9wLAogICAgYzE6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9mbGFzaF9mZihjdHgsIGEsIGIwLCBiMSwgYzAsIGMxKQoKCmxpYi5nZ21sX2ZsYXNoX2ZmLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfZmxhc2hfZmYucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gcGFydGl0aW9uIGludG8gbm9uLW92ZXJsYXBwaW5nIHdpbmRvd3Mgd2l0aCBwYWRkaW5nIGlmIG5lZWRlZAojIC8vIGV4YW1wbGU6CiMgLy8gYTogICA3NjggICA2NCAgIDY0ICAgIDEKIyAvLyB3OiAgICAxNAojIC8vIHJlczogNzY4ICAgMTQgICAxNCAgICAyNQojIC8vIHVzZWQgaW4gc2FtCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF93aW5fcGFydCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICB3KTsKZGVmIGdnbWxfd2luX3BhcnQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIHc6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3dpbl9wYXJ0KGN0eCwgYSwgdykKCgpsaWIuZ2dtbF93aW5fcGFydC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX3dpbl9wYXJ0LnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIHJldmVyc2Ugb2YgZ2dtbF93aW5fcGFydAojIC8vIHVzZWQgaW4gc2FtCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF93aW5fdW5wYXJ0KAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIHcwLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIGgwLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgIHcpOwpkZWYgZ2dtbF93aW5fdW5wYXJ0KAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICB3MDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgaDA6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIHc6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3dpbl91bnBhcnQoY3R4LCBhLCB3MCwgaDAsIHcpCgoKbGliLmdnbWxfd2luX3VucGFydC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX3dpbl91bnBhcnQucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF91bmFyeSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICogYSwKIyAgICAgICAgICAgICBlbnVtIGdnbWxfdW5hcnlfb3Agb3ApOwpkZWYgZ2dtbF91bmFyeSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgb3A6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3VuYXJ5KGN0eCwgYSwgb3ApCgoKbGliLmdnbWxfdW5hcnkuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF91bmFyeS5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX3VuYXJ5X2lucGxhY2UoCiMgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICBlbnVtIGdnbWxfdW5hcnlfb3Agb3ApOwpkZWYgZ2dtbF91bmFyeV9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBvcDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfdW5hcnlfaW5wbGFjZShjdHgsIGEsIG9wKQoKCmxpYi5nZ21sX3VuYXJ5X2lucGxhY2UuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF91bmFyeV9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIC8vIHVzZWQgaW4gc2FtCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9nZXRfcmVsX3BvcygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBxaCwKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICBraCk7CmRlZiBnZ21sX2dldF9yZWxfcG9zKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBxaDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAga2g6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2dldF9yZWxfcG9zKGN0eCwgYSwgcWgsIGtoKQoKCmxpYi5nZ21sX2dldF9yZWxfcG9zLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCl0KbGliLmdnbWxfZ2V0X3JlbF9wb3MucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgLy8gdXNlZCBpbiBzYW0KIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2FkZF9yZWxfcG9zKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIHB3LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIHBoKTsKZGVmIGdnbWxfYWRkX3JlbF9wb3MoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIHB3OiBnZ21sX3RlbnNvcl9wLAogICAgcGg6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9hZGRfcmVsX3BvcyhjdHgsIGEsIHB3LCBwaCkKCgpsaWIuZ2dtbF9hZGRfcmVsX3Bvcy5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2FkZF9yZWxfcG9zLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfYWRkX3JlbF9wb3NfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBwdywKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgKiBwaCk7CmRlZiBnZ21sX2FkZF9yZWxfcG9zX2lucGxhY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIHB3OiBnZ21sX3RlbnNvcl9wLAogICAgcGg6IGdnbWxfdGVuc29yX3AsCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9hZGRfcmVsX3Bvc19pbnBsYWNlKGN0eCwgYSwgcHcsIHBoKQoKCmxpYi5nZ21sX2FkZF9yZWxfcG9zX2lucGxhY2UuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9hZGRfcmVsX3Bvc19pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCiMgLy8gY3VzdG9tIG9wZXJhdG9ycyAoREVQUkVDQVRFRCkKCiMgdHlwZWRlZiB2b2lkICgqZ2dtbF91bmFyeV9vcF9mMzJfdCkoY29uc3QgaW50LCBmbG9hdCAqLCBjb25zdCBmbG9hdCAqKTsKZ2dtbF91bmFyeV9vcF9mMzJfdCA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBOb25lLCBjdHlwZXMuY19pbnQsIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5jX2Zsb2F0KSwgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpCikKCiMgdHlwZWRlZiB2b2lkICgqZ2dtbF9iaW5hcnlfb3BfZjMyX3QpKGNvbnN0IGludCwgZmxvYXQgKiwgY29uc3QgZmxvYXQgKiwgY29uc3QgZmxvYXQgKik7CmdnbWxfYmluYXJ5X29wX2YzMl90ID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19mbG9hdCksCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19mbG9hdCksCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19mbG9hdCksCikKCiMgdHlwZWRlZiB2b2lkICgqZ2dtbF9jdXN0b20xX29wX2YzMl90KShzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiwgY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICopOwpnZ21sX2N1c3RvbTFfb3BfZjMyX3QgPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgTm9uZSwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKKQoiIiJVbmFyeSBvcGVyYXRvciBmdW5jdGlvbiB0eXBlIiIiCgojIHR5cGVkZWYgdm9pZCAoKmdnbWxfY3VzdG9tMl9vcF9mMzJfdCkoc3RydWN0IGdnbWxfdGVuc29yICosIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqLCBjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKik7CmdnbWxfY3VzdG9tMl9vcF9mMzJfdCA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBOb25lLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAopCiIiIkJpbmFyeSBvcGVyYXRvciBmdW5jdGlvbiB0eXBlIiIiCgojIHR5cGVkZWYgdm9pZCAoKmdnbWxfY3VzdG9tM19vcF9mMzJfdCkoc3RydWN0IGdnbWxfdGVuc29yICosIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqLCBjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiwgY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICopOwpnZ21sX2N1c3RvbTNfb3BfZjMyX3QgPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgTm9uZSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKKQoiIiJUZXJuYXJ5IG9wZXJhdG9yIGZ1bmN0aW9uIHR5cGUiIiIKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfbWFwX3VuYXJ5X2YzMigKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAgICAgICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgICAgKiBhLAojICAgICAgICAgICAgICAgIGdnbWxfdW5hcnlfb3BfZjMyX3QgICBmdW4pOwpkZWYgZ2dtbF9tYXBfdW5hcnlfZjMyKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCwgZnVuOiAiY3R5cGVzLl9GdW5jUG9pbnRlciIgICMgdHlwZTogaWdub3JlCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9tYXBfdW5hcnlfZjMyKGN0eCwgYSwgZnVuKQoKCmxpYi5nZ21sX21hcF91bmFyeV9mMzIuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGdnbWxfdW5hcnlfb3BfZjMyX3QsCl0KbGliLmdnbWxfbWFwX3VuYXJ5X2YzMi5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX21hcF91bmFyeV9pbnBsYWNlX2YzMigKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAgICAgICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgICAgKiBhLAojICAgICAgICAgICAgICAgICBnZ21sX3VuYXJ5X29wX2YzMl90ICAgZnVuKTsKZGVmIGdnbWxfbWFwX3VuYXJ5X2lucGxhY2VfZjMyKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCwgZnVuOiAiY3R5cGVzLl9GdW5jUG9pbnRlciIgICMgdHlwZTogaWdub3JlCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9tYXBfdW5hcnlfaW5wbGFjZV9mMzIoY3R4LCBhLCBmdW4pCgoKbGliLmdnbWxfbWFwX3VuYXJ5X2lucGxhY2VfZjMyLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBnZ21sX3VuYXJ5X29wX2YzMl90LApdCmxpYi5nZ21sX21hcF91bmFyeV9pbnBsYWNlX2YzMi5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX21hcF9iaW5hcnlfZjMyKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAgICAgICAgICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgICAgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAgICAgICAqIGIsCiMgICAgICAgICAgICAgICAgZ2dtbF9iaW5hcnlfb3BfZjMyX3QgICBmdW4pOwpkZWYgZ2dtbF9tYXBfYmluYXJ5X2YzMigKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIGZ1bjogImN0eXBlcy5fRnVuY1BvaW50ZXIiLCAgIyB0eXBlOiBpZ25vcmUKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9iaW5hcnlfZjMyKGN0eCwgYSwgYiwgZnVuKQoKCmxpYi5nZ21sX21hcF9iaW5hcnlfZjMyLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBnZ21sX2JpbmFyeV9vcF9mMzJfdCwKXQpsaWIuZ2dtbF9tYXBfYmluYXJ5X2YzMi5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX21hcF9iaW5hcnlfaW5wbGFjZV9mMzIoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICAgICAgICAgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgICAgICAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgICAgICogYiwKIyAgICAgICAgICAgICAgICAgZ2dtbF9iaW5hcnlfb3BfZjMyX3QgICBmdW4pOwpkZWYgZ2dtbF9tYXBfYmluYXJ5X2lucGxhY2VfZjMyKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgZnVuOiAiY3R5cGVzLl9GdW5jUG9pbnRlciIsICAjIHR5cGU6IGlnbm9yZQopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfbWFwX2JpbmFyeV9pbnBsYWNlX2YzMihjdHgsIGEsIGIsIGZ1bikKCgpsaWIuZ2dtbF9tYXBfYmluYXJ5X2lucGxhY2VfZjMyLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBnZ21sX2JpbmFyeV9vcF9mMzJfdCwKXQpsaWIuZ2dtbF9tYXBfYmluYXJ5X2lucGxhY2VfZjMyLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfbWFwX2N1c3RvbTFfZjMyKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAgICAgICAgICAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAgICAgICAgKiBhLAojICAgICAgICAgICAgICAgICBnZ21sX2N1c3RvbTFfb3BfZjMyX3QgICBmdW4pOwpkZWYgZ2dtbF9tYXBfY3VzdG9tMV9mMzIoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBnZ21sX3RlbnNvcl9wLCBmdW46ICJjdHlwZXMuX0Z1bmNQb2ludGVyIiAgIyB0eXBlOiBpZ25vcmUKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQ3VzdG9tIHVuYXJ5IG9wZXJhdG9yIG9uIGEgdGVuc29yLgoKICAgIEV4YW1wbGU6CiAgICAgICAgYGBgcHl0aG9uCiAgICAgICAgaW1wb3J0IGdnbWwKCiAgICAgICAgQGdnbWwuZ2dtbF9jdXN0b20xX29wX2YzMl90CiAgICAgICAgZGVmIGN1c3RvbV9vcChiOiBnZ21sLnRlbnNvcl9wLCBhOiBnZ21sLnRlbnNvcl9wKToKICAgICAgICAgICAgIyBkbyBzb21ldGhpbmcgd2l0aCBhIGFuZCBjb3B5IHRvIGIKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIC4uLgoKICAgICAgICBiID0gZ2dtbC5nZ21sX21hcF9jdXN0b20xX2YzMihjdHgsIGEsIGN1c3RvbV9vcCkKICAgICAgICBgYGAKCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGE6IGlucHV0IHRlbnNvcgogICAgICAgIGZ1biAoZ2dtbC5nZ21sX2N1c3RvbTFfb3BfZjMyX3QpOiBmdW5jdGlvbiB0byBhcHBseSB0byBlYWNoIGVsZW1lbnQKCiAgICBSZXR1cm5zOgogICAgICAgIG91dHB1dCB0ZW5zb3IiIiIKICAgIHJldHVybiBsaWIuZ2dtbF9tYXBfY3VzdG9tMV9mMzIoY3R4LCBhLCBmdW4pCgoKbGliLmdnbWxfbWFwX2N1c3RvbTFfZjMyLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBnZ21sX2N1c3RvbTFfb3BfZjMyX3QsCl0KbGliLmdnbWxfbWFwX2N1c3RvbTFfZjMyLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfbWFwX2N1c3RvbTFfaW5wbGFjZV9mMzIoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICAgICAgICAgICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgICAgICAqIGEsCiMgICAgICAgICAgICAgICAgIGdnbWxfY3VzdG9tMV9vcF9mMzJfdCAgIGZ1bik7CmRlZiBnZ21sX21hcF9jdXN0b20xX2lucGxhY2VfZjMyKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwgYTogZ2dtbF90ZW5zb3JfcCwgZnVuOiAiY3R5cGVzLl9DRnVuY1B0ciIgICMgdHlwZTogaWdub3JlCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgICIiIkN1c3RvbSB1bmFyeSBvcGVyYXRvciBvbiBhIHRlbnNvciBpbnBsYWNlLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgYTogaW5wdXQgdGVuc29yCiAgICAgICAgZnVuIChnZ21sLmdnbWxfY3VzdG9tMV9vcF9mMzJfdCk6IGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggZWxlbWVudAoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9jdXN0b20xX2lucGxhY2VfZjMyKGN0eCwgYSwgZnVuKQoKCmxpYi5nZ21sX21hcF9jdXN0b20xX2lucGxhY2VfZjMyLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBnZ21sX2N1c3RvbTFfb3BfZjMyX3QsCl0KbGliLmdnbWxfbWFwX2N1c3RvbTFfaW5wbGFjZV9mMzIucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tYXBfY3VzdG9tMl9mMzIoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICAgICAgICAgICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgICAgICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgICAgICAgICogYiwKIyAgICAgICAgICAgICAgICAgZ2dtbF9jdXN0b20yX29wX2YzMl90ICAgZnVuKTsKZGVmIGdnbWxfbWFwX2N1c3RvbTJfZjMyKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgZnVuOiAiY3R5cGVzLl9GdW5jUG9pbnRlciIsICAjIHR5cGU6IGlnbm9yZQopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJDdXN0b20gYmluYXJ5IG9wZXJhdG9yIG9uIHR3byB0ZW5zb3JzLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgYTogaW5wdXQgdGVuc29yCiAgICAgICAgYjogaW5wdXQgdGVuc29yCiAgICAgICAgZnVuIChnZ21sLmdnbWxfY3VzdG9tMl9vcF9mMzJfdCk6IGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggZWxlbWVudAoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9jdXN0b20yX2YzMihjdHgsIGEsIGIsIGZ1bikKCgpsaWIuZ2dtbF9tYXBfY3VzdG9tMl9mMzIuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGdnbWxfY3VzdG9tMl9vcF9mMzJfdCwKXQpsaWIuZ2dtbF9tYXBfY3VzdG9tMl9mMzIucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tYXBfY3VzdG9tMl9pbnBsYWNlX2YzMigKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAgICAgICAgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgICAgICAgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAgICAgICAgKiBiLAojICAgICAgICAgICAgICAgICBnZ21sX2N1c3RvbTJfb3BfZjMyX3QgICBmdW4pOwpkZWYgZ2dtbF9tYXBfY3VzdG9tMl9pbnBsYWNlX2YzMigKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIGZ1bjogImN0eXBlcy5fRnVuY1BvaW50ZXIiLCAgIyB0eXBlOiBpZ25vcmUKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQ3VzdG9tIGJpbmFyeSBvcGVyYXRvciBvbiB0d28gdGVuc29ycyBpbnBsYWNlLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgYTogaW5wdXQgdGVuc29yCiAgICAgICAgYjogaW5wdXQgdGVuc29yCiAgICAgICAgZnVuIChnZ21sLmdnbWxfY3VzdG9tMl9vcF9mMzJfdCk6IGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggZWxlbWVudAoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9jdXN0b20yX2lucGxhY2VfZjMyKGN0eCwgYSwgYiwgZnVuKQoKCmxpYi5nZ21sX21hcF9jdXN0b20yX2lucGxhY2VfZjMyLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBnZ21sX2N1c3RvbTJfb3BfZjMyX3QsCl0KbGliLmdnbWxfbWFwX2N1c3RvbTJfaW5wbGFjZV9mMzIucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tYXBfY3VzdG9tM19mMzIoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICAgICAgICAgICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgICAgICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgICAgICAgICogYiwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAgICAgICAgKiBjLAojICAgICAgICAgICAgICAgICBnZ21sX2N1c3RvbTNfb3BfZjMyX3QgICBmdW4pOwpkZWYgZ2dtbF9tYXBfY3VzdG9tM19mMzIoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBjOiBnZ21sX3RlbnNvcl9wLAogICAgZnVuOiAiY3R5cGVzLl9GdW5jUG9pbnRlciIsICAjIHR5cGU6IGlnbm9yZQopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJDdXN0b20gdGVybmFyeSBvcGVyYXRvciBvbiB0aHJlZSB0ZW5zb3JzLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgYTogaW5wdXQgdGVuc29yCiAgICAgICAgYjogaW5wdXQgdGVuc29yCiAgICAgICAgYzogaW5wdXQgdGVuc29yCiAgICAgICAgZnVuIChnZ21sLmdnbWxfY3VzdG9tM19vcF9mMzJfdCk6IGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggZWxlbWVudAoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9jdXN0b20zX2YzMihjdHgsIGEsIGIsIGMsIGZ1bikKCgpsaWIuZ2dtbF9tYXBfY3VzdG9tM19mMzIuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGdnbWxfY3VzdG9tM19vcF9mMzJfdCwKXQpsaWIuZ2dtbF9tYXBfY3VzdG9tM19mMzIucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tYXBfY3VzdG9tM19pbnBsYWNlX2YzMigKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAgICAgICAgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgICAgICAgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAgICAgICAgKiBiLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgICAgICAqIGMsCiMgICAgICAgICAgICAgICAgIGdnbWxfY3VzdG9tM19vcF9mMzJfdCAgIGZ1bik7CmRlZiBnZ21sX21hcF9jdXN0b20zX2lucGxhY2VfZjMyKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgYzogZ2dtbF90ZW5zb3JfcCwKICAgIGZ1bjogImN0eXBlcy5fRnVuY1BvaW50ZXIiLCAgIyB0eXBlOiBpZ25vcmUKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgIiIiQ3VzdG9tIHRlcm5hcnkgb3BlcmF0b3Igb24gdGhyZWUgdGVuc29ycyBpbnBsYWNlLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgYTogaW5wdXQgdGVuc29yCiAgICAgICAgYjogaW5wdXQgdGVuc29yCiAgICAgICAgYzogaW5wdXQgdGVuc29yCiAgICAgICAgZnVuIChnZ21sLmdnbWxfY3VzdG9tM19vcF9mMzJfdCk6IGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggZWxlbWVudAoKICAgIFJldHVybnM6CiAgICAgICAgb3V0cHV0IHRlbnNvciIiIgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9jdXN0b20zX2lucGxhY2VfZjMyKGN0eCwgYSwgYiwgYywgZnVuKQoKCmxpYi5nZ21sX21hcF9jdXN0b20zX2lucGxhY2VfZjMyLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBnZ21sX2N1c3RvbTNfb3BfZjMyX3QsCl0KbGliLmdnbWxfbWFwX2N1c3RvbTNfaW5wbGFjZV9mMzIucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKIyAvLyBjdXN0b20gb3BlcmF0b3JzIHYyCgojIHR5cGVkZWYgdm9pZCAoKmdnbWxfY3VzdG9tMV9vcF90KShzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBkc3QgLCBjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBhLCBpbnQgaXRoLCBpbnQgbnRoLCB2b2lkICogdXNlcmRhdGEpOwpnZ21sX2N1c3RvbTFfb3BfdCA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBOb25lLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfdm9pZF9wLAopCiIiIkN1c3RvbSB1bmFyeSBvcGVyYXRvciBvbiBhIHRlbnNvci4iIiIKCiMgdHlwZWRlZiB2b2lkICgqZ2dtbF9jdXN0b20yX29wX3QpKHN0cnVjdCBnZ21sX3RlbnNvciAqIGRzdCAsIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIGEsIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIGIsIGludCBpdGgsIGludCBudGgsIHZvaWQgKiB1c2VyZGF0YSk7CmdnbWxfY3VzdG9tMl9vcF90ID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY192b2lkX3AsCikKIiIiQ3VzdG9tIGJpbmFyeSBvcGVyYXRvciBvbiB0d28gdGVuc29ycy4iIiIKCiMgdHlwZWRlZiB2b2lkICgqZ2dtbF9jdXN0b20zX29wX3QpKHN0cnVjdCBnZ21sX3RlbnNvciAqIGRzdCAsIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIGEsIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIGIsIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIGMsIGludCBpdGgsIGludCBudGgsIHZvaWQgKiB1c2VyZGF0YSk7CmdnbWxfY3VzdG9tM19vcF90ID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY192b2lkX3AsCikKIiIiQ3VzdG9tIHRlcm5hcnkgb3BlcmF0b3Igb24gdGhyZWUgdGVuc29ycy4iIiIKCiMgI2RlZmluZSBHR01MX05fVEFTS1NfTUFYIC0xCkdHTUxfTl9UQVNLU19NQVggPSAtMQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tYXBfY3VzdG9tMSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAqIGEsCiMgICAgICAgICBnZ21sX2N1c3RvbTFfb3BfdCAgICAgICBmdW4sCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgICBuX3Rhc2tzLAojICAgICAgICAgdm9pZCAgICAgICAgICAgICAgICAgICogdXNlcmRhdGEpOwpkZWYgZ2dtbF9tYXBfY3VzdG9tMSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgZnVuOiAiY3R5cGVzLl9GdW5jUG9pbnRlciIsICAjIHR5cGU6IGlnbm9yZQogICAgbl90YXNrczogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgdXNlcmRhdGE6IE9wdGlvbmFsW2N0eXBlcy5jX3ZvaWRfcF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9tYXBfY3VzdG9tMShjdHgsIGEsIGZ1biwgbl90YXNrcywgdXNlcmRhdGEpCgoKbGliLmdnbWxfbWFwX2N1c3RvbTEuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGdnbWxfY3VzdG9tMV9vcF90LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfdm9pZF9wLApdCmxpYi5nZ21sX21hcF9jdXN0b20xLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfbWFwX2N1c3RvbTFfaW5wbGFjZSgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAqIGEsCiMgICAgICAgICBnZ21sX2N1c3RvbTFfb3BfdCAgICAgICBmdW4sCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgICBuX3Rhc2tzLAojICAgICAgICAgdm9pZCAgICAgICAgICAgICAgICAgICogdXNlcmRhdGEpOwpkZWYgZ2dtbF9tYXBfY3VzdG9tMV9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBmdW46ICJjdHlwZXMuX0Z1bmNQb2ludGVyIiwgICMgdHlwZTogaWdub3JlCiAgICBuX3Rhc2tzOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICB1c2VyZGF0YTogT3B0aW9uYWxbY3R5cGVzLmNfdm9pZF9wXSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9jdXN0b20xX2lucGxhY2UoY3R4LCBhLCBmdW4sIG5fdGFza3MsIHVzZXJkYXRhKQoKCmxpYi5nZ21sX21hcF9jdXN0b20xX2lucGxhY2UuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGdnbWxfY3VzdG9tMV9vcF90LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfdm9pZF9wLApdCmxpYi5nZ21sX21hcF9jdXN0b20xX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tYXBfY3VzdG9tMigKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgKiBiLAojICAgICAgICAgZ2dtbF9jdXN0b20yX29wX3QgICAgICAgZnVuLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgICAgbl90YXNrcywKIyAgICAgICAgIHZvaWQgICAgICAgICAgICAgICAgICAqIHVzZXJkYXRhKTsKZGVmIGdnbWxfbWFwX2N1c3RvbTIoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogZ2dtbF90ZW5zb3JfcCwKICAgIGI6IGdnbWxfdGVuc29yX3AsCiAgICBmdW46ICJjdHlwZXMuX0Z1bmNQb2ludGVyIiwgICMgdHlwZTogaWdub3JlCiAgICBuX3Rhc2tzOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICB1c2VyZGF0YTogT3B0aW9uYWxbY3R5cGVzLmNfdm9pZF9wXSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9jdXN0b20yKGN0eCwgYSwgYiwgZnVuLCBuX3Rhc2tzLCB1c2VyZGF0YSkKCgpsaWIuZ2dtbF9tYXBfY3VzdG9tMi5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgZ2dtbF9jdXN0b20yX29wX3QsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY192b2lkX3AsCl0KbGliLmdnbWxfbWFwX2N1c3RvbTIucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tYXBfY3VzdG9tMl9pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAgICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAqIGIsCiMgICAgICAgICBnZ21sX2N1c3RvbTJfb3BfdCAgICAgICBmdW4sCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgICBuX3Rhc2tzLAojICAgICAgICAgdm9pZCAgICAgICAgICAgICAgICAgICogdXNlcmRhdGEpOwpkZWYgZ2dtbF9tYXBfY3VzdG9tMl9pbnBsYWNlKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgZnVuOiAiY3R5cGVzLl9GdW5jUG9pbnRlciIsICAjIHR5cGU6IGlnbm9yZQogICAgbl90YXNrczogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgdXNlcmRhdGE6IE9wdGlvbmFsW2N0eXBlcy5jX3ZvaWRfcF0sCikgLT4gZ2dtbF90ZW5zb3JfcDoKICAgIHJldHVybiBsaWIuZ2dtbF9tYXBfY3VzdG9tMl9pbnBsYWNlKGN0eCwgYSwgYiwgZnVuLCBuX3Rhc2tzLCB1c2VyZGF0YSkKCgpsaWIuZ2dtbF9tYXBfY3VzdG9tMl9pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBnZ21sX2N1c3RvbTJfb3BfdCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX3ZvaWRfcCwKXQpsaWIuZ2dtbF9tYXBfY3VzdG9tMl9pbnBsYWNlLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfbWFwX2N1c3RvbTMoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICAgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgKiBhLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICogYiwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAqIGMsCiMgICAgICAgICBnZ21sX2N1c3RvbTNfb3BfdCAgICAgICBmdW4sCiMgICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgICBuX3Rhc2tzLAojICAgICAgICAgdm9pZCAgICAgICAgICAgICAgICAgICogdXNlcmRhdGEpOwpkZWYgZ2dtbF9tYXBfY3VzdG9tMygKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIGM6IGdnbWxfdGVuc29yX3AsCiAgICBmdW46ICJjdHlwZXMuX0Z1bmNQb2ludGVyIiwgICMgdHlwZTogaWdub3JlCiAgICBuX3Rhc2tzOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICB1c2VyZGF0YTogT3B0aW9uYWxbY3R5cGVzLmNfdm9pZF9wXSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9jdXN0b20zKGN0eCwgYSwgYiwgYywgZnVuLCBuX3Rhc2tzLCB1c2VyZGF0YSkKCgpsaWIuZ2dtbF9tYXBfY3VzdG9tMy5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgZ2dtbF9jdXN0b20zX29wX3QsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuY192b2lkX3AsCl0KbGliLmdnbWxfbWFwX2N1c3RvbTMucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9tYXBfY3VzdG9tM19pbnBsYWNlKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAgICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICogYSwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAqIGIsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgKiBjLAojICAgICAgICAgZ2dtbF9jdXN0b20zX29wX3QgICAgICAgZnVuLAojICAgICAgICAgaW50ICAgICAgICAgICAgICAgICAgICAgbl90YXNrcywKIyAgICAgICAgIHZvaWQgICAgICAgICAgICAgICAgICAqIHVzZXJkYXRhKTsKZGVmIGdnbWxfbWFwX2N1c3RvbTNfaW5wbGFjZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBhOiBnZ21sX3RlbnNvcl9wLAogICAgYjogZ2dtbF90ZW5zb3JfcCwKICAgIGM6IGdnbWxfdGVuc29yX3AsCiAgICBmdW46ICJjdHlwZXMuX0Z1bmNQb2ludGVyIiwgICMgdHlwZTogaWdub3JlCiAgICBuX3Rhc2tzOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICB1c2VyZGF0YTogT3B0aW9uYWxbY3R5cGVzLmNfdm9pZF9wXSwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX21hcF9jdXN0b20zX2lucGxhY2UoY3R4LCBhLCBiLCBjLCBmdW4sIG5fdGFza3MsIHVzZXJkYXRhKQoKCmxpYi5nZ21sX21hcF9jdXN0b20zX2lucGxhY2UuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGdnbWxfY3VzdG9tM19vcF90LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfdm9pZF9wLApdCmxpYi5nZ21sX21hcF9jdXN0b20zX2lucGxhY2UucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKIyAvLyBsb3NzIGZ1bmN0aW9uCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnZ21sX2Nyb3NzX2VudHJvcHlfbG9zcygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAgICAgICAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAgICAgICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgICAgICAgKiBiKTsKZGVmIGdnbWxfY3Jvc3NfZW50cm9weV9sb3NzKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICByZXR1cm4gbGliLmdnbWxfY3Jvc3NfZW50cm9weV9sb3NzKGN0eCwgYSwgYikKCgpsaWIuZ2dtbF9jcm9zc19lbnRyb3B5X2xvc3MuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9jcm9zc19lbnRyb3B5X2xvc3MucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfdGVuc29yICogZ2dtbF9jcm9zc19lbnRyb3B5X2xvc3NfYmFjaygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAgICAgICAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAgICAgICAgICAqIGEsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICAgICAgICAgKiBiLAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAgICAgICAgICogYyk7CmRlZiBnZ21sX2Nyb3NzX2VudHJvcHlfbG9zc19iYWNrKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGE6IGdnbWxfdGVuc29yX3AsCiAgICBiOiBnZ21sX3RlbnNvcl9wLAogICAgYzogZ2dtbF90ZW5zb3JfcCwKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2Nyb3NzX2VudHJvcHlfbG9zc19iYWNrKGN0eCwgYSwgYiwgYykKCgpsaWIuZ2dtbF9jcm9zc19lbnRyb3B5X2xvc3NfYmFjay5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2Nyb3NzX2VudHJvcHlfbG9zc19iYWNrLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKCiMgLy8KIyAvLyBhdXRvbWF0aWMgZGlmZmVyZW50aWF0aW9uCiMgLy8KCgojIEdHTUxfQVBJIHZvaWQgZ2dtbF9zZXRfcGFyYW0oCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICAqIHRlbnNvcik7CmRlZiBnZ21sX3NldF9wYXJhbShjdHg6IGdnbWxfY29udGV4dF9wLCB0ZW5zb3I6IGdnbWxfdGVuc29yX3ApOgogICAgcmV0dXJuIGxpYi5nZ21sX3NldF9wYXJhbShjdHgsIHRlbnNvcikKCgpsaWIuZ2dtbF9zZXRfcGFyYW0uYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfc2V0X3BhcmFtLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSB2b2lkIGdnbWxfYnVpbGRfZm9yd2FyZF9leHBhbmQgKHN0cnVjdCBnZ21sX2NncmFwaCAqIGNncmFwaCwgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfYnVpbGRfZm9yd2FyZF9leHBhbmQoCiAgICBjZ3JhcGg6IGdnbWxfY2dyYXBoX3AsCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCik6CiAgICAiIiJBZGQgYSB0ZW5zb3IgdG8gdGhlIGZvcndhcmQgY29tcHV0YXRpb24gZ3JhcGguIFRoaXMgaXMgdXNlZCB0bwogICAgY29tcHV0ZSBhbmQgc2F2ZSB0aGUgdmFsdWUgb2YgdGhlIHRlbnNvci4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGNncmFwaDogVGhlIGdyYXBoLgogICAgICAgIHRlbnNvcjogVGhlIHRlbnNvci4iIiIKICAgIHJldHVybiBsaWIuZ2dtbF9idWlsZF9mb3J3YXJkX2V4cGFuZChjZ3JhcGgsIHRlbnNvcikKCgpsaWIuZ2dtbF9idWlsZF9mb3J3YXJkX2V4cGFuZC5hcmd0eXBlcyA9IFsKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9idWlsZF9mb3J3YXJkX2V4cGFuZC5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2J1aWxkX2JhY2t3YXJkX2V4cGFuZChzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LCBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBnZiwgc3RydWN0IGdnbWxfY2dyYXBoICogZ2IsIGJvb2wga2VlcCk7CmRlZiBnZ21sX2J1aWxkX2JhY2t3YXJkX2V4cGFuZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBnZjogZ2dtbF9jZ3JhcGhfcCwKICAgIGdiOiBnZ21sX2NncmFwaF9wLAogICAga2VlcDogVW5pb25bY3R5cGVzLmNfYm9vbCwgYm9vbF0sCik6CiAgICAiIiJBZGQgYSB0ZW5zb3IgdG8gdGhlIGJhY2t3YXJkIGNvbXB1dGF0aW9uIGdyYXBoLiBUaGlzIGlzIHVzZWQgdG8KICAgIGNvbXB1dGUgdGhlIGdyYWRpZW50IG9mIHRoZSB0ZW5zb3IuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IFRoZSBjb250ZXh0LgogICAgICAgIGdmOiBUaGUgZm9yd2FyZCBncmFwaC4KICAgICAgICBnYjogVGhlIGJhY2t3YXJkIGdyYXBoLgogICAgICAgIGtlZXA6IFdoZXRoZXIgdG8ga2VlcCB0aGUgdGVuc29yLiIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2J1aWxkX2JhY2t3YXJkX2V4cGFuZChjdHgsIGdmLCBnYiwga2VlcCkKCgpsaWIuZ2dtbF9idWlsZF9iYWNrd2FyZF9leHBhbmQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKSwKICAgIGN0eXBlcy5jX2Jvb2wsCl0KbGliLmdnbWxfYnVpbGRfYmFja3dhcmRfZXhwYW5kLnJlc3R5cGUgPSBOb25lCgoKIyAvLyBncmFwaCBhbGxvY2F0aW9uIGluIGEgY29udGV4dAojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX2NncmFwaCAqIGdnbWxfbmV3X2dyYXBoICAgICAgICAgKHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgpOyAvLyBzaXplID0gR0dNTF9ERUZBVUxUX0dSQVBIX1NJWkUsIGdyYWRzID0gZmFsc2UKZGVmIGdnbWxfbmV3X2dyYXBoKGN0eDogZ2dtbF9jb250ZXh0X3ApIC0+IGdnbWxfY2dyYXBoX3A6CiAgICAiIiJDcmVhdGUgYSBuZXcgZ3JhcGguCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IFRoZSBjb250ZXh0LgoKICAgIFJldHVybnM6CiAgICAgICAgVGhlIGdyYXBoLiIiIgogICAgcmV0dXJuIGxpYi5nZ21sX25ld19ncmFwaChjdHgpCgoKbGliLmdnbWxfbmV3X2dyYXBoLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wXQpsaWIuZ2dtbF9uZXdfZ3JhcGgucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfY2dyYXBoICogZ2dtbF9uZXdfZ3JhcGhfY3VzdG9tICAoc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwgc2l6ZV90IHNpemUsIGJvb2wgZ3JhZHMpOwpkZWYgZ2dtbF9uZXdfZ3JhcGhfY3VzdG9tKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIHNpemU6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKICAgIGdyYWRzOiBVbmlvbltjdHlwZXMuY19ib29sLCBib29sXSwKKSAtPiBnZ21sX2NncmFwaF9wOgogICAgIiIiQ3JlYXRlIGEgbmV3IGdyYXBoIHdpdGggY3VzdG9tIHNpemUgYW5kIGdyYWRzLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY3R4OiBUaGUgY29udGV4dC4KICAgICAgICBzaXplOiBUaGUgc2l6ZSBvZiB0aGUgZ3JhcGguCiAgICAgICAgZ3JhZHM6IFdoZXRoZXIgdG8ga2VlcCB0aGUgZ3JhZGllbnRzLgoKICAgIFJldHVybnM6CiAgICAgICAgVGhlIGdyYXBoLiIiIgogICAgcmV0dXJuIGxpYi5nZ21sX25ld19ncmFwaF9jdXN0b20oY3R4LCBzaXplLCBncmFkcykKCgpsaWIuZ2dtbF9uZXdfZ3JhcGhfY3VzdG9tLmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBjdHlwZXMuY19zaXplX3QsIGN0eXBlcy5jX2Jvb2xdCmxpYi5nZ21sX25ld19ncmFwaF9jdXN0b20ucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKQoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfY2dyYXBoICogZ2dtbF9ncmFwaF9kdXAgICAgICAgICAoc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwgc3RydWN0IGdnbWxfY2dyYXBoICogY2dyYXBoKTsKZGVmIGdnbWxfZ3JhcGhfZHVwKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGNncmFwaDogZ2dtbF9jZ3JhcGhfcCwKKSAtPiBnZ21sX2NncmFwaF9wOgogICAgIiIiRHVwbGljYXRlIGEgZ3JhcGguCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IFRoZSBjb250ZXh0LgogICAgICAgIGNncmFwaDogVGhlIGdyYXBoLgoKICAgIFJldHVybnM6CiAgICAgICAgVGhlIGdyYXBoLiIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dyYXBoX2R1cChjdHgsIGNncmFwaCkKCgpsaWIuZ2dtbF9ncmFwaF9kdXAuYXJndHlwZXMgPSBbZ2dtbF9jb250ZXh0X3AsIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKV0KbGliLmdnbWxfZ3JhcGhfZHVwLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCkKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX2NncmFwaCAgIGdnbWxfZ3JhcGhfdmlldyAgICAgICAgKHN0cnVjdCBnZ21sX2NncmFwaCAqIGNncmFwaCwgaW50IGkwLCBpbnQgaTEpOwpkZWYgZ2dtbF9ncmFwaF92aWV3KAogICAgY2dyYXBoOiBnZ21sX2NncmFwaF9wLAogICAgaTA6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGkxOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCikgLT4gZ2dtbF9jZ3JhcGg6CiAgICAiIiJWaWV3IGEgZ3JhcGguCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjZ3JhcGg6IFRoZSBncmFwaC4KICAgICAgICBpMDogVGhlIHN0YXJ0IGluZGV4LgogICAgICAgIGkxOiBUaGUgZW5kIGluZGV4LgoKICAgIFJldHVybnM6CiAgICAgICAgVGhlIGdyYXBoLiIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dyYXBoX3ZpZXcoY2dyYXBoLCBpMCwgaTEpCgoKbGliLmdnbWxfZ3JhcGhfdmlldy5hcmd0eXBlcyA9IFtjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksIGN0eXBlcy5jX2ludCwgY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF9ncmFwaF92aWV3LnJlc3R5cGUgPSBnZ21sX2NncmFwaAoKCiMgR0dNTF9BUEkgdm9pZCAgICAgICAgICAgICAgICAgZ2dtbF9ncmFwaF9jcHkgICAgICAgICAoc3RydWN0IGdnbWxfY2dyYXBoICogc3JjLCBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBkc3QpOwpkZWYgZ2dtbF9ncmFwaF9jcHkoCiAgICBzcmM6IGdnbWxfY2dyYXBoX3AsCiAgICBkc3Q6IGdnbWxfY2dyYXBoX3AsCik6CiAgICAiIiJDb3B5IGEgZ3JhcGguCgogICAgUGFyYW1ldGVyczoKICAgICAgICBzcmM6IFRoZSBzb3VyY2UgZ3JhcGguCiAgICAgICAgZHN0OiBUaGUgZGVzdGluYXRpb24gZ3JhcGguIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZ3JhcGhfY3B5KHNyYywgZHN0KQoKCmxpYi5nZ21sX2dyYXBoX2NweS5hcmd0eXBlcyA9IFtjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKV0KbGliLmdnbWxfZ3JhcGhfY3B5LnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSB2b2lkICAgICAgICAgICAgICAgICBnZ21sX2dyYXBoX3Jlc2V0ICAgICAgIChzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBjZ3JhcGgpOyAgLy8gemVybyBncmFkcwpkZWYgZ2dtbF9ncmFwaF9yZXNldCgKICAgIGNncmFwaDogZ2dtbF9jZ3JhcGhfcCwKKToKICAgICIiIlJlc2V0IGEgZ3JhcGguCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjZ3JhcGg6IFRoZSBncmFwaC4iIiIKICAgIHJldHVybiBsaWIuZ2dtbF9ncmFwaF9yZXNldChjZ3JhcGgpCgoKbGliLmdnbWxfZ3JhcGhfcmVzZXQuYXJndHlwZXMgPSBbY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpXQpsaWIuZ2dtbF9ncmFwaF9yZXNldC5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCAgICAgICAgICAgICAgICAgZ2dtbF9ncmFwaF9jbGVhciAgICAgICAoc3RydWN0IGdnbWxfY2dyYXBoICogY2dyYXBoKTsKZGVmIGdnbWxfZ3JhcGhfY2xlYXIoCiAgICBjZ3JhcGg6IGdnbWxfY2dyYXBoX3AsCik6CiAgICAiIiJDbGVhciBhIGdyYXBoLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY2dyYXBoOiBUaGUgZ3JhcGguIiIiCiAgICByZXR1cm4gbGliLmdnbWxfZ3JhcGhfY2xlYXIoY2dyYXBoKQoKCmxpYi5nZ21sX2dyYXBoX2NsZWFyLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKV0KbGliLmdnbWxfZ3JhcGhfY2xlYXIucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIHNpemVfdCBnZ21sX2dyYXBoX292ZXJoZWFkKHZvaWQpOwpkZWYgZ2dtbF9ncmFwaF9vdmVyaGVhZCgpIC0+IGludDoKICAgICIiIkdldCB0aGUgb3ZlcmhlYWQgb2YgdGhlIGdyYXBoLiIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dyYXBoX292ZXJoZWFkKCkKCgpsaWIuZ2dtbF9ncmFwaF9vdmVyaGVhZC5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX2dyYXBoX292ZXJoZWFkLnJlc3R5cGUgPSBjdHlwZXMuY19zaXplX3QKCgojIEdHTUxfQVBJIHNpemVfdCBnZ21sX2dyYXBoX292ZXJoZWFkX2N1c3RvbShzaXplX3Qgc2l6ZSwgYm9vbCBncmFkcyk7CmRlZiBnZ21sX2dyYXBoX292ZXJoZWFkX2N1c3RvbSgKICAgIHNpemU6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKICAgIGdyYWRzOiBVbmlvbltjdHlwZXMuY19ib29sLCBib29sXSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfZ3JhcGhfb3ZlcmhlYWRfY3VzdG9tKHNpemUsIGdyYWRzKQoKCmxpYi5nZ21sX2dyYXBoX292ZXJoZWFkX2N1c3RvbS5hcmd0eXBlcyA9IFtjdHlwZXMuY19zaXplX3QsIGN0eXBlcy5jX2Jvb2xdCmxpYi5nZ21sX2dyYXBoX292ZXJoZWFkX2N1c3RvbS5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyAvLyBnZ21sX2dyYXBoX3BsYW4oKSBoYXMgdG8gYmUgY2FsbGVkIGJlZm9yZSBnZ21sX2dyYXBoX2NvbXB1dGUoKQojIC8vIHdoZW4gcGxhbi53b3JrX3NpemUgPiAwLCBjYWxsZXIgbXVzdCBhbGxvY2F0ZSBtZW1vcnkgZm9yIHBsYW4ud29ya19kYXRhCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfY3BsYW4gZ2dtbF9ncmFwaF9wbGFuICAgKHN0cnVjdCBnZ21sX2NncmFwaCAqIGNncmFwaCwgaW50IG5fdGhyZWFkcyAvKj0gR0dNTF9ERUZBVUxUX05fVEhSRUFEUyovKTsKZGVmIGdnbWxfZ3JhcGhfcGxhbigKICAgIGNncmFwaDogZ2dtbF9jZ3JhcGhfcCwKICAgIG5fdGhyZWFkczogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdID0gR0dNTF9ERUZBVUxUX05fVEhSRUFEUywKKSAtPiBnZ21sX2NwbGFuOgogICAgIiIiUGxhbiB0aGUgY29tcHV0YXRpb24gZ3JhcGguCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjZ3JhcGg6IFRoZSBncmFwaC4KICAgICAgICBuX3RocmVhZHM6IFRoZSBudW1iZXIgb2YgdGhyZWFkcyB0byB1c2UuCgogICAgUmV0dXJuczoKICAgICAgICBUaGUgcGxhbi4iIiIKICAgIHJldHVybiBsaWIuZ2dtbF9ncmFwaF9wbGFuKGNncmFwaCwgbl90aHJlYWRzKQoKCmxpYi5nZ21sX2dyYXBoX3BsYW4uYXJndHlwZXMgPSBbCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCiAgICBjdHlwZXMuY19pbnQsCl0KbGliLmdnbWxfZ3JhcGhfcGxhbi5yZXN0eXBlID0gZ2dtbF9jcGxhbgoKCiMgR0dNTF9BUEkgaW50ICAgICAgICAgICAgICAgZ2dtbF9ncmFwaF9jb21wdXRlKHN0cnVjdCBnZ21sX2NncmFwaCAqIGNncmFwaCwgc3RydWN0IGdnbWxfY3BsYW4gKiBjcGxhbik7CmRlZiBnZ21sX2dyYXBoX2NvbXB1dGUoCiAgICBjZ3JhcGg6IGdnbWxfY2dyYXBoX3AsCiAgICBjcGxhbjogZ2dtbF9jcGxhbl9wLAopIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9ncmFwaF9jb21wdXRlKGNncmFwaCwgY3BsYW4pCgoKbGliLmdnbWxfZ3JhcGhfY29tcHV0ZS5hcmd0eXBlcyA9IFsKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfY3BsYW4pLApdCmxpYi5nZ21sX2dyYXBoX2NvbXB1dGUucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgLy8gc2FtZSBhcyBnZ21sX2dyYXBoX2NvbXB1dGUoKSBidXQgdGhlIHdvcmsgZGF0YSBpcyBhbGxvY2F0ZWQgYXMgYSBwYXJ0IG9mIHRoZSBjb250ZXh0CiMgLy8gbm90ZTogdGhlIGRyYXdiYWNrIG9mIHRoaXMgQVBJIGlzIHRoYXQgeW91IG11c3QgaGF2ZSBlbnN1cmVkIHRoYXQgdGhlIGNvbnRleHQgaGFzIGVub3VnaCBtZW1vcnkgZm9yIHRoZSB3b3JrIGRhdGEKIyBHR01MX0FQSSB2b2lkIGdnbWxfZ3JhcGhfY29tcHV0ZV93aXRoX2N0eChzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LCBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBjZ3JhcGgsIGludCBuX3RocmVhZHMpOwpkZWYgZ2dtbF9ncmFwaF9jb21wdXRlX3dpdGhfY3R4KAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGNncmFwaDogZ2dtbF9jZ3JhcGhfcCwKICAgIG5fdGhyZWFkczogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopOgogICAgIiIiQ29tcHV0ZSB0aGUgZ3JhcGggd2l0aCBhIGNvbnRleHQuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjdHg6IFRoZSBjb250ZXh0LgogICAgICAgIGNncmFwaDogVGhlIGdyYXBoLgogICAgICAgIG5fdGhyZWFkczogVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZS4iIiIKICAgIHJldHVybiBsaWIuZ2dtbF9ncmFwaF9jb21wdXRlX3dpdGhfY3R4KGN0eCwgY2dyYXBoLCBuX3RocmVhZHMpCgoKbGliLmdnbWxfZ3JhcGhfY29tcHV0ZV93aXRoX2N0eC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX2dyYXBoX2NvbXB1dGVfd2l0aF9jdHgucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX3RlbnNvciAqIGdnbWxfZ3JhcGhfZ2V0X3RlbnNvcihzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBjZ3JhcGgsIGNvbnN0IGNoYXIgKiBuYW1lKTsKZGVmIGdnbWxfZ3JhcGhfZ2V0X3RlbnNvcigKICAgIGNncmFwaDogZ2dtbF9jZ3JhcGhfcCwKICAgIG5hbWU6IGJ5dGVzLAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICAiIiJHZXQgYSB0ZW5zb3IgZnJvbSB0aGUgZ3JhcGggYnkgbmFtZS4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGNncmFwaDogVGhlIGdyYXBoLgogICAgICAgIG5hbWU6IFRoZSBuYW1lIG9mIHRoZSB0ZW5zb3IuCgogICAgUmV0dXJuczoKICAgICAgICBUaGUgdGVuc29yLiIiIgogICAgcmV0dXJuIGxpYi5nZ21sX2dyYXBoX2dldF90ZW5zb3IoY2dyYXBoLCBuYW1lKQoKCmxpYi5nZ21sX2dyYXBoX2dldF90ZW5zb3IuYXJndHlwZXMgPSBbCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCiAgICBjdHlwZXMuY19jaGFyX3AsCl0KbGliLmdnbWxfZ3JhcGhfZ2V0X3RlbnNvci5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCgoKIyBHR01MX0FQSSB2b2lkICAgICAgICAgICAgICAgICBnZ21sX2dyYXBoX2V4cG9ydChjb25zdCBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBjZ3JhcGgsIGNvbnN0IGNoYXIgKiBmbmFtZSk7CmRlZiBnZ21sX2dyYXBoX2V4cG9ydCgKICAgIGNncmFwaDogZ2dtbF9jZ3JhcGhfcCwKICAgIGZuYW1lOiBieXRlcywKKToKICAgIHJldHVybiBsaWIuZ2dtbF9ncmFwaF9leHBvcnQoY2dyYXBoLCBmbmFtZSkKCgpsaWIuZ2dtbF9ncmFwaF9leHBvcnQuYXJndHlwZXMgPSBbCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCiAgICBjdHlwZXMuY19jaGFyX3AsCl0KbGliLmdnbWxfZ3JhcGhfZXhwb3J0LnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBnZ21sX2dyYXBoX2ltcG9ydChjb25zdCBjaGFyICogZm5hbWUsIHN0cnVjdCBnZ21sX2NvbnRleHQgKiogY3R4X2RhdGEsIHN0cnVjdCBnZ21sX2NvbnRleHQgKiogY3R4X2V2YWwpOwpkZWYgZ2dtbF9ncmFwaF9pbXBvcnQoCiAgICBmbmFtZTogYnl0ZXMsCiAgICBjdHhfZGF0YTogImN0eXBlcy5fUG9pbnRlcltnZ21sX2NvbnRleHRfcF0iLCAgIyB0eXBlOiBpZ25vcmUKICAgIGN0eF9ldmFsOiAiY3R5cGVzLl9Qb2ludGVyW2dnbWxfY29udGV4dF9wXSIsICAjIHR5cGU6IGlnbm9yZQopIC0+IGdnbWxfY2dyYXBoX3A6CiAgICByZXR1cm4gbGliLmdnbWxfZ3JhcGhfaW1wb3J0KGZuYW1lLCBjdHhfZGF0YSwgY3R4X2V2YWwpCgoKbGliLmdnbWxfZ3JhcGhfaW1wb3J0LmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLmNfY2hhcl9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jb250ZXh0X3ApLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jb250ZXh0X3ApLApdCmxpYi5nZ21sX2dyYXBoX2ltcG9ydC5yZXN0eXBlID0gY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpCgoKIyAvLyBwcmludCBpbmZvIGFuZCBwZXJmb3JtYW5jZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGdyYXBoCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2dyYXBoX3ByaW50KGNvbnN0IHN0cnVjdCBnZ21sX2NncmFwaCAqIGNncmFwaCk7CmRlZiBnZ21sX2dyYXBoX3ByaW50KAogICAgY2dyYXBoOiBnZ21sX2NncmFwaF9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2dyYXBoX3ByaW50KGNncmFwaCkKCgpsaWIuZ2dtbF9ncmFwaF9wcmludC5hcmd0eXBlcyA9IFtjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCldCmxpYi5nZ21sX2dyYXBoX3ByaW50LnJlc3R5cGUgPSBOb25lCgoKIyAvLyBkdW1wIHRoZSBncmFwaCBpbnRvIGEgZmlsZSB1c2luZyB0aGUgZG90IGZvcm1hdAojIEdHTUxfQVBJIHZvaWQgZ2dtbF9ncmFwaF9kdW1wX2RvdChjb25zdCBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBnYiwgY29uc3Qgc3RydWN0IGdnbWxfY2dyYXBoICogZ2YsIGNvbnN0IGNoYXIgKiBmaWxlbmFtZSk7CmRlZiBnZ21sX2dyYXBoX2R1bXBfZG90KAogICAgZ2I6IGdnbWxfY2dyYXBoX3AsCiAgICBnZjogZ2dtbF9jZ3JhcGhfcCwKICAgIGZpbGVuYW1lOiBieXRlcywKKToKICAgIHJldHVybiBsaWIuZ2dtbF9ncmFwaF9kdW1wX2RvdChnYiwgZ2YsIGZpbGVuYW1lKQoKCmxpYi5nZ21sX2dyYXBoX2R1bXBfZG90LmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpLAogICAgY3R5cGVzLmNfY2hhcl9wLApdCmxpYi5nZ21sX2dyYXBoX2R1bXBfZG90LnJlc3R5cGUgPSBOb25lCgoKIyAvLyBidWlsZCBncmFkaWVudCBjaGVja3BvaW50aW5nIGJhY2t3YXJkIGdyYXBoIGdiIGZvciBnZiB1c2luZyBwcm92aWRlZCBjaGVja3BvaW50cwojIC8vIGdiX3RtcCB3aWxsIGNvbnRhaW4gb3JpZ2luYWwgYmFja3dhcmQgZ3JhcGggd2l0aCByZXdyaXR0ZW4gYmFja3dhcmQgcHJvY2VzcyBub2RlcywKIyAvLyBidXQgd2l0aG91dCB0aGUgc2Vjb25kIGZvcndhcmQgcGFzcyBub2Rlcy4KIyBHR01MX0FQSSB2b2lkIGdnbWxfYnVpbGRfYmFja3dhcmRfZ3JhZGllbnRfY2hlY2twb2ludGluZygKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgICAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NncmFwaCAgICAqIGdmLAojICAgICAgICAgc3RydWN0IGdnbWxfY2dyYXBoICAgICogZ2IsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jZ3JhcGggICAgKiBnYl90bXAsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgICogKiBjaGVja3BvaW50cywKIyAgICAgICAgIGludCAgICAgICAgICAgICAgICAgICAgIG5fY2hlY2twb2ludHMpOwpkZWYgZ2dtbF9idWlsZF9iYWNrd2FyZF9ncmFkaWVudF9jaGVja3BvaW50aW5nKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIGdmOiBnZ21sX2NncmFwaF9wLAogICAgZ2I6IGdnbWxfY2dyYXBoX3AsCiAgICBnYl90bXA6IGdnbWxfY2dyYXBoX3AsCiAgICBjaGVja3BvaW50czogImN0eXBlcy5fUG9pbnRlcltnZ21sX3RlbnNvcl9wXSIsICAjIHR5cGU6IGlnbm9yZQogICAgbl9jaGVja3BvaW50czogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2J1aWxkX2JhY2t3YXJkX2dyYWRpZW50X2NoZWNrcG9pbnRpbmcoCiAgICAgICAgY3R4LCBnZiwgZ2IsIGdiX3RtcCwgY2hlY2twb2ludHMsIG5fY2hlY2twb2ludHMKICAgICkKCgpsaWIuZ2dtbF9idWlsZF9iYWNrd2FyZF9ncmFkaWVudF9jaGVja3BvaW50aW5nLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9jb250ZXh0X3AsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX2J1aWxkX2JhY2t3YXJkX2dyYWRpZW50X2NoZWNrcG9pbnRpbmcucmVzdHlwZSA9IE5vbmUKCgojIC8vCiMgLy8gb3B0aW1pemF0aW9uCiMgLy8KCiMgLy8gb3B0aW1pemF0aW9uIG1ldGhvZHMKIyBlbnVtIGdnbWxfb3B0X3R5cGUgewojICAgICBHR01MX09QVF9BREFNLAojICAgICBHR01MX09QVF9MQkZHUywKIyB9OwpHR01MX09QVF9BREFNID0gMApHR01MX09QVF9MQkZHUyA9IDEKCiMgLy8gbGluZXNlYXJjaCBtZXRob2RzCiMgZW51bSBnZ21sX2xpbmVzZWFyY2ggewojICAgICBHR01MX0xJTkVTRUFSQ0hfREVGQVVMVCA9IDEsCgojICAgICBHR01MX0xJTkVTRUFSQ0hfQkFDS1RSQUNLSU5HX0FSTUlKTyAgICAgICA9IDAsCiMgICAgIEdHTUxfTElORVNFQVJDSF9CQUNLVFJBQ0tJTkdfV09MRkUgICAgICAgID0gMSwKIyAgICAgR0dNTF9MSU5FU0VBUkNIX0JBQ0tUUkFDS0lOR19TVFJPTkdfV09MRkUgPSAyLAojIH07CkdHTUxfTElORVNFQVJDSF9ERUZBVUxUID0gMQpHR01MX0xJTkVTRUFSQ0hfQkFDS1RSQUNLSU5HX0FSTUlKTyA9IDAKR0dNTF9MSU5FU0VBUkNIX0JBQ0tUUkFDS0lOR19XT0xGRSA9IDEKR0dNTF9MSU5FU0VBUkNIX0JBQ0tUUkFDS0lOR19TVFJPTkdfV09MRkUgPSAyCgojIC8vIG9wdGltaXphdGlvbiByZXR1cm4gdmFsdWVzCiMgZW51bSBnZ21sX29wdF9yZXN1bHQgewojICAgICBHR01MX09QVF9PSyA9IDAsCiMgICAgIEdHTUxfT1BUX0RJRF9OT1RfQ09OVkVSR0UsCiMgICAgIEdHTUxfT1BUX05PX0NPTlRFWFQsCiMgICAgIEdHTUxfT1BUX0lOVkFMSURfV09MRkUsCiMgICAgIEdHTUxfT1BUX0ZBSUwsCiMgICAgIEdHTUxfT1BUX0NBTkNFTCwKCiMgICAgIEdHTUxfTElORVNFQVJDSF9GQUlMID0gLTEyOCwKIyAgICAgR0dNTF9MSU5FU0VBUkNIX01JTklNVU1fU1RFUCwKIyAgICAgR0dNTF9MSU5FU0VBUkNIX01BWElNVU1fU1RFUCwKIyAgICAgR0dNTF9MSU5FU0VBUkNIX01BWElNVU1fSVRFUkFUSU9OUywKIyAgICAgR0dNTF9MSU5FU0VBUkNIX0lOVkFMSURfUEFSQU1FVEVSUywKIyB9OwpHR01MX09QVF9PSyA9IDAKR0dNTF9PUFRfRElEX05PVF9DT05WRVJHRSA9IDEKR0dNTF9PUFRfTk9fQ09OVEVYVCA9IDIKR0dNTF9PUFRfSU5WQUxJRF9XT0xGRSA9IDMKR0dNTF9PUFRfRkFJTCA9IDQKR0dNTF9PUFRfQ0FOQ0VMID0gNQpHR01MX0xJTkVTRUFSQ0hfRkFJTCA9IC0xMjgKR0dNTF9MSU5FU0VBUkNIX01JTklNVU1fU1RFUCA9IC0xMjcKR0dNTF9MSU5FU0VBUkNIX01BWElNVU1fU1RFUCA9IC0xMjYKR0dNTF9MSU5FU0VBUkNIX01BWElNVU1fSVRFUkFUSU9OUyA9IC0xMjUKR0dNTF9MSU5FU0VBUkNIX0lOVkFMSURfUEFSQU1FVEVSUyA9IC0xMjQKCiMgdHlwZWRlZiB2b2lkICgqZ2dtbF9vcHRfY2FsbGJhY2spKHZvaWQgKiBkYXRhLCBpbnQgYWNjdW1fc3RlcCwgZmxvYXQgKiBzY2hlZCwgYm9vbCAqIGNhbmNlbCk7CmdnbWxfb3B0X2NhbGxiYWNrID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsCiAgICBjdHlwZXMuY192b2lkX3AsCiAgICBjdHlwZXMuY19pbnQsCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19mbG9hdCksCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19ib29sKSwKKQoKIyB0eXBlZGVmIHZvaWQgKCpnZ21sX2xvZ19jYWxsYmFjaykoZW51bSBnZ21sX2xvZ19sZXZlbCBsZXZlbCwgY29uc3QgY2hhciAqIHRleHQsIHZvaWQgKiB1c2VyX2RhdGEpOwpnZ21sX2xvZ19jYWxsYmFjayA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBOb25lLCBjdHlwZXMuY19pbnQsIGN0eXBlcy5jX2NoYXJfcCwgY3R5cGVzLmNfdm9pZF9wCikKCiMgLy8gb3B0aW1pemF0aW9uIHBhcmFtZXRlcnMKIyAvLwojIC8vICAgc2VlIGdnbWwuYyAoZ2dtbF9vcHRfZGVmYXVsdF9wYXJhbXMpIGZvciBkZWZhdWx0IHZhbHVlcwojIC8vCiMgc3RydWN0IGdnbWxfb3B0X3BhcmFtcyB7CiMgICAgIGVudW0gZ2dtbF9vcHRfdHlwZSB0eXBlOwoKIyAgICAgc2l6ZV90IGdyYXBoX3NpemU7CgojICAgICBpbnQgbl90aHJlYWRzOwoKIyAgICAgLy8gZGVsdGEtYmFzZWQgY29udmVyZ2VuY2UgdGVzdAojICAgICAvLwojICAgICAvLyAgIGlmIHBhc3QgPT0gMCAtIGRpc2FibGVkCiMgICAgIC8vICAgaWYgcGFzdCA+IDA6CiMgICAgIC8vICAgICBzdG9wIGlmIHxmKHgpIC0gZih4X3Bhc3QpfCA8IGRlbHRhICogbWF4KDEsIHxmKHgpfCkKIyAgICAgLy8KIyAgICAgaW50IHBhc3Q7CiMgICAgIGZsb2F0IGRlbHRhOwoKIyAgICAgLy8gbWF4aW11bSBudW1iZXIgb2YgaXRlcmF0aW9ucyB3aXRob3V0IGltcHJvdmVtZW50CiMgICAgIC8vCiMgICAgIC8vICAgaWYgMCAtIGRpc2FibGVkCiMgICAgIC8vICAgaWYgPiAwOgojICAgICAvLyAgICAgYXNzdW1lIGNvbnZlcmdlbmNlIGlmIG5vIGNvc3QgaW1wcm92ZW1lbnQgaW4gdGhpcyBudW1iZXIgb2YgaXRlcmF0aW9ucwojICAgICAvLwojICAgICBpbnQgbWF4X25vX2ltcHJvdmVtZW50OwoKIyAgICAgYm9vbCBwcmludF9mb3J3YXJkX2dyYXBoOwojICAgICBib29sIHByaW50X2JhY2t3YXJkX2dyYXBoOwoKIyAgICAgaW50IG5fZ3JhZGllbnRfYWNjdW11bGF0aW9uOwoKIyAgICAgLy8gQURBTSBwYXJhbWV0ZXJzCiMgICAgIHN0cnVjdCB7CiMgICAgICAgICBpbnQgbl9pdGVyOwoKIyAgICAgICAgIGZsb2F0IHNjaGVkOyAvLyBzY2hlZHVsZSBtdWx0aXBsaWVyIChmaXhlZCwgZGVjYXkgb3Igd2FybXVwKQojICAgICAgICAgZmxvYXQgZGVjYXk7IC8vIHdlaWdodCBkZWNheSBmb3IgQWRhbVcsIHVzZSAwLjBmIHRvIGRpc2FibGUKIyAgICAgICAgIGludCAgIGRlY2F5X21pbl9uZGltOyAvLyBtaW5pbXVtIG51bWJlciBvZiB0ZW5zb3IgZGltZW5zaW9uIHRvIGFwcGx5IHdlaWdodCBkZWNheQojICAgICAgICAgZmxvYXQgYWxwaGE7IC8vIGxlYXJuaW5nIHJhdGUKIyAgICAgICAgIGZsb2F0IGJldGExOwojICAgICAgICAgZmxvYXQgYmV0YTI7CiMgICAgICAgICBmbG9hdCBlcHM7ICAgLy8gZXBzaWxvbiBmb3IgbnVtZXJpY2FsIHN0YWJpbGl0eQojICAgICAgICAgZmxvYXQgZXBzX2Y7IC8vIGVwc2lsb24gZm9yIGNvbnZlcmdlbmNlIHRlc3QKIyAgICAgICAgIGZsb2F0IGVwc19nOyAvLyBlcHNpbG9uIGZvciBjb252ZXJnZW5jZSB0ZXN0CiMgICAgICAgICBmbG9hdCBnY2xpcDsgLy8gZ3JhZGllbnQgY2xpcHBpbmcKIyAgICAgfSBhZGFtOwoKIyAgICAgLy8gTEJGR1MgcGFyYW1ldGVycwojICAgICBzdHJ1Y3QgewojICAgICAgICAgaW50IG07IC8vIG51bWJlciBvZiBjb3JyZWN0aW9ucyB0byBhcHByb3hpbWF0ZSB0aGUgaW52LiBIZXNzaWFuCiMgICAgICAgICBpbnQgbl9pdGVyOwojICAgICAgICAgaW50IG1heF9saW5lc2VhcmNoOwoKIyAgICAgICAgIGZsb2F0IGVwczsgICAgICAvLyBjb252ZXJnZW5jZSB0b2xlcmFuY2UKIyAgICAgICAgIGZsb2F0IGZ0b2w7ICAgICAvLyBsaW5lIHNlYXJjaCB0b2xlcmFuY2UKIyAgICAgICAgIGZsb2F0IHdvbGZlOwojICAgICAgICAgZmxvYXQgbWluX3N0ZXA7CiMgICAgICAgICBmbG9hdCBtYXhfc3RlcDsKCiMgICAgICAgICBlbnVtIGdnbWxfbGluZXNlYXJjaCBsaW5lc2VhcmNoOwojICAgICB9IGxiZmdzOwojIH07CgoKY2xhc3MgZ2dtbF9vcHRfcGFyYW1zX2FkYW0oY3R5cGVzLlN0cnVjdHVyZSk6CiAgICBfZmllbGRzXyA9IFsKICAgICAgICAoIm5faXRlciIsIGN0eXBlcy5jX2ludCksCiAgICAgICAgKCJzY2hlZCIsIGN0eXBlcy5jX2Zsb2F0KSwKICAgICAgICAoImRlY2F5IiwgY3R5cGVzLmNfZmxvYXQpLAogICAgICAgICgiZGVjYXlfbWluX25kaW0iLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgiYWxwaGEiLCBjdHlwZXMuY19mbG9hdCksCiAgICAgICAgKCJiZXRhMSIsIGN0eXBlcy5jX2Zsb2F0KSwKICAgICAgICAoImJldGEyIiwgY3R5cGVzLmNfZmxvYXQpLAogICAgICAgICgiZXBzIiwgY3R5cGVzLmNfZmxvYXQpLAogICAgICAgICgiZXBzX2YiLCBjdHlwZXMuY19mbG9hdCksCiAgICAgICAgKCJlcHNfZyIsIGN0eXBlcy5jX2Zsb2F0KSwKICAgICAgICAoImdjbGlwIiwgY3R5cGVzLmNfZmxvYXQpLAogICAgXQoKCmNsYXNzIGdnbWxfb3B0X3BhcmFtc19sYmZncyhjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgibSIsIGN0eXBlcy5jX2ludCksCiAgICAgICAgKCJuX2l0ZXIiLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgibWF4X2xpbmVzZWFyY2giLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgiZXBzIiwgY3R5cGVzLmNfZmxvYXQpLAogICAgICAgICgiZnRvbCIsIGN0eXBlcy5jX2Zsb2F0KSwKICAgICAgICAoIndvbGZlIiwgY3R5cGVzLmNfZmxvYXQpLAogICAgICAgICgibWluX3N0ZXAiLCBjdHlwZXMuY19mbG9hdCksCiAgICAgICAgKCJtYXhfc3RlcCIsIGN0eXBlcy5jX2Zsb2F0KSwKICAgICAgICAoImxpbmVzZWFyY2giLCBjdHlwZXMuY19pbnQpLAogICAgXQoKCmNsYXNzIGdnbWxfb3B0X3BhcmFtcyhjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgidHlwZSIsIGN0eXBlcy5jX2ludCksCiAgICAgICAgKCJncmFwaF9zaXplIiwgY3R5cGVzLmNfc2l6ZV90KSwKICAgICAgICAoIm5fdGhyZWFkcyIsIGN0eXBlcy5jX2ludCksCiAgICAgICAgKCJwYXN0IiwgY3R5cGVzLmNfaW50KSwKICAgICAgICAoImRlbHRhIiwgY3R5cGVzLmNfZmxvYXQpLAogICAgICAgICgibWF4X25vX2ltcHJvdmVtZW50IiwgY3R5cGVzLmNfaW50KSwKICAgICAgICAoInByaW50X2ZvcndhcmRfZ3JhcGgiLCBjdHlwZXMuY19ib29sKSwKICAgICAgICAoInByaW50X2JhY2t3YXJkX2dyYXBoIiwgY3R5cGVzLmNfYm9vbCksCiAgICAgICAgKCJuX2dyYWRpZW50X2FjY3VtdWxhdGlvbiIsIGN0eXBlcy5jX2ludCksCiAgICAgICAgKCJhZGFtIiwgZ2dtbF9vcHRfcGFyYW1zX2FkYW0pLAogICAgICAgICgibGJmZ3MiLCBnZ21sX29wdF9wYXJhbXNfbGJmZ3MpLAogICAgXQoKCiMgc3RydWN0IGdnbWxfb3B0X2NvbnRleHQgewojICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4OwojICAgICBzdHJ1Y3QgZ2dtbF9vcHRfcGFyYW1zIHBhcmFtczsKCiMgICAgIGludCBpdGVyOwojICAgICBpbnQ2NF90IG54OyAvLyBudW1iZXIgb2YgcGFyYW1ldGVyIGVsZW1lbnRzCgojICAgICBib29sIGp1c3RfaW5pdGlhbGl6ZWQ7CgojICAgICBmbG9hdCBsb3NzX2JlZm9yZTsKIyAgICAgZmxvYXQgbG9zc19hZnRlcjsKCiMgICAgIHN0cnVjdCB7CiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBnOyAgLy8gY3VycmVudCBncmFkaWVudAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICogbTsgIC8vIGZpcnN0IG1vbWVudAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICogdjsgIC8vIHNlY29uZCBtb21lbnQKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIHBmOyAvLyBwYXN0IGZ1bmN0aW9uIHZhbHVlcwojICAgICAgICAgZmxvYXQgZnhfYmVzdDsKIyAgICAgICAgIGZsb2F0IGZ4X3ByZXY7CiMgICAgICAgICBpbnQgbl9ub19pbXByb3ZlbWVudDsKIyAgICAgfSBhZGFtOwoKIyAgICAgc3RydWN0IHsKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIHg7ICAgIC8vIGN1cnJlbnQgcGFyYW1ldGVycwojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICogeHA7ICAgLy8gcHJldmlvdXMgcGFyYW1ldGVycwojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICogZzsgICAgLy8gY3VycmVudCBncmFkaWVudAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICogZ3A7ICAgLy8gcHJldmlvdXMgZ3JhZGllbnQKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIGQ7ICAgIC8vIHNlYXJjaCBkaXJlY3Rpb24KIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIHBmOyAgIC8vIHBhc3QgZnVuY3Rpb24gdmFsdWVzCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBsbWFsOyAvLyB0aGUgTC1CRkdTIG1lbW9yeSBhbHBoYQojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICogbG15czsgLy8gdGhlIEwtQkZHUyBtZW1vcnkgeXMKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIGxtczsgIC8vIHRoZSBMLUJGR1MgbWVtb3J5IHMKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIGxteTsgIC8vIHRoZSBMLUJGR1MgbWVtb3J5IHkKIyAgICAgICAgIGZsb2F0IGZ4X2Jlc3Q7CiMgICAgICAgICBmbG9hdCBzdGVwOwojICAgICAgICAgaW50IGo7CiMgICAgICAgICBpbnQgazsKIyAgICAgICAgIGludCBlbmQ7CiMgICAgICAgICBpbnQgbl9ub19pbXByb3ZlbWVudDsKIyAgICAgfSBsYmZnczsKIyB9OwoKCmNsYXNzIGdnbWxfb3B0X2NvbnRleHRfYWRhbShjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgiZyIsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSksCiAgICAgICAgKCJtIiwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpKSwKICAgICAgICAoInYiLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikpLAogICAgICAgICgicGYiLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikpLAogICAgICAgICgiZnhfYmVzdCIsIGN0eXBlcy5jX2Zsb2F0KSwKICAgICAgICAoImZ4X3ByZXYiLCBjdHlwZXMuY19mbG9hdCksCiAgICAgICAgKCJuX25vX2ltcHJvdmVtZW50IiwgY3R5cGVzLmNfaW50KSwKICAgIF0KCgpjbGFzcyBnZ21sX29wdF9jb250ZXh0X2xiZmdzKGN0eXBlcy5TdHJ1Y3R1cmUpOgogICAgX2ZpZWxkc18gPSBbCiAgICAgICAgKCJ4IiwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpKSwKICAgICAgICAoInhwIiwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpKSwKICAgICAgICAoImciLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikpLAogICAgICAgICgiZ3AiLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikpLAogICAgICAgICgiZCIsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSksCiAgICAgICAgKCJwZiIsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSksCiAgICAgICAgKCJsbWFsIiwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpKSwKICAgICAgICAoImxteXMiLCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikpLAogICAgICAgICgibG1zIiwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpKSwKICAgICAgICAoImxteSIsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSksCiAgICAgICAgKCJmeF9iZXN0IiwgY3R5cGVzLmNfZmxvYXQpLAogICAgICAgICgic3RlcCIsIGN0eXBlcy5jX2Zsb2F0KSwKICAgICAgICAoImoiLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgiayIsIGN0eXBlcy5jX2ludCksCiAgICAgICAgKCJlbmQiLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgibl9ub19pbXByb3ZlbWVudCIsIGN0eXBlcy5jX2ludCksCiAgICBdCgoKY2xhc3MgZ2dtbF9vcHRfY29udGV4dChjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgiY3R4IiwgZ2dtbF9jb250ZXh0X3ApLAogICAgICAgICgicGFyYW1zIiwgZ2dtbF9vcHRfcGFyYW1zKSwKICAgICAgICAoIml0ZXIiLCBjdHlwZXMuY19pbnQpLAogICAgICAgICgibngiLCBjdHlwZXMuY19pbnQ2NCksCiAgICAgICAgKCJqdXN0X2luaXRpYWxpemVkIiwgY3R5cGVzLmNfYm9vbCksCiAgICAgICAgKCJsb3NzX2JlZm9yZSIsIGN0eXBlcy5jX2Zsb2F0KSwKICAgICAgICAoImxvc3NfYWZ0ZXIiLCBjdHlwZXMuY19mbG9hdCksCiAgICAgICAgKCJhZGFtIiwgZ2dtbF9vcHRfY29udGV4dF9hZGFtKSwKICAgICAgICAoImxiZmdzIiwgZ2dtbF9vcHRfY29udGV4dF9sYmZncyksCiAgICBdCgoKZ2dtbF9vcHRfY29udGV4dF9wID0gY3R5cGVzLlBPSU5URVIoZ2dtbF9vcHRfY29udGV4dCkKCgojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX29wdF9wYXJhbXMgZ2dtbF9vcHRfZGVmYXVsdF9wYXJhbXMoZW51bSBnZ21sX29wdF90eXBlIHR5cGUpOwpkZWYgZ2dtbF9vcHRfZGVmYXVsdF9wYXJhbXModHlwZTogVW5pb25bY3R5cGVzLmNfaW50LCBib29sXSkgLT4gZ2dtbF9vcHRfcGFyYW1zOgogICAgcmV0dXJuIGxpYi5nZ21sX29wdF9kZWZhdWx0X3BhcmFtcyh0eXBlKQoKCmxpYi5nZ21sX29wdF9kZWZhdWx0X3BhcmFtcy5hcmd0eXBlcyA9IFtjdHlwZXMuY19pbnRdCmxpYi5nZ21sX29wdF9kZWZhdWx0X3BhcmFtcy5yZXN0eXBlID0gZ2dtbF9vcHRfcGFyYW1zCgoKIyAvLyBvcHRpbWl6ZSB0aGUgZnVuY3Rpb24gZGVmaW5lZCBieSB0aGUgdGVuc29yIGYKIyBHR01MX0FQSSBlbnVtIGdnbWxfb3B0X3Jlc3VsdCBnZ21sX29wdCgKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9vcHRfcGFyYW1zIHBhcmFtcywKIyAgICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIGYpOwpkZWYgZ2dtbF9vcHQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgcGFyYW1zOiBnZ21sX29wdF9wYXJhbXMsCiAgICBmOiBnZ21sX3RlbnNvcl9wLAopIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9vcHQoY3R4LCBwYXJhbXMsIGYpCgoKbGliLmdnbWxfb3B0LmFyZ3R5cGVzID0gW2dnbWxfY29udGV4dF9wLCBnZ21sX29wdF9wYXJhbXMsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfb3B0LnJlc3R5cGUgPSBjdHlwZXMuY19pbnQKCgojIC8vIGluaXRpYWxpemUgb3B0aW1pemVyIGNvbnRleHQKIyBHR01MX0FQSSB2b2lkIGdnbWxfb3B0X2luaXQoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICAgICAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX29wdF9jb250ZXh0ICogb3B0LAojICAgICAgICAgc3RydWN0IGdnbWxfb3B0X3BhcmFtcyAgICBwYXJhbXMsCiMgICAgICAgICBpbnQ2NF90ICAgICAgICAgICAgICAgICAgIG54KTsKZGVmIGdnbWxfb3B0X2luaXQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgb3B0OiAiY3R5cGVzLl9Qb2ludGVyW2dnbWxfb3B0X2NvbnRleHRdIiwgICMgdHlwZTogaWdub3JlCiAgICBwYXJhbXM6IGdnbWxfb3B0X3BhcmFtcywKICAgIG54OiBVbmlvbltjdHlwZXMuY19pbnQ2NCwgaW50XSwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9vcHRfaW5pdChjdHgsIG9wdCwgcGFyYW1zLCBueCkKCgpsaWIuZ2dtbF9vcHRfaW5pdC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9vcHRfY29udGV4dCksCiAgICBnZ21sX29wdF9wYXJhbXMsCiAgICBjdHlwZXMuY19pbnQ2NCwKXQpsaWIuZ2dtbF9vcHRfaW5pdC5yZXN0eXBlID0gTm9uZQoKCiMgLy8gY29udGludWUgb3B0aW1pemluZyB0aGUgZnVuY3Rpb24gZGVmaW5lZCBieSB0aGUgdGVuc29yIGYKIyBHR01MX0FQSSBlbnVtIGdnbWxfb3B0X3Jlc3VsdCBnZ21sX29wdF9yZXN1bWUoCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4LAojICAgICAgICAgc3RydWN0IGdnbWxfb3B0X2NvbnRleHQgKiBvcHQsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBmKTsKZGVmIGdnbWxfb3B0X3Jlc3VtZSgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsCiAgICBvcHQ6ICJjdHlwZXMuX1BvaW50ZXJbZ2dtbF9vcHRfY29udGV4dF0iLCAgIyB0eXBlOiBpZ25vcmUKICAgIGY6IGdnbWxfdGVuc29yX3AsCikgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX29wdF9yZXN1bWUoY3R4LCBvcHQsIGYpCgoKbGliLmdnbWxfb3B0X3Jlc3VtZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9vcHRfY29udGV4dCksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfb3B0X3Jlc3VtZS5yZXN0eXBlID0gY3R5cGVzLmNfaW50CgoKIyAvLyBjb250aW51ZSBvcHRpbWl6aW5nIHRoZSBmdW5jdGlvbiBkZWZpbmVkIGJ5IHRoZSB0ZW5zb3IgZgojIEdHTUxfQVBJIGVudW0gZ2dtbF9vcHRfcmVzdWx0IGdnbWxfb3B0X3Jlc3VtZV9nKAojICAgICAgICAgc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwKIyAgICAgICAgIHN0cnVjdCBnZ21sX29wdF9jb250ZXh0ICogb3B0LAojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICogZiwKIyAgICAgICAgIHN0cnVjdCBnZ21sX2NncmFwaCAqIGdmLAojICAgICAgICAgc3RydWN0IGdnbWxfY2dyYXBoICogZ2IsCiMgICAgICAgICBnZ21sX29wdF9jYWxsYmFjayBjYWxsYmFjaywKIyAgICAgICAgIHZvaWQgKiBjYWxsYmFja19kYXRhKTsKZGVmIGdnbWxfb3B0X3Jlc3VtZV9nKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwKICAgIG9wdDogImN0eXBlcy5fUG9pbnRlcltnZ21sX29wdF9jb250ZXh0XSIsICAjIHR5cGU6IGlnbm9yZQogICAgZjogZ2dtbF90ZW5zb3JfcCwKICAgIGdmOiBnZ21sX2NncmFwaF9wLAogICAgZ2I6IGdnbWxfY2dyYXBoX3AsCiAgICBjYWxsYmFjazogImN0eXBlcy5fQ0Z1bmNQdHJbTm9uZSwgY3R5cGVzLmNfdm9pZF9wLCBjdHlwZXMuY19pbnQsIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5jX2Zsb2F0KSwgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfYm9vbCldIiwgICMgdHlwZTogaWdub3JlCiAgICBjYWxsYmFja19kYXRhOiBjdHlwZXMuY192b2lkX3AsCikgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX29wdF9yZXN1bWVfZyhjdHgsIG9wdCwgZiwgZ2YsIGdiLCBjYWxsYmFjaywgY2FsbGJhY2tfZGF0YSkKCgpsaWIuZ2dtbF9vcHRfcmVzdW1lX2cuYXJndHlwZXMgPSBbCiAgICBnZ21sX2NvbnRleHRfcCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfb3B0X2NvbnRleHQpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpLAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpLAogICAgZ2dtbF9vcHRfY2FsbGJhY2ssCiAgICBjdHlwZXMuY192b2lkX3AsCl0KbGliLmdnbWxfb3B0X3Jlc3VtZV9nLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQKCiMgLy8KIyAvLyBxdWFudGl6YXRpb24KIyAvLwoKCiMgLy8gVE9ETzogdGhlc2Ugd291bGQgcHJvYmFibHkgZ2V0IHJlbW92ZWQgaW4gZmF2b3Igb2YgdGhlIG1vcmUgZ2VuZXJhbCBnZ21sX3F1YW50aXplX2NodW5rCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcTRfMChjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3E0XzAoCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcTRfMChzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xNF8wLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3E0XzAucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcTRfMShjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3E0XzEoCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcTRfMShzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xNF8xLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3E0XzEucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcTVfMChjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3E1XzAoCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcTVfMChzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xNV8wLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3E1XzAucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcTVfMShjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3E1XzEoCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcTVfMShzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xNV8xLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3E1XzEucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcThfMChjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3E4XzAoCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcThfMChzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xOF8wLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3E4XzAucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcTJfSyhjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3EyX0soCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcTJfSyhzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xMl9LLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3EyX0sucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcTNfSyhjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3EzX0soCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcTNfSyhzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xM19LLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3EzX0sucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcTRfSyhjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3E0X0soCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcTRfSyhzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xNF9LLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3E0X0sucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcTVfSyhjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3E1X0soCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcTVfSyhzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xNV9LLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3E1X0sucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfcTZfSyhjb25zdCBmbG9hdCAqIHNyYywgdm9pZCAqIGRzdCwgaW50IG4sIGludCBrLCBpbnQ2NF90ICogaGlzdCk7CmRlZiBnZ21sX3F1YW50aXplX3E2X0soCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBuOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBrOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBoaXN0OiBDSW50NjRBcnJheSwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfcXVhbnRpemVfcTZfSyhzcmMsIGRzdCwgbiwgaywgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9xNl9LLmFyZ3R5cGVzID0gWwogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLmNfaW50LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50NjQpLApdCmxpYi5nZ21sX3F1YW50aXplX3E2X0sucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfcXVhbnRpemVfY2h1bmsoZW51bSBnZ21sX3R5cGUgdHlwZSwgY29uc3QgZmxvYXQgKiBzcmMsIHZvaWQgKiBkc3QsIGludCBzdGFydCwgaW50IG4sIGludDY0X3QgKiBoaXN0KTsKZGVmIGdnbWxfcXVhbnRpemVfY2h1bmsoCiAgICB0eXBlOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCiAgICBzcmM6IENGbG9hdEFycmF5LAogICAgZHN0OiBjdHlwZXMuY192b2lkX3AsCiAgICBzdGFydDogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgbjogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAogICAgaGlzdDogQ0ludDY0QXJyYXksCikgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX3F1YW50aXplX2NodW5rKHR5cGUsIHNyYywgZHN0LCBzdGFydCwgbiwgaGlzdCkKCgpsaWIuZ2dtbF9xdWFudGl6ZV9jaHVuay5hcmd0eXBlcyA9IFsKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5jX2Zsb2F0KSwKICAgIGN0eXBlcy5jX3ZvaWRfcCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5jX2ludDY0KSwKXQpsaWIuZ2dtbF9xdWFudGl6ZV9jaHVuay5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgojIC8vCiMgLy8gZ2d1ZgojIC8vCgojIGVudW0gZ2d1Zl90eXBlIHsKIyAgICAgR0dVRl9UWVBFX1VJTlQ4ICAgPSAwLAojICAgICBHR1VGX1RZUEVfSU5UOCAgICA9IDEsCiMgICAgIEdHVUZfVFlQRV9VSU5UMTYgID0gMiwKIyAgICAgR0dVRl9UWVBFX0lOVDE2ICAgPSAzLAojICAgICBHR1VGX1RZUEVfVUlOVDMyICA9IDQsCiMgICAgIEdHVUZfVFlQRV9JTlQzMiAgID0gNSwKIyAgICAgR0dVRl9UWVBFX0ZMT0FUMzIgPSA2LAojICAgICBHR1VGX1RZUEVfQk9PTCAgICA9IDcsCiMgICAgIEdHVUZfVFlQRV9TVFJJTkcgID0gOCwKIyAgICAgR0dVRl9UWVBFX0FSUkFZICAgPSA5LAojICAgICBHR1VGX1RZUEVfVUlOVDY0ICA9IDEwLAojICAgICBHR1VGX1RZUEVfSU5UNjQgICA9IDExLAojICAgICBHR1VGX1RZUEVfRkxPQVQ2NCA9IDEyLAojICAgICBHR1VGX1RZUEVfQ09VTlQsICAgICAgIC8vIG1hcmtzIHRoZSBlbmQgb2YgdGhlIGVudW0KIyB9OwpHR1VGX1RZUEVfVUlOVDggPSAwCkdHVUZfVFlQRV9JTlQ4ID0gMQpHR1VGX1RZUEVfVUlOVDE2ID0gMgpHR1VGX1RZUEVfSU5UMTYgPSAzCkdHVUZfVFlQRV9VSU5UMzIgPSA0CkdHVUZfVFlQRV9JTlQzMiA9IDUKR0dVRl9UWVBFX0ZMT0FUMzIgPSA2CkdHVUZfVFlQRV9CT09MID0gNwpHR1VGX1RZUEVfU1RSSU5HID0gOApHR1VGX1RZUEVfQVJSQVkgPSA5CkdHVUZfVFlQRV9DT1VOVCA9IDEwCgojIHN0cnVjdCBnZ3VmX2NvbnRleHQ7CmdndWZfY29udGV4dF9wID0gY3R5cGVzLmNfdm9pZF9wCgojIC8vCiMgLy8gc3lzdGVtIGluZm8KIyAvLwoKCiMgR0dNTF9BUEkgaW50IGdnbWxfY3B1X2hhc19hdnggICAgICAgICh2b2lkKTsKZGVmIGdnbWxfY3B1X2hhc19hdngoKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfY3B1X2hhc19hdngoKQoKCmxpYi5nZ21sX2NwdV9oYXNfYXZ4LmFyZ3R5cGVzID0gW10KbGliLmdnbWxfY3B1X2hhc19hdngucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgaW50IGdnbWxfY3B1X2hhc19hdngyICAgICAgICh2b2lkKTsKZGVmIGdnbWxfY3B1X2hhc19hdngyKCkgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX2NwdV9oYXNfYXZ4MigpCgoKbGliLmdnbWxfY3B1X2hhc19hdngyLmFyZ3R5cGVzID0gW10KbGliLmdnbWxfY3B1X2hhc19hdngyLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQKCgojIEdHTUxfQVBJIGludCBnZ21sX2NwdV9oYXNfYXZ4NTEyICAgICAodm9pZCk7CmRlZiBnZ21sX2NwdV9oYXNfYXZ4NTEyKCkgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX2NwdV9oYXNfYXZ4NTEyKCkKCgpsaWIuZ2dtbF9jcHVfaGFzX2F2eDUxMi5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX2NwdV9oYXNfYXZ4NTEyLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQKCgojIEdHTUxfQVBJIGludCBnZ21sX2NwdV9oYXNfYXZ4NTEyX3ZibWkodm9pZCk7CmRlZiBnZ21sX2NwdV9oYXNfYXZ4NTEyX3ZibWkoKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfY3B1X2hhc19hdng1MTJfdmJtaSgpCgoKbGliLmdnbWxfY3B1X2hhc19hdng1MTJfdmJtaS5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX2NwdV9oYXNfYXZ4NTEyX3ZibWkucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgaW50IGdnbWxfY3B1X2hhc19hdng1MTJfdm5uaSh2b2lkKTsKZGVmIGdnbWxfY3B1X2hhc19hdng1MTJfdm5uaSgpIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9jcHVfaGFzX2F2eDUxMl92bm5pKCkKCgpsaWIuZ2dtbF9jcHVfaGFzX2F2eDUxMl92bm5pLmFyZ3R5cGVzID0gW10KbGliLmdnbWxfY3B1X2hhc19hdng1MTJfdm5uaS5yZXN0eXBlID0gY3R5cGVzLmNfaW50CgoKIyBHR01MX0FQSSBpbnQgZ2dtbF9jcHVfaGFzX2ZtYSAgICAgICAgKHZvaWQpOwpkZWYgZ2dtbF9jcHVfaGFzX2ZtYSgpIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9jcHVfaGFzX2ZtYSgpCgoKbGliLmdnbWxfY3B1X2hhc19mbWEuYXJndHlwZXMgPSBbXQpsaWIuZ2dtbF9jcHVfaGFzX2ZtYS5yZXN0eXBlID0gY3R5cGVzLmNfaW50CgoKIyBHR01MX0FQSSBpbnQgZ2dtbF9jcHVfaGFzX25lb24gICAgICAgKHZvaWQpOwpkZWYgZ2dtbF9jcHVfaGFzX25lb24oKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfY3B1X2hhc19uZW9uKCkKCgpsaWIuZ2dtbF9jcHVfaGFzX25lb24uYXJndHlwZXMgPSBbXQpsaWIuZ2dtbF9jcHVfaGFzX25lb24ucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgaW50IGdnbWxfY3B1X2hhc19hcm1fZm1hICAgICh2b2lkKTsKZGVmIGdnbWxfY3B1X2hhc19hcm1fZm1hKCkgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX2NwdV9oYXNfYXJtX2ZtYSgpCgoKbGliLmdnbWxfY3B1X2hhc19hcm1fZm1hLmFyZ3R5cGVzID0gW10KbGliLmdnbWxfY3B1X2hhc19hcm1fZm1hLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQKCgojIEdHTUxfQVBJIGludCBnZ21sX2NwdV9oYXNfbWV0YWwgICAgICAodm9pZCk7CmRlZiBnZ21sX2NwdV9oYXNfbWV0YWwoKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfY3B1X2hhc19tZXRhbCgpCgoKbGliLmdnbWxfY3B1X2hhc19tZXRhbC5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX2NwdV9oYXNfbWV0YWwucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgaW50IGdnbWxfY3B1X2hhc19mMTZjICAgICAgICh2b2lkKTsKZGVmIGdnbWxfY3B1X2hhc19mMTZjKCkgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX2NwdV9oYXNfZjE2YygpCgoKbGliLmdnbWxfY3B1X2hhc19mMTZjLmFyZ3R5cGVzID0gW10KbGliLmdnbWxfY3B1X2hhc19mMTZjLnJlc3R5cGUgPSBjdHlwZXMuY19pbnQKCgojIEdHTUxfQVBJIGludCBnZ21sX2NwdV9oYXNfZnAxNl92YSAgICAodm9pZCk7CmRlZiBnZ21sX2NwdV9oYXNfZnAxNl92YSgpIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9jcHVfaGFzX2ZwMTZfdmEoKQoKCmxpYi5nZ21sX2NwdV9oYXNfZnAxNl92YS5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX2NwdV9oYXNfZnAxNl92YS5yZXN0eXBlID0gY3R5cGVzLmNfaW50CgoKIyBHR01MX0FQSSBpbnQgZ2dtbF9jcHVfaGFzX3dhc21fc2ltZCAgKHZvaWQpOwpkZWYgZ2dtbF9jcHVfaGFzX3dhc21fc2ltZCgpIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9jcHVfaGFzX3dhc21fc2ltZCgpCgoKbGliLmdnbWxfY3B1X2hhc193YXNtX3NpbWQuYXJndHlwZXMgPSBbXQpsaWIuZ2dtbF9jcHVfaGFzX3dhc21fc2ltZC5yZXN0eXBlID0gY3R5cGVzLmNfaW50CgoKIyBHR01MX0FQSSBpbnQgZ2dtbF9jcHVfaGFzX2JsYXMgICAgICAgKHZvaWQpOwpkZWYgZ2dtbF9jcHVfaGFzX2JsYXMoKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfY3B1X2hhc19ibGFzKCkKCgpsaWIuZ2dtbF9jcHVfaGFzX2JsYXMuYXJndHlwZXMgPSBbXQpsaWIuZ2dtbF9jcHVfaGFzX2JsYXMucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgaW50IGdnbWxfY3B1X2hhc19jdWJsYXMgICAgICh2b2lkKTsKZGVmIGdnbWxfY3B1X2hhc19jdWJsYXMoKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfY3B1X2hhc19jdWJsYXMoKQoKCmxpYi5nZ21sX2NwdV9oYXNfY3VibGFzLmFyZ3R5cGVzID0gW10KbGliLmdnbWxfY3B1X2hhc19jdWJsYXMucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgaW50IGdnbWxfY3B1X2hhc19jbGJsYXN0ICAgICh2b2lkKTsKZGVmIGdnbWxfY3B1X2hhc19jbGJsYXN0KCkgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX2NwdV9oYXNfY2xibGFzdCgpCgoKbGliLmdnbWxfY3B1X2hhc19jbGJsYXN0LmFyZ3R5cGVzID0gW10KbGliLmdnbWxfY3B1X2hhc19jbGJsYXN0LnJlc3R5cGUgPSBjdHlwZXMuY19pbnQKCgojIEdHTUxfQVBJIGludCBnZ21sX2NwdV9oYXNfZ3B1YmxhcyAgICAodm9pZCk7CmRlZiBnZ21sX2NwdV9oYXNfZ3B1YmxhcygpIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9jcHVfaGFzX2dwdWJsYXMoKQoKCmxpYi5nZ21sX2NwdV9oYXNfZ3B1Ymxhcy5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX2NwdV9oYXNfZ3B1Ymxhcy5yZXN0eXBlID0gY3R5cGVzLmNfaW50CgoKIyBHR01MX0FQSSBpbnQgZ2dtbF9jcHVfaGFzX3NzZTMgICAgICAgKHZvaWQpOwpkZWYgZ2dtbF9jcHVfaGFzX3NzZTMoKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfY3B1X2hhc19zc2UzKCkKCgpsaWIuZ2dtbF9jcHVfaGFzX3NzZTMuYXJndHlwZXMgPSBbXQpsaWIuZ2dtbF9jcHVfaGFzX3NzZTMucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgaW50IGdnbWxfY3B1X2hhc19zc3NlMyAgICAgICh2b2lkKTsKZGVmIGdnbWxfY3B1X2hhc19zc3NlMygpIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9jcHVfaGFzX3Nzc2UzKCkKCgpsaWIuZ2dtbF9jcHVfaGFzX3Nzc2UzLmFyZ3R5cGVzID0gW10KbGliLmdnbWxfY3B1X2hhc19zc3NlMy5yZXN0eXBlID0gY3R5cGVzLmNfaW50CgoKIyBHR01MX0FQSSBpbnQgZ2dtbF9jcHVfaGFzX3ZzeCAgICAgICAgKHZvaWQpOwpkZWYgZ2dtbF9jcHVfaGFzX3ZzeCgpIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9jcHVfaGFzX3ZzeCgpCgoKbGliLmdnbWxfY3B1X2hhc192c3guYXJndHlwZXMgPSBbXQpsaWIuZ2dtbF9jcHVfaGFzX3ZzeC5yZXN0eXBlID0gY3R5cGVzLmNfaW50CgoKIyAvLwojIC8vIEludGVybmFsIHR5cGVzIGFuZCBmdW5jdGlvbnMgZXhwb3NlZCBmb3IgdGVzdHMgYW5kIGJlbmNobWFya3MKIyAvLwoKIyB0eXBlZGVmIHZvaWQgKCpnZ21sX3RvX2Zsb2F0X3QpKGNvbnN0IHZvaWQgKiB4LCBmbG9hdCAqIHksIGludCBrKTsKZ2dtbF90b19mbG9hdF90ID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsIGN0eXBlcy5jX3ZvaWRfcCwgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLCBjdHlwZXMuY19pbnQKKQoKIyB0eXBlZGVmIHZvaWQgKCpnZ21sX2Zyb21fZmxvYXRfdCkoY29uc3QgZmxvYXQgKiB4LCB2b2lkICogeSwgaW50IGspOwpnZ21sX2Zyb21fZmxvYXRfdCA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBOb25lLCBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19mbG9hdCksIGN0eXBlcy5jX3ZvaWRfcCwgY3R5cGVzLmNfaW50CikKCiMgdHlwZWRlZiB2b2lkICgqZ2dtbF92ZWNfZG90X3QpKGNvbnN0IGludCBuLCBmbG9hdCAqIHMsIGNvbnN0IHZvaWQgKiB4LCBjb25zdCB2b2lkICogeSk7CmdnbWxfdmVjX2RvdF90ID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsIGN0eXBlcy5jX2ludCwgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpLCBjdHlwZXMuY192b2lkX3AsIGN0eXBlcy5jX3ZvaWRfcAopCgoKIyB0eXBlZGVmIHN0cnVjdCB7CiMgICAgIGNvbnN0IGNoYXIgICAgICAqIHR5cGVfbmFtZTsKIyAgICAgaW50ICAgICAgICAgICAgICAgYmxja19zaXplOwojICAgICBzaXplX3QgICAgICAgICAgICB0eXBlX3NpemU7CiMgICAgIGJvb2wgICAgICAgICAgICAgIGlzX3F1YW50aXplZDsKIyAgICAgZ2dtbF90b19mbG9hdF90ICAgdG9fZmxvYXQ7CiMgICAgIGdnbWxfZnJvbV9mbG9hdF90IGZyb21fZmxvYXQ7CiMgICAgIGdnbWxfZnJvbV9mbG9hdF90IGZyb21fZmxvYXRfcmVmZXJlbmNlOwojICAgICBnZ21sX3ZlY19kb3RfdCAgICB2ZWNfZG90OwojICAgICBlbnVtIGdnbWxfdHlwZSAgICB2ZWNfZG90X3R5cGU7CiMgfSBnZ21sX3R5cGVfdHJhaXRzX3Q7CmNsYXNzIGdnbWxfdHlwZV90cmFpdHNfdChjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgidHlwZV9uYW1lIiwgY3R5cGVzLmNfY2hhcl9wKSwKICAgICAgICAoImJsY2tfc2l6ZSIsIGN0eXBlcy5jX2ludCksCiAgICAgICAgKCJ0eXBlX3NpemUiLCBjdHlwZXMuY19zaXplX3QpLAogICAgICAgICgiaXNfcXVhbnRpemVkIiwgY3R5cGVzLmNfYm9vbCksCiAgICAgICAgKCJ0b19mbG9hdCIsIGdnbWxfdG9fZmxvYXRfdCksCiAgICAgICAgKCJmcm9tX2Zsb2F0IiwgZ2dtbF9mcm9tX2Zsb2F0X3QpLAogICAgICAgICgiZnJvbV9mbG9hdF9yZWZlcmVuY2UiLCBnZ21sX2Zyb21fZmxvYXRfdCksCiAgICAgICAgKCJ2ZWNfZG90IiwgZ2dtbF92ZWNfZG90X3QpLAogICAgICAgICgidmVjX2RvdF90eXBlIiwgY3R5cGVzLmNfaW50KSwKICAgIF0KCgojIEdHTUxfQVBJIGdnbWxfdHlwZV90cmFpdHNfdCBnZ21sX2ludGVybmFsX2dldF90eXBlX3RyYWl0cyhlbnVtIGdnbWxfdHlwZSB0eXBlKTsKZGVmIGdnbWxfaW50ZXJuYWxfZ2V0X3R5cGVfdHJhaXRzKHR5cGU6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSkgLT4gZ2dtbF90eXBlX3RyYWl0c190OgogICAgcmV0dXJuIGxpYi5nZ21sX2ludGVybmFsX2dldF90eXBlX3RyYWl0cyh0eXBlKQoKCmxpYi5nZ21sX2ludGVybmFsX2dldF90eXBlX3RyYWl0cy5hcmd0eXBlcyA9IFtjdHlwZXMuY19pbnRdCmxpYi5nZ21sX2ludGVybmFsX2dldF90eXBlX3RyYWl0cy5yZXN0eXBlID0gZ2dtbF90eXBlX3RyYWl0c190CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIEdHTUwgQUxMT0MgQVBJCiMgc291cmNlOiBnZ21sLWFsbG9jLmgKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMgc3RydWN0IGdnbWxfYmFja2VuZDsKIyBzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2J1ZmZlcjsKIyBzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlOwpnZ21sX2JhY2tlbmRfdCA9IGN0eXBlcy5jX3ZvaWRfcApnZ21sX2JhY2tlbmRfYnVmZmVyX3AgPSBjdHlwZXMuY192b2lkX3AKZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3AgPSBjdHlwZXMuY192b2lkX3AKCiMgLy8KIyAvLyBMZWdhY3kgQVBJCiMgLy8KCiMgdHlwZWRlZiBzdHJ1Y3QgZ2dtbF9hbGxvY3IgKiBnZ21sX2FsbG9jcl90OwpnZ21sX2FsbG9jcl90ID0gY3R5cGVzLmNfdm9pZF9wCgoKIyAvLyBpbml0aWFsaXplIGFsbG9jYXRvciBmb3IgdXNlIHdpdGggQ1BVIGJhY2tlbmQgb25seQojIEdHTUxfQVBJIGdnbWxfYWxsb2NyX3QgZ2dtbF9hbGxvY3JfbmV3KHZvaWQgKiBkYXRhLCBzaXplX3Qgc2l6ZSwgc2l6ZV90IGFsaWdubWVudCk7CmRlZiBnZ21sX2FsbG9jcl9uZXcoCiAgICBkYXRhOiBjdHlwZXMuY192b2lkX3AsCiAgICBzaXplOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBhbGlnbm1lbnQ6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBnZ21sX2FsbG9jcl90OgogICAgcmV0dXJuIGxpYi5nZ21sX2FsbG9jcl9uZXcoZGF0YSwgc2l6ZSwgYWxpZ25tZW50KQoKCmxpYi5nZ21sX2FsbG9jcl9uZXcuYXJndHlwZXMgPSBbY3R5cGVzLmNfdm9pZF9wLCBjdHlwZXMuY19zaXplX3QsIGN0eXBlcy5jX3NpemVfdF0KbGliLmdnbWxfYWxsb2NyX25ldy5yZXN0eXBlID0gZ2dtbF9hbGxvY3JfdAoKCiMgR0dNTF9BUEkgZ2dtbF9hbGxvY3JfdCBnZ21sX2FsbG9jcl9uZXdfbWVhc3VyZShzaXplX3QgYWxpZ25tZW50KTsKZGVmIGdnbWxfYWxsb2NyX25ld19tZWFzdXJlKGFsaWdubWVudDogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdKSAtPiBnZ21sX2FsbG9jcl90OgogICAgcmV0dXJuIGxpYi5nZ21sX2FsbG9jcl9uZXdfbWVhc3VyZShhbGlnbm1lbnQpCgoKbGliLmdnbWxfYWxsb2NyX25ld19tZWFzdXJlLmFyZ3R5cGVzID0gW2N0eXBlcy5jX3NpemVfdF0KbGliLmdnbWxfYWxsb2NyX25ld19tZWFzdXJlLnJlc3R5cGUgPSBnZ21sX2FsbG9jcl90CgoKIyAvLyBpbml0aWFsaXplIGFsbG9jYXRvciBmb3IgdXNlIHdpdGggZ2dtbC1iYWNrZW5kCiMgR0dNTF9BUEkgZ2dtbF9hbGxvY3JfdCBnZ21sX2FsbG9jcl9uZXdfZnJvbV9idWZmZXIoc3RydWN0IGdnbWxfYmFja2VuZF9idWZmZXIgKiBidWZmZXIpOwpkZWYgZ2dtbF9hbGxvY3JfbmV3X2Zyb21fYnVmZmVyKGJ1ZmZlcjogZ2dtbF9iYWNrZW5kX2J1ZmZlcl9wKSAtPiBnZ21sX2FsbG9jcl90OgogICAgcmV0dXJuIGxpYi5nZ21sX2FsbG9jcl9uZXdfZnJvbV9idWZmZXIoYnVmZmVyKQoKCmxpYi5nZ21sX2FsbG9jcl9uZXdfZnJvbV9idWZmZXIuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX2J1ZmZlcl9wXQpsaWIuZ2dtbF9hbGxvY3JfbmV3X2Zyb21fYnVmZmVyLnJlc3R5cGUgPSBnZ21sX2FsbG9jcl90CgoKIyBHR01MX0FQSSBnZ21sX2FsbG9jcl90IGdnbWxfYWxsb2NyX25ld19mcm9tX2JhY2tlbmQoc3RydWN0IGdnbWxfYmFja2VuZCAqIGJhY2tlbmQsIHNpemVfdCBzaXplKTsgLy8gYWxsb2NhdGVzIGFuIG93bmVkIGJ1ZmZlcgpkZWYgZ2dtbF9hbGxvY3JfbmV3X2Zyb21fYmFja2VuZCgKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LCBzaXplOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0KKSAtPiBnZ21sX2FsbG9jcl90OgogICAgcmV0dXJuIGxpYi5nZ21sX2FsbG9jcl9uZXdfZnJvbV9iYWNrZW5kKGJhY2tlbmQsIHNpemUpCgoKbGliLmdnbWxfYWxsb2NyX25ld19mcm9tX2JhY2tlbmQuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX3QsIGN0eXBlcy5jX3NpemVfdF0KbGliLmdnbWxfYWxsb2NyX25ld19mcm9tX2JhY2tlbmQucmVzdHlwZSA9IGdnbWxfYWxsb2NyX3QKCgojIEdHTUxfQVBJIGdnbWxfYWxsb2NyX3QgZ2dtbF9hbGxvY3JfbmV3X21lYXN1cmVfZnJvbV9iYWNrZW5kKHN0cnVjdCBnZ21sX2JhY2tlbmQgKiBiYWNrZW5kKTsKZGVmIGdnbWxfYWxsb2NyX25ld19tZWFzdXJlX2Zyb21fYmFja2VuZChiYWNrZW5kOiBnZ21sX2JhY2tlbmRfdCkgLT4gZ2dtbF9hbGxvY3JfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9hbGxvY3JfbmV3X21lYXN1cmVfZnJvbV9iYWNrZW5kKGJhY2tlbmQpCgoKbGliLmdnbWxfYWxsb2NyX25ld19tZWFzdXJlX2Zyb21fYmFja2VuZC5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfdF0KbGliLmdnbWxfYWxsb2NyX25ld19tZWFzdXJlX2Zyb21fYmFja2VuZC5yZXN0eXBlID0gZ2dtbF9hbGxvY3JfdAoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfYmFja2VuZF9idWZmZXIgKiBnZ21sX2FsbG9jcl9nZXRfYnVmZmVyKGdnbWxfYWxsb2NyX3QgYWxsb2MpOwpkZWYgZ2dtbF9hbGxvY3JfZ2V0X2J1ZmZlcihhbGxvYzogZ2dtbF9hbGxvY3JfdCkgLT4gZ2dtbF9iYWNrZW5kX2J1ZmZlcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2FsbG9jcl9nZXRfYnVmZmVyKGFsbG9jKQoKCmxpYi5nZ21sX2FsbG9jcl9nZXRfYnVmZmVyLmFyZ3R5cGVzID0gW2dnbWxfYWxsb2NyX3RdCmxpYi5nZ21sX2FsbG9jcl9nZXRfYnVmZmVyLnJlc3R5cGUgPSBnZ21sX2JhY2tlbmRfYnVmZmVyX3AKCgojIC8vIHRlbGwgdGhlIGFsbG9jYXRvciB0byBwYXJzZSBub2RlcyBmb2xsb3dpbmcgdGhlIG9yZGVyIGRlc2NyaWJlZCBpbiB0aGUgbGlzdAojIC8vIHlvdSBzaG91bGQgY2FsbCB0aGlzIGlmIHlvdXIgZ3JhcGggYXJlIG9wdGltaXplZCB0byBleGVjdXRlIG91dC1vZi1vcmRlcgojIEdHTUxfQVBJIHZvaWQgICBnZ21sX2FsbG9jcl9zZXRfcGFyc2Vfc2VxKGdnbWxfYWxsb2NyX3QgYWxsb2MsIGNvbnN0IGludCAqIGxpc3QsIGludCBuKTsKZGVmIGdnbWxfYWxsb2NyX3NldF9wYXJzZV9zZXEoCiAgICBhbGxvYzogZ2dtbF9hbGxvY3JfdCwKICAgIGxpc3Q6ICJjdHlwZXMuX1BvaW50ZXIoY3R5cGVzLmNfaW50KSIsICAjIHR5cGU6IGlnbm9yZQogICAgbjogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IE5vbmU6CiAgICByZXR1cm4gbGliLmdnbWxfYWxsb2NyX3NldF9wYXJzZV9zZXEoYWxsb2MsIGxpc3QsIG4pCgoKbGliLmdnbWxfYWxsb2NyX3NldF9wYXJzZV9zZXEuYXJndHlwZXMgPSBbCiAgICBnZ21sX2FsbG9jcl90LAogICAgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfaW50KSwKICAgIGN0eXBlcy5jX2ludCwKXQpsaWIuZ2dtbF9hbGxvY3Jfc2V0X3BhcnNlX3NlcS5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCAgIGdnbWxfYWxsb2NyX2ZyZWUgICAgICAgKGdnbWxfYWxsb2NyX3QgYWxsb2MpOwpkZWYgZ2dtbF9hbGxvY3JfZnJlZShhbGxvYzogZ2dtbF9hbGxvY3JfdCkgLT4gTm9uZToKICAgIHJldHVybiBsaWIuZ2dtbF9hbGxvY3JfZnJlZShhbGxvYykKCgpsaWIuZ2dtbF9hbGxvY3JfZnJlZS5hcmd0eXBlcyA9IFtnZ21sX2FsbG9jcl90XQpsaWIuZ2dtbF9hbGxvY3JfZnJlZS5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgYm9vbCAgIGdnbWxfYWxsb2NyX2lzX21lYXN1cmUgKGdnbWxfYWxsb2NyX3QgYWxsb2MpOwpkZWYgZ2dtbF9hbGxvY3JfaXNfbWVhc3VyZShhbGxvYzogZ2dtbF9hbGxvY3JfdCkgLT4gY3R5cGVzLmNfYm9vbDoKICAgIHJldHVybiBsaWIuZ2dtbF9hbGxvY3JfaXNfbWVhc3VyZShhbGxvYykKCgpsaWIuZ2dtbF9hbGxvY3JfaXNfbWVhc3VyZS5hcmd0eXBlcyA9IFtnZ21sX2FsbG9jcl90XQpsaWIuZ2dtbF9hbGxvY3JfaXNfbWVhc3VyZS5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMgR0dNTF9BUEkgdm9pZCAgIGdnbWxfYWxsb2NyX3Jlc2V0ICAgICAgKGdnbWxfYWxsb2NyX3QgYWxsb2MpOwpkZWYgZ2dtbF9hbGxvY3JfcmVzZXQoYWxsb2M6IGdnbWxfYWxsb2NyX3QpIC0+IE5vbmU6CiAgICByZXR1cm4gbGliLmdnbWxfYWxsb2NyX3Jlc2V0KGFsbG9jKQoKCmxpYi5nZ21sX2FsbG9jcl9yZXNldC5hcmd0eXBlcyA9IFtnZ21sX2FsbG9jcl90XQpsaWIuZ2dtbF9hbGxvY3JfcmVzZXQucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIHZvaWQgICBnZ21sX2FsbG9jcl9hbGxvYyAgICAgIChnZ21sX2FsbG9jcl90IGFsbG9jLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9hbGxvY3JfYWxsb2MoYWxsb2M6IGdnbWxfYWxsb2NyX3QsIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCkgLT4gTm9uZToKICAgIHJldHVybiBsaWIuZ2dtbF9hbGxvY3JfYWxsb2MoYWxsb2MsIHRlbnNvcikKCgpsaWIuZ2dtbF9hbGxvY3JfYWxsb2MuYXJndHlwZXMgPSBbZ2dtbF9hbGxvY3JfdCwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpXQpsaWIuZ2dtbF9hbGxvY3JfYWxsb2MucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIHNpemVfdCBnZ21sX2FsbG9jcl9tYXhfc2l6ZSAgIChnZ21sX2FsbG9jcl90IGFsbG9jKTsKZGVmIGdnbWxfYWxsb2NyX21heF9zaXplKGFsbG9jOiBnZ21sX2FsbG9jcl90KSAtPiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF06CiAgICByZXR1cm4gbGliLmdnbWxfYWxsb2NyX21heF9zaXplKGFsbG9jKQoKCmxpYi5nZ21sX2FsbG9jcl9tYXhfc2l6ZS5hcmd0eXBlcyA9IFtnZ21sX2FsbG9jcl90XQpsaWIuZ2dtbF9hbGxvY3JfbWF4X3NpemUucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfYWxsb2NyX2FsbG9jX2dyYXBoKGdnbWxfYWxsb2NyX3QgYWxsb2MsIHN0cnVjdCBnZ21sX2NncmFwaCAqIGdyYXBoKTsKZGVmIGdnbWxfYWxsb2NyX2FsbG9jX2dyYXBoKGFsbG9jOiBnZ21sX2FsbG9jcl90LCBncmFwaDogZ2dtbF9jZ3JhcGhfcCkgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX2FsbG9jcl9hbGxvY19ncmFwaChhbGxvYywgZ3JhcGgpCgoKbGliLmdnbWxfYWxsb2NyX2FsbG9jX2dyYXBoLmFyZ3R5cGVzID0gW2dnbWxfYWxsb2NyX3QsIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKV0KbGliLmdnbWxfYWxsb2NyX2FsbG9jX2dyYXBoLnJlc3R5cGUgPSBjdHlwZXMuY19zaXplX3QKCiMgLy8KIyAvLyBnZ21sLWJhY2tlbmQgdjIgQVBJCiMgLy8KCiMgLy8gU2VwYXJhdGUgdGVuc29yIGFuZCBncmFwaCBhbGxvY2F0b3Igb2JqZWN0cwojIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGZvciBtdWx0aS1iYWNrZW5kIGFsbG9jYXRpb24gYmVjYXVzZSB0aGUgZ3JhcGggYWxsb2NhdG9yIG5lZWRzIHRvIHVzZSBtdWx0aXBsZSB0ZW5zb3IgYWxsb2NhdG9ycwojIC8vIFRoZSBvcmlnaW5hbCBBUEkgaXMga2VwdCBhcyBhIHdyYXBwZXIgYXJvdW5kIHRoZSBuZXcgQVBJCgojIC8vIFRlbnNvciBhbGxvY2F0b3IKIyB0eXBlZGVmIHN0cnVjdCBnZ21sX3RhbGxvY3IgKiBnZ21sX3RhbGxvY3JfdDsKZ2dtbF90YWxsb2NyX3QgPSBjdHlwZXMuY192b2lkX3AKCgojIEdHTUxfQVBJIGdnbWxfdGFsbG9jcl90IGdnbWxfdGFsbG9jcl9uZXcodm9pZCAqIGRhdGEsIHNpemVfdCBzaXplLCBzaXplX3QgYWxpZ25tZW50KTsKZGVmIGdnbWxfdGFsbG9jcl9uZXcoCiAgICBkYXRhOiBjdHlwZXMuY192b2lkX3AsCiAgICBzaXplOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBhbGlnbm1lbnQ6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBnZ21sX3RhbGxvY3JfdDoKICAgIHJldHVybiBsaWIuZ2dtbF90YWxsb2NyX25ldyhkYXRhLCBzaXplLCBhbGlnbm1lbnQpCgoKbGliLmdnbWxfdGFsbG9jcl9uZXcuYXJndHlwZXMgPSBbY3R5cGVzLmNfdm9pZF9wLCBjdHlwZXMuY19zaXplX3QsIGN0eXBlcy5jX3NpemVfdF0KbGliLmdnbWxfdGFsbG9jcl9uZXcucmVzdHlwZSA9IGdnbWxfdGFsbG9jcl90CgoKIyBHR01MX0FQSSBnZ21sX3RhbGxvY3JfdCBnZ21sX3RhbGxvY3JfbmV3X21lYXN1cmUoc2l6ZV90IGFsaWdubWVudCk7CmRlZiBnZ21sX3RhbGxvY3JfbmV3X21lYXN1cmUoYWxpZ25tZW50OiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0pIC0+IGdnbWxfdGFsbG9jcl90OgogICAgcmV0dXJuIGxpYi5nZ21sX3RhbGxvY3JfbmV3X21lYXN1cmUoYWxpZ25tZW50KQoKCmxpYi5nZ21sX3RhbGxvY3JfbmV3X21lYXN1cmUuYXJndHlwZXMgPSBbY3R5cGVzLmNfc2l6ZV90XQpsaWIuZ2dtbF90YWxsb2NyX25ld19tZWFzdXJlLnJlc3R5cGUgPSBnZ21sX3RhbGxvY3JfdAoKCiMgR0dNTF9BUEkgZ2dtbF90YWxsb2NyX3QgZ2dtbF90YWxsb2NyX25ld19mcm9tX2J1ZmZlcihzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2J1ZmZlciAqIGJ1ZmZlcik7CmRlZiBnZ21sX3RhbGxvY3JfbmV3X2Zyb21fYnVmZmVyKGJ1ZmZlcjogZ2dtbF9iYWNrZW5kX2J1ZmZlcl9wKSAtPiBnZ21sX3RhbGxvY3JfdDoKICAgIHJldHVybiBsaWIuZ2dtbF90YWxsb2NyX25ld19mcm9tX2J1ZmZlcihidWZmZXIpCgoKbGliLmdnbWxfdGFsbG9jcl9uZXdfZnJvbV9idWZmZXIuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX2J1ZmZlcl9wXQpsaWIuZ2dtbF90YWxsb2NyX25ld19mcm9tX2J1ZmZlci5yZXN0eXBlID0gZ2dtbF90YWxsb2NyX3QKCgojIEdHTUxfQVBJIGdnbWxfdGFsbG9jcl90IGdnbWxfdGFsbG9jcl9uZXdfZnJvbV9iYWNrZW5kKHN0cnVjdCBnZ21sX2JhY2tlbmQgKiBiYWNrZW5kLCBzaXplX3Qgc2l6ZSk7IC8vIGFsbG9jYXRlcyBhbiBvd25lZCBidWZmZXIKZGVmIGdnbWxfdGFsbG9jcl9uZXdfZnJvbV9iYWNrZW5kKAogICAgYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QsIHNpemU6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XQopIC0+IGdnbWxfdGFsbG9jcl90OgogICAgcmV0dXJuIGxpYi5nZ21sX3RhbGxvY3JfbmV3X2Zyb21fYmFja2VuZChiYWNrZW5kLCBzaXplKQoKCmxpYi5nZ21sX3RhbGxvY3JfbmV3X2Zyb21fYmFja2VuZC5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfdCwgY3R5cGVzLmNfc2l6ZV90XQpsaWIuZ2dtbF90YWxsb2NyX25ld19mcm9tX2JhY2tlbmQucmVzdHlwZSA9IGdnbWxfdGFsbG9jcl90CgoKIyBHR01MX0FQSSBnZ21sX3RhbGxvY3JfdCBnZ21sX3RhbGxvY3JfbmV3X21lYXN1cmVfZnJvbV9iYWNrZW5kKHN0cnVjdCBnZ21sX2JhY2tlbmQgKiBiYWNrZW5kKTsKZGVmIGdnbWxfdGFsbG9jcl9uZXdfbWVhc3VyZV9mcm9tX2JhY2tlbmQoYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QpIC0+IGdnbWxfdGFsbG9jcl90OgogICAgcmV0dXJuIGxpYi5nZ21sX3RhbGxvY3JfbmV3X21lYXN1cmVfZnJvbV9iYWNrZW5kKGJhY2tlbmQpCgoKbGliLmdnbWxfdGFsbG9jcl9uZXdfbWVhc3VyZV9mcm9tX2JhY2tlbmQuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX3RdCmxpYi5nZ21sX3RhbGxvY3JfbmV3X21lYXN1cmVfZnJvbV9iYWNrZW5kLnJlc3R5cGUgPSBnZ21sX3RhbGxvY3JfdAoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfYmFja2VuZF9idWZmZXIgKiBnZ21sX3RhbGxvY3JfZ2V0X2J1ZmZlcihnZ21sX3RhbGxvY3JfdCB0YWxsb2MpOwpkZWYgZ2dtbF90YWxsb2NyX2dldF9idWZmZXIodGFsbG9jOiBnZ21sX3RhbGxvY3JfdCkgLT4gZ2dtbF9iYWNrZW5kX2J1ZmZlcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX3RhbGxvY3JfZ2V0X2J1ZmZlcih0YWxsb2MpCgoKbGliLmdnbWxfdGFsbG9jcl9nZXRfYnVmZmVyLmFyZ3R5cGVzID0gW2dnbWxfdGFsbG9jcl90XQpsaWIuZ2dtbF90YWxsb2NyX2dldF9idWZmZXIucmVzdHlwZSA9IGdnbWxfYmFja2VuZF9idWZmZXJfcAoKCiMgR0dNTF9BUEkgdm9pZCAgIGdnbWxfdGFsbG9jcl9mcmVlICAgICAgIChnZ21sX3RhbGxvY3JfdCB0YWxsb2MpOwpkZWYgZ2dtbF90YWxsb2NyX2ZyZWUodGFsbG9jOiBnZ21sX3RhbGxvY3JfdCkgLT4gTm9uZToKICAgIHJldHVybiBsaWIuZ2dtbF90YWxsb2NyX2ZyZWUodGFsbG9jKQoKCmxpYi5nZ21sX3RhbGxvY3JfZnJlZS5hcmd0eXBlcyA9IFtnZ21sX3RhbGxvY3JfdF0KbGliLmdnbWxfdGFsbG9jcl9mcmVlLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBib29sICAgZ2dtbF90YWxsb2NyX2lzX21lYXN1cmUgKGdnbWxfdGFsbG9jcl90IHRhbGxvYyk7CmRlZiBnZ21sX3RhbGxvY3JfaXNfbWVhc3VyZSh0YWxsb2M6IGdnbWxfdGFsbG9jcl90KSAtPiBib29sOgogICAgcmV0dXJuIGxpYi5nZ21sX3RhbGxvY3JfaXNfbWVhc3VyZSh0YWxsb2MpCgoKbGliLmdnbWxfdGFsbG9jcl9pc19tZWFzdXJlLmFyZ3R5cGVzID0gW2dnbWxfdGFsbG9jcl90XQpsaWIuZ2dtbF90YWxsb2NyX2lzX21lYXN1cmUucmVzdHlwZSA9IGN0eXBlcy5jX2Jvb2wKCgojIEdHTUxfQVBJIHZvaWQgICBnZ21sX3RhbGxvY3JfcmVzZXQgICAgICAoZ2dtbF90YWxsb2NyX3QgdGFsbG9jKTsKZGVmIGdnbWxfdGFsbG9jcl9yZXNldCh0YWxsb2M6IGdnbWxfdGFsbG9jcl90KSAtPiBOb25lOgogICAgcmV0dXJuIGxpYi5nZ21sX3RhbGxvY3JfcmVzZXQodGFsbG9jKQoKCmxpYi5nZ21sX3RhbGxvY3JfcmVzZXQuYXJndHlwZXMgPSBbZ2dtbF90YWxsb2NyX3RdCmxpYi5nZ21sX3RhbGxvY3JfcmVzZXQucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIHZvaWQgICBnZ21sX3RhbGxvY3JfYWxsb2MgICAgICAoZ2dtbF90YWxsb2NyX3QgdGFsbG9jLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF90YWxsb2NyX2FsbG9jKHRhbGxvYzogZ2dtbF90YWxsb2NyX3QsIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCkgLT4gTm9uZToKICAgIHJldHVybiBsaWIuZ2dtbF90YWxsb2NyX2FsbG9jKHRhbGxvYywgdGVuc29yKQoKCmxpYi5nZ21sX3RhbGxvY3JfYWxsb2MuYXJndHlwZXMgPSBbZ2dtbF90YWxsb2NyX3QsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKV0KbGliLmdnbWxfdGFsbG9jcl9hbGxvYy5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfdGFsbG9jcl9tYXhfc2l6ZSAgIChnZ21sX3RhbGxvY3JfdCB0YWxsb2MpOwpkZWYgZ2dtbF90YWxsb2NyX21heF9zaXplKHRhbGxvYzogZ2dtbF90YWxsb2NyX3QpIC0+IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XToKICAgIHJldHVybiBsaWIuZ2dtbF90YWxsb2NyX21heF9zaXplKHRhbGxvYykKCgpsaWIuZ2dtbF90YWxsb2NyX21heF9zaXplLmFyZ3R5cGVzID0gW2dnbWxfdGFsbG9jcl90XQpsaWIuZ2dtbF90YWxsb2NyX21heF9zaXplLnJlc3R5cGUgPSBjdHlwZXMuY19zaXplX3QKCgojIC8vIEdyYXBoIGFsbG9jYXRvcgojIHR5cGVkZWYgc3RydWN0IGdnbWxfZ2FsbG9jciAqIGdnbWxfZ2FsbG9jcl90OwpnZ21sX2dhbGxvY3JfdCA9IGN0eXBlcy5jX3ZvaWRfcAoKCiMgR0dNTF9BUEkgZ2dtbF9nYWxsb2NyX3QgZ2dtbF9nYWxsb2NyX25ldyh2b2lkKTsKZGVmIGdnbWxfZ2FsbG9jcl9uZXcoKSAtPiBnZ21sX2dhbGxvY3JfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9nYWxsb2NyX25ldygpCgoKbGliLmdnbWxfZ2FsbG9jcl9uZXcuYXJndHlwZXMgPSBbXQpsaWIuZ2dtbF9nYWxsb2NyX25ldy5yZXN0eXBlID0gZ2dtbF9nYWxsb2NyX3QKCgojIEdHTUxfQVBJIHZvaWQgICBnZ21sX2dhbGxvY3JfZnJlZShnZ21sX2dhbGxvY3JfdCBnYWxsb2MpOwpkZWYgZ2dtbF9nYWxsb2NyX2ZyZWUoZ2FsbG9jOiBnZ21sX2dhbGxvY3JfdCkgLT4gTm9uZToKICAgIHJldHVybiBsaWIuZ2dtbF9nYWxsb2NyX2ZyZWUoZ2FsbG9jKQoKCmxpYi5nZ21sX2dhbGxvY3JfZnJlZS5hcmd0eXBlcyA9IFtnZ21sX2dhbGxvY3JfdF0KbGliLmdnbWxfZ2FsbG9jcl9mcmVlLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSB2b2lkICAgZ2dtbF9nYWxsb2NyX3NldF9wYXJzZV9zZXEoZ2dtbF9nYWxsb2NyX3QgZ2FsbG9jLCBjb25zdCBpbnQgKiBsaXN0LCBpbnQgbik7CmRlZiBnZ21sX2dhbGxvY3Jfc2V0X3BhcnNlX3NlcSgKICAgIGdhbGxvYzogZ2dtbF9nYWxsb2NyX3QsCiAgICBsaXN0OiAiY3R5cGVzLl9Qb2ludGVyKGN0eXBlcy5jX2ludCkiLCAgIyB0eXBlOiBpZ25vcmUKICAgIG46IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBOb25lOgogICAgcmV0dXJuIGxpYi5nZ21sX2dhbGxvY3Jfc2V0X3BhcnNlX3NlcShnYWxsb2MsIGxpc3QsIG4pCgoKbGliLmdnbWxfZ2FsbG9jcl9zZXRfcGFyc2Vfc2VxLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9nYWxsb2NyX3QsCiAgICBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19pbnQpLAogICAgY3R5cGVzLmNfaW50LApdCmxpYi5nZ21sX2dhbGxvY3Jfc2V0X3BhcnNlX3NlcS5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfZ2FsbG9jcl9hbGxvY19ncmFwaChnZ21sX2dhbGxvY3JfdCBnYWxsb2MsIGdnbWxfdGFsbG9jcl90IHRhbGxvYywgc3RydWN0IGdnbWxfY2dyYXBoICogZ3JhcGgpOwpkZWYgZ2dtbF9nYWxsb2NyX2FsbG9jX2dyYXBoKAogICAgZ2FsbG9jOiBnZ21sX2dhbGxvY3JfdCwgdGFsbG9jOiBnZ21sX3RhbGxvY3JfdCwgZ3JhcGg6IGdnbWxfY2dyYXBoX3AKKSAtPiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF06CiAgICByZXR1cm4gbGliLmdnbWxfZ2FsbG9jcl9hbGxvY19ncmFwaChnYWxsb2MsIHRhbGxvYywgZ3JhcGgpCgoKbGliLmdnbWxfZ2FsbG9jcl9hbGxvY19ncmFwaC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfZ2FsbG9jcl90LAogICAgZ2dtbF90YWxsb2NyX3QsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCl0KbGliLmdnbWxfZ2FsbG9jcl9hbGxvY19ncmFwaC5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyAvLyBBbGxvY2F0ZSB0ZW5zb3JzIGZyb20gdGhlIGFsbG9jYXRvcnMgZ2l2ZW4gYnkgdGhlIGhhc2ggdGFibGUKIyBHR01MX0FQSSB2b2lkICAgZ2dtbF9nYWxsb2NyX2FsbG9jX2dyYXBoX24oCiMgICAgICAgICAgICAgICAgICAgICBnZ21sX2dhbGxvY3JfdCBnYWxsb2MsCiMgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBncmFwaCwKIyAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBnZ21sX2hhc2hfc2V0IGhhc2hfc2V0LAojICAgICAgICAgICAgICAgICAgICAgZ2dtbF90YWxsb2NyX3QgKiBoYXNoX25vZGVfdGFsbG9jKTsKZGVmIGdnbWxfZ2FsbG9jcl9hbGxvY19ncmFwaF9uKAogICAgZ2FsbG9jOiBnZ21sX2dhbGxvY3JfdCwKICAgIGdyYXBoOiBnZ21sX2NncmFwaF9wLAogICAgaGFzaF9zZXQ6IGdnbWxfaGFzaF9zZXQsCiAgICBoYXNoX25vZGVfdGFsbG9jOiAiY3R5cGVzLl9Qb2ludGVyKGdnbWxfdGFsbG9jcl90KSIsICAjIHR5cGU6IGlnbm9yZQopIC0+IE5vbmU6CiAgICByZXR1cm4gbGliLmdnbWxfZ2FsbG9jcl9hbGxvY19ncmFwaF9uKGdhbGxvYywgZ3JhcGgsIGhhc2hfc2V0LCBoYXNoX25vZGVfdGFsbG9jKQoKCmxpYi5nZ21sX2dhbGxvY3JfYWxsb2NfZ3JhcGhfbi5hcmd0eXBlcyA9IFsKICAgIGdnbWxfZ2FsbG9jcl90LAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpLAogICAgZ2dtbF9oYXNoX3NldCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGFsbG9jcl90KSwKXQpsaWIuZ2dtbF9nYWxsb2NyX2FsbG9jX2dyYXBoX24ucmVzdHlwZSA9IE5vbmUKCgojIC8vIFV0aWxzCiMgLy8gQ3JlYXRlIGEgYnVmZmVyIGFuZCBhbGxvY2F0ZSBhbGwgdGhlIHRlbnNvcnMgaW4gYSBnZ21sX2NvbnRleHQKIyBHR01MX0FQSSBzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2J1ZmZlciAqIGdnbWxfYmFja2VuZF9hbGxvY19jdHhfdGVuc29yc19mcm9tX2J1ZnQoc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwgc3RydWN0IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZSAqIGJ1ZnQpOwpkZWYgZ2dtbF9iYWNrZW5kX2FsbG9jX2N0eF90ZW5zb3JzX2Zyb21fYnVmdCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsIGJ1ZnQ6IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV9wCikgLT4gZ2dtbF9iYWNrZW5kX2J1ZmZlcl9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfYWxsb2NfY3R4X3RlbnNvcnNfZnJvbV9idWZ0KGN0eCwgYnVmdCkKCgpsaWIuZ2dtbF9iYWNrZW5kX2FsbG9jX2N0eF90ZW5zb3JzX2Zyb21fYnVmdC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3AsCl0KbGliLmdnbWxfYmFja2VuZF9hbGxvY19jdHhfdGVuc29yc19mcm9tX2J1ZnQucmVzdHlwZSA9IGdnbWxfYmFja2VuZF9idWZmZXJfcAoKCiMgR0dNTF9BUEkgc3RydWN0IGdnbWxfYmFja2VuZF9idWZmZXIgKiBnZ21sX2JhY2tlbmRfYWxsb2NfY3R4X3RlbnNvcnMoc3RydWN0IGdnbWxfY29udGV4dCAqIGN0eCwgc3RydWN0IGdnbWxfYmFja2VuZCAqIGJhY2tlbmQpOwpkZWYgZ2dtbF9iYWNrZW5kX2FsbG9jX2N0eF90ZW5zb3JzKAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwgYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QKKSAtPiBnZ21sX2JhY2tlbmRfYnVmZmVyX3A6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9hbGxvY19jdHhfdGVuc29ycyhjdHgsIGJhY2tlbmQpCgoKbGliLmdnbWxfYmFja2VuZF9hbGxvY19jdHhfdGVuc29ycy5hcmd0eXBlcyA9IFsKICAgIGdnbWxfY29udGV4dF9wLAogICAgZ2dtbF9iYWNrZW5kX3QsCl0KbGliLmdnbWxfYmFja2VuZF9hbGxvY19jdHhfdGVuc29ycy5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX2J1ZmZlcl9wCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIEdHTUwgQmFja2VuZCBBUEkKIyBzb3VyY2U6IGdnbWwtYmFja2VuZC5oCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojIHR5cGVkZWYgc3RydWN0IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZSAqIGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90OwojIHR5cGVkZWYgc3RydWN0IGdnbWxfYmFja2VuZF9idWZmZXIgKiBnZ21sX2JhY2tlbmRfYnVmZmVyX3Q7CiMgdHlwZWRlZiBzdHJ1Y3QgZ2dtbF9iYWNrZW5kICogZ2dtbF9iYWNrZW5kX3Q7CiMgdHlwZWRlZiB2b2lkICogZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fdDsKZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgPSBjdHlwZXMuY192b2lkX3AKZ2dtbF9iYWNrZW5kX2J1ZmZlcl90ID0gY3R5cGVzLmNfdm9pZF9wCmdnbWxfYmFja2VuZF90ID0gY3R5cGVzLmNfdm9pZF9wCmdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX3QgPSBjdHlwZXMuY192b2lkX3AKCiMgLy8KIyAvLyBCYWNrZW5kIGJ1ZmZlcgojIC8vCgoKIyAvLyBidWZmZXIgdHlwZQojIEdHTUxfQVBJIGdnbWxfYmFja2VuZF9idWZmZXJfdCBnZ21sX2JhY2tlbmRfYnVmdF9hbGxvY19idWZmZXIoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgYnVmdCwgc2l6ZV90IHNpemUpOwpkZWYgZ2dtbF9iYWNrZW5kX2J1ZnRfYWxsb2NfYnVmZmVyKAogICAgYnVmdDogZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QsIHNpemU6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XQopIC0+IGdnbWxfYmFja2VuZF9idWZmZXJfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2J1ZnRfYWxsb2NfYnVmZmVyKGJ1ZnQsIHNpemUpCgoKbGliLmdnbWxfYmFja2VuZF9idWZ0X2FsbG9jX2J1ZmZlci5hcmd0eXBlcyA9IFsKICAgIGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LApdCmxpYi5nZ21sX2JhY2tlbmRfYnVmdF9hbGxvY19idWZmZXIucmVzdHlwZSA9IGdnbWxfYmFja2VuZF9idWZmZXJfdAoKCiMgR0dNTF9BUEkgc2l6ZV90IGdnbWxfYmFja2VuZF9idWZ0X2dldF9hbGlnbm1lbnQgKGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90IGJ1ZnQpOwpkZWYgZ2dtbF9iYWNrZW5kX2J1ZnRfZ2V0X2FsaWdubWVudCgKICAgIGJ1ZnQ6IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90LAopIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2J1ZnRfZ2V0X2FsaWdubWVudChidWZ0KQoKCmxpYi5nZ21sX2JhY2tlbmRfYnVmdF9nZXRfYWxpZ25tZW50LmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90XQpsaWIuZ2dtbF9iYWNrZW5kX2J1ZnRfZ2V0X2FsaWdubWVudC5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyBHR01MX0FQSSBzaXplX3QgZ2dtbF9iYWNrZW5kX2J1ZnRfZ2V0X2FsbG9jX3NpemUoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgYnVmdCwgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfYmFja2VuZF9idWZ0X2dldF9hbGxvY19zaXplKAogICAgYnVmdDogZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QsIHRlbnNvcjogZ2dtbF90ZW5zb3JfcAopIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2J1ZnRfZ2V0X2FsbG9jX3NpemUoYnVmdCwgdGVuc29yKQoKCmxpYi5nZ21sX2JhY2tlbmRfYnVmdF9nZXRfYWxsb2Nfc2l6ZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90LAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2JhY2tlbmRfYnVmdF9nZXRfYWxsb2Nfc2l6ZS5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyBHR01MX0FQSSBib29sIGdnbWxfYmFja2VuZF9idWZ0X3N1cHBvcnRzX2JhY2tlbmQoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgYnVmdCwgZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCk7CmRlZiBnZ21sX2JhY2tlbmRfYnVmdF9zdXBwb3J0c19iYWNrZW5kKAogICAgYnVmdDogZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QsIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90CikgLT4gYm9vbDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2J1ZnRfc3VwcG9ydHNfYmFja2VuZChidWZ0LCBiYWNrZW5kKQoKCmxpYi5nZ21sX2JhY2tlbmRfYnVmdF9zdXBwb3J0c19iYWNrZW5kLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QsCiAgICBnZ21sX2JhY2tlbmRfdCwKXQpsaWIuZ2dtbF9iYWNrZW5kX2J1ZnRfc3VwcG9ydHNfYmFja2VuZC5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMgLy8gYnVmZmVyCiMgR0dNTF9BUEkgdm9pZCAgIGdnbWxfYmFja2VuZF9idWZmZXJfZnJlZSAgICAgICAgICAoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90IGJ1ZmZlcik7CmRlZiBnZ21sX2JhY2tlbmRfYnVmZmVyX2ZyZWUoCiAgICBidWZmZXI6IGdnbWxfYmFja2VuZF9idWZmZXJfdCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2J1ZmZlcl9mcmVlKGJ1ZmZlcikKCgpsaWIuZ2dtbF9iYWNrZW5kX2J1ZmZlcl9mcmVlLmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF9idWZmZXJfdF0KbGliLmdnbWxfYmFja2VuZF9idWZmZXJfZnJlZS5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCAqIGdnbWxfYmFja2VuZF9idWZmZXJfZ2V0X2Jhc2UgICAgICAoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90IGJ1ZmZlcik7CmRlZiBnZ21sX2JhY2tlbmRfYnVmZmVyX2dldF9iYXNlKAogICAgYnVmZmVyOiBnZ21sX2JhY2tlbmRfYnVmZmVyX3QsCikgLT4gY3R5cGVzLmNfdm9pZF9wOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfYnVmZmVyX2dldF9iYXNlKGJ1ZmZlcikKCgpsaWIuZ2dtbF9iYWNrZW5kX2J1ZmZlcl9nZXRfYmFzZS5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfYnVmZmVyX3RdCmxpYi5nZ21sX2JhY2tlbmRfYnVmZmVyX2dldF9iYXNlLnJlc3R5cGUgPSBjdHlwZXMuY192b2lkX3AKCgojIEdHTUxfQVBJIHNpemVfdCBnZ21sX2JhY2tlbmRfYnVmZmVyX2dldF9zaXplICAgICAgKGdnbWxfYmFja2VuZF9idWZmZXJfdCBidWZmZXIpOwpkZWYgZ2dtbF9iYWNrZW5kX2J1ZmZlcl9nZXRfc2l6ZSgKICAgIGJ1ZmZlcjogZ2dtbF9iYWNrZW5kX2J1ZmZlcl90LAopIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2J1ZmZlcl9nZXRfc2l6ZShidWZmZXIpCgoKbGliLmdnbWxfYmFja2VuZF9idWZmZXJfZ2V0X3NpemUuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX2J1ZmZlcl90XQpsaWIuZ2dtbF9iYWNrZW5kX2J1ZmZlcl9nZXRfc2l6ZS5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyBHR01MX0FQSSB2b2lkICAgZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pbml0X3RlbnNvciAgIChnZ21sX2JhY2tlbmRfYnVmZmVyX3QgYnVmZmVyLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pbml0X3RlbnNvcigKICAgIGJ1ZmZlcjogZ2dtbF9iYWNrZW5kX2J1ZmZlcl90LAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfYnVmZmVyX2luaXRfdGVuc29yKGJ1ZmZlciwgdGVuc29yKQoKCmxpYi5nZ21sX2JhY2tlbmRfYnVmZmVyX2luaXRfdGVuc29yLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90LAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLApdCmxpYi5nZ21sX2JhY2tlbmRfYnVmZmVyX2luaXRfdGVuc29yLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBzaXplX3QgZ2dtbF9iYWNrZW5kX2J1ZmZlcl9nZXRfYWxpZ25tZW50IChnZ21sX2JhY2tlbmRfYnVmZmVyX3QgYnVmZmVyKTsKZGVmIGdnbWxfYmFja2VuZF9idWZmZXJfZ2V0X2FsaWdubWVudCgKICAgIGJ1ZmZlcjogZ2dtbF9iYWNrZW5kX2J1ZmZlcl90LAopIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2J1ZmZlcl9nZXRfYWxpZ25tZW50KGJ1ZmZlcikKCgpsaWIuZ2dtbF9iYWNrZW5kX2J1ZmZlcl9nZXRfYWxpZ25tZW50LmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF9idWZmZXJfdF0KbGliLmdnbWxfYmFja2VuZF9idWZmZXJfZ2V0X2FsaWdubWVudC5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyBHR01MX0FQSSBzaXplX3QgZ2dtbF9iYWNrZW5kX2J1ZmZlcl9nZXRfYWxsb2Nfc2l6ZShnZ21sX2JhY2tlbmRfYnVmZmVyX3QgYnVmZmVyLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9iYWNrZW5kX2J1ZmZlcl9nZXRfYWxsb2Nfc2l6ZSgKICAgIGJ1ZmZlcjogZ2dtbF9iYWNrZW5kX2J1ZmZlcl90LCB0ZW5zb3I6IGdnbWxfdGVuc29yX3AKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9idWZmZXJfZ2V0X2FsbG9jX3NpemUoYnVmZmVyLCB0ZW5zb3IpCgoKbGliLmdnbWxfYmFja2VuZF9idWZmZXJfZ2V0X2FsbG9jX3NpemUuYXJndHlwZXMgPSBbCiAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX3QsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCl0KbGliLmdnbWxfYmFja2VuZF9idWZmZXJfZ2V0X2FsbG9jX3NpemUucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlKGdnbWxfYmFja2VuZF9idWZmZXJfdCBidWZmZXIpOwpkZWYgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlKAogICAgYnVmZmVyOiBnZ21sX2JhY2tlbmRfYnVmZmVyX3QsCikgLT4gZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3Q6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9idWZmZXJfdHlwZShidWZmZXIpCgoKbGliLmdnbWxfYmFja2VuZF9idWZmZXJfdHlwZS5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfYnVmZmVyX3RdCmxpYi5nZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGUucmVzdHlwZSA9IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90CgoKIyAvLwojIC8vIEJhY2tlbmQKIyAvLwoKCiMgR0dNTF9BUEkgY29uc3QgY2hhciAqIGdnbWxfYmFja2VuZF9uYW1lKGdnbWxfYmFja2VuZF90IGJhY2tlbmQpOwpkZWYgZ2dtbF9iYWNrZW5kX25hbWUoCiAgICBiYWNrZW5kOiBnZ21sX2JhY2tlbmRfdCwKKSAtPiBieXRlczoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX25hbWUoYmFja2VuZCkKCgpsaWIuZ2dtbF9iYWNrZW5kX25hbWUuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX3RdCmxpYi5nZ21sX2JhY2tlbmRfbmFtZS5yZXN0eXBlID0gY3R5cGVzLmNfY2hhcl9wCgoKIyBHR01MX0FQSSB2b2lkICAgICAgICAgZ2dtbF9iYWNrZW5kX2ZyZWUoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCk7CmRlZiBnZ21sX2JhY2tlbmRfZnJlZSgKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfZnJlZShiYWNrZW5kKQoKCmxpYi5nZ21sX2JhY2tlbmRfZnJlZS5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfdF0KbGliLmdnbWxfYmFja2VuZF9mcmVlLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCBnZ21sX2JhY2tlbmRfZ2V0X2RlZmF1bHRfYnVmZmVyX3R5cGUoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCk7CmRlZiBnZ21sX2JhY2tlbmRfZ2V0X2RlZmF1bHRfYnVmZmVyX3R5cGUoCiAgICBiYWNrZW5kOiBnZ21sX2JhY2tlbmRfdCwKKSAtPiBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2dldF9kZWZhdWx0X2J1ZmZlcl90eXBlKGJhY2tlbmQpCgoKbGliLmdnbWxfYmFja2VuZF9nZXRfZGVmYXVsdF9idWZmZXJfdHlwZS5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfdF0KbGliLmdnbWxfYmFja2VuZF9nZXRfZGVmYXVsdF9idWZmZXJfdHlwZS5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QKCgojIEdHTUxfQVBJIGdnbWxfYmFja2VuZF9idWZmZXJfdCAgICAgIGdnbWxfYmFja2VuZF9hbGxvY19idWZmZXIoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCwgc2l6ZV90IHNpemUpOwpkZWYgZ2dtbF9iYWNrZW5kX2FsbG9jX2J1ZmZlcigKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAogICAgc2l6ZTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopIC0+IGdnbWxfYmFja2VuZF9idWZmZXJfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2FsbG9jX2J1ZmZlcihiYWNrZW5kLCBzaXplKQoKCmxpYi5nZ21sX2JhY2tlbmRfYWxsb2NfYnVmZmVyLmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF90LCBjdHlwZXMuY19zaXplX3RdCmxpYi5nZ21sX2JhY2tlbmRfYWxsb2NfYnVmZmVyLnJlc3R5cGUgPSBnZ21sX2JhY2tlbmRfYnVmZmVyX3QKCgojIEdHTUxfQVBJIHNpemVfdCAgICAgICAgICAgICAgICAgICAgIGdnbWxfYmFja2VuZF9nZXRfYWxpZ25tZW50KGdnbWxfYmFja2VuZF90IGJhY2tlbmQpOwpkZWYgZ2dtbF9iYWNrZW5kX2dldF9hbGlnbm1lbnQoCiAgICBiYWNrZW5kOiBnZ21sX2JhY2tlbmRfdCwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9nZXRfYWxpZ25tZW50KGJhY2tlbmQpCgoKbGliLmdnbWxfYmFja2VuZF9nZXRfYWxpZ25tZW50LmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF90XQpsaWIuZ2dtbF9iYWNrZW5kX2dldF9hbGlnbm1lbnQucmVzdHlwZSA9IGN0eXBlcy5jX3NpemVfdAoKCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfdGVuc29yX3NldF9hc3luYyhnZ21sX2JhY2tlbmRfdCBiYWNrZW5kLCAgICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IsIGNvbnN0IHZvaWQgKiBkYXRhLCBzaXplX3Qgb2Zmc2V0LCBzaXplX3Qgc2l6ZSk7CmRlZiBnZ21sX2JhY2tlbmRfdGVuc29yX3NldF9hc3luYygKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAogICAgZGF0YTogY3R5cGVzLmNfdm9pZF9wLAogICAgb2Zmc2V0OiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBzaXplOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCik6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF90ZW5zb3Jfc2V0X2FzeW5jKGJhY2tlbmQsIHRlbnNvciwgZGF0YSwgb2Zmc2V0LCBzaXplKQoKCmxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX3NldF9hc3luYy5hcmd0eXBlcyA9IFsKICAgIGdnbWxfYmFja2VuZF90LAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LApdCmxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX3NldF9hc3luYy5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfdGVuc29yX2dldF9hc3luYyhnZ21sX2JhY2tlbmRfdCBiYWNrZW5kLCBjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IsICAgICAgIHZvaWQgKiBkYXRhLCBzaXplX3Qgb2Zmc2V0LCBzaXplX3Qgc2l6ZSk7CmRlZiBnZ21sX2JhY2tlbmRfdGVuc29yX2dldF9hc3luYygKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAogICAgZGF0YTogY3R5cGVzLmNfdm9pZF9wLAogICAgb2Zmc2V0OiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBzaXplOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCik6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF90ZW5zb3JfZ2V0X2FzeW5jKGJhY2tlbmQsIHRlbnNvciwgZGF0YSwgb2Zmc2V0LCBzaXplKQoKCmxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX2dldF9hc3luYy5hcmd0eXBlcyA9IFsKICAgIGdnbWxfYmFja2VuZF90LAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfdm9pZF9wLAogICAgY3R5cGVzLmNfc2l6ZV90LAogICAgY3R5cGVzLmNfc2l6ZV90LApdCmxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX2dldF9hc3luYy5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfdGVuc29yX3NldCggICAgICBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IsIGNvbnN0IHZvaWQgKiBkYXRhLCBzaXplX3Qgb2Zmc2V0LCBzaXplX3Qgc2l6ZSk7CmRlZiBnZ21sX2JhY2tlbmRfdGVuc29yX3NldCgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKICAgIGRhdGE6IGN0eXBlcy5jX3ZvaWRfcCwKICAgIG9mZnNldDogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgc2l6ZTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX3NldCh0ZW5zb3IsIGRhdGEsIG9mZnNldCwgc2l6ZSkKCgpsaWIuZ2dtbF9iYWNrZW5kX3RlbnNvcl9zZXQuYXJndHlwZXMgPSBbCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY192b2lkX3AsCiAgICBjdHlwZXMuY19zaXplX3QsCiAgICBjdHlwZXMuY19zaXplX3QsCl0KbGliLmdnbWxfYmFja2VuZF90ZW5zb3Jfc2V0LnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSB2b2lkIGdnbWxfYmFja2VuZF90ZW5zb3JfZ2V0KGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgICAgICAgdm9pZCAqIGRhdGEsIHNpemVfdCBvZmZzZXQsIHNpemVfdCBzaXplKTsKZGVmIGdnbWxfYmFja2VuZF90ZW5zb3JfZ2V0KAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAogICAgZGF0YTogY3R5cGVzLmNfdm9pZF9wLAogICAgb2Zmc2V0OiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBzaXplOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCik6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF90ZW5zb3JfZ2V0KHRlbnNvciwgZGF0YSwgb2Zmc2V0LCBzaXplKQoKCmxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX2dldC5hcmd0eXBlcyA9IFsKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX3ZvaWRfcCwKICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIGN0eXBlcy5jX3NpemVfdCwKXQpsaWIuZ2dtbF9iYWNrZW5kX3RlbnNvcl9nZXQucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIHZvaWQgZ2dtbF9iYWNrZW5kX3N5bmNocm9uaXplKGdnbWxfYmFja2VuZF90IGJhY2tlbmQpOwpkZWYgZ2dtbF9iYWNrZW5kX3N5bmNocm9uaXplKAogICAgYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QsCik6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9zeW5jaHJvbml6ZShiYWNrZW5kKQoKCmxpYi5nZ21sX2JhY2tlbmRfc3luY2hyb25pemUuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX3RdCmxpYi5nZ21sX2JhY2tlbmRfc3luY2hyb25pemUucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIGdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX3QgZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fY3JlYXRlIChnZ21sX2JhY2tlbmRfdCBiYWNrZW5kLCBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBjZ3JhcGgpOwpkZWYgZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fY3JlYXRlKAogICAgYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QsCiAgICBjZ3JhcGg6IGdnbWxfY2dyYXBoX3AsCikgLT4gZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fY3JlYXRlKGJhY2tlbmQsIGNncmFwaCkKCgpsaWIuZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fY3JlYXRlLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9iYWNrZW5kX3QsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCl0KbGliLmdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX2NyZWF0ZS5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fdAoKCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfZ3JhcGhfcGxhbl9mcmVlICAgKGdnbWxfYmFja2VuZF90IGJhY2tlbmQsIGdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX3QgcGxhbik7CmRlZiBnZ21sX2JhY2tlbmRfZ3JhcGhfcGxhbl9mcmVlKAogICAgYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QsCiAgICBwbGFuOiBnZ21sX2JhY2tlbmRfZ3JhcGhfcGxhbl90LAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfZ3JhcGhfcGxhbl9mcmVlKGJhY2tlbmQsIHBsYW4pCgoKbGliLmdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX2ZyZWUuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX3QsIGdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX3RdCmxpYi5nZ21sX2JhY2tlbmRfZ3JhcGhfcGxhbl9mcmVlLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSB2b2lkIGdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX2NvbXB1dGUoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCwgZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fdCBwbGFuKTsKZGVmIGdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX2NvbXB1dGUoCiAgICBiYWNrZW5kOiBnZ21sX2JhY2tlbmRfdCwKICAgIHBsYW46IGdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX3QsCik6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX2NvbXB1dGUoYmFja2VuZCwgcGxhbikKCgpsaWIuZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fY29tcHV0ZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfYmFja2VuZF90LAogICAgZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fdCwKXQpsaWIuZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fY29tcHV0ZS5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfZ3JhcGhfY29tcHV0ZSAgICAgKGdnbWxfYmFja2VuZF90IGJhY2tlbmQsIHN0cnVjdCBnZ21sX2NncmFwaCAqIGNncmFwaCk7CmRlZiBnZ21sX2JhY2tlbmRfZ3JhcGhfY29tcHV0ZSgKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAogICAgY2dyYXBoOiBnZ21sX2NncmFwaF9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfZ3JhcGhfY29tcHV0ZShiYWNrZW5kLCBjZ3JhcGgpCgoKbGliLmdnbWxfYmFja2VuZF9ncmFwaF9jb21wdXRlLmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF90LCBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCldCmxpYi5nZ21sX2JhY2tlbmRfZ3JhcGhfY29tcHV0ZS5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgYm9vbCBnZ21sX2JhY2tlbmRfc3VwcG9ydHNfb3AgICAgICAgKGdnbWxfYmFja2VuZF90IGJhY2tlbmQsIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIG9wKTsKZGVmIGdnbWxfYmFja2VuZF9zdXBwb3J0c19vcCgKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAogICAgb3A6IGdnbWxfdGVuc29yX3AsCikgLT4gVW5pb25bY3R5cGVzLmNfYm9vbCwgYm9vbF06CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9zdXBwb3J0c19vcChiYWNrZW5kLCBvcCkKCgpsaWIuZ2dtbF9iYWNrZW5kX3N1cHBvcnRzX29wLmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF90LCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcildCmxpYi5nZ21sX2JhY2tlbmRfc3VwcG9ydHNfb3AucmVzdHlwZSA9IGN0eXBlcy5jX2Jvb2wKCgojIC8vIHRlbnNvciBjb3B5IGJldHdlZW4gZGlmZmVyZW50IGJhY2tlbmRzCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfdGVuc29yX2NvcHkoc3RydWN0IGdnbWxfdGVuc29yICogc3JjLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBkc3QpOwpkZWYgZ2dtbF9iYWNrZW5kX3RlbnNvcl9jb3B5KAogICAgc3JjOiBnZ21sX3RlbnNvcl9wLAogICAgZHN0OiBnZ21sX3RlbnNvcl9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX2NvcHkoc3JjLCBkc3QpCgoKbGliLmdnbWxfYmFja2VuZF90ZW5zb3JfY29weS5hcmd0eXBlcyA9IFsKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9iYWNrZW5kX3RlbnNvcl9jb3B5LnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSB2b2lkIGdnbWxfYmFja2VuZF90ZW5zb3JfY29weV9hc3luYyhnZ21sX2JhY2tlbmRfdCBiYWNrZW5kLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBzcmMsIHN0cnVjdCBnZ21sX3RlbnNvciAqIGRzdCk7IC8vIGF1dG9tYXRpYyBmYWxsYmFjayB0byBzeW5jIGNvcHkKZGVmIGdnbWxfYmFja2VuZF90ZW5zb3JfY29weV9hc3luYygKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAogICAgc3JjOiBnZ21sX3RlbnNvcl9wLAogICAgZHN0OiBnZ21sX3RlbnNvcl9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX2NvcHlfYXN5bmMoYmFja2VuZCwgc3JjLCBkc3QpCgoKIyBsaWIuZ2dtbF9iYWNrZW5kX3RlbnNvcl9jb3B5X2FzeW5jLmFyZ3R5cGVzID0gWwojICAgICBnZ21sX2JhY2tlbmRfdCwKIyAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAojICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiMgXQojIGxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX2NvcHlfYXN5bmMucmVzdHlwZSA9IE5vbmUKCiMgLy8KIyAvLyBDUFUgYmFja2VuZAojIC8vCgoKIyBHR01MX0FQSSBnZ21sX2JhY2tlbmRfdCBnZ21sX2JhY2tlbmRfY3B1X2luaXQodm9pZCk7CmRlZiBnZ21sX2JhY2tlbmRfY3B1X2luaXQoKSAtPiBnZ21sX2JhY2tlbmRfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2NwdV9pbml0KCkKCgpsaWIuZ2dtbF9iYWNrZW5kX2NwdV9pbml0LmFyZ3R5cGVzID0gW10KbGliLmdnbWxfYmFja2VuZF9jcHVfaW5pdC5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX3QKCgojIEdHTUxfQVBJIGJvb2wgZ2dtbF9iYWNrZW5kX2lzX2NwdShnZ21sX2JhY2tlbmRfdCBiYWNrZW5kKTsKZGVmIGdnbWxfYmFja2VuZF9pc19jcHUoCiAgICBiYWNrZW5kOiBnZ21sX2JhY2tlbmRfdCwKKSAtPiBib29sOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfaXNfY3B1KGJhY2tlbmQpCgoKbGliLmdnbWxfYmFja2VuZF9pc19jcHUuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX3RdCmxpYi5nZ21sX2JhY2tlbmRfaXNfY3B1LnJlc3R5cGUgPSBjdHlwZXMuY19ib29sCgoKIyBHR01MX0FQSSB2b2lkIGdnbWxfYmFja2VuZF9jcHVfc2V0X25fdGhyZWFkcyhnZ21sX2JhY2tlbmRfdCBiYWNrZW5kX2NwdSwgaW50IG5fdGhyZWFkcyk7CmRlZiBnZ21sX2JhY2tlbmRfY3B1X3NldF9uX3RocmVhZHMoCiAgICBiYWNrZW5kX2NwdTogZ2dtbF9iYWNrZW5kX3QsCiAgICBuX3RocmVhZHM6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2NwdV9zZXRfbl90aHJlYWRzKGJhY2tlbmRfY3B1LCBuX3RocmVhZHMpCgoKbGliLmdnbWxfYmFja2VuZF9jcHVfc2V0X25fdGhyZWFkcy5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfdCwgY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF9iYWNrZW5kX2NwdV9zZXRfbl90aHJlYWRzLnJlc3R5cGUgPSBOb25lCgoKIyAvLyBDcmVhdGUgYSBiYWNrZW5kIGJ1ZmZlciBmcm9tIGFuIGV4aXN0aW5nIHBvaW50ZXIKIyBHR01MX0FQSSBnZ21sX2JhY2tlbmRfYnVmZmVyX3QgZ2dtbF9iYWNrZW5kX2NwdV9idWZmZXJfZnJvbV9wdHIodm9pZCAqIHB0ciwgc2l6ZV90IHNpemUpOwpkZWYgZ2dtbF9iYWNrZW5kX2NwdV9idWZmZXJfZnJvbV9wdHIoCiAgICBwdHI6IGN0eXBlcy5jX3ZvaWRfcCwKICAgIHNpemU6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBnZ21sX2JhY2tlbmRfYnVmZmVyX3Q6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9jcHVfYnVmZmVyX2Zyb21fcHRyKHB0ciwgc2l6ZSkKCgpsaWIuZ2dtbF9iYWNrZW5kX2NwdV9idWZmZXJfZnJvbV9wdHIuYXJndHlwZXMgPSBbY3R5cGVzLmNfdm9pZF9wLCBjdHlwZXMuY19zaXplX3RdCmxpYi5nZ21sX2JhY2tlbmRfY3B1X2J1ZmZlcl9mcm9tX3B0ci5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX2J1ZmZlcl90CgoKIyBHR01MX0FQSSBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCBnZ21sX2JhY2tlbmRfY3B1X2J1ZmZlcl90eXBlKHZvaWQpOwpkZWYgZ2dtbF9iYWNrZW5kX2NwdV9idWZmZXJfdHlwZSgpIC0+IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90OgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfY3B1X2J1ZmZlcl90eXBlKCkKCgpsaWIuZ2dtbF9iYWNrZW5kX2NwdV9idWZmZXJfdHlwZS5hcmd0eXBlcyA9IFtdCmxpYi5nZ21sX2JhY2tlbmRfY3B1X2J1ZmZlcl90eXBlLnJlc3R5cGUgPSBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdAoKIyAvLwojIC8vIEJhY2tlbmQgcmVnaXN0cnkKIyAvLwoKIyAvLyBUaGUgYmFja2VuZCByZWdpc3RyeSBpcyBhIHJlZ2lzdHJ5IG9mIGFsbCB0aGUgYXZhaWxhYmxlIGJhY2tlbmRzLCBhbmQgYWxsb3dzIGluaXRpYWxpemluZyBiYWNrZW5kcyBpbiBhIGdlbmVyaWMgd2F5CgoKIyBHR01MX0FQSSBzaXplX3QgICAgICAgICAgICAgICAgICAgICBnZ21sX2JhY2tlbmRfcmVnX2dldF9jb3VudCh2b2lkKTsKZGVmIGdnbWxfYmFja2VuZF9yZWdfZ2V0X2NvdW50KCkgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfcmVnX2dldF9jb3VudCgpCgoKbGliLmdnbWxfYmFja2VuZF9yZWdfZ2V0X2NvdW50LmFyZ3R5cGVzID0gW10KbGliLmdnbWxfYmFja2VuZF9yZWdfZ2V0X2NvdW50LnJlc3R5cGUgPSBjdHlwZXMuY19zaXplX3QKCgojIEdHTUxfQVBJIHNpemVfdCAgICAgICAgICAgICAgICAgICAgIGdnbWxfYmFja2VuZF9yZWdfZmluZF9ieV9uYW1lKGNvbnN0IGNoYXIgKiBuYW1lKTsKZGVmIGdnbWxfYmFja2VuZF9yZWdfZmluZF9ieV9uYW1lKAogICAgbmFtZTogYnl0ZXMsCikgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfcmVnX2ZpbmRfYnlfbmFtZShuYW1lKQoKCmxpYi5nZ21sX2JhY2tlbmRfcmVnX2ZpbmRfYnlfbmFtZS5hcmd0eXBlcyA9IFtjdHlwZXMuY19jaGFyX3BdCmxpYi5nZ21sX2JhY2tlbmRfcmVnX2ZpbmRfYnlfbmFtZS5yZXN0eXBlID0gY3R5cGVzLmNfc2l6ZV90CgoKIyBHR01MX0FQSSBnZ21sX2JhY2tlbmRfdCAgICAgICAgICAgICBnZ21sX2JhY2tlbmRfcmVnX2luaXRfYmFja2VuZF9mcm9tX3N0cihjb25zdCBjaGFyICogYmFja2VuZF9zdHIpOyAvLyBzdHIgaXMgbmFtZVs6cGFyYW1zXQpkZWYgZ2dtbF9iYWNrZW5kX3JlZ19pbml0X2JhY2tlbmRfZnJvbV9zdHIoCiAgICBiYWNrZW5kX3N0cjogYnl0ZXMsCikgLT4gZ2dtbF9iYWNrZW5kX3Q6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9yZWdfaW5pdF9iYWNrZW5kX2Zyb21fc3RyKGJhY2tlbmRfc3RyKQoKCmxpYi5nZ21sX2JhY2tlbmRfcmVnX2luaXRfYmFja2VuZF9mcm9tX3N0ci5hcmd0eXBlcyA9IFtjdHlwZXMuY19jaGFyX3BdCmxpYi5nZ21sX2JhY2tlbmRfcmVnX2luaXRfYmFja2VuZF9mcm9tX3N0ci5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX3QKCgojIEdHTUxfQVBJIGNvbnN0IGNoYXIgKiAgICAgICAgICAgICAgIGdnbWxfYmFja2VuZF9yZWdfZ2V0X25hbWUoc2l6ZV90IGkpOwpkZWYgZ2dtbF9iYWNrZW5kX3JlZ19nZXRfbmFtZSgKICAgIGk6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBieXRlczoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX3JlZ19nZXRfbmFtZShpKQoKCmxpYi5nZ21sX2JhY2tlbmRfcmVnX2dldF9uYW1lLmFyZ3R5cGVzID0gW2N0eXBlcy5jX3NpemVfdF0KbGliLmdnbWxfYmFja2VuZF9yZWdfZ2V0X25hbWUucmVzdHlwZSA9IGN0eXBlcy5jX2NoYXJfcAoKCiMgR0dNTF9BUEkgZ2dtbF9iYWNrZW5kX3QgICAgICAgICAgICAgZ2dtbF9iYWNrZW5kX3JlZ19pbml0X2JhY2tlbmQoc2l6ZV90IGksIGNvbnN0IGNoYXIgKiBwYXJhbXMpOyAvLyBwYXJhbXMgaXMgYmFja2VuZC1zcGVjaWZpYwpkZWYgZ2dtbF9iYWNrZW5kX3JlZ19pbml0X2JhY2tlbmQoCiAgICBpOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCiAgICBwYXJhbXM6IGJ5dGVzLAopIC0+IGdnbWxfYmFja2VuZF90OgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfcmVnX2luaXRfYmFja2VuZChpLCBwYXJhbXMpCgoKbGliLmdnbWxfYmFja2VuZF9yZWdfaW5pdF9iYWNrZW5kLmFyZ3R5cGVzID0gW2N0eXBlcy5jX3NpemVfdCwgY3R5cGVzLmNfY2hhcl9wXQpsaWIuZ2dtbF9iYWNrZW5kX3JlZ19pbml0X2JhY2tlbmQucmVzdHlwZSA9IGdnbWxfYmFja2VuZF90CgoKIyBHR01MX0FQSSBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCBnZ21sX2JhY2tlbmRfcmVnX2dldF9kZWZhdWx0X2J1ZmZlcl90eXBlKHNpemVfdCBpKTsKZGVmIGdnbWxfYmFja2VuZF9yZWdfZ2V0X2RlZmF1bHRfYnVmZmVyX3R5cGUoCiAgICBpOiBVbmlvbltjdHlwZXMuY19zaXplX3QsIGludF0sCikgLT4gZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3Q6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9yZWdfZ2V0X2RlZmF1bHRfYnVmZmVyX3R5cGUoaSkKCgpsaWIuZ2dtbF9iYWNrZW5kX3JlZ19nZXRfZGVmYXVsdF9idWZmZXJfdHlwZS5hcmd0eXBlcyA9IFtjdHlwZXMuY19zaXplX3RdCmxpYi5nZ21sX2JhY2tlbmRfcmVnX2dldF9kZWZhdWx0X2J1ZmZlcl90eXBlLnJlc3R5cGUgPSBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdAoKCiMgR0dNTF9BUEkgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90ICAgICAgZ2dtbF9iYWNrZW5kX3JlZ19hbGxvY19idWZmZXIoc2l6ZV90IGksIHNpemVfdCBzaXplKTsKZGVmIGdnbWxfYmFja2VuZF9yZWdfYWxsb2NfYnVmZmVyKAogICAgaTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgc2l6ZTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopIC0+IGdnbWxfYmFja2VuZF9idWZmZXJfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX3JlZ19hbGxvY19idWZmZXIoaSwgc2l6ZSkKCgpsaWIuZ2dtbF9iYWNrZW5kX3JlZ19hbGxvY19idWZmZXIuYXJndHlwZXMgPSBbY3R5cGVzLmNfc2l6ZV90LCBjdHlwZXMuY19zaXplX3RdCmxpYi5nZ21sX2JhY2tlbmRfcmVnX2FsbG9jX2J1ZmZlci5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX2J1ZmZlcl90CgojIC8vCiMgLy8gQmFja2VuZCBzY2hlZHVsZXIKIyAvLwoKIyAvLyBUaGUgYmFja2VuZCBzY2hlZHVsZXIgYWxsb3dzIGZvciBtdWx0aXBsZSBiYWNrZW5kcyB0byBiZSB1c2VkIHRvZ2V0aGVyCiMgLy8gSGFuZGxlcyBjb21wdXRlIGJ1ZmZlciBhbGxvY2F0aW9uLCBhc3NpZ25tZW50IG9mIHRlbnNvcnMgdG8gYmFja2VuZHMsIGFuZCBjb3B5aW5nIG9mIHRlbnNvcnMgYmV0d2VlbiBiYWNrZW5kcwojIC8vIFRoZSBiYWNrZW5kcyBhcmUgc2VsZWN0ZWQgYmFzZWQgb246CiMgLy8gLSB0aGUgYmFja2VuZCB0aGF0IHN1cHBvcnRzIHRoZSBvcGVyYXRpb24KIyAvLyAtIHRoZSBsb2NhdGlvbiBvZiB0aGUgcHJlLWFsbG9jYXRlZCB0ZW5zb3JzIChlLmcuIHRoZSB3ZWlnaHRzKQojIC8qCiMgICBFeGFtcGxlIHVzYWdlOgoKIyAgICAgc2NoZWQgPSBnZ21sX2JhY2tlbmRfc2NoZWRfbmV3KHtiYWNrZW5kX2dwdSwgYmFja2VuZF9ncHUyLCBiYWNrZW5kX2NwdX0sIG51bV9iYWNrZW5kcyk7CiMgICAgIC8vIHNjaGVkIGlzIGluaXRpYWxpemVkIHdpdGggbWVhc3VyZSBhbGxvY2F0b3JzIGFuZCBjYW5ub3QgYmUgdXNlZCB1bnRpbCBhbGxvY2F0ZWQgd2l0aCBhIG1lYXN1cmUgZ3JhcGgKCiMgICAgIC8vIGluaXRpYWxpemUgYnVmZmVycyBmcm9tIGEgbWVhc3VyZSBncmFwaAojICAgICBtZWFzdXJlX2dyYXBoID0gYnVpbGRfZ3JhcGgoc2NoZWQpOyAvLyB1c2UgdGhlIGFsbG9jciB0byBhbGxvY2F0ZSBpbnB1dHMgYXMgbmVlZGVkCgojICAgICAvLyBpbiBidWlsZF9ncmFwaDoKIyAgICAgYnVpbGRfZ3JhcGgoLi4uKSB7CiMgICAgICAgICAvLyBhbGxvY2F0aW5nIHRlbnNvcnMgaW4gYSBzcGVjaWZpYyBiYWNrZW5kIChvcHRpb25hbCwgcmVjb21tZW5kZWQ6IHByZS1hbGxvY2F0ZSBpbnB1dHMgaW4gYSBkaWZmZXJlbnQgYnVmZmVyKQojICAgICAgICAgYWxsb2NfY3B1ID0gZ2dtbF9iYWNrZW5kX3NjaGVkX2dldF9hbGxvY3Ioc2NoZWQsIGJhY2tlbmRfY3B1KTsKIyAgICAgICAgIGdnbWxfYWxsb2NyX2FsbG9jKGFsbG9jX2NwdSwgdGVuc29yKTsKCiMgICAgICAgICAvLyBtYW51YWxseSBhc3NpZ25pbmcgbm9kZXMgdG8gYSBiYWNrZW5kIChvcHRpb25hbCwgc2hvdWxkbid0IGJlIG5lZWRlZCBpbiBtb3N0IGNhc2VzKQojICAgICAgICAgc3RydWN0IGdnbWxfdGVuc29yICogbm9kZSA9IGdnbWxfbXVsX21hdChjdHgsIC4uLik7CiMgICAgICAgICBnZ21sX2JhY2tlbmRfc2NoZWRfc2V0X25vZGVfYmFja2VuZChzY2hlZCwgbm9kZSwgYmFja2VuZF9ncHUpOwojICAgICB9CgojICAgICAvLyBhbGxvY2F0ZSBiYWNrZW5kIGJ1ZmZlcnMgZnJvbSBtZWFzdXJlIGdyYXBoCiMgICAgIGdnbWxfYmFja2VuZF9zY2hlZF9pbml0X21lYXN1cmUoc2NoZWQsIG1lYXN1cmVfZ3JhcGgpOwoKIyAgICAgLy8gdGhlIHNjaGVkdWxlciBpcyBub3cgcmVhZHkgdG8gY29tcHV0ZSBncmFwaHMKCiMgICAgIC8vIGNvbXB1dGUKIyAgICAgZ3JhcGggPSBidWlsZF9ncmFwaChzY2hlZCk7CiMgICAgIGdnbWxfYmFja2VuZF9zY2hlZF9ncmFwaF9jb21wdXRlKHNjaGVkLCBncmFwaCk7CiMgKi8KCiMgc3RydWN0IGdnbWxfYmFja2VuZF9zY2hlZDsKIyB0eXBlZGVmIHN0cnVjdCBnZ21sX2JhY2tlbmRfc2NoZWQgKiBnZ21sX2JhY2tlbmRfc2NoZWRfdDsKZ2dtbF9iYWNrZW5kX3NjaGVkX3QgPSBjdHlwZXMuY192b2lkX3AKCgojIC8vIEluaXRpYWxpemUgYSBiYWNrZW5kIHNjaGVkdWxlcgojIEdHTUxfQVBJIGdnbWxfYmFja2VuZF9zY2hlZF90IGdnbWxfYmFja2VuZF9zY2hlZF9uZXcoZ2dtbF9iYWNrZW5kX3QgKiBiYWNrZW5kcywgaW50IG5fYmFja2VuZHMpOwpkZWYgZ2dtbF9iYWNrZW5kX3NjaGVkX25ldygKICAgIGJhY2tlbmRzOiBnZ21sX2JhY2tlbmRfdCwKICAgIG5fYmFja2VuZHM6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBnZ21sX2JhY2tlbmRfc2NoZWRfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX25ldyhiYWNrZW5kcywgbl9iYWNrZW5kcykKCgpsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX25ldy5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfdCwgY3R5cGVzLmNfaW50XQpsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX25ldy5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX3NjaGVkX3QKCgojIEdHTUxfQVBJIHZvaWQgZ2dtbF9iYWNrZW5kX3NjaGVkX2ZyZWUoZ2dtbF9iYWNrZW5kX3NjaGVkX3Qgc2NoZWQpOwpkZWYgZ2dtbF9iYWNrZW5kX3NjaGVkX2ZyZWUoCiAgICBzY2hlZDogZ2dtbF9iYWNrZW5kX3NjaGVkX3QsCik6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9zY2hlZF9mcmVlKHNjaGVkKQoKCmxpYi5nZ21sX2JhY2tlbmRfc2NoZWRfZnJlZS5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfc2NoZWRfdF0KbGliLmdnbWxfYmFja2VuZF9zY2hlZF9mcmVlLnJlc3R5cGUgPSBOb25lCgoKIyAvLyBJbml0aWFsaXplIGJhY2tlbmQgYnVmZmVycyBmcm9tIGEgbWVhc3VyZSBncmFwaAojIEdHTUxfQVBJIHZvaWQgZ2dtbF9iYWNrZW5kX3NjaGVkX2luaXRfbWVhc3VyZShnZ21sX2JhY2tlbmRfc2NoZWRfdCBzY2hlZCwgc3RydWN0IGdnbWxfY2dyYXBoICogbWVhc3VyZV9ncmFwaCk7CmRlZiBnZ21sX2JhY2tlbmRfc2NoZWRfaW5pdF9tZWFzdXJlKAogICAgc2NoZWQ6IGdnbWxfYmFja2VuZF9zY2hlZF90LAogICAgbWVhc3VyZV9ncmFwaDogZ2dtbF9jZ3JhcGhfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX2luaXRfbWVhc3VyZShzY2hlZCwgbWVhc3VyZV9ncmFwaCkKCgpsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX2luaXRfbWVhc3VyZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfYmFja2VuZF9zY2hlZF90LAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpLApdCmxpYi5nZ21sX2JhY2tlbmRfc2NoZWRfaW5pdF9tZWFzdXJlLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBnZ21sX3RhbGxvY3JfdCAgICAgICAgZ2dtbF9iYWNrZW5kX3NjaGVkX2dldF90YWxsb2NyKGdnbWxfYmFja2VuZF9zY2hlZF90IHNjaGVkLCBnZ21sX2JhY2tlbmRfdCBiYWNrZW5kKTsKZGVmIGdnbWxfYmFja2VuZF9zY2hlZF9nZXRfdGFsbG9jcigKICAgIHNjaGVkOiBnZ21sX2JhY2tlbmRfc2NoZWRfdCwKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAopIC0+IGdnbWxfdGFsbG9jcl90OgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfc2NoZWRfZ2V0X3RhbGxvY3Ioc2NoZWQsIGJhY2tlbmQpCgoKbGliLmdnbWxfYmFja2VuZF9zY2hlZF9nZXRfdGFsbG9jci5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfc2NoZWRfdCwgZ2dtbF9iYWNrZW5kX3RdCmxpYi5nZ21sX2JhY2tlbmRfc2NoZWRfZ2V0X3RhbGxvY3IucmVzdHlwZSA9IGdnbWxfdGFsbG9jcl90CgoKIyBHR01MX0FQSSBnZ21sX2JhY2tlbmRfYnVmZmVyX3QgZ2dtbF9iYWNrZW5kX3NjaGVkX2dldF9idWZmZXIgKGdnbWxfYmFja2VuZF9zY2hlZF90IHNjaGVkLCBnZ21sX2JhY2tlbmRfdCBiYWNrZW5kKTsKZGVmIGdnbWxfYmFja2VuZF9zY2hlZF9nZXRfYnVmZmVyKAogICAgc2NoZWQ6IGdnbWxfYmFja2VuZF9zY2hlZF90LAogICAgYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QsCikgLT4gZ2dtbF9iYWNrZW5kX2J1ZmZlcl90OgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfc2NoZWRfZ2V0X2J1ZmZlcihzY2hlZCwgYmFja2VuZCkKCgpsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX2dldF9idWZmZXIuYXJndHlwZXMgPSBbZ2dtbF9iYWNrZW5kX3NjaGVkX3QsIGdnbWxfYmFja2VuZF90XQpsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX2dldF9idWZmZXIucmVzdHlwZSA9IGdnbWxfYmFja2VuZF9idWZmZXJfdAoKCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfc2NoZWRfc2V0X25vZGVfYmFja2VuZChnZ21sX2JhY2tlbmRfc2NoZWRfdCBzY2hlZCwgc3RydWN0IGdnbWxfdGVuc29yICogbm9kZSwgZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCk7CmRlZiBnZ21sX2JhY2tlbmRfc2NoZWRfc2V0X25vZGVfYmFja2VuZCgKICAgIHNjaGVkOiBnZ21sX2JhY2tlbmRfc2NoZWRfdCwKICAgIG5vZGU6IGdnbWxfdGVuc29yX3AsCiAgICBiYWNrZW5kOiBnZ21sX2JhY2tlbmRfdCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX3NldF9ub2RlX2JhY2tlbmQoc2NoZWQsIG5vZGUsIGJhY2tlbmQpCgoKbGliLmdnbWxfYmFja2VuZF9zY2hlZF9zZXRfbm9kZV9iYWNrZW5kLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9iYWNrZW5kX3NjaGVkX3QsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBnZ21sX2JhY2tlbmRfdCwKXQpsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX3NldF9ub2RlX2JhY2tlbmQucmVzdHlwZSA9IE5vbmUKCgojIC8vIEFsbG9jYXRlIGEgZ3JhcGggb24gdGhlIGJhY2tlbmQgc2NoZWR1bGVyCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfc2NoZWRfZ3JhcGhfY29tcHV0ZSgKIyAgICAgICAgIGdnbWxfYmFja2VuZF9zY2hlZF90IHNjaGVkLAojICAgICAgICAgc3RydWN0IGdnbWxfY2dyYXBoICogZ3JhcGgpOwpkZWYgZ2dtbF9iYWNrZW5kX3NjaGVkX2dyYXBoX2NvbXB1dGUoCiAgICBzY2hlZDogZ2dtbF9iYWNrZW5kX3NjaGVkX3QsCiAgICBncmFwaDogZ2dtbF9jZ3JhcGhfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX3NjaGVkX2dyYXBoX2NvbXB1dGUoc2NoZWQsIGdyYXBoKQoKCmxpYi5nZ21sX2JhY2tlbmRfc2NoZWRfZ3JhcGhfY29tcHV0ZS5hcmd0eXBlcyA9IFsKICAgIGdnbWxfYmFja2VuZF9zY2hlZF90LAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpLApdCmxpYi5nZ21sX2JhY2tlbmRfc2NoZWRfZ3JhcGhfY29tcHV0ZS5yZXN0eXBlID0gTm9uZQoKIyAvLwojIC8vIFV0aWxzCiMgLy8KCgojIHN0cnVjdCBnZ21sX2JhY2tlbmRfZ3JhcGhfY29weSB7CiMgICAgIGdnbWxfYmFja2VuZF9idWZmZXJfdCBidWZmZXI7CiMgICAgIHN0cnVjdCBnZ21sX2NvbnRleHQgKiBjdHhfYWxsb2NhdGVkOwojICAgICBzdHJ1Y3QgZ2dtbF9jb250ZXh0ICogY3R4X3VuYWxsb2NhdGVkOwojICAgICBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBncmFwaDsKIyB9OwpjbGFzcyBnZ21sX2JhY2tlbmRfZ3JhcGhfY29weShjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgiYnVmZmVyIiwgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90KSwKICAgICAgICAoImN0eF9hbGxvY2F0ZWQiLCBnZ21sX2NvbnRleHRfcCksCiAgICAgICAgKCJjdHhfdW5hbGxvY2F0ZWQiLCBnZ21sX2NvbnRleHRfcCksCiAgICAgICAgKCJncmFwaCIsIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKSksCiAgICBdCgoKZ2dtbF9iYWNrZW5kX2dyYXBoX2NvcHlfdCA9IGdnbWxfYmFja2VuZF9ncmFwaF9jb3B5CgoKIyAvLyBDb3B5IGEgZ3JhcGggdG8gYSBkaWZmZXJlbnQgYmFja2VuZAojIEdHTUxfQVBJIHN0cnVjdCBnZ21sX2JhY2tlbmRfZ3JhcGhfY29weSBnZ21sX2JhY2tlbmRfZ3JhcGhfY29weShnZ21sX2JhY2tlbmRfdCBiYWNrZW5kLCBzdHJ1Y3QgZ2dtbF9jZ3JhcGggKiBncmFwaCk7CmRlZiBnZ21sX2JhY2tlbmRfZ3JhcGhfY29weSgKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAogICAgZ3JhcGg6IGdnbWxfY2dyYXBoX3AsCikgLT4gZ2dtbF9iYWNrZW5kX2dyYXBoX2NvcHlfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2dyYXBoX2NvcHkoYmFja2VuZCwgZ3JhcGgpCgoKbGliLmdnbWxfYmFja2VuZF9ncmFwaF9jb3B5LmFyZ3R5cGVzID0gWwogICAgZ2dtbF9iYWNrZW5kX3QsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCl0KbGliLmdnbWxfYmFja2VuZF9ncmFwaF9jb3B5LnJlc3R5cGUgPSBnZ21sX2JhY2tlbmRfZ3JhcGhfY29weV90CgoKIyBHR01MX0FQSSB2b2lkICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2dtbF9iYWNrZW5kX2dyYXBoX2NvcHlfZnJlZShzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2dyYXBoX2NvcHkgY29weSk7CmRlZiBnZ21sX2JhY2tlbmRfZ3JhcGhfY29weV9mcmVlKAogICAgY29weTogZ2dtbF9iYWNrZW5kX2dyYXBoX2NvcHlfdCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2dyYXBoX2NvcHlfZnJlZShjb3B5KQoKCmxpYi5nZ21sX2JhY2tlbmRfZ3JhcGhfY29weV9mcmVlLmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF9ncmFwaF9jb3B5X3RdCmxpYi5nZ21sX2JhY2tlbmRfZ3JhcGhfY29weV9mcmVlLnJlc3R5cGUgPSBOb25lCgojIHR5cGVkZWYgYm9vbCAoKmdnbWxfYmFja2VuZF9ldmFsX2NhbGxiYWNrKShpbnQgbm9kZV9pbmRleCwgc3RydWN0IGdnbWxfdGVuc29yICogdDEsIHN0cnVjdCBnZ21sX3RlbnNvciAqIHQyLCB2b2lkICogdXNlcl9kYXRhKTsKZ2dtbF9iYWNrZW5kX2V2YWxfY2FsbGJhY2sgPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgY3R5cGVzLmNfYm9vbCwKICAgIGN0eXBlcy5jX2ludCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX3ZvaWRfcCwKKQoKCiMgLy8gQ29tcGFyZSB0aGUgb3V0cHV0IG9mIHR3byBiYWNrZW5kcwojIEdHTUxfQVBJIHZvaWQgZ2dtbF9iYWNrZW5kX2NvbXBhcmVfZ3JhcGhfYmFja2VuZChnZ21sX2JhY2tlbmRfdCBiYWNrZW5kMSwgZ2dtbF9iYWNrZW5kX3QgYmFja2VuZDIsIHN0cnVjdCBnZ21sX2NncmFwaCAqIGdyYXBoLCBnZ21sX2JhY2tlbmRfZXZhbF9jYWxsYmFjayBjYWxsYmFjaywgdm9pZCAqIHVzZXJfZGF0YSk7CmRlZiBnZ21sX2JhY2tlbmRfY29tcGFyZV9ncmFwaF9iYWNrZW5kKAogICAgYmFja2VuZDE6IGdnbWxfYmFja2VuZF90LAogICAgYmFja2VuZDI6IGdnbWxfYmFja2VuZF90LAogICAgZ3JhcGg6IGdnbWxfY2dyYXBoX3AsCiAgICBjYWxsYmFjaywKICAgIHVzZXJfZGF0YTogY3R5cGVzLmNfdm9pZF9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfY29tcGFyZV9ncmFwaF9iYWNrZW5kKAogICAgICAgIGJhY2tlbmQxLCBiYWNrZW5kMiwgZ3JhcGgsIGNhbGxiYWNrLCB1c2VyX2RhdGEKICAgICkKCgpsaWIuZ2dtbF9iYWNrZW5kX2NvbXBhcmVfZ3JhcGhfYmFja2VuZC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfYmFja2VuZF90LAogICAgZ2dtbF9iYWNrZW5kX3QsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCksCiAgICBnZ21sX2JhY2tlbmRfZXZhbF9jYWxsYmFjaywKICAgIGN0eXBlcy5jX3ZvaWRfcCwKXQpsaWIuZ2dtbF9iYWNrZW5kX2NvbXBhcmVfZ3JhcGhfYmFja2VuZC5yZXN0eXBlID0gTm9uZQoKCiMgLy8gVGVuc29yIGluaXRpYWxpemF0aW9uCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfdGVuc29yX2FsbG9jKGdnbWxfYmFja2VuZF9idWZmZXJfdCBidWZmZXIsIHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgdm9pZCAqIGFkZHIpOwpkZWYgZ2dtbF9iYWNrZW5kX3RlbnNvcl9hbGxvYygKICAgIGJ1ZmZlcjogZ2dtbF9iYWNrZW5kX2J1ZmZlcl90LAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAogICAgYWRkcjogY3R5cGVzLmNfdm9pZF9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX2FsbG9jKGJ1ZmZlciwgdGVuc29yLCBhZGRyKQoKCmxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX2FsbG9jLmFyZ3R5cGVzID0gWwogICAgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90LAogICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgY3R5cGVzLmNfdm9pZF9wLApdCmxpYi5nZ21sX2JhY2tlbmRfdGVuc29yX2FsbG9jLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSB2b2lkIGdnbWxfYmFja2VuZF92aWV3X2luaXQoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90IGJ1ZmZlciwgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfYmFja2VuZF92aWV3X2luaXQoCiAgICBidWZmZXI6IGdnbWxfYmFja2VuZF9idWZmZXJfdCwKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX3ZpZXdfaW5pdChidWZmZXIsIHRlbnNvcikKCgpsaWIuZ2dtbF9iYWNrZW5kX3ZpZXdfaW5pdC5hcmd0eXBlcyA9IFsKICAgIGdnbWxfYmFja2VuZF9idWZmZXJfdCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKXQpsaWIuZ2dtbF9iYWNrZW5kX3ZpZXdfaW5pdC5yZXN0eXBlID0gTm9uZQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgR0dNTCBCYWNrZW5kIEltcGxlbWVudGF0aW9uIEFQSQojIHNvdXJjZTogZ2dtbC1iYWNrZW5kLWltcGwuaAojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyAvLwojIC8vIEJhY2tlbmQgYnVmZmVyCiMgLy8KCiMgLy8gYnVmZmVyIHR5cGUKIyB0eXBlZGVmIHZvaWQgKiBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfY29udGV4dF90OwpnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfY29udGV4dF90ID0gY3R5cGVzLmNfdm9pZF9wCgojIHN0cnVjdCBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfaSB7CiMgICAgIGdnbWxfYmFja2VuZF9idWZmZXJfdCAoKmFsbG9jX2J1ZmZlcikgICAgKGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90IGJ1ZnQsIHNpemVfdCBzaXplKTsKIyAgICAgc2l6ZV90ICAgICAgICAgICAgICAgICgqZ2V0X2FsaWdubWVudCkgICAoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgYnVmdCk7IC8vIHRlbnNvciBhbGlnbm1lbnQKIyAgICAgc2l6ZV90ICAgICAgICAgICAgICAgICgqZ2V0X2FsbG9jX3NpemUpICAoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgYnVmdCwgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsgLy8gZGF0YSBzaXplIG5lZWRlZCB0byBhbGxvY2F0ZSB0aGUgdGVuc29yLCBpbmNsdWRpbmcgcGFkZGluZwojICAgICBib29sICAgICAgICAgICAgICAgICAgKCpzdXBwb3J0c19iYWNrZW5kKShnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCBidWZ0LCBnZ21sX2JhY2tlbmRfdCBiYWNrZW5kKTsgLy8gY2hlY2sgaWYgdGhlIGJ1ZmZlciB0eXBlIGlzIHVzYWJsZSBieSB0aGUgYmFja2VuZAojIH07CmdnbWxfYmFja2VuZF9idWZmZXJfaV9hbGxvY19idWZmZXIgPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90LCBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCwgY3R5cGVzLmNfc2l6ZV90CikKZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pX2dldF9hbGlnbm1lbnQgPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgY3R5cGVzLmNfc2l6ZV90LCBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdAopCmdnbWxfYmFja2VuZF9idWZmZXJfaV9nZXRfYWxsb2Nfc2l6ZSA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBjdHlwZXMuY19zaXplX3QsIGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90LCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKKQpnZ21sX2JhY2tlbmRfYnVmZmVyX2lfc3VwcG9ydHNfYmFja2VuZCA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBjdHlwZXMuY19ib29sLCBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCwgZ2dtbF9iYWNrZW5kX3QKKQoKCmNsYXNzIGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV9pKGN0eXBlcy5TdHJ1Y3R1cmUpOgogICAgX2ZpZWxkc18gPSBbCiAgICAgICAgKCJhbGxvY19idWZmZXIiLCBnZ21sX2JhY2tlbmRfYnVmZmVyX2lfYWxsb2NfYnVmZmVyKSwKICAgICAgICAoImdldF9hbGlnbm1lbnQiLCBnZ21sX2JhY2tlbmRfYnVmZmVyX2lfZ2V0X2FsaWdubWVudCksCiAgICAgICAgKCJnZXRfYWxsb2Nfc2l6ZSIsIGdnbWxfYmFja2VuZF9idWZmZXJfaV9nZXRfYWxsb2Nfc2l6ZSksCiAgICAgICAgKCJzdXBwb3J0c19iYWNrZW5kIiwgZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pX3N1cHBvcnRzX2JhY2tlbmQpLAogICAgXQoKCiMgc3RydWN0IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZSB7CiMgICAgIHN0cnVjdCBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfaSAgaWZhY2U7CiMgICAgIGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV9jb250ZXh0X3QgY29udGV4dDsKIyB9OwpjbGFzcyBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGUoY3R5cGVzLlN0cnVjdHVyZSk6CiAgICBfZmllbGRzXyA9IFsKICAgICAgICAoImlmYWNlIiwgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX2kpLAogICAgICAgICgiY29udGV4dCIsIGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV9jb250ZXh0X3QpLAogICAgXQoKCiMgdHlwZWRlZiB2b2lkICogZ2dtbF9iYWNrZW5kX2J1ZmZlcl9jb250ZXh0X3Q7CmdnbWxfYmFja2VuZF9idWZmZXJfY29udGV4dF90ID0gY3R5cGVzLmNfdm9pZF9wCgoKIyBzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pIHsKIyAgICAgdm9pZCAgICAgKCpmcmVlX2J1ZmZlcikoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90IGJ1ZmZlcik7CiMgICAgIC8vdm9pZCAgICAgKCpyZXNldCkgICAgICAoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90IGJ1ZmZlcik7IC8vIHJlc2V0IGFueSBpbnRlcm5hbCBzdGF0ZSBkdWUgdG8gdGVuc29yIGluaXRpYWxpemF0aW9uLCBzdWNoIGFzIHRlbnNvciBleHRyYXMKIyAgICAgdm9pZCAqICAgKCpnZXRfYmFzZSkgICAoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90IGJ1ZmZlcik7CiMgICAgIHZvaWQgICAgICgqaW5pdF90ZW5zb3IpKGdnbWxfYmFja2VuZF9idWZmZXJfdCBidWZmZXIsIHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvcik7CiMgICAgIHZvaWQgICAgICgqc2V0X3RlbnNvcikgKGdnbWxfYmFja2VuZF9idWZmZXJfdCBidWZmZXIsICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgY29uc3Qgdm9pZCAqIGRhdGEsIHNpemVfdCBvZmZzZXQsIHNpemVfdCBzaXplKTsKIyAgICAgdm9pZCAgICAgKCpnZXRfdGVuc29yKSAoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90IGJ1ZmZlciwgY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yLCAgICAgICB2b2lkICogZGF0YSwgc2l6ZV90IG9mZnNldCwgc2l6ZV90IHNpemUpOwojICAgICAvLyAob3B0aW9uYWwpIGNvcHkgdGVuc29yIGJldHdlZW4gZGlmZmVyZW50IGJ1ZmZlci10eXBlLCBhbGxvdyBmb3Igc2luZ2xlLWNvcHkgdHJhbmZlcnMKIyAgICAgdm9pZCAoKmNweV90ZW5zb3JfZnJvbSkoZ2dtbF9iYWNrZW5kX2J1ZmZlcl90IGJ1ZmZlciwgc3RydWN0IGdnbWxfdGVuc29yICogc3JjLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBkc3QpOwojICAgICB2b2lkICgqY3B5X3RlbnNvcl90bykgIChnZ21sX2JhY2tlbmRfYnVmZmVyX3QgYnVmZmVyLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBzcmMsIHN0cnVjdCBnZ21sX3RlbnNvciAqIGRzdCk7CiMgfTsKZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pX2ZyZWVfYnVmZmVyID0gY3R5cGVzLkNGVU5DVFlQRShOb25lLCBnZ21sX2JhY2tlbmRfYnVmZmVyX3QpCmdnbWxfYmFja2VuZF9idWZmZXJfaV9nZXRfYmFzZSA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBjdHlwZXMuY192b2lkX3AsIGdnbWxfYmFja2VuZF9idWZmZXJfdAopCmdnbWxfYmFja2VuZF9idWZmZXJfaV9pbml0X3RlbnNvciA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBOb25lLCBnZ21sX2JhY2tlbmRfYnVmZmVyX3QsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQopCmdnbWxfYmFja2VuZF9idWZmZXJfaV9zZXRfdGVuc29yID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsCiAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX3QsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuY192b2lkX3AsCiAgICBjdHlwZXMuY19zaXplX3QsCiAgICBjdHlwZXMuY19zaXplX3QsCikKZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pX2dldF90ZW5zb3IgPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgTm9uZSwKICAgIGdnbWxfYmFja2VuZF9idWZmZXJfdCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX3ZvaWRfcCwKICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIGN0eXBlcy5jX3NpemVfdCwKKQpnZ21sX2JhY2tlbmRfYnVmZmVyX2lfY3B5X3RlbnNvcl9mcm9tID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsCiAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX3QsCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCikKZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pX2NweV90ZW5zb3JfdG8gPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgTm9uZSwKICAgIGdnbWxfYmFja2VuZF9idWZmZXJfdCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKKQoKCmNsYXNzIGdnbWxfYmFja2VuZF9idWZmZXJfaShjdHlwZXMuU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgiZnJlZV9idWZmZXIiLCBnZ21sX2JhY2tlbmRfYnVmZmVyX2lfZnJlZV9idWZmZXIpLAogICAgICAgICgiZ2V0X2Jhc2UiLCBnZ21sX2JhY2tlbmRfYnVmZmVyX2lfZ2V0X2Jhc2UpLAogICAgICAgICgiaW5pdF90ZW5zb3IiLCBnZ21sX2JhY2tlbmRfYnVmZmVyX2lfaW5pdF90ZW5zb3IpLAogICAgICAgICgic2V0X3RlbnNvciIsIGdnbWxfYmFja2VuZF9idWZmZXJfaV9zZXRfdGVuc29yKSwKICAgICAgICAoImdldF90ZW5zb3IiLCBnZ21sX2JhY2tlbmRfYnVmZmVyX2lfZ2V0X3RlbnNvciksCiAgICAgICAgKCJjcHlfdGVuc29yX2Zyb20iLCBnZ21sX2JhY2tlbmRfYnVmZmVyX2lfY3B5X3RlbnNvcl9mcm9tKSwKICAgICAgICAoImNweV90ZW5zb3JfdG8iLCBnZ21sX2JhY2tlbmRfYnVmZmVyX2lfY3B5X3RlbnNvcl90byksCiAgICBdCgoKIyBzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2J1ZmZlciB7CiMgICAgIHN0cnVjdCBnZ21sX2JhY2tlbmRfYnVmZmVyX2kgIGlmYWNlOwojICAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCAgICBidWZ0OwojICAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX2NvbnRleHRfdCBjb250ZXh0OwojICAgICBzaXplX3Qgc2l6ZTsKIyB9OwpjbGFzcyBnZ21sX2JhY2tlbmRfYnVmZmVyKGN0eXBlcy5TdHJ1Y3R1cmUpOgogICAgX2ZpZWxkc18gPSBbCiAgICAgICAgKCJpZmFjZSIsIGdnbWxfYmFja2VuZF9idWZmZXJfaSksCiAgICAgICAgKCJidWZ0IiwgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QpLAogICAgICAgICgiY29udGV4dCIsIGdnbWxfYmFja2VuZF9idWZmZXJfY29udGV4dF90KSwKICAgICAgICAoInNpemUiLCBjdHlwZXMuY19zaXplX3QpLAogICAgXQoKCiMgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90IGdnbWxfYmFja2VuZF9idWZmZXJfaW5pdCgKIyAgICAgICAgICAgICAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCAgICAgIGJ1ZnQsCiMgICAgICAgICBzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pICAgICAgICAgICBpZmFjZSwKIyAgICAgICAgICAgICAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX2NvbnRleHRfdCAgIGNvbnRleHQsCiMgICAgICAgICAgICAgICAgc2l6ZV90ICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplKTsKZGVmIGdnbWxfYmFja2VuZF9idWZmZXJfaW5pdCgKICAgIGJ1ZnQ6IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90LAogICAgaWZhY2U6IGdnbWxfYmFja2VuZF9idWZmZXJfaSwKICAgIGNvbnRleHQ6IGdnbWxfYmFja2VuZF9idWZmZXJfY29udGV4dF90LAogICAgc2l6ZTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopIC0+IGdnbWxfYmFja2VuZF9idWZmZXJfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2J1ZmZlcl9pbml0KGJ1ZnQsIGlmYWNlLCBjb250ZXh0LCBzaXplKQoKCmxpYi5nZ21sX2JhY2tlbmRfYnVmZmVyX2luaXQuYXJndHlwZXMgPSBbCiAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCwKICAgIGdnbWxfYmFja2VuZF9idWZmZXJfaSwKICAgIGdnbWxfYmFja2VuZF9idWZmZXJfY29udGV4dF90LAogICAgY3R5cGVzLmNfc2l6ZV90LApdCmxpYi5nZ21sX2JhY2tlbmRfYnVmZmVyX2luaXQucmVzdHlwZSA9IGdnbWxfYmFja2VuZF9idWZmZXJfdAoKIyAvLwojIC8vIEJhY2tlbmQKIyAvLwoKIyB0eXBlZGVmIHZvaWQgKiBnZ21sX2JhY2tlbmRfY29udGV4dF90OwpnZ21sX2JhY2tlbmRfY29udGV4dF90ID0gY3R5cGVzLmNfdm9pZF9wCgoKIyBzdHJ1Y3QgZ2dtbF9iYWNrZW5kX2kgewojICAgICBjb25zdCBjaGFyICogKCpnZXRfbmFtZSkoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCk7CgojICAgICB2b2lkICgqZnJlZSkoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCk7CgojICAgICAvLyBidWZmZXIgYWxsb2NhdGlvbgojICAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCAoKmdldF9kZWZhdWx0X2J1ZmZlcl90eXBlKShnZ21sX2JhY2tlbmRfdCBiYWNrZW5kKTsKCiMgICAgIC8vIChvcHRpb25hbCkgYXN5bmNocm9uZW91cyB0ZW5zb3IgZGF0YSBhY2Nlc3MKIyAgICAgdm9pZCAoKnNldF90ZW5zb3JfYXN5bmMpKGdnbWxfYmFja2VuZF90IGJhY2tlbmQsICAgICAgIHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgY29uc3Qgdm9pZCAqIGRhdGEsIHNpemVfdCBvZmZzZXQsIHNpemVfdCBzaXplKTsKIyAgICAgdm9pZCAoKmdldF90ZW5zb3JfYXN5bmMpKGdnbWxfYmFja2VuZF90IGJhY2tlbmQsIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvciwgICAgICAgdm9pZCAqIGRhdGEsIHNpemVfdCBvZmZzZXQsIHNpemVfdCBzaXplKTsKCiMgICAgIC8vIChvcHRpb25hbCkgYXN5bmNocm9uZW91cyB0ZW5zb3IgY29weQojICAgICB2b2lkICgqY3B5X3RlbnNvcl9mcm9tX2FzeW5jKShnZ21sX2JhY2tlbmRfdCBiYWNrZW5kLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBzcmMsIHN0cnVjdCBnZ21sX3RlbnNvciAqIGRzdCk7CiMgICAgIHZvaWQgKCpjcHlfdGVuc29yX3RvX2FzeW5jKSAgKGdnbWxfYmFja2VuZF90IGJhY2tlbmQsIHN0cnVjdCBnZ21sX3RlbnNvciAqIHNyYywgc3RydWN0IGdnbWxfdGVuc29yICogZHN0KTsKCiMgICAgIHZvaWQgKCpzeW5jaHJvbml6ZSkgICAgIChnZ21sX2JhY2tlbmRfdCBiYWNrZW5kKTsKCiMgICAgIC8vIGNvbXB1dGUgZ3JhcGggd2l0aCBhIHBsYW4KIyAgICAgZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fdCAoKmdyYXBoX3BsYW5fY3JlYXRlKSAoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCwgc3RydWN0IGdnbWxfY2dyYXBoICogY2dyYXBoKTsKIyAgICAgdm9pZCAgICAgICAgICAgICAgICAgICAgICAoKmdyYXBoX3BsYW5fZnJlZSkgICAoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCwgZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fdCBwbGFuKTsKIyAgICAgdm9pZCAgICAgICAgICAgICAgICAgICAgICAoKmdyYXBoX3BsYW5fY29tcHV0ZSkoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCwgZ2dtbF9iYWNrZW5kX2dyYXBoX3BsYW5fdCBwbGFuKTsKCiMgICAgIC8vIGNvbXB1dGUgZ3JhcGggd2l0aG91dCBhIHBsYW4KIyAgICAgdm9pZCAoKmdyYXBoX2NvbXB1dGUpKGdnbWxfYmFja2VuZF90IGJhY2tlbmQsIHN0cnVjdCBnZ21sX2NncmFwaCAqIGNncmFwaCk7CgojICAgICAvLyBjaGVjayBpZiB0aGUgYmFja2VuZCBzdXBwb3J0cyBhbiBvcGVyYXRpb24KIyAgICAgYm9vbCAoKnN1cHBvcnRzX29wKShnZ21sX2JhY2tlbmRfdCBiYWNrZW5kLCBjb25zdCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiBvcCk7CiMgfTsKZ2dtbF9iYWNrZW5kX2lfZ2V0X25hbWUgPSBjdHlwZXMuQ0ZVTkNUWVBFKGN0eXBlcy5jX2NoYXJfcCwgZ2dtbF9iYWNrZW5kX3QpCmdnbWxfYmFja2VuZF9pX2ZyZWUgPSBjdHlwZXMuQ0ZVTkNUWVBFKE5vbmUsIGdnbWxfYmFja2VuZF90KQpnZ21sX2JhY2tlbmRfaV9nZXRfZGVmYXVsdF9idWZmZXJfdHlwZSA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCwgZ2dtbF9iYWNrZW5kX3QKKQpnZ21sX2JhY2tlbmRfaV9zZXRfdGVuc29yX2FzeW5jID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsCiAgICBnZ21sX2JhY2tlbmRfdCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX3ZvaWRfcCwKICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIGN0eXBlcy5jX3NpemVfdCwKKQpnZ21sX2JhY2tlbmRfaV9nZXRfdGVuc29yX2FzeW5jID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsCiAgICBnZ21sX2JhY2tlbmRfdCwKICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIGN0eXBlcy5jX3ZvaWRfcCwKICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIGN0eXBlcy5jX3NpemVfdCwKKQoKZ2dtbF9iYWNrZW5kX2lfY3B5X3RlbnNvcl9mcm9tX2FzeW5jID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIE5vbmUsIGdnbWxfYmFja2VuZF90LCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQopCmdnbWxfYmFja2VuZF9pX2NweV90ZW5zb3JfdG9fYXN5bmMgPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgTm9uZSwgZ2dtbF9iYWNrZW5kX3QsIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpCikKCmdnbWxfYmFja2VuZF9pX3N5bmNocm9uaXplID0gY3R5cGVzLkNGVU5DVFlQRShOb25lLCBnZ21sX2JhY2tlbmRfdCkKCmdnbWxfYmFja2VuZF9pX2dyYXBoX3BsYW5fY3JlYXRlID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIGdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX3QsIGdnbWxfYmFja2VuZF90LCBjdHlwZXMuUE9JTlRFUihnZ21sX2NncmFwaCkKKQpnZ21sX2JhY2tlbmRfaV9ncmFwaF9wbGFuX2ZyZWUgPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgTm9uZSwgZ2dtbF9iYWNrZW5kX3QsIGdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX3QKKQpnZ21sX2JhY2tlbmRfaV9ncmFwaF9wbGFuX2NvbXB1dGUgPSBjdHlwZXMuQ0ZVTkNUWVBFKAogICAgTm9uZSwgZ2dtbF9iYWNrZW5kX3QsIGdnbWxfYmFja2VuZF9ncmFwaF9wbGFuX3QKKQoKZ2dtbF9iYWNrZW5kX2lfZ3JhcGhfY29tcHV0ZSA9IGN0eXBlcy5DRlVOQ1RZUEUoCiAgICBOb25lLCBnZ21sX2JhY2tlbmRfdCwgY3R5cGVzLlBPSU5URVIoZ2dtbF9jZ3JhcGgpCikKCmdnbWxfYmFja2VuZF9pX3N1cHBvcnRzX29wID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIGN0eXBlcy5jX2Jvb2wsIGdnbWxfYmFja2VuZF90LCBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKKQoKCmNsYXNzIGdnbWxfYmFja2VuZF9pKGN0eXBlcy5TdHJ1Y3R1cmUpOgogICAgX2ZpZWxkc18gPSBbCiAgICAgICAgKCJnZXRfbmFtZSIsIGdnbWxfYmFja2VuZF9pX2dldF9uYW1lKSwKICAgICAgICAoImZyZWUiLCBnZ21sX2JhY2tlbmRfaV9mcmVlKSwKICAgICAgICAoImdldF9kZWZhdWx0X2J1ZmZlcl90eXBlIiwgZ2dtbF9iYWNrZW5kX2lfZ2V0X2RlZmF1bHRfYnVmZmVyX3R5cGUpLAogICAgICAgICgic2V0X3RlbnNvcl9hc3luYyIsIGdnbWxfYmFja2VuZF9pX3NldF90ZW5zb3JfYXN5bmMpLAogICAgICAgICgiZ2V0X3RlbnNvcl9hc3luYyIsIGdnbWxfYmFja2VuZF9pX2dldF90ZW5zb3JfYXN5bmMpLAogICAgICAgICgiY3B5X3RlbnNvcl9mcm9tX2FzeW5jIiwgZ2dtbF9iYWNrZW5kX2lfY3B5X3RlbnNvcl9mcm9tX2FzeW5jKSwKICAgICAgICAoImNweV90ZW5zb3JfdG9fYXN5bmMiLCBnZ21sX2JhY2tlbmRfaV9jcHlfdGVuc29yX3RvX2FzeW5jKSwKICAgICAgICAoInN5bmNocm9uaXplIiwgZ2dtbF9iYWNrZW5kX2lfc3luY2hyb25pemUpLAogICAgICAgICgiZ3JhcGhfcGxhbl9jcmVhdGUiLCBnZ21sX2JhY2tlbmRfaV9ncmFwaF9wbGFuX2NyZWF0ZSksCiAgICAgICAgKCJncmFwaF9wbGFuX2ZyZWUiLCBnZ21sX2JhY2tlbmRfaV9ncmFwaF9wbGFuX2ZyZWUpLAogICAgICAgICgiZ3JhcGhfcGxhbl9jb21wdXRlIiwgZ2dtbF9iYWNrZW5kX2lfZ3JhcGhfcGxhbl9jb21wdXRlKSwKICAgICAgICAoImdyYXBoX2NvbXB1dGUiLCBnZ21sX2JhY2tlbmRfaV9ncmFwaF9jb21wdXRlKSwKICAgICAgICAoInN1cHBvcnRzX29wIiwgZ2dtbF9iYWNrZW5kX2lfc3VwcG9ydHNfb3ApLAogICAgXQoKCiMgc3RydWN0IGdnbWxfYmFja2VuZCB7CiMgICAgIHN0cnVjdCBnZ21sX2JhY2tlbmRfaSBpZmFjZTsKCgojICAgICBnZ21sX2JhY2tlbmRfY29udGV4dF90IGNvbnRleHQ7CiMgfTsKY2xhc3MgZ2dtbF9iYWNrZW5kKGN0eXBlcy5TdHJ1Y3R1cmUpOgogICAgX2ZpZWxkc18gPSBbCiAgICAgICAgKCJpZmFjZSIsIGdnbWxfYmFja2VuZF9pKSwKICAgICAgICAoImNvbnRleHQiLCBnZ21sX2JhY2tlbmRfY29udGV4dF90KSwKICAgIF0KCgojIC8vCiMgLy8gQmFja2VuZCByZWdpc3RyeQojIC8vCgojIHR5cGVkZWYgZ2dtbF9iYWNrZW5kX3QgKCpnZ21sX2JhY2tlbmRfaW5pdF9mbikoY29uc3QgY2hhciAqIHBhcmFtcywgdm9pZCAqIHVzZXJfZGF0YSk7CmdnbWxfYmFja2VuZF9pbml0X2ZuID0gY3R5cGVzLkNGVU5DVFlQRSgKICAgIGdnbWxfYmFja2VuZF90LCBjdHlwZXMuY19jaGFyX3AsIGN0eXBlcy5jX3ZvaWRfcAopCgoKIyB2b2lkIGdnbWxfYmFja2VuZF9yZWdpc3Rlcihjb25zdCBjaGFyICogbmFtZSwgZ2dtbF9iYWNrZW5kX2luaXRfZm4gaW5pdF9mbiwgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgZGVmYXVsdF9idWZmZXJfdHlwZSwgdm9pZCAqIHVzZXJfZGF0YSk7CmRlZiBnZ21sX2JhY2tlbmRfcmVnaXN0ZXIoCiAgICBuYW1lOiBieXRlcywKICAgIGluaXRfZm4sCiAgICBkZWZhdWx0X2J1ZmZlcl90eXBlOiBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdCwKICAgIHVzZXJfZGF0YTogY3R5cGVzLmNfdm9pZF9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfcmVnaXN0ZXIobmFtZSwgaW5pdF9mbiwgZGVmYXVsdF9idWZmZXJfdHlwZSwgdXNlcl9kYXRhKQoKCmxpYi5nZ21sX2JhY2tlbmRfcmVnaXN0ZXIuYXJndHlwZXMgPSBbCiAgICBjdHlwZXMuY19jaGFyX3AsCiAgICBnZ21sX2JhY2tlbmRfaW5pdF9mbiwKICAgIGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90LAogICAgY3R5cGVzLmNfdm9pZF9wLApdCmxpYi5nZ21sX2JhY2tlbmRfcmVnaXN0ZXIucmVzdHlwZSA9IE5vbmUKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgR0dNTCBDVURBIEFQSQojIHNvdXJjZTogZ2dtbC1jdWRhLmgKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgpHR01MX1VTRV9DVUJMQVMgPSBoYXNhdHRyKGxpYiwgImdnbWxfaW5pdF9jdWJsYXMiKQoKCkdHTUxfQ1VEQV9NQVhfREVWSUNFUyA9IDE2CgoKIyAvLyBBbHdheXMgc3VjY2Vzcy4gVG8gY2hlY2sgaWYgQ1VEQSBpcyBhY3R1YWxseSBsb2FkZWQsIHVzZSBgZ2dtbF9jdWJsYXNfbG9hZGVkYC4KIyBHR01MX0FQSSB2b2lkICAgZ2dtbF9pbml0X2N1Ymxhcyh2b2lkKTsKZGVmIGdnbWxfaW5pdF9jdWJsYXMoKToKICAgIHJldHVybiBsaWIuZ2dtbF9pbml0X2N1YmxhcygpCgoKaWYgR0dNTF9VU0VfQ1VCTEFTOgogICAgbGliLmdnbWxfaW5pdF9jdWJsYXMuYXJndHlwZXMgPSBbXQogICAgbGliLmdnbWxfaW5pdF9jdWJsYXMucmVzdHlwZSA9IE5vbmUKCgojIC8vIFJldHVybnMgYHRydWVgIGlmIHRoZXJlIGFyZSBhdmFpbGFibGUgQ1VEQSBkZXZpY2VzIGFuZCBjdWJsYXMgbG9hZHMgc3VjY2Vzc2Z1bGx5OyBvdGhlcndpc2UsIGl0IHJldHVybnMgYGZhbHNlYC4KIyBHR01MX0FQSSBib29sICAgZ2dtbF9jdWJsYXNfbG9hZGVkKHZvaWQpOwpkZWYgZ2dtbF9jdWJsYXNfbG9hZGVkKCkgLT4gYm9vbDoKICAgIHJldHVybiBsaWIuZ2dtbF9jdWJsYXNfbG9hZGVkKCkKCgppZiBHR01MX1VTRV9DVUJMQVM6CiAgICBsaWIuZ2dtbF9jdWJsYXNfbG9hZGVkLmFyZ3R5cGVzID0gW10KICAgIGxpYi5nZ21sX2N1Ymxhc19sb2FkZWQucmVzdHlwZSA9IGN0eXBlcy5jX2Jvb2wKCgojIHZvaWQgKiBnZ21sX2N1ZGFfaG9zdF9tYWxsb2Moc2l6ZV90IHNpemUpOwpkZWYgZ2dtbF9jdWRhX2hvc3RfbWFsbG9jKAogICAgc2l6ZTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopIC0+IE9wdGlvbmFsW2N0eXBlcy5jX3ZvaWRfcF06CiAgICByZXR1cm4gbGliLmdnbWxfY3VkYV9ob3N0X21hbGxvYyhzaXplKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2N1ZGFfaG9zdF9tYWxsb2MuYXJndHlwZXMgPSBbY3R5cGVzLmNfc2l6ZV90XQogICAgbGliLmdnbWxfY3VkYV9ob3N0X21hbGxvYy5yZXN0eXBlID0gY3R5cGVzLmNfdm9pZF9wCgoKIyB2b2lkICAgZ2dtbF9jdWRhX2hvc3RfZnJlZSh2b2lkICogcHRyKTsKZGVmIGdnbWxfY3VkYV9ob3N0X2ZyZWUoCiAgICBwdHI6IGN0eXBlcy5jX3ZvaWRfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX2hvc3RfZnJlZShwdHIpCgoKaWYgR0dNTF9VU0VfQ1VCTEFTOgogICAgbGliLmdnbWxfY3VkYV9ob3N0X2ZyZWUuYXJndHlwZXMgPSBbY3R5cGVzLmNfdm9pZF9wXQogICAgbGliLmdnbWxfY3VkYV9ob3N0X2ZyZWUucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIGJvb2wgICBnZ21sX2N1ZGFfY2FuX211bF9tYXQoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogc3JjMCwgY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogc3JjMSwgc3RydWN0IGdnbWxfdGVuc29yICogZHN0KTsKZGVmIGdnbWxfY3VkYV9jYW5fbXVsX21hdCgKICAgIHNyYzA6IGdnbWxfdGVuc29yX3AsCiAgICBzcmMxOiBnZ21sX3RlbnNvcl9wLAogICAgZHN0OiBnZ21sX3RlbnNvcl9wLAopIC0+IGJvb2w6CiAgICByZXR1cm4gbGliLmdnbWxfY3VkYV9jYW5fbXVsX21hdChzcmMwLCBzcmMxLCBkc3QpCgoKaWYgR0dNTF9VU0VfQ1VCTEFTOgogICAgbGliLmdnbWxfY3VkYV9jYW5fbXVsX21hdC5hcmd0eXBlcyA9IFsKICAgICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIF0KICAgIGxpYi5nZ21sX2N1ZGFfY2FuX211bF9tYXQucmVzdHlwZSA9IGN0eXBlcy5jX2Jvb2wKCgojIEdHTUxfQVBJIHZvaWQgICBnZ21sX2N1ZGFfc2V0X3RlbnNvcl9zcGxpdChjb25zdCBmbG9hdCAqIHRlbnNvcl9zcGxpdCk7CmRlZiBnZ21sX2N1ZGFfc2V0X3RlbnNvcl9zcGxpdCgKICAgIHRlbnNvcl9zcGxpdDogQ0Zsb2F0QXJyYXksCik6CiAgICByZXR1cm4gbGliLmdnbWxfY3VkYV9zZXRfdGVuc29yX3NwbGl0KHRlbnNvcl9zcGxpdCkKCgppZiBHR01MX1VTRV9DVUJMQVM6CiAgICBsaWIuZ2dtbF9jdWRhX3NldF90ZW5zb3Jfc3BsaXQuYXJndHlwZXMgPSBbY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfZmxvYXQpXQogICAgbGliLmdnbWxfY3VkYV9zZXRfdGVuc29yX3NwbGl0LnJlc3R5cGUgPSBOb25lCgoKIyB2b2lkICAgZ2dtbF9jdWRhX3RyYW5zZm9ybV90ZW5zb3Iodm9pZCAqIGRhdGEsIHN0cnVjdCBnZ21sX3RlbnNvciAqIHRlbnNvcik7CmRlZiBnZ21sX2N1ZGFfdHJhbnNmb3JtX3RlbnNvcigKICAgIGRhdGE6IGN0eXBlcy5jX3ZvaWRfcCwKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX3RyYW5zZm9ybV90ZW5zb3IoZGF0YSwgdGVuc29yKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2N1ZGFfdHJhbnNmb3JtX3RlbnNvci5hcmd0eXBlcyA9IFsKICAgICAgICBjdHlwZXMuY192b2lkX3AsCiAgICAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgXQogICAgbGliLmdnbWxfY3VkYV90cmFuc2Zvcm1fdGVuc29yLnJlc3R5cGUgPSBOb25lCgoKIyB2b2lkICAgZ2dtbF9jdWRhX2ZyZWVfZGF0YShzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9jdWRhX2ZyZWVfZGF0YSgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX2ZyZWVfZGF0YSh0ZW5zb3IpCgoKaWYgR0dNTF9VU0VfQ1VCTEFTOgogICAgbGliLmdnbWxfY3VkYV9mcmVlX2RhdGEuYXJndHlwZXMgPSBbCiAgICAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgXQogICAgbGliLmdnbWxfY3VkYV9mcmVlX2RhdGEucmVzdHlwZSA9IE5vbmUKCgojIHZvaWQgICBnZ21sX2N1ZGFfYXNzaWduX2J1ZmZlcnMoc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfY3VkYV9hc3NpZ25fYnVmZmVycygKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX2Fzc2lnbl9idWZmZXJzKHRlbnNvcikKCgppZiBHR01MX1VTRV9DVUJMQVM6CiAgICBsaWIuZ2dtbF9jdWRhX2Fzc2lnbl9idWZmZXJzLmFyZ3R5cGVzID0gWwogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIF0KICAgIGxpYi5nZ21sX2N1ZGFfYXNzaWduX2J1ZmZlcnMucmVzdHlwZSA9IE5vbmUKCgojIHZvaWQgICBnZ21sX2N1ZGFfYXNzaWduX2J1ZmZlcnNfbm9fc2NyYXRjaChzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9jdWRhX2Fzc2lnbl9idWZmZXJzX25vX3NjcmF0Y2goCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCik6CiAgICByZXR1cm4gbGliLmdnbWxfY3VkYV9hc3NpZ25fYnVmZmVyc19ub19zY3JhdGNoKHRlbnNvcikKCgppZiBHR01MX1VTRV9DVUJMQVM6CiAgICBsaWIuZ2dtbF9jdWRhX2Fzc2lnbl9idWZmZXJzX25vX3NjcmF0Y2guYXJndHlwZXMgPSBbCiAgICAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgXQogICAgbGliLmdnbWxfY3VkYV9hc3NpZ25fYnVmZmVyc19ub19zY3JhdGNoLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSB2b2lkICAgZ2dtbF9jdWRhX2Fzc2lnbl9idWZmZXJzX2ZvcmNlX2lucGxhY2Uoc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfY3VkYV9hc3NpZ25fYnVmZmVyc19mb3JjZV9pbnBsYWNlKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2N1ZGFfYXNzaWduX2J1ZmZlcnNfZm9yY2VfaW5wbGFjZSh0ZW5zb3IpCgoKaWYgR0dNTF9VU0VfQ1VCTEFTOgogICAgbGliLmdnbWxfY3VkYV9hc3NpZ25fYnVmZmVyc19mb3JjZV9pbnBsYWNlLmFyZ3R5cGVzID0gWwogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIF0KICAgIGxpYi5nZ21sX2N1ZGFfYXNzaWduX2J1ZmZlcnNfZm9yY2VfaW5wbGFjZS5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCAgIGdnbWxfY3VkYV9hc3NpZ25fYnVmZmVyc19ub19hbGxvYyhzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9jdWRhX2Fzc2lnbl9idWZmZXJzX25vX2FsbG9jKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2N1ZGFfYXNzaWduX2J1ZmZlcnNfbm9fYWxsb2ModGVuc29yKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2N1ZGFfYXNzaWduX2J1ZmZlcnNfbm9fYWxsb2MuYXJndHlwZXMgPSBbCiAgICAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgXQogICAgbGliLmdnbWxfY3VkYV9hc3NpZ25fYnVmZmVyc19ub19hbGxvYy5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCAgIGdnbWxfY3VkYV9hc3NpZ25fc2NyYXRjaF9vZmZzZXQoc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yLCBzaXplX3Qgb2Zmc2V0KTsKZGVmIGdnbWxfY3VkYV9hc3NpZ25fc2NyYXRjaF9vZmZzZXQoCiAgICB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsCiAgICBvZmZzZXQ6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX2Fzc2lnbl9zY3JhdGNoX29mZnNldCh0ZW5zb3IsIG9mZnNldCkKCgppZiBHR01MX1VTRV9DVUJMQVM6CiAgICBsaWIuZ2dtbF9jdWRhX2Fzc2lnbl9zY3JhdGNoX29mZnNldC5hcmd0eXBlcyA9IFsKICAgICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICAgICAgY3R5cGVzLmNfc2l6ZV90LAogICAgXQogICAgbGliLmdnbWxfY3VkYV9hc3NpZ25fc2NyYXRjaF9vZmZzZXQucmVzdHlwZSA9IE5vbmUKCgojIEdHTUxfQVBJIHZvaWQgICBnZ21sX2N1ZGFfY29weV90b19kZXZpY2Uoc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfY3VkYV9jb3B5X3RvX2RldmljZSgKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX2NvcHlfdG9fZGV2aWNlKHRlbnNvcikKCgppZiBHR01MX1VTRV9DVUJMQVM6CiAgICBsaWIuZ2dtbF9jdWRhX2NvcHlfdG9fZGV2aWNlLmFyZ3R5cGVzID0gWwogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIF0KICAgIGxpYi5nZ21sX2N1ZGFfY29weV90b19kZXZpY2UucmVzdHlwZSA9IE5vbmUKCgojIHZvaWQgICBnZ21sX2N1ZGFfc2V0X21haW5fZGV2aWNlKGludCBtYWluX2RldmljZSk7CmRlZiBnZ21sX2N1ZGFfc2V0X21haW5fZGV2aWNlKAogICAgbWFpbl9kZXZpY2U6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX3NldF9tYWluX2RldmljZShtYWluX2RldmljZSkKCgppZiBHR01MX1VTRV9DVUJMQVM6CiAgICBsaWIuZ2dtbF9jdWRhX3NldF9tYWluX2RldmljZS5hcmd0eXBlcyA9IFsKICAgICAgICBjdHlwZXMuY19pbnQsCiAgICBdCiAgICBsaWIuZ2dtbF9jdWRhX3NldF9tYWluX2RldmljZS5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgdm9pZCAgIGdnbWxfY3VkYV9zZXRfbXVsX21hdF9xKGJvb2wgbXVsX21hdF9xKTsKZGVmIGdnbWxfY3VkYV9zZXRfbXVsX21hdF9xKAogICAgbXVsX21hdF9xOiBVbmlvbltjdHlwZXMuY19ib29sLCBib29sXSwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX3NldF9tdWxfbWF0X3EobXVsX21hdF9xKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2N1ZGFfc2V0X211bF9tYXRfcS5hcmd0eXBlcyA9IFsKICAgICAgICBjdHlwZXMuY19ib29sLAogICAgXQogICAgbGliLmdnbWxfY3VkYV9zZXRfbXVsX21hdF9xLnJlc3R5cGUgPSBOb25lCgoKIyB2b2lkICAgZ2dtbF9jdWRhX3NldF9zY3JhdGNoX3NpemUoc2l6ZV90IHNjcmF0Y2hfc2l6ZSk7CmRlZiBnZ21sX2N1ZGFfc2V0X3NjcmF0Y2hfc2l6ZSgKICAgIHNjcmF0Y2hfc2l6ZTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2N1ZGFfc2V0X3NjcmF0Y2hfc2l6ZShzY3JhdGNoX3NpemUpCgoKaWYgR0dNTF9VU0VfQ1VCTEFTOgogICAgbGliLmdnbWxfY3VkYV9zZXRfc2NyYXRjaF9zaXplLmFyZ3R5cGVzID0gWwogICAgICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIF0KICAgIGxpYi5nZ21sX2N1ZGFfc2V0X3NjcmF0Y2hfc2l6ZS5yZXN0eXBlID0gTm9uZQoKCiMgdm9pZCAgIGdnbWxfY3VkYV9mcmVlX3NjcmF0Y2godm9pZCk7CmRlZiBnZ21sX2N1ZGFfZnJlZV9zY3JhdGNoKCk6CiAgICByZXR1cm4gbGliLmdnbWxfY3VkYV9mcmVlX3NjcmF0Y2goKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2N1ZGFfZnJlZV9zY3JhdGNoLmFyZ3R5cGVzID0gW10KICAgIGxpYi5nZ21sX2N1ZGFfZnJlZV9zY3JhdGNoLnJlc3R5cGUgPSBOb25lCgoKIyBHR01MX0FQSSBib29sICAgZ2dtbF9jdWRhX2NvbXB1dGVfZm9yd2FyZChzdHJ1Y3QgZ2dtbF9jb21wdXRlX3BhcmFtcyAqIHBhcmFtcywgc3RydWN0IGdnbWxfdGVuc29yICogdGVuc29yKTsKZGVmIGdnbWxfY3VkYV9jb21wdXRlX2ZvcndhcmQoCiAgICBwYXJhbXM6IGdnbWxfY29tcHV0ZV9wYXJhbXNfcCwKICAgIHRlbnNvcjogZ2dtbF90ZW5zb3JfcCwKKSAtPiBib29sOgogICAgcmV0dXJuIGxpYi5nZ21sX2N1ZGFfY29tcHV0ZV9mb3J3YXJkKHBhcmFtcywgdGVuc29yKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2N1ZGFfY29tcHV0ZV9mb3J3YXJkLmFyZ3R5cGVzID0gWwogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfY29tcHV0ZV9wYXJhbXMpLAogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIF0KICAgIGxpYi5nZ21sX2N1ZGFfY29tcHV0ZV9mb3J3YXJkLnJlc3R5cGUgPSBjdHlwZXMuY19ib29sCgoKIyBHR01MX0FQSSBpbnQgICAgZ2dtbF9jdWRhX2dldF9kZXZpY2VfY291bnQodm9pZCk7CmRlZiBnZ21sX2N1ZGFfZ2V0X2RldmljZV9jb3VudCgpIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX2dldF9kZXZpY2VfY291bnQoKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2N1ZGFfZ2V0X2RldmljZV9jb3VudC5hcmd0eXBlcyA9IFtdCiAgICBsaWIuZ2dtbF9jdWRhX2dldF9kZXZpY2VfY291bnQucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgdm9pZCAgIGdnbWxfY3VkYV9nZXRfZGV2aWNlX2Rlc2NyaXB0aW9uKGludCBkZXZpY2UsIGNoYXIgKiBkZXNjcmlwdGlvbiwgc2l6ZV90IGRlc2NyaXB0aW9uX3NpemUpOwpkZWYgZ2dtbF9jdWRhX2dldF9kZXZpY2VfZGVzY3JpcHRpb24oCiAgICBkZXZpY2U6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKICAgIGRlc2NyaXB0aW9uOiBieXRlcywKICAgIGRlc2NyaXB0aW9uX3NpemU6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9jdWRhX2dldF9kZXZpY2VfZGVzY3JpcHRpb24oZGV2aWNlLCBkZXNjcmlwdGlvbiwgZGVzY3JpcHRpb25fc2l6ZSkKCgppZiBHR01MX1VTRV9DVUJMQVM6CiAgICBsaWIuZ2dtbF9jdWRhX2dldF9kZXZpY2VfZGVzY3JpcHRpb24uYXJndHlwZXMgPSBbCiAgICAgICAgY3R5cGVzLmNfaW50LAogICAgICAgIGN0eXBlcy5jX2NoYXJfcCwKICAgICAgICBjdHlwZXMuY19zaXplX3QsCiAgICBdCiAgICBsaWIuZ2dtbF9jdWRhX2dldF9kZXZpY2VfZGVzY3JpcHRpb24ucmVzdHlwZSA9IE5vbmUKCgojIC8vIGJhY2tlbmQgQVBJCiMgR0dNTF9BUEkgZ2dtbF9iYWNrZW5kX3QgZ2dtbF9iYWNrZW5kX2N1ZGFfaW5pdCh2b2lkKTsgLy8gVE9ETzogdGFrZSBhIGxpc3Qgb2YgZGV2aWNlcyB0byB1c2UKZGVmIGdnbWxfYmFja2VuZF9jdWRhX2luaXQoKSAtPiBnZ21sX2JhY2tlbmRfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2N1ZGFfaW5pdCgpCgoKaWYgR0dNTF9VU0VfQ1VCTEFTOgogICAgbGliLmdnbWxfYmFja2VuZF9jdWRhX2luaXQuYXJndHlwZXMgPSBbXQogICAgbGliLmdnbWxfYmFja2VuZF9jdWRhX2luaXQucmVzdHlwZSA9IGdnbWxfYmFja2VuZF90CgoKIyBHR01MX0FQSSBib29sIGdnbWxfYmFja2VuZF9pc19jdWRhKGdnbWxfYmFja2VuZF90IGJhY2tlbmQpOwpkZWYgZ2dtbF9iYWNrZW5kX2lzX2N1ZGEoCiAgICBiYWNrZW5kOiBnZ21sX2JhY2tlbmRfdCwKKSAtPiBib29sOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfaXNfY3VkYShiYWNrZW5kKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2JhY2tlbmRfaXNfY3VkYS5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfdF0KICAgIGxpYi5nZ21sX2JhY2tlbmRfaXNfY3VkYS5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMgR0dNTF9BUEkgaW50ICBnZ21sX2JhY2tlbmRfY3VkYV9nZXRfZGV2aWNlKGdnbWxfYmFja2VuZF90IGJhY2tlbmQpOwpkZWYgZ2dtbF9iYWNrZW5kX2N1ZGFfZ2V0X2RldmljZSgKICAgIGJhY2tlbmQ6IGdnbWxfYmFja2VuZF90LAopIC0+IGludDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2N1ZGFfZ2V0X2RldmljZShiYWNrZW5kKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2JhY2tlbmRfY3VkYV9nZXRfZGV2aWNlLmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF90XQogICAgbGliLmdnbWxfYmFja2VuZF9jdWRhX2dldF9kZXZpY2UucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgR0dNTF9BUEkgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgZ2dtbF9iYWNrZW5kX2N1ZGFfYnVmZmVyX3R5cGUoaW50IGRldmljZSk7CmRlZiBnZ21sX2JhY2tlbmRfY3VkYV9idWZmZXJfdHlwZSgKICAgIGRldmljZTogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90OgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfY3VkYV9idWZmZXJfdHlwZShkZXZpY2UpCgoKaWYgR0dNTF9VU0VfQ1VCTEFTOgogICAgbGliLmdnbWxfYmFja2VuZF9jdWRhX2J1ZmZlcl90eXBlLmFyZ3R5cGVzID0gW2N0eXBlcy5jX2ludF0KICAgIGxpYi5nZ21sX2JhY2tlbmRfY3VkYV9idWZmZXJfdHlwZS5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QKCgojIC8vIHBpbm5lZCBob3N0IGJ1ZmZlciBmb3IgdXNlIHdpdGggQ1BVIGJhY2tlbmQgZm9yIGZhc3RlciBjb3BpZXMgYmV0d2VlbiBDUFUgYW5kIEdQVQojIEdHTUxfQVBJIGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90IGdnbWxfYmFja2VuZF9jdWRhX2hvc3RfYnVmZmVyX3R5cGUodm9pZCk7CmRlZiBnZ21sX2JhY2tlbmRfY3VkYV9ob3N0X2J1ZmZlcl90eXBlKCkgLT4gZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3Q6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9jdWRhX2hvc3RfYnVmZmVyX3R5cGUoKQoKCmlmIEdHTUxfVVNFX0NVQkxBUzoKICAgIGxpYi5nZ21sX2JhY2tlbmRfY3VkYV9ob3N0X2J1ZmZlcl90eXBlLmFyZ3R5cGVzID0gW10KICAgIGxpYi5nZ21sX2JhY2tlbmRfY3VkYV9ob3N0X2J1ZmZlcl90eXBlLnJlc3R5cGUgPSBnZ21sX2JhY2tlbmRfYnVmZmVyX3R5cGVfdAoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgR0dNTCBNRVRBTCBBUEkKIyBzb3VyY2U6IGdnbWwtbWV0YWwuaAojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCkdHTUxfVVNFX01FVEFMID0gaGFzYXR0cihsaWIsICJnZ21sX21ldGFsX2luaXQiKQoKCiMgLy8gbWF4IG1lbW9yeSBidWZmZXJzIHRoYXQgY2FuIGJlIG1hcHBlZCB0byB0aGUgZGV2aWNlCiMgI2RlZmluZSBHR01MX01FVEFMX01BWF9CVUZGRVJTIDY0CkdHTUxfTUVUQUxfTUFYX0JVRkZFUlMgPSA2NAojICNkZWZpbmUgR0dNTF9NRVRBTF9NQVhfQ09NTUFORF9CVUZGRVJTIDMyCkdHTUxfTUVUQUxfTUFYX0NPTU1BTkRfQlVGRkVSUyA9IDMyCgojIHN0cnVjdCBnZ21sX21ldGFsX2NvbnRleHQ7CmdnbWxfbWV0YWxfY29udGV4dF9wID0gY3R5cGVzLmNfdm9pZF9wCgoKIyB2b2lkIGdnbWxfbWV0YWxfbG9nX3NldF9jYWxsYmFjayhnZ21sX2xvZ19jYWxsYmFjayBsb2dfY2FsbGJhY2ssIHZvaWQgKiB1c2VyX2RhdGEpOwpkZWYgZ2dtbF9tZXRhbF9sb2dfc2V0X2NhbGxiYWNrKAogICAgbG9nX2NhbGxiYWNrLCAgIyB0eXBlOiAiY3R5cGVzLl9DRnVuY1B0ciIgIyB0eXBlOiBpZ25vcmUKICAgIHVzZXJfZGF0YTogY3R5cGVzLmNfdm9pZF9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX21ldGFsX2xvZ19zZXRfY2FsbGJhY2sobG9nX2NhbGxiYWNrLCB1c2VyX2RhdGEpCgoKaWYgR0dNTF9VU0VfTUVUQUw6CiAgICBsaWIuZ2dtbF9tZXRhbF9sb2dfc2V0X2NhbGxiYWNrLmFyZ3R5cGVzID0gWwogICAgICAgIGdnbWxfbG9nX2NhbGxiYWNrLAogICAgICAgIGN0eXBlcy5jX3ZvaWRfcCwKICAgIF0KICAgIGxpYi5nZ21sX21ldGFsX2xvZ19zZXRfY2FsbGJhY2sucmVzdHlwZSA9IE5vbmUKCgojIHN0cnVjdCBnZ21sX21ldGFsX2NvbnRleHQgKiBnZ21sX21ldGFsX2luaXQoaW50IG5fY2IpOwpkZWYgZ2dtbF9tZXRhbF9pbml0KAogICAgbl9jYjogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopIC0+IGdnbWxfbWV0YWxfY29udGV4dF9wOgogICAgcmV0dXJuIGxpYi5nZ21sX21ldGFsX2luaXQobl9jYikKCgppZiBHR01MX1VTRV9NRVRBTDoKICAgIGxpYi5nZ21sX21ldGFsX2luaXQuYXJndHlwZXMgPSBbY3R5cGVzLmNfaW50XQogICAgbGliLmdnbWxfbWV0YWxfaW5pdC5yZXN0eXBlID0gZ2dtbF9tZXRhbF9jb250ZXh0X3AKCgojIHZvaWQgZ2dtbF9tZXRhbF9mcmVlKHN0cnVjdCBnZ21sX21ldGFsX2NvbnRleHQgKiBjdHgpOwpkZWYgZ2dtbF9tZXRhbF9mcmVlKAogICAgY3R4OiBnZ21sX21ldGFsX2NvbnRleHRfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9tZXRhbF9mcmVlKGN0eCkKCgppZiBHR01MX1VTRV9NRVRBTDoKICAgIGxpYi5nZ21sX21ldGFsX2ZyZWUuYXJndHlwZXMgPSBbZ2dtbF9tZXRhbF9jb250ZXh0X3BdCiAgICBsaWIuZ2dtbF9tZXRhbF9mcmVlLnJlc3R5cGUgPSBOb25lCgoKIyAvLyBzZXQgdGhlIG51bWJlciBvZiBjb21tYW5kIGJ1ZmZlcnMgdG8gdXNlCiMgdm9pZCBnZ21sX21ldGFsX3NldF9uX2NiKHN0cnVjdCBnZ21sX21ldGFsX2NvbnRleHQgKiBjdHgsIGludCBuX2NiKTsKZGVmIGdnbWxfbWV0YWxfc2V0X25fY2IoCiAgICBjdHg6IGdnbWxfbWV0YWxfY29udGV4dF9wLAogICAgbl9jYjogVW5pb25bY3R5cGVzLmNfaW50LCBpbnRdLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX21ldGFsX3NldF9uX2NiKGN0eCwgbl9jYikKCgppZiBHR01MX1VTRV9NRVRBTDoKICAgIGxpYi5nZ21sX21ldGFsX3NldF9uX2NiLmFyZ3R5cGVzID0gW2dnbWxfbWV0YWxfY29udGV4dF9wLCBjdHlwZXMuY19pbnRdCiAgICBsaWIuZ2dtbF9tZXRhbF9zZXRfbl9jYi5yZXN0eXBlID0gTm9uZQoKCiMgLy8gY3JlYXRlcyBhIG1hcHBpbmcgYmV0d2VlbiBhIGhvc3QgbWVtb3J5IGJ1ZmZlciBhbmQgYSBkZXZpY2UgbWVtb3J5IGJ1ZmZlcgojIC8vIC0gbWFrZSBzdXJlIHRvIG1hcCBhbGwgYnVmZmVycyB1c2VkIGluIHRoZSBncmFwaCBiZWZvcmUgY2FsbGluZyBnZ21sX21ldGFsX2dyYXBoX2NvbXB1dGUKIyAvLyAtIHRoZSBtYXBwaW5nIGlzIHVzZWQgZHVyaW5nIGNvbXB1dGF0aW9uIHRvIGRldGVybWluZSB0aGUgYXJndW1lbnRzIG9mIHRoZSBjb21wdXRlIGtlcm5lbHMKIyAvLyAtIHlvdSBkb24ndCBuZWVkIHRvIGtlZXAgdGhlIGhvc3QgbWVtb3J5IGJ1ZmZlciBhbGxvY2F0ZWQgYXMgaXQgaXMgbmV2ZXIgYWNjZXNzZWQgYnkgTWV0YWwKIyAvLyAtIG1heF9zaXplIHNwZWNpZmllcyB0aGUgbWF4aW11bSBzaXplIG9mIGEgdGVuc29yIGFuZCBpcyB1c2VkIHRvIGNyZWF0ZSBzaGFyZWQgdmlld3Mgc3VjaAojIC8vICAgdGhhdCBpdCBpcyBndWFyYW50ZWVkIHRoYXQgdGhlIHRlbnNvciB3aWxsIGZpdCBpbiBhdCBsZWFzdCBvbmUgb2YgdGhlIHZpZXdzCiMgLy8KIyBib29sIGdnbWxfbWV0YWxfYWRkX2J1ZmZlcigKIyAgICAgICAgIHN0cnVjdCBnZ21sX21ldGFsX2NvbnRleHQgKiBjdHgsCiMgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICogbmFtZSwKIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKiBkYXRhLAojICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVfdCAgIHNpemUsCiMgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZV90ICAgbWF4X3NpemUpOwpkZWYgZ2dtbF9tZXRhbF9hZGRfYnVmZmVyKAogICAgY3R4OiBnZ21sX21ldGFsX2NvbnRleHRfcCwKICAgIG5hbWU6IGJ5dGVzLAogICAgZGF0YTogY3R5cGVzLmNfdm9pZF9wLAogICAgc2l6ZTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAogICAgbWF4X3NpemU6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKKSAtPiBib29sOgogICAgcmV0dXJuIGxpYi5nZ21sX21ldGFsX2FkZF9idWZmZXIoY3R4LCBuYW1lLCBkYXRhLCBzaXplLCBtYXhfc2l6ZSkKCgppZiBHR01MX1VTRV9NRVRBTDoKICAgIGxpYi5nZ21sX21ldGFsX2FkZF9idWZmZXIuYXJndHlwZXMgPSBbCiAgICAgICAgZ2dtbF9tZXRhbF9jb250ZXh0X3AsCiAgICAgICAgY3R5cGVzLmNfY2hhcl9wLAogICAgICAgIGN0eXBlcy5jX3ZvaWRfcCwKICAgICAgICBjdHlwZXMuY19zaXplX3QsCiAgICAgICAgY3R5cGVzLmNfc2l6ZV90LAogICAgXQogICAgbGliLmdnbWxfbWV0YWxfYWRkX2J1ZmZlci5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMgLy8gc2V0IGRhdGEgZnJvbSBob3N0IG1lbW9yeSBpbnRvIHRoZSBkZXZpY2UKIyB2b2lkIGdnbWxfbWV0YWxfc2V0X3RlbnNvcihzdHJ1Y3QgZ2dtbF9tZXRhbF9jb250ZXh0ICogY3R4LCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0KTsKZGVmIGdnbWxfbWV0YWxfc2V0X3RlbnNvcigKICAgIGN0eDogZ2dtbF9tZXRhbF9jb250ZXh0X3AsCiAgICB0OiBnZ21sX3RlbnNvcl9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX21ldGFsX3NldF90ZW5zb3IoY3R4LCB0KQoKCmlmIEdHTUxfVVNFX01FVEFMOgogICAgbGliLmdnbWxfbWV0YWxfc2V0X3RlbnNvci5hcmd0eXBlcyA9IFsKICAgICAgICBnZ21sX21ldGFsX2NvbnRleHRfcCwKICAgICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBdCiAgICBsaWIuZ2dtbF9tZXRhbF9zZXRfdGVuc29yLnJlc3R5cGUgPSBOb25lCgoKIyAvLyBnZXQgZGF0YSBmcm9tIHRoZSBkZXZpY2UgaW50byBob3N0IG1lbW9yeQojIHZvaWQgZ2dtbF9tZXRhbF9nZXRfdGVuc29yKHN0cnVjdCBnZ21sX21ldGFsX2NvbnRleHQgKiBjdHgsIHN0cnVjdCBnZ21sX3RlbnNvciAqIHQpOwpkZWYgZ2dtbF9tZXRhbF9nZXRfdGVuc29yKAogICAgY3R4OiBnZ21sX21ldGFsX2NvbnRleHRfcCwKICAgIHQ6IGdnbWxfdGVuc29yX3AsCik6CiAgICByZXR1cm4gbGliLmdnbWxfbWV0YWxfZ2V0X3RlbnNvcihjdHgsIHQpCgoKaWYgR0dNTF9VU0VfTUVUQUw6CiAgICBsaWIuZ2dtbF9tZXRhbF9nZXRfdGVuc29yLmFyZ3R5cGVzID0gWwogICAgICAgIGdnbWxfbWV0YWxfY29udGV4dF9wLAogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIF0KICAgIGxpYi5nZ21sX21ldGFsX2dldF90ZW5zb3IucmVzdHlwZSA9IE5vbmUKCgojIC8vIHRyeSB0byBmaW5kIG9wZXJhdGlvbnMgdGhhdCBjYW4gYmUgcnVuIGNvbmN1cnJlbnRseSBpbiB0aGUgZ3JhcGgKIyAvLyB5b3Ugc2hvdWxkIHJ1biBpdCBhZ2FpbiBpZiB0aGUgdG9wb2xvZ3kgb2YgeW91ciBncmFwaCBjaGFuZ2VzCiMgdm9pZCBnZ21sX21ldGFsX2dyYXBoX2ZpbmRfY29uY3VycmVuY3koc3RydWN0IGdnbWxfbWV0YWxfY29udGV4dCAqIGN0eCwgc3RydWN0IGdnbWxfY2dyYXBoICogZ2YsIGJvb2wgY2hlY2tfbWVtKTsKZGVmIGdnbWxfbWV0YWxfZ3JhcGhfZmluZF9jb25jdXJyZW5jeSgKICAgIGN0eDogZ2dtbF9tZXRhbF9jb250ZXh0X3AsCiAgICBnZjogZ2dtbF9jZ3JhcGhfcCwKICAgIGNoZWNrX21lbTogVW5pb25bY3R5cGVzLmNfYm9vbCwgYm9vbF0sCik6CiAgICByZXR1cm4gbGliLmdnbWxfbWV0YWxfZ3JhcGhfZmluZF9jb25jdXJyZW5jeShjdHgsIGdmLCBjaGVja19tZW0pCgoKaWYgR0dNTF9VU0VfTUVUQUw6CiAgICBsaWIuZ2dtbF9tZXRhbF9ncmFwaF9maW5kX2NvbmN1cnJlbmN5LmFyZ3R5cGVzID0gWwogICAgICAgIGdnbWxfbWV0YWxfY29udGV4dF9wLAogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKSwKICAgICAgICBjdHlwZXMuY19ib29sLAogICAgXQogICAgbGliLmdnbWxfbWV0YWxfZ3JhcGhfZmluZF9jb25jdXJyZW5jeS5yZXN0eXBlID0gTm9uZQoKCiMgLy8gaWYgdGhlIGdyYXBoIGhhcyBiZWVuIG9wdGltaXplZCBmb3IgY29uY3VycmVudGx5IGRpc3BhdGNoLCByZXR1cm4gbGVuZ3RoIG9mIHRoZSBjb25jdXJfbGlzdCBpZiBvcHRpbWl6ZWQKIyBpbnQgZ2dtbF9tZXRhbF9pZl9vcHRpbWl6ZWQoc3RydWN0IGdnbWxfbWV0YWxfY29udGV4dCAqIGN0eCk7CmRlZiBnZ21sX21ldGFsX2lmX29wdGltaXplZCgKICAgIGN0eDogZ2dtbF9tZXRhbF9jb250ZXh0X3AsCikgLT4gaW50OgogICAgcmV0dXJuIGxpYi5nZ21sX21ldGFsX2lmX29wdGltaXplZChjdHgpCgoKaWYgR0dNTF9VU0VfTUVUQUw6CiAgICBsaWIuZ2dtbF9tZXRhbF9pZl9vcHRpbWl6ZWQuYXJndHlwZXMgPSBbCiAgICAgICAgZ2dtbF9tZXRhbF9jb250ZXh0X3AsCiAgICBdCiAgICBsaWIuZ2dtbF9tZXRhbF9pZl9vcHRpbWl6ZWQucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCiMgLy8gb3V0cHV0IHRoZSBjb25jdXJfbGlzdCBmb3IgZ2dtbF9hbGxvYwojIGludCAqIGdnbWxfbWV0YWxfZ2V0X2NvbmN1cl9saXN0KHN0cnVjdCBnZ21sX21ldGFsX2NvbnRleHQgKiBjdHgpOwpkZWYgZ2dtbF9tZXRhbF9nZXRfY29uY3VyX2xpc3QoCiAgICBjdHg6IGdnbWxfbWV0YWxfY29udGV4dF9wLAopIC0+IENJbnRQb2ludGVyOgogICAgcmV0dXJuIGxpYi5nZ21sX21ldGFsX2dldF9jb25jdXJfbGlzdChjdHgpCgoKaWYgR0dNTF9VU0VfTUVUQUw6CiAgICBsaWIuZ2dtbF9tZXRhbF9nZXRfY29uY3VyX2xpc3QuYXJndHlwZXMgPSBbCiAgICAgICAgZ2dtbF9tZXRhbF9jb250ZXh0X3AsCiAgICBdCiAgICBsaWIuZ2dtbF9tZXRhbF9nZXRfY29uY3VyX2xpc3QucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5jX2ludCkKCgojIC8vIHNhbWUgYXMgZ2dtbF9ncmFwaF9jb21wdXRlIGJ1dCB1c2VzIE1ldGFsCiMgLy8gY3JlYXRlcyBnZi0+bl90aHJlYWRzIGNvbW1hbmQgYnVmZmVycyBpbiBwYXJhbGxlbAojIHZvaWQgZ2dtbF9tZXRhbF9ncmFwaF9jb21wdXRlKHN0cnVjdCBnZ21sX21ldGFsX2NvbnRleHQgKiBjdHgsIHN0cnVjdCBnZ21sX2NncmFwaCAqIGdmKTsKZGVmIGdnbWxfbWV0YWxfZ3JhcGhfY29tcHV0ZSgKICAgIGN0eDogZ2dtbF9tZXRhbF9jb250ZXh0X3AsCiAgICBnZjogZ2dtbF9jZ3JhcGhfcCwKKToKICAgIHJldHVybiBsaWIuZ2dtbF9tZXRhbF9ncmFwaF9jb21wdXRlKGN0eCwgZ2YpCgoKaWYgR0dNTF9VU0VfTUVUQUw6CiAgICBsaWIuZ2dtbF9tZXRhbF9ncmFwaF9jb21wdXRlLmFyZ3R5cGVzID0gWwogICAgICAgIGdnbWxfbWV0YWxfY29udGV4dF9wLAogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKSwKICAgIF0KICAgIGxpYi5nZ21sX21ldGFsX2dyYXBoX2NvbXB1dGUucmVzdHlwZSA9IE5vbmUKCiMgLy8KIyAvLyBiYWNrZW5kIEFQSQojIC8vIHVzZXItY29kZSBzaG91bGQgdXNlIG9ubHkgdGhlc2UgZnVuY3Rpb25zCiMgLy8KCgojIEdHTUxfQVBJIGdnbWxfYmFja2VuZF90IGdnbWxfYmFja2VuZF9tZXRhbF9pbml0KHZvaWQpOwpkZWYgZ2dtbF9iYWNrZW5kX21ldGFsX2luaXQoKSAtPiBnZ21sX2JhY2tlbmRfdDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX21ldGFsX2luaXQoKQoKCmlmIEdHTUxfVVNFX01FVEFMOgogICAgbGliLmdnbWxfYmFja2VuZF9tZXRhbF9pbml0LmFyZ3R5cGVzID0gW10KICAgIGxpYi5nZ21sX2JhY2tlbmRfbWV0YWxfaW5pdC5yZXN0eXBlID0gZ2dtbF9iYWNrZW5kX3QKCgojIEdHTUxfQVBJIGJvb2wgZ2dtbF9iYWNrZW5kX2lzX21ldGFsKGdnbWxfYmFja2VuZF90IGJhY2tlbmQpOwpkZWYgZ2dtbF9iYWNrZW5kX2lzX21ldGFsKAogICAgYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QsCikgLT4gYm9vbDoKICAgIHJldHVybiBsaWIuZ2dtbF9iYWNrZW5kX2lzX21ldGFsKGJhY2tlbmQpCgoKaWYgR0dNTF9VU0VfTUVUQUw6CiAgICBsaWIuZ2dtbF9iYWNrZW5kX2lzX21ldGFsLmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF90XQogICAgbGliLmdnbWxfYmFja2VuZF9pc19tZXRhbC5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMgR0dNTF9BUEkgdm9pZCBnZ21sX2JhY2tlbmRfbWV0YWxfc2V0X25fY2IoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCwgaW50IG5fY2IpOwpkZWYgZ2dtbF9iYWNrZW5kX21ldGFsX3NldF9uX2NiKAogICAgYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QsCiAgICBuX2NiOiBVbmlvbltjdHlwZXMuY19pbnQsIGludF0sCik6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9tZXRhbF9zZXRfbl9jYihiYWNrZW5kLCBuX2NiKQoKCmlmIEdHTUxfVVNFX01FVEFMOgogICAgbGliLmdnbWxfYmFja2VuZF9tZXRhbF9zZXRfbl9jYi5hcmd0eXBlcyA9IFtnZ21sX2JhY2tlbmRfdCwgY3R5cGVzLmNfaW50XQogICAgbGliLmdnbWxfYmFja2VuZF9tZXRhbF9zZXRfbl9jYi5yZXN0eXBlID0gTm9uZQoKCiMgR0dNTF9BUEkgZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3QgZ2dtbF9iYWNrZW5kX21ldGFsX2J1ZmZlcl90eXBlKHZvaWQpOwpkZWYgZ2dtbF9iYWNrZW5kX21ldGFsX2J1ZmZlcl90eXBlKCkgLT4gZ2dtbF9iYWNrZW5kX2J1ZmZlcl90eXBlX3Q6CiAgICByZXR1cm4gbGliLmdnbWxfYmFja2VuZF9tZXRhbF9idWZmZXJfdHlwZSgpCgoKaWYgR0dNTF9VU0VfTUVUQUw6CiAgICBsaWIuZ2dtbF9iYWNrZW5kX21ldGFsX2J1ZmZlcl90eXBlLmFyZ3R5cGVzID0gW10KICAgIGxpYi5nZ21sX2JhY2tlbmRfbWV0YWxfYnVmZmVyX3R5cGUucmVzdHlwZSA9IGdnbWxfYmFja2VuZF9idWZmZXJfdHlwZV90CgoKIyAvLyBoZWxwZXIgdG8gY2hlY2sgaWYgdGhlIGRldmljZSBzdXBwb3J0cyBhIHNwZWNpZmljIGZhbWlseQojIC8vIGlkZWFsbHksIHRoZSB1c2VyIGNvZGUgc2hvdWxkIGJlIGRvaW5nIHRoZXNlIGNoZWNrcwojIC8vIHJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL21ldGFsL01ldGFsLUZlYXR1cmUtU2V0LVRhYmxlcy5wZGYKIyBHR01MX0FQSSBib29sIGdnbWxfYmFja2VuZF9tZXRhbF9zdXBwb3J0c19mYW1pbHkoZ2dtbF9iYWNrZW5kX3QgYmFja2VuZCwgaW50IGZhbWlseSk7CmRlZiBnZ21sX2JhY2tlbmRfbWV0YWxfc3VwcG9ydHNfZmFtaWx5KAogICAgYmFja2VuZDogZ2dtbF9iYWNrZW5kX3QsCiAgICBmYW1pbHk6IFVuaW9uW2N0eXBlcy5jX2ludCwgaW50XSwKKSAtPiBib29sOgogICAgcmV0dXJuIGxpYi5nZ21sX2JhY2tlbmRfbWV0YWxfc3VwcG9ydHNfZmFtaWx5KGJhY2tlbmQsIGZhbWlseSkKCgppZiBHR01MX1VTRV9NRVRBTDoKICAgIGxpYi5nZ21sX2JhY2tlbmRfbWV0YWxfc3VwcG9ydHNfZmFtaWx5LmFyZ3R5cGVzID0gW2dnbWxfYmFja2VuZF90LCBjdHlwZXMuY19pbnRdCiAgICBsaWIuZ2dtbF9iYWNrZW5kX21ldGFsX3N1cHBvcnRzX2ZhbWlseS5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgR0dNTCBPUEVOQ0wgQVBJCiMgc291cmNlOiBnZ21sLW9wZW5jbC5oCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoKR0dNTF9VU0VfQ0xCTEFTVCA9IGhhc2F0dHIobGliLCAiZ2dtbF9jbF9pbml0IikKCgojIHZvaWQgZ2dtbF9jbF9pbml0KHZvaWQpOwpkZWYgZ2dtbF9jbF9pbml0KCk6CiAgICByZXR1cm4gbGliLmdnbWxfY2xfaW5pdCgpCgoKaWYgR0dNTF9VU0VfQ0xCTEFTVDoKICAgIGxpYi5nZ21sX2NsX2luaXQuYXJndHlwZXMgPSBbXQogICAgbGliLmdnbWxfY2xfaW5pdC5yZXN0eXBlID0gTm9uZQoKCiMgdm9pZCAgIGdnbWxfY2xfbXVsKGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHNyYzAsIGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciAqIHNyYzEsIHN0cnVjdCBnZ21sX3RlbnNvciAqIGRzdCk7CmRlZiBnZ21sX2NsX211bCgKICAgIHNyYzA6IGdnbWxfdGVuc29yX3AsCiAgICBzcmMxOiBnZ21sX3RlbnNvcl9wLAogICAgZHN0OiBnZ21sX3RlbnNvcl9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2NsX211bChzcmMwLCBzcmMxLCBkc3QpCgoKaWYgR0dNTF9VU0VfQ0xCTEFTVDoKICAgIGxpYi5nZ21sX2NsX211bC5hcmd0eXBlcyA9IFsKICAgICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIF0KICAgIGxpYi5nZ21sX2NsX211bC5yZXN0eXBlID0gTm9uZQoKCiMgYm9vbCAgIGdnbWxfY2xfY2FuX211bF9tYXQoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogc3JjMCwgY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogc3JjMSwgc3RydWN0IGdnbWxfdGVuc29yICogZHN0KTsKZGVmIGdnbWxfY2xfY2FuX211bF9tYXQoCiAgICBzcmMwOiBnZ21sX3RlbnNvcl9wLAogICAgc3JjMTogZ2dtbF90ZW5zb3JfcCwKICAgIGRzdDogZ2dtbF90ZW5zb3JfcCwKKSAtPiBib29sOgogICAgcmV0dXJuIGxpYi5nZ21sX2NsX2Nhbl9tdWxfbWF0KHNyYzAsIHNyYzEsIGRzdCkKCgppZiBHR01MX1VTRV9DTEJMQVNUOgogICAgbGliLmdnbWxfY2xfY2FuX211bF9tYXQuYXJndHlwZXMgPSBbCiAgICAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBdCiAgICBsaWIuZ2dtbF9jbF9jYW5fbXVsX21hdC5yZXN0eXBlID0gY3R5cGVzLmNfYm9vbAoKCiMgc2l6ZV90IGdnbWxfY2xfbXVsX21hdF9nZXRfd3NpemUoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogc3JjMCwgY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogc3JjMSwgc3RydWN0IGdnbWxfdGVuc29yICogZHN0KTsKZGVmIGdnbWxfY2xfbXVsX21hdF9nZXRfd3NpemUoCiAgICBzcmMwOiBnZ21sX3RlbnNvcl9wLAogICAgc3JjMTogZ2dtbF90ZW5zb3JfcCwKICAgIGRzdDogZ2dtbF90ZW5zb3JfcCwKKSAtPiBpbnQ6CiAgICByZXR1cm4gbGliLmdnbWxfY2xfbXVsX21hdF9nZXRfd3NpemUoc3JjMCwgc3JjMSwgZHN0KQoKCmlmIEdHTUxfVVNFX0NMQkxBU1Q6CiAgICBsaWIuZ2dtbF9jbF9tdWxfbWF0X2dldF93c2l6ZS5hcmd0eXBlcyA9IFsKICAgICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgIF0KICAgIGxpYi5nZ21sX2NsX211bF9tYXRfZ2V0X3dzaXplLnJlc3R5cGUgPSBjdHlwZXMuY19zaXplX3QKCgojIHZvaWQgICBnZ21sX2NsX211bF9tYXQoY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogc3JjMCwgY29uc3Qgc3RydWN0IGdnbWxfdGVuc29yICogc3JjMSwgc3RydWN0IGdnbWxfdGVuc29yICogZHN0LCB2b2lkICogd2RhdGEsIHNpemVfdCB3c2l6ZSk7CmRlZiBnZ21sX2NsX211bF9tYXQoCiAgICBzcmMwOiBnZ21sX3RlbnNvcl9wLAogICAgc3JjMTogZ2dtbF90ZW5zb3JfcCwKICAgIGRzdDogZ2dtbF90ZW5zb3JfcCwKICAgIHdkYXRhOiBjdHlwZXMuY192b2lkX3AsCiAgICB3c2l6ZTogVW5pb25bY3R5cGVzLmNfc2l6ZV90LCBpbnRdLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2NsX211bF9tYXQoc3JjMCwgc3JjMSwgZHN0LCB3ZGF0YSwgd3NpemUpCgoKaWYgR0dNTF9VU0VfQ0xCTEFTVDoKICAgIGxpYi5nZ21sX2NsX211bF9tYXQuYXJndHlwZXMgPSBbCiAgICAgICAgY3R5cGVzLlBPSU5URVIoZ2dtbF90ZW5zb3IpLAogICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKSwKICAgICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICAgICAgY3R5cGVzLmNfdm9pZF9wLAogICAgICAgIGN0eXBlcy5jX3NpemVfdCwKICAgIF0KICAgIGxpYi5nZ21sX2NsX211bF9tYXQucmVzdHlwZSA9IE5vbmUKCiMgTk9URTogVGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgYXJlIGRlZmluZWQgaW4gdGhlIGdnbWwtb3BlbmNsLmggaGVhZGVyIGZpbGUgYnV0CiMgICAgICAgYXJlIG5vdCBkZWZpbmVkIGluIHRoZSBnZ21sLW9wZW5jbC5jIHNvdXJjZSBmaWxlLgoKIyB2b2lkICogZ2dtbF9jbF9ob3N0X21hbGxvYyhzaXplX3Qgc2l6ZSk7CiMgZGVmIGdnbWxfY2xfaG9zdF9tYWxsb2MoCiMgICAgIHNpemU6IFVuaW9uW2N0eXBlcy5jX3NpemVfdCwgaW50XSwKIyApIC0+IE9wdGlvbmFsW2N0eXBlcy5jX3ZvaWRfcF06CiMgICAgIHJldHVybiBsaWIuZ2dtbF9jbF9ob3N0X21hbGxvYyhzaXplKQoKCiMgaWYgR0dNTF9VU0VfQ0xCTEFTVDoKIyAgICAgbGliLmdnbWxfY2xfaG9zdF9tYWxsb2MuYXJndHlwZXMgPSBbCiMgICAgICAgICBjdHlwZXMuY19zaXplX3QsCiMgICAgIF0KIyAgICAgbGliLmdnbWxfY2xfaG9zdF9tYWxsb2MucmVzdHlwZSA9IGN0eXBlcy5jX3ZvaWRfcAoKCiMgdm9pZCAgIGdnbWxfY2xfaG9zdF9mcmVlKHZvaWQgKiBwdHIpOwojIGRlZiBnZ21sX2NsX2hvc3RfZnJlZSgKIyAgICAgcHRyOiBjdHlwZXMuY192b2lkX3AsCiMgKToKIyAgICAgcmV0dXJuIGxpYi5nZ21sX2NsX2hvc3RfZnJlZShwdHIpCgoKIyBpZiBHR01MX1VTRV9DTEJMQVNUOgojICAgICBsaWIuZ2dtbF9jbF9ob3N0X2ZyZWUuYXJndHlwZXMgPSBbCiMgICAgICAgICBjdHlwZXMuY192b2lkX3AsCiMgICAgIF0KIyAgICAgbGliLmdnbWxfY2xfaG9zdF9mcmVlLnJlc3R5cGUgPSBOb25lCgoKIyB2b2lkIGdnbWxfY2xfZnJlZV9kYXRhKGNvbnN0IHN0cnVjdCBnZ21sX3RlbnNvciogdGVuc29yKTsKZGVmIGdnbWxfY2xfZnJlZV9kYXRhKAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2NsX2ZyZWVfZGF0YSh0ZW5zb3IpCgoKaWYgR0dNTF9VU0VfQ0xCTEFTVDoKICAgIGxpYi5nZ21sX2NsX2ZyZWVfZGF0YS5hcmd0eXBlcyA9IFsKICAgICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBdCiAgICBsaWIuZ2dtbF9jbF9mcmVlX2RhdGEucmVzdHlwZSA9IE5vbmUKCgojIHZvaWQgZ2dtbF9jbF90cmFuc2Zvcm1fdGVuc29yKHZvaWQgKiBkYXRhLCBzdHJ1Y3QgZ2dtbF90ZW5zb3IgKiB0ZW5zb3IpOwpkZWYgZ2dtbF9jbF90cmFuc2Zvcm1fdGVuc29yKAogICAgZGF0YTogY3R5cGVzLmNfdm9pZF9wLAogICAgdGVuc29yOiBnZ21sX3RlbnNvcl9wLAopOgogICAgcmV0dXJuIGxpYi5nZ21sX2NsX3RyYW5zZm9ybV90ZW5zb3IoZGF0YSwgdGVuc29yKQoKCmlmIEdHTUxfVVNFX0NMQkxBU1Q6CiAgICBsaWIuZ2dtbF9jbF90cmFuc2Zvcm1fdGVuc29yLmFyZ3R5cGVzID0gWwogICAgICAgIGN0eXBlcy5jX3ZvaWRfcCwKICAgICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiAgICBdCiAgICBsaWIuZ2dtbF9jbF90cmFuc2Zvcm1fdGVuc29yLnJlc3R5cGUgPSBOb25lCg=='),
    ('seamless/ggml/mt.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCgojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KIwojIFRoaXMgc2NyaXB0IGNvbnRhaW5zIHRoZSBidWlsZGVyIGFuZCBsb2FkZXIgZm9yIHRoZSBNVCBtb2RlbHMuIEl0IGhhcyBzb21lCiMgb3ZlcmxhcHMgd2l0aCBmYWlyc2VxMi5tb2RlbHMubmxsYiwgZXhjZXB0IGZvciBhIGZldyBzdWJ0bGUgY2hhbmdlcwojIGluIHRoZSB0b2tlbml6ZXIsIHBhdGNoZXMgb2YgbGF5ZXJzLCBldGMuCgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgTWFwcGluZywgT3B0aW9uYWwsIExpdGVyYWwKaW1wb3J0IHRvcmNoCmZyb20gdG9yY2gubm4ucGFyYW1ldGVyIGltcG9ydCBQYXJhbWV0ZXIKCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBJblByb2NBc3NldE1ldGFkYXRhUHJvdmlkZXIsIGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyCmZyb20gZmFpcnNlcTIuZ2VuZXJhdGlvbi5iZWFtX3NlYXJjaCBpbXBvcnQgQmVhbVNlYXJjaFNlcTJTZXFHZW5lcmF0b3IKZnJvbSBmYWlyc2VxMi5ubi5lbWJlZGRpbmcgaW1wb3J0IFN0YW5kYXJkRW1iZWRkaW5nCmZyb20gZmFpcnNlcTIubW9kZWxzLm5sbGIuYnVpbGRlciBpbXBvcnQgTmxsYkJ1aWxkZXIsIE5sbGJDb25maWcKZnJvbSBmYWlyc2VxMi5tb2RlbHMubmxsYi5sb2FkZXIgaW1wb3J0IGxvYWRfbmxsYl9jb25maWcKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBUaWVkUHJvamVjdGlvbgpmcm9tIGZhaXJzZXEyLm1vZGVscy50cmFuc2Zvcm1lci5tb2RlbCBpbXBvcnQgVHJhbnNmb3JtZXJNb2RlbApmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscyBpbXBvcnQgTW9kZWxMb2FkZXIKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERldmljZSwgRGF0YVR5cGUKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMuY2hlY2twb2ludCBpbXBvcnQgY29udmVydF9mYWlyc2VxX2NoZWNrcG9pbnQKCmltcG9ydCBzZW50ZW5jZXBpZWNlIGFzIHNwbQoKCmNsYXNzIE1UQnVpbGRlcihObGxiQnVpbGRlcik6CiAgICBkZWYgYnVpbGRfZW1iZWRkaW5nKHNlbGYpIC0+IFN0YW5kYXJkRW1iZWRkaW5nOgogICAgICAgIHJldHVybiBTdGFuZGFyZEVtYmVkZGluZygKICAgICAgICAgICAgbnVtX2VtYmVkZGluZ3M9c2VsZi5jb25maWcudm9jYWJfaW5mby5zaXplLAogICAgICAgICAgICBlbWJlZGRpbmdfZGltPXNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgcGFkX2lkeD1zZWxmLmNvbmZpZy52b2NhYl9pbmZvLnBhZF9pZHgsCiAgICAgICAgICAgIGluaXRfZm49bGFtYmRhIHg6IHgsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApLnJlcXVpcmVzX2dyYWRfKEZhbHNlKQoKICAgIGRlZiBidWlsZF9tb2RlbChzZWxmKSAtPiBUcmFuc2Zvcm1lck1vZGVsOgogICAgICAgICIiIkJ1aWxkIGEgbW9kZWwuIiIiCiAgICAgICAgZW5jb2Rlcl9lbWJlZCA9IHNlbGYuYnVpbGRfZW1iZWRkaW5nKCkKICAgICAgICBkZWNvZGVyX2VtYmVkID0gc2VsZi5idWlsZF9lbWJlZGRpbmcoKQoKICAgICAgICBlbmNvZGVyX2Zyb250ZW5kID0gc2VsZi5idWlsZF9mcm9udGVuZChlbmNvZGVyX2VtYmVkKQogICAgICAgIGRlY29kZXJfZnJvbnRlbmQgPSBzZWxmLmJ1aWxkX2Zyb250ZW5kKGRlY29kZXJfZW1iZWQpCgogICAgICAgIGVuY29kZXIgPSBzZWxmLmJ1aWxkX2VuY29kZXIoKQogICAgICAgIGRlY29kZXIgPSBzZWxmLmJ1aWxkX2RlY29kZXIoKQoKICAgICAgICAjIFVubGlrZSBOTExCLCBpbiBNVCB3ZSBkZS1jb3VwbGUKICAgICAgICBuZXdfd2VpZ2h0ID0gUGFyYW1ldGVyKHRvcmNoLnplcm9zX2xpa2UoCiAgICAgICAgICAgIGVuY29kZXJfZW1iZWQud2VpZ2h0LCByZXF1aXJlc19ncmFkPUZhbHNlKQogICAgICAgICkKICAgICAgICBmaW5hbF9wcm9qID0gVGllZFByb2plY3Rpb24obmV3X3dlaWdodCwgYmlhcz1Ob25lKQoKICAgICAgICByZXR1cm4gVHJhbnNmb3JtZXJNb2RlbCgKICAgICAgICAgICAgZW5jb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgZW5jb2RlciwKICAgICAgICAgICAgZGVjb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgZGVjb2RlciwKICAgICAgICAgICAgZmluYWxfcHJvaiwKICAgICAgICAgICAgc2VsZi5jb25maWcudm9jYWJfaW5mbywKICAgICAgICApCgoKZGVmIGNyZWF0ZV9tdF9tb2RlbCgKICAgIGNvbmZpZzogTmxsYkNvbmZpZywKICAgICosCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCikgLT4gVHJhbnNmb3JtZXJNb2RlbDoKICAgIHJldHVybiBNVEJ1aWxkZXIoY29uZmlnLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkuYnVpbGRfbW9kZWwoKQoKCmRlZiBjb252ZXJ0X210X2NoZWNrcG9pbnQoCiAgICBja3B0OiBNYXBwaW5nW3N0ciwgQW55XSwgY29uZmlnOiBObGxiQ29uZmlnLAopIC0+IE1hcHBpbmdbc3RyLCBBbnldOgogICAgZ2xvYmFsX2tleV9tYXAgPSB7CiAgICAgICAgIyBmbXQ6IG9mZgogICAgICAgIHIiXmVuY29kZXJcLmVtYmVkX3Rva2Vuc1wuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByImVuY29kZXJfZnJvbnRlbmQuZW1iZWQuIiwKICAgICAgICByIl5kZWNvZGVyXC5lbWJlZF90b2tlbnNcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJkZWNvZGVyX2Zyb250ZW5kLmVtYmVkLiIsCiAgICAgICAgciJeZW5jb2RlclwuZW1iZWRfcG9zaXRpb25zLndlaWdodHMiOiAgICAgICAgICAgICAgICAgICAgIHIiZW5jb2Rlcl9mcm9udGVuZC5wb3NfZW5jb2Rlci5mcmVxcyIsCiAgICAgICAgciJeZGVjb2RlclwuZW1iZWRfcG9zaXRpb25zLndlaWdodHMiOiAgICAgICAgICAgICAgICAgICAgIHIiZGVjb2Rlcl9mcm9udGVuZC5wb3NfZW5jb2Rlci5mcmVxcyIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJub3JtX2VtYmVkZGluZ1wuIjogICAgICAgICAgICAgICAgICAgICAgIHIiZW5jb2Rlcl9mcm9udGVuZC5sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJub3JtX2VtYmVkZGluZ1wuIjogICAgICAgICAgICAgICAgICAgICAgIHIiZGVjb2Rlcl9mcm9udGVuZC5sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgIHIiZGVjb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgIHIiZW5jb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuXC5vdXRfcHJvalwuIjogIHIiZGVjb2Rlci5sYXllcnMuXDEuZW5jb2Rlcl9kZWNvZGVyX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLiI6ICAgICAgICAgICAgciJkZWNvZGVyLmxheWVycy5cMS5lbmNvZGVyX2RlY29kZXJfYXR0bi4iLAogICAgICAgIHIiXmRlY29kZXJcLmxheWVyc1wuKFswLTldKylcLmVuY29kZXJfYXR0bl9sYXllcl9ub3JtXC4iOiByImRlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICByIl5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5mYzFcLiI6ICAgICAgICAgICAgICAgICAgICAgciJlbmNvZGVyLmxheWVycy5cMS5mZm4uaW5uZXJfcHJvai4iLAogICAgICAgIHIiXmRlY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZjMVwuIjogICAgICAgICAgICAgICAgICAgICByImRlY29kZXIubGF5ZXJzLlwxLmZmbi5pbm5lcl9wcm9qLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmMyXC4iOiAgICAgICAgICAgICAgICAgICAgIHIiZW5jb2Rlci5sYXllcnMuXDEuZmZuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmMyXC4iOiAgICAgICAgICAgICAgICAgICAgIHIiZGVjb2Rlci5sYXllcnMuXDEuZmZuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgIHIiZW5jb2Rlci5sYXllcnMuXDEuZmZuX2xheWVyX25vcm0uIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5maW5hbF9sYXllcl9ub3JtXC4iOiAgICAgICAgciJkZWNvZGVyLmxheWVycy5cMS5mZm5fbGF5ZXJfbm9ybS4iLAogICAgICAgIHIiXmRlY29kZXJcLm91dHB1dF9wcm9qZWN0aW9uXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICByImZpbmFsX3Byb2ouIiwKICAgICAgICAjIGZtdDogb24KICAgIH0KICAgIHJldHVybiBjb252ZXJ0X2ZhaXJzZXFfY2hlY2twb2ludChja3B0LCBnbG9iYWxfa2V5X21hcCkKCgpkZWYgbG9hZF92b2NhYihtb2RlbF9kaXI6IHN0ciwgbW9kZTogTGl0ZXJhbFsic3JjIiwgInRndCJdKToKICAgIHZvY2FiX2ZpbGUgPSBmInttb2RlbF9kaXJ9L3ttb2RlfS5zcG0iCiAgICBzcG1wID0gc3BtLlNlbnRlbmNlUGllY2VQcm9jZXNzb3Iodm9jYWJfZmlsZSkKCiAgICByZXR1cm4gWwogICAgICAgIChzcG1wLmlkX3RvX3BpZWNlKGlkKS5yZXBsYWNlKCLiloEiLCAiICIpLCBzcG1wLmdldF9zY29yZShpZCkpCiAgICAgICAgZm9yIGlkIGluIHJhbmdlKHNwbXAuZ2V0X3BpZWNlX3NpemUoKSkKICAgIF0sIHNwbXAKCgpkZWYgbG9hZF9tdF9tb2RlbChtb2RlbF9kaXI6IHN0cik6CiAgICAiIiIKICAgIExvYWQgTVQgbW9kZWwgYW5kIHRoZSB2b2NhYnVsYXJ5IHByb2Nlc3NvcnMgKHNwbSkgZm9yIHNvdXJjZSBhbmQgdGFyZ2V0IGxhbmd1YWdlcwogICAgQXJnczoKICAgICAgICBtb2RlbF9kaXI6IERpcmVjdG9yeSBvZiB0aGUgbW9kZWwuIEl0IG11c3QgY29udGFpbiBmaWxlcyBhdmVyYWdlZF9jaGVja3BvaW50LnB0LCBzcmMuc3BtIGFuZCB0Z3Quc3BtCiAgICAiIiIKCiAgICAjIENyZWF0ZSBhIGZhaXJzZXEyIG1vZGVsIGNhcmQgb24gdGhlIGZseS4gVGhpcyBtdXN0IGVuc3VyZSB0aGF0IHdlIGRvIG5vdCBoYXZlIGFueSBvdGhlciBmYWlyc2VxMgogICAgIyBlbnZpcm9ubWVudCByZXNvbHZlcnMgYW5kIGFsd2F5cyByZXR1cm4KICAgIG1vZGVsX2RpciA9IFBhdGgobW9kZWxfZGlyKQogICAgbW9kZWxfY2FyZF9pbmZvID0gWwogICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAibXRfbW9kZWwiLAogICAgICAgICAgICAibW9kZWxfdHlwZSI6ICJubGxiIiwgICMgUmUtdXNlIHRoZSBzYW1lIGVuY29kZXItZGVjb2RlciBhcmNoIG9mIE5MTEIKICAgICAgICAgICAgIm1vZGVsX2FyY2giOiAiZGVuc2VfNjAwbSIsICAjIER1bW15IHZhbHVlIHRvIHBhc3MgZmFpcnNlcTIgYXNzZXQncyB2YWxkaWxhdGlvbiBsb2dpYwogICAgICAgICAgICAiY2hlY2twb2ludCI6ICJmaWxlOi8vIiArIHN0cihtb2RlbF9kaXIgLyAiYXZlcmFnZWRfY2hlY2twb2ludC5wdCIpLAogICAgICAgICAgICAibW9kZWxfY29uZmlnIjogewogICAgICAgICAgICAgICAgIm1vZGVsX2RpbSI6IDUxMiwKICAgICAgICAgICAgICAgICJudW1fZW5jb2Rlcl9sYXllcnMiOiA0LAogICAgICAgICAgICAgICAgIm51bV9kZWNvZGVyX2xheWVycyI6IDIsCiAgICAgICAgICAgICAgICAiZmZuX2lubmVyX2RpbSI6IDIwNDgsCiAgICAgICAgICAgICAgICAidm9jYWJfaW5mbyI6IHsKICAgICAgICAgICAgICAgICAgICAic2l6ZSI6IDEwMDAwLAogICAgICAgICAgICAgICAgICAgICJ1bmtfaWR4IjogMywKICAgICAgICAgICAgICAgICAgICAiYm9zX2lkeCI6IDAsCiAgICAgICAgICAgICAgICAgICAgImVvc19pZHgiOiAyLAogICAgICAgICAgICAgICAgICAgICJwYWRfaWR4IjogMSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIF0KICAgIGFzc2V0X3N0b3JlLm1ldGFkYXRhX3Byb3ZpZGVycy5hcHBlbmQoCiAgICAgICAgSW5Qcm9jQXNzZXRNZXRhZGF0YVByb3ZpZGVyKG1vZGVsX2NhcmRfaW5mbykKICAgICkKICAgIG10X2NhcmQgPSBhc3NldF9zdG9yZS5yZXRyaWV2ZV9jYXJkKCJtdF9tb2RlbCIpCgogICAgcmV0dXJuIE1vZGVsTG9hZGVyW1RyYW5zZm9ybWVyTW9kZWwsIE5sbGJDb25maWddKAogICAgICAgIGFzc2V0X3N0b3JlLAogICAgICAgIGRvd25sb2FkX21hbmFnZXIsCiAgICAgICAgbG9hZF9ubGxiX2NvbmZpZywKICAgICAgICBjcmVhdGVfbXRfbW9kZWwsCiAgICAgICAgY29udmVydF9tdF9jaGVja3BvaW50LAogICAgICAgIHJlc3RyaWN0X2NoZWNrcG9pbnRzPUZhbHNlLAogICAgKShtdF9jYXJkKQoKCmRlZiB0ZXN0X210KAogICAgbW9kZWw6IFRyYW5zZm9ybWVyTW9kZWwsCiAgICBzcmNfc3BtOiBzcG0uU2VudGVuY2VQaWVjZVByb2Nlc3NvciwKICAgIHRndF9zcG06IHNwbS5TZW50ZW5jZVBpZWNlUHJvY2Vzc29yLAopOgogICAgZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBwYWRfc2VxcwoKICAgICMgVG9rZW5zIG9mICJUaGlzIGlzIGFuIGV4YW1wbGUiCiAgICBzcmNfdG9rZW5zID0gdG9yY2guTG9uZ1RlbnNvcihbNjg4LCAxNTMsIDYyLCA0NTgxLCAyXSkKICAgIHNyY19zZXFzLCBzcmNfcGFkZGluZ19tYXNrID0gcGFkX3NlcXMoc3JjX3Rva2Vucywgc3JjX3NwbS5wYWRfaWQoKSkKCiAgICAjIEZvcmNlIHRoZSBkZXZlbG9wZXIgYmVnaW5zIHdpdGggdGhlIEVPUyA8cz4gdG9rZW4KICAgIHByb21wdF90b2tlbnMgPSB0b3JjaC5Mb25nVGVuc29yKFtbMl1dKQogICAgZ2VuZXJhdG9yID0gQmVhbVNlYXJjaFNlcTJTZXFHZW5lcmF0b3IobW9kZWwpCiAgICBvdXRwdXQgPSBnZW5lcmF0b3Ioc3JjX3NlcXMsIHNyY19wYWRkaW5nX21hc2ssIHByb21wdF90b2tlbnMsIE5vbmUpCgogICAgcHJpbnQob3V0cHV0Lmh5cG90aGVzZXNbMF1bMF0uc2VxKQogICAgdGd0X3Rva2VucyA9IG91dHB1dC5oeXBvdGhlc2VzWzBdWzBdLnNlcS50b2xpc3QoKQogICAgb3V0X3RleHQgPSB0Z3Rfc3BtLmRlY29kZSh0Z3RfdG9rZW5zKQoKICAgICMgYXNzZXJ0IG91dF90ZXh0ID09ICJFc3RlIGVzIHVuIGVqZW1wbG8iCiAgICBwcmludChvdXRfdGV4dCkK'),
    ('seamless/ggml/ggml.py', 'IiIiCldlIGFyZSB2ZW5kb3JpbmcgaHR0cHM6Ly9naXRodWIuY29tL2FiZXRsZW4vZ2dtbC1weXRob24gKE1JVCBMaWNlbnNlKQphZGRpbmcgYSBmZXcgdXRpbGl0aWVzIHRvIGNvbnZlcnQgYmV0d2VlbiBnZ21sIGFuZCBudW1weSB0ZW5zb3JzIGZvciB0ZXN0aW5nLgoiIiIKCmltcG9ydCBjb250ZXh0bGliCmltcG9ydCBjdHlwZXMKaW1wb3J0IGRhdGFjbGFzc2VzCmltcG9ydCBmdW5jdG9vbHMKaW1wb3J0IGxvZ2dpbmcKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIENhbGxhYmxlLCBEaWN0LCBJdGVyYXRvciwgTmFtZWRUdXBsZSwgVHVwbGUsIFR5cGUsIFVuaW9uCgppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHRvcmNoCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCBzeXMKCmZyb20gY3R5cGVzX3V0aWxzIGltcG9ydCBOVUxMUFRSLCBQdHIsIGNfZm4sIGNfc3RydWN0CmZyb20gdGhpcmRfcGFydHlfZ2dtbCBpbXBvcnQgKgoKIyMjIEhlbHBlcnMKCgpAZnVuY3Rvb2xzLmxydV9jYWNoZSg0KQpkZWYgbnVtcHlfZHR5cGUoZ2dtbF90eXBlOiBjdHlwZXMuY19pbnQpIC0+IG5wLmR0eXBlOgogICAgaWYgZ2dtbF90eXBlID09IDA6CiAgICAgICAgIyBHR01MX1RZUEVfRjMyICA9IDAsCiAgICAgICAgcmV0dXJuIG5wLmR0eXBlKG5wLmZsb2F0MzIpCgogICAgaWYgZ2dtbF90eXBlID09IDE6CiAgICAgICAgIyBHR01MX1RZUEVfRjE2ICA9IDEsCiAgICAgICAgcmV0dXJuIG5wLmR0eXBlKG5wLmZsb2F0MTYpCgogICAgaWYgZ2dtbF90eXBlID09IDE4OgogICAgICAgIHJldHVybiBucC5kdHlwZShucC5pbnQzMikKCiAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKGYiQ2FuJ3QgY29udmVydCBHR01MX1RZUEUoe2dnbWxfdHlwZX0pIHRvIGEgbnVtcHkuZHR5cGUiKQoKCkBmdW5jdG9vbHMubHJ1X2NhY2hlKCkKZGVmIGZyb21fbnVtcHlfZHR5cGUoZHR5cGU6IG5wLmR0eXBlKSAtPiBjdHlwZXMuY19pbnQ6CiAgICBkZWYgX2dnbWxfdHlwZShuYW1lOiBieXRlcywgdmFsdWU6IGludCkgLT4gY3R5cGVzLmNfaW50OgogICAgICAgIHQgPSBjdHlwZXMuY19pbnQodmFsdWUpCiAgICAgICAgdHlwZV9uYW1lID0gZ2dtbF90eXBlX25hbWUodCkKICAgICAgICBpZiBuYW1lICE9IHR5cGVfbmFtZToKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKAogICAgICAgICAgICAgICAgZiJUeXBlIHtuYW1lIXJ9IGRvZXNuJ3QgaGF2ZSB2YWx1ZSB7dmFsdWV9LiBnZ21sLmggd2FzIHByb2JhYmx5IHVwZGF0ZWQgYnV0IG5vdCBnZ21sLnB5IgogICAgICAgICAgICApCiAgICAgICAgcmV0dXJuIHQKCiAgICBpZiBkdHlwZSA9PSBucC5mbG9hdDMyOgogICAgICAgIHJldHVybiBfZ2dtbF90eXBlKGIiZjMyIiwgMCkKICAgIGVsaWYgZHR5cGUgPT0gbnAuZmxvYXQxNjoKICAgICAgICByZXR1cm4gX2dnbWxfdHlwZShiImYxNiIsIDEpCiAgICBlbGlmIGR0eXBlID09IG5wLmR0eXBlKCJib29sIik6CiAgICAgICAgcmV0dXJuIF9nZ21sX3R5cGUoYiJpOCIsIDE2KQogICAgZWxpZiBkdHlwZSA9PSBucC5pbnQzMjoKICAgICAgICByZXR1cm4gX2dnbWxfdHlwZShiImkzMiIsIDE4KQoKICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoZiJDYW4ndCBjb252ZXJ0IHtkdHlwZX0gdG8gYSBHR01MX1RZUEUiKQoKCmRlZiBzaGFwZSh0ZW5zb3I6IFVuaW9uW2dnbWxfdGVuc29yLCBnZ21sX3RlbnNvcl9wXSkgLT4gVHVwbGVbaW50LCAuLi5dOgogICAgaWYgaXNpbnN0YW5jZSh0ZW5zb3IsIGN0eXBlcy5fUG9pbnRlcik6CiAgICAgICAgdGVuc29yID0gdGVuc29yLmNvbnRlbnRzCiAgICBuZGltcyA9IHRlbnNvci5uX2RpbXMKICAgIHJldHVybiB0dXBsZShbdGVuc29yLm5lW2ldIGZvciBpIGluIHJhbmdlKG5kaW1zKVs6Oi0xXV0pCgoKZGVmIG5iKHRlbnNvcjogVW5pb25bZ2dtbF90ZW5zb3IsIGdnbWxfdGVuc29yX3BdKSAtPiBUdXBsZVtpbnQsIC4uLl06CiAgICBpZiBpc2luc3RhbmNlKHRlbnNvciwgY3R5cGVzLl9Qb2ludGVyKToKICAgICAgICB0ZW5zb3IgPSB0ZW5zb3IuY29udGVudHMKICAgIHJldHVybiB0dXBsZShbdGVuc29yLm5iW2ldIGZvciBpIGluIHJhbmdlKDQpXSkKCgpkZWYgbmUodGVuc29yOiBVbmlvbltnZ21sX3RlbnNvciwgZ2dtbF90ZW5zb3JfcF0pIC0+IFR1cGxlW2ludCwgLi4uXToKICAgIGlmIGlzaW5zdGFuY2UodGVuc29yLCBjdHlwZXMuX1BvaW50ZXIpOgogICAgICAgIHRlbnNvciA9IHRlbnNvci5jb250ZW50cwogICAgcmV0dXJuIHR1cGxlKFt0ZW5zb3IubmVbaV0gZm9yIGkgaW4gcmFuZ2UoNCldKQoKCmRlZiBzdHJpZGVzKHRlbnNvcjogVW5pb25bZ2dtbF90ZW5zb3IsIGdnbWxfdGVuc29yX3BdKSAtPiBUdXBsZVtpbnQsIC4uLl06CiAgICBpZiBpc2luc3RhbmNlKHRlbnNvciwgY3R5cGVzLl9Qb2ludGVyKToKICAgICAgICB0ZW5zb3IgPSB0ZW5zb3IuY29udGVudHMKICAgIG5kaW1zID0gdGVuc29yLm5fZGltcwogICAgbnVtX2J5dGVzID0gdHVwbGUoW3RlbnNvci5uYltpXSBmb3IgaSBpbiByYW5nZShuZGltcyldKQogICAgc3RyaWRlcyA9IG51bV9ieXRlc1s6Oi0xXQogICAgcmV0dXJuIHN0cmlkZXMKCgpkZWYgdG9fbnVtcHkodGVuc29yX3A6IGdnbWxfdGVuc29yX3ApIC0+IG5wLm5kYXJyYXk6CiAgICBpZiBub3QgZ2dtbF9pc19jb250aWd1b3VzKHRlbnNvcl9wKToKICAgICAgICBpZiBub3QgX2FsbW9zdF9jb250aWd1b3VzKHRlbnNvcl9wKToKICAgICAgICAgICAgcmV0dXJuIF9zdHJpZGVkX3RvX251bXB5KHRlbnNvcl9wKQogICAgdGVuc29yID0gdGVuc29yX3AuY29udGVudHMKCiAgICByZXMgPSBfdm9pZF9wX3RvX25wX2FycmF5KHRlbnNvci5kYXRhLCBzaGFwZSh0ZW5zb3IpLCBudW1weV9kdHlwZSh0ZW5zb3IudHlwZSkpCgogICAgaWYgZ2dtbF9pc190cmFuc3Bvc2VkKHRlbnNvcl9wKToKICAgICAgICAjIFBhdGNoIHVwIHN0cmlkZXMgdG8gd29yayB3aXRoIHRyYW5zcG9zZWQgZ2dtbF90ZW5zb3IKICAgICAgICByZXMuc3RyaWRlcyA9IHN0cmlkZXModGVuc29yKSAgIyB0eXBlOiBpZ25vcmVbYXNzaWdubWVudF0KCiAgICByZXR1cm4gcmVzCgoKZGVmIF9hbG1vc3RfY29udGlndW91cyh0ZW5zb3JfcDogZ2dtbF90ZW5zb3JfcCkgLT4gYm9vbDoKICAgICIiIkRpc3Rpbmd1aXNoZXMgYmV0d2VlbiBmdWxseSBzdHJpZGVkIGFuZCBqdXN0IHRyYW5zcG9zZWQuIiIiCiAgICB0ZW5zb3IgPSB0ZW5zb3JfcC5jb250ZW50cwogICAgbnVtX2J5dGVzID0gbmIodGVuc29yKQogICAgbnVtX2VsZW0gPSBuZSh0ZW5zb3IpCgogICAgIyBTb3J0IHRoZSBheGlzIGFjY29yZGluZyB0byAnbnVtX2J5dGVzJwogICAgbmJlID0gc29ydGVkKHppcChudW1fYnl0ZXMsIG51bV9lbGVtKSkKICAgIGl0ZW1zaXplID0gZ2dtbF90eXBlX3NpemUodGVuc29yLnR5cGUpCiAgICBzdHJpZGVfZXhwID0gaXRlbXNpemUKICAgIGZvciBzdHJpZGUsIGUgaW4gbmJlOgogICAgICAgIGlmIHN0cmlkZSAhPSBzdHJpZGVfZXhwOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBzdHJpZGVfZXhwICo9IGUKCiAgICByZXR1cm4gVHJ1ZQoKCmRlZiBfc3RyaWRlZF90b19udW1weSh0ZW5zb3JfcDogZ2dtbF90ZW5zb3JfcCkgLT4gbnAubmRhcnJheToKICAgIGlmIGdnbWxfaXNfdHJhbnNwb3NlZCh0ZW5zb3JfcCk6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigKICAgICAgICAgICAgInRvX251bXB5IGRvZXNuJ3Qgc3VwcG9ydCB0ZW5zb3JzIGJvdGggdHJhbnNwb3NlZCBhbmQgc3RyaWRlZC4iCiAgICAgICAgKQoKICAgIHRlbnNvciA9IHRlbnNvcl9wLmNvbnRlbnRzCgogICAgbl9kaW0gPSB0ZW5zb3Iubl9kaW1zCiAgICB0X3NoYXBlID0gc2hhcGUodGVuc29yKQogICAgdF9zdHJpZGVzID0gc3RyaWRlcyh0ZW5zb3IpCgogICAgdHlwZV9zaXplID0gZ2dtbF90eXBlX3NpemUodGVuc29yLnR5cGUpCgogICAgZnVsbF9zaGFwZSA9IFtdCiAgICBudW1fYnl0ZXMgPSBuYih0ZW5zb3IpCgogICAgIyBEZXRlcm1pbmUgdGhlIGZ1bGwgYmFja2luZyBzbGljZSBvZiBieXRlcyB0byByZWFkLgogICAgIyBUT0RPIG1ha2UgdGhpcyB3b3JrIGZvciB0cmFuc3Bvc2VkIGFycmF5CiAgICBuID0gMQogICAgdG90YWxfZWxlbWVudHMgPSAxCiAgICB0cnk6CiAgICAgICAgZm9yIGQgaW4gcmFuZ2Uobl9kaW0gLSAxKToKICAgICAgICAgICAgbiA9IG51bV9ieXRlc1tkICsgMV0gLy8gdHlwZV9zaXplIC8vIG4KICAgICAgICAgICAgZnVsbF9zaGFwZS5hcHBlbmQobikKICAgICAgICAgICAgdG90YWxfZWxlbWVudHMgKj0gbgogICAgZXhjZXB0IFplcm9EaXZpc2lvbkVycm9yOgogICAgICAgIGxvZ2dpbmcud2FybmluZygiQ2FuJ3QgY29udmVydCBwZXJtdXRlZCBHR01MIHRlbnNvciBiYWNrIHRvIG51bXB5IikKICAgICAgICByZXR1cm4gTm9uZQogICAgIyBXZSBkb24ndCBuZWVkIHRvIGd1ZXNzIGZvciB0aGUgZmlyc3QgZGltZW5zaW9uLCBzaW5jZSB0aGlzIGRvZXNuJ3QgaW1wYWN0IHN0cmlkaW5nLgogICAgZnVsbF9zaGFwZS5hcHBlbmQodF9zaGFwZVswXSkKICAgIHRvdGFsX2VsZW1lbnRzICo9IHRfc2hhcGVbMF0KICAgIGZ1bGxfc2hhcGUgPSBmdWxsX3NoYXBlWzo6LTFdCgogICAgcmVzID0gX3ZvaWRfcF90b19ucF9hcnJheSh0ZW5zb3IuZGF0YSwgdHVwbGUoZnVsbF9zaGFwZSksIG51bXB5X2R0eXBlKHRlbnNvci50eXBlKSkKCiAgICAjIEV4dHJhY3QgdGhlIGNvcnJlY3Qgc2xpY2UKICAgIHJlcyA9IHJlcy5fX2dldGl0ZW1fXyh0dXBsZShzbGljZSgwLCBuKSBmb3IgbiBpbiB0X3NoYXBlKSkKICAgICMgVE9ETzogd2UgY291bGQgaGFuZGxlIHRyYW5zcG9zaXRpb24gaGVyZQoKICAgIHJldHVybiByZXMKCgpkZWYgX3ZvaWRfcF90b19ucF9hcnJheSgKICAgIGRhdGE6IGN0eXBlcy5jX3ZvaWRfcCwgc2hhcGU6IFR1cGxlW2ludCwgLi4uXSwgZHR5cGU6IG5wLmR0eXBlCikgLT4gbnAubmRhcnJheToKICAgICMgQ29udmVydCB0aGUgZ2dtbCBkYXRhIHBvaW50ZXIgdG8gYSBwb2ludGVyIG9mIGJ5dGVzCiAgICAjIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgUHl0aG9uIGN0eXBlcyBkb2Vzbid0IGhhdmUgImZsb2F0MTYiLCBhbmQgYGFzX2FycmF5YCBvbmx5IHdvcmtzIHdpdGggY3R5cGVzCiAgICBpbnRfd2lkdGg6IHR5cGUgPSBnZXRhdHRyKGN0eXBlcywgZiJjX3VpbnR7OCAqIGR0eXBlLml0ZW1zaXplfSIpCiAgICBwdHIgPSBjdHlwZXMuY2FzdChkYXRhLCBjdHlwZXMuUE9JTlRFUihpbnRfd2lkdGgpKQogICAgIyBDcmVhdGUgYSBudW1weSBhcnJheSB3aXRoIHRoZSB3cm9uZyBkdHlwZQogICAgaW50X2FyciA9IG5wLmN0eXBlc2xpYi5hc19hcnJheShwdHIsIHNoYXBlPXNoYXBlKQogICAgIyBSZWludGVycHJldCBpdCB0byB0aGUgcmlnaHQgZHR5cGUKICAgIHJldHVybiBucC5mcm9tYnVmZmVyKGludF9hcnIsIGR0eXBlPWR0eXBlKS5yZXNoYXBlKHNoYXBlKQoKCkdnbWxORWxlbSA9IGN0eXBlcy5jX2ludDY0ICogR0dNTF9NQVhfRElNUwpHZ21sTkJ5dGVzID0gY3R5cGVzLmNfdWludDY0ICogR0dNTF9NQVhfRElNUwoKCmRlZiBmcm9tX2ZpbGUoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLCBmaWxlOiBQYXRoLCBzaGFwZTogVHVwbGVbaW50LCAuLi5dLCBkdHlwZTogdHlwZSA9IG5wLmZsb2F0MzIKKSAtPiBnZ21sX3RlbnNvcl9wOgogICAgZGF0YSA9IG5wLmZyb21maWxlKHN0cihmaWxlKSwgZHR5cGU9ZHR5cGUpLnJlc2hhcGUoc2hhcGUpICAjIHR5cGU6IGlnbm9yZQogICAgcmV0dXJuIGZyb21fbnVtcHkoY3R4LCBkYXRhKQoKCmRlZiBfc2hhcGVfdG9fbmUoc2hhcGU6IFR1cGxlW2ludCwgLi4uXSkgLT4gVHVwbGVbaW50LCBpbnQsIGludCwgaW50XToKICAgICMgaW4gR0dNTCBuZVswXSBpbmRpY2F0ZXMgdGhlIGNvbnRpZ3VvdXMgZGltZW5zaW9uLCBpZSB0aGUgbGFzdCBvbmUgaW4gbnVtcHkgYW5kIHRvcmNoCiAgICBuZSA9IHNoYXBlWzo6LTFdCiAgICBpZiBsZW4obmUpID49IEdHTUxfTUFYX0RJTVM6CiAgICAgICAgcmV0dXJuIG5lICAjIHR5cGU6IGlnbm9yZQoKICAgICMgbmUgaXMgYWx3YXlzIG9mIHRoZSBzYW1lIGxlbmd0aAogICAgcGFkZGluZyA9ICgxLCkgKiAoR0dNTF9NQVhfRElNUyAtIGxlbihuZSkpCiAgICByZXR1cm4gbmUgKyBwYWRkaW5nICAjIHR5cGU6IGlnbm9yZQoKCmRlZiBfY29tcHV0ZV9uYnl0ZXMoCiAgICBuZTogVHVwbGVbaW50LCBpbnQsIGludCwgaW50XSwgdHlwZTogY3R5cGVzLmNfaW50CikgLT4gVHVwbGVbaW50LCBpbnQsIGludCwgaW50XToKICAgIG5iMCA9IGdnbWxfdHlwZV9zaXplKHR5cGUpCiAgICBuYjEgPSBuYjAgKiAobmVbMF0gLy8gZ2dtbF9ibGNrX3NpemUodHlwZSkpCiAgICBuYjIgPSBuYjEgKiBuZVsxXQogICAgbmIzID0gbmIyICogbmVbMl0KICAgIHJldHVybiAobmIwLCBuYjEsIG5iMiwgbmIzKQoKCmRlZiBmcm9tX251bXB5KAogICAgY3R4OiBnZ21sX2NvbnRleHRfcCwgYXJyYXk6IFVuaW9uW25wLm5kYXJyYXksICJ0b3JjaC5UZW5zb3IiXSwgbmFtZTogYnl0ZXMgPSBiIiIKKSAtPiBQdHJbZ2dtbF90ZW5zb3JdOgogICAgaWYgdHlwZShhcnJheSkuX19uYW1lX18gPT0gIlRlbnNvciI6CiAgICAgICAgYXJyYXkgPSBhcnJheS5udW1weSgpCiAgICAjIENyZWF0ZSBhbiBlbXB0eSB0ZW5zb3Igc28gd2UgZG9uJ3QgYWxsb2NhdGUgbWVtb3J5IGZvciB0aGUgZGF0YSBwb2ludGVyCiAgICBndHlwZSA9IGZyb21fbnVtcHlfZHR5cGUoYXJyYXkuZHR5cGUpCiAgICB0ZW5zb3JfcCA9IGdnbWxfbmV3X3RlbnNvcl8xZChjdHgsIGd0eXBlLCAwKQogICAgIyBGaWxsIG91dCB0aGUgY29ycmVjdCBkaW1lbnNpb25zIGFuZCBzaGFwZS4KICAgIHRlbnNvcl9wLmNvbnRlbnRzLm5fZGltcyA9IGFycmF5Lm5kaW0KICAgIG5lID0gX3NoYXBlX3RvX25lKGFycmF5LnNoYXBlKQogICAgdGVuc29yX3AuY29udGVudHMubmUgPSBHZ21sTkVsZW0oKm5lKQogICAgdGVuc29yX3AuY29udGVudHMubmIgPSBHZ21sTkJ5dGVzKCpfY29tcHV0ZV9uYnl0ZXMobmUsIGd0eXBlKSkKICAgICMgcG9pbnQgdGhlIHRlbnNvciBkYXRhIHRvIHRoZSBjb250ZW50IG9mIHRoZSBudW1weSBhcnJheS4KICAgIHRlbnNvcl9wLmNvbnRlbnRzLmRhdGEgPSBhcnJheS5jdHlwZXMuZGF0YV9hcyhjdHlwZXMuY192b2lkX3ApCiAgICAjIHByaW50KGYiYXJyYXk6IHthcnJheS5zaGFwZX0gQDB4e2FycmF5LmN0eXBlcy5kYXRhX2FzKGN0eXBlcy5jX3ZvaWRfcCl9IikKICAgICMgcHJpbnQoZiJ0ZW5zb3JfcDoge3NoYXBlKHRlbnNvcl9wKX0gQDB4e3RlbnNvcl9wLmNvbnRlbnRzLmRhdGE6eH0iKQoKICAgICMgcHJldmVudCB0aGUgdW5kZXJseWluZyBudW1weSBhcnJheSB0byBiZSBmcmVlZAogICAgc2V0YXR0cih0ZW5zb3JfcCwgIl9fZGF0YSIsIGFycmF5KQogICAgaWYgbmFtZToKICAgICAgICBnZ21sX3NldF9uYW1lKHRlbnNvcl9wLCBuYW1lKQogICAgcmV0dXJuIHRlbnNvcl9wICAjIHR5cGU6IGlnbm9yZQoKCmRlZiBnZ21sX2Nhbl9tdWxfbWF0KHQwOiBnZ21sX3RlbnNvcl9wLCB0MTogZ2dtbF90ZW5zb3JfcCkgLT4gYm9vbDoKICAgIGFzc2VydCBHR01MX01BWF9ESU1TID09IDQsICJHR01MX01BWF9ESU1TIGlzIG5vdCA0IC0gdXBkYXRlIHRoaXMgZnVuY3Rpb24iCgogICAgcmV0dXJuICgKICAgICAgICAodDAuY29udGVudHMubmVbMF0gPT0gdDEuY29udGVudHMubmVbMF0pCiAgICAgICAgYW5kICh0MS5jb250ZW50cy5uZVsyXSAlIHQwLmNvbnRlbnRzLm5lWzJdID09IDApCiAgICAgICAgYW5kICh0MS5jb250ZW50cy5uZVszXSAlIHQwLmNvbnRlbnRzLm5lWzNdID09IDApCiAgICApCgoKZGVmIG5vZGVzKGdmOiBnZ21sX2NncmFwaCkgLT4gRGljdFtieXRlcywgZ2dtbF90ZW5zb3JfcF06CiAgICByZXMgPSB7fQogICAgZm9yIGkgaW4gcmFuZ2UoZ2Yubl9ub2Rlcyk6CiAgICAgICAgbmFtZSA9IGdmLm5vZGVzW2ldLmNvbnRlbnRzLm5hbWUKICAgICAgICByZXNbbmFtZV0gPSBnZi5ub2Rlc1tpXQogICAgcmV0dXJuIHJlcwoKCmRlZiBsZWFmcyhnZjogZ2dtbF9jZ3JhcGgpIC0+IERpY3RbYnl0ZXMsIGdnbWxfdGVuc29yX3BdOgogICAgcmVzID0ge30KICAgIGZvciBpIGluIHJhbmdlKGdmLm5fbGVhZnMpOgogICAgICAgIG5hbWUgPSBnZi5sZWFmc1tpXS5jb250ZW50cy5uYW1lCiAgICAgICAgcmVzW25hbWVdID0gZ2YubGVhZnNbaV0KICAgIHJldHVybiByZXMKCgpjbGFzcyBOYXRpdmVPYmo6CiAgICBBbGxvY0ZuID0gQ2FsbGFibGVbW10sIGN0eXBlcy5jX3ZvaWRfcF0KICAgIEZyZWVGbiA9IENhbGxhYmxlW1tjdHlwZXMuY192b2lkX3BdLCBOb25lXQogICAgX2NhY2hlOiBEaWN0W3N0ciwgVHVwbGVbQWxsb2NGbiwgRnJlZUZuXV0gPSB7fQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9pbml0X2NfZnVuYyhjbHMsIGtpbmQ6IHN0cikgLT4gVHVwbGVbQWxsb2NGbiwgRnJlZUZuXToKICAgICAgICBpZiBraW5kIGluIGNscy5fY2FjaGU6CiAgICAgICAgICAgIHJldHVybiBjbHMuX2NhY2hlW2tpbmRdCgogICAgICAgIGFsbG9jX2ZuID0gZ2V0YXR0cihsaWIsIGYie2tpbmR9X2FsbG9jIikKICAgICAgICBhbGxvY19mbi5hcmd0eXBlcyA9IFtdCiAgICAgICAgYWxsb2NfZm4ucmVzdHlwZSA9IGN0eXBlcy5jX3ZvaWRfcAoKICAgICAgICBmcmVlX2ZuID0gZ2V0YXR0cihsaWIsIGYie2tpbmR9X2ZyZWUiKQogICAgICAgIGZyZWVfZm4uYXJndHlwZXMgPSBbY3R5cGVzLmNfdm9pZF9wXQogICAgICAgIGZyZWVfZm4ucmVzdHlwZSA9IE5vbmUKCiAgICAgICAgY2xzLl9jYWNoZVtraW5kXSA9IChhbGxvY19mbiwgZnJlZV9mbikKICAgICAgICByZXR1cm4gKGFsbG9jX2ZuLCBmcmVlX2ZuKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBraW5kOiBzdHIsIHB0cjogY3R5cGVzLmNfdm9pZF9wID0gTlVMTFBUUik6CiAgICAgICAgc2VsZi5raW5kID0ga2luZAogICAgICAgIGFsbG9jX2ZuLCBzZWxmLl9mcmVlX2ZuID0gc2VsZi5faW5pdF9jX2Z1bmMoa2luZCkKICAgICAgICBzZWxmLnB0ciA9IGFsbG9jX2ZuKCkgaWYgcHRyIGlzIE5vbmUgZWxzZSBwdHIKICAgICAgICAjIHByaW50KHNlbGYpCgogICAgZGVmIGZyZWUoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLnB0ciBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5fZnJlZV9mbihzZWxmLnB0cikKICAgICAgICAgICAgIyBwcmludChmImZyZWVpbmcge3NlbGZ9IikKICAgICAgICAgICAgc2VsZi5wdHIgPSBOVUxMUFRSCgogICAgZGVmIF9fZW50ZXJfXyhzZWxmKSAtPiBjdHlwZXMuY192b2lkX3A6CiAgICAgICAgcmV0dXJuIHNlbGYucHRyCgogICAgZGVmIF9fZXhpdF9fKHNlbGYsICphcmdzOiBBbnkpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5mcmVlKCkKCiAgICBkZWYgX19kZWxfXyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuZnJlZSgpCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpIC0+IHN0cjoKICAgICAgICByZXR1cm4gZiI8e3NlbGYua2luZH0gbmF0aXZlIG9iamVjdCBhdCAweHtzZWxmLnB0cjp4fT4iCgoKZGVmIE1lYXN1cmVBcmVuYSgpIC0+IE5hdGl2ZU9iajoKICAgIHJldHVybiBOYXRpdmVPYmooImdnbWxfYWxsb2NyIiwgZ2dtbF9hbGxvY3JfbmV3X21lYXN1cmUoR0dNTF9NRU1fQUxJR04pKQoKCmRlZiBGaXhlZFNpemVBcmVuYShtZW1fc2l6ZTogaW50KSAtPiBOYXRpdmVPYmo6CiAgICBtZW1vcnkgPSB0b3JjaC56ZXJvcyhtZW1fc2l6ZSwgZHR5cGU9dG9yY2gudWludDgpCiAgICBhbGxvY3IgPSBnZ21sX2FsbG9jcl9uZXcoCiAgICAgICAgY3R5cGVzLmNfdm9pZF9wKG1lbW9yeS5kYXRhX3B0cigpKSwgbWVtX3NpemUsIEdHTUxfTUVNX0FMSUdOCiAgICApCiAgICBhcmVuYSA9IE5hdGl2ZU9iaigiZ2dtbF9hbGxvY3IiLCBhbGxvY3IpCiAgICAjIEFkZCBhIHJlZmVyZW5jZSBmcm9tIHRoZSBhcmVuYSBvYmplY3QgdG8gdGhlIHVuZGVybHlpbmcgdGVuc29yLCBvdGhlcndpc2UgaXQgd2lsbCBiZSBmcmVlZCB0byBlYXJseS4KICAgIHNldGF0dHIoYXJlbmEsICJfX21lbW9yeSIsIG1lbW9yeSkKICAgIHJldHVybiBhcmVuYQoKCmxpYi5mYWlyc2VxMl9tb2RlbF9zZXRfaW5mZXJlbmNlX2N0eC5hcmd0eXBlcyA9IFtjdHlwZXMuY192b2lkX3AsIGdnbWxfY29udGV4dF9wXQoKCmRlZiBGYWlyc2VxMk1vZGVsKCkgLT4gTmF0aXZlT2JqOgogICAgcmV0dXJuIE5hdGl2ZU9iaigiZmFpcnNlcTJfbW9kZWwiKQoKCmxpYi5zdGRfc3RyaW5nX2FsbG9jLmFyZ3R5cGVzID0gW2N0eXBlcy5jX2NoYXJfcF0KbGliLnN0ZF9zdHJpbmdfYWxsb2MucmVzdHlwZSA9IGN0eXBlcy5jX3ZvaWRfcApsaWIuc3RkX3N0cmluZ19mcmVlLmFyZ3R5cGVzID0gW2N0eXBlcy5jX3ZvaWRfcF0KbGliLnN0ZF9zdHJpbmdfZnJlZS5yZXN0eXBlID0gTm9uZQpOYXRpdmVPYmouX2NhY2hlWyJzdGRfc3RyaW5nIl0gPSAobGliLnN0ZF9zdHJpbmdfYWxsb2MsIGxpYi5zdGRfc3RyaW5nX2ZyZWUpCgoKZGVmIENwcFN0cihjb250ZW50OiBzdHIpIC0+IE5hdGl2ZU9iajoKICAgIGNfc3RyID0gY3R5cGVzLmNyZWF0ZV9zdHJpbmdfYnVmZmVyKGNvbnRlbnQuZW5jb2RlKCJ1dGYtOCIpKQogICAgY3BwX3N0ciA9IGxpYi5zdGRfc3RyaW5nX2FsbG9jKGNfc3RyKQogICAgcmV0dXJuIE5hdGl2ZU9iaigic3RkX3N0cmluZyIsIGNwcF9zdHIpCgoKbGliLmxvYWRfZmFpcnNlcTJfZ2dtbF9maWxlLmFyZ3R5cGVzID0gW2N0eXBlcy5jX3ZvaWRfcCwgY3R5cGVzLmNfY2hhcl9wXQpsaWIubG9hZF9mYWlyc2VxMl9nZ21sX2ZpbGUucmVzdHlwZSA9IGN0eXBlcy5jX2ludAoKCmRlZiBsb2FkX2ZhaXJzZXEyX2dnbWxfZmlsZShtb2RlbF9maWxlOiBQYXRoKSAtPiBOYXRpdmVPYmo6CiAgICBtb2RlbCA9IEZhaXJzZXEyTW9kZWwoKQogICAgYnl0ZXNfZmlsZSA9IGN0eXBlcy5jcmVhdGVfc3RyaW5nX2J1ZmZlcihzdHIobW9kZWxfZmlsZSkuZW5jb2RlKCJ1dGYtOCIpKQogICAgZXJyID0gbGliLmxvYWRfZmFpcnNlcTJfZ2dtbF9maWxlKG1vZGVsLnB0ciwgYnl0ZXNfZmlsZSkKICAgIGlmIGVycjoKICAgICAgICByYWlzZSBFeGNlcHRpb24oIkZhaWxlZCB0byBsb2FkIG1vZGVsIikKICAgIHJldHVybiBtb2RlbAoKCiMgbGliLnVuaXR5X2F1ZGlvX2VuY29kZXJfZ3JhcGguYXJndHlwZXMgPSBbY3R5cGVzLmNfdm9pZF9wLCBjdHlwZXMuY192b2lkX3BdCiMgbGliLnVuaXR5X2F1ZGlvX2VuY29kZXJfZ3JhcGgucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKQoKCiMgZGVmIHVuaXR5X2F1ZGlvX2VuY29kZXJfZ3JhcGgobW9kZWw6IE5hdGl2ZU9iaiwgdGVuc29yOiBnZ21sX3RlbnNvcl9wKSAtPiBnZ21sX2NncmFwaF9wOgojICAgICByZXR1cm4gbGliLnVuaXR5X2F1ZGlvX2VuY29kZXJfZ3JhcGgobW9kZWwucHRyLCB0ZW5zb3IpICAjIHR5cGU6IGlnbm9yZQoKCiMgbGliLnVuaXR5X2V2YWwuYXJndHlwZXMgPSBbCiMgICAgIGN0eXBlcy5jX3ZvaWRfcCwKIyAgICAgY3R5cGVzLmNfdm9pZF9wLAojICAgICBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvciksCiMgICAgIGN0eXBlcy5jX2ludCwKIyBdCiMgbGliLnVuaXR5X2V2YWwucmVzdHlwZSA9IGN0eXBlcy5QT0lOVEVSKGdnbWxfY2dyYXBoKQoKCiMgZGVmIHVuaXR5X2V2YWwoCiMgICAgIGFsbG9jcjogY3R5cGVzLmNfdm9pZF9wLCBtb2RlbDogTmF0aXZlT2JqLCB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsIG5fdGhyZWFkczogaW50CiMgKSAtPiBnZ21sX2NncmFwaF9wOgojICAgICByZXR1cm4gbGliLnVuaXR5X2V2YWwoYWxsb2NyLCBtb2RlbC5wdHIsIHRlbnNvciwgbl90aHJlYWRzKQoKCl9GT1JXQVJEX0NBQ0hFOiBEaWN0W3N0ciwgQ2FsbGFibGVbLi4uLCBnZ21sX3RlbnNvcl9wXV0gPSB7fQoKCmRlZiBmb3J3YXJkKAogICAgbGF5ZXJfbmFtZTogc3RyLCBtb2RlbDogY3R5cGVzLmNfdm9pZF9wLCBwcmVmaXg6IHN0ciwgKmlucHV0czogZ2dtbF90ZW5zb3JfcAopIC0+IGdnbWxfdGVuc29yX3A6CiAgICBmd2Q6IEFueSA9IF9GT1JXQVJEX0NBQ0hFLmdldChsYXllcl9uYW1lKQogICAgaWYgZndkIGlzIE5vbmU6CiAgICAgICAgZndkID0gZ2V0YXR0cihsaWIsIGxheWVyX25hbWUgKyAiX2ZvcndhcmQiKQogICAgICAgIG51bV9pbnB1dHMgPSBsZW4oaW5wdXRzKQogICAgICAgIGZ3ZC5hcmd0eXBlcyA9IFtjdHlwZXMuY192b2lkX3AsIGN0eXBlcy5jX3ZvaWRfcF0gKyBbCiAgICAgICAgICAgIGN0eXBlcy5QT0lOVEVSKGdnbWxfdGVuc29yKQogICAgICAgIF0gKiBudW1faW5wdXRzCiAgICAgICAgZndkLnJlc3R5cGUgPSBjdHlwZXMuUE9JTlRFUihnZ21sX3RlbnNvcikKICAgICAgICBfRk9SV0FSRF9DQUNIRVtsYXllcl9uYW1lXSA9IGZ3ZAoKICAgIHdpdGggQ3BwU3RyKHByZWZpeCkgYXMgc3RkX3ByZWZpeDoKICAgICAgICByZXR1cm4gZndkKG1vZGVsLCBzdGRfcHJlZml4LCAqaW5wdXRzKSAgIyBpZ25vcmU6IHR5cGVbbm8tYW55LXJldHVybl0KCgpkZWYgYnVpbGRfYW5kX2NvbXB1dGUoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLCB0ZW5zb3I6IGdnbWxfdGVuc29yX3AsIG51bV90aHJlYWRzOiBpbnQgPSAxLCBkdW1wOiBVbmlvbltib29sLCBzdHJdID0gRmFsc2UKKSAtPiBnZ21sX2NncmFwaDoKICAgIGdmID0gZ2dtbF9idWlsZF9mb3J3YXJkKHRlbnNvcikKICAgIG5lZWRfYWxsb2MgPSB0ZW5zb3IuY29udGVudHMuZGF0YSA9PSBOVUxMUFRSCiAgICBpZiBuZWVkX2FsbG9jOgogICAgICAgIGFsbG9jID0gRml4ZWRTaXplQXJlbmEoMTAyNCAqIDEwMjQgKiAxMDI0ICogMikKICAgICAgICBnZ21sX2FsbG9jcl9hbGxvY19ncmFwaChhbGxvYy5wdHIsIGN0eXBlcy5wb2ludGVyKGdmKSkKICAgICAgICBzZXRhdHRyKHRlbnNvciwgIl9fZGF0YSIsIGFsbG9jKQogICAgaWYgZHVtcDoKICAgICAgICBpZiBkdW1wID09IFRydWU6CiAgICAgICAgICAgIGR1bXAgPSBmImRvdC97c3lzLl9nZXRmcmFtZSgxKS5mX2NvZGUuY29fbmFtZX0iCiAgICAgICAgZ2dtbF9ncmFwaF9kdW1wX2RvdChjdHlwZXMucG9pbnRlcihnZiksIE5VTExQVFIsIGR1bXAuZW5jb2RlKCJhc2NpaSIpKQogICAgICAgICMgc3VicHJvY2Vzcy5ydW4oWyJkb3QiLCAiLVRzdmciLCAiLU8iLCBkdW1wXSkKICAgIGdnbWxfZ3JhcGhfY29tcHV0ZV93aXRoX2N0eChjdHgsIGN0eXBlcy5wb2ludGVyKGdmKSwgbnVtX3RocmVhZHMpCiAgICByZXR1cm4gZ2YKCgpAY19mbihsaWIpCmRlZiBjYXVzYWxfYXR0ZW50aW9uX21hc2soCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLCBzZXFzOiBQdHJbZ2dtbF90ZW5zb3JdCikgLT4gUHRyW2dnbWxfdGVuc29yXToKICAgIC4uLgoKCkBjX2ZuKGxpYikKZGVmIGdnbWxfc2xpY2UoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLAogICAgYTogUHRyW2dnbWxfdGVuc29yXSwKICAgIGF4aXM6IGludCwKICAgIHN0YXJ0OiBjdHlwZXMuY19pbnQ2NCwKICAgIGVuZDogY3R5cGVzLmNfaW50NjQsCikgLT4gUHRyW2dnbWxfdGVuc29yXToKICAgIC4uLgoKCkBjX2ZuKGxpYikKZGVmIGdnbWxfZmxhdHRlbl8xZCgKICAgIGN0eDogZ2dtbF9jb250ZXh0X3AsIGE6IFB0cltnZ21sX3RlbnNvcl0sIGRpbTogaW50CikgLT4gUHRyW2dnbWxfdGVuc29yXToKICAgIHJldHVybiBhCgoKQGNfZm4obGliKQpkZWYgZ2dtbF91bmZsYXR0ZW5fMWQoCiAgICBjdHg6IGdnbWxfY29udGV4dF9wLCBhOiBQdHJbZ2dtbF90ZW5zb3JdLCBkaW06IGludCwgbnVtX2VsOiBpbnQKKSAtPiBQdHJbZ2dtbF90ZW5zb3JdOgogICAgcmV0dXJuIGEKCgpAY19zdHJ1Y3QKQGRhdGFjbGFzc2VzLmRhdGFjbGFzcwpjbGFzcyBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnM6CiAgICBiZWFtX3NpemU6IGludAogICAgbWluX3NlcV9sZW46IGludCA9IDUKICAgIHNvZnRfbWF4X3NlcV9sZW5fYTogZmxvYXQgPSAxLjAKICAgIHNvZnRfbWF4X3NlcV9sZW5fYjogaW50ID0gMjAwCiAgICBoYXJkX21heF9zZXFfbGVuOiBpbnQgPSAxMDI0CiAgICBsZW5fcGVuYWx0eTogZmxvYXQgPSAxLjAKICAgIHVua19wZW5hbHR5OiBmbG9hdCA9IDAuMAogICAgbm9ybWFsaXplX3Njb3JlczogYm9vbCA9IFRydWUKICAgIG1lbV9tYjogaW50ID0gMjU2CgpAY19zdHJ1Y3QKQGRhdGFjbGFzc2VzLmRhdGFjbGFzcwpjbGFzcyBTZXF1ZW5jZUdlbmVyYXRvckpvYjoKICAgIG9wdHM6IFNlcXVlbmNlR2VuZXJhdG9yT3B0aW9ucwogICAgcHJlZml4X3NlcTogUHRyW2dnbWxfdGVuc29yXQogICAgcGFkX2lkeDogaW50CiAgICB1bmtfaWR4OiBpbnQKICAgIGJvc19pZHg6IGludAogICAgZW9zX2lkeDogaW50CiAgICBudW1fdGhyZWFkczogaW50ID0gMQoKCkBjX3N0cnVjdApjbGFzcyBIeXBvdGhlc2lzOgogICAgc2VxOiBQdHJbZ2dtbF90ZW5zb3JdCiAgICAiIiJUaGUgZ2VuZXJhdGVkIHNlcXVlbmNlLiIiIgoKICAgIHNjb3JlOiBmbG9hdAogICAgIiIiVGhlIHNjb3JlIG9mIHRoZSBoeXBvdGhlc2lzLiIiIgoKICAgIHN0ZXBfc2NvcmVzOiBQdHJbZ2dtbF90ZW5zb3JdCiAgICAiIiJUaGUgc2NvcmUgb2YgZWFjaCBpbmRpdmlkdWFsIHNlcXVlbmNlIHN0ZXAuIiIiCgoKQGNfZm4obGliKQpkZWYgZ2VuZXJhdGVfc2VxdWVuY2UoCiAgICBtb2RlbDogY3R5cGVzLmNfdm9pZF9wLAogICAgam9iOiBQdHJbU2VxdWVuY2VHZW5lcmF0b3JKb2JdLAogICAgZW5jb2Rlcl9vdXRwdXQ6IFB0cltnZ21sX3RlbnNvcl0sCiAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogUHRyW2dnbWxfdGVuc29yXSwKICAgIHJlc3VsdF9jdHg6IGdnbWxfY29udGV4dF9wLAopIC0+IFB0cltIeXBvdGhlc2lzXToKICAgIC4uLgoKCkBjX2ZuKGxpYikKZGVmIF90ZXN0aW5nX3JldHVybl9oeXBvdGhlc2lzX3B0cihjdHg6IGdnbWxfY29udGV4dF9wKSAtPiBQdHJbSHlwb3RoZXNpc106CiAgICByZXR1cm4gUHRyKCkKCgpAY19mbihsaWIpCmRlZiBmYWlyc2VxMl9tb2RlbF9sYXllcl9jb25maWdfaW50KG1vZGVsOiBjdHlwZXMuY192b2lkX3AsIG5hbWU6IGJ5dGVzKSAtPiBpbnQ6CiAgICByZXR1cm4gLTEKCgpAY19mbihsaWIuZmFpcnNlcTJfa3ZfY2FjaGVfYWxsb2MpCmRlZiBfZmFpcnNlcTJfa3ZfY2FjaGVfYWxsb2MoCiAgICBtb2RlbDogY3R5cGVzLmNfdm9pZF9wLCBjdHg6IGN0eXBlcy5jX3ZvaWRfcCwgYmVhbV9zaXplOiBpbnQsIG1heF9zZXFfbGVuOiBpbnQKKSAtPiBOb25lOgogICAgcGFzcwoKCkBjX2ZuKGxpYi5mYWlyc2VxMl9rdl9jYWNoZV9yZXNldCkKZGVmIF9mYWlyc2VxMl9rdl9jYWNoZV9yZXNldChtb2RlbDogY3R5cGVzLmNfdm9pZF9wKSAtPiBOb25lOgogICAgcGFzcwoKCkBjb250ZXh0bGliLmNvbnRleHRtYW5hZ2VyCmRlZiBmYWlyc2VxMl9rdl9jYWNoZV9hbGxvYygKICAgIG1vZGVsOiBjdHlwZXMuY192b2lkX3AsIGt2X2NhY2hlX3NpemU6IGludCwgYmVhbV9zaXplOiBpbnQsIG1heF9zZXFfbGVuOiBpbnQKKSAtPiBJdGVyYXRvcltOb25lXToKCiAgICBtZW1vcnkgPSB0b3JjaC56ZXJvcyhrdl9jYWNoZV9zaXplLCBkdHlwZT10b3JjaC51aW50OCkKICAgIGN0eCA9IGdnbWxfaW5pdCgKICAgICAgICBwYXJhbXM9Z2dtbF9pbml0X3BhcmFtcygKICAgICAgICAgICAgbWVtX3NpemU9a3ZfY2FjaGVfc2l6ZSwKICAgICAgICAgICAgbWVtX2J1ZmZlcj1jdHlwZXMuY192b2lkX3AobWVtb3J5LmRhdGFfcHRyKCkpLAogICAgICAgICAgICBub19hbGxvYz1GYWxzZSwKICAgICAgICApCiAgICApCiAgICBfZmFpcnNlcTJfa3ZfY2FjaGVfYWxsb2MobW9kZWwsIGN0eCwgYmVhbV9zaXplLCBtYXhfc2VxX2xlbikKICAgIHRyeToKICAgICAgICB5aWVsZAogICAgZmluYWxseToKICAgICAgICBfZmFpcnNlcTJfa3ZfY2FjaGVfcmVzZXQobW9kZWwpCiAgICAgICAgZ2dtbF9mcmVlKGN0eCkKCgpAY19mbihsaWIpCmRlZiBmYWlyc2VxMl9zcG1fdG9rZW5pemUoCiAgICBtb2RlbDogY3R5cGVzLmNfdm9pZF9wLCB0ZXh0OiBieXRlcywgb3V0OiBQdHJbZ2dtbF90ZW5zb3JdCikgLT4gTm9uZToKICAgIHBhc3MKCgpAY19mbihsaWIpCmRlZiBmYWlyc2VxMl9zcG1fZGV0b2tlbml6ZSgKICAgIG1vZGVsOiBjdHlwZXMuY192b2lkX3AsIHRlbnNvcjogUHRyW2dnbWxfdGVuc29yXSwgb3V0OiBjdHlwZXMuQXJyYXlbY3R5cGVzLmNfY2hhcl0KKSAtPiBjdHlwZXMuY19zaXplX3Q6CiAgICByZXR1cm4gMAo='),
    ('seamless/ggml/scripts/sync-whisper.sh', 'IyEvYmluL2Jhc2gKCmNwIC1ycHYgLi4vd2hpc3Blci5jcHAvZ2dtbC5jICAgICAgICAgICAgICAgICAgICAgICAgIHNyYy9nZ21sLmMKY3AgLXJwdiAuLi93aGlzcGVyLmNwcC9nZ21sLWN1ZGEuaCAgICAgICAgICAgICAgICAgICAgc3JjL2dnbWwtY3VkYS5oCmNwIC1ycHYgLi4vd2hpc3Blci5jcHAvZ2dtbC1jdWRhLmN1ICAgICAgICAgICAgICAgICAgIHNyYy9nZ21sLWN1ZGEuY3UKY3AgLXJwdiAuLi93aGlzcGVyLmNwcC9nZ21sLW9wZW5jbC5oICAgICAgICAgICAgICAgICAgc3JjL2dnbWwtb3BlbmNsLmgKY3AgLXJwdiAuLi93aGlzcGVyLmNwcC9nZ21sLW9wZW5jbC5jcHAgICAgICAgICAgICAgICAgc3JjL2dnbWwtb3BlbmNsLmNwcApjcCAtcnB2IC4uL3doaXNwZXIuY3BwL2dnbWwtbWV0YWwuaCAgICAgICAgICAgICAgICAgICBzcmMvZ2dtbC1tZXRhbC5oCmNwIC1ycHYgLi4vd2hpc3Blci5jcHAvZ2dtbC1tZXRhbC5tICAgICAgICAgICAgICAgICAgIHNyYy9nZ21sLW1ldGFsLm0KY3AgLXJwdiAuLi93aGlzcGVyLmNwcC9nZ21sLW1ldGFsLm1ldGFsICAgICAgICAgICAgICAgc3JjL2dnbWwtbWV0YWwubWV0YWwKY3AgLXJwdiAuLi93aGlzcGVyLmNwcC9nZ21sLmggICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZS9nZ21sL2dnbWwuaApjcCAtcnB2IC4uL3doaXNwZXIuY3BwL2V4YW1wbGVzL2NvbW1vbi5oICAgICAgICAgICAgICBleGFtcGxlcy9jb21tb24uaApjcCAtcnB2IC4uL3doaXNwZXIuY3BwL2V4YW1wbGVzL2NvbW1vbi5jcHAgICAgICAgICAgICBleGFtcGxlcy9jb21tb24uY3BwCmNwIC1ycHYgLi4vd2hpc3Blci5jcHAvZXhhbXBsZXMvY29tbW9uLWdnbWwuaCAgICAgICAgIGV4YW1wbGVzL2NvbW1vbi1nZ21sLmgKY3AgLXJwdiAuLi93aGlzcGVyLmNwcC9leGFtcGxlcy9jb21tb24tZ2dtbC5jcHAgICAgICAgZXhhbXBsZXMvY29tbW9uLWdnbWwuY3BwCmNwIC1ycHYgLi4vd2hpc3Blci5jcHAvd2hpc3Blci5oICAgICAgICAgICAgICAgICAgICAgIGV4YW1wbGVzL3doaXNwZXIvd2hpc3Blci5oCmNwIC1ycHYgLi4vd2hpc3Blci5jcHAvd2hpc3Blci5jcHAgICAgICAgICAgICAgICAgICAgIGV4YW1wbGVzL3doaXNwZXIvd2hpc3Blci5jcHAKY3AgLXJwdiAuLi93aGlzcGVyLmNwcC9leGFtcGxlcy9tYWluL21haW4uY3BwICAgICAgICAgZXhhbXBsZXMvd2hpc3Blci9tYWluLmNwcApjcCAtcnB2IC4uL3doaXNwZXIuY3BwL2V4YW1wbGVzL3F1YW50aXplL3F1YW50aXplLmNwcCBleGFtcGxlcy93aGlzcGVyL3F1YW50aXplLmNwcAo='),
    ('seamless/ggml/scripts/sync-llama.sh', 'IyEvYmluL2Jhc2gKCmNwIC1ycHYgLi4vbGxhbWEuY3BwL2dnbWwuYyAgICAgICAgICAgc3JjL2dnbWwuYwpjcCAtcnB2IC4uL2xsYW1hLmNwcC9nZ21sLWFsbG9jLmMgICAgIHNyYy9nZ21sLWFsbG9jLmMKY3AgLXJwdiAuLi9sbGFtYS5jcHAvZ2dtbC1jdWRhLmggICAgICBzcmMvZ2dtbC1jdWRhLmgKY3AgLXJwdiAuLi9sbGFtYS5jcHAvZ2dtbC1jdWRhLmN1ICAgICBzcmMvZ2dtbC1jdWRhLmN1CmNwIC1ycHYgLi4vbGxhbWEuY3BwL2dnbWwtb3BlbmNsLmggICAgc3JjL2dnbWwtb3BlbmNsLmgKY3AgLXJwdiAuLi9sbGFtYS5jcHAvZ2dtbC1vcGVuY2wuY3BwICBzcmMvZ2dtbC1vcGVuY2wuY3BwCmNwIC1ycHYgLi4vbGxhbWEuY3BwL2dnbWwtbWV0YWwuaCAgICAgc3JjL2dnbWwtbWV0YWwuaApjcCAtcnB2IC4uL2xsYW1hLmNwcC9nZ21sLW1ldGFsLm0gICAgIHNyYy9nZ21sLW1ldGFsLm0KY3AgLXJwdiAuLi9sbGFtYS5jcHAvZ2dtbC1tZXRhbC5tZXRhbCBzcmMvZ2dtbC1tZXRhbC5tZXRhbApjcCAtcnB2IC4uL2xsYW1hLmNwcC9nZ21sLmggICAgICAgICAgIGluY2x1ZGUvZ2dtbC9nZ21sLmgKY3AgLXJwdiAuLi9sbGFtYS5jcHAvZ2dtbC1hbGxvYy5oICAgICBpbmNsdWRlL2dnbWwvZ2dtbC1hbGxvYy5oCgpjcCAtcnB2IC4uL2xsYW1hLmNwcC90ZXN0cy90ZXN0LW9wdC5jcHAgICAgICAgICAgIHRlc3RzL3Rlc3Qtb3B0LmNwcApjcCAtcnB2IC4uL2xsYW1hLmNwcC90ZXN0cy90ZXN0LWdyYWQwLmNwcCAgICAgICAgIHRlc3RzL3Rlc3QtZ3JhZDAuY3BwCmNwIC1ycHYgLi4vbGxhbWEuY3BwL3Rlc3RzL3Rlc3QtcXVhbnRpemUtZm5zLmNwcCAgdGVzdHMvdGVzdC1xdWFudGl6ZS1mbnMuY3BwCmNwIC1ycHYgLi4vbGxhbWEuY3BwL3Rlc3RzL3Rlc3QtcXVhbnRpemUtcGVyZi5jcHAgdGVzdHMvdGVzdC1xdWFudGl6ZS1wZXJmLmNwcAo='),
    ('seamless/ggml/ci/run.sh', 'Iy9iaW4vYmFzaAojCiMgc2FtcGxlIHVzYWdlOgojCiMgbWtkaXIgdG1wCiMKIyAjIENQVS1vbmx5IGJ1aWxkCiMgYmFzaCAuL2NpL3J1bi5zaCAuL3RtcC9yZXN1bHRzIC4vdG1wL21udAojCiMgIyB3aXRoIENVREEgc3VwcG9ydAojIEdHX0JVSUxEX0NVREE9MSBiYXNoIC4vY2kvcnVuLnNoIC4vdG1wL3Jlc3VsdHMgLi90bXAvbW50CiMKCmlmIFsgLXogIiQyIiBdOyB0aGVuCiAgICBlY2hvICJ1c2FnZTogJDAgPG91dHB1dC1kaXI+IDxtbnQtZGlyPiIKICAgIGV4aXQgMQpmaQoKbWtkaXIgLXAgIiQxIgpta2RpciAtcCAiJDIiCgpPVVQ9JChyZWFscGF0aCAiJDEiKQpNTlQ9JChyZWFscGF0aCAiJDIiKQoKcm0gLXYgJE9VVC8qLmxvZwpybSAtdiAkT1VULyouZXhpdApybSAtdiAkT1VULyoubWQKCnNkPWBkaXJuYW1lICQwYApjZCAkc2QvLi4vClNSQz1gcHdkYAoKIyMgaGVscGVycwoKIyBkb3dubG9hZCBhIGZpbGUgaWYgaXQgZG9lcyBub3QgZXhpc3Qgb3IgaWYgaXQgaXMgb3V0ZGF0ZWQKZnVuY3Rpb24gZ2dfd2dldCB7CiAgICBsb2NhbCBvdXQ9JDEKICAgIGxvY2FsIHVybD0kMgoKICAgIGxvY2FsIGN3ZD1gcHdkYAoKICAgIG1rZGlyIC1wICRvdXQKICAgIGNkICRvdXQKCiAgICAjIHNob3VsZCBub3QgcmUtZG93bmxvYWQgaWYgZmlsZSBpcyB0aGUgc2FtZQogICAgd2dldCAtbnYgLU4gJHVybAoKICAgIGNkICRjd2QKfQoKZnVuY3Rpb24gZ2dfcHJpbnRmIHsKICAgIHByaW50ZiAtLSAiJEAiID4+ICRPVVQvUkVBRE1FLm1kCn0KCmZ1bmN0aW9uIGdnX3J1biB7CiAgICBjaT0kMQoKICAgIHNldCAtbyBwaXBlZmFpbAogICAgc2V0IC14CgogICAgZ2dfcnVuXyRjaSB8IHRlZSAkT1VULyRjaS5sb2cKICAgIGN1cj0kPwogICAgZWNobyAiJGN1ciIgPiAkT1VULyRjaS5leGl0CgogICAgc2V0ICt4CiAgICBzZXQgK28gcGlwZWZhaWwKCiAgICBnZ19zdW1fJGNpCgogICAgcmV0PSQoKHJldCB8IGN1cikpCn0KCiMjIGNpCgojIGN0ZXN0X2RlYnVnCgpmdW5jdGlvbiBnZ19ydW5fY3Rlc3RfZGVidWcgewogICAgY2QgJHtTUkN9CgogICAgcm0gLXJmIGJ1aWxkLWNpLWRlYnVnICYmIG1rZGlyIGJ1aWxkLWNpLWRlYnVnICYmIGNkIGJ1aWxkLWNpLWRlYnVnCgogICAgc2V0IC1lCgogICAgKHRpbWUgY21ha2UgLURDTUFLRV9CVUlMRF9UWVBFPURlYnVnIC4uICAgICApIDI+JjEgfCB0ZWUgLWEgJE9VVC8ke2NpfS1jbWFrZS5sb2cKICAgICh0aW1lIG1ha2UgLWogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAyPiYxIHwgdGVlIC1hICRPVVQvJHtjaX0tbWFrZS5sb2cKCiAgICAodGltZSBjdGVzdCAtLW91dHB1dC1vbi1mYWlsdXJlIC1FIHRlc3Qtb3B0ICkgMj4mMSB8IHRlZSAtYSAkT1VULyR7Y2l9LWN0ZXN0LmxvZwoKICAgIHNldCArZQp9CgpmdW5jdGlvbiBnZ19zdW1fY3Rlc3RfZGVidWcgewogICAgZ2dfcHJpbnRmICcjIyMgJXNcblxuJyAiJHtjaX0iCgogICAgZ2dfcHJpbnRmICdSdW5zIGN0ZXN0IGluIGRlYnVnIG1vZGVcbicKICAgIGdnX3ByaW50ZiAnLSBzdGF0dXM6ICVzXG4nICIkKGNhdCAkT1VULyR7Y2l9LmV4aXQpIgogICAgZ2dfcHJpbnRmICdgYGBcbicKICAgIGdnX3ByaW50ZiAnJXNcbicgIiQoY2F0ICRPVVQvJHtjaX0tY3Rlc3QubG9nKSIKICAgIGdnX3ByaW50ZiAnYGBgXG4nCiAgICBnZ19wcmludGYgJ1xuJwp9CgojIGN0ZXN0X3JlbGVhc2UKCmZ1bmN0aW9uIGdnX3J1bl9jdGVzdF9yZWxlYXNlIHsKICAgIGNkICR7U1JDfQoKICAgIHJtIC1yZiBidWlsZC1jaS1yZWxlYXNlICYmIG1rZGlyIGJ1aWxkLWNpLXJlbGVhc2UgJiYgY2QgYnVpbGQtY2ktcmVsZWFzZQoKICAgIHNldCAtZQoKICAgICh0aW1lIGNtYWtlIC1EQ01BS0VfQlVJTERfVFlQRT1SZWxlYXNlIC4uICAgKSAyPiYxIHwgdGVlIC1hICRPVVQvJHtjaX0tY21ha2UubG9nCiAgICAodGltZSBtYWtlIC1qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgMj4mMSB8IHRlZSAtYSAkT1VULyR7Y2l9LW1ha2UubG9nCgogICAgaWYgWyAteiAkR0dfQlVJTERfTE9XX1BFUkYgXTsgdGhlbgogICAgICAgICh0aW1lIGN0ZXN0IC0tb3V0cHV0LW9uLWZhaWx1cmUgKSAyPiYxIHwgdGVlIC1hICRPVVQvJHtjaX0tY3Rlc3QubG9nCiAgICBlbHNlCiAgICAgICAgKHRpbWUgY3Rlc3QgLS1vdXRwdXQtb24tZmFpbHVyZSAtRSB0ZXN0LW9wdCApIDI+JjEgfCB0ZWUgLWEgJE9VVC8ke2NpfS1jdGVzdC5sb2cKICAgIGZpCgogICAgc2V0ICtlCn0KCmZ1bmN0aW9uIGdnX3N1bV9jdGVzdF9yZWxlYXNlIHsKICAgIGdnX3ByaW50ZiAnIyMjICVzXG5cbicgIiR7Y2l9IgoKICAgIGdnX3ByaW50ZiAnUnVucyBjdGVzdCBpbiByZWxlYXNlIG1vZGVcbicKICAgIGdnX3ByaW50ZiAnLSBzdGF0dXM6ICVzXG4nICIkKGNhdCAkT1VULyR7Y2l9LmV4aXQpIgogICAgZ2dfcHJpbnRmICdgYGBcbicKICAgIGdnX3ByaW50ZiAnJXNcbicgIiQoY2F0ICRPVVQvJHtjaX0tY3Rlc3QubG9nKSIKICAgIGdnX3ByaW50ZiAnYGBgXG4nCn0KCiMgZ3B0XzIKCmZ1bmN0aW9uIGdnX3J1bl9ncHRfMiB7CiAgICBjZCAke1NSQ30KCiAgICBnZ193Z2V0IG1vZGVscy1tbnQvZ3B0LTIgaHR0cHM6Ly9odWdnaW5nZmFjZS5jby9nZ2VyZ2Fub3YvZ2dtbC9yZXNvbHZlL21haW4vZ2dtbC1tb2RlbC1ncHQtMi0xMTdNLmJpbgoKICAgIGNkIGJ1aWxkLWNpLXJlbGVhc2UKCiAgICBzZXQgLWUKCiAgICBtb2RlbD0iLi4vbW9kZWxzLW1udC9ncHQtMi9nZ21sLW1vZGVsLWdwdC0yLTExN00uYmluIgogICAgcHJvbXB0cz0iLi4vZXhhbXBsZXMvcHJvbXB0cy9ncHQtMi50eHQiCgogICAgKHRpbWUgLi9iaW4vZ3B0LTIgLS1tb2RlbCAke21vZGVsfSAtcyAxMjM0IC1uIDY0IC10dCAke3Byb21wdHN9ICAgICAgICAgICAgICAgICAgICAgICApIDI+JjEgfCB0ZWUgLWEgJE9VVC8ke2NpfS10Zy5sb2cKICAgICh0aW1lIC4vYmluL2dwdC0yIC0tbW9kZWwgJHttb2RlbH0gLXMgMTIzNCAtbiA2NCAtcCAiSSBiZWxpZXZlIHRoZSBtZWFuaW5nIG9mIGxpZmUgaXMiKSAyPiYxIHwgdGVlIC1hICRPVVQvJHtjaX0tdGcubG9nCgogICAgc2V0ICtlCn0KCmZ1bmN0aW9uIGdnX3N1bV9ncHRfMiB7CiAgICBnZ19wcmludGYgJyMjIyAlc1xuXG4nICIke2NpfSIKCiAgICBnZ19wcmludGYgJ1J1bnMgc2hvcnQgR1BULTIgdGV4dCBnZW5lcmF0aW9uXG4nCiAgICBnZ19wcmludGYgJy0gc3RhdHVzOiAlc1xuJyAiJChjYXQgJE9VVC8ke2NpfS5leGl0KSIKICAgIGdnX3ByaW50ZiAnYGBgXG4nCiAgICBnZ19wcmludGYgJyVzXG4nICIkKGNhdCAkT1VULyR7Y2l9LXRnLmxvZykiCiAgICBnZ19wcmludGYgJ2BgYFxuJwp9CgojIG1wdAoKZnVuY3Rpb24gZ2dfcnVuX21wdCB7CiAgICBjZCAke1NSQ30KCiAgICBnZ193Z2V0IG1vZGVscy1tbnQvbXB0LzdCLyBodHRwczovL2h1Z2dpbmdmYWNlLmNvL21vc2FpY21sL21wdC03Yi9yYXcvbWFpbi9jb25maWcuanNvbgogICAgZ2dfd2dldCBtb2RlbHMtbW50L21wdC83Qi8gaHR0cHM6Ly9odWdnaW5nZmFjZS5jby9tb3NhaWNtbC9tcHQtN2IvcmF3L21haW4vdG9rZW5pemVyLmpzb24KICAgIGdnX3dnZXQgbW9kZWxzLW1udC9tcHQvN0IvIGh0dHBzOi8vaHVnZ2luZ2ZhY2UuY28vbW9zYWljbWwvbXB0LTdiL3Jhdy9tYWluL3Rva2VuaXplcl9jb25maWcuanNvbgogICAgZ2dfd2dldCBtb2RlbHMtbW50L21wdC83Qi8gaHR0cHM6Ly9odWdnaW5nZmFjZS5jby9tb3NhaWNtbC9tcHQtN2IvcmF3L21haW4vcHl0b3JjaF9tb2RlbC5iaW4uaW5kZXguanNvbgogICAgZ2dfd2dldCBtb2RlbHMtbW50L21wdC83Qi8gaHR0cHM6Ly9odWdnaW5nZmFjZS5jby9tb3NhaWNtbC9tcHQtN2IvcmF3L21haW4vY29uZmlndXJhdGlvbl9tcHQucHkKICAgIGdnX3dnZXQgbW9kZWxzLW1udC9tcHQvN0IvIGh0dHBzOi8vaHVnZ2luZ2ZhY2UuY28vbW9zYWljbWwvbXB0LTdiL3Jlc29sdmUvbWFpbi9weXRvcmNoX21vZGVsLTAwMDAxLW9mLTAwMDAyLmJpbgogICAgZ2dfd2dldCBtb2RlbHMtbW50L21wdC83Qi8gaHR0cHM6Ly9odWdnaW5nZmFjZS5jby9tb3NhaWNtbC9tcHQtN2IvcmVzb2x2ZS9tYWluL3B5dG9yY2hfbW9kZWwtMDAwMDItb2YtMDAwMDIuYmluCgogICAgY2QgYnVpbGQtY2ktcmVsZWFzZQoKICAgIHNldCAtZQoKICAgIHBhdGhfbW9kZWxzPSIuLi9tb2RlbHMtbW50L21wdC83QiIKICAgIG1vZGVsX2YxNj0iJHtwYXRoX21vZGVsc30vZ2dtbC1tb2RlbC1mMTYuYmluIgogICAgbW9kZWxfcTRfMD0iJHtwYXRoX21vZGVsc30vZ2dtbC1tb2RlbC1xNF8wLmJpbiIKCiAgICBweXRob24zIC4uL2V4YW1wbGVzL21wdC9jb252ZXJ0LWg1LXRvLWdnbWwucHkgJHtwYXRoX21vZGVsc30gMQogICAgLi9iaW4vbXB0LXF1YW50aXplICR7bW9kZWxfZjE2fSAke21vZGVsX3E0XzB9IHE0XzAKCiAgICAodGltZSAuL2Jpbi9tcHQgLS1tb2RlbCAke21vZGVsX2YxNn0gIC1zIDEyMzQgLW4gNjQgLXAgIkkgYmVsaWV2ZSB0aGUgbWVhbmluZyBvZiBsaWZlIGlzIikgMj4mMSB8IHRlZSAtYSAkT1VULyR7Y2l9LXRnLmxvZwogICAgKHRpbWUgLi9iaW4vbXB0IC0tbW9kZWwgJHttb2RlbF9xNF8wfSAtcyAxMjM0IC1uIDY0IC1wICJJIGJlbGlldmUgdGhlIG1lYW5pbmcgb2YgbGlmZSBpcyIpIDI+JjEgfCB0ZWUgLWEgJE9VVC8ke2NpfS10Zy5sb2cKCiAgICBzZXQgK2UKfQoKZnVuY3Rpb24gZ2dfc3VtX21wdCB7CiAgICBnZ19wcmludGYgJyMjIyAlc1xuXG4nICIke2NpfSIKCiAgICBnZ19wcmludGYgJ1J1bnMgc2hvcnQgTVBUIHRleHQgZ2VuZXJhdGlvblxuJwogICAgZ2dfcHJpbnRmICctIHN0YXR1czogJXNcbicgIiQoY2F0ICRPVVQvJHtjaX0uZXhpdCkiCiAgICBnZ19wcmludGYgJ2BgYFxuJwogICAgZ2dfcHJpbnRmICclc1xuJyAiJChjYXQgJE9VVC8ke2NpfS10Zy5sb2cpIgogICAgZ2dfcHJpbnRmICdgYGBcbicKfQoKIyBtbmlzdAoKZnVuY3Rpb24gZ2dfcnVuX21uaXN0IHsKICAgIGNkICR7U1JDfQoKICAgIGNkIGJ1aWxkLWNpLXJlbGVhc2UKCiAgICBzZXQgLWUKCiAgICBta2RpciAtcCBtb2RlbHMvbW5pc3QKICAgIHB5dGhvbjMgLi4vZXhhbXBsZXMvbW5pc3QvY29udmVydC1oNS10by1nZ21sLnB5IC4uL2V4YW1wbGVzL21uaXN0L21vZGVscy9tbmlzdC9tbmlzdF9tb2RlbC5zdGF0ZV9kaWN0CgogICAgbW9kZWxfZjMyPSIuL21vZGVscy9tbmlzdC9nZ21sLW1vZGVsLWYzMi5iaW4iCiAgICBzYW1wbGVzPSIuLi9leGFtcGxlcy9tbmlzdC9tb2RlbHMvbW5pc3QvdDEway1pbWFnZXMuaWR4My11Ynl0ZSIKCiAgICAjIGZpcnN0IGNvbW1hbmQgcnVucyBhbmQgZXhwb3J0cyAibW5pc3QuZ2dtbCIsIHRoZSBzZWNvbmQgY29tbWFuZCBydW5zIHRoZSBleHBvcnRlZCBtb2RlbAoKICAgICh0aW1lIC4vYmluL21uaXN0ICAgICAke21vZGVsX2YzMn0gJHtzYW1wbGVzfSApIDI+JjEgfCB0ZWUgLWEgJE9VVC8ke2NpfS1tbmlzdC5sb2cKICAgICh0aW1lIC4vYmluL21uaXN0LWNwdSAuL21uaXN0LmdnbWwgJHtzYW1wbGVzfSApIDI+JjEgfCB0ZWUgLWEgJE9VVC8ke2NpfS1tbmlzdC5sb2cKCiAgICBzZXQgK2UKfQoKZnVuY3Rpb24gZ2dfc3VtX21uaXN0IHsKICAgIGdnX3ByaW50ZiAnIyMjICVzXG5cbicgIiR7Y2l9IgoKICAgIGdnX3ByaW50ZiAnTU5JU1RcbicKICAgIGdnX3ByaW50ZiAnLSBzdGF0dXM6ICVzXG4nICIkKGNhdCAkT1VULyR7Y2l9LmV4aXQpIgogICAgZ2dfcHJpbnRmICdgYGBcbicKICAgIGdnX3ByaW50ZiAnJXNcbicgIiQoY2F0ICRPVVQvJHtjaX0tbW5pc3QubG9nKSIKICAgIGdnX3ByaW50ZiAnYGBgXG4nCn0KCiMjIG1haW4KCmlmIFsgLXogJEdHX0JVSUxEX0xPV19QRVJGIF07IHRoZW4KICAgIHJtIC1yZiAke1NSQ30vbW9kZWxzLW1udAoKICAgIG1udF9tb2RlbHM9JHtNTlR9L21vZGVscwogICAgbWtkaXIgLXAgJHttbnRfbW9kZWxzfQogICAgbG4gLXNmbiAke21udF9tb2RlbHN9ICR7U1JDfS9tb2RlbHMtbW50CmZpCgpweXRob24zIC1tIHBpcCBpbnN0YWxsIC1yICR7U1JDfS9yZXF1aXJlbWVudHMudHh0CgpyZXQ9MAoKdGVzdCAkcmV0IC1lcSAwICYmIGdnX3J1biBjdGVzdF9kZWJ1Zwp0ZXN0ICRyZXQgLWVxIDAgJiYgZ2dfcnVuIGN0ZXN0X3JlbGVhc2UKdGVzdCAkcmV0IC1lcSAwICYmIGdnX3J1biBncHRfMgp0ZXN0ICRyZXQgLWVxIDAgJiYgZ2dfcnVuIG1uaXN0CgppZiBbIC16ICRHR19CVUlMRF9MT1dfUEVSRiBdOyB0aGVuCiAgICB0ZXN0ICRyZXQgLWVxIDAgJiYgZ2dfcnVuIG1wdApmaQoKZXhpdCAkcmV0Cg=='),
    ('seamless/ggml/examples/python/example_test_all_quants.py', 'ZnJvbSBnZ21sIGltcG9ydCBmZmksIGxpYgpmcm9tIGdnbWwudXRpbHMgaW1wb3J0IGluaXQsIG51bXB5LCBjb3B5CmltcG9ydCBudW1weSBhcyBucApmcm9tIG1hdGggaW1wb3J0IHBpLCBjb3MsIHNpbiwgY2VpbAoKaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdAoKY3R4ID0gaW5pdChtZW1fc2l6ZT0xMDAqMTAyNCoxMDI0KSAjIFdpbGwgYmUgYXV0by1HQydkCm4gPSAyNTYKCm9yaWcgPSBucC5hcnJheShbCiAgICBbCiAgICAgICAgY29zKGogKiAyICogcGkgLyBuKSAqIChzaW4oaSAqIDIgKiBwaSAvIG4pKQogICAgICAgIGZvciBqIGluIHJhbmdlKG4pCiAgICBdCiAgICBmb3IgaSBpbiByYW5nZShuKQpdLCBucC5mbG9hdDMyKQpvcmlnX3RlbnNvciA9IGxpYi5nZ21sX25ld190ZW5zb3JfMmQoY3R4LCBsaWIuR0dNTF9UWVBFX0YzMiwgbiwgbikKY29weShvcmlnLCBvcmlnX3RlbnNvcikKCnF1YW50cyA9IFsKICAgIHR5cGUgZm9yIHR5cGUgaW4gcmFuZ2UobGliLkdHTUxfVFlQRV9DT1VOVCkKICAgIGlmIGxpYi5nZ21sX2lzX3F1YW50aXplZCh0eXBlKSBhbmQKICAgICAgIHR5cGUgbm90IGluIFtsaWIuR0dNTF9UWVBFX1E4XzEsIGxpYi5HR01MX1RZUEVfUThfS10gIyBBcHBhcmVudGx5IG5vdCBzdXBwb3J0ZWQKXQojIHF1YW50cyA9IFtsaWIuR0dNTF9UWVBFX1EyX0tdICPCoFRlc3QgYSBzaW5nbGUgb25lCgpkZWYgZ2V0X25hbWUodHlwZSk6CiAgICBuYW1lID0gbGliLmdnbWxfdHlwZV9uYW1lKHR5cGUpCiAgICByZXR1cm4gZmZpLnN0cmluZyhuYW1lKS5kZWNvZGUoJ3V0Zi04JykgaWYgbmFtZSBlbHNlICc/JwoKcXVhbnRzLnNvcnQoa2V5PWdldF9uYW1lKQpxdWFudHMuaW5zZXJ0KDAsIE5vbmUpCnByaW50KHF1YW50cykKCm5jb2xzPTQKbnJvd3MgPSBjZWlsKGxlbihxdWFudHMpIC8gbmNvbHMpCgpwbHQuZmlndXJlKGZpZ3NpemU9KG5jb2xzICogNSwgbnJvd3MgKiA1KSwgbGF5b3V0PSd0aWdodCcpCgpmb3IgaSwgdHlwZSBpbiBlbnVtZXJhdGUocXVhbnRzKToKICAgIHBsdC5zdWJwbG90KG5yb3dzLCBuY29scywgaSArIDEpCiAgICB0cnk6CiAgICAgICAgaWYgdHlwZSA9PSBOb25lOgogICAgICAgICAgICBwbHQudGl0bGUoJ09yaWdpbmFsJykKICAgICAgICAgICAgcGx0Lmltc2hvdyhvcmlnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHF1YW50aXplZF90ZW5zb3IgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgdHlwZSwgbiwgbikKICAgICAgICAgICAgY29weShvcmlnX3RlbnNvciwgcXVhbnRpemVkX3RlbnNvcikKICAgICAgICAgICAgcXVhbnRpemVkID0gbnVtcHkocXVhbnRpemVkX3RlbnNvciwgYWxsb3dfY29weT1UcnVlKQogICAgICAgICAgICBkID0gcXVhbnRpemVkIC0gb3JpZwogICAgICAgICAgICByZXN1bHRzID0gewogICAgICAgICAgICAgICAgImwyIjogbnAubGluYWxnLm5vcm0oZCwgMiksCiAgICAgICAgICAgICAgICAibGluZiI6IG5wLmxpbmFsZy5ub3JtKGQsIG5wLmluZiksCiAgICAgICAgICAgICAgICAiY29tcHJlc3Npb24iOgogICAgICAgICAgICAgICAgICAgIHJvdW5kKGxpYi5nZ21sX25ieXRlcyhvcmlnX3RlbnNvcikgLwogICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi5nZ21sX25ieXRlcyhxdWFudGl6ZWRfdGVuc29yKSwgMSkKICAgICAgICAgICAgfQogICAgICAgICAgICBuYW1lID0gZ2V0X25hbWUodHlwZSkKICAgICAgICAgICAgcHJpbnQoZid7bmFtZX06IHtyZXN1bHRzfScpCgogICAgICAgICAgICBwbHQudGl0bGUoZid7bmFtZX0gKHtyZXN1bHRzWyJjb21wcmVzc2lvbiJdfXggc21hbGxlciknKQogICAgICAgICAgICBwbHQuaW1zaG93KHF1YW50aXplZCwgaW50ZXJwb2xhdGlvbj0nbmVhcmVzdCcpCiAgICAgICAgCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZidFcnJvcjoge2V9JykKCnBsdC5zaG93KCk='),
    ('seamless/ggml/examples/python/regenerate.py', 'IyBHZW5lcmF0ZXMgYmluZGluZ3MgZm9yIHRoZSBnZ21sIGxpYnJhcnkuCiMKIyBjZmZpIHJlcXVpcmVzIHByaW9yIEMgcHJlcHJvY2Vzc2luZyBvZiB0aGUgaGVhZGVycywgYW5kIGl0IHVzZXMgcHljcGFyc2VyIHdoaWNoIGNob2tlcyBvbiBhIGNvdXBsZSBvZiB0aGluZ3MKIyBzbyB3ZSBoZWxwIGl0IGEgYml0IChlLmcuIHJlcGxhY2Ugc2l6ZW9mIGV4cHJlc3Npb25zIHdpdGggdGhlaXIgdmFsdWUsIHJlbW92ZSBleG90aWMgc3ludGF4IGZvdW5kIGluIERhcndpbiBoZWFkZXJzKS4KaW1wb3J0IG9zLCBzeXMsIHJlLCBzdWJwcm9jZXNzCmltcG9ydCBjZmZpCmZyb20gc3R1YnMgaW1wb3J0IGdlbmVyYXRlX3N0dWJzCgpBUEkgPSBvcy5lbnZpcm9uLmdldCgnQVBJJywgJ2FwaS5oJykKQ0MgPSBvcy5lbnZpcm9uLmdldCgnQ0MnKSBvciAnZ2NjJwpDX0lOQ0xVREVfRElSID0gb3MuZW52aXJvbi5nZXQoJ0NfSU5DTFVERV9ESVInLCAnLi4vLi4vLi4vbGxhbWEuY3BwJykKQ1BQRkxBR1MgPSBbCiAgICAiLUkiLCBDX0lOQ0xVREVfRElSLAogICAgJy1EX19mcDE2PXVpbnQxNl90JywgICMgcHljcGFyc2VyIGRvZXNuJ3Qgc3VwcG9ydCBfX2ZwMTYKICAgICctRF9fYXR0cmlidXRlX18oeCk9JywKICAgICctRF9TdGF0aWNfYXNzZXJ0KHgsIG0pPScsCl0gKyBbeCBmb3IgeCBpbiBvcy5lbnZpcm9uLmdldCgnQ1BQRkxBR1MnLCAnJykuc3BsaXQoJyAnKSBpZiB4ICE9ICcnXQoKdHJ5OiBoZWFkZXIgPSBzdWJwcm9jZXNzLnJ1bihbQ0MsICItRSIsICpDUFBGTEFHUywgQVBJXSwgY2FwdHVyZV9vdXRwdXQ9VHJ1ZSwgdGV4dD1UcnVlLCBjaGVjaz1UcnVlKS5zdGRvdXQKZXhjZXB0IHN1YnByb2Nlc3MuQ2FsbGVkUHJvY2Vzc0Vycm9yIGFzIGU6IHByaW50KGYne2Uuc3RkZXJyfVxue2V9JywgZmlsZT1zeXMuc3RkZXJyKTsgcmFpc2UKCmhlYWRlciA9ICdcbicuam9pbihbbCBmb3IgbCBpbiBoZWFkZXIuc3BsaXQoJ1xuJykgaWYgJ19fZGFyd2luX3ZhX2xpc3QnIG5vdCBpbiBsXSkgIyBweWNwYXJzZXIgaGF0ZXMgdGhpcwoKIyBSZXBsYWNlIGNvbnN0YW50IHNpemUgZXhwcmVzc2lvbnMgdy8gdGhlaXIgdmFsdWUgKGNvbXBpbGUgJiBydW4gYSBtaW5pIGV4ZSBmb3IgZWFjaCwgYmVjYXVzZSB3aHkgbm90KS4KIyBGaXJzdCwgZXh0cmFjdCBhbnl0aW5nICppbnNpZGUqIHNxdWFyZSBicmFja2V0cyBhbmQgYW55dGhpbmcgdGhhdCBsb29rcyBsaWtlIGEgc2l6ZW9mIGNhbGwuCmZvciBleHByIGluIHNldChyZS5maW5kYWxsKGYnKD88PVxcWylbXlxcXV0rKD89XSl8c2l6ZW9mXFxzKlxcKFteKCldK1xcKScsIGhlYWRlcikpOgogICAgaWYgcmUubWF0Y2gocideKFxkK3xccyopJCcsIGV4cHIpOiBjb250aW51ZSAjIHNraXAgY29uc3RhbnRzIGFuZCBlbXB0eSBicmFja2V0IGNvbnRlbnRzCiAgICBzdWJwcm9jZXNzLnJ1bihbQ0MsICItbyIsICJldmFsX3NpemVfZXhwciIsICpDUFBGTEFHUywgIi14IiwgImMiLCAiLSJdLCB0ZXh0PVRydWUsIGNoZWNrPVRydWUsCiAgICAgICAgICAgICAgICAgICBpbnB1dD1mJycnI2luY2x1ZGUgPHN0ZGlvLmg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2luY2x1ZGUgIntBUEl9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBtYWluKCkge3sgcHJpbnRmKCIlbHUiLCAoc2l6ZV90KSh7ZXhwcn0pKTsgfX0nJycpCiAgICBzaXplID0gc3VicHJvY2Vzcy5ydW4oWyIuL2V2YWxfc2l6ZV9leHByIl0sIGNhcHR1cmVfb3V0cHV0PVRydWUsIHRleHQ9VHJ1ZSwgY2hlY2s9VHJ1ZSkuc3Rkb3V0CiAgICBwcmludChmJ0NvbXB1dGVkIGNvbnN0ZXhwciB7ZXhwcn0gPSB7c2l6ZX0nKQogICAgaGVhZGVyID0gaGVhZGVyLnJlcGxhY2UoZXhwciwgc2l6ZSkKCmZmaWJ1aWxkZXIgPSBjZmZpLkZGSSgpCmZmaWJ1aWxkZXIuY2RlZihoZWFkZXIpCmZmaWJ1aWxkZXIuc2V0X3NvdXJjZShmJ2dnbWwuY2ZmaScsIE5vbmUpICMgd2UncmUgbm90IGNvbXBpbGluZyBhIG5hdGl2ZSBleHRlbnNpb24sIGFzIHRoaXMgcXVpY2tseSBnZXRzIGhhaXJ5CmZmaWJ1aWxkZXIuY29tcGlsZSh2ZXJib3NlPVRydWUpCgp3aXRoIG9wZW4oImdnbWwvX19pbml0X18ucHlpIiwgInd0IikgYXMgZjoKICAgIGYud3JpdGUoZ2VuZXJhdGVfc3R1YnMoaGVhZGVyKSk='),
    ('seamless/ggml/examples/python/test_tensor.py', 'aW1wb3J0IHB5dGVzdApmcm9tIHB5dGVzdCBpbXBvcnQgcmFpc2VzCgpmcm9tIGdnbWwgaW1wb3J0IGxpYiwgZmZpCmZyb20gZ2dtbC51dGlscyBpbXBvcnQgaW5pdCwgY29weSwgbnVtcHkKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBudW1weS50ZXN0aW5nIGFzIG5wdAoKQHB5dGVzdC5maXh0dXJlKCkKZGVmIGN0eCgpOgogICAgcHJpbnQoInNldHVwIikKICAgIHlpZWxkIGluaXQobWVtX3NpemU9MTAqMTAyNCoxMDI0KQogICAgcHJpbnQoInRlYXJkb3duIikKCmNsYXNzIFRlc3ROdW1QeToKICAgIAogICAgIyBTaW5nbGUgZWxlbWVudAoKICAgIGRlZiB0ZXN0X3NldF9nZXRfc2luZ2xlX2kzMihzZWxmLCBjdHgpOgogICAgICAgIGkgPSBsaWIuZ2dtbF9uZXdfaTMyKGN0eCwgNDIpCiAgICAgICAgYXNzZXJ0IGxpYi5nZ21sX2dldF9pMzJfMWQoaSwgMCkgPT0gNDIKICAgICAgICBhc3NlcnQgbnVtcHkoaSkgPT0gbnAuYXJyYXkoWzQyXSwgZHR5cGU9bnAuaW50MzIpCgogICAgZGVmIHRlc3Rfc2V0X2dldF9zaW5nbGVfZjMyKHNlbGYsIGN0eCk6CiAgICAgICAgaSA9IGxpYi5nZ21sX25ld19mMzIoY3R4LCA0LjIpCiAgICAgICAgCiAgICAgICAgZXBzaWxvbiA9IDAuMDAwMDAxICMgTm90IHN1cmUgd2h5IHNvIGxhcmdlIGEgZGlmZmVyZW5jZT8/CiAgICAgICAgcHl0ZXN0LmFwcHJveChsaWIuZ2dtbF9nZXRfZjMyXzFkKGksIDApLCA0LjIsIGVwc2lsb24pCiAgICAgICAgcHl0ZXN0LmFwcHJveChudW1weShpKSwgbnAuYXJyYXkoWzQuMl0sIGR0eXBlPW5wLmZsb2F0MzIpLCBlcHNpbG9uKQoKICAgIGRlZiBfdGVzdF9jb3B5X25wX3RvX2dnbWwoc2VsZiwgYTogbnAubmRhcnJheSwgdDogZmZpLkNEYXRhKToKICAgICAgICBhMiA9IGEuY29weSgpICMgQ2xvbmUgb3JpZ2luYWwKICAgICAgICBjb3B5KGEsIHQpCiAgICAgICAgbnB0LmFzc2VydF9hcnJheV9lcXVhbChudW1weSh0KSwgYTIpCgogICAgIyBJMzIKCiAgICBkZWYgdGVzdF9jb3B5X25wX3RvX2dnbWxfMWRfaTMyKHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBsaWIuR0dNTF9UWVBFX0kzMiwgMTApCiAgICAgICAgYSA9IG5wLmFyYW5nZSgxMCwgZHR5cGU9bnAuaW50MzIpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICBkZWYgdGVzdF9jb3B5X25wX3RvX2dnbWxfMmRfaTMyKHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfMmQoY3R4LCBsaWIuR0dNTF9UWVBFX0kzMiwgMiwgMykKICAgICAgICBhID0gbnAuYXJhbmdlKDIgKiAzLCBkdHlwZT1ucC5pbnQzMikucmVzaGFwZSgoMiwgMykpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICBkZWYgdGVzdF9jb3B5X25wX3RvX2dnbWxfM2RfaTMyKHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfM2QoY3R4LCBsaWIuR0dNTF9UWVBFX0kzMiwgMiwgMywgNCkKICAgICAgICBhID0gbnAuYXJhbmdlKDIgKiAzICogNCwgZHR5cGU9bnAuaW50MzIpLnJlc2hhcGUoKDIsIDMsIDQpKQogICAgICAgIHNlbGYuX3Rlc3RfY29weV9ucF90b19nZ21sKGEsIHQpCgogICAgZGVmIHRlc3RfY29weV9ucF90b19nZ21sXzRkX2kzMihzZWxmLCBjdHgpOgogICAgICAgIHQgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzRkKGN0eCwgbGliLkdHTUxfVFlQRV9JMzIsIDIsIDMsIDQsIDUpCiAgICAgICAgYSA9IG5wLmFyYW5nZSgyICogMyAqIDQgKiA1LCBkdHlwZT1ucC5pbnQzMikucmVzaGFwZSgoMiwgMywgNCwgNSkpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICBkZWYgdGVzdF9jb3B5X25wX3RvX2dnbWxfNGRfbl9pMzIoc2VsZiwgY3R4KToKICAgICAgICBkaW1zID0gWzIsIDMsIDQsIDVdICMgR0dNTF9NQVhfRElNUyBpcyA0LCBnb2luZyBiZXlvbmQgd291bGQgY3Jhc2gKICAgICAgICBwZGltcyA9IGZmaS5uZXcoJ2ludDY0X3RbXScsIGxlbihkaW1zKSkKICAgICAgICBmb3IgaSwgZCBpbiBlbnVtZXJhdGUoZGltcyk6IHBkaW1zW2ldID0gZAogICAgICAgIHQgPSBsaWIuZ2dtbF9uZXdfdGVuc29yKGN0eCwgbGliLkdHTUxfVFlQRV9JMzIsIGxlbihkaW1zKSwgcGRpbXMpCiAgICAgICAgYSA9IG5wLmFyYW5nZShucC5wcm9kKGRpbXMpLCBkdHlwZT1ucC5pbnQzMikucmVzaGFwZSh0dXBsZShwZGltcykpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICAjIEYzMgoKICAgIGRlZiB0ZXN0X2NvcHlfbnBfdG9fZ2dtbF8xZF9mMzIoc2VsZiwgY3R4KToKICAgICAgICB0ID0gbGliLmdnbWxfbmV3X3RlbnNvcl8xZChjdHgsIGxpYi5HR01MX1RZUEVfRjMyLCAxMCkKICAgICAgICBhID0gbnAuYXJhbmdlKDEwLCBkdHlwZT1ucC5mbG9hdDMyKQogICAgICAgIHNlbGYuX3Rlc3RfY29weV9ucF90b19nZ21sKGEsIHQpCgogICAgZGVmIHRlc3RfY29weV9ucF90b19nZ21sXzJkX2YzMihzZWxmLCBjdHgpOgogICAgICAgIHQgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgbGliLkdHTUxfVFlQRV9GMzIsIDIsIDMpCiAgICAgICAgYSA9IG5wLmFyYW5nZSgyICogMywgZHR5cGU9bnAuZmxvYXQzMikucmVzaGFwZSgoMiwgMykpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICBkZWYgdGVzdF9jb3B5X25wX3RvX2dnbWxfM2RfZjMyKHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfM2QoY3R4LCBsaWIuR0dNTF9UWVBFX0YzMiwgMiwgMywgNCkKICAgICAgICBhID0gbnAuYXJhbmdlKDIgKiAzICogNCwgZHR5cGU9bnAuZmxvYXQzMikucmVzaGFwZSgoMiwgMywgNCkpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICBkZWYgdGVzdF9jb3B5X25wX3RvX2dnbWxfNGRfZjMyKHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfNGQoY3R4LCBsaWIuR0dNTF9UWVBFX0YzMiwgMiwgMywgNCwgNSkKICAgICAgICBhID0gbnAuYXJhbmdlKDIgKiAzICogNCAqIDUsIGR0eXBlPW5wLmZsb2F0MzIpLnJlc2hhcGUoKDIsIDMsIDQsIDUpKQogICAgICAgIHNlbGYuX3Rlc3RfY29weV9ucF90b19nZ21sKGEsIHQpCgogICAgZGVmIHRlc3RfY29weV9ucF90b19nZ21sXzRkX25fZjMyKHNlbGYsIGN0eCk6CiAgICAgICAgZGltcyA9IFsyLCAzLCA0LCA1XSAjIEdHTUxfTUFYX0RJTVMgaXMgNCwgZ29pbmcgYmV5b25kIHdvdWxkIGNyYXNoCiAgICAgICAgcGRpbXMgPSBmZmkubmV3KCdpbnQ2NF90W10nLCBsZW4oZGltcykpCiAgICAgICAgZm9yIGksIGQgaW4gZW51bWVyYXRlKGRpbXMpOiBwZGltc1tpXSA9IGQKICAgICAgICB0ID0gbGliLmdnbWxfbmV3X3RlbnNvcihjdHgsIGxpYi5HR01MX1RZUEVfRjMyLCBsZW4oZGltcyksIHBkaW1zKQogICAgICAgIGEgPSBucC5hcmFuZ2UobnAucHJvZChkaW1zKSwgZHR5cGU9bnAuZmxvYXQzMikucmVzaGFwZSh0dXBsZShwZGltcykpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICAjIEYxNgoKICAgIGRlZiB0ZXN0X2NvcHlfbnBfdG9fZ2dtbF8xZF9mMTYoc2VsZiwgY3R4KToKICAgICAgICB0ID0gbGliLmdnbWxfbmV3X3RlbnNvcl8xZChjdHgsIGxpYi5HR01MX1RZUEVfRjE2LCAxMCkKICAgICAgICBhID0gbnAuYXJhbmdlKDEwLCBkdHlwZT1ucC5mbG9hdDE2KQogICAgICAgIHNlbGYuX3Rlc3RfY29weV9ucF90b19nZ21sKGEsIHQpCgogICAgZGVmIHRlc3RfY29weV9ucF90b19nZ21sXzJkX2YxNihzZWxmLCBjdHgpOgogICAgICAgIHQgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgbGliLkdHTUxfVFlQRV9GMTYsIDIsIDMpCiAgICAgICAgYSA9IG5wLmFyYW5nZSgyICogMywgZHR5cGU9bnAuZmxvYXQxNikucmVzaGFwZSgoMiwgMykpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICBkZWYgdGVzdF9jb3B5X25wX3RvX2dnbWxfM2RfZjE2KHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfM2QoY3R4LCBsaWIuR0dNTF9UWVBFX0YxNiwgMiwgMywgNCkKICAgICAgICBhID0gbnAuYXJhbmdlKDIgKiAzICogNCwgZHR5cGU9bnAuZmxvYXQxNikucmVzaGFwZSgoMiwgMywgNCkpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICBkZWYgdGVzdF9jb3B5X25wX3RvX2dnbWxfNGRfZjE2KHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfNGQoY3R4LCBsaWIuR0dNTF9UWVBFX0YxNiwgMiwgMywgNCwgNSkKICAgICAgICBhID0gbnAuYXJhbmdlKDIgKiAzICogNCAqIDUsIGR0eXBlPW5wLmZsb2F0MTYpLnJlc2hhcGUoKDIsIDMsIDQsIDUpKQogICAgICAgIHNlbGYuX3Rlc3RfY29weV9ucF90b19nZ21sKGEsIHQpCgogICAgZGVmIHRlc3RfY29weV9ucF90b19nZ21sXzRkX25fZjE2KHNlbGYsIGN0eCk6CiAgICAgICAgZGltcyA9IFsyLCAzLCA0LCA1XSAjIEdHTUxfTUFYX0RJTVMgaXMgNCwgZ29pbmcgYmV5b25kIHdvdWxkIGNyYXNoCiAgICAgICAgcGRpbXMgPSBmZmkubmV3KCdpbnQ2NF90W10nLCBsZW4oZGltcykpCiAgICAgICAgZm9yIGksIGQgaW4gZW51bWVyYXRlKGRpbXMpOiBwZGltc1tpXSA9IGQKICAgICAgICB0ID0gbGliLmdnbWxfbmV3X3RlbnNvcihjdHgsIGxpYi5HR01MX1RZUEVfRjE2LCBsZW4oZGltcyksIHBkaW1zKQogICAgICAgIGEgPSBucC5hcmFuZ2UobnAucHJvZChkaW1zKSwgZHR5cGU9bnAuZmxvYXQxNikucmVzaGFwZSh0dXBsZShwZGltcykpCiAgICAgICAgc2VsZi5fdGVzdF9jb3B5X25wX3RvX2dnbWwoYSwgdCkKCiAgICAjIE1pc21hdGNoaW5nIHNoYXBlcwoKICAgIGRlZiB0ZXN0X2NvcHlfbWlzbWF0Y2hpbmdfc2hhcGVzXzFkKHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBsaWIuR0dNTF9UWVBFX0YzMiwgMTApCiAgICAgICAgYSA9IG5wLmFyYW5nZSgxMCwgZHR5cGU9bnAuZmxvYXQzMikKICAgICAgICBjb3B5KGEsIHQpICMgT0sKICAgICAgICAKICAgICAgICBhID0gYS5yZXNoYXBlKCg1LCAyKSkKICAgICAgICB3aXRoIHJhaXNlcyhBc3NlcnRpb25FcnJvcik6IGNvcHkoYSwgdCkKICAgICAgICB3aXRoIHJhaXNlcyhBc3NlcnRpb25FcnJvcik6IGNvcHkodCwgYSkKICAgICAgICAgICAgCiAgICBkZWYgdGVzdF9jb3B5X21pc21hdGNoaW5nX3NoYXBlc18yZChzZWxmLCBjdHgpOgogICAgICAgIHQgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzJkKGN0eCwgbGliLkdHTUxfVFlQRV9GMzIsIDIsIDMpCiAgICAgICAgYSA9IG5wLmFyYW5nZSg2LCBkdHlwZT1ucC5mbG9hdDMyKQogICAgICAgIGNvcHkoYS5yZXNoYXBlKCgyLCAzKSksIHQpICMgT0sKICAgICAgICAKICAgICAgICBhID0gYS5yZXNoYXBlKCgzLCAyKSkKICAgICAgICB3aXRoIHJhaXNlcyhBc3NlcnRpb25FcnJvcik6IGNvcHkoYSwgdCkKICAgICAgICB3aXRoIHJhaXNlcyhBc3NlcnRpb25FcnJvcik6IGNvcHkodCwgYSkKCiAgICBkZWYgdGVzdF9jb3B5X21pc21hdGNoaW5nX3NoYXBlc18zZChzZWxmLCBjdHgpOgogICAgICAgIHQgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzNkKGN0eCwgbGliLkdHTUxfVFlQRV9GMzIsIDIsIDMsIDQpCiAgICAgICAgYSA9IG5wLmFyYW5nZSgyNCwgZHR5cGU9bnAuZmxvYXQzMikKICAgICAgICBjb3B5KGEucmVzaGFwZSgoMiwgMywgNCkpLCB0KSAjIE9LCiAgICAgICAgCiAgICAgICAgYSA9IGEucmVzaGFwZSgoMiwgNCwgMykpCiAgICAgICAgd2l0aCByYWlzZXMoQXNzZXJ0aW9uRXJyb3IpOiBjb3B5KGEsIHQpCiAgICAgICAgd2l0aCByYWlzZXMoQXNzZXJ0aW9uRXJyb3IpOiBjb3B5KHQsIGEpCgogICAgZGVmIHRlc3RfY29weV9taXNtYXRjaGluZ19zaGFwZXNfNGQoc2VsZiwgY3R4KToKICAgICAgICB0ID0gbGliLmdnbWxfbmV3X3RlbnNvcl80ZChjdHgsIGxpYi5HR01MX1RZUEVfRjMyLCAyLCAzLCA0LCA1KQogICAgICAgIGEgPSBucC5hcmFuZ2UoMjQqNSwgZHR5cGU9bnAuZmxvYXQzMikKICAgICAgICBjb3B5KGEucmVzaGFwZSgoMiwgMywgNCwgNSkpLCB0KSAjIE9LCiAgICAgICAgCiAgICAgICAgYSA9IGEucmVzaGFwZSgoMiwgMywgNSwgNCkpCiAgICAgICAgd2l0aCByYWlzZXMoQXNzZXJ0aW9uRXJyb3IpOiBjb3B5KGEsIHQpCiAgICAgICAgd2l0aCByYWlzZXMoQXNzZXJ0aW9uRXJyb3IpOiBjb3B5KHQsIGEpCgogICAgZGVmIHRlc3RfY29weV9mMTZfdG9fZjMyKHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBsaWIuR0dNTF9UWVBFX0YzMiwgMSkKICAgICAgICBhID0gbnAuYXJyYXkoWzEyMy40NV0sIGR0eXBlPW5wLmZsb2F0MTYpCiAgICAgICAgY29weShhLCB0KQogICAgICAgIG5wLnRlc3RpbmcuYXNzZXJ0X2FsbGNsb3NlKGxpYi5nZ21sX2dldF9mMzJfMWQodCwgMCksIDEyMy40NSwgcnRvbD0xZS0zKQoKICAgIGRlZiB0ZXN0X2NvcHlfZjMyX3RvX2YxNihzZWxmLCBjdHgpOgogICAgICAgIHQgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzFkKGN0eCwgbGliLkdHTUxfVFlQRV9GMTYsIDEpCiAgICAgICAgYSA9IG5wLmFycmF5KFsxMjMuNDVdLCBkdHlwZT1ucC5mbG9hdDMyKQogICAgICAgIGNvcHkoYSwgdCkKICAgICAgICBucC50ZXN0aW5nLmFzc2VydF9hbGxjbG9zZShsaWIuZ2dtbF9nZXRfZjMyXzFkKHQsIDApLCAxMjMuNDUsIHJ0b2w9MWUtMykKCiAgICBkZWYgdGVzdF9jb3B5X2YxNl90b19RNV9LKHNlbGYsIGN0eCk6CiAgICAgICAgbiA9IDI1NgogICAgICAgIHQgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzFkKGN0eCwgbGliLkdHTUxfVFlQRV9RNV9LLCBuKQogICAgICAgIGEgPSBucC5hcmFuZ2UobiwgZHR5cGU9bnAuZmxvYXQxNikKICAgICAgICBjb3B5KGEsIHQpCiAgICAgICAgbnAudGVzdGluZy5hc3NlcnRfYWxsY2xvc2UoYSwgbnVtcHkodCwgYWxsb3dfY29weT1UcnVlKSwgcnRvbD0wLjA1KQoKICAgIGRlZiB0ZXN0X2NvcHlfUTVfS190b19mMTYoc2VsZiwgY3R4KToKICAgICAgICBuID0gMjU2CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBsaWIuR0dNTF9UWVBFX1E1X0ssIG4pCiAgICAgICAgY29weShucC5hcmFuZ2UobiwgZHR5cGU9bnAuZmxvYXQzMiksIHQpCiAgICAgICAgYSA9IG5wLmFyYW5nZShuLCBkdHlwZT1ucC5mbG9hdDE2KQogICAgICAgIGNvcHkodCwgYSkKICAgICAgICBucC50ZXN0aW5nLmFzc2VydF9hbGxjbG9zZShhLCBudW1weSh0LCBhbGxvd19jb3B5PVRydWUpLCBydG9sPTAuMDUpCgogICAgZGVmIHRlc3RfY29weV9pMTZfZjMyX21pc21hdGNoaW5nX3R5cGVzKHNlbGYsIGN0eCk6CiAgICAgICAgdCA9IGxpYi5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBsaWIuR0dNTF9UWVBFX0YzMiwgMSkKICAgICAgICBhID0gbnAuYXJhbmdlKDEsIGR0eXBlPW5wLmludDE2KQogICAgICAgIHdpdGggcmFpc2VzKE5vdEltcGxlbWVudGVkRXJyb3IpOiBjb3B5KGEsIHQpCiAgICAgICAgd2l0aCByYWlzZXMoTm90SW1wbGVtZW50ZWRFcnJvcik6IGNvcHkodCwgYSkKCmNsYXNzIFRlc3RUZW5zb3JDb3B5OgoKICAgIGRlZiB0ZXN0X2NvcHlfc2VsZihzZWxmLCBjdHgpOgogICAgICAgIHQgPSBsaWIuZ2dtbF9uZXdfaTMyKGN0eCwgNDIpCiAgICAgICAgY29weSh0LCB0KQogICAgICAgIGFzc2VydCBsaWIuZ2dtbF9nZXRfaTMyXzFkKHQsIDApID09IDQyCgogICAgZGVmIHRlc3RfY29weV8xZChzZWxmLCBjdHgpOgogICAgICAgIHQxID0gbGliLmdnbWxfbmV3X3RlbnNvcl8xZChjdHgsIGxpYi5HR01MX1RZUEVfRjMyLCAxMCkKICAgICAgICB0MiA9IGxpYi5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBsaWIuR0dNTF9UWVBFX0YzMiwgMTApCiAgICAgICAgYSA9IG5wLmFyYW5nZSgxMCwgZHR5cGU9bnAuZmxvYXQzMikKICAgICAgICBjb3B5KGEsIHQxKQogICAgICAgIGNvcHkodDEsIHQyKQogICAgICAgIGFzc2VydCBucC5hbGxjbG9zZShhLCBudW1weSh0MikpCiAgICAgICAgYXNzZXJ0IG5wLmFsbGNsb3NlKG51bXB5KHQxKSwgbnVtcHkodDIpKQoKY2xhc3MgVGVzdEdyYXBoOgoKICAgIGRlZiB0ZXN0X2FkZChzZWxmLCBjdHgpOgogICAgICAgIG4gPSAyNTYKICAgICAgICB0YSA9IGxpYi5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBsaWIuR0dNTF9UWVBFX0YzMiwgbikKICAgICAgICB0YiA9IGxpYi5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBsaWIuR0dNTF9UWVBFX0YzMiwgbikKICAgICAgICB0c3VtID0gbGliLmdnbWxfYWRkKGN0eCwgdGEsIHRiKQogICAgICAgIGFzc2VydCB0c3VtLnR5cGUgPT0gbGliLkdHTUxfVFlQRV9GMzIKCiAgICAgICAgZ2YgPSBmZmkubmV3KCdzdHJ1Y3QgZ2dtbF9jZ3JhcGgqJykKICAgICAgICBsaWIuZ2dtbF9idWlsZF9mb3J3YXJkX2V4cGFuZChnZiwgdHN1bSkKCiAgICAgICAgYSA9IG5wLmFyYW5nZSgwLCBuLCBkdHlwZT1ucC5mbG9hdDMyKQogICAgICAgIGIgPSBucC5hcmFuZ2UobiwgMCwgLTEsIGR0eXBlPW5wLmZsb2F0MzIpCiAgICAgICAgY29weShhLCB0YSkKICAgICAgICBjb3B5KGIsIHRiKQoKICAgICAgICBsaWIuZ2dtbF9ncmFwaF9jb21wdXRlX3dpdGhfY3R4KGN0eCwgZ2YsIDEpCgogICAgICAgIGFzc2VydCBucC5hbGxjbG9zZShudW1weSh0c3VtLCBhbGxvd19jb3B5PVRydWUpLCBhICsgYikKCmNsYXNzIFRlc3RRdWFudGl6YXRpb246CgogICAgZGVmIHRlc3RfcXVhbnRpemVkX2FkZChzZWxmLCBjdHgpOgogICAgICAgIG4gPSAyNTYKICAgICAgICB0YSA9IGxpYi5nZ21sX25ld190ZW5zb3JfMWQoY3R4LCBsaWIuR0dNTF9UWVBFX1E1X0ssIG4pCiAgICAgICAgdGIgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzFkKGN0eCwgbGliLkdHTUxfVFlQRV9GMzIsIG4pCiAgICAgICAgdHN1bSA9IGxpYi5nZ21sX2FkZChjdHgsIHRhLCB0YikKICAgICAgICBhc3NlcnQgdHN1bS50eXBlID09IGxpYi5HR01MX1RZUEVfUTVfSwoKICAgICAgICBnZiA9IGZmaS5uZXcoJ3N0cnVjdCBnZ21sX2NncmFwaConKQogICAgICAgIGxpYi5nZ21sX2J1aWxkX2ZvcndhcmRfZXhwYW5kKGdmLCB0c3VtKQoKICAgICAgICBhID0gbnAuYXJhbmdlKDAsIG4sIGR0eXBlPW5wLmZsb2F0MzIpCiAgICAgICAgYiA9IG5wLmFyYW5nZShuLCAwLCAtMSwgZHR5cGU9bnAuZmxvYXQzMikKICAgICAgICBjb3B5KGEsIHRhKQogICAgICAgIGNvcHkoYiwgdGIpCgogICAgICAgIGxpYi5nZ21sX2dyYXBoX2NvbXB1dGVfd2l0aF9jdHgoY3R4LCBnZiwgMSkKCiAgICAgICAgdW5xdWFudGl6ZWRfc3VtID0gYSArIGIKICAgICAgICBzdW0gPSBudW1weSh0c3VtLCBhbGxvd19jb3B5PVRydWUpCgogICAgICAgIGRpZmYgPSBucC5saW5hbGcubm9ybSh1bnF1YW50aXplZF9zdW0gLSBzdW0sIG5wLmluZikKICAgICAgICBhc3NlcnQgZGlmZiA+IDQKICAgICAgICBhc3NlcnQgZGlmZiA8IDUK'),
    ('seamless/ggml/examples/python/example_add_quant.py', 'ZnJvbSBnZ21sIGltcG9ydCBsaWIsIGZmaQpmcm9tIGdnbWwudXRpbHMgaW1wb3J0IGluaXQsIGNvcHksIG51bXB5CmltcG9ydCBudW1weSBhcyBucAoKY3R4ID0gaW5pdChtZW1fc2l6ZT0xMioxMDI0KjEwMjQpICMgYXV0b21hdGljYWxseSBmcmVlZCB3aGVuIHBvaW50ZXIgaXMgR0MnZApuID0gMjU2Cm5fdGhyZWFkcyA9IDQKCmEgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzFkKGN0eCwgbGliLkdHTUxfVFlQRV9RNV9LLCBuKQpiID0gbGliLmdnbWxfbmV3X3RlbnNvcl8xZChjdHgsIGxpYi5HR01MX1RZUEVfRjMyLCBuKSAjIGNhbid0IGJvdGggYmUgcXVhbnRpemVkCnN1bSA9IGxpYi5nZ21sX2FkZChjdHgsIGEsIGIpICMgYWxsIHplcm9lcyBmb3Igbm93LiBXaWxsIGJlIHF1YW50aXplZCB0b28hCgojIFNlZSBjZmZpJ3MgZG9jIG9uIGhvdyB0byBhbGxvY2F0ZSBuYXRpdmUgbWVtb3J5OiBpdCdzIHZlcnkgc2ltcGxlIQojIGh0dHBzOi8vY2ZmaS5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvcmVmLmh0bWwjZmZpLWludGVyZmFjZQpnZiA9IGZmaS5uZXcoJ3N0cnVjdCBnZ21sX2NncmFwaConKQpsaWIuZ2dtbF9idWlsZF9mb3J3YXJkX2V4cGFuZChnZiwgc3VtKQoKY29weShucC5hcnJheShbaSBmb3IgaSBpbiByYW5nZShuKV0sIG5wLmZsb2F0MzIpLCBhKQpjb3B5KG5wLmFycmF5KFtpKjEwMCBmb3IgaSBpbiByYW5nZShuKV0sIG5wLmZsb2F0MzIpLCBiKQoKbGliLmdnbWxfZ3JhcGhfY29tcHV0ZV93aXRoX2N0eChjdHgsIGdmLCBuX3RocmVhZHMpCgpwcmludChudW1weShhLCBhbGxvd19jb3B5PVRydWUpKQpwcmludChudW1weShiKSkKcHJpbnQobnVtcHkoc3VtLCBhbGxvd19jb3B5PVRydWUpKQ=='),
    ('seamless/ggml/examples/python/stubs.py', 'IiIiCiAgVGhpcyBnZW5lcmF0ZXMgLnB5aSBzdHVicyBmb3IgdGhlIGNmZmkgUHl0aG9uIGJpbmRpbmdzIGdlbmVyYXRlZCBieSByZWdlbmVyYXRlLnB5CiIiIgppbXBvcnQgc3lzLCByZSwgaXRlcnRvb2xzCnN5cy5wYXRoLmV4dGVuZChbJy4nLCAnLi4nXSkgIyBmb3IgcHljcGFyc2VyCgpmcm9tIHB5Y3BhcnNlciBpbXBvcnQgY19hc3QsIHBhcnNlX2ZpbGUsIENQYXJzZXIKaW1wb3J0IHB5Y3BhcnNlci5wbHlwYXJzZXIKZnJvbSBweWNwYXJzZXIuY19hc3QgaW1wb3J0IFB0ckRlY2wsIFR5cGVEZWNsLCBGdW5jRGVjbCwgRWxsaXBzaXNQYXJhbSwgSWRlbnRpZmllclR5cGUsIFN0cnVjdCwgRW51bSwgVHlwZWRlZgpmcm9tIHR5cGluZyBpbXBvcnQgVHVwbGUKCl9fY190eXBlX3RvX3B5dGhvbl90eXBlID0gewogICAgJ3ZvaWQnOiAnTm9uZScsICdfQm9vbCc6ICdib29sJywKICAgICdjaGFyJzogJ2ludCcsICdzaG9ydCc6ICdpbnQnLCAnaW50JzogJ2ludCcsICdsb25nJzogJ2ludCcsCiAgICAncHRyZGlmZl90JzogJ2ludCcsICdzaXplX3QnOiAnaW50JywKICAgICdpbnQ4X3QnOiAnaW50JywgJ3VpbnQ4X3QnOiAnaW50JywKICAgICdpbnQxNl90JzogJ2ludCcsICd1aW50MTZfdCc6ICdpbnQnLAogICAgJ2ludDMyX3QnOiAnaW50JywgJ3VpbnQzMl90JzogJ2ludCcsCiAgICAnaW50NjRfdCc6ICdpbnQnLCAndWludDY0X3QnOiAnaW50JywKICAgICdmbG9hdCc6ICdmbG9hdCcsICdkb3VibGUnOiAnZmxvYXQnLAogICAgJ2dnbWxfZnAxNl90JzogJ25wLmZsb2F0MTYnLAp9CgpkZWYgZm9ybWF0X3R5cGUodDogVHlwZURlY2wpOgogICAgaWYgaXNpbnN0YW5jZSh0LCBQdHJEZWNsKSBvciBpc2luc3RhbmNlKHQsIFN0cnVjdCk6CiAgICAgICAgcmV0dXJuICdmZmkuQ0RhdGEnCiAgICBpZiBpc2luc3RhbmNlKHQsIEVudW0pOgogICAgICAgIHJldHVybiAnaW50JwogICAgaWYgaXNpbnN0YW5jZSh0LCBUeXBlRGVjbCk6CiAgICAgICAgcmV0dXJuIGZvcm1hdF90eXBlKHQudHlwZSkKICAgIGlmIGlzaW5zdGFuY2UodCwgSWRlbnRpZmllclR5cGUpOgogICAgICAgIGFzc2VydCBsZW4odC5uYW1lcykgPT0gMSwgZidFeHBlY3RlZCBhIHNpbmdsZSBuYW1lLCBnb3Qge3QubmFtZXN9JwogICAgICAgIHJldHVybiBfX2NfdHlwZV90b19weXRob25fdHlwZS5nZXQodC5uYW1lc1swXSkgb3IgJ2ZmaS5DRGF0YScKICAgIHJldHVybiB0Lm5hbWUKCmNsYXNzIFB5dGhvblN0dWJGdW5jRGVjbFZpc2l0b3IoY19hc3QuTm9kZVZpc2l0b3IpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuc2lncyA9IHt9CiAgICAgICAgc2VsZi5zb3VyY2VzID0ge30KCiAgICBkZWYgZ2V0X3NvdXJjZV9zbmlwcGV0X2xpbmVzKHNlbGYsIGNvb3JkOiBweWNwYXJzZXIucGx5cGFyc2VyLkNvb3JkKSAtPiBUdXBsZVtsaXN0W3N0cl0sIGxpc3Rbc3RyXV06CiAgICAgICAgaWYgY29vcmQuZmlsZSBub3QgaW4gc2VsZi5zb3VyY2VzOgogICAgICAgICAgICB3aXRoIG9wZW4oY29vcmQuZmlsZSwgJ3J0JykgYXMgZjoKICAgICAgICAgICAgICAgIHNlbGYuc291cmNlc1tjb29yZC5maWxlXSA9IGYucmVhZGxpbmVzKCkKICAgICAgICBzb3VyY2VfbGluZXMgPSBzZWxmLnNvdXJjZXNbY29vcmQuZmlsZV0KICAgICAgICBuY29tbWVudF9saW5lcyA9IGxlbihsaXN0KGl0ZXJ0b29scy50YWtld2hpbGUobGFtYmRhIGk6IHJlLnNlYXJjaChyJ15ccyooLy98L1wqKScsIHNvdXJjZV9saW5lc1tpXSksIHJhbmdlKGNvb3JkLmxpbmUgLSAyLCAtMSwgLTEpKSkpCiAgICAgICAgY29tbWVudF9saW5lcyA9IFtsLnN0cmlwKCkgZm9yIGwgaW4gc291cmNlX2xpbmVzW2Nvb3JkLmxpbmUgLSAxIC0gbmNvbW1lbnRfbGluZXM6Y29vcmQubGluZSAtIDFdXQogICAgICAgIGRlY2xfbGluZXMgPSBbXQogICAgICAgIGZvciBsaW5lIGluIHNvdXJjZV9saW5lc1tjb29yZC5saW5lIC0gMTpdOgogICAgICAgICAgICBkZWNsX2xpbmVzLmFwcGVuZChsaW5lLnJzdHJpcCgpKQogICAgICAgICAgICBpZiAoJzsnIGluIGxpbmUpIG9yICgneycgaW4gbGluZSk6IGJyZWFrCiAgICAgICAgcmV0dXJuIChjb21tZW50X2xpbmVzLCBkZWNsX2xpbmVzKQoKICAgIGRlZiB2aXNpdF9FbnVtKHNlbGYsIG5vZGU6IEVudW0pOgogICAgICAgIGlmIG5vZGUudmFsdWVzIGlzIG5vdCBOb25lOgogICAgICAgICAgZm9yIGUgaW4gbm9kZS52YWx1ZXMuZW51bWVyYXRvcnM6CiAgICAgICAgICAgICAgc2VsZi5zaWdzW2UubmFtZV0gPSBmJyAgQHByb3BlcnR5XG4gIGRlZiB7ZS5uYW1lfShzZWxmKSAtPiBpbnQ6IC4uLicKCiAgICBkZWYgdmlzaXRfVHlwZWRlZihzZWxmLCBub2RlOiBUeXBlZGVmKToKICAgICAgICBwYXNzCgogICAgZGVmIHZpc2l0X0Z1bmNEZWNsKHNlbGYsIG5vZGU6IEZ1bmNEZWNsKToKICAgICAgICByZXRfdHlwZSA9IG5vZGUudHlwZQogICAgICAgIGlzX3B0ciA9IEZhbHNlCiAgICAgICAgd2hpbGUgaXNpbnN0YW5jZShyZXRfdHlwZSwgUHRyRGVjbCk6CiAgICAgICAgICAgIHJldF90eXBlID0gcmV0X3R5cGUudHlwZQogICAgICAgICAgICBpc19wdHIgPSBUcnVlCgogICAgICAgIGZ1bl9uYW1lID0gcmV0X3R5cGUuZGVjbG5hbWUKICAgICAgICBpZiBmdW5fbmFtZS5zdGFydHN3aXRoKCdfXycpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgYXJncyA9IFtdCiAgICAgICAgYXJnbmFtZXMgPSBbXQogICAgICAgIGRlZiBnZW5fbmFtZShzdGVtKToKICAgICAgICAgICAgaSA9IDEKICAgICAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgICAgIG5ld19uYW1lID0gc3RlbSBpZiBpID09IDEgZWxzZSBmJ3tzdGVtfXtpfScKICAgICAgICAgICAgICAgIGlmIG5ld19uYW1lIG5vdCBpbiBhcmduYW1lczogcmV0dXJuIG5ld19uYW1lCiAgICAgICAgICAgICAgICBpICs9IDEKCiAgICAgICAgZm9yIGEgaW4gbm9kZS5hcmdzLnBhcmFtczoKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShhLCBFbGxpcHNpc1BhcmFtKToKICAgICAgICAgICAgICAgIGFyZ19uYW1lID0gZ2VuX25hbWUoJ2FyZ3MnKQogICAgICAgICAgICAgICAgYXJnbmFtZXMuYXBwZW5kKGFyZ19uYW1lKQogICAgICAgICAgICAgICAgYXJncy5hcHBlbmQoJyonICsgZ2VuX25hbWUoJ2FyZ3MnKSkKICAgICAgICAgICAgZWxpZiBmb3JtYXRfdHlwZShhLnR5cGUpID09ICdOb25lJzoKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhcmdfbmFtZSA9IGEubmFtZSBvciBnZW5fbmFtZSgnYXJnJykKICAgICAgICAgICAgICAgIGFyZ25hbWVzLmFwcGVuZChhcmdfbmFtZSkKICAgICAgICAgICAgICAgIGFyZ3MuYXBwZW5kKGYne2FyZ19uYW1lfToge2Zvcm1hdF90eXBlKGEudHlwZSl9JykKCiAgICAgICAgcmV0ID0gZm9ybWF0X3R5cGUocmV0X3R5cGUgaWYgbm90IGlzX3B0ciBlbHNlIG5vZGUudHlwZSkKCiAgICAgICAgY29tbWVudF9saW5lcywgZGVjbF9saW5lcyA9IHNlbGYuZ2V0X3NvdXJjZV9zbmlwcGV0X2xpbmVzKG5vZGUuY29vcmQpCgogICAgICAgIGxpbmVzID0gW2YnICBkZWYge2Z1bl9uYW1lfSh7IiwgIi5qb2luKGFyZ3MpfSkgLT4ge3JldH06J10KICAgICAgICBpZiBsZW4oY29tbWVudF9saW5lcykgPT0gMCBhbmQgbGVuKGRlY2xfbGluZXMpID09IDE6CiAgICAgICAgICAgIGxpbmVzICs9IFtmJyAgICAiIiJ7ZGVjbF9saW5lc1swXX0iIiInXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGxpbmVzICs9IFsnICAgICIiIiddCiAgICAgICAgICAgIGxpbmVzICs9IFtmJyAgICB7Yy5sc3RyaXAoIi8qICIpfScgZm9yIGMgaW4gY29tbWVudF9saW5lc10KICAgICAgICAgICAgaWYgbGVuKGNvbW1lbnRfbGluZXMpID4gMDoKICAgICAgICAgICAgICAgIGxpbmVzICs9IFsnJ10KICAgICAgICAgICAgbGluZXMgKz0gW2YnICAgIHtkfScgZm9yIGQgaW4gZGVjbF9saW5lc10KICAgICAgICAgICAgbGluZXMgKz0gWycgICAgIiIiJ10KICAgICAgICBsaW5lcyArPSBbJyAgICAuLi4nXQogICAgICAgIHNlbGYuc2lnc1tmdW5fbmFtZV0gPSAnXG4nLmpvaW4obGluZXMpCgpkZWYgZ2VuZXJhdGVfc3R1YnMoaGVhZGVyOiBzdHIpOgogICAgIiIiCiAgICAgIEdlbmVyYXRlcyBhIC5weWkgUHl0aG9uIHN0dWIgZmlsZSBmb3IgdGhlIEdHTUwgQVBJIHVzaW5nIEMgaGVhZGVyIGZpbGVzLgogICAgIiIiCgogICAgdiA9IFB5dGhvblN0dWJGdW5jRGVjbFZpc2l0b3IoKQogICAgdi52aXNpdChDUGFyc2VyKCkucGFyc2UoaGVhZGVyLCAiPGlucHV0PiIpKQoKICAgIGtleXMgPSBsaXN0KHYuc2lncy5rZXlzKCkpCiAgICBrZXlzLnNvcnQoKQoKICAgIHJldHVybiAnXG4nLmpvaW4oWwogICAgICAgICcjIGF1dG8tZ2VuZXJhdGVkIGZpbGUnLAogICAgICAgICdpbXBvcnQgZ2dtbC5mZmkgYXMgZmZpJywKICAgICAgICAnaW1wb3J0IG51bXB5IGFzIG5wJywKICAgICAgICAnY2xhc3MgbGliOicsCiAgICAgICAgKlt2LnNpZ3Nba10gZm9yIGsgaW4ga2V5c10KICAgIF0pCg=='),
    ('seamless/ggml/examples/python/ggml/__init__.py', 'IiIiCiAgUHl0aG9uIGJpbmRpbmdzIGZvciB0aGUgZ2dtbCBsaWJyYXJ5LgoKICBVc2FnZSBleGFtcGxlOgoKICAgICAgZnJvbSBnZ21sIGltcG9ydCBsaWIsIGZmaQogICAgICBmcm9tIGdnbWwudXRpbHMgaW1wb3J0IGluaXQsIGNvcHksIG51bXB5CiAgICAgIGltcG9ydCBudW1weSBhcyBucAoKICAgICAgY3R4ID0gaW5pdChtZW1fc2l6ZT0xMCoxMDI0KjEwMjQpCiAgICAgIG4gPSAxMDI0CiAgICAgIG5fdGhyZWFkcyA9IDQKCiAgICAgIGEgPSBsaWIuZ2dtbF9uZXdfdGVuc29yXzFkKGN0eCwgbGliLkdHTUxfVFlQRV9RNV9LLCBuKQogICAgICBiID0gbGliLmdnbWxfbmV3X3RlbnNvcl8xZChjdHgsIGxpYi5HR01MX1RZUEVfRjMyLCBuKQogICAgICBzdW0gPSBsaWIuZ2dtbF9hZGQoY3R4LCBhLCBiKQoKICAgICAgZ2YgPSBmZmkubmV3KCdzdHJ1Y3QgZ2dtbF9jZ3JhcGgqJykKICAgICAgbGliLmdnbWxfYnVpbGRfZm9yd2FyZF9leHBhbmQoZ2YsIHN1bSkKCiAgICAgIGNvcHkobnAuYXJyYXkoW2kgZm9yIGkgaW4gcmFuZ2UobildLCBucC5mbG9hdDMyKSwgYSkKICAgICAgY29weShucC5hcnJheShbaSoxMDAgZm9yIGkgaW4gcmFuZ2UobildLCBucC5mbG9hdDMyKSwgYikKICAgICAgbGliLmdnbWxfZ3JhcGhfY29tcHV0ZV93aXRoX2N0eChjdHgsIGdmLCBuX3RocmVhZHMpCgogICAgICBwcmludChudW1weShzdW0sIGFsbG93X2NvcHk9VHJ1ZSkpCgogIFNlZSBodHRwczovL2NmZmkucmVhZHRoZWRvY3MuaW8vZW4vbGF0ZXN0L2NkZWYuaHRtbCBmb3IgbW9yZSBvbiBjZmZpLgoiIiIKCnRyeToKICAgIGZyb20gZ2dtbC5jZmZpIGltcG9ydCBmZmkgYXMgZmZpCmV4Y2VwdCBJbXBvcnRFcnJvciBhcyBlOgogICAgcmFpc2UgSW1wb3J0RXJyb3IoZiJDb3VsZG4ndCBmaW5kIGdnbWwgYmluZGluZ3MgKHtlfSkuIFJ1biBgcHl0aG9uIHJlZ2VuZXJhdGUucHlgIG9yIGNoZWNrIHlvdXIgUFlUSE9OUEFUSC4iKQoKaW1wb3J0IG9zLCBwbGF0Zm9ybQoKX19leGFjdF9saWJyYXJ5ID0gb3MuZW52aXJvbi5nZXQoIkdHTUxfTElCUkFSWSIpCmlmIF9fZXhhY3RfbGlicmFyeToKICAgIF9fY2FuZGlkYXRlcyA9IFtfX2V4YWN0X2xpYnJhcnldCmVsaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gIldpbmRvd3MiOgogICAgX19jYW5kaWRhdGVzID0gWyJnZ21sX3NoYXJlZC5kbGwiLCAibGxhbWEuZGxsIl0KZWxzZToKICAgIF9fY2FuZGlkYXRlcyA9IFsibGliZ2dtbF9zaGFyZWQuc28iLCAibGlibGxhbWEuc28iXQogICAgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gIkRhcndpbiI6CiAgICAgICAgX19jYW5kaWRhdGVzICs9IFsibGliZ2dtbF9zaGFyZWQuZHlsaWIiLCAibGlibGxhbWEuZHlsaWIiXQoKZm9yIGksIG5hbWUgaW4gZW51bWVyYXRlKF9fY2FuZGlkYXRlcyk6CiAgICB0cnk6CiAgICAgICAgIyBUaGlzIGlzIHdoZXJlIGFsbCB0aGUgZnVuY3Rpb25zLCBlbnVtcyBhbmQgY29uc3RhbnRzIGFyZSBkZWZpbmVkCiAgICAgICAgbGliID0gZmZpLmRsb3BlbihuYW1lKQogICAgZXhjZXB0IE9TRXJyb3I6CiAgICAgICAgaWYgaSA8IGxlbihfX2NhbmRpZGF0ZXMpIC0gMToKICAgICAgICAgICAgY29udGludWUKICAgICAgICByYWlzZSBPU0Vycm9yKGYiQ291bGRuJ3QgZmluZCBnZ21sJ3Mgc2hhcmVkIGxpYnJhcnkgKHRyaWVkIG5hbWVzOiB7X19jYW5kaWRhdGVzfSkuIEFkZCBpdHMgZGlyZWN0b3J5IHRvIERZTERfTElCUkFSWV9QQVRIIChvbiBNYWMpIG9yIExEX0xJQlJBUllfUEFUSCwgb3IgZGVmaW5lIEdHTUxfTElCUkFSWS4iKQoKIyBUaGlzIGNvbnRhaW5zIHRoZSBjZmZpIGhlbHBlcnMgc3VjaCBhcyBuZXcsIGNhc3QsIHN0cmluZywgZXRjLgojIGh0dHBzOi8vY2ZmaS5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvcmVmLmh0bWwjZmZpLWludGVyZmFjZQpmZmkgPSBmZmkK'),
    ('seamless/ggml/examples/python/ggml/cffi.py', 'IyBhdXRvLWdlbmVyYXRlZCBmaWxlCmltcG9ydCBfY2ZmaV9iYWNrZW5kCgpmZmkgPSBfY2ZmaV9iYWNrZW5kLkZGSSgnZ2dtbC5jZmZpJywKICAgIF92ZXJzaW9uID0gMHgyNjAxLAogICAgX3R5cGVzID0gYidceDAwXHgwMFx4QjZceDBEXHgwMFx4MDBceDA5XHgwQlx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4QjZceDBEXHgwMFx4MDRceDJGXHgwM1x4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4QjZceDBEXHgwMFx4MDRceDMxXHgwM1x4MDBceDA0XHgzRFx4MDNceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceEI2XHgwRFx4MDBceDA0XHgzMlx4MDNceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceEI2XHgwRFx4MDBceDA0XHgzNFx4MDNceDAwXHgwM1x4RkVceDAzXHgwMFx4MDRceDUzXHgwM1x4MDBceDAwXHgwQVx4MDFceDAwXHgwMFx4MEFceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHhCNlx4MERceDAwXHgwNFx4M0RceDAzXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHhCNlx4MERceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4QjZceDBEXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHhCNlx4MERceDAwXHgwNFx4M0VceDAzXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4QjZceDBEXHgwMFx4MDBceDEwXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4QjZceDBEXHgwMFx4MDBceDAwXHgwRlx4MDBceDAyXHhEMFx4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MEZceDBEXHgwMFx4MDBceDA0XHgwQlx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MEZceDBEXHgwMFx4MDBceDAxXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MEZceDBEXHgwMFx4MDBceDBCXHgwQlx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MEZceDBEXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MEZceDBEXHgwMFx4MDBceDIxXHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDBGXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4MTZceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDA0XHgzOFx4MDNceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHgxNlx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDQ0XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwNFx4MzBceDAzXHgwMFx4MDBceDRCXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4MTZceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgyMFx4MDlceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwMVx4MERceDAwXHgwMFx4MDFceDBCXHgwMFx4MDBceDAwXHgwRlx4MDBceDAxXHgxNFx4MERceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgzNFx4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMlx4N0VceDBEXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4RjRceDBEXHgwMFx4MDBceDAxXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4RjRceDBEXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceEY0XHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHhGNFx4MERceDAwXHgwMFx4MDZceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHgxOFx4MERceDAwXHgwMFx4MDFceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAyXHhFOVx4MERceDAwXHgwMFx4MEVceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgyMlx4MERceDAwXHgwMFx4MDFceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgyMlx4MERceDAwXHgwMFx4NEJceDExXHgwMFx4MDRceDMzXHgwM1x4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MjJceDBEXHgwMFx4MDBceDBFXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MjJceDBEXHgwMFx4MDRceDM1XHgwM1x4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MjJceDBEXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDIyXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDIyXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MEZceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgyMlx4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MjJceDBEXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHhEQlx4MERceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHhEQlx4MERceDAwXHgwMFx4MDBceDBGXHgwMFx4MDNceEIwXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAzXHhCNVx4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDRceDBEXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDRceDBEXHgwMFx4MDBceDEwXHgxMVx4MDBceDAwXHgwQVx4MDFceDAwXHgwMFx4MEFceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHg0Qlx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHg0Qlx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4MzBceDBEXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwQlx4MDNceDAwXHgwMFx4QjBceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHgzMFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDRCXHgxMVx4MDBceDAwXHgwMVx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDMwXHgwRFx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDBCXHgwRFx4MDBceDAwXHgxQlx4MDlceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDMzXHgwRFx4MDBceDAwXHg0Qlx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwRVx4MERceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHg3Rlx4MERceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDUwXHgwRFx4MDBceDAwXHgwN1x4MEJceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHg0Qlx4MTFceDAwXHgwMFx4MEZceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwMVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceERCXHgwM1x4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwMVx4MTFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDAxXHgxMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDAxXHgxMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwMVx4MTFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDBEXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwNVx4MEJceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDFceDAxXHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MEFceDBCXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwRFx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDBEXHgwMVx4MDBceDAwXHgwRFx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwRFx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwRFx4MDFceDAwXHgwMFx4MERceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwQVx4MDFceDAwXHgwMFx4MEFceDAxXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwQVx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwQVx4MDFceDAwXHgwMFx4MEFceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwQlx4MDFceDAwXHgwMFx4MEJceDAxXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwQVx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwQVx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAxXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDFceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwM1x4NUNceDAzXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDNceDYyXHgwM1x4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MTBceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MEFceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MEFceDAxXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwQVx4MDFceDAwXHgwMFx4MEFceDAxXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDJceEQ4XHgwM1x4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDNceDRGXHgwM1x4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDNceDU0XHgwM1x4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MTBceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAyXHhEM1x4MDNceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDNceDQ0XHgwM1x4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwM1x4NDhceDAzXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgxMFx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MDhceDBEXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwRlx4MTFceDAwXHgwMFx4MDFceDBGXHgwMFx4MDBceDA4XHgwRFx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MERceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgwOFx4MERceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MjFceDBEXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgyNFx4MDlceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDIxXHgwRFx4MDBceDAwXHgwMFx4MEZceDAwXHgwM1x4QkFceDBEXHgwMFx4MDBceDIxXHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDNceEJGXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgxMVx4MERceDAwXHgwMFx4MDFceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgxMVx4MERceDAwXHgwMFx4MDFceDExXHgwMFx4MDBceEY0XHgwM1x4MDBceDAwXHgxMFx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHhEQlx4MDNceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDExXHgwRFx4MDBceDAyXHgzNVx4MTFceDAwXHgwMFx4MTBceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMlx4MzlceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgxMVx4MERceDAwXHgwMFx4MDRceDExXHgwMFx4MDBceDRCXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwMFx4MTFceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgyMVx4MDlceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDExXHgwRFx4MDBceDA0XHgzMlx4MDNceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDExXHgwRFx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDExXHgwRFx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgxMVx4MERceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDExXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDExXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgxMVx4MERceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDZDXHgwRFx4MDBceDAwXHgwRFx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDZDXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgxMFx4MERceDAwXHgwMlx4NEJceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgxMFx4MERceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgxMFx4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDAwXHgxMFx4MERceDAwXHgwMFx4MEFceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDAyXHhFMVx4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDAxXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDNceEY4XHgwM1x4MDBceDAwXHhGNFx4MDNceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwM1x4RjlceDAzXHgwMFx4MDJceDdFXHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAzXHhGQVx4MDNceDAwXHgwMlx4N0VceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDNceEZCXHgwM1x4MDBceDAyXHg3RVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwM1x4RkNceDAzXHgwMFx4MDJceDdFXHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAzXHhGRFx4MDNceDAwXHgwMlx4N0VceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwRlx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDJceDM1XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDJceDM1XHgxMVx4MDBceDAzXHhGOFx4MDNceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMlx4MzVceDExXHgwMFx4MDNceEY5XHgwM1x4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAyXHgzNVx4MTFceDAwXHgwM1x4RkFceDAzXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDJceDM1XHgxMVx4MDBceDAzXHhGQlx4MDNceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMlx4MzVceDExXHgwMFx4MDNceEZDXHgwM1x4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAyXHgzNVx4MTFceDAwXHgwM1x4RkRceDAzXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDJceDM1XHgxMVx4MDBceDAwXHg2Q1x4MDNceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMlx4MzVceDExXHgwMFx4MDBceDEwXHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgwN1x4MDFceDAwXHgwM1x4RkVceDAzXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDA3XHgwMVx4MDBceDAyXHg3RVx4MTFceDAwXHgwMlx4MzVceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MDdceDAxXHgwMFx4MDJceDdFXHgxMVx4MDBceDAyXHgzNVx4MTFceDAwXHgwMlx4MzVceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MDdceDAxXHgwMFx4MDJceDdFXHgxMVx4MDBceDA0XHg1M1x4MDNceDAwXHgwMlx4RTFceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MDRceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MDRceDExXHgwMFx4MDBceDIyXHgwM1x4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgwNFx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4NEJceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4NEJceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDRceDMwXHgwM1x4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDJceEY4XHgxMVx4MDBceDAwXHgwRlx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAyXHhGOFx4MTFceDAwXHgwMlx4RjhceDExXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwMVx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgwQlx4MTFceDAwXHgwMFx4NEJceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHg0NFx4MTFceDAwXHgwMFx4NTBceDExXHgwMFx4MDBceDBCXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDBCXHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAyXHg0Qlx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgwRVx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgwRVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MEVceDExXHgwMFx4MDBceDRCXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDBFXHgxMVx4MDBceDAwXHg0Qlx4MTFceDAwXHgwMFx4MDFceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MEVceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDdGXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDdGXHgxMVx4MDBceDAyXHhFOVx4MTFceDAwXHgwMlx4RTlceDExXHgwMFx4MDJceEU5XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDdGXHgxMVx4MDBceDAwXHg0Qlx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwNFx4MzdceDAzXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgxMFx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MTBceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MTBceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwRFx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDA3XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MDhceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MTVceDExXHgwMFx4MDBceDE1XHgxMVx4MDBceDAwXHgwOFx4MTFceDAwXHgwMFx4MTBceDExXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDIxXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDIxXHgxMVx4MDBceDAwXHgwRlx4MTFceDAwXHgwMFx4MDFceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwRlx4MDNceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwRlx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MEZceDExXHgwMFx4MDBceDAxXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDIxXHgxMVx4MDBceDAwXHgwRlx4MTFceDAwXHgwMFx4MzRceDExXHgwMFx4MDJceEUxXHgxMVx4MDBceDAwXHgwN1x4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MEZceDExXHgwMFx4MDBceDBEXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDIxXHgxMVx4MDBceDAwXHgwRlx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwNVx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MEZceDExXHgwMFx4MDBceDAzXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDIxXHgxMVx4MDBceDAwXHgwRlx4MTFceDAwXHgwMFx4MDRceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDBGXHgxMVx4MDBceDAwXHgwOFx4MDFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MEZceDExXHgwMFx4MDBceDA2XHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDIxXHgxMVx4MDBceDAwXHgwRlx4MTFceDAwXHgwMlx4RTFceDExXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDIxXHgxMVx4MDBceDAwXHgxNVx4MTFceDAwXHgwMFx4MDBceDBGXHgwMFx4MDRceDUzXHgwRFx4MDBceDAwXHgyMVx4MTFceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MjFceDExXHgwMFx4MDBceDEwXHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDBBXHgwMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDBceDZDXHgwM1x4MDBceDAyXHg3RVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MTBceDExXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MTBceDExXHgwMFx4MDBceDA4XHgxMVx4MDBceDAwXHgwMFx4MEZceDAwXHgwNFx4NTNceDBEXHgwMFx4MDJceEUxXHgxMVx4MDBceDAyXHg3RVx4MTFceDAwXHgwMFx4MDdceDAxXHgwMFx4MDBceDAwXHgwRlx4MDBceDA0XHg1M1x4MERceDAwXHgwMFx4MDBceDBGXHgwMFx4MDBceDI0XHgwM1x4MDBceDAwXHgwRFx4MDlceDAwXHgwMFx4MEVceDA5XHgwMFx4MDBceDBGXHgwOVx4MDBceDAwXHgxMFx4MDlceDAwXHgwMFx4MTFceDA5XHgwMFx4MDBceDEyXHgwOVx4MDBceDAwXHgxM1x4MDlceDAwXHgwMFx4MTRceDA5XHgwMFx4MDBceDA0XHgwOVx4MDBceDAwXHgwNVx4MDlceDAwXHgwMFx4MDZceDA5XHgwMFx4MDBceDA3XHgwOVx4MDBceDAwXHgwOFx4MDlceDAwXHgwMFx4MDlceDA5XHgwMFx4MDBceDBBXHgwOVx4MDBceDAwXHgwMlx4MDFceDAwXHgwM1x4RkVceDA1XHgwMFx4MDBceDAwXHg4MFx4MDBceDAzXHhGRVx4MDVceDAwXHgwMFx4MDBceDEwXHgwMFx4MDNceEZFXHgwNVx4MDBceDAwXHgwMFx4QzBceDAwXHgwM1x4RkVceDA1XHgwMFx4MDBceDAwXHgyNVx4MDBceDAzXHhGRVx4MDVceDAwXHgwMFx4MDBceDI4XHgwMFx4MDNceEZFXHgwNVx4MDBceDAwXHgwMFx4MDRceDAwXHgwM1x4RkVceDA1XHgwMFx4MDBceDAwXHgzOFx4MDBceDAzXHhGRVx4MDVceDAwXHgwMFx4MDBceDQwXHgwMFx4MDNceEZFXHgwNVx4MDBceDAwXHgxRlx4RjBceDAwXHgwM1x4RkVceDA1XHgwMFx4MDBceDAwXHgwOFx4MDBceDAwXHgwMFx4MEJceDAwXHgwMFx4MDJceDBCXHgwMFx4MDBceDAzXHgwQlx4MDBceDAwXHgwNlx4MEJceDAwXHgwMFx4MDhceDBCXHgwMFx4MDBceDBCXHgwOVx4MDBceDAwXHgyMlx4MDVceDAwXHgwMFx4MTBceDAwXHgwMFx4MDBceDIyXHgwNVx4MDBceDAwXHgwMFx4MDhceDAwXHgwMFx4MEZceDAxXHgwMFx4MDBceERCXHgwNVx4MDBceDAwXHgwMFx4MDRceDAwXHgwMFx4MDlceDAxXHgwMFx4MDNceEIwXHgwNVx4MDBceDAwXHgwMFx4MTBceDAwXHgwM1x4QjVceDA1XHgwMFx4MDBceDAwXHgxMFx4MDBceDAzXHhCNVx4MDVceDAwXHgwMFx4MDFceDAwXHgwMFx4MDBceDAwXHgwOVx4MDBceDAwXHgwMVx4MDlceDAwXHgwMFx4MDJceDA5XHgwMFx4MDBceDAzXHgwOVx4MDBceDA0XHgyQ1x4MDNceDAwXHgwMFx4MENceDA5XHgwMFx4MDRceDJFXHgwM1x4MDBceDAwXHgxNVx4MDlceDAwXHgwMFx4MTZceDA5XHgwMFx4MDBceDE3XHgwOVx4MDBceDAwXHgxOFx4MDlceDAwXHgwMFx4MTlceDA5XHgwMFx4MDBceDFBXHgwOVx4MDBceDAwXHgxQ1x4MDlceDAwXHgwMFx4MURceDA5XHgwMFx4MDRceDM3XHgwM1x4MDBceDAwXHgxRVx4MDlceDAwXHgwMFx4MUZceDA5XHgwMFx4MDBceDA4XHgwNVx4MDBceDAwXHgxMFx4MDBceDAwXHgwMFx4MDhceDA1XHgwMFx4MDBceDAwXHgwNlx4MDBceDAwXHgyMlx4MDlceDAwXHgwMFx4MjNceDA5XHgwMFx4MDNceEJBXHgwM1x4MDBceDAzXHhCQVx4MDVceDAwXHgwMFx4MDBceDgwXHgwMFx4MDNceEJBXHgwNVx4MDBceDAwXHgwMFx4MENceDAwXHgwM1x4QkFceDA1XHgwMFx4MDBceDAwXHgxMFx4MDBceDAzXHhCQVx4MDVceDAwXHgwMFx4MDBceDIwXHgwMFx4MDNceEJBXHgwNVx4MDBceDAwXHgwMFx4NDBceDAwXHgwMFx4MENceDAxXHgwMFx4MDBceDExXHgwNVx4MDBceDAwXHgwMFx4MDRceDAwXHgwMFx4MTBceDA1XHgwMFx4MDBceDIwXHg1MVx4MDBceDAyXHhDNlx4MDNceDAwXHgwMlx4REVceDAzXHgwMFx4MDNceEUwXHgwM1x4MDBceDAzXHhFN1x4MDNceDAwXHgwMFx4MDBceDAxJywKICAgIF9nbG9iYWxzID0gKGInXHhGRlx4RkZceEZGXHgwQkdHTUxfQkFDS0VORF9DUFUnLDAsYidceEZGXHhGRlx4RkZceDBCR0dNTF9CQUNLRU5EX0dQVScsMTAsYidceEZGXHhGRlx4RkZceDBCR0dNTF9CQUNLRU5EX0dQVV9TUExJVCcsMjAsYidceEZGXHhGRlx4RkZceDBCR0dNTF9GVFlQRV9BTExfRjMyJywwLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfRlRZUEVfTU9TVExZX0YxNicsMSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX0ZUWVBFX01PU1RMWV9RMl9LJywxMCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX0ZUWVBFX01PU1RMWV9RM19LJywxMSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX0ZUWVBFX01PU1RMWV9RNF8wJywyLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfRlRZUEVfTU9TVExZX1E0XzEnLDMsYidceEZGXHhGRlx4RkZceDBCR0dNTF9GVFlQRV9NT1NUTFlfUTRfMV9TT01FX0YxNicsNCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX0ZUWVBFX01PU1RMWV9RNF9LJywxMixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX0ZUWVBFX01PU1RMWV9RNV8wJyw4LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfRlRZUEVfTU9TVExZX1E1XzEnLDksYidceEZGXHhGRlx4RkZceDBCR0dNTF9GVFlQRV9NT1NUTFlfUTVfSycsMTMsYidceEZGXHhGRlx4RkZceDBCR0dNTF9GVFlQRV9NT1NUTFlfUTZfSycsMTQsYidceEZGXHhGRlx4RkZceDBCR0dNTF9GVFlQRV9NT1NUTFlfUThfMCcsNyxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX0ZUWVBFX1VOS05PV04nLC0xLGInXHhGRlx4RkZceEZGXHgxRkdHTUxfR1JBUEhfU0laRScsMTY0NTIwLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfTElORVNFQVJDSF9CQUNLVFJBQ0tJTkdfQVJNSUpPJywwLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfTElORVNFQVJDSF9CQUNLVFJBQ0tJTkdfU1RST05HX1dPTEZFJywyLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfTElORVNFQVJDSF9CQUNLVFJBQ0tJTkdfV09MRkUnLDEsYidceEZGXHhGRlx4RkZceDBCR0dNTF9MSU5FU0VBUkNIX0RFRkFVTFQnLDEsYidceEZGXHhGRlx4RkZceDBCR0dNTF9MSU5FU0VBUkNIX0ZBSUwnLC0xMjgsYidceEZGXHhGRlx4RkZceDBCR0dNTF9MSU5FU0VBUkNIX0lOVkFMSURfUEFSQU1FVEVSUycsLTEyNCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX0xJTkVTRUFSQ0hfTUFYSU1VTV9JVEVSQVRJT05TJywtMTI1LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfTElORVNFQVJDSF9NQVhJTVVNX1NURVAnLC0xMjYsYidceEZGXHhGRlx4RkZceDBCR0dNTF9MSU5FU0VBUkNIX01JTklNVU1fU1RFUCcsLTEyNyxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09CSkVDVF9HUkFQSCcsMSxiJ1x4RkZceEZGXHhGRlx4MUZHR01MX09CSkVDVF9TSVpFJywzMixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09CSkVDVF9URU5TT1InLDAsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PQkpFQ1RfV09SS19CVUZGRVInLDIsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUFRfQURBTScsMCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QVF9ESURfTk9UX0NPTlZFUkdFJywxLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BUX0ZBSUwnLDQsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUFRfSU5WQUxJRF9XT0xGRScsMyxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QVF9MQkZHUycsMSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QVF9OT19DT05URVhUJywyLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BUX09LJywwLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfQUNDJyw0LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfQUREJywyLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfQUREMScsMyxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX0FMSUJJJyw0MCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX0FSR01BWCcsMTQsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9DTEFNUCcsNDEsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9DT05UJywyNixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX0NPTlZfMUQnLDQyLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfQ09OVl8yRCcsNDMsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9DT1VOVCcsNjIsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9DUFknLDI1LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfQ1JPU1NfRU5UUk9QWV9MT1NTJyw2MCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX0NST1NTX0VOVFJPUFlfTE9TU19CQUNLJyw2MSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX0RJQUcnLDMzLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfRElBR19NQVNLX0lORicsMzQsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9ESUFHX01BU0tfWkVSTycsMzUsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9ESVYnLDcsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9EVVAnLDEsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9GTEFTSF9BVFROJyw0NixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX0ZMQVNIX0FUVE5fQkFDSycsNDgsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9GTEFTSF9GRicsNDcsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9HRVRfUk9XUycsMzEsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9HRVRfUk9XU19CQUNLJywzMixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX0xPRycsMTAsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9NQVBfQklOQVJZJyw1MyxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX01BUF9DVVNUT00xJyw1NyxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX01BUF9DVVNUT00xX0YzMicsNTQsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9NQVBfQ1VTVE9NMicsNTgsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9NQVBfQ1VTVE9NMl9GMzInLDU1LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfTUFQX0NVU1RPTTMnLDU5LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfTUFQX0NVU1RPTTNfRjMyJyw1NixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX01BUF9VTkFSWScsNTIsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9NRUFOJywxMyxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX01VTCcsNixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX01VTF9NQVQnLDIxLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfTk9ORScsMCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX05PUk0nLDE4LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfT1VUX1BST0QnLDIyLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfUEVSTVVURScsMjksYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9QT09MXzFEJyw0NCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX1BPT0xfMkQnLDQ1LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfUE9PTF9BVkcnLDEsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9QT09MX0NPVU5UJywyLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfUE9PTF9NQVgnLDAsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9SRVBFQVQnLDE1LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfUkVQRUFUX0JBQ0snLDE2LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfUkVTSEFQRScsMjcsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9STVNfTk9STScsMTksYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9STVNfTk9STV9CQUNLJywyMCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX1JPUEUnLDM4LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfUk9QRV9CQUNLJywzOSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX1NDQUxFJywyMyxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX1NFVCcsMjQsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9TSUxVX0JBQ0snLDE3LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfU09GVF9NQVgnLDM2LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfU09GVF9NQVhfQkFDSycsMzcsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9TUVInLDgsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9TUVJUJyw5LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfU1VCJyw1LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfT1BfU1VNJywxMSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX1NVTV9ST1dTJywxMixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX1RSQU5TUE9TRScsMzAsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9VTkFSWScsNTEsYidceEZGXHhGRlx4RkZceDBCR0dNTF9PUF9WSUVXJywyOCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX1dJTl9QQVJUJyw0OSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX09QX1dJTl9VTlBBUlQnLDUwLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVEFTS19DT01QVVRFJywxLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVEFTS19GSU5BTElaRScsMixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1RBU0tfSU5JVCcsMCxiJ1x4RkZceEZGXHhGRlx4MUZHR01MX1RFTlNPUl9TSVpFJywyODgsYidceEZGXHhGRlx4RkZceDBCR0dNTF9UWVBFX0NPVU5UJywxOSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1RZUEVfRjE2JywxLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVFlQRV9GMzInLDAsYidceEZGXHhGRlx4RkZceDBCR0dNTF9UWVBFX0kxNicsMTcsYidceEZGXHhGRlx4RkZceDBCR0dNTF9UWVBFX0kzMicsMTgsYidceEZGXHhGRlx4RkZceDBCR0dNTF9UWVBFX0k4JywxNixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1RZUEVfUTJfSycsMTAsYidceEZGXHhGRlx4RkZceDBCR0dNTF9UWVBFX1EzX0snLDExLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVFlQRV9RNF8wJywyLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVFlQRV9RNF8xJywzLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVFlQRV9RNF9LJywxMixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1RZUEVfUTVfMCcsNixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1RZUEVfUTVfMScsNyxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1RZUEVfUTVfSycsMTMsYidceEZGXHhGRlx4RkZceDBCR0dNTF9UWVBFX1E2X0snLDE0LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVFlQRV9ROF8wJyw4LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVFlQRV9ROF8xJyw5LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVFlQRV9ROF9LJywxNSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1VOQVJZX09QX0FCUycsMCxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1VOQVJZX09QX0VMVScsNSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1VOQVJZX09QX0dFTFUnLDcsYidceEZGXHhGRlx4RkZceDBCR0dNTF9VTkFSWV9PUF9HRUxVX1FVSUNLJyw4LGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVU5BUllfT1BfTkVHJywyLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVU5BUllfT1BfUkVMVScsNixiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1VOQVJZX09QX1NHTicsMSxiJ1x4RkZceEZGXHhGRlx4MEJHR01MX1VOQVJZX09QX1NJTFUnLDksYidceEZGXHhGRlx4RkZceDBCR0dNTF9VTkFSWV9PUF9TVEVQJywzLGInXHhGRlx4RkZceEZGXHgwQkdHTUxfVU5BUllfT1BfVEFOSCcsNCxiJ1x4RkZceEZGXHhGRlx4MEJHR1VGX1RZUEVfQVJSQVknLDksYidceEZGXHhGRlx4RkZceDBCR0dVRl9UWVBFX0JPT0wnLDcsYidceEZGXHhGRlx4RkZceDBCR0dVRl9UWVBFX0NPVU5UJywxMCxiJ1x4RkZceEZGXHhGRlx4MEJHR1VGX1RZUEVfRkxPQVQzMicsNixiJ1x4RkZceEZGXHhGRlx4MEJHR1VGX1RZUEVfSU5UMTYnLDMsYidceEZGXHhGRlx4RkZceDBCR0dVRl9UWVBFX0lOVDMyJyw1LGInXHhGRlx4RkZceEZGXHgwQkdHVUZfVFlQRV9JTlQ4JywxLGInXHhGRlx4RkZceEZGXHgwQkdHVUZfVFlQRV9TVFJJTkcnLDgsYidceEZGXHhGRlx4RkZceDBCR0dVRl9UWVBFX1VJTlQxNicsMixiJ1x4RkZceEZGXHhGRlx4MEJHR1VGX1RZUEVfVUlOVDMyJyw0LGInXHhGRlx4RkZceEZGXHgwQkdHVUZfVFlQRV9VSU5UOCcsMCxiJ1x4MDBceDAyXHg5QVx4MjNfX2Fzc2VydF9ydG4nLDAsYidceDAwXHgwMlx4N0NceDIzZGVxdWFudGl6ZV9yb3dfcTJfSycsMCxiJ1x4MDBceDAyXHg4MVx4MjNkZXF1YW50aXplX3Jvd19xM19LJywwLGInXHgwMFx4MDJceDg2XHgyM2RlcXVhbnRpemVfcm93X3E0X0snLDAsYidceDAwXHgwMlx4OEJceDIzZGVxdWFudGl6ZV9yb3dfcTVfSycsMCxiJ1x4MDBceDAyXHg5MFx4MjNkZXF1YW50aXplX3Jvd19xNl9LJywwLGInXHgwMFx4MDJceDk1XHgyM2RlcXVhbnRpemVfcm93X3E4X0snLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9hYnMnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9hYnNfaW5wbGFjZScsMCxiJ1x4MDBceDAxXHhERFx4MjNnZ21sX2FjYycsMCxiJ1x4MDBceDAxXHhERFx4MjNnZ21sX2FjY19pbnBsYWNlJywwLGInXHgwMFx4MDFceDg0XHgyM2dnbWxfYWRkJywwLGInXHgwMFx4MDFceDg0XHgyM2dnbWxfYWRkMScsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX2FkZDFfaW5wbGFjZScsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX2FkZF9pbnBsYWNlJywwLGInXHgwMFx4MDFceDI2XHgyM2dnbWxfYWxpYmknLDAsYidceDAwXHgwMlx4RUNceDIzZ2dtbF9hbGxvY3JfYWxsb2MnLDAsYidceDAwXHgwMlx4NDJceDIzZ2dtbF9hbGxvY3JfYWxsb2NfZ3JhcGgnLDAsYidceDAwXHgwMlx4RTRceDIzZ2dtbF9hbGxvY3JfZnJlZScsMCxiJ1x4MDBceDAwXHgwM1x4MjNnZ21sX2FsbG9jcl9pc19tZWFzdXJlJywwLGInXHgwMFx4MDBceEEyXHgyM2dnbWxfYWxsb2NyX25ldycsMCxiJ1x4MDBceDAwXHg5Rlx4MjNnZ21sX2FsbG9jcl9uZXdfbWVhc3VyZScsMCxiJ1x4MDBceDAyXHhFNFx4MjNnZ21sX2FsbG9jcl9yZXNldCcsMCxiJ1x4MDBceDAyXHhFN1x4MjNnZ21sX2FsbG9jcl9zZXRfcGFyc2Vfc2VxJywwLGInXHgwMFx4MDBceDE3XHgyM2dnbWxfYXJlX3NhbWVfc2hhcGUnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9hcmdtYXgnLDAsYidceDAwXHgwMFx4NzRceDIzZ2dtbF9ibGNrX3NpemUnLDAsYidceDAwXHgwMFx4QjNceDIzZ2dtbF9idWlsZF9iYWNrd2FyZCcsMCxiJ1x4MDBceDAwXHhCOFx4MjNnZ21sX2J1aWxkX2ZvcndhcmQnLDAsYidceDAwXHgwMFx4QUFceDIzZ2dtbF9idWlsZF9mb3J3YXJkX2N0eCcsMCxiJ1x4MDBceDAyXHhGM1x4MjNnZ21sX2J1aWxkX2ZvcndhcmRfZXhwYW5kJywwLGInXHgwMFx4MDBceDFCXHgyM2dnbWxfY2xfY2FuX211bF9tYXQnLDAsYidceDAwXHgwM1x4NkJceDIzZ2dtbF9jbF9mcmVlX2RhdGEnLDAsYidceDAwXHgwM1x4RTBceDIzZ2dtbF9jbF9ob3N0X2ZyZWUnLDAsYidceDAwXHgwMlx4NzJceDIzZ2dtbF9jbF9ob3N0X21hbGxvYycsMCxiJ1x4MDBceDAzXHhFQ1x4MjNnZ21sX2NsX2luaXQnLDAsYidceDAwXHgwM1x4NzhceDIzZ2dtbF9jbF9tdWwnLDAsYidceDAwXHgwM1x4N0RceDIzZ2dtbF9jbF9tdWxfbWF0JywwLGInXHgwMFx4MDJceDU0XHgyM2dnbWxfY2xfbXVsX21hdF9nZXRfd3NpemUnLDAsYidceDAwXHgwM1x4RTNceDIzZ2dtbF9jbF90cmFuc2Zvcm1fdGVuc29yJywwLGInXHgwMFx4MDFceDFCXHgyM2dnbWxfY2xhbXAnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9jb250JywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfY29udF9pbnBsYWNlJywwLGInXHgwMFx4MDFceDkwXHgyM2dnbWxfY29udl8xZCcsMCxiJ1x4MDBceDAxXHg4OVx4MjNnZ21sX2NvbnZfMWRfcGgnLDAsYidceDAwXHgwMVx4OThceDIzZ2dtbF9jb252XzJkJywwLGInXHgwMFx4MDBceDkwXHgyM2dnbWxfY3B1X2hhc19hcm1fZm1hJywwLGInXHgwMFx4MDBceDkwXHgyM2dnbWxfY3B1X2hhc19hdngnLDAsYidceDAwXHgwMFx4OTBceDIzZ2dtbF9jcHVfaGFzX2F2eDInLDAsYidceDAwXHgwMFx4OTBceDIzZ2dtbF9jcHVfaGFzX2F2eDUxMicsMCxiJ1x4MDBceDAwXHg5MFx4MjNnZ21sX2NwdV9oYXNfYXZ4NTEyX3ZibWknLDAsYidceDAwXHgwMFx4OTBceDIzZ2dtbF9jcHVfaGFzX2F2eDUxMl92bm5pJywwLGInXHgwMFx4MDBceDkwXHgyM2dnbWxfY3B1X2hhc19ibGFzJywwLGInXHgwMFx4MDBceDkwXHgyM2dnbWxfY3B1X2hhc19jbGJsYXN0JywwLGInXHgwMFx4MDBceDkwXHgyM2dnbWxfY3B1X2hhc19jdWJsYXMnLDAsYidceDAwXHgwMFx4OTBceDIzZ2dtbF9jcHVfaGFzX2YxNmMnLDAsYidceDAwXHgwMFx4OTBceDIzZ2dtbF9jcHVfaGFzX2ZtYScsMCxiJ1x4MDBceDAwXHg5MFx4MjNnZ21sX2NwdV9oYXNfZnAxNl92YScsMCxiJ1x4MDBceDAwXHg5MFx4MjNnZ21sX2NwdV9oYXNfZ3B1YmxhcycsMCxiJ1x4MDBceDAwXHg5MFx4MjNnZ21sX2NwdV9oYXNfbmVvbicsMCxiJ1x4MDBceDAwXHg5MFx4MjNnZ21sX2NwdV9oYXNfc3NlMycsMCxiJ1x4MDBceDAwXHg5MFx4MjNnZ21sX2NwdV9oYXNfdnN4JywwLGInXHgwMFx4MDBceDkwXHgyM2dnbWxfY3B1X2hhc193YXNtX3NpbWQnLDAsYidceDAwXHgwMVx4ODRceDIzZ2dtbF9jcHknLDAsYidceDAwXHgwMVx4ODRceDIzZ2dtbF9jcHlfaW5wbGFjZScsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX2Nyb3NzX2VudHJvcHlfbG9zcycsMCxiJ1x4MDBceDAxXHhBM1x4MjNnZ21sX2Nyb3NzX2VudHJvcHlfbG9zc19iYWNrJywwLGInXHgwMFx4MDNceDQxXHgyM2dnbWxfY3VkYV9hc3NpZ25fYnVmZmVycycsMCxiJ1x4MDBceDAzXHg0MVx4MjNnZ21sX2N1ZGFfYXNzaWduX2J1ZmZlcnNfZm9yY2VfaW5wbGFjZScsMCxiJ1x4MDBceDAzXHg0MVx4MjNnZ21sX2N1ZGFfYXNzaWduX2J1ZmZlcnNfbm9fc2NyYXRjaCcsMCxiJ1x4MDBceDAwXHgxQlx4MjNnZ21sX2N1ZGFfY2FuX211bF9tYXQnLDAsYidceDAwXHgwMFx4MDZceDIzZ2dtbF9jdWRhX2NvbXB1dGVfZm9yd2FyZCcsMCxiJ1x4MDBceDAzXHg0MVx4MjNnZ21sX2N1ZGFfZnJlZV9kYXRhJywwLGInXHgwMFx4MDNceEVDXHgyM2dnbWxfY3VkYV9mcmVlX3NjcmF0Y2gnLDAsYidceDAwXHgwMFx4OTBceDIzZ2dtbF9jdWRhX2dldF9kZXZpY2VfY291bnQnLDAsYidceDAwXHgwMlx4Q0VceDIzZ2dtbF9jdWRhX2dldF9kZXZpY2VfZGVzY3JpcHRpb24nLDAsYidceDAwXHgwM1x4RTBceDIzZ2dtbF9jdWRhX2hvc3RfZnJlZScsMCxiJ1x4MDBceDAyXHg3Mlx4MjNnZ21sX2N1ZGFfaG9zdF9tYWxsb2MnLDAsYidceDAwXHgwMlx4Q0JceDIzZ2dtbF9jdWRhX3NldF9tYWluX2RldmljZScsMCxiJ1x4MDBceDAyXHg3OVx4MjNnZ21sX2N1ZGFfc2V0X211bF9tYXRfcScsMCxiJ1x4MDBceDAzXHhEOFx4MjNnZ21sX2N1ZGFfc2V0X3NjcmF0Y2hfc2l6ZScsMCxiJ1x4MDBceDAyXHhBMFx4MjNnZ21sX2N1ZGFfc2V0X3RlbnNvcl9zcGxpdCcsMCxiJ1x4MDBceDAzXHhFM1x4MjNnZ21sX2N1ZGFfdHJhbnNmb3JtX3RlbnNvcicsMCxiJ1x4MDBceDAwXHg5NVx4MjNnZ21sX2N5Y2xlcycsMCxiJ1x4MDBceDAwXHg5NVx4MjNnZ21sX2N5Y2xlc19wZXJfbXMnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9kaWFnJywwLGInXHgwMFx4MDFceDIxXHgyM2dnbWxfZGlhZ19tYXNrX2luZicsMCxiJ1x4MDBceDAxXHgyMVx4MjNnZ21sX2RpYWdfbWFza19pbmZfaW5wbGFjZScsMCxiJ1x4MDBceDAxXHgyMVx4MjNnZ21sX2RpYWdfbWFza196ZXJvJywwLGInXHgwMFx4MDFceDIxXHgyM2dnbWxfZGlhZ19tYXNrX3plcm9faW5wbGFjZScsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX2RpdicsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX2Rpdl9pbnBsYWNlJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfZHVwJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfZHVwX2lucGxhY2UnLDAsYidceDAwXHgwMlx4MEJceDIzZ2dtbF9kdXBfdGVuc29yJywwLGInXHgwMFx4MDJceDREXHgyM2dnbWxfZWxlbWVudF9zaXplJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfZWx1JywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfZWx1X2lucGxhY2UnLDAsYidceDAwXHgwMVx4QTlceDIzZ2dtbF9mbGFzaF9hdHRuJywwLGInXHgwMFx4MDFceEIwXHgyM2dnbWxfZmxhc2hfYXR0bl9iYWNrJywwLGInXHgwMFx4MDFceEI4XHgyM2dnbWxfZmxhc2hfZmYnLDAsYidceDAwXHgwMlx4MTZceDIzZ2dtbF9mb3JtYXRfbmFtZScsMCxiJ1x4MDBceDAwXHg2Qlx4MjNnZ21sX2ZwMTZfdG9fZnAzMicsMCxiJ1x4MDBceDAzXHhEQlx4MjNnZ21sX2ZwMTZfdG9fZnAzMl9yb3cnLDAsYidceDAwXHgwMlx4NjJceDIzZ2dtbF9mcDMyX3RvX2ZwMTYnLDAsYidceDAwXHgwMlx4QzFceDIzZ2dtbF9mcDMyX3RvX2ZwMTZfcm93JywwLGInXHgwMFx4MDNceDAzXHgyM2dnbWxfZnJlZScsMCxiJ1x4MDBceDAwXHg1M1x4MjNnZ21sX2Z0eXBlX3RvX2dnbWxfdHlwZScsMCxiJ1x4MDBceDAwXHhGQVx4MjNnZ21sX2dlbHUnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9nZWx1X2lucGxhY2UnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9nZWx1X3F1aWNrJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfZ2VsdV9xdWlja19pbnBsYWNlJywwLGInXHgwMFx4MDJceDZDXHgyM2dnbWxfZ2V0X2RhdGEnLDAsYidceDAwXHgwMFx4NURceDIzZ2dtbF9nZXRfZGF0YV9mMzInLDAsYidceDAwXHgwMFx4NjNceDIzZ2dtbF9nZXRfZjMyXzFkJywwLGInXHgwMFx4MDBceDgxXHgyM2dnbWxfZ2V0X2kzMl8xZCcsMCxiJ1x4MDBceDAyXHg0QVx4MjNnZ21sX2dldF9tYXhfdGVuc29yX3NpemUnLDAsYidceDAwXHgwMlx4NjlceDIzZ2dtbF9nZXRfbWVtX2J1ZmZlcicsMCxiJ1x4MDBceDAyXHg0QVx4MjNnZ21sX2dldF9tZW1fc2l6ZScsMCxiJ1x4MDBceDAwXHgzNlx4MjNnZ21sX2dldF9uYW1lJywwLGInXHgwMFx4MDBceDBBXHgyM2dnbWxfZ2V0X25vX2FsbG9jJywwLGInXHgwMFx4MDFceDg0XHgyM2dnbWxfZ2V0X3Jvd3MnLDAsYidceDAwXHgwMVx4QTNceDIzZ2dtbF9nZXRfcm93c19iYWNrJywwLGInXHgwMFx4MDBceENFXHgyM2dnbWxfZ2V0X3RlbnNvcicsMCxiJ1x4MDBceDAwXHg1Nlx4MjNnZ21sX2dldF91bmFyeV9vcCcsMCxiJ1x4MDBceDAwXHg3N1x4MjNnZ21sX2dyYXBoX2NvbXB1dGUnLDAsYidceDAwXHgwM1x4MEFceDIzZ2dtbF9ncmFwaF9jb21wdXRlX3dpdGhfY3R4JywwLGInXHgwMFx4MDJceEZFXHgyM2dnbWxfZ3JhcGhfZHVtcF9kb3QnLDAsYidceDAwXHgwMlx4RkFceDIzZ2dtbF9ncmFwaF9leHBvcnQnLDAsYidceDAwXHgwMFx4Q0FceDIzZ2dtbF9ncmFwaF9nZXRfdGVuc29yJywwLGInXHgwMFx4MDBceEFFXHgyM2dnbWxfZ3JhcGhfaW1wb3J0JywwLGInXHgwMFx4MDJceDYwXHgyM2dnbWxfZ3JhcGhfb3ZlcmhlYWQnLDAsYidceDAwXHgwMFx4QkVceDIzZ2dtbF9ncmFwaF9wbGFuJywwLGInXHgwMFx4MDJceEY3XHgyM2dnbWxfZ3JhcGhfcHJpbnQnLDAsYidceDAwXHgwMlx4RjBceDIzZ2dtbF9ncmFwaF9yZXNldCcsMCxiJ1x4MDBceDAwXHhCQlx4MjNnZ21sX2luaXQnLDAsYidceDAwXHgwM1x4RUNceDIzZ2dtbF9pbml0X2N1YmxhcycsMCxiJ1x4MDBceDAwXHg2RVx4MjNnZ21sX2ludGVybmFsX2dldF90eXBlX3RyYWl0cycsMCxiJ1x4MDBceDAwXHgxNFx4MjNnZ21sX2lzX2NvbnRpZ3VvdXMnLDAsYidceDAwXHgwMFx4MjdceDIzZ2dtbF9pc19udW1hJywwLGInXHgwMFx4MDBceDE0XHgyM2dnbWxfaXNfcGVybXV0ZWQnLDAsYidceDAwXHgwMFx4MDBceDIzZ2dtbF9pc19xdWFudGl6ZWQnLDAsYidceDAwXHgwMFx4MTRceDIzZ2dtbF9pc190cmFuc3Bvc2VkJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfbG9nJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfbG9nX2lucGxhY2UnLDAsYidceDAwXHgwMVx4RTZceDIzZ2dtbF9tYXBfYmluYXJ5X2YzMicsMCxiJ1x4MDBceDAxXHhFNlx4MjNnZ21sX21hcF9iaW5hcnlfaW5wbGFjZV9mMzInLDAsYidceDAwXHgwMlx4MDRceDIzZ2dtbF9tYXBfY3VzdG9tMScsMCxiJ1x4MDBceDAxXHhGRlx4MjNnZ21sX21hcF9jdXN0b20xX2YzMicsMCxiJ1x4MDBceDAyXHgwNFx4MjNnZ21sX21hcF9jdXN0b20xX2lucGxhY2UnLDAsYidceDAwXHgwMVx4RkZceDIzZ2dtbF9tYXBfY3VzdG9tMV9pbnBsYWNlX2YzMicsMCxiJ1x4MDBceDAxXHhGMlx4MjNnZ21sX21hcF9jdXN0b20yJywwLGInXHgwMFx4MDFceEVDXHgyM2dnbWxfbWFwX2N1c3RvbTJfZjMyJywwLGInXHgwMFx4MDFceEYyXHgyM2dnbWxfbWFwX2N1c3RvbTJfaW5wbGFjZScsMCxiJ1x4MDBceDAxXHhFQ1x4MjNnZ21sX21hcF9jdXN0b20yX2lucGxhY2VfZjMyJywwLGInXHgwMFx4MDFceEM3XHgyM2dnbWxfbWFwX2N1c3RvbTMnLDAsYidceDAwXHgwMVx4QzBceDIzZ2dtbF9tYXBfY3VzdG9tM19mMzInLDAsYidceDAwXHgwMVx4QzdceDIzZ2dtbF9tYXBfY3VzdG9tM19pbnBsYWNlJywwLGInXHgwMFx4MDFceEMwXHgyM2dnbWxfbWFwX2N1c3RvbTNfaW5wbGFjZV9mMzInLDAsYidceDAwXHgwMVx4RkFceDIzZ2dtbF9tYXBfdW5hcnlfZjMyJywwLGInXHgwMFx4MDFceEZBXHgyM2dnbWxfbWFwX3VuYXJ5X2lucGxhY2VfZjMyJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfbWVhbicsMCxiJ1x4MDBceDAwXHgwRFx4MjNnZ21sX21ldGFsX2FkZF9idWZmZXInLDAsYidceDAwXHgwM1x4MUNceDIzZ2dtbF9tZXRhbF9mcmVlJywwLGInXHgwMFx4MDBceDcxXHgyM2dnbWxfbWV0YWxfZ2V0X2NvbmN1cl9saXN0JywwLGInXHgwMFx4MDNceDJDXHgyM2dnbWxfbWV0YWxfZ2V0X3RlbnNvcicsMCxiJ1x4MDBceDAzXHgyM1x4MjNnZ21sX21ldGFsX2dyYXBoX2NvbXB1dGUnLDAsYidceDAwXHgwM1x4MjdceDIzZ2dtbF9tZXRhbF9ncmFwaF9maW5kX2NvbmN1cnJlbmN5JywwLGInXHgwMFx4MDNceEUwXHgyM2dnbWxfbWV0YWxfaG9zdF9mcmVlJywwLGInXHgwMFx4MDJceDcyXHgyM2dnbWxfbWV0YWxfaG9zdF9tYWxsb2MnLDAsYidceDAwXHgwMFx4N0JceDIzZ2dtbF9tZXRhbF9pZl9vcHRpbWl6ZWQnLDAsYidceDAwXHgwMFx4QzJceDIzZ2dtbF9tZXRhbF9pbml0JywwLGInXHgwMFx4MDNceDFGXHgyM2dnbWxfbWV0YWxfc2V0X25fY2InLDAsYidceDAwXHgwM1x4MkNceDIzZ2dtbF9tZXRhbF9zZXRfdGVuc29yJywwLGInXHgwMFx4MDNceEVDXHgyM2dnbWxfbXBpX2JhY2tlbmRfZnJlZScsMCxiJ1x4MDBceDAzXHhFQ1x4MjNnZ21sX21waV9iYWNrZW5kX2luaXQnLDAsYidceDAwXHgwM1x4MzNceDIzZ2dtbF9tcGlfZXZhbF9pbml0JywwLGInXHgwMFx4MDNceDMwXHgyM2dnbWxfbXBpX2ZyZWUnLDAsYidceDAwXHgwM1x4MzlceDIzZ2dtbF9tcGlfZ3JhcGhfY29tcHV0ZV9wb3N0JywwLGInXHgwMFx4MDNceDM5XHgyM2dnbWxfbXBpX2dyYXBoX2NvbXB1dGVfcHJlJywwLGInXHgwMFx4MDBceEM1XHgyM2dnbWxfbXBpX2luaXQnLDAsYidceDAwXHgwMFx4N0VceDIzZ2dtbF9tcGlfcmFuaycsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX211bCcsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX211bF9pbnBsYWNlJywwLGInXHgwMFx4MDFceDg0XHgyM2dnbWxfbXVsX21hdCcsMCxiJ1x4MDBceDAyXHg0RFx4MjNnZ21sX25ieXRlcycsMCxiJ1x4MDBceDAyXHg0RFx4MjNnZ21sX25ieXRlc19wYWQnLDAsYidceDAwXHgwMlx4NTBceDIzZ2dtbF9uYnl0ZXNfc3BsaXQnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9uZWcnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9uZWdfaW5wbGFjZScsMCxiJ1x4MDBceDAwXHg5Mlx4MjNnZ21sX25lbGVtZW50cycsMCxiJ1x4MDBceDAwXHhGMlx4MjNnZ21sX25ld19mMzInLDAsYidceDAwXHgwMFx4QTdceDIzZ2dtbF9uZXdfZ3JhcGgnLDAsYidceDAwXHgwMFx4RjZceDIzZ2dtbF9uZXdfaTMyJywwLGInXHgwMFx4MDBceEQyXHgyM2dnbWxfbmV3X3RlbnNvcicsMCxiJ1x4MDBceDAwXHhEOFx4MjNnZ21sX25ld190ZW5zb3JfMWQnLDAsYidceDAwXHgwMFx4RERceDIzZ2dtbF9uZXdfdGVuc29yXzJkJywwLGInXHgwMFx4MDBceEUzXHgyM2dnbWxfbmV3X3RlbnNvcl8zZCcsMCxiJ1x4MDBceDAwXHhFQVx4MjNnZ21sX25ld190ZW5zb3JfNGQnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9ub3JtJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfbm9ybV9pbnBsYWNlJywwLGInXHgwMFx4MDBceDkyXHgyM2dnbWxfbnJvd3MnLDAsYidceDAwXHgwM1x4RUNceDIzZ2dtbF9udW1hX2luaXQnLDAsYidceDAwXHgwMFx4MkRceDIzZ2dtbF9vcF9uYW1lJywwLGInXHgwMFx4MDBceDJEXHgyM2dnbWxfb3Bfc3ltYm9sJywwLGInXHgwMFx4MDBceDRFXHgyM2dnbWxfb3B0JywwLGInXHgwMFx4MDBceEM3XHgyM2dnbWxfb3B0X2RlZmF1bHRfcGFyYW1zJywwLGInXHgwMFx4MDNceDBGXHgyM2dnbWxfb3B0X2luaXQnLDAsYidceDAwXHgwMFx4NDJceDIzZ2dtbF9vcHRfcmVzdW1lJywwLGInXHgwMFx4MDBceDQ3XHgyM2dnbWxfb3B0X3Jlc3VtZV9nJywwLGInXHgwMFx4MDFceDg0XHgyM2dnbWxfb3V0X3Byb2QnLDAsYidceDAwXHgwMVx4MzRceDIzZ2dtbF9wZXJtdXRlJywwLGInXHgwMFx4MDBceEZFXHgyM2dnbWxfcG9vbF8xZCcsMCxiJ1x4MDBceDAxXHgwNlx4MjNnZ21sX3Bvb2xfMmQnLDAsYidceDAwXHgwM1x4M0VceDIzZ2dtbF9wcmludF9vYmplY3QnLDAsYidceDAwXHgwM1x4MTlceDIzZ2dtbF9wcmludF9vYmplY3RzJywwLGInXHgwMFx4MDJceDMzXHgyM2dnbWxfcXVhbnRpemVfY2h1bmsnLDAsYidceDAwXHgwMlx4M0JceDIzZ2dtbF9xdWFudGl6ZV9xMl9LJywwLGInXHgwMFx4MDJceDNCXHgyM2dnbWxfcXVhbnRpemVfcTNfSycsMCxiJ1x4MDBceDAyXHgzQlx4MjNnZ21sX3F1YW50aXplX3E0XzAnLDAsYidceDAwXHgwMlx4M0JceDIzZ2dtbF9xdWFudGl6ZV9xNF8xJywwLGInXHgwMFx4MDJceDNCXHgyM2dnbWxfcXVhbnRpemVfcTRfSycsMCxiJ1x4MDBceDAyXHgzQlx4MjNnZ21sX3F1YW50aXplX3E1XzAnLDAsYidceDAwXHgwMlx4M0JceDIzZ2dtbF9xdWFudGl6ZV9xNV8xJywwLGInXHgwMFx4MDJceDNCXHgyM2dnbWxfcXVhbnRpemVfcTVfSycsMCxiJ1x4MDBceDAyXHgzQlx4MjNnZ21sX3F1YW50aXplX3E2X0snLDAsYidceDAwXHgwMlx4M0JceDIzZ2dtbF9xdWFudGl6ZV9xOF8wJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfcmVsdScsMCxiJ1x4MDBceDAwXHhGQVx4MjNnZ21sX3JlbHVfaW5wbGFjZScsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX3JlcGVhdCcsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX3JlcGVhdF9iYWNrJywwLGInXHgwMFx4MDFceDg0XHgyM2dnbWxfcmVzaGFwZScsMCxiJ1x4MDBceDAxXHg0Nlx4MjNnZ21sX3Jlc2hhcGVfMWQnLDAsYidceDAwXHgwMVx4NEJceDIzZ2dtbF9yZXNoYXBlXzJkJywwLGInXHgwMFx4MDFceDUxXHgyM2dnbWxfcmVzaGFwZV8zZCcsMCxiJ1x4MDBceDAxXHg1OFx4MjNnZ21sX3Jlc2hhcGVfNGQnLDAsYidceDAwXHgwMVx4MTZceDIzZ2dtbF9ybXNfbm9ybScsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX3Jtc19ub3JtX2JhY2snLDAsYidceDAwXHgwMVx4MTZceDIzZ2dtbF9ybXNfbm9ybV9pbnBsYWNlJywwLGInXHgwMFx4MDFceDM0XHgyM2dnbWxfcm9wZScsMCxiJ1x4MDBceDAxXHgzNFx4MjNnZ21sX3JvcGVfYmFjaycsMCxiJ1x4MDBceDAxXHgzQ1x4MjNnZ21sX3JvcGVfY3VzdG9tJywwLGInXHgwMFx4MDFceDNDXHgyM2dnbWxfcm9wZV9jdXN0b21faW5wbGFjZScsMCxiJ1x4MDBceDAxXHgzNFx4MjNnZ21sX3JvcGVfaW5wbGFjZScsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX3NjYWxlJywwLGInXHgwMFx4MDFceDg0XHgyM2dnbWxfc2NhbGVfaW5wbGFjZScsMCxiJ1x4MDBceDAxXHhERFx4MjNnZ21sX3NldCcsMCxiJ1x4MDBceDAxXHhEMFx4MjNnZ21sX3NldF8xZCcsMCxiJ1x4MDBceDAxXHhEMFx4MjNnZ21sX3NldF8xZF9pbnBsYWNlJywwLGInXHgwMFx4MDFceEQ2XHgyM2dnbWxfc2V0XzJkJywwLGInXHgwMFx4MDFceEQ2XHgyM2dnbWxfc2V0XzJkX2lucGxhY2UnLDAsYidceDAwXHgwMlx4MUFceDIzZ2dtbF9zZXRfZjMyJywwLGInXHgwMFx4MDNceDZFXHgyM2dnbWxfc2V0X2YzMl8xZCcsMCxiJ1x4MDBceDAyXHgxRVx4MjNnZ21sX3NldF9pMzInLDAsYidceDAwXHgwM1x4NzNceDIzZ2dtbF9zZXRfaTMyXzFkJywwLGInXHgwMFx4MDFceEREXHgyM2dnbWxfc2V0X2lucGxhY2UnLDAsYidceDAwXHgwMlx4MTJceDIzZ2dtbF9zZXRfbmFtZScsMCxiJ1x4MDBceDAzXHgwNlx4MjNnZ21sX3NldF9ub19hbGxvYycsMCxiJ1x4MDBceDAzXHgxNVx4MjNnZ21sX3NldF9wYXJhbScsMCxiJ1x4MDBceDAyXHg0Nlx4MjNnZ21sX3NldF9zY3JhdGNoJywwLGInXHgwMFx4MDJceDBGXHgyM2dnbWxfc2V0X3plcm8nLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9zZ24nLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9zZ25faW5wbGFjZScsMCxiJ1x4MDBceDAwXHhGQVx4MjNnZ21sX3NpbHUnLDAsYidceDAwXHgwMVx4ODRceDIzZ2dtbF9zaWx1X2JhY2snLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9zaWx1X2lucGxhY2UnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9zb2Z0X21heCcsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX3NvZnRfbWF4X2JhY2snLDAsYidceDAwXHgwMVx4ODRceDIzZ2dtbF9zb2Z0X21heF9iYWNrX2lucGxhY2UnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9zb2Z0X21heF9pbnBsYWNlJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfc3FyJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfc3FyX2lucGxhY2UnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF9zcXJ0JywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfc3FydF9pbnBsYWNlJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfc3RlcCcsMCxiJ1x4MDBceDAwXHhGQVx4MjNnZ21sX3N0ZXBfaW5wbGFjZScsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX3N1YicsMCxiJ1x4MDBceDAxXHg4NFx4MjNnZ21sX3N1Yl9pbnBsYWNlJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfc3VtJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfc3VtX3Jvd3MnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF90YW5oJywwLGInXHgwMFx4MDBceEZBXHgyM2dnbWxfdGFuaF9pbnBsYWNlJywwLGInXHgwMFx4MDJceDYwXHgyM2dnbWxfdGVuc29yX292ZXJoZWFkJywwLGInXHgwMFx4MDNceEVDXHgyM2dnbWxfdGltZV9pbml0JywwLGInXHgwMFx4MDBceDk1XHgyM2dnbWxfdGltZV9tcycsMCxiJ1x4MDBceDAwXHg5NVx4MjNnZ21sX3RpbWVfdXMnLDAsYidceDAwXHgwMFx4RkFceDIzZ2dtbF90cmFuc3Bvc2UnLDAsYidceDAwXHgwMFx4MzBceDIzZ2dtbF90eXBlX25hbWUnLDAsYidceDAwXHgwMlx4MzBceDIzZ2dtbF90eXBlX3NpemUnLDAsYidceDAwXHgwMFx4NjBceDIzZ2dtbF90eXBlX3NpemVmJywwLGInXHgwMFx4MDFceDExXHgyM2dnbWxfdW5hcnknLDAsYidceDAwXHgwMVx4MTFceDIzZ2dtbF91bmFyeV9pbnBsYWNlJywwLGInXHgwMFx4MDJceDRBXHgyM2dnbWxfdXNlZF9tZW0nLDAsYidceDAwXHgwMlx4REVceDIzZ2dtbF92ZWNfZG90X3EyX0tfcThfSycsMCxiJ1x4MDBceDAyXHhERVx4MjNnZ21sX3ZlY19kb3RfcTNfS19xOF9LJywwLGInXHgwMFx4MDJceERFXHgyM2dnbWxfdmVjX2RvdF9xNF9LX3E4X0snLDAsYidceDAwXHgwMlx4REVceDIzZ2dtbF92ZWNfZG90X3E1X0tfcThfSycsMCxiJ1x4MDBceDAyXHhERVx4MjNnZ21sX3ZlY19kb3RfcTZfS19xOF9LJywwLGInXHgwMFx4MDFceDdFXHgyM2dnbWxfdmlld18xZCcsMCxiJ1x4MDBceDAxXHg3Nlx4MjNnZ21sX3ZpZXdfMmQnLDAsYidceDAwXHgwMVx4NkNceDIzZ2dtbF92aWV3XzNkJywwLGInXHgwMFx4MDFceDYwXHgyM2dnbWxfdmlld180ZCcsMCxiJ1x4MDBceDAyXHgwQlx4MjNnZ21sX3ZpZXdfdGVuc29yJywwLGInXHgwMFx4MDFceDIxXHgyM2dnbWxfd2luX3BhcnQnLDAsYidceDAwXHgwMVx4MkRceDIzZ2dtbF93aW5fdW5wYXJ0JywwLGInXHgwMFx4MDNceENDXHgyM2dndWZfYWRkX3RlbnNvcicsMCxiJ1x4MDBceDAwXHg4OFx4MjNnZ3VmX2ZpbmRfa2V5JywwLGInXHgwMFx4MDBceDg4XHgyM2dndWZfZmluZF90ZW5zb3InLDAsYidceDAwXHgwM1x4ODRceDIzZ2d1Zl9mcmVlJywwLGInXHgwMFx4MDJceDU5XHgyM2dndWZfZ2V0X2FsaWdubWVudCcsMCxiJ1x4MDBceDAyXHg3NVx4MjNnZ3VmX2dldF9hcnJfZGF0YScsMCxiJ1x4MDBceDAwXHg4Q1x4MjNnZ3VmX2dldF9hcnJfbicsMCxiJ1x4MDBceDAwXHgzRFx4MjNnZ3VmX2dldF9hcnJfc3RyJywwLGInXHgwMFx4MDBceDU5XHgyM2dndWZfZ2V0X2Fycl90eXBlJywwLGInXHgwMFx4MDJceDZGXHgyM2dndWZfZ2V0X2RhdGEnLDAsYidceDAwXHgwMlx4NTlceDIzZ2d1Zl9nZXRfZGF0YV9vZmZzZXQnLDAsYidceDAwXHgwMFx4MzlceDIzZ2d1Zl9nZXRfa2V5JywwLGInXHgwMFx4MDBceDU5XHgyM2dndWZfZ2V0X2t2X3R5cGUnLDAsYidceDAwXHgwM1x4RDRceDIzZ2d1Zl9nZXRfbWV0YV9kYXRhJywwLGInXHgwMFx4MDJceDU5XHgyM2dndWZfZ2V0X21ldGFfc2l6ZScsMCxiJ1x4MDBceDAwXHg4NVx4MjNnZ3VmX2dldF9uX2t2JywwLGInXHgwMFx4MDBceDg1XHgyM2dndWZfZ2V0X25fdGVuc29ycycsMCxiJ1x4MDBceDAwXHgyOVx4MjNnZ3VmX2dldF90ZW5zb3JfbmFtZScsMCxiJ1x4MDBceDAyXHg1Q1x4MjNnZ3VmX2dldF90ZW5zb3Jfb2Zmc2V0JywwLGInXHgwMFx4MDBceDIwXHgyM2dndWZfZ2V0X3ZhbF9ib29sJywwLGInXHgwMFx4MDBceDY3XHgyM2dndWZfZ2V0X3ZhbF9mMzInLDAsYidceDAwXHgwMFx4OTdceDIzZ2d1Zl9nZXRfdmFsX2kxNicsMCxiJ1x4MDBceDAwXHg4Q1x4MjNnZ3VmX2dldF92YWxfaTMyJywwLGInXHgwMFx4MDBceDlCXHgyM2dndWZfZ2V0X3ZhbF9pOCcsMCxiJ1x4MDBceDAwXHgzOVx4MjNnZ3VmX2dldF92YWxfc3RyJywwLGInXHgwMFx4MDJceDY1XHgyM2dndWZfZ2V0X3ZhbF91MTYnLDAsYidceDAwXHgwMlx4MkNceDIzZ2d1Zl9nZXRfdmFsX3UzMicsMCxiJ1x4MDBceDAyXHgyOFx4MjNnZ3VmX2dldF92YWxfdTgnLDAsYidceDAwXHgwMFx4ODVceDIzZ2d1Zl9nZXRfdmVyc2lvbicsMCxiJ1x4MDBceDAyXHgyNlx4MjNnZ3VmX2luaXRfZW1wdHknLDAsYidceDAwXHgwMlx4MjJceDIzZ2d1Zl9pbml0X2Zyb21fZmlsZScsMCxiJ1x4MDBceDAzXHg5Q1x4MjNnZ3VmX3NldF9hcnJfZGF0YScsMCxiJ1x4MDBceDAzXHg4Q1x4MjNnZ3VmX3NldF9hcnJfc3RyJywwLGInXHgwMFx4MDNceEQwXHgyM2dndWZfc2V0X2t2JywwLGInXHgwMFx4MDNceEM2XHgyM2dndWZfc2V0X3RlbnNvcl9kYXRhJywwLGInXHgwMFx4MDNceDk3XHgyM2dndWZfc2V0X3RlbnNvcl90eXBlJywwLGInXHgwMFx4MDNceDg3XHgyM2dndWZfc2V0X3ZhbF9ib29sJywwLGInXHgwMFx4MDNceEEzXHgyM2dndWZfc2V0X3ZhbF9mMzInLDAsYidceDAwXHgwM1x4QURceDIzZ2d1Zl9zZXRfdmFsX2kxNicsMCxiJ1x4MDBceDAzXHhBOFx4MjNnZ3VmX3NldF92YWxfaTMyJywwLGInXHgwMFx4MDNceEIyXHgyM2dndWZfc2V0X3ZhbF9pOCcsMCxiJ1x4MDBceDAzXHg5Mlx4MjNnZ3VmX3NldF92YWxfc3RyJywwLGInXHgwMFx4MDNceEMxXHgyM2dndWZfc2V0X3ZhbF91MTYnLDAsYidceDAwXHgwM1x4QkNceDIzZ2d1Zl9zZXRfdmFsX3UzMicsMCxiJ1x4MDBceDAzXHhCN1x4MjNnZ3VmX3NldF92YWxfdTgnLDAsYidceDAwXHgwMFx4MzNceDIzZ2d1Zl90eXBlX25hbWUnLDAsYidceDAwXHgwM1x4ODdceDIzZ2d1Zl93cml0ZV90b19maWxlJywwLGInXHgwMFx4MDJceEM2XHgyM3F1YW50aXplX3Jvd19xMl9LJywwLGInXHgwMFx4MDJceEEzXHgyM3F1YW50aXplX3Jvd19xMl9LX3JlZmVyZW5jZScsMCxiJ1x4MDBceDAyXHhDNlx4MjNxdWFudGl6ZV9yb3dfcTNfSycsMCxiJ1x4MDBceDAyXHhBOFx4MjNxdWFudGl6ZV9yb3dfcTNfS19yZWZlcmVuY2UnLDAsYidceDAwXHgwMlx4QzZceDIzcXVhbnRpemVfcm93X3E0X0snLDAsYidceDAwXHgwMlx4QURceDIzcXVhbnRpemVfcm93X3E0X0tfcmVmZXJlbmNlJywwLGInXHgwMFx4MDJceEM2XHgyM3F1YW50aXplX3Jvd19xNV9LJywwLGInXHgwMFx4MDJceEIyXHgyM3F1YW50aXplX3Jvd19xNV9LX3JlZmVyZW5jZScsMCxiJ1x4MDBceDAyXHhDNlx4MjNxdWFudGl6ZV9yb3dfcTZfSycsMCxiJ1x4MDBceDAyXHhCN1x4MjNxdWFudGl6ZV9yb3dfcTZfS19yZWZlcmVuY2UnLDAsYidceDAwXHgwMlx4QzZceDIzcXVhbnRpemVfcm93X3E4X0snLDAsYidceDAwXHgwMlx4QkNceDIzcXVhbnRpemVfcm93X3E4X0tfcmVmZXJlbmNlJywwKSwKICAgIF9zdHJ1Y3RfdW5pb25zID0gKChiJ1x4MDBceDAwXHgwNFx4MjdceDAwXHgwMFx4MDBceDAyJDEnLGInXHgwMFx4MDBceDIyXHgxMW5faXRlcicsYidceDAwXHgwMFx4RjRceDExc2NoZWQnLGInXHgwMFx4MDBceEY0XHgxMWRlY2F5JyxiJ1x4MDBceDAwXHhGNFx4MTFhbHBoYScsYidceDAwXHgwMFx4RjRceDExYmV0YTEnLGInXHgwMFx4MDBceEY0XHgxMWJldGEyJyxiJ1x4MDBceDAwXHhGNFx4MTFlcHMnLGInXHgwMFx4MDBceEY0XHgxMWVwc19mJyxiJ1x4MDBceDAwXHhGNFx4MTFlcHNfZycpLChiJ1x4MDBceDAwXHgwNFx4MjhceDAwXHgwMFx4MDBceDAyJDInLGInXHgwMFx4MDBceDIyXHgxMW0nLGInXHgwMFx4MDBceDIyXHgxMW5faXRlcicsYidceDAwXHgwMFx4MjJceDExbWF4X2xpbmVzZWFyY2gnLGInXHgwMFx4MDBceEY0XHgxMWVwcycsYidceDAwXHgwMFx4RjRceDExZnRvbCcsYidceDAwXHgwMFx4RjRceDExd29sZmUnLGInXHgwMFx4MDBceEY0XHgxMW1pbl9zdGVwJyxiJ1x4MDBceDAwXHhGNFx4MTFtYXhfc3RlcCcsYidceDAwXHgwNFx4MTRceDExbGluZXNlYXJjaCcpLChiJ1x4MDBceDAwXHgwNFx4MjlceDAwXHgwMFx4MDBceDAyJDMnLGInXHgwMFx4MDBceDA4XHgxMXgnLGInXHgwMFx4MDBceDA4XHgxMWcxJyxiJ1x4MDBceDAwXHgwOFx4MTFnMicsYidceDAwXHgwMFx4MDhceDExbScsYidceDAwXHgwMFx4MDhceDExdicsYidceDAwXHgwMFx4MDhceDExbWgnLGInXHgwMFx4MDBceDA4XHgxMXZoJyxiJ1x4MDBceDAwXHgwOFx4MTFwZicsYidceDAwXHgwMFx4RjRceDExZnhfYmVzdCcsYidceDAwXHgwMFx4RjRceDExZnhfcHJldicsYidceDAwXHgwMFx4MjJceDExbl9ub19pbXByb3ZlbWVudCcpLChiJ1x4MDBceDAwXHgwNFx4MkFceDAwXHgwMFx4MDBceDAyJDQnLGInXHgwMFx4MDBceDA4XHgxMXgnLGInXHgwMFx4MDBceDA4XHgxMXhwJyxiJ1x4MDBceDAwXHgwOFx4MTFnJyxiJ1x4MDBceDAwXHgwOFx4MTFncCcsYidceDAwXHgwMFx4MDhceDExZCcsYidceDAwXHgwMFx4MDhceDExcGYnLGInXHgwMFx4MDBceDA4XHgxMWxtYWwnLGInXHgwMFx4MDBceDA4XHgxMWxteXMnLGInXHgwMFx4MDBceDA4XHgxMWxtcycsYidceDAwXHgwMFx4MDhceDExbG15JyxiJ1x4MDBceDAwXHhGNFx4MTFmeF9iZXN0JyxiJ1x4MDBceDAwXHhGNFx4MTFzdGVwJyxiJ1x4MDBceDAwXHgyMlx4MTFqJyxiJ1x4MDBceDAwXHgyMlx4MTFrJyxiJ1x4MDBceDAwXHgyMlx4MTFlbmQnLGInXHgwMFx4MDBceDIyXHgxMW5fbm9faW1wcm92ZW1lbnQnKSwoYidceDAwXHgwMFx4MDNceEY3XHgwMFx4MDBceDAwXHgwMyRfX21ic3RhdGVfdCcsYidceDAwXHgwM1x4RkZceDExX19tYnN0YXRlOCcsYidceDAwXHgwMFx4REJceDExX21ic3RhdGVMJyksKGInXHgwMFx4MDBceDAzXHhGOFx4MDBceDAwXHgwMFx4MDIkYmxvY2tfcTJfSycsYidceDAwXHgwNFx4NDRceDExc2NhbGVzJyxiJ1x4MDBceDA0XHg0OFx4MTFxcycsYidceDAwXHgwMFx4NkNceDExZCcsYidceDAwXHgwMFx4NkNceDExZG1pbicpLChiJ1x4MDBceDAwXHgwM1x4RjlceDAwXHgwMFx4MDBceDAyJGJsb2NrX3EzX0snLGInXHgwMFx4MDRceDQ2XHgxMWhtYXNrJyxiJ1x4MDBceDA0XHg0OFx4MTFxcycsYidceDAwXHgwNFx4NDJceDExc2NhbGVzJyxiJ1x4MDBceDAwXHg2Q1x4MTFkJyksKGInXHgwMFx4MDBceDAzXHhGQVx4MDBceDAwXHgwMFx4MDIkYmxvY2tfcTRfSycsYidceDAwXHgwMFx4NkNceDExZCcsYidceDAwXHgwMFx4NkNceDExZG1pbicsYidceDAwXHgwNFx4NDJceDExc2NhbGVzJyxiJ1x4MDBceDA0XHg0MFx4MTFxcycpLChiJ1x4MDBceDAwXHgwM1x4RkJceDAwXHgwMFx4MDBceDAyJGJsb2NrX3E1X0snLGInXHgwMFx4MDBceDZDXHgxMWQnLGInXHgwMFx4MDBceDZDXHgxMWRtaW4nLGInXHgwMFx4MDRceDQyXHgxMXNjYWxlcycsYidceDAwXHgwNFx4NDZceDExcWgnLGInXHgwMFx4MDRceDQwXHgxMXFzJyksKGInXHgwMFx4MDBceDAzXHhGQ1x4MDBceDAwXHgwMFx4MDIkYmxvY2tfcTZfSycsYidceDAwXHgwNFx4NDBceDExcWwnLGInXHgwMFx4MDRceDQ4XHgxMXFoJyxiJ1x4MDBceDA0XHgyM1x4MTFzY2FsZXMnLGInXHgwMFx4MDBceDZDXHgxMWQnKSwoYidceDAwXHgwMFx4MDNceEZEXHgwMFx4MDBceDAwXHgwMiRibG9ja19xOF9LJyxiJ1x4MDBceDAwXHhGNFx4MTFkJyxiJ1x4MDBceDA0XHgyNVx4MTFxcycsYidceDAwXHgwNFx4MjFceDExYnN1bXMnKSwoYidceDAwXHgwMFx4MDRceDE4XHgwMFx4MDBceDAwXHgwMiRnZ21sX3R5cGVfdHJhaXRzX3QnLGInXHgwMFx4MDBceDBGXHgxMXR5cGVfbmFtZScsYidceDAwXHgwMFx4MjJceDExYmxja19zaXplJyxiJ1x4MDBceDAwXHgxMVx4MTF0eXBlX3NpemUnLGInXHgwMFx4MDBceEI2XHgxMWlzX3F1YW50aXplZCcsYidceDAwXHgwNFx4NTJceDExdG9fZmxvYXQnLGInXHgwMFx4MDRceDRGXHgxMWZyb21fZmxvYXQnLGInXHgwMFx4MDRceDRGXHgxMWZyb21fZmxvYXRfcmVmZXJlbmNlJyxiJ1x4MDBceDA0XHg1MFx4MTF2ZWNfZG90JyxiJ1x4MDBceDAwXHgwMVx4MTF2ZWNfZG90X3R5cGUnKSwoYidceDAwXHgwMFx4MDRceDJDXHgwMFx4MDBceDAwXHgwMl9fZGFyd2luX3B0aHJlYWRfaGFuZGxlcl9yZWMnLGInXHgwMFx4MDRceDUxXHgxMV9fcm91dGluZScsYidceDAwXHgwMFx4MTBceDExX19hcmcnLGInXHgwMFx4MDRceDJCXHgxMV9fbmV4dCcpLChiJ1x4MDBceDAwXHgwM1x4RUZceDAwXHgwMFx4MDBceDAyX29wYXF1ZV9wdGhyZWFkX2F0dHJfdCcsYidceDAwXHgwNFx4MjBceDExX19zaWcnLGInXHgwMFx4MDRceDBCXHgxMV9fb3BhcXVlJyksKGInXHgwMFx4MDBceDAzXHhGMFx4MDBceDAwXHgwMFx4MDJfb3BhcXVlX3B0aHJlYWRfY29uZF90JyxiJ1x4MDBceDA0XHgyMFx4MTFfX3NpZycsYidceDAwXHgwNFx4MDdceDExX19vcGFxdWUnKSwoYidceDAwXHgwMFx4MDNceEYxXHgwMFx4MDBceDAwXHgwMl9vcGFxdWVfcHRocmVhZF9jb25kYXR0cl90JyxiJ1x4MDBceDA0XHgyMFx4MTFfX3NpZycsYidceDAwXHgwNFx4MTFceDExX19vcGFxdWUnKSwoYidceDAwXHgwMFx4MDNceEYyXHgwMFx4MDBceDAwXHgwMl9vcGFxdWVfcHRocmVhZF9tdXRleF90JyxiJ1x4MDBceDA0XHgyMFx4MTFfX3NpZycsYidceDAwXHgwNFx4MEJceDExX19vcGFxdWUnKSwoYidceDAwXHgwMFx4MDNceEYzXHgwMFx4MDBceDAwXHgwMl9vcGFxdWVfcHRocmVhZF9tdXRleGF0dHJfdCcsYidceDAwXHgwNFx4MjBceDExX19zaWcnLGInXHgwMFx4MDRceDExXHgxMV9fb3BhcXVlJyksKGInXHgwMFx4MDBceDAzXHhGNFx4MDBceDAwXHgwMFx4MDJfb3BhcXVlX3B0aHJlYWRfb25jZV90JyxiJ1x4MDBceDA0XHgyMFx4MTFfX3NpZycsYidceDAwXHgwNFx4MTFceDExX19vcGFxdWUnKSwoYidceDAwXHgwMFx4MDNceEY1XHgwMFx4MDBceDAwXHgwMl9vcGFxdWVfcHRocmVhZF9yd2xvY2tfdCcsYidceDAwXHgwNFx4MjBceDExX19zaWcnLGInXHgwMFx4MDRceDAzXHgxMV9fb3BhcXVlJyksKGInXHgwMFx4MDBceDAzXHhGNlx4MDBceDAwXHgwMFx4MDJfb3BhcXVlX3B0aHJlYWRfcndsb2NrYXR0cl90JyxiJ1x4MDBceDA0XHgyMFx4MTFfX3NpZycsYidceDAwXHgwNFx4MDFceDExX19vcGFxdWUnKSwoYidceDAwXHgwMFx4MDRceDJFXHgwMFx4MDBceDAwXHgwMl9vcGFxdWVfcHRocmVhZF90JyxiJ1x4MDBceDA0XHgyMFx4MTFfX3NpZycsYidceDAwXHgwNFx4MkJceDExX19jbGVhbnVwX3N0YWNrJyxiJ1x4MDBceDA0XHgwRlx4MTFfX29wYXF1ZScpLChiJ1x4MDBceDAwXHgwNFx4MkZceDAwXHgwMFx4MDBceDEwZ2dtbF9hbGxvY3InLCksKGInXHgwMFx4MDBceDA0XHgzMFx4MDBceDAwXHgwMFx4MDJnZ21sX2NncmFwaCcsYidceDAwXHgwMFx4MjJceDExbl9ub2RlcycsYidceDAwXHgwMFx4MjJceDExbl9sZWFmcycsYidceDAwXHgwNFx4MzlceDExbm9kZXMnLGInXHgwMFx4MDRceDM5XHgxMWdyYWRzJyxiJ1x4MDBceDA0XHgzOVx4MTFsZWFmcycsYidceDAwXHgwNFx4NERceDExdmlzaXRlZF9oYXNoX3RhYmxlJyxiJ1x4MDBceDAwXHgyMlx4MTFwZXJmX3J1bnMnLGInXHgwMFx4MDBceERCXHgxMXBlcmZfY3ljbGVzJyxiJ1x4MDBceDAwXHhEQlx4MTFwZXJmX3RpbWVfdXMnKSwoYidceDAwXHgwMFx4MDRceDMxXHgwMFx4MDBceDAwXHgwMmdnbWxfY29tcHV0ZV9wYXJhbXMnLGInXHgwMFx4MDRceDE3XHgxMXR5cGUnLGInXHgwMFx4MDBceDIyXHgxMWl0aCcsYidceDAwXHgwMFx4MjJceDExbnRoJyxiJ1x4MDBceDAwXHgxMVx4MTF3c2l6ZScsYidceDAwXHgwMFx4MTBceDExd2RhdGEnKSwoYidceDAwXHgwMFx4MDRceDMyXHgwMFx4MDBceDAwXHgxMGdnbWxfY29udGV4dCcsKSwoYidceDAwXHgwMFx4MDRceDMzXHgwMFx4MDBceDAwXHgwMmdnbWxfY3BsYW4nLGInXHgwMFx4MDBceDExXHgxMXdvcmtfc2l6ZScsYidceDAwXHgwNFx4M0ZceDExd29ya19kYXRhJyxiJ1x4MDBceDAwXHgyMlx4MTFuX3RocmVhZHMnLGInXHgwMFx4MDRceDE5XHgxMW5fdGFza3MnLGInXHgwMFx4MDNceEVFXHgxMWFib3J0X2NhbGxiYWNrJyxiJ1x4MDBceDAwXHgxMFx4MTFhYm9ydF9jYWxsYmFja19kYXRhJyksKGInXHgwMFx4MDBceDAwXHhCQ1x4MDBceDAwXHgwMFx4MDJnZ21sX2luaXRfcGFyYW1zJyxiJ1x4MDBceDAwXHgxMVx4MTFtZW1fc2l6ZScsYidceDAwXHgwMFx4MTBceDExbWVtX2J1ZmZlcicsYidceDAwXHgwMFx4QjZceDExbm9fYWxsb2MnKSwoYidceDAwXHgwMFx4MDRceDM0XHgwMFx4MDBceDAwXHgxMGdnbWxfbWV0YWxfY29udGV4dCcsKSwoYidceDAwXHgwMFx4MDRceDM1XHgwMFx4MDBceDAwXHgxMGdnbWxfbXBpX2NvbnRleHQnLCksKGInXHgwMFx4MDBceDA0XHgzN1x4MDBceDAwXHgwMFx4MDJnZ21sX29iamVjdCcsYidceDAwXHgwMFx4MTFceDExb2ZmcycsYidceDAwXHgwMFx4MTFceDExc2l6ZScsYidceDAwXHgwNFx4MzZceDExbmV4dCcsYidceDAwXHgwNFx4MTVceDExdHlwZScsYidceDAwXHgwNFx4MDlceDExcGFkZGluZycpLChiJ1x4MDBceDAwXHgwNFx4MzhceDAwXHgwMFx4MDBceDAyZ2dtbF9vcHRfY29udGV4dCcsYidceDAwXHgwMFx4MEJceDExY3R4JyxiJ1x4MDBceDAwXHg1MFx4MTFwYXJhbXMnLGInXHgwMFx4MDBceDIyXHgxMWl0ZXInLGInXHgwMFx4MDBceERCXHgxMW54JyxiJ1x4MDBceDAwXHhCNlx4MTFqdXN0X2luaXRpYWxpemVkJyxiJ1x4MDBceDA0XHgyOVx4MTFhZGFtJyxiJ1x4MDBceDA0XHgyQVx4MTFsYmZncycpLChiJ1x4MDBceDAwXHgwMFx4NTBceDAwXHgwMFx4MDBceDAyZ2dtbF9vcHRfcGFyYW1zJyxiJ1x4MDBceDAwXHhDOFx4MTF0eXBlJyxiJ1x4MDBceDAwXHgyMlx4MTFuX3RocmVhZHMnLGInXHgwMFx4MDBceDIyXHgxMXBhc3QnLGInXHgwMFx4MDBceEY0XHgxMWRlbHRhJyxiJ1x4MDBceDAwXHgyMlx4MTFtYXhfbm9faW1wcm92ZW1lbnQnLGInXHgwMFx4MDBceEI2XHgxMXByaW50X2ZvcndhcmRfZ3JhcGgnLGInXHgwMFx4MDBceEI2XHgxMXByaW50X2JhY2t3YXJkX2dyYXBoJyxiJ1x4MDBceDA0XHgyN1x4MTFhZGFtJyxiJ1x4MDBceDA0XHgyOFx4MTFsYmZncycpLChiJ1x4MDBceDAwXHgwMlx4NDhceDAwXHgwMFx4MDBceDAyZ2dtbF9zY3JhdGNoJyxiJ1x4MDBceDAwXHgxMVx4MTFvZmZzJyxiJ1x4MDBceDAwXHgxMVx4MTFzaXplJyxiJ1x4MDBceDAwXHgxMFx4MTFkYXRhJyksKGInXHgwMFx4MDBceDA0XHgzRFx4MDBceDAwXHgwMFx4MDJnZ21sX3RlbnNvcicsYidceDAwXHgwMFx4MDFceDExdHlwZScsYidceDAwXHgwNFx4MTNceDExYmFja2VuZCcsYidceDAwXHgwMFx4MjJceDExbl9kaW1zJyxiJ1x4MDBceDA0XHgxRVx4MTFuZScsYidceDAwXHgwNFx4NEJceDExbmInLGInXHgwMFx4MDBceDJFXHgxMW9wJyxiJ1x4MDBceDA0XHgxQlx4MTFvcF9wYXJhbXMnLGInXHgwMFx4MDBceEI2XHgxMWlzX3BhcmFtJyxiJ1x4MDBceDAwXHgwOFx4MTFncmFkJyxiJ1x4MDBceDA0XHgzQlx4MTFzcmMnLGInXHgwMFx4MDBceDIyXHgxMXBlcmZfcnVucycsYidceDAwXHgwMFx4REJceDExcGVyZl9jeWNsZXMnLGInXHgwMFx4MDBceERCXHgxMXBlcmZfdGltZV91cycsYidceDAwXHgwMFx4MTBceDExZGF0YScsYidceDAwXHgwNFx4MERceDExbmFtZScsYidceDAwXHgwMFx4MTBceDExZXh0cmEnLGInXHgwMFx4MDRceDA5XHgxMXBhZGRpbmcnKSwoYidceDAwXHgwMFx4MDRceDNFXHgwMFx4MDBceDAwXHgxMGdndWZfY29udGV4dCcsKSwoYidceDAwXHgwMFx4MDJceDI0XHgwMFx4MDBceDAwXHgwMmdndWZfaW5pdF9wYXJhbXMnLGInXHgwMFx4MDBceEI2XHgxMW5vX2FsbG9jJyxiJ1x4MDBceDAwXHhCMFx4MTFjdHgnKSksCiAgICBfZW51bXMgPSAoYidceDAwXHgwMFx4MDRceDEzXHgwMFx4MDBceDAwXHgxNmdnbWxfYmFja2VuZFx4MDBHR01MX0JBQ0tFTkRfQ1BVLEdHTUxfQkFDS0VORF9HUFUsR0dNTF9CQUNLRU5EX0dQVV9TUExJVCcsYidceDAwXHgwMFx4MDBceDU0XHgwMFx4MDBceDAwXHgxNWdnbWxfZnR5cGVceDAwR0dNTF9GVFlQRV9VTktOT1dOLEdHTUxfRlRZUEVfQUxMX0YzMixHR01MX0ZUWVBFX01PU1RMWV9GMTYsR0dNTF9GVFlQRV9NT1NUTFlfUTRfMCxHR01MX0ZUWVBFX01PU1RMWV9RNF8xLEdHTUxfRlRZUEVfTU9TVExZX1E0XzFfU09NRV9GMTYsR0dNTF9GVFlQRV9NT1NUTFlfUThfMCxHR01MX0ZUWVBFX01PU1RMWV9RNV8wLEdHTUxfRlRZUEVfTU9TVExZX1E1XzEsR0dNTF9GVFlQRV9NT1NUTFlfUTJfSyxHR01MX0ZUWVBFX01PU1RMWV9RM19LLEdHTUxfRlRZUEVfTU9TVExZX1E0X0ssR0dNTF9GVFlQRV9NT1NUTFlfUTVfSyxHR01MX0ZUWVBFX01PU1RMWV9RNl9LJyxiJ1x4MDBceDAwXHgwNFx4MTRceDAwXHgwMFx4MDBceDE2Z2dtbF9saW5lc2VhcmNoXHgwMEdHTUxfTElORVNFQVJDSF9ERUZBVUxULEdHTUxfTElORVNFQVJDSF9CQUNLVFJBQ0tJTkdfQVJNSUpPLEdHTUxfTElORVNFQVJDSF9CQUNLVFJBQ0tJTkdfV09MRkUsR0dNTF9MSU5FU0VBUkNIX0JBQ0tUUkFDS0lOR19TVFJPTkdfV09MRkUnLGInXHgwMFx4MDBceDA0XHgxNVx4MDBceDAwXHgwMFx4MTZnZ21sX29iamVjdF90eXBlXHgwMEdHTUxfT0JKRUNUX1RFTlNPUixHR01MX09CSkVDVF9HUkFQSCxHR01MX09CSkVDVF9XT1JLX0JVRkZFUicsYidceDAwXHgwMFx4MDBceDJFXHgwMFx4MDBceDAwXHgxNmdnbWxfb3BceDAwR0dNTF9PUF9OT05FLEdHTUxfT1BfRFVQLEdHTUxfT1BfQURELEdHTUxfT1BfQUREMSxHR01MX09QX0FDQyxHR01MX09QX1NVQixHR01MX09QX01VTCxHR01MX09QX0RJVixHR01MX09QX1NRUixHR01MX09QX1NRUlQsR0dNTF9PUF9MT0csR0dNTF9PUF9TVU0sR0dNTF9PUF9TVU1fUk9XUyxHR01MX09QX01FQU4sR0dNTF9PUF9BUkdNQVgsR0dNTF9PUF9SRVBFQVQsR0dNTF9PUF9SRVBFQVRfQkFDSyxHR01MX09QX1NJTFVfQkFDSyxHR01MX09QX05PUk0sR0dNTF9PUF9STVNfTk9STSxHR01MX09QX1JNU19OT1JNX0JBQ0ssR0dNTF9PUF9NVUxfTUFULEdHTUxfT1BfT1VUX1BST0QsR0dNTF9PUF9TQ0FMRSxHR01MX09QX1NFVCxHR01MX09QX0NQWSxHR01MX09QX0NPTlQsR0dNTF9PUF9SRVNIQVBFLEdHTUxfT1BfVklFVyxHR01MX09QX1BFUk1VVEUsR0dNTF9PUF9UUkFOU1BPU0UsR0dNTF9PUF9HRVRfUk9XUyxHR01MX09QX0dFVF9ST1dTX0JBQ0ssR0dNTF9PUF9ESUFHLEdHTUxfT1BfRElBR19NQVNLX0lORixHR01MX09QX0RJQUdfTUFTS19aRVJPLEdHTUxfT1BfU09GVF9NQVgsR0dNTF9PUF9TT0ZUX01BWF9CQUNLLEdHTUxfT1BfUk9QRSxHR01MX09QX1JPUEVfQkFDSyxHR01MX09QX0FMSUJJLEdHTUxfT1BfQ0xBTVAsR0dNTF9PUF9DT05WXzFELEdHTUxfT1BfQ09OVl8yRCxHR01MX09QX1BPT0xfMUQsR0dNTF9PUF9QT09MXzJELEdHTUxfT1BfRkxBU0hfQVRUTixHR01MX09QX0ZMQVNIX0ZGLEdHTUxfT1BfRkxBU0hfQVRUTl9CQUNLLEdHTUxfT1BfV0lOX1BBUlQsR0dNTF9PUF9XSU5fVU5QQVJULEdHTUxfT1BfVU5BUlksR0dNTF9PUF9NQVBfVU5BUlksR0dNTF9PUF9NQVBfQklOQVJZLEdHTUxfT1BfTUFQX0NVU1RPTTFfRjMyLEdHTUxfT1BfTUFQX0NVU1RPTTJfRjMyLEdHTUxfT1BfTUFQX0NVU1RPTTNfRjMyLEdHTUxfT1BfTUFQX0NVU1RPTTEsR0dNTF9PUF9NQVBfQ1VTVE9NMixHR01MX09QX01BUF9DVVNUT00zLEdHTUxfT1BfQ1JPU1NfRU5UUk9QWV9MT1NTLEdHTUxfT1BfQ1JPU1NfRU5UUk9QWV9MT1NTX0JBQ0ssR0dNTF9PUF9DT1VOVCcsYidceDAwXHgwMFx4MDFceDAxXHgwMFx4MDBceDAwXHgxNmdnbWxfb3BfcG9vbFx4MDBHR01MX09QX1BPT0xfTUFYLEdHTUxfT1BfUE9PTF9BVkcsR0dNTF9PUF9QT09MX0NPVU5UJyxiJ1x4MDBceDAwXHgwNFx4MTZceDAwXHgwMFx4MDBceDE1Z2dtbF9vcHRfcmVzdWx0XHgwMEdHTUxfT1BUX09LLEdHTUxfT1BUX0RJRF9OT1RfQ09OVkVSR0UsR0dNTF9PUFRfTk9fQ09OVEVYVCxHR01MX09QVF9JTlZBTElEX1dPTEZFLEdHTUxfT1BUX0ZBSUwsR0dNTF9MSU5FU0VBUkNIX0ZBSUwsR0dNTF9MSU5FU0VBUkNIX01JTklNVU1fU1RFUCxHR01MX0xJTkVTRUFSQ0hfTUFYSU1VTV9TVEVQLEdHTUxfTElORVNFQVJDSF9NQVhJTVVNX0lURVJBVElPTlMsR0dNTF9MSU5FU0VBUkNIX0lOVkFMSURfUEFSQU1FVEVSUycsYidceDAwXHgwMFx4MDBceEM4XHgwMFx4MDBceDAwXHgxNmdnbWxfb3B0X3R5cGVceDAwR0dNTF9PUFRfQURBTSxHR01MX09QVF9MQkZHUycsYidceDAwXHgwMFx4MDRceDE3XHgwMFx4MDBceDAwXHgxNmdnbWxfdGFza190eXBlXHgwMEdHTUxfVEFTS19JTklULEdHTUxfVEFTS19DT01QVVRFLEdHTUxfVEFTS19GSU5BTElaRScsYidceDAwXHgwMFx4MDBceDAxXHgwMFx4MDBceDAwXHgxNmdnbWxfdHlwZVx4MDBHR01MX1RZUEVfRjMyLEdHTUxfVFlQRV9GMTYsR0dNTF9UWVBFX1E0XzAsR0dNTF9UWVBFX1E0XzEsR0dNTF9UWVBFX1E1XzAsR0dNTF9UWVBFX1E1XzEsR0dNTF9UWVBFX1E4XzAsR0dNTF9UWVBFX1E4XzEsR0dNTF9UWVBFX1EyX0ssR0dNTF9UWVBFX1EzX0ssR0dNTF9UWVBFX1E0X0ssR0dNTF9UWVBFX1E1X0ssR0dNTF9UWVBFX1E2X0ssR0dNTF9UWVBFX1E4X0ssR0dNTF9UWVBFX0k4LEdHTUxfVFlQRV9JMTYsR0dNTF9UWVBFX0kzMixHR01MX1RZUEVfQ09VTlQnLGInXHgwMFx4MDBceDAxXHgxNFx4MDBceDAwXHgwMFx4MTZnZ21sX3VuYXJ5X29wXHgwMEdHTUxfVU5BUllfT1BfQUJTLEdHTUxfVU5BUllfT1BfU0dOLEdHTUxfVU5BUllfT1BfTkVHLEdHTUxfVU5BUllfT1BfU1RFUCxHR01MX1VOQVJZX09QX1RBTkgsR0dNTF9VTkFSWV9PUF9FTFUsR0dNTF9VTkFSWV9PUF9SRUxVLEdHTUxfVU5BUllfT1BfR0VMVSxHR01MX1VOQVJZX09QX0dFTFVfUVVJQ0ssR0dNTF9VTkFSWV9PUF9TSUxVJyxiJ1x4MDBceDAwXHgwMFx4MzRceDAwXHgwMFx4MDBceDE2Z2d1Zl90eXBlXHgwMEdHVUZfVFlQRV9VSU5UOCxHR1VGX1RZUEVfSU5UOCxHR1VGX1RZUEVfVUlOVDE2LEdHVUZfVFlQRV9JTlQxNixHR1VGX1RZUEVfVUlOVDMyLEdHVUZfVFlQRV9JTlQzMixHR1VGX1RZUEVfRkxPQVQzMixHR1VGX1RZUEVfQk9PTCxHR1VGX1RZUEVfU1RSSU5HLEdHVUZfVFlQRV9BUlJBWSxHR1VGX1RZUEVfQ09VTlQnKSwKICAgIF90eXBlbmFtZXMgPSAoYidceDAwXHgwMFx4MDBceERCX19kYXJ3aW5fYmxrY250X3QnLGInXHgwMFx4MDBceDAwXHgyMl9fZGFyd2luX2Jsa3NpemVfdCcsYidceDAwXHgwMFx4MDBceDExX19kYXJ3aW5fY2xvY2tfdCcsYidceDAwXHgwMFx4MDBceDIyX19kYXJ3aW5fY3RfcnVuZV90JyxiJ1x4MDBceDAwXHgwMFx4MjJfX2Rhcndpbl9kZXZfdCcsYidceDAwXHgwMFx4MDNceEJGX19kYXJ3aW5fZnNibGtjbnRfdCcsYidceDAwXHgwMFx4MDNceEJGX19kYXJ3aW5fZnNmaWxjbnRfdCcsYidceDAwXHgwMFx4MDNceEJGX19kYXJ3aW5fZ2lkX3QnLGInXHgwMFx4MDBceDAzXHhCRl9fZGFyd2luX2lkX3QnLGInXHgwMFx4MDBceDA0XHg0QV9fZGFyd2luX2lubzY0X3QnLGInXHgwMFx4MDBceDA0XHg0QV9fZGFyd2luX2lub190JyxiJ1x4MDBceDAwXHgwNFx4MjBfX2Rhcndpbl9pbnRwdHJfdCcsYidceDAwXHgwMFx4MDNceEJGX19kYXJ3aW5fbWFjaF9wb3J0X25hbWVfdCcsYidceDAwXHgwMFx4MDNceEJGX19kYXJ3aW5fbWFjaF9wb3J0X3QnLGInXHgwMFx4MDBceDAzXHhGN19fZGFyd2luX21ic3RhdGVfdCcsYidceDAwXHgwMFx4MDBceDZDX19kYXJ3aW5fbW9kZV90JyxiJ1x4MDBceDAwXHgwM1x4QkZfX2Rhcndpbl9uYXR1cmFsX3QnLGInXHgwMFx4MDBceDAwXHhEQl9fZGFyd2luX29mZl90JyxiJ1x4MDBceDAwXHgwMFx4MjJfX2Rhcndpbl9waWRfdCcsYidceDAwXHgwMFx4MDNceEVGX19kYXJ3aW5fcHRocmVhZF9hdHRyX3QnLGInXHgwMFx4MDBceDAzXHhGMF9fZGFyd2luX3B0aHJlYWRfY29uZF90JyxiJ1x4MDBceDAwXHgwM1x4RjFfX2Rhcndpbl9wdGhyZWFkX2NvbmRhdHRyX3QnLGInXHgwMFx4MDBceDAwXHgxMV9fZGFyd2luX3B0aHJlYWRfa2V5X3QnLGInXHgwMFx4MDBceDAzXHhGMl9fZGFyd2luX3B0aHJlYWRfbXV0ZXhfdCcsYidceDAwXHgwMFx4MDNceEYzX19kYXJ3aW5fcHRocmVhZF9tdXRleGF0dHJfdCcsYidceDAwXHgwMFx4MDNceEY0X19kYXJ3aW5fcHRocmVhZF9vbmNlX3QnLGInXHgwMFx4MDBceDAzXHhGNV9fZGFyd2luX3B0aHJlYWRfcndsb2NrX3QnLGInXHgwMFx4MDBceDAzXHhGNl9fZGFyd2luX3B0aHJlYWRfcndsb2NrYXR0cl90JyxiJ1x4MDBceDAwXHgwNFx4MkRfX2Rhcndpbl9wdGhyZWFkX3QnLGInXHgwMFx4MDBceDA0XHgyMF9fZGFyd2luX3B0cmRpZmZfdCcsYidceDAwXHgwMFx4MDBceDIyX19kYXJ3aW5fcnVuZV90JyxiJ1x4MDBceDAwXHgwM1x4QkZfX2Rhcndpbl9zaWdzZXRfdCcsYidceDAwXHgwMFx4MDBceDExX19kYXJ3aW5fc2l6ZV90JyxiJ1x4MDBceDAwXHgwM1x4QkZfX2Rhcndpbl9zb2NrbGVuX3QnLGInXHgwMFx4MDBceDA0XHgyMF9fZGFyd2luX3NzaXplX3QnLGInXHgwMFx4MDBceDAwXHgyMl9fZGFyd2luX3N1c2Vjb25kc190JyxiJ1x4MDBceDAwXHgwNFx4MjBfX2Rhcndpbl90aW1lX3QnLGInXHgwMFx4MDBceDAzXHhCRl9fZGFyd2luX3VpZF90JyxiJ1x4MDBceDAwXHgwM1x4QkZfX2Rhcndpbl91c2Vjb25kc190JyxiJ1x4MDBceDAwXHgwNFx4MDVfX2Rhcndpbl91dWlkX3N0cmluZ190JyxiJ1x4MDBceDAwXHgwNFx4NDRfX2Rhcndpbl91dWlkX3QnLGInXHgwMFx4MDBceDAwXHgyMl9fZGFyd2luX3djaGFyX3QnLGInXHgwMFx4MDBceDAwXHgyMl9fZGFyd2luX3dpbnRfdCcsYidceDAwXHgwMFx4MDNceEIwX19pbnQxNl90JyxiJ1x4MDBceDAwXHgwMFx4MjJfX2ludDMyX3QnLGInXHgwMFx4MDBceDAwXHhEQl9faW50NjRfdCcsYidceDAwXHgwMFx4MDNceEI1X19pbnQ4X3QnLGInXHgwMFx4MDBceDAzXHhGN19fbWJzdGF0ZV90JyxiJ1x4MDBceDAwXHgwMFx4NkNfX3VpbnQxNl90JyxiJ1x4MDBceDAwXHgwM1x4QkZfX3VpbnQzMl90JyxiJ1x4MDBceDAwXHgwNFx4NEFfX3VpbnQ2NF90JyxiJ1x4MDBceDAwXHgwM1x4QkFfX3VpbnQ4X3QnLGInXHgwMFx4MDBceDAzXHhGOGJsb2NrX3EyX0snLGInXHgwMFx4MDBceDAzXHhGOWJsb2NrX3EzX0snLGInXHgwMFx4MDBceDAzXHhGQWJsb2NrX3E0X0snLGInXHgwMFx4MDBceDAzXHhGQmJsb2NrX3E1X0snLGInXHgwMFx4MDBceDAzXHhGQ2Jsb2NrX3E2X0snLGInXHgwMFx4MDBceDAzXHhGRGJsb2NrX3E4X0snLGInXHgwMFx4MDBceDAxXHhFQWdnbWxfYmluYXJ5X29wX2YzMl90JyxiJ1x4MDBceDAwXHgwMlx4MDJnZ21sX2N1c3RvbTFfb3BfZjMyX3QnLGInXHgwMFx4MDBceDAyXHgwN2dnbWxfY3VzdG9tMV9vcF90JyxiJ1x4MDBceDAwXHgwMVx4RjBnZ21sX2N1c3RvbTJfb3BfZjMyX3QnLGInXHgwMFx4MDBceDAxXHhGNmdnbWxfY3VzdG9tMl9vcF90JyxiJ1x4MDBceDAwXHgwMVx4QzVnZ21sX2N1c3RvbTNfb3BfZjMyX3QnLGInXHgwMFx4MDBceDAxXHhDQ2dnbWxfY3VzdG9tM19vcF90JyxiJ1x4MDBceDAwXHgwMFx4NkNnZ21sX2ZwMTZfdCcsYidceDAwXHgwMFx4MDRceDRGZ2dtbF9mcm9tX2Zsb2F0X3QnLGInXHgwMFx4MDBceDA0XHg1MmdnbWxfdG9fZmxvYXRfdCcsYidceDAwXHgwMFx4MDRceDE4Z2dtbF90eXBlX3RyYWl0c190JyxiJ1x4MDBceDAwXHgwMVx4RkRnZ21sX3VuYXJ5X29wX2YzMl90JyxiJ1x4MDBceDAwXHgwNFx4NTBnZ21sX3ZlY19kb3RfdCcsYidceDAwXHgwMFx4MDNceEIwaW50MTZfdCcsYidceDAwXHgwMFx4MDBceDIyaW50MzJfdCcsYidceDAwXHgwMFx4MDBceERCaW50NjRfdCcsYidceDAwXHgwMFx4MDNceEI1aW50OF90JyxiJ1x4MDBceDAwXHgwM1x4QjBpbnRfZmFzdDE2X3QnLGInXHgwMFx4MDBceDAwXHgyMmludF9mYXN0MzJfdCcsYidceDAwXHgwMFx4MDBceERCaW50X2Zhc3Q2NF90JyxiJ1x4MDBceDAwXHgwM1x4QjVpbnRfZmFzdDhfdCcsYidceDAwXHgwMFx4MDNceEIwaW50X2xlYXN0MTZfdCcsYidceDAwXHgwMFx4MDBceDIyaW50X2xlYXN0MzJfdCcsYidceDAwXHgwMFx4MDBceERCaW50X2xlYXN0NjRfdCcsYidceDAwXHgwMFx4MDNceEI1aW50X2xlYXN0OF90JyxiJ1x4MDBceDAwXHgwNFx4MjBpbnRtYXhfdCcsYidceDAwXHgwMFx4MDRceDIwaW50cHRyX3QnLGInXHgwMFx4MDBceDA0XHgxRG1heF9hbGlnbl90JyxiJ1x4MDBceDAwXHgwNFx4MjBwdHJkaWZmX3QnLGInXHgwMFx4MDBceDAwXHhEQnJlZ2lzdGVyX3QnLGInXHgwMFx4MDBceDAwXHgxMXJzaXplX3QnLGInXHgwMFx4MDBceDAwXHgxMXNpemVfdCcsYidceDAwXHgwMFx4MDRceDRBc3lzY2FsbF9hcmdfdCcsYidceDAwXHgwMFx4MDBceDZDdV9pbnQxNl90JyxiJ1x4MDBceDAwXHgwM1x4QkZ1X2ludDMyX3QnLGInXHgwMFx4MDBceDA0XHg0QXVfaW50NjRfdCcsYidceDAwXHgwMFx4MDNceEJBdV9pbnQ4X3QnLGInXHgwMFx4MDBceDAwXHg2Q3VpbnQxNl90JyxiJ1x4MDBceDAwXHgwM1x4QkZ1aW50MzJfdCcsYidceDAwXHgwMFx4MDRceDRBdWludDY0X3QnLGInXHgwMFx4MDBceDAzXHhCQXVpbnQ4X3QnLGInXHgwMFx4MDBceDAwXHg2Q3VpbnRfZmFzdDE2X3QnLGInXHgwMFx4MDBceDAzXHhCRnVpbnRfZmFzdDMyX3QnLGInXHgwMFx4MDBceDA0XHg0QXVpbnRfZmFzdDY0X3QnLGInXHgwMFx4MDBceDAzXHhCQXVpbnRfZmFzdDhfdCcsYidceDAwXHgwMFx4MDBceDZDdWludF9sZWFzdDE2X3QnLGInXHgwMFx4MDBceDAzXHhCRnVpbnRfbGVhc3QzMl90JyxiJ1x4MDBceDAwXHgwNFx4NEF1aW50X2xlYXN0NjRfdCcsYidceDAwXHgwMFx4MDNceEJBdWludF9sZWFzdDhfdCcsYidceDAwXHgwMFx4MDBceDExdWludG1heF90JyxiJ1x4MDBceDAwXHgwMFx4MTF1aW50cHRyX3QnLGInXHgwMFx4MDBceDA0XHg0QXVzZXJfYWRkcl90JyxiJ1x4MDBceDAwXHgwMFx4REJ1c2VyX2xvbmdfdCcsYidceDAwXHgwMFx4MDBceERCdXNlcl9vZmZfdCcsYidceDAwXHgwMFx4MDRceDRBdXNlcl9zaXplX3QnLGInXHgwMFx4MDBceDAwXHhEQnVzZXJfc3NpemVfdCcsYidceDAwXHgwMFx4MDBceERCdXNlcl90aW1lX3QnLGInXHgwMFx4MDBceDA0XHg0QXVzZXJfdWxvbmdfdCcsYidceDAwXHgwMFx4MDBceDIyd2NoYXJfdCcpLAopCg=='),
    ('seamless/ggml/examples/python/ggml/utils.py', 'IiIiCiAgQ29tbW9uIGhlbHBlcnMgZm9yIHdvcmtpbmcgd2l0aCBnZ21sICsgbnVtcHkKIiIiCmZyb20gZ2dtbCBpbXBvcnQgZmZpLCBsaWIKZnJvbSB0eXBpbmcgaW1wb3J0IFVuaW9uLCBPcHRpb25hbAppbXBvcnQgbnVtcHkgYXMgbnAKCmRlZiBpbml0KG1lbV9zaXplOiBpbnQsIG1lbV9idWZmZXI6IGZmaS5DRGF0YSA9IGZmaS5OVUxMLCBub19hbGxvYzogYm9vbCA9IEZhbHNlKSAtPiBmZmkuQ0RhdGE6CiAgICAiIiIKICAgICAgSW5pdGlhbGl6ZSBhIGdnbWwgY29udGV4dCwgd2hpY2ggd2lsbCBiZSBmcmVlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIHBvaW50ZXIgaXMgZ2FyYmFnZSBjb2xsZWN0ZWQuCiAgICAiIiIKICAgIHBhcmFtcyA9IGZmaS5uZXcoJ3N0cnVjdCBnZ21sX2luaXRfcGFyYW1zKicpCiAgICBwYXJhbXMubWVtX3NpemUgPSBtZW1fc2l6ZQogICAgcGFyYW1zLm1lbV9idWZmZXIgPSBtZW1fYnVmZmVyCiAgICBwYXJhbXMubm9fYWxsb2MgPSBub19hbGxvYwogICAgcmV0dXJuIGZmaS5nYyhsaWIuZ2dtbF9pbml0KHBhcmFtc1swXSksIGxpYi5nZ21sX2ZyZWUpCiAKVGVuc29yTGlrZSA9IFVuaW9uW2ZmaS5DRGF0YSwgbnAubmRhcnJheV0KCmRlZiBjb3B5KGZyb21fdGVuc29yOiBUZW5zb3JMaWtlLCB0b190ZW5zb3I6IFRlbnNvckxpa2UsIGFsbG93X3JlcXVhbnRpemU6IGJvb2wgPSBUcnVlKToKICAgICIiIgogICAgICBDb3B5IHRoZSBjb250ZW50cyBvZiBvbmUgdGVuc29yIHRvIGFub3RoZXIsIGRvaW5nIGFueSBuZWNlc3NhcnkgKGRlL3JlKXF1YW50aXphdGlvbiB0cmFuc3BhcmVudGx5LgogICAgICBXb3JrcyBhY3Jvc3MgbnVtcHkgJiBnZ21sIHRlbnNvcnMsIGJ1dCB0aGV5IG11c3QgaGF2ZSB0aGUgc2FtZSBzaGFwZSAoYW5kIGJlIGNvbnRpZ3VvdXMpLgoKICAgICAgUGFyYW1ldGVycwogICAgICAtLS0tLS0tLS0tCiAgICAgIGZyb21fdGVuc29yIDogVGVuc29yTGlrZQogICAgICAgICAgVGhlIHRlbnNvciB0byBjb3B5IGZyb20gKGEgbnVtcHkgYXJyYXkgb3IgcG9zc2libHktcXVhbnRpemVkIGdnbWwgdGVuc29yKQogICAgICB0b190ZW5zb3IgOiBUZW5zb3JMaWtlCiAgICAgICAgICBUaGUgdGVuc29yIHRvIGNvcHkgdG8gKGEgbnVtcHkgYXJyYXkgb3IgcG9zc2libHktcXVhbnRpemVkIGdnbWwgdGVuc29yKQogICAgICBhbGxvd19yZXF1YW50aXplIDogYm9vbAogICAgICAgICAgSWYgRmFsc2UsIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgcmVxdWFudGl6YXRpb24gaXMgcmVxdWlyZWQgKGkuZS4gYm90aCBmcm9tX3RlbnNvcgogICAgICAgICAgYW5kIHRvX3RlbnNvciBhcmUgcXVhbnRpemVkIHdpdGggZGlmZmVyZW50IHF1YW50aXphdGlvbiB0eXBlcykKICAgICIiIgogICAgaWYgaWQoZnJvbV90ZW5zb3IpID09IGlkKHRvX3RlbnNvcik6CiAgICAgICAgcmV0dXJuCiAKICAgIF9fZXhwZWN0X3NhbWVfbGF5b3V0KCJzb3VyY2UiLCBmcm9tX3RlbnNvciwgImRlc3RpbmF0aW9uIiwgdG9fdGVuc29yKQogICAgX19jaGVja19zaGFwZV9jb25zaXN0ZW50X3dpdGhfdHlwZShmcm9tX3RlbnNvcikKICAgIF9fY2hlY2tfc2hhcGVfY29uc2lzdGVudF93aXRoX3R5cGUodG9fdGVuc29yKQoKICAgIGZyb21fdHlwZSA9IF9fZ2V0X3R5cGUoZnJvbV90ZW5zb3IpCiAgICB0b190eXBlID0gX19nZXRfdHlwZSh0b190ZW5zb3IpCgogICAgaWYgZnJvbV90eXBlID09IHRvX3R5cGU6CiAgICAgICAgZmZpLm1lbW1vdmUoX19nZXRfZGF0YSh0b190ZW5zb3IpLCBfX2dldF9kYXRhKGZyb21fdGVuc29yKSwgX19nZXRfbmJ5dGVzKGZyb21fdGVuc29yKSkKICAgIGVsc2U6CiAgICAgICAgYXNzZXJ0IGFsbG93X3JlcXVhbnRpemUgb3Igbm90IGxpYi5nZ21sX2lzX3F1YW50aXplZChmcm9tX3R5cGUpIG9yIG5vdCBsaWIuZ2dtbF9pc19xdWFudGl6ZWQodG9fdHlwZSksIFwKICAgICAgICAgICAgZiJSZXF1YW50aXppbmcgZnJvbSB7X190eXBlX25hbWUoZnJvbV90eXBlKX0gdG8ge19fdHlwZV9uYW1lKHRvX3R5cGUpfSBpcyBkaXNhYmxlZC4gRm9yY2Ugd2l0aCBhbGxvd19yZXF1YW50aXplPVRydWUiCiAKICAgICAgICBfX3NldF9mbG9hdHModG9fdGVuc29yLCBfX2dldF9mbG9hdHMoZnJvbV90ZW5zb3IpKQoKZGVmIG51bXB5KHRlbnNvcjogZmZpLkNEYXRhLCBhbGxvd19jb3B5OiBVbmlvbltib29sLCBucC5uZGFycmF5XSA9IEZhbHNlLCBhbGxvd19yZXF1YW50aXplPUZhbHNlKSAtPiBucC5uZGFycmF5OgogICAgIiIiCiAgICAgIENvbnZlcnQgYSBnZ21sIHRlbnNvciB0byBhIG51bXB5IGFycmF5LgogICAgICBJZiB0aGUgdGVuc29yIGlzbid0IHF1YW50aXplZCwgdGhlIHJldHVybmVkIG51bXB5IGFycmF5IHdpbGwgYmUgYSB2aWV3IG92ZXIgaXRzIGRhdGEuCiAKICAgICAgSWYgaXQgaXMgcXVhbnRpemVkIChhbmQgYWxsb3dfY29weSBpcyBUcnVlKSwgdGhlIGNvcHkgd2lsbCBpbnZvbHZlIGRlcXVhbnRpemF0aW9uIGFuZCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbAogICAgICBiZSBhIGNvcHkgb2YgdGhlIG9yaWdpbmFsIHRlbnNvciAoYW55IGNoYW5nZXMgdG8gdGhlIG51bXB5IGFycmF5IHdvbid0IHRoZW4gYmUgcmVmbGVjdGVkIGJhY2sgdG8gdGhlIHRlbnNvcikuCgogICAgICBQYXJhbWV0ZXJzCiAgICAgIC0tLS0tLS0tLS0KICAgICAgdGVuc29yIDogZmZpLkNEYXRhCiAgICAgICAgICBUaGUgdGVuc29yIHRvIGNvbnZlcnQgdG8gYSBudW1weSBhcnJheQogICAgICBhbGxvd19jb3B5IDogYm9vbCBvciBucC5uZGFycmF5CiAgICAgICAgICBJZiBGYWxzZSwgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgdGVuc29yIGlzIHF1YW50aXplZCAoc2luY2UgZGVxdWFudGl6YXRpb24gcmVxdWlyZXMgZXh0cmEgbWVtb3J5KS4KICAgICAgICAgIElmIFRydWUsIHdpbGwgZGVxdWFudGl6ZSB0aGUgdGVuc29yIGFuZCByZXR1cm4gYSBjb3B5IG9mIHRoZSBkYXRhIGluIGEgbmV3IGZsb2F0MzIgbnVtcHkgYXJyYXkuCiAgICAgICAgICBJZiBhbiBucC5uZGFycmF5LCB3aWxsIGNvcHkgdGhlIGRhdGEgaW50byB0aGUgZ2l2ZW4gYXJyYXkgKHdoaWNoIG11c3QgYmUgdGhlIHNhbWUgc2hhcGUgYXMgdGhlIHRlbnNvcikgd2hlbiBkZXF1YW50aXphdGlvbiBpcyBuZWVkZWQKICAgICAgYWxsb3dfcmVxdWFudGl6ZSA6IGJvb2wKICAgICAgICAgIElmIGFsbG93X2NvcHkgaXMgYSB0ZW5zb3Igd2l0aCBhIGRpZmZlcmVudCBxdWFudGl6YXRpb24gdHlwZSB0aGFuIHRoZSBzb3VyY2UgdGVuc29yLCB3aWxsIHRocm93IGFuIGVycm9yIHVubGVzcyBhbGxvd19yZXF1YW50aXplIGlzIFRydWUuCiAgICAiIiIKICAgIHNoYXBlID0gX19nZXRfc2hhcGUodGVuc29yKQoKICAgIGlmIGxpYi5nZ21sX2lzX3F1YW50aXplZCh0ZW5zb3IudHlwZSk6CiAgICAgICAgaWYgYWxsb3dfY29weSA9PSBGYWxzZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIntfX2Rlc2NyaWJlKHRlbnNvcil9IGlzIHF1YW50aXplZCwgY29udmVyc2lvbiB0byBudW1weSByZXF1aXJlcyBhIGNvcHkgKHBhc3MgYWxsb3dfY29weT1UcnVlOyBjaGFuZ2VzIHRvIHRoZSBudW1weSBhcnJheSB3b24ndCBhZmZlY3QgdGhlIG9yaWdpbmFsKS4iKQogICAgICAgIGVsaWYgaXNpbnN0YW5jZShhbGxvd19jb3B5LCBucC5uZGFycmF5KToKICAgICAgICAgICAgX19leHBlY3Rfc2FtZV9sYXlvdXQoInNvdXJjZSB0ZW5zb3IiLCB0ZW5zb3IsICJkZXF1YW50aXphdGlvbiBvdXRwdXQgdGVuc29yIiwgYWxsb3dfY29weSkKICAgICAgICAgICAgZGVzdGluYXRpb24gPSBhbGxvd19jb3B5CiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGVzdGluYXRpb24gPSBucC5lbXB0eShzaGFwZSwgZHR5cGU9bnAuZmxvYXQzMikKCiAgICAgICAgY29weSh0ZW5zb3IsIGRlc3RpbmF0aW9uLCBhbGxvd19yZXF1YW50aXplPWFsbG93X3JlcXVhbnRpemUpCiAgICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uCiAgICBlbHNlOgogICAgICAgIGR0eXBlID0gX190eXBlX3RvX2R0eXBlKHRlbnNvci50eXBlKQogICAgICAgIGlmIG5vdCBkdHlwZToKICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcihmJ0Nhbm5vdCBjb252ZXJ0IHtfX2Rlc2NyaWJlKHRlbnNvcil9IHRvIG51bXB5JykKCiAgICAgICAgYXNzZXJ0IF9faXNfY29udGlndW91cyh0ZW5zb3IpLCBmIkNhbm5vdCBjb252ZXJ0IHtfX2Rlc2NyaWJlKHRlbnNvcil9IHRvIG51bXB5IChzdXBwb3J0IGNvbnRpZ3VvdXMgdGVuc29ycyBvbmx5KSIKICAgICAgICBuYnl0ZXMgPSBsaWIuZ2dtbF9uZWxlbWVudHModGVuc29yKSAqIGxpYi5nZ21sX3R5cGVfc2l6ZSh0ZW5zb3IudHlwZSkKICAgICAgICBhcnJheSA9IG5wLmZyb21idWZmZXIoZmZpLmJ1ZmZlcihsaWIuZ2dtbF9nZXRfZGF0YSh0ZW5zb3IpLCBuYnl0ZXMpLCBkdHlwZT1kdHlwZSkKICAgICAgICBhcnJheS5zaGFwZSA9IHNoYXBlCiAgICAgICAgcmV0dXJuIGFycmF5CgpkZWYgX190eXBlX25hbWUodHlwZTogaW50KSAtPiBzdHI6CiAgICBuYW1lID0gbGliLmdnbWxfdHlwZV9uYW1lKHR5cGUpCiAgICByZXR1cm4gZmZpLnN0cmluZyhuYW1lKS5kZWNvZGUoJ3V0Zi04JykgaWYgbmFtZSBlbHNlIE5vbmUKCl9fa19xdWFudF90eXBlcyA9IHNldChbCiAgbGliLkdHTUxfVFlQRV9RMl9LLAogIGxpYi5HR01MX1RZUEVfUTNfSywKICBsaWIuR0dNTF9UWVBFX1E0X0ssCiAgbGliLkdHTUxfVFlQRV9RNV9LLAogIGxpYi5HR01MX1RZUEVfUTZfSywKICBsaWIuR0dNTF9UWVBFX1E4X0ssCl0pCgpfX3R5cGVfdG9fZHR5cGVfZGljdCA9IHsKICBsaWIuR0dNTF9UWVBFX0k4OiBucC5pbnQ4LAogIGxpYi5HR01MX1RZUEVfSTE2OiBucC5pbnQxNiwKICBsaWIuR0dNTF9UWVBFX0kzMjogbnAuaW50MzIsCiAgbGliLkdHTUxfVFlQRV9GMTY6IG5wLmZsb2F0MTYsCiAgbGliLkdHTUxfVFlQRV9GMzI6IG5wLmZsb2F0MzIsCn0KCmRlZiBfX3R5cGVfdG9fZHR5cGUodHlwZTogaW50KSAtPiBPcHRpb25hbFtucC5kdHlwZV06IHJldHVybiBfX3R5cGVfdG9fZHR5cGVfZGljdC5nZXQodHlwZSkKZGVmIF9fZHR5cGVfdG9fdHlwZShkdHlwZTogbnAuZHR5cGUpOgogICAgaWYgZHR5cGUgPT0gbnAuZmxvYXQzMjogcmV0dXJuIGxpYi5HR01MX1RZUEVfRjMyCiAgICBlbGlmIGR0eXBlID09IG5wLmZsb2F0MTY6IHJldHVybiBsaWIuR0dNTF9UWVBFX0YxNgogICAgZWxpZiBkdHlwZSA9PSBucC5pbnQzMjogcmV0dXJuIGxpYi5HR01MX1RZUEVfSTMyCiAgICBlbGlmIGR0eXBlID09IG5wLmludDE2OiByZXR1cm4gbGliLkdHTUxfVFlQRV9JMTYKICAgIGVsaWYgZHR5cGUgPT0gbnAuaW50ODogcmV0dXJuIGxpYi5HR01MX1RZUEVfSTgKICAgIGVsc2U6IHJhaXNlIFZhbHVlRXJyb3IoZiJVbnN1cHBvcnRlZCBkdHlwZToge2R0eXBlfSIpCgpkZWYgX19kZXNjcmliZSh0ZW5zb3I6IGZmaS5DVHlwZSk6IHJldHVybiBmJ1RlbnNvclt7X190eXBlX25hbWUoX19nZXRfdHlwZSh0ZW5zb3IpKX0sIHtfX2dldF9zaGFwZSh0ZW5zb3IpfV0nCmRlZiBfX2dldF90eXBlKHRlbnNvcjogVGVuc29yTGlrZSk6IHJldHVybiBfX2R0eXBlX3RvX3R5cGUodGVuc29yLmR0eXBlKSBpZiBpc2luc3RhbmNlKHRlbnNvciwgbnAubmRhcnJheSkgZWxzZSB0ZW5zb3IudHlwZQpkZWYgX19nZXRfc2hhcGUoeDogVGVuc29yTGlrZSk6IHJldHVybiB4LnNoYXBlIGlmIGlzaW5zdGFuY2UoeCwgbnAubmRhcnJheSkgZWxzZSB0dXBsZShbeC5uZVtpXSBmb3IgaSBpbiByYW5nZSh4Lm5fZGltcyldKQpkZWYgX19nZXRfc3RyaWRlcyh4OiBUZW5zb3JMaWtlKTogcmV0dXJuIHguc3RyaWRlcyBpZiBpc2luc3RhbmNlKHgsIG5wLm5kYXJyYXkpIGVsc2UgdHVwbGUoW3gubmJbaV0gZm9yIGkgaW4gcmFuZ2UoeC5uX2RpbXMpXSkKZGVmIF9fZ2V0X2RhdGEoeDogVGVuc29yTGlrZSkgLT4gZmZpLkNEYXRhOiByZXR1cm4gZmZpLmZyb21fYnVmZmVyKHgpIGlmIGlzaW5zdGFuY2UoeCwgbnAubmRhcnJheSkgZWxzZSBsaWIuZ2dtbF9nZXRfZGF0YSh4KQpkZWYgX19nZXRfbmJ5dGVzKHRlbnNvcjogVGVuc29yTGlrZSk6IHJldHVybiB0ZW5zb3IubmJ5dGVzIGlmIGlzaW5zdGFuY2UodGVuc29yLCBucC5uZGFycmF5KSBlbHNlIGxpYi5nZ21sX25ieXRlcyh0ZW5zb3IpCmRlZiBfX2dldF9uZWxlbWVudHModGVuc29yOiBUZW5zb3JMaWtlKTogcmV0dXJuIHRlbnNvci5zaXplIGlmIGlzaW5zdGFuY2UodGVuc29yLCBucC5uZGFycmF5KSBlbHNlIGxpYi5nZ21sX25lbGVtZW50cyh0ZW5zb3IpCmRlZiBfX2lzX2NvbnRpZ3VvdXModGVuc29yOiBUZW5zb3JMaWtlKTogcmV0dXJuIHRlbnNvci5mbGFnc1snQ19DT05USUdVT1VTJ10gaWYgaXNpbnN0YW5jZSh0ZW5zb3IsIG5wLm5kYXJyYXkpIGVsc2UgbGliLmdnbWxfaXNfY29udGlndW91cyh0ZW5zb3IpCgpkZWYgX19nZXRfZmxvYXRzKHRlbnNvcjogVGVuc29yTGlrZSkgLT4gZmZpLkNEYXRhOgogICAgZGF0YSwgdHlwZSA9IF9fZ2V0X2RhdGEodGVuc29yKSwgX19nZXRfdHlwZSh0ZW5zb3IpCiAgICBpZiB0eXBlID09IGxpYi5HR01MX1RZUEVfRjMyOgogICAgICAgIHJldHVybiBmZmkuY2FzdCgnZmxvYXQqJywgZGF0YSkKICAgIGVsc2U6CiAgICAgIG5lbGVtZW50cyA9IF9fZ2V0X25lbGVtZW50cyh0ZW5zb3IpCiAgICAgIGZsb2F0cyA9IGZmaS5uZXcoJ2Zsb2F0W10nLCBuZWxlbWVudHMpCiAgICAgIGlmIHR5cGUgPT0gbGliLkdHTUxfVFlQRV9GMTY6CiAgICAgICAgICBsaWIuZ2dtbF9mcDE2X3RvX2ZwMzJfcm93KGZmaS5jYXN0KCd1aW50MTZfdConLCBkYXRhKSwgZmxvYXRzLCBuZWxlbWVudHMpCiAgICAgIGVsaWYgbGliLmdnbWxfaXNfcXVhbnRpemVkKHR5cGUpOgogICAgICAgICAgcXR5cGUgPSBsaWIuZ2dtbF9pbnRlcm5hbF9nZXRfdHlwZV90cmFpdHModHlwZSkKICAgICAgICAgIGFzc2VydCBxdHlwZS50b19mbG9hdCwgZiJUeXBlIHtfX3R5cGVfbmFtZSh0eXBlKX0gaXMgbm90IHN1cHBvcnRlZCBieSBnZ21sIgogICAgICAgICAgcXR5cGUudG9fZmxvYXQoZGF0YSwgZmxvYXRzLCBuZWxlbWVudHMpCiAgICAgIGVsc2U6CiAgICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKGYnQ2Fubm90IHJlYWQgZmxvYXRzIGZyb20ge19fZGVzY3JpYmUodGVuc29yKX0nKQogICAgICByZXR1cm4gZmxvYXRzCgpkZWYgX19zZXRfZmxvYXRzKHRlbnNvcjogVGVuc29yTGlrZSwgZjMyX2RhdGE6IGZmaS5DRGF0YSkgLT4gTm9uZToKICAgIGRhdGEsIHR5cGUsIG5ieXRlcyA9IF9fZ2V0X2RhdGEodGVuc29yKSwgX19nZXRfdHlwZSh0ZW5zb3IpLCBfX2dldF9uYnl0ZXModGVuc29yKQogICAgaWYgdHlwZSA9PSBsaWIuR0dNTF9UWVBFX0YzMjoKICAgICAgICBmZmkubWVtbW92ZShkYXRhLCBmMzJfZGF0YSwgbmJ5dGVzKQogICAgZWxzZToKICAgICAgbmVsZW1lbnRzID0gX19nZXRfbmVsZW1lbnRzKHRlbnNvcikKICAgICAgaWYgdHlwZSA9PSBsaWIuR0dNTF9UWVBFX0YxNjoKICAgICAgICAgIGxpYi5nZ21sX2ZwMzJfdG9fZnAxNl9yb3coZjMyX2RhdGEsIGZmaS5jYXN0KCd1aW50MTZfdConLCBkYXRhKSwgbmVsZW1lbnRzKQogICAgICBlbGlmIGxpYi5nZ21sX2lzX3F1YW50aXplZCh0eXBlKToKICAgICAgICAgIHF0eXBlID0gbGliLmdnbWxfaW50ZXJuYWxfZ2V0X3R5cGVfdHJhaXRzKHR5cGUpCiAgICAgICAgICBhc3NlcnQgcXR5cGUuZnJvbV9mbG9hdCwgZiJUeXBlIHtfX3R5cGVfbmFtZSh0eXBlKX0gaXMgbm90IHN1cHBvcnRlZCBieSBnZ21sIgogICAgICAgICAgcXR5cGUuZnJvbV9mbG9hdChmMzJfZGF0YSwgZGF0YSwgbmVsZW1lbnRzKQogICAgICBlbHNlOgogICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcihmJ0Nhbm5vdCB3cml0ZSBmbG9hdHMgdG8ge19fZGVzY3JpYmUodGVuc29yKX0nKQoKZGVmIF9fZXhwZWN0X3NhbWVfbGF5b3V0KG5hbWUxOiBzdHIsIHRlbnNvcjE6IFRlbnNvckxpa2UsIG5hbWUyOiBzdHIsIHRlbnNvcjI6IFRlbnNvckxpa2UpOgogICAgc2hhcGUxLCBzaGFwZTIgPSBfX2dldF9zaGFwZSh0ZW5zb3IxKSwgX19nZXRfc2hhcGUodGVuc29yMikKICAgIGFzc2VydCBzaGFwZTEgPT0gc2hhcGUyLCBmIlNoYXBlIG1pc21hdGNoOiB7bmFtZTF9IGhhcyB7c2hhcGUxfSBidXQge25hbWUyfSBoYXMge3NoYXBlMn0iCiAgICBhc3NlcnQgX19pc19jb250aWd1b3VzKHRlbnNvcjEpIGFuZCBfX2lzX2NvbnRpZ3VvdXModGVuc29yMiksIGYiT25seSBjb250aWd1b3VzIHRlbnNvcnMgYXJlIHN1cHBvcnRlZCAoZ290IHtuYW1lMX0gd2l0aCBzdHJpZGVzIHtfX2dldF9zdHJpZGVzKHRlbnNvcjEpfSBhbmQge25hbWUyfSB3aXRoIHN0cmlkZXMge19fZ2V0X3N0cmlkZXModGVuc29yMil9KSIKCmRlZiBfX2NoZWNrX3NoYXBlX2NvbnNpc3RlbnRfd2l0aF90eXBlKHRlbnNvcjogVGVuc29yTGlrZSk6CiAgICB0eXBlID0gX19nZXRfdHlwZSh0ZW5zb3IpCiAgICBpZiBub3QgbGliLmdnbWxfaXNfcXVhbnRpemVkKHR5cGUpOgogICAgICAgIHJldHVybgogICAgc2hhcGUgPSBfX2dldF9zaGFwZSh0ZW5zb3IpCgogICAgYmxvY2tfc2l6ZSA9IGxpYi5nZ21sX2JsY2tfc2l6ZSh0eXBlKQogICAgYXNzZXJ0IG5vdCAoYmxvY2tfc2l6ZSA9PSAwIGFuZCB0eXBlIGluIF9fa19xdWFudF90eXBlcyksIGYiQ2FuJ3QgcXVhbnRpemUsIG5hdGl2ZSBsaWJyYXJ5IHdhcyBub3QgY29tcGlsZWQgd2l0aCBVU0VfS19RVUFOVFMhIgogICAgYXNzZXJ0IGJsb2NrX3NpemUgPiAwLCBmIkludmFsaWQgYmxvY2sgc2l6ZSB7YmxvY2tfc2l6ZX0gZm9yIHR5cGUge19fdHlwZV9uYW1lKHR5cGUpfSIKICAgIGZvciBpLCBkIGluIGVudW1lcmF0ZShzaGFwZSk6CiAgICAgICAgYXNzZXJ0IGQgJSBibG9ja19zaXplID09IDAsIGYiRGltZW5zaW9uIHtpfSBvZiB7X19kZXNjcmliZSh0ZW5zb3IpfSBpcyBub3QgZGl2aXNpYmxlIGJ5IHtibG9ja19zaXplfSwgcmVxdWlyZWQgZm9yIHF1YW50aXphdGlvbi4iCg=='),
    ('seamless/demo/m4tv2/app.py', 'IyEvdXNyL2Jpbi9lbnYgcHl0aG9uCiMgQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcwojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGFubm90YXRpb25zCgppbXBvcnQgb3MKaW1wb3J0IHBhdGhsaWIKaW1wb3J0IGdldHBhc3MKCmltcG9ydCBncmFkaW8gYXMgZ3IKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2hhdWRpbwpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgSW5Qcm9jQXNzZXRNZXRhZGF0YVByb3ZpZGVyLCBhc3NldF9zdG9yZQpmcm9tIGh1Z2dpbmdmYWNlX2h1YiBpbXBvcnQgc25hcHNob3RfZG93bmxvYWQKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZSBpbXBvcnQgVHJhbnNsYXRvcgoKZnJvbSBsYW5nX2xpc3QgaW1wb3J0ICgKICAgIEFTUl9UQVJHRVRfTEFOR1VBR0VfTkFNRVMsCiAgICBMQU5HVUFHRV9OQU1FX1RPX0NPREUsCiAgICBTMlNUX1RBUkdFVF9MQU5HVUFHRV9OQU1FUywKICAgIFMyVFRfVEFSR0VUX0xBTkdVQUdFX05BTUVTLAogICAgVDJTVF9UQVJHRVRfTEFOR1VBR0VfTkFNRVMsCiAgICBUMlRUX1RBUkdFVF9MQU5HVUFHRV9OQU1FUywKICAgIFRFWFRfU09VUkNFX0xBTkdVQUdFX05BTUVTLAopCgp1c2VyID0gZ2V0cGFzcy5nZXR1c2VyKCkgIyB0aGlzIGlzIG5vdCBwb3J0YWJsZSBvbiB3aW5kb3dzCkNIRUNLUE9JTlRTX1BBVEggPSBwYXRobGliLlBhdGgob3MuZ2V0ZW52KCJDSEVDS1BPSU5UU19QQVRIIiwgZiIvaG9tZS97dXNlcn0vYXBwL21vZGVscyIpKQppZiBub3QgQ0hFQ0tQT0lOVFNfUEFUSC5leGlzdHMoKToKICAgIHNuYXBzaG90X2Rvd25sb2FkKHJlcG9faWQ9ImZhY2Vib29rL3NlYW1sZXNzLW00dC12Mi1sYXJnZSIsIHJlcG9fdHlwZT0ibW9kZWwiLCBsb2NhbF9kaXI9Q0hFQ0tQT0lOVFNfUEFUSCkKYXNzZXRfc3RvcmUuZW52X3Jlc29sdmVycy5jbGVhcigpCmFzc2V0X3N0b3JlLmVudl9yZXNvbHZlcnMuYXBwZW5kKGxhbWJkYTogImRlbW8iKQpkZW1vX21ldGFkYXRhID0gWwogICAgewogICAgICAgICJuYW1lIjogInNlYW1sZXNzTTRUX3YyX2xhcmdlQGRlbW8iLAogICAgICAgICJjaGVja3BvaW50IjogZiJmaWxlOi8ve0NIRUNLUE9JTlRTX1BBVEh9L3NlYW1sZXNzTTRUX3YyX2xhcmdlLnB0IiwKICAgICAgICAiY2hhcl90b2tlbml6ZXIiOiBmImZpbGU6Ly97Q0hFQ0tQT0lOVFNfUEFUSH0vc3BtX2NoYXJfbGFuZzM4X3RjLm1vZGVsIiwKICAgIH0sCiAgICB7CiAgICAgICAgIm5hbWUiOiAidm9jb2Rlcl92MkBkZW1vIiwKICAgICAgICAiY2hlY2twb2ludCI6IGYiZmlsZTovL3tDSEVDS1BPSU5UU19QQVRIfS92b2NvZGVyX3YyLnB0IiwKICAgIH0sCl0KYXNzZXRfc3RvcmUubWV0YWRhdGFfcHJvdmlkZXJzLmFwcGVuZChJblByb2NBc3NldE1ldGFkYXRhUHJvdmlkZXIoZGVtb19tZXRhZGF0YSkpCgpERVNDUklQVElPTiA9ICIiIlwKIyBTZWFtbGVzc000VApbU2VhbWxlc3NNNFRdKGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9va3Jlc2VhcmNoL3NlYW1sZXNzX2NvbW11bmljYXRpb24pIGlzIGRlc2lnbmVkIHRvIHByb3ZpZGUgaGlnaC1xdWFsaXR5CnRyYW5zbGF0aW9uLCBhbGxvd2luZyBwZW9wbGUgZnJvbSBkaWZmZXJlbnQgbGluZ3Vpc3RpYyBjb21tdW5pdGllcyB0byBjb21tdW5pY2F0ZSBlZmZvcnRsZXNzbHkgdGhyb3VnaCBzcGVlY2ggYW5kIHRleHQuClRoaXMgdW5pZmllZCBtb2RlbCBlbmFibGVzIG11bHRpcGxlIHRhc2tzIGxpa2UgU3BlZWNoLXRvLVNwZWVjaCAoUzJTVCksIFNwZWVjaC10by1UZXh0IChTMlRUKSwgVGV4dC10by1TcGVlY2ggKFQyU1QpCnRyYW5zbGF0aW9uIGFuZCBtb3JlLCB3aXRob3V0IHJlbHlpbmcgb24gbXVsdGlwbGUgc2VwYXJhdGUgbW9kZWxzLgoiIiIKCkNBQ0hFX0VYQU1QTEVTID0gb3MuZ2V0ZW52KCJDQUNIRV9FWEFNUExFUyIpID09ICIxIiBhbmQgdG9yY2guY3VkYS5pc19hdmFpbGFibGUoKQoKQVVESU9fU0FNUExFX1JBVEUgPSAxNjAwMC4wCk1BWF9JTlBVVF9BVURJT19MRU5HVEggPSA2MCAgIyBpbiBzZWNvbmRzCkRFRkFVTFRfVEFSR0VUX0xBTkdVQUdFID0gIkZyZW5jaCIKCmlmIHRvcmNoLmN1ZGEuaXNfYXZhaWxhYmxlKCk6CiAgICBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoImN1ZGE6MCIpCiAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MTYKZWxzZToKICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3B1IikKICAgIGR0eXBlID0gdG9yY2guZmxvYXQzMgoKdHJhbnNsYXRvciA9IFRyYW5zbGF0b3IoCiAgICBtb2RlbF9uYW1lX29yX2NhcmQ9InNlYW1sZXNzTTRUX3YyX2xhcmdlIiwKICAgIHZvY29kZXJfbmFtZV9vcl9jYXJkPSJ2b2NvZGVyX3YyIiwKICAgIGRldmljZT1kZXZpY2UsCiAgICBkdHlwZT1kdHlwZSwKICAgIGFwcGx5X21pbnRveD1UcnVlLAopCgoKZGVmIHByZXByb2Nlc3NfYXVkaW8oaW5wdXRfYXVkaW86IHN0cikgLT4gTm9uZToKICAgIGFyciwgb3JnX3NyID0gdG9yY2hhdWRpby5sb2FkKGlucHV0X2F1ZGlvKQogICAgbmV3X2FyciA9IHRvcmNoYXVkaW8uZnVuY3Rpb25hbC5yZXNhbXBsZShhcnIsIG9yaWdfZnJlcT1vcmdfc3IsIG5ld19mcmVxPUFVRElPX1NBTVBMRV9SQVRFKQogICAgbWF4X2xlbmd0aCA9IGludChNQVhfSU5QVVRfQVVESU9fTEVOR1RIICogQVVESU9fU0FNUExFX1JBVEUpCiAgICBpZiBuZXdfYXJyLnNoYXBlWzFdID4gbWF4X2xlbmd0aDoKICAgICAgICBuZXdfYXJyID0gbmV3X2Fycls6LCA6bWF4X2xlbmd0aF0KICAgICAgICBnci5XYXJuaW5nKGYiSW5wdXQgYXVkaW8gaXMgdG9vIGxvbmcuIE9ubHkgdGhlIGZpcnN0IHtNQVhfSU5QVVRfQVVESU9fTEVOR1RIfSBzZWNvbmRzIGlzIHVzZWQuIikKICAgIHRvcmNoYXVkaW8uc2F2ZShpbnB1dF9hdWRpbywgbmV3X2Fyciwgc2FtcGxlX3JhdGU9aW50KEFVRElPX1NBTVBMRV9SQVRFKSkKCgpkZWYgcnVuX3Myc3QoCiAgICBpbnB1dF9hdWRpbzogc3RyLCBzb3VyY2VfbGFuZ3VhZ2U6IHN0ciwgdGFyZ2V0X2xhbmd1YWdlOiBzdHIKKSAtPiB0dXBsZVt0dXBsZVtpbnQsIG5wLm5kYXJyYXldIHwgTm9uZSwgc3RyXToKICAgIHByZXByb2Nlc3NfYXVkaW8oaW5wdXRfYXVkaW8pCiAgICBzb3VyY2VfbGFuZ3VhZ2VfY29kZSA9IExBTkdVQUdFX05BTUVfVE9fQ09ERVtzb3VyY2VfbGFuZ3VhZ2VdCiAgICB0YXJnZXRfbGFuZ3VhZ2VfY29kZSA9IExBTkdVQUdFX05BTUVfVE9fQ09ERVt0YXJnZXRfbGFuZ3VhZ2VdCiAgICBvdXRfdGV4dHMsIG91dF9hdWRpb3MgPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgaW5wdXQ9aW5wdXRfYXVkaW8sCiAgICAgICAgdGFza19zdHI9IlMyU1QiLAogICAgICAgIHNyY19sYW5nPXNvdXJjZV9sYW5ndWFnZV9jb2RlLAogICAgICAgIHRndF9sYW5nPXRhcmdldF9sYW5ndWFnZV9jb2RlLAogICAgKQogICAgb3V0X3RleHQgPSBzdHIob3V0X3RleHRzWzBdKQogICAgb3V0X3dhdiA9IG91dF9hdWRpb3MuYXVkaW9fd2F2c1swXS5jcHUoKS5kZXRhY2goKS5udW1weSgpCiAgICByZXR1cm4gKGludChBVURJT19TQU1QTEVfUkFURSksIG91dF93YXYpLCBvdXRfdGV4dAoKCmRlZiBydW5fczJ0dChpbnB1dF9hdWRpbzogc3RyLCBzb3VyY2VfbGFuZ3VhZ2U6IHN0ciwgdGFyZ2V0X2xhbmd1YWdlOiBzdHIpIC0+IHN0cjoKICAgIHByZXByb2Nlc3NfYXVkaW8oaW5wdXRfYXVkaW8pCiAgICBzb3VyY2VfbGFuZ3VhZ2VfY29kZSA9IExBTkdVQUdFX05BTUVfVE9fQ09ERVtzb3VyY2VfbGFuZ3VhZ2VdCiAgICB0YXJnZXRfbGFuZ3VhZ2VfY29kZSA9IExBTkdVQUdFX05BTUVfVE9fQ09ERVt0YXJnZXRfbGFuZ3VhZ2VdCiAgICBvdXRfdGV4dHMsIF8gPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgaW5wdXQ9aW5wdXRfYXVkaW8sCiAgICAgICAgdGFza19zdHI9IlMyVFQiLAogICAgICAgIHNyY19sYW5nPXNvdXJjZV9sYW5ndWFnZV9jb2RlLAogICAgICAgIHRndF9sYW5nPXRhcmdldF9sYW5ndWFnZV9jb2RlLAogICAgKQogICAgcmV0dXJuIHN0cihvdXRfdGV4dHNbMF0pCgoKZGVmIHJ1bl90MnN0KGlucHV0X3RleHQ6IHN0ciwgc291cmNlX2xhbmd1YWdlOiBzdHIsIHRhcmdldF9sYW5ndWFnZTogc3RyKSAtPiB0dXBsZVt0dXBsZVtpbnQsIG5wLm5kYXJyYXldIHwgTm9uZSwgc3RyXToKICAgIHNvdXJjZV9sYW5ndWFnZV9jb2RlID0gTEFOR1VBR0VfTkFNRV9UT19DT0RFW3NvdXJjZV9sYW5ndWFnZV0KICAgIHRhcmdldF9sYW5ndWFnZV9jb2RlID0gTEFOR1VBR0VfTkFNRV9UT19DT0RFW3RhcmdldF9sYW5ndWFnZV0KICAgIG91dF90ZXh0cywgb3V0X2F1ZGlvcyA9IHRyYW5zbGF0b3IucHJlZGljdCgKICAgICAgICBpbnB1dD1pbnB1dF90ZXh0LAogICAgICAgIHRhc2tfc3RyPSJUMlNUIiwKICAgICAgICBzcmNfbGFuZz1zb3VyY2VfbGFuZ3VhZ2VfY29kZSwKICAgICAgICB0Z3RfbGFuZz10YXJnZXRfbGFuZ3VhZ2VfY29kZSwKICAgICkKICAgIG91dF90ZXh0ID0gc3RyKG91dF90ZXh0c1swXSkKICAgIG91dF93YXYgPSBvdXRfYXVkaW9zLmF1ZGlvX3dhdnNbMF0uY3B1KCkuZGV0YWNoKCkubnVtcHkoKQogICAgcmV0dXJuIChpbnQoQVVESU9fU0FNUExFX1JBVEUpLCBvdXRfd2F2KSwgb3V0X3RleHQKCgpkZWYgcnVuX3QydHQoaW5wdXRfdGV4dDogc3RyLCBzb3VyY2VfbGFuZ3VhZ2U6IHN0ciwgdGFyZ2V0X2xhbmd1YWdlOiBzdHIpIC0+IHN0cjoKICAgIHNvdXJjZV9sYW5ndWFnZV9jb2RlID0gTEFOR1VBR0VfTkFNRV9UT19DT0RFW3NvdXJjZV9sYW5ndWFnZV0KICAgIHRhcmdldF9sYW5ndWFnZV9jb2RlID0gTEFOR1VBR0VfTkFNRV9UT19DT0RFW3RhcmdldF9sYW5ndWFnZV0KICAgIG91dF90ZXh0cywgXyA9IHRyYW5zbGF0b3IucHJlZGljdCgKICAgICAgICBpbnB1dD1pbnB1dF90ZXh0LAogICAgICAgIHRhc2tfc3RyPSJUMlRUIiwKICAgICAgICBzcmNfbGFuZz1zb3VyY2VfbGFuZ3VhZ2VfY29kZSwKICAgICAgICB0Z3RfbGFuZz10YXJnZXRfbGFuZ3VhZ2VfY29kZSwKICAgICkKICAgIHJldHVybiBzdHIob3V0X3RleHRzWzBdKQoKCmRlZiBydW5fYXNyKGlucHV0X2F1ZGlvOiBzdHIsIHRhcmdldF9sYW5ndWFnZTogc3RyKSAtPiBzdHI6CiAgICBwcmVwcm9jZXNzX2F1ZGlvKGlucHV0X2F1ZGlvKQogICAgdGFyZ2V0X2xhbmd1YWdlX2NvZGUgPSBMQU5HVUFHRV9OQU1FX1RPX0NPREVbdGFyZ2V0X2xhbmd1YWdlXQogICAgb3V0X3RleHRzLCBfID0gdHJhbnNsYXRvci5wcmVkaWN0KAogICAgICAgIGlucHV0PWlucHV0X2F1ZGlvLAogICAgICAgIHRhc2tfc3RyPSJBU1IiLAogICAgICAgIHNyY19sYW5nPXRhcmdldF9sYW5ndWFnZV9jb2RlLAogICAgICAgIHRndF9sYW5nPXRhcmdldF9sYW5ndWFnZV9jb2RlLAogICAgKQogICAgcmV0dXJuIHN0cihvdXRfdGV4dHNbMF0pCgoKd2l0aCBnci5CbG9ja3MoKSBhcyBkZW1vX3Myc3Q6CiAgICB3aXRoIGdyLlJvdygpOgogICAgICAgIHdpdGggZ3IuQ29sdW1uKCk6CiAgICAgICAgICAgIHdpdGggZ3IuR3JvdXAoKToKICAgICAgICAgICAgICAgIGlucHV0X2F1ZGlvID0gZ3IuQXVkaW8obGFiZWw9IklucHV0IHNwZWVjaCIsIHR5cGU9ImZpbGVwYXRoIikKICAgICAgICAgICAgICAgIHNvdXJjZV9sYW5ndWFnZSA9IGdyLkRyb3Bkb3duKAogICAgICAgICAgICAgICAgICAgIGxhYmVsPSJTb3VyY2UgbGFuZ3VhZ2UiLAogICAgICAgICAgICAgICAgICAgIGNob2ljZXM9QVNSX1RBUkdFVF9MQU5HVUFHRV9OQU1FUywKICAgICAgICAgICAgICAgICAgICB2YWx1ZT0iRW5nbGlzaCIsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB0YXJnZXRfbGFuZ3VhZ2UgPSBnci5Ecm9wZG93bigKICAgICAgICAgICAgICAgICAgICBsYWJlbD0iVGFyZ2V0IGxhbmd1YWdlIiwKICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPVMyU1RfVEFSR0VUX0xBTkdVQUdFX05BTUVTLAogICAgICAgICAgICAgICAgICAgIHZhbHVlPURFRkFVTFRfVEFSR0VUX0xBTkdVQUdFLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBidG4gPSBnci5CdXR0b24oIlRyYW5zbGF0ZSIpCiAgICAgICAgd2l0aCBnci5Db2x1bW4oKToKICAgICAgICAgICAgd2l0aCBnci5Hcm91cCgpOgogICAgICAgICAgICAgICAgb3V0cHV0X2F1ZGlvID0gZ3IuQXVkaW8oCiAgICAgICAgICAgICAgICAgICAgbGFiZWw9IlRyYW5zbGF0ZWQgc3BlZWNoIiwKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheT1GYWxzZSwKICAgICAgICAgICAgICAgICAgICBzdHJlYW1pbmc9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgdHlwZT0ibnVtcHkiLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgb3V0cHV0X3RleHQgPSBnci5UZXh0Ym94KGxhYmVsPSJUcmFuc2xhdGVkIHRleHQiKQoKICAgIGdyLkV4YW1wbGVzKAogICAgICAgIGV4YW1wbGVzPVtdLAogICAgICAgIGlucHV0cz1baW5wdXRfYXVkaW8sIHNvdXJjZV9sYW5ndWFnZSwgdGFyZ2V0X2xhbmd1YWdlXSwKICAgICAgICBvdXRwdXRzPVtvdXRwdXRfYXVkaW8sIG91dHB1dF90ZXh0XSwKICAgICAgICBmbj1ydW5fczJzdCwKICAgICAgICBjYWNoZV9leGFtcGxlcz1DQUNIRV9FWEFNUExFUywKICAgICAgICBhcGlfbmFtZT1GYWxzZSwKICAgICkKCiAgICBidG4uY2xpY2soCiAgICAgICAgZm49cnVuX3Myc3QsCiAgICAgICAgaW5wdXRzPVtpbnB1dF9hdWRpbywgc291cmNlX2xhbmd1YWdlLCB0YXJnZXRfbGFuZ3VhZ2VdLAogICAgICAgIG91dHB1dHM9W291dHB1dF9hdWRpbywgb3V0cHV0X3RleHRdLAogICAgICAgIGFwaV9uYW1lPSJzMnN0IiwKICAgICkKCndpdGggZ3IuQmxvY2tzKCkgYXMgZGVtb19zMnR0OgogICAgd2l0aCBnci5Sb3coKToKICAgICAgICB3aXRoIGdyLkNvbHVtbigpOgogICAgICAgICAgICB3aXRoIGdyLkdyb3VwKCk6CiAgICAgICAgICAgICAgICBpbnB1dF9hdWRpbyA9IGdyLkF1ZGlvKGxhYmVsPSJJbnB1dCBzcGVlY2giLCB0eXBlPSJmaWxlcGF0aCIpCiAgICAgICAgICAgICAgICBzb3VyY2VfbGFuZ3VhZ2UgPSBnci5Ecm9wZG93bigKICAgICAgICAgICAgICAgICAgICBsYWJlbD0iU291cmNlIGxhbmd1YWdlIiwKICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPUFTUl9UQVJHRVRfTEFOR1VBR0VfTkFNRVMsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU9IkVuZ2xpc2giLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdGFyZ2V0X2xhbmd1YWdlID0gZ3IuRHJvcGRvd24oCiAgICAgICAgICAgICAgICAgICAgbGFiZWw9IlRhcmdldCBsYW5ndWFnZSIsCiAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz1TMlRUX1RBUkdFVF9MQU5HVUFHRV9OQU1FUywKICAgICAgICAgICAgICAgICAgICB2YWx1ZT1ERUZBVUxUX1RBUkdFVF9MQU5HVUFHRSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgYnRuID0gZ3IuQnV0dG9uKCJUcmFuc2xhdGUiKQogICAgICAgIHdpdGggZ3IuQ29sdW1uKCk6CiAgICAgICAgICAgIG91dHB1dF90ZXh0ID0gZ3IuVGV4dGJveChsYWJlbD0iVHJhbnNsYXRlZCB0ZXh0IikKCiAgICBnci5FeGFtcGxlcygKICAgICAgICBleGFtcGxlcz1bXSwKICAgICAgICBpbnB1dHM9W2lucHV0X2F1ZGlvLCBzb3VyY2VfbGFuZ3VhZ2UsIHRhcmdldF9sYW5ndWFnZV0sCiAgICAgICAgb3V0cHV0cz1vdXRwdXRfdGV4dCwKICAgICAgICBmbj1ydW5fczJ0dCwKICAgICAgICBjYWNoZV9leGFtcGxlcz1DQUNIRV9FWEFNUExFUywKICAgICAgICBhcGlfbmFtZT1GYWxzZSwKICAgICkKCiAgICBidG4uY2xpY2soCiAgICAgICAgZm49cnVuX3MydHQsCiAgICAgICAgaW5wdXRzPVtpbnB1dF9hdWRpbywgc291cmNlX2xhbmd1YWdlLCB0YXJnZXRfbGFuZ3VhZ2VdLAogICAgICAgIG91dHB1dHM9b3V0cHV0X3RleHQsCiAgICAgICAgYXBpX25hbWU9InMydHQiLAogICAgKQoKd2l0aCBnci5CbG9ja3MoKSBhcyBkZW1vX3Qyc3Q6CiAgICB3aXRoIGdyLlJvdygpOgogICAgICAgIHdpdGggZ3IuQ29sdW1uKCk6CiAgICAgICAgICAgIHdpdGggZ3IuR3JvdXAoKToKICAgICAgICAgICAgICAgIGlucHV0X3RleHQgPSBnci5UZXh0Ym94KGxhYmVsPSJJbnB1dCB0ZXh0IikKICAgICAgICAgICAgICAgIHdpdGggZ3IuUm93KCk6CiAgICAgICAgICAgICAgICAgICAgc291cmNlX2xhbmd1YWdlID0gZ3IuRHJvcGRvd24oCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPSJTb3VyY2UgbGFuZ3VhZ2UiLAogICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPVRFWFRfU09VUkNFX0xBTkdVQUdFX05BTUVTLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT0iRW5nbGlzaCIsCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIHRhcmdldF9sYW5ndWFnZSA9IGdyLkRyb3Bkb3duKAogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD0iVGFyZ2V0IGxhbmd1YWdlIiwKICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz1UMlNUX1RBUkdFVF9MQU5HVUFHRV9OQU1FUywKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9REVGQVVMVF9UQVJHRVRfTEFOR1VBR0UsCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICBidG4gPSBnci5CdXR0b24oIlRyYW5zbGF0ZSIpCiAgICAgICAgd2l0aCBnci5Db2x1bW4oKToKICAgICAgICAgICAgd2l0aCBnci5Hcm91cCgpOgogICAgICAgICAgICAgICAgb3V0cHV0X2F1ZGlvID0gZ3IuQXVkaW8oCiAgICAgICAgICAgICAgICAgICAgbGFiZWw9IlRyYW5zbGF0ZWQgc3BlZWNoIiwKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheT1GYWxzZSwKICAgICAgICAgICAgICAgICAgICBzdHJlYW1pbmc9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgdHlwZT0ibnVtcHkiLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgb3V0cHV0X3RleHQgPSBnci5UZXh0Ym94KGxhYmVsPSJUcmFuc2xhdGVkIHRleHQiKQoKICAgIGdyLkV4YW1wbGVzKAogICAgICAgIGV4YW1wbGVzPVtdLAogICAgICAgIGlucHV0cz1baW5wdXRfdGV4dCwgc291cmNlX2xhbmd1YWdlLCB0YXJnZXRfbGFuZ3VhZ2VdLAogICAgICAgIG91dHB1dHM9W291dHB1dF9hdWRpbywgb3V0cHV0X3RleHRdLAogICAgICAgIGZuPXJ1bl90MnN0LAogICAgICAgIGNhY2hlX2V4YW1wbGVzPUNBQ0hFX0VYQU1QTEVTLAogICAgICAgIGFwaV9uYW1lPUZhbHNlLAogICAgKQoKICAgIGdyLm9uKAogICAgICAgIHRyaWdnZXJzPVtpbnB1dF90ZXh0LnN1Ym1pdCwgYnRuLmNsaWNrXSwKICAgICAgICBmbj1ydW5fdDJzdCwKICAgICAgICBpbnB1dHM9W2lucHV0X3RleHQsIHNvdXJjZV9sYW5ndWFnZSwgdGFyZ2V0X2xhbmd1YWdlXSwKICAgICAgICBvdXRwdXRzPVtvdXRwdXRfYXVkaW8sIG91dHB1dF90ZXh0XSwKICAgICAgICBhcGlfbmFtZT0idDJzdCIsCiAgICApCgp3aXRoIGdyLkJsb2NrcygpIGFzIGRlbW9fdDJ0dDoKICAgIHdpdGggZ3IuUm93KCk6CiAgICAgICAgd2l0aCBnci5Db2x1bW4oKToKICAgICAgICAgICAgd2l0aCBnci5Hcm91cCgpOgogICAgICAgICAgICAgICAgaW5wdXRfdGV4dCA9IGdyLlRleHRib3gobGFiZWw9IklucHV0IHRleHQiKQogICAgICAgICAgICAgICAgd2l0aCBnci5Sb3coKToKICAgICAgICAgICAgICAgICAgICBzb3VyY2VfbGFuZ3VhZ2UgPSBnci5Ecm9wZG93bigKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9IlNvdXJjZSBsYW5ndWFnZSIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9VEVYVF9TT1VSQ0VfTEFOR1VBR0VfTkFNRVMsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPSJFbmdsaXNoIiwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0X2xhbmd1YWdlID0gZ3IuRHJvcGRvd24oCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPSJUYXJnZXQgbGFuZ3VhZ2UiLAogICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPVQyVFRfVEFSR0VUX0xBTkdVQUdFX05BTUVTLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1ERUZBVUxUX1RBUkdFVF9MQU5HVUFHRSwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGJ0biA9IGdyLkJ1dHRvbigiVHJhbnNsYXRlIikKICAgICAgICB3aXRoIGdyLkNvbHVtbigpOgogICAgICAgICAgICBvdXRwdXRfdGV4dCA9IGdyLlRleHRib3gobGFiZWw9IlRyYW5zbGF0ZWQgdGV4dCIpCgogICAgZ3IuRXhhbXBsZXMoCiAgICAgICAgZXhhbXBsZXM9W10sCiAgICAgICAgaW5wdXRzPVtpbnB1dF90ZXh0LCBzb3VyY2VfbGFuZ3VhZ2UsIHRhcmdldF9sYW5ndWFnZV0sCiAgICAgICAgb3V0cHV0cz1vdXRwdXRfdGV4dCwKICAgICAgICBmbj1ydW5fdDJ0dCwKICAgICAgICBjYWNoZV9leGFtcGxlcz1DQUNIRV9FWEFNUExFUywKICAgICAgICBhcGlfbmFtZT1GYWxzZSwKICAgICkKCiAgICBnci5vbigKICAgICAgICB0cmlnZ2Vycz1baW5wdXRfdGV4dC5zdWJtaXQsIGJ0bi5jbGlja10sCiAgICAgICAgZm49cnVuX3QydHQsCiAgICAgICAgaW5wdXRzPVtpbnB1dF90ZXh0LCBzb3VyY2VfbGFuZ3VhZ2UsIHRhcmdldF9sYW5ndWFnZV0sCiAgICAgICAgb3V0cHV0cz1vdXRwdXRfdGV4dCwKICAgICAgICBhcGlfbmFtZT0idDJ0dCIsCiAgICApCgp3aXRoIGdyLkJsb2NrcygpIGFzIGRlbW9fYXNyOgogICAgd2l0aCBnci5Sb3coKToKICAgICAgICB3aXRoIGdyLkNvbHVtbigpOgogICAgICAgICAgICB3aXRoIGdyLkdyb3VwKCk6CiAgICAgICAgICAgICAgICBpbnB1dF9hdWRpbyA9IGdyLkF1ZGlvKGxhYmVsPSJJbnB1dCBzcGVlY2giLCB0eXBlPSJmaWxlcGF0aCIpCiAgICAgICAgICAgICAgICB0YXJnZXRfbGFuZ3VhZ2UgPSBnci5Ecm9wZG93bigKICAgICAgICAgICAgICAgICAgICBsYWJlbD0iVGFyZ2V0IGxhbmd1YWdlIiwKICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPUFTUl9UQVJHRVRfTEFOR1VBR0VfTkFNRVMsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU9REVGQVVMVF9UQVJHRVRfTEFOR1VBR0UsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGJ0biA9IGdyLkJ1dHRvbigiVHJhbnNsYXRlIikKICAgICAgICB3aXRoIGdyLkNvbHVtbigpOgogICAgICAgICAgICBvdXRwdXRfdGV4dCA9IGdyLlRleHRib3gobGFiZWw9IlRyYW5zbGF0ZWQgdGV4dCIpCgogICAgZ3IuRXhhbXBsZXMoCiAgICAgICAgZXhhbXBsZXM9W10sCiAgICAgICAgaW5wdXRzPVtpbnB1dF9hdWRpbywgdGFyZ2V0X2xhbmd1YWdlXSwKICAgICAgICBvdXRwdXRzPW91dHB1dF90ZXh0LAogICAgICAgIGZuPXJ1bl9hc3IsCiAgICAgICAgY2FjaGVfZXhhbXBsZXM9Q0FDSEVfRVhBTVBMRVMsCiAgICAgICAgYXBpX25hbWU9RmFsc2UsCiAgICApCgogICAgYnRuLmNsaWNrKAogICAgICAgIGZuPXJ1bl9hc3IsCiAgICAgICAgaW5wdXRzPVtpbnB1dF9hdWRpbywgdGFyZ2V0X2xhbmd1YWdlXSwKICAgICAgICBvdXRwdXRzPW91dHB1dF90ZXh0LAogICAgICAgIGFwaV9uYW1lPSJhc3IiLAogICAgKQoKCndpdGggZ3IuQmxvY2tzKGNzcz0ic3R5bGUuY3NzIikgYXMgZGVtbzoKICAgIGdyLk1hcmtkb3duKERFU0NSSVBUSU9OKQogICAgZ3IuRHVwbGljYXRlQnV0dG9uKAogICAgICAgIHZhbHVlPSJEdXBsaWNhdGUgU3BhY2UgZm9yIHByaXZhdGUgdXNlIiwKICAgICAgICBlbGVtX2lkPSJkdXBsaWNhdGUtYnV0dG9uIiwKICAgICAgICB2aXNpYmxlPW9zLmdldGVudigiU0hPV19EVVBMSUNBVEVfQlVUVE9OIikgPT0gIjEiLAogICAgKQoKICAgIHdpdGggZ3IuVGFicygpOgogICAgICAgIHdpdGggZ3IuVGFiKGxhYmVsPSJTMlNUIik6CiAgICAgICAgICAgIGRlbW9fczJzdC5yZW5kZXIoKQogICAgICAgIHdpdGggZ3IuVGFiKGxhYmVsPSJTMlRUIik6CiAgICAgICAgICAgIGRlbW9fczJ0dC5yZW5kZXIoKQogICAgICAgIHdpdGggZ3IuVGFiKGxhYmVsPSJUMlNUIik6CiAgICAgICAgICAgIGRlbW9fdDJzdC5yZW5kZXIoKQogICAgICAgIHdpdGggZ3IuVGFiKGxhYmVsPSJUMlRUIik6CiAgICAgICAgICAgIGRlbW9fdDJ0dC5yZW5kZXIoKQogICAgICAgIHdpdGggZ3IuVGFiKGxhYmVsPSJBU1IiKToKICAgICAgICAgICAgZGVtb19hc3IucmVuZGVyKCkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgZGVtby5xdWV1ZShtYXhfc2l6ZT01MCkubGF1bmNoKCkK'),
    ('seamless/demo/m4tv2/lang_list.py', 'IyBMYW5ndWFnZSBkaWN0Cmxhbmd1YWdlX2NvZGVfdG9fbmFtZSA9IHsKICAgICJhZnIiOiAiQWZyaWthYW5zIiwKICAgICJhbWgiOiAiQW1oYXJpYyIsCiAgICAiYXJiIjogIk1vZGVybiBTdGFuZGFyZCBBcmFiaWMiLAogICAgImFyeSI6ICJNb3JvY2NhbiBBcmFiaWMiLAogICAgImFyeiI6ICJFZ3lwdGlhbiBBcmFiaWMiLAogICAgImFzbSI6ICJBc3NhbWVzZSIsCiAgICAiYXN0IjogIkFzdHVyaWFuIiwKICAgICJhemoiOiAiTm9ydGggQXplcmJhaWphbmkiLAogICAgImJlbCI6ICJCZWxhcnVzaWFuIiwKICAgICJiZW4iOiAiQmVuZ2FsaSIsCiAgICAiYm9zIjogIkJvc25pYW4iLAogICAgImJ1bCI6ICJCdWxnYXJpYW4iLAogICAgImNhdCI6ICJDYXRhbGFuIiwKICAgICJjZWIiOiAiQ2VidWFubyIsCiAgICAiY2VzIjogIkN6ZWNoIiwKICAgICJja2IiOiAiQ2VudHJhbCBLdXJkaXNoIiwKICAgICJjbW4iOiAiTWFuZGFyaW4gQ2hpbmVzZSIsCiAgICAiY3ltIjogIldlbHNoIiwKICAgICJkYW4iOiAiRGFuaXNoIiwKICAgICJkZXUiOiAiR2VybWFuIiwKICAgICJlbGwiOiAiR3JlZWsiLAogICAgImVuZyI6ICJFbmdsaXNoIiwKICAgICJlc3QiOiAiRXN0b25pYW4iLAogICAgImV1cyI6ICJCYXNxdWUiLAogICAgImZpbiI6ICJGaW5uaXNoIiwKICAgICJmcmEiOiAiRnJlbmNoIiwKICAgICJnYXoiOiAiV2VzdCBDZW50cmFsIE9yb21vIiwKICAgICJnbGUiOiAiSXJpc2giLAogICAgImdsZyI6ICJHYWxpY2lhbiIsCiAgICAiZ3VqIjogIkd1amFyYXRpIiwKICAgICJoZWIiOiAiSGVicmV3IiwKICAgICJoaW4iOiAiSGluZGkiLAogICAgImhydiI6ICJDcm9hdGlhbiIsCiAgICAiaHVuIjogIkh1bmdhcmlhbiIsCiAgICAiaHllIjogIkFybWVuaWFuIiwKICAgICJpYm8iOiAiSWdibyIsCiAgICAiaW5kIjogIkluZG9uZXNpYW4iLAogICAgImlzbCI6ICJJY2VsYW5kaWMiLAogICAgIml0YSI6ICJJdGFsaWFuIiwKICAgICJqYXYiOiAiSmF2YW5lc2UiLAogICAgImpwbiI6ICJKYXBhbmVzZSIsCiAgICAia2FtIjogIkthbWJhIiwKICAgICJrYW4iOiAiS2FubmFkYSIsCiAgICAia2F0IjogIkdlb3JnaWFuIiwKICAgICJrYXoiOiAiS2F6YWtoIiwKICAgICJrZWEiOiAiS2FidXZlcmRpYW51IiwKICAgICJraGsiOiAiSGFsaCBNb25nb2xpYW4iLAogICAgImtobSI6ICJLaG1lciIsCiAgICAia2lyIjogIkt5cmd5eiIsCiAgICAia29yIjogIktvcmVhbiIsCiAgICAibGFvIjogIkxhbyIsCiAgICAibGl0IjogIkxpdGh1YW5pYW4iLAogICAgImx0eiI6ICJMdXhlbWJvdXJnaXNoIiwKICAgICJsdWciOiAiR2FuZGEiLAogICAgImx1byI6ICJMdW8iLAogICAgImx2cyI6ICJTdGFuZGFyZCBMYXR2aWFuIiwKICAgICJtYWkiOiAiTWFpdGhpbGkiLAogICAgIm1hbCI6ICJNYWxheWFsYW0iLAogICAgIm1hciI6ICJNYXJhdGhpIiwKICAgICJta2QiOiAiTWFjZWRvbmlhbiIsCiAgICAibWx0IjogIk1hbHRlc2UiLAogICAgIm1uaSI6ICJNZWl0ZWkiLAogICAgIm15YSI6ICJCdXJtZXNlIiwKICAgICJubGQiOiAiRHV0Y2giLAogICAgIm5ubyI6ICJOb3J3ZWdpYW4gTnlub3JzayIsCiAgICAibm9iIjogIk5vcndlZ2lhbiBCb2ttXHUwMGU1bCIsCiAgICAibnBpIjogIk5lcGFsaSIsCiAgICAibnlhIjogIk55YW5qYSIsCiAgICAib2NpIjogIk9jY2l0YW4iLAogICAgIm9yeSI6ICJPZGlhIiwKICAgICJwYW4iOiAiUHVuamFiaSIsCiAgICAicGJ0IjogIlNvdXRoZXJuIFBhc2h0byIsCiAgICAicGVzIjogIldlc3Rlcm4gUGVyc2lhbiIsCiAgICAicG9sIjogIlBvbGlzaCIsCiAgICAicG9yIjogIlBvcnR1Z3Vlc2UiLAogICAgInJvbiI6ICJSb21hbmlhbiIsCiAgICAicnVzIjogIlJ1c3NpYW4iLAogICAgInNsayI6ICJTbG92YWsiLAogICAgInNsdiI6ICJTbG92ZW5pYW4iLAogICAgInNuYSI6ICJTaG9uYSIsCiAgICAic25kIjogIlNpbmRoaSIsCiAgICAic29tIjogIlNvbWFsaSIsCiAgICAic3BhIjogIlNwYW5pc2giLAogICAgInNycCI6ICJTZXJiaWFuIiwKICAgICJzd2UiOiAiU3dlZGlzaCIsCiAgICAic3doIjogIlN3YWhpbGkiLAogICAgInRhbSI6ICJUYW1pbCIsCiAgICAidGVsIjogIlRlbHVndSIsCiAgICAidGdrIjogIlRhamlrIiwKICAgICJ0Z2wiOiAiVGFnYWxvZyIsCiAgICAidGhhIjogIlRoYWkiLAogICAgInR1ciI6ICJUdXJraXNoIiwKICAgICJ1a3IiOiAiVWtyYWluaWFuIiwKICAgICJ1cmQiOiAiVXJkdSIsCiAgICAidXpuIjogIk5vcnRoZXJuIFV6YmVrIiwKICAgICJ2aWUiOiAiVmlldG5hbWVzZSIsCiAgICAieGhvIjogIlhob3NhIiwKICAgICJ5b3IiOiAiWW9ydWJhIiwKICAgICJ5dWUiOiAiQ2FudG9uZXNlIiwKICAgICJ6bG0iOiAiQ29sbG9xdWlhbCBNYWxheSIsCiAgICAienNtIjogIlN0YW5kYXJkIE1hbGF5IiwKICAgICJ6dWwiOiAiWnVsdSIsCn0KTEFOR1VBR0VfTkFNRV9UT19DT0RFID0ge3Y6IGsgZm9yIGssIHYgaW4gbGFuZ3VhZ2VfY29kZV90b19uYW1lLml0ZW1zKCl9CgojIFNvdXJjZSBsYW5nczogUzJTVCAvIFMyVFQgLyBBU1IgZG9uJ3QgbmVlZCBzb3VyY2UgbGFuZwojIFQyVFQgLyBUMlNUIHVzZSB0aGlzCnRleHRfc291cmNlX2xhbmd1YWdlX2NvZGVzID0gWwogICAgImFmciIsCiAgICAiYW1oIiwKICAgICJhcmIiLAogICAgImFyeSIsCiAgICAiYXJ6IiwKICAgICJhc20iLAogICAgImF6aiIsCiAgICAiYmVsIiwKICAgICJiZW4iLAogICAgImJvcyIsCiAgICAiYnVsIiwKICAgICJjYXQiLAogICAgImNlYiIsCiAgICAiY2VzIiwKICAgICJja2IiLAogICAgImNtbiIsCiAgICAiY3ltIiwKICAgICJkYW4iLAogICAgImRldSIsCiAgICAiZWxsIiwKICAgICJlbmciLAogICAgImVzdCIsCiAgICAiZXVzIiwKICAgICJmaW4iLAogICAgImZyYSIsCiAgICAiZ2F6IiwKICAgICJnbGUiLAogICAgImdsZyIsCiAgICAiZ3VqIiwKICAgICJoZWIiLAogICAgImhpbiIsCiAgICAiaHJ2IiwKICAgICJodW4iLAogICAgImh5ZSIsCiAgICAiaWJvIiwKICAgICJpbmQiLAogICAgImlzbCIsCiAgICAiaXRhIiwKICAgICJqYXYiLAogICAgImpwbiIsCiAgICAia2FuIiwKICAgICJrYXQiLAogICAgImtheiIsCiAgICAia2hrIiwKICAgICJraG0iLAogICAgImtpciIsCiAgICAia29yIiwKICAgICJsYW8iLAogICAgImxpdCIsCiAgICAibHVnIiwKICAgICJsdW8iLAogICAgImx2cyIsCiAgICAibWFpIiwKICAgICJtYWwiLAogICAgIm1hciIsCiAgICAibWtkIiwKICAgICJtbHQiLAogICAgIm1uaSIsCiAgICAibXlhIiwKICAgICJubGQiLAogICAgIm5ubyIsCiAgICAibm9iIiwKICAgICJucGkiLAogICAgIm55YSIsCiAgICAib3J5IiwKICAgICJwYW4iLAogICAgInBidCIsCiAgICAicGVzIiwKICAgICJwb2wiLAogICAgInBvciIsCiAgICAicm9uIiwKICAgICJydXMiLAogICAgInNsayIsCiAgICAic2x2IiwKICAgICJzbmEiLAogICAgInNuZCIsCiAgICAic29tIiwKICAgICJzcGEiLAogICAgInNycCIsCiAgICAic3dlIiwKICAgICJzd2giLAogICAgInRhbSIsCiAgICAidGVsIiwKICAgICJ0Z2siLAogICAgInRnbCIsCiAgICAidGhhIiwKICAgICJ0dXIiLAogICAgInVrciIsCiAgICAidXJkIiwKICAgICJ1em4iLAogICAgInZpZSIsCiAgICAieW9yIiwKICAgICJ5dWUiLAogICAgInpzbSIsCiAgICAienVsIiwKXQpURVhUX1NPVVJDRV9MQU5HVUFHRV9OQU1FUyA9IHNvcnRlZChbbGFuZ3VhZ2VfY29kZV90b19uYW1lW2NvZGVdIGZvciBjb2RlIGluIHRleHRfc291cmNlX2xhbmd1YWdlX2NvZGVzXSkKCiMgVGFyZ2V0IGxhbmdzOgojIFMyU1QgLyBUMlNUCnMyc3RfdGFyZ2V0X2xhbmd1YWdlX2NvZGVzID0gWwogICAgImVuZyIsCiAgICAiYXJiIiwKICAgICJiZW4iLAogICAgImNhdCIsCiAgICAiY2VzIiwKICAgICJjbW4iLAogICAgImN5bSIsCiAgICAiZGFuIiwKICAgICJkZXUiLAogICAgImVzdCIsCiAgICAiZmluIiwKICAgICJmcmEiLAogICAgImhpbiIsCiAgICAiaW5kIiwKICAgICJpdGEiLAogICAgImpwbiIsCiAgICAia29yIiwKICAgICJtbHQiLAogICAgIm5sZCIsCiAgICAicGVzIiwKICAgICJwb2wiLAogICAgInBvciIsCiAgICAicm9uIiwKICAgICJydXMiLAogICAgInNsayIsCiAgICAic3BhIiwKICAgICJzd2UiLAogICAgInN3aCIsCiAgICAidGVsIiwKICAgICJ0Z2wiLAogICAgInRoYSIsCiAgICAidHVyIiwKICAgICJ1a3IiLAogICAgInVyZCIsCiAgICAidXpuIiwKICAgICJ2aWUiLApdClMyU1RfVEFSR0VUX0xBTkdVQUdFX05BTUVTID0gc29ydGVkKFtsYW5ndWFnZV9jb2RlX3RvX25hbWVbY29kZV0gZm9yIGNvZGUgaW4gczJzdF90YXJnZXRfbGFuZ3VhZ2VfY29kZXNdKQpUMlNUX1RBUkdFVF9MQU5HVUFHRV9OQU1FUyA9IFMyU1RfVEFSR0VUX0xBTkdVQUdFX05BTUVTCgojIFMyVFQgLyBUMlRUIC8gQVNSClMyVFRfVEFSR0VUX0xBTkdVQUdFX05BTUVTID0gVEVYVF9TT1VSQ0VfTEFOR1VBR0VfTkFNRVMKVDJUVF9UQVJHRVRfTEFOR1VBR0VfTkFNRVMgPSBURVhUX1NPVVJDRV9MQU5HVUFHRV9OQU1FUwpBU1JfVEFSR0VUX0xBTkdVQUdFX05BTUVTID0gVEVYVF9TT1VSQ0VfTEFOR1VBR0VfTkFNRVMK'),
    ('seamless/demo/m4tv1/app.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBncmFkaW8gYXMgZ3IKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2hhdWRpbwpmcm9tIGh1Z2dpbmdmYWNlX2h1YiBpbXBvcnQgaGZfaHViX2Rvd25sb2FkCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmluZmVyZW5jZS50cmFuc2xhdG9yIGltcG9ydCBUcmFuc2xhdG9yCgpERVNDUklQVElPTiA9ICIiIiMgU2VhbWxlc3NNNFQKCltTZWFtbGVzc000VF0oaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rcmVzZWFyY2gvc2VhbWxlc3NfY29tbXVuaWNhdGlvbikgaXMgZGVzaWduZWQgdG8gcHJvdmlkZSBoaWdoLXF1YWxpdHkKdHJhbnNsYXRpb24sIGFsbG93aW5nIHBlb3BsZSBmcm9tIGRpZmZlcmVudCBsaW5ndWlzdGljIGNvbW11bml0aWVzIHRvIGNvbW11bmljYXRlIGVmZm9ydGxlc3NseSB0aHJvdWdoIHNwZWVjaCBhbmQgdGV4dC4KClRoaXMgdW5pZmllZCBtb2RlbCBlbmFibGVzIG11bHRpcGxlIHRhc2tzIGxpa2UgU3BlZWNoLXRvLVNwZWVjaCAoUzJTVCksIFNwZWVjaC10by1UZXh0IChTMlRUKSwgVGV4dC10by1TcGVlY2ggKFQyU1QpCnRyYW5zbGF0aW9uIGFuZCBtb3JlLCB3aXRob3V0IHJlbHlpbmcgb24gbXVsdGlwbGUgc2VwYXJhdGUgbW9kZWxzLgoiIiIKClRBU0tfTkFNRVMgPSBbCiAgICAiUzJTVCAoU3BlZWNoIHRvIFNwZWVjaCB0cmFuc2xhdGlvbikiLAogICAgIlMyVFQgKFNwZWVjaCB0byBUZXh0IHRyYW5zbGF0aW9uKSIsCiAgICAiVDJTVCAoVGV4dCB0byBTcGVlY2ggdHJhbnNsYXRpb24pIiwKICAgICJUMlRUIChUZXh0IHRvIFRleHQgdHJhbnNsYXRpb24pIiwKICAgICJBU1IgKEF1dG9tYXRpYyBTcGVlY2ggUmVjb2duaXRpb24pIiwKXQoKIyBMYW5ndWFnZSBkaWN0Cmxhbmd1YWdlX2NvZGVfdG9fbmFtZSA9IHsKICAgICJhZnIiOiAiQWZyaWthYW5zIiwKICAgICJhbWgiOiAiQW1oYXJpYyIsCiAgICAiYXJiIjogIk1vZGVybiBTdGFuZGFyZCBBcmFiaWMiLAogICAgImFyeSI6ICJNb3JvY2NhbiBBcmFiaWMiLAogICAgImFyeiI6ICJFZ3lwdGlhbiBBcmFiaWMiLAogICAgImFzbSI6ICJBc3NhbWVzZSIsCiAgICAiYXN0IjogIkFzdHVyaWFuIiwKICAgICJhemoiOiAiTm9ydGggQXplcmJhaWphbmkiLAogICAgImJlbCI6ICJCZWxhcnVzaWFuIiwKICAgICJiZW4iOiAiQmVuZ2FsaSIsCiAgICAiYm9zIjogIkJvc25pYW4iLAogICAgImJ1bCI6ICJCdWxnYXJpYW4iLAogICAgImNhdCI6ICJDYXRhbGFuIiwKICAgICJjZWIiOiAiQ2VidWFubyIsCiAgICAiY2VzIjogIkN6ZWNoIiwKICAgICJja2IiOiAiQ2VudHJhbCBLdXJkaXNoIiwKICAgICJjbW4iOiAiTWFuZGFyaW4gQ2hpbmVzZSIsCiAgICAiY3ltIjogIldlbHNoIiwKICAgICJkYW4iOiAiRGFuaXNoIiwKICAgICJkZXUiOiAiR2VybWFuIiwKICAgICJlbGwiOiAiR3JlZWsiLAogICAgImVuZyI6ICJFbmdsaXNoIiwKICAgICJlc3QiOiAiRXN0b25pYW4iLAogICAgImV1cyI6ICJCYXNxdWUiLAogICAgImZpbiI6ICJGaW5uaXNoIiwKICAgICJmcmEiOiAiRnJlbmNoIiwKICAgICJnYXoiOiAiV2VzdCBDZW50cmFsIE9yb21vIiwKICAgICJnbGUiOiAiSXJpc2giLAogICAgImdsZyI6ICJHYWxpY2lhbiIsCiAgICAiZ3VqIjogIkd1amFyYXRpIiwKICAgICJoZWIiOiAiSGVicmV3IiwKICAgICJoaW4iOiAiSGluZGkiLAogICAgImhydiI6ICJDcm9hdGlhbiIsCiAgICAiaHVuIjogIkh1bmdhcmlhbiIsCiAgICAiaHllIjogIkFybWVuaWFuIiwKICAgICJpYm8iOiAiSWdibyIsCiAgICAiaW5kIjogIkluZG9uZXNpYW4iLAogICAgImlzbCI6ICJJY2VsYW5kaWMiLAogICAgIml0YSI6ICJJdGFsaWFuIiwKICAgICJqYXYiOiAiSmF2YW5lc2UiLAogICAgImpwbiI6ICJKYXBhbmVzZSIsCiAgICAia2FtIjogIkthbWJhIiwKICAgICJrYW4iOiAiS2FubmFkYSIsCiAgICAia2F0IjogIkdlb3JnaWFuIiwKICAgICJrYXoiOiAiS2F6YWtoIiwKICAgICJrZWEiOiAiS2FidXZlcmRpYW51IiwKICAgICJraGsiOiAiSGFsaCBNb25nb2xpYW4iLAogICAgImtobSI6ICJLaG1lciIsCiAgICAia2lyIjogIkt5cmd5eiIsCiAgICAia29yIjogIktvcmVhbiIsCiAgICAibGFvIjogIkxhbyIsCiAgICAibGl0IjogIkxpdGh1YW5pYW4iLAogICAgImx0eiI6ICJMdXhlbWJvdXJnaXNoIiwKICAgICJsdWciOiAiR2FuZGEiLAogICAgImx1byI6ICJMdW8iLAogICAgImx2cyI6ICJTdGFuZGFyZCBMYXR2aWFuIiwKICAgICJtYWkiOiAiTWFpdGhpbGkiLAogICAgIm1hbCI6ICJNYWxheWFsYW0iLAogICAgIm1hciI6ICJNYXJhdGhpIiwKICAgICJta2QiOiAiTWFjZWRvbmlhbiIsCiAgICAibWx0IjogIk1hbHRlc2UiLAogICAgIm1uaSI6ICJNZWl0ZWkiLAogICAgIm15YSI6ICJCdXJtZXNlIiwKICAgICJubGQiOiAiRHV0Y2giLAogICAgIm5ubyI6ICJOb3J3ZWdpYW4gTnlub3JzayIsCiAgICAibm9iIjogIk5vcndlZ2lhbiBCb2ttXHUwMGU1bCIsCiAgICAibnBpIjogIk5lcGFsaSIsCiAgICAibnlhIjogIk55YW5qYSIsCiAgICAib2NpIjogIk9jY2l0YW4iLAogICAgIm9yeSI6ICJPZGlhIiwKICAgICJwYW4iOiAiUHVuamFiaSIsCiAgICAicGJ0IjogIlNvdXRoZXJuIFBhc2h0byIsCiAgICAicGVzIjogIldlc3Rlcm4gUGVyc2lhbiIsCiAgICAicG9sIjogIlBvbGlzaCIsCiAgICAicG9yIjogIlBvcnR1Z3Vlc2UiLAogICAgInJvbiI6ICJSb21hbmlhbiIsCiAgICAicnVzIjogIlJ1c3NpYW4iLAogICAgInNsayI6ICJTbG92YWsiLAogICAgInNsdiI6ICJTbG92ZW5pYW4iLAogICAgInNuYSI6ICJTaG9uYSIsCiAgICAic25kIjogIlNpbmRoaSIsCiAgICAic29tIjogIlNvbWFsaSIsCiAgICAic3BhIjogIlNwYW5pc2giLAogICAgInNycCI6ICJTZXJiaWFuIiwKICAgICJzd2UiOiAiU3dlZGlzaCIsCiAgICAic3doIjogIlN3YWhpbGkiLAogICAgInRhbSI6ICJUYW1pbCIsCiAgICAidGVsIjogIlRlbHVndSIsCiAgICAidGdrIjogIlRhamlrIiwKICAgICJ0Z2wiOiAiVGFnYWxvZyIsCiAgICAidGhhIjogIlRoYWkiLAogICAgInR1ciI6ICJUdXJraXNoIiwKICAgICJ1a3IiOiAiVWtyYWluaWFuIiwKICAgICJ1cmQiOiAiVXJkdSIsCiAgICAidXpuIjogIk5vcnRoZXJuIFV6YmVrIiwKICAgICJ2aWUiOiAiVmlldG5hbWVzZSIsCiAgICAieGhvIjogIlhob3NhIiwKICAgICJ5b3IiOiAiWW9ydWJhIiwKICAgICJ5dWUiOiAiQ2FudG9uZXNlIiwKICAgICJ6bG0iOiAiQ29sbG9xdWlhbCBNYWxheSIsCiAgICAienNtIjogIlN0YW5kYXJkIE1hbGF5IiwKICAgICJ6dWwiOiAiWnVsdSIsCn0KTEFOR1VBR0VfTkFNRV9UT19DT0RFID0ge3Y6IGsgZm9yIGssIHYgaW4gbGFuZ3VhZ2VfY29kZV90b19uYW1lLml0ZW1zKCl9CgojIFNvdXJjZSBsYW5nczogUzJTVCAvIFMyVFQgLyBBU1IgZG9uJ3QgbmVlZCBzb3VyY2UgbGFuZwojIFQyVFQgLyBUMlNUIHVzZSB0aGlzCnRleHRfc291cmNlX2xhbmd1YWdlX2NvZGVzID0gWwogICAgImFmciIsCiAgICAiYW1oIiwKICAgICJhcmIiLAogICAgImFyeSIsCiAgICAiYXJ6IiwKICAgICJhc20iLAogICAgImF6aiIsCiAgICAiYmVsIiwKICAgICJiZW4iLAogICAgImJvcyIsCiAgICAiYnVsIiwKICAgICJjYXQiLAogICAgImNlYiIsCiAgICAiY2VzIiwKICAgICJja2IiLAogICAgImNtbiIsCiAgICAiY3ltIiwKICAgICJkYW4iLAogICAgImRldSIsCiAgICAiZWxsIiwKICAgICJlbmciLAogICAgImVzdCIsCiAgICAiZXVzIiwKICAgICJmaW4iLAogICAgImZyYSIsCiAgICAiZ2F6IiwKICAgICJnbGUiLAogICAgImdsZyIsCiAgICAiZ3VqIiwKICAgICJoZWIiLAogICAgImhpbiIsCiAgICAiaHJ2IiwKICAgICJodW4iLAogICAgImh5ZSIsCiAgICAiaWJvIiwKICAgICJpbmQiLAogICAgImlzbCIsCiAgICAiaXRhIiwKICAgICJqYXYiLAogICAgImpwbiIsCiAgICAia2FuIiwKICAgICJrYXQiLAogICAgImtheiIsCiAgICAia2hrIiwKICAgICJraG0iLAogICAgImtpciIsCiAgICAia29yIiwKICAgICJsYW8iLAogICAgImxpdCIsCiAgICAibHVnIiwKICAgICJsdW8iLAogICAgImx2cyIsCiAgICAibWFpIiwKICAgICJtYWwiLAogICAgIm1hciIsCiAgICAibWtkIiwKICAgICJtbHQiLAogICAgIm1uaSIsCiAgICAibXlhIiwKICAgICJubGQiLAogICAgIm5ubyIsCiAgICAibm9iIiwKICAgICJucGkiLAogICAgIm55YSIsCiAgICAib3J5IiwKICAgICJwYW4iLAogICAgInBidCIsCiAgICAicGVzIiwKICAgICJwb2wiLAogICAgInBvciIsCiAgICAicm9uIiwKICAgICJydXMiLAogICAgInNsayIsCiAgICAic2x2IiwKICAgICJzbmEiLAogICAgInNuZCIsCiAgICAic29tIiwKICAgICJzcGEiLAogICAgInNycCIsCiAgICAic3dlIiwKICAgICJzd2giLAogICAgInRhbSIsCiAgICAidGVsIiwKICAgICJ0Z2siLAogICAgInRnbCIsCiAgICAidGhhIiwKICAgICJ0dXIiLAogICAgInVrciIsCiAgICAidXJkIiwKICAgICJ1em4iLAogICAgInZpZSIsCiAgICAieW9yIiwKICAgICJ5dWUiLAogICAgInpzbSIsCiAgICAienVsIiwKXQpURVhUX1NPVVJDRV9MQU5HVUFHRV9OQU1FUyA9IHNvcnRlZCgKICAgIFtsYW5ndWFnZV9jb2RlX3RvX25hbWVbY29kZV0gZm9yIGNvZGUgaW4gdGV4dF9zb3VyY2VfbGFuZ3VhZ2VfY29kZXNdCikKCiMgVGFyZ2V0IGxhbmdzOgojIFMyU1QgLyBUMlNUCnMyc3RfdGFyZ2V0X2xhbmd1YWdlX2NvZGVzID0gWwogICAgImVuZyIsCiAgICAiYXJiIiwKICAgICJiZW4iLAogICAgImNhdCIsCiAgICAiY2VzIiwKICAgICJjbW4iLAogICAgImN5bSIsCiAgICAiZGFuIiwKICAgICJkZXUiLAogICAgImVzdCIsCiAgICAiZmluIiwKICAgICJmcmEiLAogICAgImhpbiIsCiAgICAiaW5kIiwKICAgICJpdGEiLAogICAgImpwbiIsCiAgICAia29yIiwKICAgICJtbHQiLAogICAgIm5sZCIsCiAgICAicGVzIiwKICAgICJwb2wiLAogICAgInBvciIsCiAgICAicm9uIiwKICAgICJydXMiLAogICAgInNsayIsCiAgICAic3BhIiwKICAgICJzd2UiLAogICAgInN3aCIsCiAgICAidGVsIiwKICAgICJ0Z2wiLAogICAgInRoYSIsCiAgICAidHVyIiwKICAgICJ1a3IiLAogICAgInVyZCIsCiAgICAidXpuIiwKICAgICJ2aWUiLApdClMyU1RfVEFSR0VUX0xBTkdVQUdFX05BTUVTID0gc29ydGVkKAogICAgW2xhbmd1YWdlX2NvZGVfdG9fbmFtZVtjb2RlXSBmb3IgY29kZSBpbiBzMnN0X3RhcmdldF9sYW5ndWFnZV9jb2Rlc10KKQojIFMyVFQgLyBBU1IKUzJUVF9UQVJHRVRfTEFOR1VBR0VfTkFNRVMgPSBURVhUX1NPVVJDRV9MQU5HVUFHRV9OQU1FUwojIFQyVFQKVDJUVF9UQVJHRVRfTEFOR1VBR0VfTkFNRVMgPSBURVhUX1NPVVJDRV9MQU5HVUFHRV9OQU1FUwoKIyBEb3dubG9hZCBzYW1wbGUgaW5wdXQgYXVkaW8gZmlsZXMKZmlsZW5hbWVzID0gWyJhc3NldHMvc2FtcGxlX2lucHV0Lm1wMyIsICJhc3NldHMvc2FtcGxlX2lucHV0XzIubXAzIl0KZm9yIGZpbGVuYW1lIGluIGZpbGVuYW1lczoKICAgIGhmX2h1Yl9kb3dubG9hZCgKICAgICAgICByZXBvX2lkPSJmYWNlYm9vay9zZWFtbGVzc19tNHQiLAogICAgICAgIHJlcG9fdHlwZT0ic3BhY2UiLAogICAgICAgIGZpbGVuYW1lPWZpbGVuYW1lLAogICAgICAgIGxvY2FsX2Rpcj0iLiIsCiAgICApCgpBVURJT19TQU1QTEVfUkFURSA9IDE2MDAwLjAKTUFYX0lOUFVUX0FVRElPX0xFTkdUSCA9IDYwICAjIGluIHNlY29uZHMKREVGQVVMVF9UQVJHRVRfTEFOR1VBR0UgPSAiRnJlbmNoIgoKZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjdWRhOjAiIGlmIHRvcmNoLmN1ZGEuaXNfYXZhaWxhYmxlKCkgZWxzZSAiY3B1IikKdHJhbnNsYXRvciA9IFRyYW5zbGF0b3IoCiAgICBtb2RlbF9uYW1lX29yX2NhcmQ9InNlYW1sZXNzTTRUX2xhcmdlIiwKICAgIHZvY29kZXJfbmFtZV9vcl9jYXJkPSJ2b2NvZGVyXzM2bGFuZ3MiLAogICAgZGV2aWNlPWRldmljZSwKICAgIGR0eXBlPXRvcmNoLmZsb2F0MTYgaWYgImN1ZGEiIGluIGRldmljZS50eXBlIGVsc2UgdG9yY2guZmxvYXQzMiwKKQoKCmRlZiBwcmVkaWN0KAogICAgdGFza19uYW1lOiBzdHIsCiAgICBhdWRpb19zb3VyY2U6IHN0ciwKICAgIGlucHV0X2F1ZGlvX21pYzogc3RyIHwgTm9uZSwKICAgIGlucHV0X2F1ZGlvX2ZpbGU6IHN0ciB8IE5vbmUsCiAgICBpbnB1dF90ZXh0OiBzdHIgfCBOb25lLAogICAgc291cmNlX2xhbmd1YWdlOiBzdHIgfCBOb25lLAogICAgdGFyZ2V0X2xhbmd1YWdlOiBzdHIsCikgLT4gdHVwbGVbdHVwbGVbaW50LCBucC5uZGFycmF5XSB8IE5vbmUsIHN0cl06CiAgICB0YXNrX25hbWUgPSB0YXNrX25hbWUuc3BsaXQoKVswXQoKICAgIHNvdXJjZV9sYW5ndWFnZV9jb2RlID0gKAogICAgICAgIExBTkdVQUdFX05BTUVfVE9fQ09ERVtzb3VyY2VfbGFuZ3VhZ2VdIGlmIHNvdXJjZV9sYW5ndWFnZSBlbHNlIE5vbmUKICAgICkKICAgIHRhcmdldF9sYW5ndWFnZV9jb2RlID0gTEFOR1VBR0VfTkFNRV9UT19DT0RFW3RhcmdldF9sYW5ndWFnZV0KCiAgICBpZiB0YXNrX25hbWUgaW4gWyJTMlNUIiwgIlMyVFQiLCAiQVNSIl06CiAgICAgICAgaWYgYXVkaW9fc291cmNlID09ICJtaWNyb3Bob25lIjoKICAgICAgICAgICAgaW5wdXRfZGF0YSA9IGlucHV0X2F1ZGlvX21pYwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlucHV0X2RhdGEgPSBpbnB1dF9hdWRpb19maWxlCgogICAgICAgIGFyciwgb3JnX3NyID0gdG9yY2hhdWRpby5sb2FkKGlucHV0X2RhdGEpCiAgICAgICAgbmV3X2FyciA9IHRvcmNoYXVkaW8uZnVuY3Rpb25hbC5yZXNhbXBsZSgKICAgICAgICAgICAgYXJyLCBvcmlnX2ZyZXE9b3JnX3NyLCBuZXdfZnJlcT1BVURJT19TQU1QTEVfUkFURQogICAgICAgICkKICAgICAgICBtYXhfbGVuZ3RoID0gaW50KE1BWF9JTlBVVF9BVURJT19MRU5HVEggKiBBVURJT19TQU1QTEVfUkFURSkKICAgICAgICBpZiBuZXdfYXJyLnNoYXBlWzFdID4gbWF4X2xlbmd0aDoKICAgICAgICAgICAgbmV3X2FyciA9IG5ld19hcnJbOiwgOm1heF9sZW5ndGhdCiAgICAgICAgICAgIGdyLldhcm5pbmcoCiAgICAgICAgICAgICAgICBmIklucHV0IGF1ZGlvIGlzIHRvbyBsb25nLiBPbmx5IHRoZSBmaXJzdCB7TUFYX0lOUFVUX0FVRElPX0xFTkdUSH0gc2Vjb25kcyBpcyB1c2VkLiIKICAgICAgICAgICAgKQogICAgICAgIHRvcmNoYXVkaW8uc2F2ZShpbnB1dF9kYXRhLCBuZXdfYXJyLCBzYW1wbGVfcmF0ZT1pbnQoQVVESU9fU0FNUExFX1JBVEUpKQogICAgZWxzZToKICAgICAgICBpbnB1dF9kYXRhID0gaW5wdXRfdGV4dAoKICAgIGFzc2VydCBpbnB1dF9kYXRhIGlzIG5vdCBOb25lCiAgICB0ZXh0X291dHB1dCwgc3BlZWNoX291dHB1dCA9IHRyYW5zbGF0b3IucHJlZGljdCgKICAgICAgICBpbnB1dF9kYXRhLAogICAgICAgIHRhc2tfbmFtZSwKICAgICAgICB0YXJnZXRfbGFuZ3VhZ2VfY29kZSwKICAgICAgICBzcmNfbGFuZz1zb3VyY2VfbGFuZ3VhZ2VfY29kZSwKICAgICAgICB1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPVRydWUsCiAgICApCiAgICBpZiB0YXNrX25hbWUgaW4gWyJTMlNUIiwgIlQyU1QiXToKICAgICAgICBhc3NlcnQgc3BlZWNoX291dHB1dCBpcyBub3QgTm9uZQoKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBzcGVlY2hfb3V0cHV0LnNhbXBsZV9yYXRlLAogICAgICAgICAgICBzcGVlY2hfb3V0cHV0LmF1ZGlvX3dhdnNbMF0uY3B1KCkuZGV0YWNoKCkubnVtcHkoKSwKICAgICAgICApLCBzdHIodGV4dF9vdXRwdXRbMF0pCiAgICBlbHNlOgogICAgICAgIHJldHVybiBOb25lLCBzdHIodGV4dF9vdXRwdXRbMF0pCgoKZGVmIHByb2Nlc3NfczJzdF9leGFtcGxlKAogICAgaW5wdXRfYXVkaW9fZmlsZTogc3RyLCB0YXJnZXRfbGFuZ3VhZ2U6IHN0cgopIC0+IHR1cGxlW3R1cGxlW2ludCwgbnAubmRhcnJheV0gfCBOb25lLCBzdHJdOgogICAgcmV0dXJuIHByZWRpY3QoCiAgICAgICAgdGFza19uYW1lPSJTMlNUIiwKICAgICAgICBhdWRpb19zb3VyY2U9ImZpbGUiLAogICAgICAgIGlucHV0X2F1ZGlvX21pYz1Ob25lLAogICAgICAgIGlucHV0X2F1ZGlvX2ZpbGU9aW5wdXRfYXVkaW9fZmlsZSwKICAgICAgICBpbnB1dF90ZXh0PU5vbmUsCiAgICAgICAgc291cmNlX2xhbmd1YWdlPU5vbmUsCiAgICAgICAgdGFyZ2V0X2xhbmd1YWdlPXRhcmdldF9sYW5ndWFnZSwKICAgICkKCgpkZWYgcHJvY2Vzc19zMnR0X2V4YW1wbGUoCiAgICBpbnB1dF9hdWRpb19maWxlOiBzdHIsIHRhcmdldF9sYW5ndWFnZTogc3RyCikgLT4gdHVwbGVbdHVwbGVbaW50LCBucC5uZGFycmF5XSB8IE5vbmUsIHN0cl06CiAgICByZXR1cm4gcHJlZGljdCgKICAgICAgICB0YXNrX25hbWU9IlMyVFQiLAogICAgICAgIGF1ZGlvX3NvdXJjZT0iZmlsZSIsCiAgICAgICAgaW5wdXRfYXVkaW9fbWljPU5vbmUsCiAgICAgICAgaW5wdXRfYXVkaW9fZmlsZT1pbnB1dF9hdWRpb19maWxlLAogICAgICAgIGlucHV0X3RleHQ9Tm9uZSwKICAgICAgICBzb3VyY2VfbGFuZ3VhZ2U9Tm9uZSwKICAgICAgICB0YXJnZXRfbGFuZ3VhZ2U9dGFyZ2V0X2xhbmd1YWdlLAogICAgKQoKCmRlZiBwcm9jZXNzX3Qyc3RfZXhhbXBsZSgKICAgIGlucHV0X3RleHQ6IHN0ciwgc291cmNlX2xhbmd1YWdlOiBzdHIsIHRhcmdldF9sYW5ndWFnZTogc3RyCikgLT4gdHVwbGVbdHVwbGVbaW50LCBucC5uZGFycmF5XSB8IE5vbmUsIHN0cl06CiAgICByZXR1cm4gcHJlZGljdCgKICAgICAgICB0YXNrX25hbWU9IlQyU1QiLAogICAgICAgIGF1ZGlvX3NvdXJjZT0iIiwKICAgICAgICBpbnB1dF9hdWRpb19taWM9Tm9uZSwKICAgICAgICBpbnB1dF9hdWRpb19maWxlPU5vbmUsCiAgICAgICAgaW5wdXRfdGV4dD1pbnB1dF90ZXh0LAogICAgICAgIHNvdXJjZV9sYW5ndWFnZT1zb3VyY2VfbGFuZ3VhZ2UsCiAgICAgICAgdGFyZ2V0X2xhbmd1YWdlPXRhcmdldF9sYW5ndWFnZSwKICAgICkKCgpkZWYgcHJvY2Vzc190MnR0X2V4YW1wbGUoCiAgICBpbnB1dF90ZXh0OiBzdHIsIHNvdXJjZV9sYW5ndWFnZTogc3RyLCB0YXJnZXRfbGFuZ3VhZ2U6IHN0cgopIC0+IHR1cGxlW3R1cGxlW2ludCwgbnAubmRhcnJheV0gfCBOb25lLCBzdHJdOgogICAgcmV0dXJuIHByZWRpY3QoCiAgICAgICAgdGFza19uYW1lPSJUMlRUIiwKICAgICAgICBhdWRpb19zb3VyY2U9IiIsCiAgICAgICAgaW5wdXRfYXVkaW9fbWljPU5vbmUsCiAgICAgICAgaW5wdXRfYXVkaW9fZmlsZT1Ob25lLAogICAgICAgIGlucHV0X3RleHQ9aW5wdXRfdGV4dCwKICAgICAgICBzb3VyY2VfbGFuZ3VhZ2U9c291cmNlX2xhbmd1YWdlLAogICAgICAgIHRhcmdldF9sYW5ndWFnZT10YXJnZXRfbGFuZ3VhZ2UsCiAgICApCgoKZGVmIHByb2Nlc3NfYXNyX2V4YW1wbGUoCiAgICBpbnB1dF9hdWRpb19maWxlOiBzdHIsIHRhcmdldF9sYW5ndWFnZTogc3RyCikgLT4gdHVwbGVbdHVwbGVbaW50LCBucC5uZGFycmF5XSB8IE5vbmUsIHN0cl06CiAgICByZXR1cm4gcHJlZGljdCgKICAgICAgICB0YXNrX25hbWU9IkFTUiIsCiAgICAgICAgYXVkaW9fc291cmNlPSJmaWxlIiwKICAgICAgICBpbnB1dF9hdWRpb19taWM9Tm9uZSwKICAgICAgICBpbnB1dF9hdWRpb19maWxlPWlucHV0X2F1ZGlvX2ZpbGUsCiAgICAgICAgaW5wdXRfdGV4dD1Ob25lLAogICAgICAgIHNvdXJjZV9sYW5ndWFnZT1Ob25lLAogICAgICAgIHRhcmdldF9sYW5ndWFnZT10YXJnZXRfbGFuZ3VhZ2UsCiAgICApCgoKZGVmIHVwZGF0ZV9hdWRpb191aShhdWRpb19zb3VyY2U6IHN0cikgLT4gdHVwbGVbZGljdCwgZGljdF06CiAgICBtaWMgPSBhdWRpb19zb3VyY2UgPT0gIm1pY3JvcGhvbmUiCiAgICByZXR1cm4gKAogICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPW1pYywgdmFsdWU9Tm9uZSksICAjIGlucHV0X2F1ZGlvX21pYwogICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPW5vdCBtaWMsIHZhbHVlPU5vbmUpLCAgIyBpbnB1dF9hdWRpb19maWxlCiAgICApCgoKZGVmIHVwZGF0ZV9pbnB1dF91aSh0YXNrX25hbWU6IHN0cikgLT4gdHVwbGVbZGljdCwgZGljdCwgZGljdCwgZGljdF06CiAgICB0YXNrX25hbWUgPSB0YXNrX25hbWUuc3BsaXQoKVswXQogICAgaWYgdGFza19uYW1lID09ICJTMlNUIjoKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1UcnVlKSwgICMgYXVkaW9fYm94CiAgICAgICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPUZhbHNlKSwgICMgaW5wdXRfdGV4dAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1GYWxzZSksICAjIHNvdXJjZV9sYW5ndWFnZQogICAgICAgICAgICBnci51cGRhdGUoCiAgICAgICAgICAgICAgICB2aXNpYmxlPVRydWUsCiAgICAgICAgICAgICAgICBjaG9pY2VzPVMyU1RfVEFSR0VUX0xBTkdVQUdFX05BTUVTLAogICAgICAgICAgICAgICAgdmFsdWU9REVGQVVMVF9UQVJHRVRfTEFOR1VBR0UsCiAgICAgICAgICAgICksICAjIHRhcmdldF9sYW5ndWFnZQogICAgICAgICkKICAgIGVsaWYgdGFza19uYW1lID09ICJTMlRUIjoKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1UcnVlKSwgICMgYXVkaW9fYm94CiAgICAgICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPUZhbHNlKSwgICMgaW5wdXRfdGV4dAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1GYWxzZSksICAjIHNvdXJjZV9sYW5ndWFnZQogICAgICAgICAgICBnci51cGRhdGUoCiAgICAgICAgICAgICAgICB2aXNpYmxlPVRydWUsCiAgICAgICAgICAgICAgICBjaG9pY2VzPVMyVFRfVEFSR0VUX0xBTkdVQUdFX05BTUVTLAogICAgICAgICAgICAgICAgdmFsdWU9REVGQVVMVF9UQVJHRVRfTEFOR1VBR0UsCiAgICAgICAgICAgICksICAjIHRhcmdldF9sYW5ndWFnZQogICAgICAgICkKICAgIGVsaWYgdGFza19uYW1lID09ICJUMlNUIjoKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1GYWxzZSksICAjIGF1ZGlvX2JveAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1UcnVlKSwgICMgaW5wdXRfdGV4dAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1UcnVlKSwgICMgc291cmNlX2xhbmd1YWdlCiAgICAgICAgICAgIGdyLnVwZGF0ZSgKICAgICAgICAgICAgICAgIHZpc2libGU9VHJ1ZSwKICAgICAgICAgICAgICAgIGNob2ljZXM9UzJTVF9UQVJHRVRfTEFOR1VBR0VfTkFNRVMsCiAgICAgICAgICAgICAgICB2YWx1ZT1ERUZBVUxUX1RBUkdFVF9MQU5HVUFHRSwKICAgICAgICAgICAgKSwgICMgdGFyZ2V0X2xhbmd1YWdlCiAgICAgICAgKQogICAgZWxpZiB0YXNrX25hbWUgPT0gIlQyVFQiOgogICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPUZhbHNlKSwgICMgYXVkaW9fYm94CiAgICAgICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPVRydWUpLCAgIyBpbnB1dF90ZXh0CiAgICAgICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPVRydWUpLCAgIyBzb3VyY2VfbGFuZ3VhZ2UKICAgICAgICAgICAgZ3IudXBkYXRlKAogICAgICAgICAgICAgICAgdmlzaWJsZT1UcnVlLAogICAgICAgICAgICAgICAgY2hvaWNlcz1UMlRUX1RBUkdFVF9MQU5HVUFHRV9OQU1FUywKICAgICAgICAgICAgICAgIHZhbHVlPURFRkFVTFRfVEFSR0VUX0xBTkdVQUdFLAogICAgICAgICAgICApLCAgIyB0YXJnZXRfbGFuZ3VhZ2UKICAgICAgICApCiAgICBlbGlmIHRhc2tfbmFtZSA9PSAiQVNSIjoKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1UcnVlKSwgICMgYXVkaW9fYm94CiAgICAgICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPUZhbHNlKSwgICMgaW5wdXRfdGV4dAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1GYWxzZSksICAjIHNvdXJjZV9sYW5ndWFnZQogICAgICAgICAgICBnci51cGRhdGUoCiAgICAgICAgICAgICAgICB2aXNpYmxlPVRydWUsCiAgICAgICAgICAgICAgICBjaG9pY2VzPVMyVFRfVEFSR0VUX0xBTkdVQUdFX05BTUVTLAogICAgICAgICAgICAgICAgdmFsdWU9REVGQVVMVF9UQVJHRVRfTEFOR1VBR0UsCiAgICAgICAgICAgICksICAjIHRhcmdldF9sYW5ndWFnZQogICAgICAgICkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIlVua25vd24gdGFzazoge3Rhc2tfbmFtZX0iKQoKCmRlZiB1cGRhdGVfb3V0cHV0X3VpKHRhc2tfbmFtZTogc3RyKSAtPiB0dXBsZVtkaWN0LCBkaWN0XToKICAgIHRhc2tfbmFtZSA9IHRhc2tfbmFtZS5zcGxpdCgpWzBdCiAgICBpZiB0YXNrX25hbWUgaW4gWyJTMlNUIiwgIlQyU1QiXToKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1UcnVlLCB2YWx1ZT1Ob25lKSwgICMgb3V0cHV0X2F1ZGlvCiAgICAgICAgICAgIGdyLnVwZGF0ZSh2YWx1ZT1Ob25lKSwgICMgb3V0cHV0X3RleHQKICAgICAgICApCiAgICBlbGlmIHRhc2tfbmFtZSBpbiBbIlMyVFQiLCAiVDJUVCIsICJBU1IiXToKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBnci51cGRhdGUodmlzaWJsZT1GYWxzZSwgdmFsdWU9Tm9uZSksICAjIG91dHB1dF9hdWRpbwogICAgICAgICAgICBnci51cGRhdGUodmFsdWU9Tm9uZSksICAjIG91dHB1dF90ZXh0CiAgICAgICAgKQogICAgZWxzZToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiVW5rbm93biB0YXNrOiB7dGFza19uYW1lfSIpCgoKZGVmIHVwZGF0ZV9leGFtcGxlX3VpKHRhc2tfbmFtZTogc3RyKSAtPiB0dXBsZVtkaWN0LCBkaWN0LCBkaWN0LCBkaWN0LCBkaWN0XToKICAgIHRhc2tfbmFtZSA9IHRhc2tfbmFtZS5zcGxpdCgpWzBdCiAgICByZXR1cm4gKAogICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPXRhc2tfbmFtZSA9PSAiUzJTVCIpLCAgIyBzMnN0X2V4YW1wbGVfcm93CiAgICAgICAgZ3IudXBkYXRlKHZpc2libGU9dGFza19uYW1lID09ICJTMlRUIiksICAjIHMydHRfZXhhbXBsZV9yb3cKICAgICAgICBnci51cGRhdGUodmlzaWJsZT10YXNrX25hbWUgPT0gIlQyU1QiKSwgICMgdDJzdF9leGFtcGxlX3JvdwogICAgICAgIGdyLnVwZGF0ZSh2aXNpYmxlPXRhc2tfbmFtZSA9PSAiVDJUVCIpLCAgIyB0MnR0X2V4YW1wbGVfcm93CiAgICAgICAgZ3IudXBkYXRlKHZpc2libGU9dGFza19uYW1lID09ICJBU1IiKSwgICMgYXNyX2V4YW1wbGVfcm93CiAgICApCgoKY3NzID0gIiIiCmgxIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5jb250YWluIHsKICBtYXgtd2lkdGg6IDczMHB4OwogIG1hcmdpbjogYXV0bzsKICBwYWRkaW5nLXRvcDogMS41cmVtOwp9CiIiIgoKd2l0aCBnci5CbG9ja3MoY3NzPWNzcykgYXMgZGVtbzoKICAgIGdyLk1hcmtkb3duKERFU0NSSVBUSU9OKQogICAgd2l0aCBnci5Hcm91cCgpOgogICAgICAgIHRhc2tfbmFtZSA9IGdyLkRyb3Bkb3duKAogICAgICAgICAgICBsYWJlbD0iVGFzayIsCiAgICAgICAgICAgIGNob2ljZXM9VEFTS19OQU1FUywKICAgICAgICAgICAgdmFsdWU9VEFTS19OQU1FU1swXSwKICAgICAgICApCiAgICAgICAgd2l0aCBnci5Sb3coKToKICAgICAgICAgICAgc291cmNlX2xhbmd1YWdlID0gZ3IuRHJvcGRvd24oCiAgICAgICAgICAgICAgICBsYWJlbD0iU291cmNlIGxhbmd1YWdlIiwKICAgICAgICAgICAgICAgIGNob2ljZXM9VEVYVF9TT1VSQ0VfTEFOR1VBR0VfTkFNRVMsCiAgICAgICAgICAgICAgICB2YWx1ZT0iRW5nbGlzaCIsCiAgICAgICAgICAgICAgICB2aXNpYmxlPUZhbHNlLAogICAgICAgICAgICApCiAgICAgICAgICAgIHRhcmdldF9sYW5ndWFnZSA9IGdyLkRyb3Bkb3duKAogICAgICAgICAgICAgICAgbGFiZWw9IlRhcmdldCBsYW5ndWFnZSIsCiAgICAgICAgICAgICAgICBjaG9pY2VzPVMyU1RfVEFSR0VUX0xBTkdVQUdFX05BTUVTLAogICAgICAgICAgICAgICAgdmFsdWU9REVGQVVMVF9UQVJHRVRfTEFOR1VBR0UsCiAgICAgICAgICAgICkKICAgICAgICB3aXRoIGdyLlJvdygpIGFzIGF1ZGlvX2JveDoKICAgICAgICAgICAgYXVkaW9fc291cmNlID0gZ3IuUmFkaW8oCiAgICAgICAgICAgICAgICBsYWJlbD0iQXVkaW8gc291cmNlIiwKICAgICAgICAgICAgICAgIGNob2ljZXM9WyJmaWxlIiwgIm1pY3JvcGhvbmUiXSwKICAgICAgICAgICAgICAgIHZhbHVlPSJmaWxlIiwKICAgICAgICAgICAgKQogICAgICAgICAgICBpbnB1dF9hdWRpb19taWMgPSBnci5BdWRpbygKICAgICAgICAgICAgICAgIGxhYmVsPSJJbnB1dCBzcGVlY2giLAogICAgICAgICAgICAgICAgdHlwZT0iZmlsZXBhdGgiLAogICAgICAgICAgICAgICAgc291cmNlPSJtaWNyb3Bob25lIiwKICAgICAgICAgICAgICAgIHZpc2libGU9RmFsc2UsCiAgICAgICAgICAgICkKICAgICAgICAgICAgaW5wdXRfYXVkaW9fZmlsZSA9IGdyLkF1ZGlvKAogICAgICAgICAgICAgICAgbGFiZWw9IklucHV0IHNwZWVjaCIsCiAgICAgICAgICAgICAgICB0eXBlPSJmaWxlcGF0aCIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InVwbG9hZCIsCiAgICAgICAgICAgICAgICB2aXNpYmxlPVRydWUsCiAgICAgICAgICAgICkKICAgICAgICBpbnB1dF90ZXh0ID0gZ3IuVGV4dGJveChsYWJlbD0iSW5wdXQgdGV4dCIsIHZpc2libGU9RmFsc2UpCiAgICAgICAgYnRuID0gZ3IuQnV0dG9uKCJUcmFuc2xhdGUiKQogICAgICAgIHdpdGggZ3IuQ29sdW1uKCk6CiAgICAgICAgICAgIG91dHB1dF9hdWRpbyA9IGdyLkF1ZGlvKAogICAgICAgICAgICAgICAgbGFiZWw9IlRyYW5zbGF0ZWQgc3BlZWNoIiwKICAgICAgICAgICAgICAgIGF1dG9wbGF5PUZhbHNlLAogICAgICAgICAgICAgICAgc3RyZWFtaW5nPUZhbHNlLAogICAgICAgICAgICAgICAgdHlwZT0ibnVtcHkiLAogICAgICAgICAgICApCiAgICAgICAgICAgIG91dHB1dF90ZXh0ID0gZ3IuVGV4dGJveChsYWJlbD0iVHJhbnNsYXRlZCB0ZXh0IikKCiAgICB3aXRoIGdyLlJvdyh2aXNpYmxlPVRydWUpIGFzIHMyc3RfZXhhbXBsZV9yb3c6CiAgICAgICAgczJzdF9leGFtcGxlcyA9IGdyLkV4YW1wbGVzKAogICAgICAgICAgICBleGFtcGxlcz1bCiAgICAgICAgICAgICAgICBbImFzc2V0cy9zYW1wbGVfaW5wdXQubXAzIiwgIkZyZW5jaCJdLAogICAgICAgICAgICAgICAgWyJhc3NldHMvc2FtcGxlX2lucHV0Lm1wMyIsICJNYW5kYXJpbiBDaGluZXNlIl0sCiAgICAgICAgICAgICAgICBbImFzc2V0cy9zYW1wbGVfaW5wdXRfMi5tcDMiLCAiSGluZGkiXSwKICAgICAgICAgICAgICAgIFsiYXNzZXRzL3NhbXBsZV9pbnB1dF8yLm1wMyIsICJTcGFuaXNoIl0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGlucHV0cz1baW5wdXRfYXVkaW9fZmlsZSwgdGFyZ2V0X2xhbmd1YWdlXSwKICAgICAgICAgICAgb3V0cHV0cz1bb3V0cHV0X2F1ZGlvLCBvdXRwdXRfdGV4dF0sCiAgICAgICAgICAgIGZuPXByb2Nlc3NfczJzdF9leGFtcGxlLAogICAgICAgICkKICAgIHdpdGggZ3IuUm93KHZpc2libGU9RmFsc2UpIGFzIHMydHRfZXhhbXBsZV9yb3c6CiAgICAgICAgczJ0dF9leGFtcGxlcyA9IGdyLkV4YW1wbGVzKAogICAgICAgICAgICBleGFtcGxlcz1bCiAgICAgICAgICAgICAgICBbImFzc2V0cy9zYW1wbGVfaW5wdXQubXAzIiwgIkZyZW5jaCJdLAogICAgICAgICAgICAgICAgWyJhc3NldHMvc2FtcGxlX2lucHV0Lm1wMyIsICJNYW5kYXJpbiBDaGluZXNlIl0sCiAgICAgICAgICAgICAgICBbImFzc2V0cy9zYW1wbGVfaW5wdXRfMi5tcDMiLCAiSGluZGkiXSwKICAgICAgICAgICAgICAgIFsiYXNzZXRzL3NhbXBsZV9pbnB1dF8yLm1wMyIsICJTcGFuaXNoIl0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGlucHV0cz1baW5wdXRfYXVkaW9fZmlsZSwgdGFyZ2V0X2xhbmd1YWdlXSwKICAgICAgICAgICAgb3V0cHV0cz1bb3V0cHV0X2F1ZGlvLCBvdXRwdXRfdGV4dF0sCiAgICAgICAgICAgIGZuPXByb2Nlc3NfczJ0dF9leGFtcGxlLAogICAgICAgICkKICAgIHdpdGggZ3IuUm93KHZpc2libGU9RmFsc2UpIGFzIHQyc3RfZXhhbXBsZV9yb3c6CiAgICAgICAgdDJzdF9leGFtcGxlcyA9IGdyLkV4YW1wbGVzKAogICAgICAgICAgICBleGFtcGxlcz1bCiAgICAgICAgICAgICAgICBbIk15IGZhdm9yaXRlIGFuaW1hbCBpcyB0aGUgZWxlcGhhbnQuIiwgIkVuZ2xpc2giLCAiRnJlbmNoIl0sCiAgICAgICAgICAgICAgICBbIk15IGZhdm9yaXRlIGFuaW1hbCBpcyB0aGUgZWxlcGhhbnQuIiwgIkVuZ2xpc2giLCAiTWFuZGFyaW4gQ2hpbmVzZSJdLAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICJNZXRhIEFJJ3MgU2VhbWxlc3MgTTRUIG1vZGVsIGlzIGRlbW9jcmF0aXNpbmcgc3Bva2VuIGNvbW11bmljYXRpb24gYWNyb3NzIGxhbmd1YWdlIGJhcnJpZXJzIiwKICAgICAgICAgICAgICAgICAgICAiRW5nbGlzaCIsCiAgICAgICAgICAgICAgICAgICAgIkhpbmRpIiwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgIk1ldGEgQUkncyBTZWFtbGVzcyBNNFQgbW9kZWwgaXMgZGVtb2NyYXRpc2luZyBzcG9rZW4gY29tbXVuaWNhdGlvbiBhY3Jvc3MgbGFuZ3VhZ2UgYmFycmllcnMiLAogICAgICAgICAgICAgICAgICAgICJFbmdsaXNoIiwKICAgICAgICAgICAgICAgICAgICAiU3BhbmlzaCIsCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICBdLAogICAgICAgICAgICBpbnB1dHM9W2lucHV0X3RleHQsIHNvdXJjZV9sYW5ndWFnZSwgdGFyZ2V0X2xhbmd1YWdlXSwKICAgICAgICAgICAgb3V0cHV0cz1bb3V0cHV0X2F1ZGlvLCBvdXRwdXRfdGV4dF0sCiAgICAgICAgICAgIGZuPXByb2Nlc3NfdDJzdF9leGFtcGxlLAogICAgICAgICkKICAgIHdpdGggZ3IuUm93KHZpc2libGU9RmFsc2UpIGFzIHQydHRfZXhhbXBsZV9yb3c6CiAgICAgICAgdDJ0dF9leGFtcGxlcyA9IGdyLkV4YW1wbGVzKAogICAgICAgICAgICBleGFtcGxlcz1bCiAgICAgICAgICAgICAgICBbIk15IGZhdm9yaXRlIGFuaW1hbCBpcyB0aGUgZWxlcGhhbnQuIiwgIkVuZ2xpc2giLCAiRnJlbmNoIl0sCiAgICAgICAgICAgICAgICBbIk15IGZhdm9yaXRlIGFuaW1hbCBpcyB0aGUgZWxlcGhhbnQuIiwgIkVuZ2xpc2giLCAiTWFuZGFyaW4gQ2hpbmVzZSJdLAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICJNZXRhIEFJJ3MgU2VhbWxlc3MgTTRUIG1vZGVsIGlzIGRlbW9jcmF0aXNpbmcgc3Bva2VuIGNvbW11bmljYXRpb24gYWNyb3NzIGxhbmd1YWdlIGJhcnJpZXJzIiwKICAgICAgICAgICAgICAgICAgICAiRW5nbGlzaCIsCiAgICAgICAgICAgICAgICAgICAgIkhpbmRpIiwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgIk1ldGEgQUkncyBTZWFtbGVzcyBNNFQgbW9kZWwgaXMgZGVtb2NyYXRpc2luZyBzcG9rZW4gY29tbXVuaWNhdGlvbiBhY3Jvc3MgbGFuZ3VhZ2UgYmFycmllcnMiLAogICAgICAgICAgICAgICAgICAgICJFbmdsaXNoIiwKICAgICAgICAgICAgICAgICAgICAiU3BhbmlzaCIsCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICBdLAogICAgICAgICAgICBpbnB1dHM9W2lucHV0X3RleHQsIHNvdXJjZV9sYW5ndWFnZSwgdGFyZ2V0X2xhbmd1YWdlXSwKICAgICAgICAgICAgb3V0cHV0cz1bb3V0cHV0X2F1ZGlvLCBvdXRwdXRfdGV4dF0sCiAgICAgICAgICAgIGZuPXByb2Nlc3NfdDJ0dF9leGFtcGxlLAogICAgICAgICkKICAgIHdpdGggZ3IuUm93KHZpc2libGU9RmFsc2UpIGFzIGFzcl9leGFtcGxlX3JvdzoKICAgICAgICBhc3JfZXhhbXBsZXMgPSBnci5FeGFtcGxlcygKICAgICAgICAgICAgZXhhbXBsZXM9WwogICAgICAgICAgICAgICAgWyJhc3NldHMvc2FtcGxlX2lucHV0Lm1wMyIsICJFbmdsaXNoIl0sCiAgICAgICAgICAgICAgICBbImFzc2V0cy9zYW1wbGVfaW5wdXRfMi5tcDMiLCAiRW5nbGlzaCJdLAogICAgICAgICAgICBdLAogICAgICAgICAgICBpbnB1dHM9W2lucHV0X2F1ZGlvX2ZpbGUsIHRhcmdldF9sYW5ndWFnZV0sCiAgICAgICAgICAgIG91dHB1dHM9W291dHB1dF9hdWRpbywgb3V0cHV0X3RleHRdLAogICAgICAgICAgICBmbj1wcm9jZXNzX2Fzcl9leGFtcGxlLAogICAgICAgICkKCiAgICBhdWRpb19zb3VyY2UuY2hhbmdlKAogICAgICAgIGZuPXVwZGF0ZV9hdWRpb191aSwKICAgICAgICBpbnB1dHM9YXVkaW9fc291cmNlLAogICAgICAgIG91dHB1dHM9WwogICAgICAgICAgICBpbnB1dF9hdWRpb19taWMsCiAgICAgICAgICAgIGlucHV0X2F1ZGlvX2ZpbGUsCiAgICAgICAgXSwKICAgICAgICBxdWV1ZT1GYWxzZSwKICAgICAgICBhcGlfbmFtZT1GYWxzZSwKICAgICkKICAgIHRhc2tfbmFtZS5jaGFuZ2UoCiAgICAgICAgZm49dXBkYXRlX2lucHV0X3VpLAogICAgICAgIGlucHV0cz10YXNrX25hbWUsCiAgICAgICAgb3V0cHV0cz1bCiAgICAgICAgICAgIGF1ZGlvX2JveCwKICAgICAgICAgICAgaW5wdXRfdGV4dCwKICAgICAgICAgICAgc291cmNlX2xhbmd1YWdlLAogICAgICAgICAgICB0YXJnZXRfbGFuZ3VhZ2UsCiAgICAgICAgXSwKICAgICAgICBxdWV1ZT1GYWxzZSwKICAgICAgICBhcGlfbmFtZT1GYWxzZSwKICAgICkudGhlbigKICAgICAgICBmbj11cGRhdGVfb3V0cHV0X3VpLAogICAgICAgIGlucHV0cz10YXNrX25hbWUsCiAgICAgICAgb3V0cHV0cz1bb3V0cHV0X2F1ZGlvLCBvdXRwdXRfdGV4dF0sCiAgICAgICAgcXVldWU9RmFsc2UsCiAgICAgICAgYXBpX25hbWU9RmFsc2UsCiAgICApLnRoZW4oCiAgICAgICAgZm49dXBkYXRlX2V4YW1wbGVfdWksCiAgICAgICAgaW5wdXRzPXRhc2tfbmFtZSwKICAgICAgICBvdXRwdXRzPVsKICAgICAgICAgICAgczJzdF9leGFtcGxlX3JvdywKICAgICAgICAgICAgczJ0dF9leGFtcGxlX3JvdywKICAgICAgICAgICAgdDJzdF9leGFtcGxlX3JvdywKICAgICAgICAgICAgdDJ0dF9leGFtcGxlX3JvdywKICAgICAgICAgICAgYXNyX2V4YW1wbGVfcm93LAogICAgICAgIF0sCiAgICAgICAgcXVldWU9RmFsc2UsCiAgICAgICAgYXBpX25hbWU9RmFsc2UsCiAgICApCgogICAgYnRuLmNsaWNrKAogICAgICAgIGZuPXByZWRpY3QsCiAgICAgICAgaW5wdXRzPVsKICAgICAgICAgICAgdGFza19uYW1lLAogICAgICAgICAgICBhdWRpb19zb3VyY2UsCiAgICAgICAgICAgIGlucHV0X2F1ZGlvX21pYywKICAgICAgICAgICAgaW5wdXRfYXVkaW9fZmlsZSwKICAgICAgICAgICAgaW5wdXRfdGV4dCwKICAgICAgICAgICAgc291cmNlX2xhbmd1YWdlLAogICAgICAgICAgICB0YXJnZXRfbGFuZ3VhZ2UsCiAgICAgICAgXSwKICAgICAgICBvdXRwdXRzPVtvdXRwdXRfYXVkaW8sIG91dHB1dF90ZXh0XSwKICAgICAgICBhcGlfbmFtZT0icnVuIiwKICAgICkKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBkZW1vLnF1ZXVlKCkubGF1bmNoKCkK'),
    ('seamless/demo/expressive/app.py', 'IyEvdXNyL2Jpbi9lbnYgcHl0aG9uCiMgQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcwojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgppbXBvcnQgb3MKaW1wb3J0IHBhdGhsaWIKaW1wb3J0IHRlbXBmaWxlCgppbXBvcnQgZ3JhZGlvIGFzIGdyCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2hhdWRpbwpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgSW5Qcm9jQXNzZXRNZXRhZGF0YVByb3ZpZGVyLCBhc3NldF9zdG9yZQpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IENvbGxhdGVyCmZyb20gZmFpcnNlcTIuZGF0YS5hdWRpbyBpbXBvcnQgKAogICAgQXVkaW9EZWNvZGVyLAogICAgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyLAogICAgV2F2ZWZvcm1Ub0ZiYW5rT3V0cHV0LAopCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlIGltcG9ydCBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMKZnJvbSBmYWlyc2VxMi5nZW5lcmF0aW9uIGltcG9ydCBOR3JhbVJlcGVhdEJsb2NrUHJvY2Vzc29yCmZyb20gZmFpcnNlcTIubWVtb3J5IGltcG9ydCBNZW1vcnlCbG9jawpmcm9tIGh1Z2dpbmdmYWNlX2h1YiBpbXBvcnQgc25hcHNob3RfZG93bmxvYWQKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZSBpbXBvcnQgVHJhbnNsYXRvciwgU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0ICgKICAgIGxvYWRfZ2Ntdm5fc3RhdHMsCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXhwcmVzc2l2aXR5LnByZWRpY3QucHJldHNzZWxfZ2VuZXJhdG9yIGltcG9ydCBQcmV0c3NlbEdlbmVyYXRvcgoKZnJvbSB0eXBpbmcgaW1wb3J0IFR1cGxlCmZyb20gdXRpbHMgaW1wb3J0IExBTkdVQUdFX0NPREVfVE9fTkFNRQoKREVTQ1JJUFRJT04gPSAiIiJcCiMgU2VhbWxlc3MgRXhwcmVzc2l2ZQpbU2VhbWxlc3NFeHByZXNzaXZlXShodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2tyZXNlYXJjaC9zZWFtbGVzc19jb21tdW5pY2F0aW9uKSBpcyBhIHNwZWVjaC10by1zcGVlY2ggdHJhbnNsYXRpb24gbW9kZWwgdGhhdCBjYXB0dXJlcyBjZXJ0YWluIHVuZGVyZXhwbG9yZWQgYXNwZWN0cyBvZiBwcm9zb2R5IHN1Y2ggYXMgc3BlZWNoIHJhdGUgYW5kIHBhdXNlcywgd2hpbGUgcHJlc2VydmluZyB0aGUgc3R5bGUgb2Ygb25lJ3Mgdm9pY2UgYW5kIGhpZ2ggY29udGVudCB0cmFuc2xhdGlvbiBxdWFsaXR5LgoiIiIKCkNBQ0hFX0VYQU1QTEVTID0gb3MuZ2V0ZW52KCJDQUNIRV9FWEFNUExFUyIpID09ICIxIiBhbmQgdG9yY2guY3VkYS5pc19hdmFpbGFibGUoKQoKQ0hFQ0tQT0lOVFNfUEFUSCA9IHBhdGhsaWIuUGF0aChvcy5nZXRlbnYoIkNIRUNLUE9JTlRTX1BBVEgiLCAiL2hvbWUvdXNlci9hcHAvbW9kZWxzIikpCmlmIG5vdCBDSEVDS1BPSU5UU19QQVRILmV4aXN0cygpOgogICAgc25hcHNob3RfZG93bmxvYWQocmVwb19pZD0iZmFjZWJvb2svc2VhbWxlc3MtZXhwcmVzc2l2ZSIsIHJlcG9fdHlwZT0ibW9kZWwiLCBsb2NhbF9kaXI9Q0hFQ0tQT0lOVFNfUEFUSCkKICAgIHNuYXBzaG90X2Rvd25sb2FkKHJlcG9faWQ9ImZhY2Vib29rL3NlYW1sZXNzLW00dC12Mi1sYXJnZSIsIHJlcG9fdHlwZT0ibW9kZWwiLCBsb2NhbF9kaXI9Q0hFQ0tQT0lOVFNfUEFUSCkKCiMgRW5zdXJlIHRoYXQgd2UgZG8gbm90IGhhdmUgYW55IG90aGVyIGVudmlyb25tZW50IHJlc29sdmVycyBhbmQgYWx3YXlzIHJldHVybgojICJkZW1vIiBmb3IgZGVtbyBwdXJwb3Nlcy4KYXNzZXRfc3RvcmUuZW52X3Jlc29sdmVycy5jbGVhcigpCmFzc2V0X3N0b3JlLmVudl9yZXNvbHZlcnMuYXBwZW5kKGxhbWJkYTogImRlbW8iKQoKIyBDb25zdHJ1Y3QgYW4gYEluUHJvY0Fzc2V0TWV0YWRhdGFQcm92aWRlcmAgd2l0aCBlbnZpcm9ubWVudC1zcGVjaWZpYyBtZXRhZGF0YQojIHRoYXQganVzdCBvdmVycmlkZXMgdGhlIHJlZ3VsYXIgbWV0YWRhdGEgZm9yICJkZW1vIiBlbnZpcm9ubWVudC4gTm90ZSB0aGUgIkBkZW1vIiBzdWZmaXguCmRlbW9fbWV0YWRhdGEgPSBbCiAgICB7CiAgICAgICAgIm5hbWUiOiAic2VhbWxlc3NfZXhwcmVzc2l2aXR5QGRlbW8iLAogICAgICAgICJjaGVja3BvaW50IjogZiJmaWxlOi8ve0NIRUNLUE9JTlRTX1BBVEh9L20ybV9leHByZXNzaXZlX3VuaXR5LnB0IiwKICAgICAgICAiY2hhcl90b2tlbml6ZXIiOiBmImZpbGU6Ly97Q0hFQ0tQT0lOVFNfUEFUSH0vc3BtX2NoYXJfbGFuZzM4X3RjLm1vZGVsIiwKICAgIH0sCiAgICB7CiAgICAgICAgIm5hbWUiOiAidm9jb2Rlcl9wcmV0c3NlbEBkZW1vIiwKICAgICAgICAiY2hlY2twb2ludCI6IGYiZmlsZTovL3tDSEVDS1BPSU5UU19QQVRIfS9wcmV0c3NlbF9tZWxoaWZpZ2FuX3dtLWZpbmFsLnB0IiwKICAgIH0sCiAgICB7CiAgICAgICAgIm5hbWUiOiAic2VhbWxlc3NNNFRfdjJfbGFyZ2VAZGVtbyIsCiAgICAgICAgImNoZWNrcG9pbnQiOiBmImZpbGU6Ly97Q0hFQ0tQT0lOVFNfUEFUSH0vc2VhbWxlc3NNNFRfdjJfbGFyZ2UucHQiLAogICAgICAgICJjaGFyX3Rva2VuaXplciI6IGYiZmlsZTovL3tDSEVDS1BPSU5UU19QQVRIfS9zcG1fY2hhcl9sYW5nMzhfdGMubW9kZWwiLAogICAgfSwKXQoKYXNzZXRfc3RvcmUubWV0YWRhdGFfcHJvdmlkZXJzLmFwcGVuZChJblByb2NBc3NldE1ldGFkYXRhUHJvdmlkZXIoZGVtb19tZXRhZGF0YSkpCgpMQU5HVUFHRV9OQU1FX1RPX0NPREUgPSB7djogayBmb3IgaywgdiBpbiBMQU5HVUFHRV9DT0RFX1RPX05BTUUuaXRlbXMoKX0KCgppZiB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpOgogICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjdWRhOjAiKQogICAgZHR5cGUgPSB0b3JjaC5mbG9hdDE2CmVsc2U6CiAgICBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoImNwdSIpCiAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MzIKCgpNT0RFTF9OQU1FID0gInNlYW1sZXNzX2V4cHJlc3Npdml0eSIKVk9DT0RFUl9OQU1FID0gInZvY29kZXJfcHJldHNzZWwiCgojIHVzZWQgZm9yIEFTUiBmb3IgdG94aWNpdHkKbTR0X3RyYW5zbGF0b3IgPSBUcmFuc2xhdG9yKAogICAgbW9kZWxfbmFtZV9vcl9jYXJkPSJzZWFtbGVzc000VF92Ml9sYXJnZSIsCiAgICB2b2NvZGVyX25hbWVfb3JfY2FyZD1Ob25lLAogICAgZGV2aWNlPWRldmljZSwKICAgIGR0eXBlPWR0eXBlLAopCnVuaXRfdG9rZW5pemVyID0gbG9hZF91bml0eV91bml0X3Rva2VuaXplcihNT0RFTF9OQU1FKQoKX2djbXZuX21lYW4sIF9nY212bl9zdGQgPSBsb2FkX2djbXZuX3N0YXRzKFZPQ09ERVJfTkFNRSkKZ2Ntdm5fbWVhbiA9IHRvcmNoLnRlbnNvcihfZ2Ntdm5fbWVhbiwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCmdjbXZuX3N0ZCA9IHRvcmNoLnRlbnNvcihfZ2Ntdm5fc3RkLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKCnRyYW5zbGF0b3IgPSBUcmFuc2xhdG9yKAogICAgTU9ERUxfTkFNRSwKICAgIHZvY29kZXJfbmFtZV9vcl9jYXJkPU5vbmUsCiAgICBkZXZpY2U9ZGV2aWNlLAogICAgZHR5cGU9ZHR5cGUsCiAgICBhcHBseV9taW50b3g9RmFsc2UsCikKCnRleHRfZ2VuZXJhdGlvbl9vcHRzID0gU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zKAogICAgYmVhbV9zaXplPTUsCiAgICB1bmtfcGVuYWx0eT10b3JjaC5pbmYsCiAgICBzb2Z0X21heF9zZXFfbGVuPSgwLCAyMDApLAogICAgc3RlcF9wcm9jZXNzb3I9TkdyYW1SZXBlYXRCbG9ja1Byb2Nlc3NvcigKICAgICAgICBuZ3JhbV9zaXplPTEwLAogICAgKSwKKQptNHRfdGV4dF9nZW5lcmF0aW9uX29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICBiZWFtX3NpemU9NSwKICAgIHVua19wZW5hbHR5PXRvcmNoLmluZiwKICAgIHNvZnRfbWF4X3NlcV9sZW49KDEsIDIwMCksCiAgICBzdGVwX3Byb2Nlc3Nvcj1OR3JhbVJlcGVhdEJsb2NrUHJvY2Vzc29yKAogICAgICAgIG5ncmFtX3NpemU9MTAsCiAgICApLAopCgpwcmV0c3NlbF9nZW5lcmF0b3IgPSBQcmV0c3NlbEdlbmVyYXRvcigKICAgIFZPQ09ERVJfTkFNRSwKICAgIHZvY2FiX2luZm89dW5pdF90b2tlbml6ZXIudm9jYWJfaW5mbywKICAgIGRldmljZT1kZXZpY2UsCiAgICBkdHlwZT1kdHlwZSwKKQoKZGVjb2RlX2F1ZGlvID0gQXVkaW9EZWNvZGVyKGR0eXBlPXRvcmNoLmZsb2F0MzIsIGRldmljZT1kZXZpY2UpCgpjb252ZXJ0X3RvX2ZiYW5rID0gV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyKAogICAgbnVtX21lbF9iaW5zPTgwLAogICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICBjaGFubmVsX2xhc3Q9VHJ1ZSwKICAgIHN0YW5kYXJkaXplPUZhbHNlLAogICAgZGV2aWNlPWRldmljZSwKICAgIGR0eXBlPWR0eXBlLAopCgoKZGVmIG5vcm1hbGl6ZV9mYmFuayhkYXRhOiBXYXZlZm9ybVRvRmJhbmtPdXRwdXQpIC0+IFdhdmVmb3JtVG9GYmFua091dHB1dDoKICAgIGZiYW5rID0gZGF0YVsiZmJhbmsiXQogICAgc3RkLCBtZWFuID0gdG9yY2guc3RkX21lYW4oZmJhbmssIGRpbT0wKQogICAgZGF0YVsiZmJhbmsiXSA9IGZiYW5rLnN1YnRyYWN0KG1lYW4pLmRpdmlkZShzdGQpCiAgICBkYXRhWyJnY212bl9mYmFuayJdID0gZmJhbmsuc3VidHJhY3QoZ2Ntdm5fbWVhbikuZGl2aWRlKGdjbXZuX3N0ZCkKICAgIHJldHVybiBkYXRhCgoKY29sbGF0ZSA9IENvbGxhdGVyKHBhZF92YWx1ZT0wLCBwYWRfdG9fbXVsdGlwbGU9MSkKCgpBVURJT19TQU1QTEVfUkFURSA9IDE2MDAwCk1BWF9JTlBVVF9BVURJT19MRU5HVEggPSAxMCAgIyBpbiBzZWNvbmRzCgoKZGVmIHJlbW92ZV9wcm9zb2R5X3Rva2Vuc19mcm9tX3RleHQodGV4dCk6CiAgICAjIGZpbHRlciBvdXQgcHJvc29keSB0b2tlbnMsIHRoZXJlIGlzIG9ubHkgZW1waGFzaXMgJyonLCBhbmQgcGF1c2UgJz0nCiAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCIqIiwgIiIpLnJlcGxhY2UoIj0iLCAiIikKICAgIHRleHQgPSAiICIuam9pbih0ZXh0LnNwbGl0KCkpCiAgICByZXR1cm4gdGV4dAoKCmRlZiBwcmVwcm9jZXNzX2F1ZGlvKGlucHV0X2F1ZGlvX3BhdGg6IHN0cikgLT4gTm9uZToKICAgIGFyciwgb3JnX3NyID0gdG9yY2hhdWRpby5sb2FkKGlucHV0X2F1ZGlvX3BhdGgpCiAgICBuZXdfYXJyID0gdG9yY2hhdWRpby5mdW5jdGlvbmFsLnJlc2FtcGxlKGFyciwgb3JpZ19mcmVxPW9yZ19zciwgbmV3X2ZyZXE9QVVESU9fU0FNUExFX1JBVEUpCiAgICBtYXhfbGVuZ3RoID0gaW50KE1BWF9JTlBVVF9BVURJT19MRU5HVEggKiBBVURJT19TQU1QTEVfUkFURSkKICAgIGlmIG5ld19hcnIuc2hhcGVbMV0gPiBtYXhfbGVuZ3RoOgogICAgICAgIG5ld19hcnIgPSBuZXdfYXJyWzosIDptYXhfbGVuZ3RoXQogICAgICAgIGdyLldhcm5pbmcoZiJJbnB1dCBhdWRpbyBpcyB0b28gbG9uZy4gT25seSB0aGUgZmlyc3Qge01BWF9JTlBVVF9BVURJT19MRU5HVEh9IHNlY29uZHMgaXMgdXNlZC4iKQogICAgdG9yY2hhdWRpby5zYXZlKGlucHV0X2F1ZGlvX3BhdGgsIG5ld19hcnIsIHNhbXBsZV9yYXRlPUFVRElPX1NBTVBMRV9SQVRFKQoKCmRlZiBydW4oCiAgICBpbnB1dF9hdWRpb19wYXRoOiBzdHIsCiAgICBzb3VyY2VfbGFuZ3VhZ2U6IHN0ciwKICAgIHRhcmdldF9sYW5ndWFnZTogc3RyLAopIC0+IFR1cGxlW3N0ciwgc3RyXToKICAgIHRhcmdldF9sYW5ndWFnZV9jb2RlID0gTEFOR1VBR0VfTkFNRV9UT19DT0RFW3RhcmdldF9sYW5ndWFnZV0KICAgIHNvdXJjZV9sYW5ndWFnZV9jb2RlID0gTEFOR1VBR0VfTkFNRV9UT19DT0RFW3NvdXJjZV9sYW5ndWFnZV0KCiAgICBwcmVwcm9jZXNzX2F1ZGlvKGlucHV0X2F1ZGlvX3BhdGgpCgogICAgd2l0aCBwYXRobGliLlBhdGgoaW5wdXRfYXVkaW9fcGF0aCkub3BlbigicmIiKSBhcyBmYjoKICAgICAgICBibG9jayA9IE1lbW9yeUJsb2NrKGZiLnJlYWQoKSkKICAgICAgICBleGFtcGxlID0gZGVjb2RlX2F1ZGlvKGJsb2NrKQoKICAgIGV4YW1wbGUgPSBjb252ZXJ0X3RvX2ZiYW5rKGV4YW1wbGUpCiAgICBleGFtcGxlID0gbm9ybWFsaXplX2ZiYW5rKGV4YW1wbGUpCiAgICBleGFtcGxlID0gY29sbGF0ZShleGFtcGxlKQoKICAgICMgZ2V0IHRyYW5zY3JpcHRpb24gZm9yIG1pbnRveAogICAgc291cmNlX3NlbnRlbmNlcywgXyA9IG00dF90cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgaW5wdXQ9ZXhhbXBsZVsiZmJhbmsiXSwKICAgICAgICB0YXNrX3N0cj0iUzJUVCIsICAjIGdldCBzb3VyY2UgdGV4dAogICAgICAgIHRndF9sYW5nPXNvdXJjZV9sYW5ndWFnZV9jb2RlLAogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzPW00dF90ZXh0X2dlbmVyYXRpb25fb3B0cywKICAgICkKICAgIHNvdXJjZV90ZXh0ID0gc3RyKHNvdXJjZV9zZW50ZW5jZXNbMF0pCgogICAgcHJvc29keV9lbmNvZGVyX2lucHV0ID0gZXhhbXBsZVsiZ2Ntdm5fZmJhbmsiXQogICAgdGV4dF9vdXRwdXQsIHVuaXRfb3V0cHV0ID0gdHJhbnNsYXRvci5wcmVkaWN0KAogICAgICAgIGV4YW1wbGVbImZiYW5rIl0sCiAgICAgICAgIlMyU1QiLAogICAgICAgIHRndF9sYW5nPXRhcmdldF9sYW5ndWFnZV9jb2RlLAogICAgICAgIHNyY19sYW5nPXNvdXJjZV9sYW5ndWFnZV9jb2RlLAogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzPXRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc9RmFsc2UsCiAgICAgICAgZHVyYXRpb25fZmFjdG9yPTEuMCwKICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9cHJvc29keV9lbmNvZGVyX2lucHV0LAogICAgICAgIHNyY190ZXh0PXNvdXJjZV90ZXh0LCAgIyBmb3IgbWludG94IGNoZWNrCiAgICApCiAgICBzcGVlY2hfb3V0cHV0ID0gcHJldHNzZWxfZ2VuZXJhdG9yLnByZWRpY3QoCiAgICAgICAgdW5pdF9vdXRwdXQudW5pdHMsCiAgICAgICAgdGd0X2xhbmc9dGFyZ2V0X2xhbmd1YWdlX2NvZGUsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2lucHV0PXByb3NvZHlfZW5jb2Rlcl9pbnB1dCwKICAgICkKCiAgICB3aXRoIHRlbXBmaWxlLk5hbWVkVGVtcG9yYXJ5RmlsZShzdWZmaXg9Ii53YXYiLCBkZWxldGU9RmFsc2UpIGFzIGY6CiAgICAgICAgdG9yY2hhdWRpby5zYXZlKAogICAgICAgICAgICBmLm5hbWUsCiAgICAgICAgICAgIHNwZWVjaF9vdXRwdXQuYXVkaW9fd2F2c1swXVswXS50byh0b3JjaC5mbG9hdDMyKS5jcHUoKSwKICAgICAgICAgICAgc2FtcGxlX3JhdGU9c3BlZWNoX291dHB1dC5zYW1wbGVfcmF0ZSwKICAgICAgICApCgogICAgdGV4dF9vdXQgPSByZW1vdmVfcHJvc29keV90b2tlbnNfZnJvbV90ZXh0KHN0cih0ZXh0X291dHB1dFswXSkpCgogICAgcmV0dXJuIGYubmFtZSwgdGV4dF9vdXQKCgpUQVJHRVRfTEFOR1VBR0VfTkFNRVMgPSBbCiAgICAiRW5nbGlzaCIsCiAgICAiRnJlbmNoIiwKICAgICJHZXJtYW4iLAogICAgIlNwYW5pc2giLApdCgp3aXRoIGdyLkJsb2Nrcyhjc3M9InN0eWxlLmNzcyIpIGFzIGRlbW86CiAgICBnci5NYXJrZG93bihERVNDUklQVElPTikKICAgIGdyLkR1cGxpY2F0ZUJ1dHRvbigKICAgICAgICB2YWx1ZT0iRHVwbGljYXRlIFNwYWNlIGZvciBwcml2YXRlIHVzZSIsCiAgICAgICAgZWxlbV9pZD0iZHVwbGljYXRlLWJ1dHRvbiIsCiAgICAgICAgdmlzaWJsZT1vcy5nZXRlbnYoIlNIT1dfRFVQTElDQVRFX0JVVFRPTiIpID09ICIxIiwKICAgICkKICAgIHdpdGggZ3IuUm93KCk6CiAgICAgICAgd2l0aCBnci5Db2x1bW4oKToKICAgICAgICAgICAgd2l0aCBnci5Hcm91cCgpOgogICAgICAgICAgICAgICAgaW5wdXRfYXVkaW8gPSBnci5BdWRpbyhsYWJlbD0iSW5wdXQgc3BlZWNoIiwgdHlwZT0iZmlsZXBhdGgiKQogICAgICAgICAgICAgICAgc291cmNlX2xhbmd1YWdlID0gZ3IuRHJvcGRvd24oCiAgICAgICAgICAgICAgICAgICAgbGFiZWw9IlNvdXJjZSBsYW5ndWFnZSIsCiAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz1UQVJHRVRfTEFOR1VBR0VfTkFNRVMsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU9IkVuZ2xpc2giLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdGFyZ2V0X2xhbmd1YWdlID0gZ3IuRHJvcGRvd24oCiAgICAgICAgICAgICAgICAgICAgbGFiZWw9IlRhcmdldCBsYW5ndWFnZSIsCiAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz1UQVJHRVRfTEFOR1VBR0VfTkFNRVMsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU9IkZyZW5jaCIsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGJ0biA9IGdyLkJ1dHRvbigpCiAgICAgICAgd2l0aCBnci5Db2x1bW4oKToKICAgICAgICAgICAgd2l0aCBnci5Hcm91cCgpOgogICAgICAgICAgICAgICAgb3V0cHV0X2F1ZGlvID0gZ3IuQXVkaW8obGFiZWw9IlRyYW5zbGF0ZWQgc3BlZWNoIikKICAgICAgICAgICAgICAgIG91dHB1dF90ZXh0ID0gZ3IuVGV4dGJveChsYWJlbD0iVHJhbnNsYXRlZCB0ZXh0IikKCiAgICBnci5FeGFtcGxlcygKICAgICAgICBleGFtcGxlcz1bXSwKICAgICAgICBpbnB1dHM9W2lucHV0X2F1ZGlvLCBzb3VyY2VfbGFuZ3VhZ2UsIHRhcmdldF9sYW5ndWFnZV0sCiAgICAgICAgb3V0cHV0cz1bb3V0cHV0X2F1ZGlvLCBvdXRwdXRfdGV4dF0sCiAgICAgICAgZm49cnVuLAogICAgICAgIGNhY2hlX2V4YW1wbGVzPUNBQ0hFX0VYQU1QTEVTLAogICAgICAgIGFwaV9uYW1lPUZhbHNlLAogICAgKQoKICAgIGJ0bi5jbGljaygKICAgICAgICBmbj1ydW4sCiAgICAgICAgaW5wdXRzPVtpbnB1dF9hdWRpbywgc291cmNlX2xhbmd1YWdlLCB0YXJnZXRfbGFuZ3VhZ2VdLAogICAgICAgIG91dHB1dHM9W291dHB1dF9hdWRpbywgb3V0cHV0X3RleHRdLAogICAgICAgIGFwaV9uYW1lPSJydW4iLAogICAgKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGRlbW8ucXVldWUobWF4X3NpemU9NTApLmxhdW5jaCgp'),
    ('seamless/demo/expressive/utils.py', 'TEFOR1VBR0VfQ09ERV9UT19OQU1FID0gewogICAgImFmciI6ICJBZnJpa2FhbnMiLAogICAgImFtaCI6ICJBbWhhcmljIiwKICAgICJhcmIiOiAiTW9kZXJuIFN0YW5kYXJkIEFyYWJpYyIsCiAgICAiYXJ5IjogIk1vcm9jY2FuIEFyYWJpYyIsCiAgICAiYXJ6IjogIkVneXB0aWFuIEFyYWJpYyIsCiAgICAiYXNtIjogIkFzc2FtZXNlIiwKICAgICJhc3QiOiAiQXN0dXJpYW4iLAogICAgImF6aiI6ICJOb3J0aCBBemVyYmFpamFuaSIsCiAgICAiYmVsIjogIkJlbGFydXNpYW4iLAogICAgImJlbiI6ICJCZW5nYWxpIiwKICAgICJib3MiOiAiQm9zbmlhbiIsCiAgICAiYnVsIjogIkJ1bGdhcmlhbiIsCiAgICAiY2F0IjogIkNhdGFsYW4iLAogICAgImNlYiI6ICJDZWJ1YW5vIiwKICAgICJjZXMiOiAiQ3plY2giLAogICAgImNrYiI6ICJDZW50cmFsIEt1cmRpc2giLAogICAgImNtbiI6ICJNYW5kYXJpbiBDaGluZXNlIiwKICAgICJjeW0iOiAiV2Vsc2giLAogICAgImRhbiI6ICJEYW5pc2giLAogICAgImRldSI6ICJHZXJtYW4iLAogICAgImVsbCI6ICJHcmVlayIsCiAgICAiZW5nIjogIkVuZ2xpc2giLAogICAgImVzdCI6ICJFc3RvbmlhbiIsCiAgICAiZXVzIjogIkJhc3F1ZSIsCiAgICAiZmluIjogIkZpbm5pc2giLAogICAgImZyYSI6ICJGcmVuY2giLAogICAgImdheiI6ICJXZXN0IENlbnRyYWwgT3JvbW8iLAogICAgImdsZSI6ICJJcmlzaCIsCiAgICAiZ2xnIjogIkdhbGljaWFuIiwKICAgICJndWoiOiAiR3VqYXJhdGkiLAogICAgImhlYiI6ICJIZWJyZXciLAogICAgImhpbiI6ICJIaW5kaSIsCiAgICAiaHJ2IjogIkNyb2F0aWFuIiwKICAgICJodW4iOiAiSHVuZ2FyaWFuIiwKICAgICJoeWUiOiAiQXJtZW5pYW4iLAogICAgImlibyI6ICJJZ2JvIiwKICAgICJpbmQiOiAiSW5kb25lc2lhbiIsCiAgICAiaXNsIjogIkljZWxhbmRpYyIsCiAgICAiaXRhIjogIkl0YWxpYW4iLAogICAgImphdiI6ICJKYXZhbmVzZSIsCiAgICAianBuIjogIkphcGFuZXNlIiwKICAgICJrYW0iOiAiS2FtYmEiLAogICAgImthbiI6ICJLYW5uYWRhIiwKICAgICJrYXQiOiAiR2VvcmdpYW4iLAogICAgImtheiI6ICJLYXpha2giLAogICAgImtlYSI6ICJLYWJ1dmVyZGlhbnUiLAogICAgImtoayI6ICJIYWxoIE1vbmdvbGlhbiIsCiAgICAia2htIjogIktobWVyIiwKICAgICJraXIiOiAiS3lyZ3l6IiwKICAgICJrb3IiOiAiS29yZWFuIiwKICAgICJsYW8iOiAiTGFvIiwKICAgICJsaXQiOiAiTGl0aHVhbmlhbiIsCiAgICAibHR6IjogIkx1eGVtYm91cmdpc2giLAogICAgImx1ZyI6ICJHYW5kYSIsCiAgICAibHVvIjogIkx1byIsCiAgICAibHZzIjogIlN0YW5kYXJkIExhdHZpYW4iLAogICAgIm1haSI6ICJNYWl0aGlsaSIsCiAgICAibWFsIjogIk1hbGF5YWxhbSIsCiAgICAibWFyIjogIk1hcmF0aGkiLAogICAgIm1rZCI6ICJNYWNlZG9uaWFuIiwKICAgICJtbHQiOiAiTWFsdGVzZSIsCiAgICAibW5pIjogIk1laXRlaSIsCiAgICAibXlhIjogIkJ1cm1lc2UiLAogICAgIm5sZCI6ICJEdXRjaCIsCiAgICAibm5vIjogIk5vcndlZ2lhbiBOeW5vcnNrIiwKICAgICJub2IiOiAiTm9yd2VnaWFuIEJva21cdTAwZTVsIiwKICAgICJucGkiOiAiTmVwYWxpIiwKICAgICJueWEiOiAiTnlhbmphIiwKICAgICJvY2kiOiAiT2NjaXRhbiIsCiAgICAib3J5IjogIk9kaWEiLAogICAgInBhbiI6ICJQdW5qYWJpIiwKICAgICJwYnQiOiAiU291dGhlcm4gUGFzaHRvIiwKICAgICJwZXMiOiAiV2VzdGVybiBQZXJzaWFuIiwKICAgICJwb2wiOiAiUG9saXNoIiwKICAgICJwb3IiOiAiUG9ydHVndWVzZSIsCiAgICAicm9uIjogIlJvbWFuaWFuIiwKICAgICJydXMiOiAiUnVzc2lhbiIsCiAgICAic2xrIjogIlNsb3ZhayIsCiAgICAic2x2IjogIlNsb3ZlbmlhbiIsCiAgICAic25hIjogIlNob25hIiwKICAgICJzbmQiOiAiU2luZGhpIiwKICAgICJzb20iOiAiU29tYWxpIiwKICAgICJzcGEiOiAiU3BhbmlzaCIsCiAgICAic3JwIjogIlNlcmJpYW4iLAogICAgInN3ZSI6ICJTd2VkaXNoIiwKICAgICJzd2giOiAiU3dhaGlsaSIsCiAgICAidGFtIjogIlRhbWlsIiwKICAgICJ0ZWwiOiAiVGVsdWd1IiwKICAgICJ0Z2siOiAiVGFqaWsiLAogICAgInRnbCI6ICJUYWdhbG9nIiwKICAgICJ0aGEiOiAiVGhhaSIsCiAgICAidHVyIjogIlR1cmtpc2giLAogICAgInVrciI6ICJVa3JhaW5pYW4iLAogICAgInVyZCI6ICJVcmR1IiwKICAgICJ1em4iOiAiTm9ydGhlcm4gVXpiZWsiLAogICAgInZpZSI6ICJWaWV0bmFtZXNlIiwKICAgICJ4aG8iOiAiWGhvc2EiLAogICAgInlvciI6ICJZb3J1YmEiLAogICAgInl1ZSI6ICJDYW50b25lc2UiLAogICAgInpsbSI6ICJDb2xsb3F1aWFsIE1hbGF5IiwKICAgICJ6c20iOiAiU3RhbmRhcmQgTWFsYXkiLAogICAgInp1bCI6ICJadWx1IiwKfQo='),
    ('seamless/src/seamless_communication/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IEZpbGVBc3NldE1ldGFkYXRhUHJvdmlkZXIsIGFzc2V0X3N0b3JlCgpfX3ZlcnNpb25fXyA9ICIwLjEuMCIKCgpkZWYgX3VwZGF0ZV9hc3NldF9zdG9yZSgpIC0+IE5vbmU6CiAgICBjYXJkc19kaXIgPSBQYXRoKF9fZmlsZV9fKS5wYXJlbnQuam9pbnBhdGgoImNhcmRzIikKCiAgICBhc3NldF9zdG9yZS5tZXRhZGF0YV9wcm92aWRlcnMuYXBwZW5kKEZpbGVBc3NldE1ldGFkYXRhUHJvdmlkZXIoY2FyZHNfZGlyKSkKCgpfdXBkYXRlX2Fzc2V0X3N0b3JlKCkK'),
    ('seamless/src/seamless_communication/store.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgSW5Qcm9jQXNzZXRNZXRhZGF0YVByb3ZpZGVyLCBhc3NldF9zdG9yZQoKCmRlZiBhZGRfZ2F0ZWRfYXNzZXRzKG1vZGVsX2RpcjogUGF0aCkgLT4gTm9uZToKICAgIGFzc2V0X3N0b3JlLmVudl9yZXNvbHZlcnMuYXBwZW5kKGxhbWJkYTogImdhdGVkIikKCiAgICBtb2RlbF9kaXIgPSBtb2RlbF9kaXIucmVzb2x2ZSgpCgogICAgZ2F0ZWRfbWV0YWRhdGEgPSBbCiAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJzZWFtbGVzc19leHByZXNzaXZpdHlAZ2F0ZWQiLAogICAgICAgICAgICAiY2hlY2twb2ludCI6IG1vZGVsX2Rpci5qb2lucGF0aCgibTJtX2V4cHJlc3NpdmVfdW5pdHkucHQiKSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAidm9jb2Rlcl9wcmV0c3NlbEBnYXRlZCIsCiAgICAgICAgICAgICJjaGVja3BvaW50IjogbW9kZWxfZGlyLmpvaW5wYXRoKCJwcmV0c3NlbF9tZWxoaWZpZ2FuX3dtLnB0IiksCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogInZvY29kZXJfcHJldHNzZWxfMTZraHpAZ2F0ZWQiLAogICAgICAgICAgICAiY2hlY2twb2ludCI6IG1vZGVsX2Rpci5qb2lucGF0aCgicHJldHNzZWxfbWVsaGlmaWdhbl93bS0xNmtoei5wdCIpLAogICAgICAgIH0sCiAgICBdCgogICAgYXNzZXRfc3RvcmUubWV0YWRhdGFfcHJvdmlkZXJzLmFwcGVuZChJblByb2NBc3NldE1ldGFkYXRhUHJvdmlkZXIoZ2F0ZWRfbWV0YWRhdGEpKQo='),
    ('seamless/src/seamless_communication/inference/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLmdlbmVyYXRvciBpbXBvcnQgKAogICAgU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zIGFzIFNlcXVlbmNlR2VuZXJhdG9yT3B0aW9ucywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLmdlbmVyYXRvciBpbXBvcnQgVW5pdFlHZW5lcmF0b3IgYXMgVW5pdFlHZW5lcmF0b3IKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZS50cmFuc2xhdG9yIGltcG9ydCAoCiAgICBCYXRjaGVkU3BlZWNoT3V0cHV0IGFzIEJhdGNoZWRTcGVlY2hPdXRwdXQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZS50cmFuc2xhdG9yIGltcG9ydCBNb2RhbGl0eSBhcyBNb2RhbGl0eQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLnRyYW5zbGF0b3IgaW1wb3J0IFRhc2sgYXMgVGFzawpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLnRyYW5zbGF0b3IgaW1wb3J0IFRyYW5zbGF0b3IgYXMgVHJhbnNsYXRvcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZS50cmFuc2NyaWJlciBpbXBvcnQgVHJhbnNjcmliZXIgYXMgVHJhbnNjcmliZXIK'),
    ('seamless/src/seamless_communication/inference/transcriber.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIENhbGxhYmxlLCBEaWN0LCBMaXN0LCBUdXBsZSwgVW5pb24sIE9wdGlvbmFsCgpmcm9tIGZhaXJzZXEyLmFzc2V0cy5jYXJkIGltcG9ydCBBc3NldENhcmQKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBDb2xsYXRlcgpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IEF1ZGlvRGVjb2RlciwgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyCmZyb20gZmFpcnNlcTIuZ2VuZXJhdGlvbiBpbXBvcnQgKAogICAgQmVhbVNlYXJjaFNlcTJTZXFHZW5lcmF0b3IsCiAgICBTZXF1ZW5jZUdlbmVyYXRvck91dHB1dCwKKQpmcm9tIGZhaXJzZXEyLm1lbW9yeSBpbXBvcnQgTWVtb3J5QmxvY2sKZnJvbSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lci5tdWx0aWhlYWRfYXR0ZW50aW9uIGltcG9ydCBBdHRlbnRpb25XZWlnaHRIb29rCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCgppbXBvcnQgbnVtcHkgYXMgbnAKZnJvbSBzY2lweS5zaWduYWwgaW1wb3J0IG1lZGZpbHQyZApmcm9tIGFyZ3BhcnNlIGltcG9ydCBOYW1lc3BhY2UKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4gYXMgbm4KZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5IGltcG9ydCAoCiAgICBVbml0WVgyVE1vZGVsLAogICAgbG9hZF91bml0eV9tb2RlbCwKICAgIGxvYWRfdW5pdHlfdGV4dF90b2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmRlbm9pc2UuZGVtdWNzIGltcG9ydCBEZW11Y3MsIERlbm9pc2luZ0NvbmZpZwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc2VnbWVudC5zaWxlcm9fdmFkIGltcG9ydCBTaWxlcm9WQURTZWdtZW50ZXIKCgpjbGFzcyBFbmNEZWNBdHRlbnRpb25zQ29sbGVjdChBdHRlbnRpb25XZWlnaHRIb29rKToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmF0dG5fc2NvcmVzID0gW10KCiAgICBkZWYgX19jYWxsX18oc2VsZiwgbSwgYXR0biwgYXR0bl93ZWlnaHRzKSAtPiBOb25lOgogICAgICAgIGlmIGF0dG5fd2VpZ2h0cy5zaGFwZVstMl0gPiAxOgogICAgICAgICAgICB2YWwgPSB0b3JjaC5jbG9uZShhdHRuX3dlaWdodHMpLmRldGFjaCgpLnN1bShkaW09MCkuc3F1ZWV6ZSgwKS50b2xpc3QoKQogICAgICAgICAgICBzZWxmLmF0dG5fc2NvcmVzLmV4dGVuZCh2YWwpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmFsID0gKAogICAgICAgICAgICAgICAgdG9yY2guY2xvbmUoYXR0bl93ZWlnaHRzKQogICAgICAgICAgICAgICAgLmRldGFjaCgpCiAgICAgICAgICAgICAgICAuc3VtKGRpbT0wKQogICAgICAgICAgICAgICAgLnN1bShkaW09MCkKICAgICAgICAgICAgICAgIC5zcXVlZXplKDApCiAgICAgICAgICAgICAgICAudG9saXN0KCkKICAgICAgICAgICAgKQogICAgICAgICAgICBzZWxmLmF0dG5fc2NvcmVzLmFwcGVuZCh2YWwpCgogICAgZGVmIHJlc2V0KHNlbGYpOgogICAgICAgIHNlbGYuYXR0bl9zY29yZXMgPSBbXQoKCmNsYXNzIFRyYW5zY3JpcHRpb25Ub2tlbjoKICAgIHRleHQ6IHN0cgogICAgdGltZV9zOiBmbG9hdAogICAgcHJvYjogZmxvYXQKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdGV4dDogc3RyLCB0aW1lX3M6IGZsb2F0LCBwcm9iOiBmbG9hdCk6CiAgICAgICAgc2VsZi50ZXh0ID0gdGV4dAogICAgICAgIHNlbGYudGltZV9zID0gdGltZV9zCiAgICAgICAgc2VsZi5wcm9iID0gcHJvYgoKCmNsYXNzIFRyYW5zY3JpcHRpb246CiAgICB0ZXh0OiBzdHIKICAgIHRva2VuczogTGlzdFtUcmFuc2NyaXB0aW9uVG9rZW5dCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHRva2VuczogTGlzdFtUcmFuc2NyaXB0aW9uVG9rZW5dKToKICAgICAgICBzZWxmLnRleHQgPSAiICIuam9pbihbdC50ZXh0IGZvciB0IGluIHRva2Vuc10pCiAgICAgICAgc2VsZi50b2tlbnMgPSB0b2tlbnMKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi50ZXh0CgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnRleHQKCgpjbGFzcyBUcmFuc2NyaWJlcihubi5Nb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkOiBVbmlvbltzdHIsIEFzc2V0Q2FyZF0sCiAgICAgICAgZGV2aWNlOiB0b3JjaC5kZXZpY2UgPSB0b3JjaC5kZXZpY2UoImNwdSIpLAogICAgICAgIGR0eXBlOiB0b3JjaC5kdHlwZSA9IHRvcmNoLmZsb2F0MzIsCiAgICAgICAgZW5jb2Rlcl9sYXllcnM6IGludCA9IDYsCiAgICAgICAgZGVjb2Rlcl9sYXllcnM6IGludCA9IDMsCiAgICAgICAgZW1iZWRfZGltOiBpbnQgPSA1MTIsCiAgICAgICAgZGVwdGh3aXNlX2NvbnZfa2VybmVsX3NpemU6IGludCA9IDMxLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmRldmljZSA9IGRldmljZQogICAgICAgIHNlbGYuZHR5cGUgPSBkdHlwZQogICAgICAgIHNlbGYuZW1iZWRfZGltID0gZW1iZWRfZGltCiAgICAgICAgc2VsZi5lbmNvZGVyX2xheWVycyA9IGVuY29kZXJfbGF5ZXJzCiAgICAgICAgc2VsZi5kZWNvZGVyX2xheWVycyA9IGRlY29kZXJfbGF5ZXJzCiAgICAgICAgc2VsZi5kZXB0aHdpc2VfY29udl9rZXJuZWxfc2l6ZSA9IGRlcHRod2lzZV9jb252X2tlcm5lbF9zaXplCiAgICAgICAgc2VsZi50b2tlbml6ZXIgPSBsb2FkX3VuaXR5X3RleHRfdG9rZW5pemVyKG1vZGVsX25hbWVfb3JfY2FyZCkKICAgICAgICBzZWxmLmRlY29kZXJfdm9jYWJfaW5mbyA9IHNlbGYudG9rZW5pemVyLnZvY2FiX2luZm8KICAgICAgICBzZWxmLmxhbmdzID0gc2VsZi50b2tlbml6ZXIubGFuZ3MKCiAgICAgICAgbW9kZWwgPSBzZWxmLmxvYWRfbW9kZWxfZm9yX2luZmVyZW5jZSgKICAgICAgICAgICAgbG9hZF91bml0eV9tb2RlbCwgbW9kZWxfbmFtZV9vcl9jYXJkLCBkZXZpY2UsIGR0eXBlCiAgICAgICAgKQogICAgICAgIHNlbGYuczJ0ID0gVW5pdFlYMlRNb2RlbCgKICAgICAgICAgICAgZW5jb2Rlcl9mcm9udGVuZD1tb2RlbC5zcGVlY2hfZW5jb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgZW5jb2Rlcj1tb2RlbC5zcGVlY2hfZW5jb2RlciwKICAgICAgICAgICAgZGVjb2Rlcl9mcm9udGVuZD1tb2RlbC50ZXh0X2RlY29kZXJfZnJvbnRlbmQsCiAgICAgICAgICAgIGRlY29kZXI9bW9kZWwudGV4dF9kZWNvZGVyLAogICAgICAgICAgICBmaW5hbF9wcm9qPW1vZGVsLmZpbmFsX3Byb2osCiAgICAgICAgICAgIHRhcmdldF92b2NhYl9pbmZvPXNlbGYuZGVjb2Rlcl92b2NhYl9pbmZvLAogICAgICAgICkKICAgICAgICBzZWxmLmVuY19kZWNfYXR0bl9jb2xsZWN0b3IgPSBFbmNEZWNBdHRlbnRpb25zQ29sbGVjdCgpCiAgICAgICAgc2VsZi5zMnQuZGVjb2Rlci5sYXllcnNbLTFdLmVuY29kZXJfZGVjb2Rlcl9hdHRuLnJlZ2lzdGVyX2F0dG5fd2VpZ2h0X2hvb2soCiAgICAgICAgICAgIHNlbGYuZW5jX2RlY19hdHRuX2NvbGxlY3RvcgogICAgICAgICkKCiAgICAgICAgc2VsZi5kZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWRldmljZSkKICAgICAgICBzZWxmLmNvbnZlcnRfdG9fZmJhbmsgPSBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoCiAgICAgICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgICAgIGNoYW5uZWxfbGFzdD1UcnVlLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1UcnVlLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCiAgICAgICAgc2VsZi5jb2xsYXRlID0gQ29sbGF0ZXIoCiAgICAgICAgICAgIHBhZF92YWx1ZT1zZWxmLnRva2VuaXplci52b2NhYl9pbmZvLnBhZF9pZHgsIHBhZF90b19tdWx0aXBsZT0yCiAgICAgICAgKQoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBsb2FkX21vZGVsX2Zvcl9pbmZlcmVuY2UoCiAgICAgICAgbG9hZF9tb2RlbF9mbjogQ2FsbGFibGVbLi4uLCBubi5Nb2R1bGVdLAogICAgICAgIG1vZGVsX25hbWVfb3JfY2FyZDogVW5pb25bc3RyLCBBc3NldENhcmRdLAogICAgICAgIGRldmljZTogRGV2aWNlLAogICAgICAgIGR0eXBlOiBEYXRhVHlwZSwKICAgICkgLT4gbm4uTW9kdWxlOgogICAgICAgIG1vZGVsID0gbG9hZF9tb2RlbF9mbihtb2RlbF9uYW1lX29yX2NhcmQsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgICAgIG1vZGVsLmV2YWwoKQogICAgICAgIHJldHVybiBtb2RlbAoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBnZW5lcmF0ZV9saXMoYXJyOiBMaXN0W1R1cGxlW2ludCwgaW50XV0pIC0+IFR1cGxlW2ludCwgTGlzdFtUdXBsZVtpbnQsIGludF1dXToKICAgICAgICBuID0gbGVuKGFycikKICAgICAgICBsaXMgPSBbMV0gKiBuCiAgICAgICAgcHJldiA9IFswXSAqIG4KICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBuKToKICAgICAgICAgICAgcHJldltpXSA9IGkKICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCBuKToKICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UoMCwgaSk6CiAgICAgICAgICAgICAgICBpZiBhcnJbaV0gPiBhcnJbal0gYW5kIGxpc1tpXSA8IGxpc1tqXSArIDE6CiAgICAgICAgICAgICAgICAgICAgbGlzW2ldID0gbGlzW2pdICsgMQogICAgICAgICAgICAgICAgICAgIHByZXZbaV0gPSBqCiAgICAgICAgbWF4aW11bSA9IDAKICAgICAgICBpZHggPSAwCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uobik6CiAgICAgICAgICAgIGlmIG1heGltdW0gPCBsaXNbaV06CiAgICAgICAgICAgICAgICBtYXhpbXVtID0gbGlzW2ldCiAgICAgICAgICAgICAgICBpZHggPSBpCiAgICAgICAgc2VxID0gW2FycltpZHhdXQogICAgICAgIHdoaWxlIGlkeCAhPSBwcmV2W2lkeF06CiAgICAgICAgICAgIGlkeCA9IHByZXZbaWR4XQogICAgICAgICAgICBzZXEuYXBwZW5kKGFycltpZHhdKQogICAgICAgIHJldHVybiAobWF4aW11bSwgcmV2ZXJzZWQoc2VxKSkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZXh0cmFjdF90aW1lc3RhbXBzKAogICAgICAgIGNscywKICAgICAgICBhdHRuX3dlaWdodHMsCiAgICAgICAgYXVkaW9fbGVuLAogICAgICAgIGZpbHRlcl93aWR0aCwKICAgICkgLT4gTGlzdFtmbG9hdF06CiAgICAgICAgYXR0bl93ZWlnaHRzID0gW2F0dG5fbGluZVsxOi0xXSBmb3IgYXR0bl9saW5lIGluIGF0dG5fd2VpZ2h0c11bMTpdCgogICAgICAgIG51bV9vdXRfdG9rZW5zID0gbGVuKGF0dG5fd2VpZ2h0cykKICAgICAgICBudW1fZW5jb2Rlcl9zdGVwcyA9IGxlbihhdHRuX3dlaWdodHNbMF0pCiAgICAgICAgYXR0bl93ZWlnaHRzID0gbnAuYXJyYXkoYXR0bl93ZWlnaHRzKQogICAgICAgIGF0dG5fd2VpZ2h0cyA9IGF0dG5fd2VpZ2h0cyAvIGF0dG5fd2VpZ2h0cy5zdW0oYXhpcz0wLCBrZWVwZGltcz0xKSAgIyBub3JtYWxpemUKICAgICAgICBhdHRuX3dlaWdodHMgPSBtZWRmaWx0MmQoYXR0bl93ZWlnaHRzLCBrZXJuZWxfc2l6ZT0oZmlsdGVyX3dpZHRoLCBmaWx0ZXJfd2lkdGgpKQoKICAgICAgICAjIGZpbmQgdGltZXN0YW1wcyB1c2luZyBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UgYWxnbwogICAgICAgIGNvbF9tYXhlcyA9IG5wLmFyZ21heChhdHRuX3dlaWdodHMsIGF4aXM9MCkKICAgICAgICBsaXNfaW5wdXQgPSBbCiAgICAgICAgICAgIChvdXRfdG9rX2lkeCwgLWVuY19iaW5faWR4KQogICAgICAgICAgICBmb3IgZW5jX2Jpbl9pZHgsIG91dF90b2tfaWR4IGluIGVudW1lcmF0ZShjb2xfbWF4ZXMpCiAgICAgICAgXQogICAgICAgIHRva19pZHhfdG9fc3RhcnRfZW5jX2Jpbl9pZHggPSB7CiAgICAgICAgICAgIG91dF90b2tfaWR4OiAtZW5jX2Jpbl9pZHgKICAgICAgICAgICAgZm9yIG91dF90b2tfaWR4LCBlbmNfYmluX2lkeCBpbiBjbHMuZ2VuZXJhdGVfbGlzKGxpc19pbnB1dClbMV0KICAgICAgICB9CiAgICAgICAgcHJldl9zdGFydCA9IDAKICAgICAgICBzdGFydHMgPSBbXQogICAgICAgIGZvciB0b2tfaWR4IGluIHJhbmdlKG51bV9vdXRfdG9rZW5zKToKICAgICAgICAgICAgc3RhcnRfZW5jX2Jpbl9pZHggPSB0b2tfaWR4X3RvX3N0YXJ0X2VuY19iaW5faWR4LmdldCh0b2tfaWR4LCBwcmV2X3N0YXJ0KQogICAgICAgICAgICBzdGFydHMuYXBwZW5kKHN0YXJ0X2VuY19iaW5faWR4KQogICAgICAgICAgICBwcmV2X3N0YXJ0ID0gc3RhcnRfZW5jX2Jpbl9pZHgKICAgICAgICBzZWNvbmRzX3Blcl9lbmNfcG9zID0gYXVkaW9fbGVuIC8gbnVtX2VuY29kZXJfc3RlcHMKICAgICAgICBzdGFydF90aW1lcyA9IFtzZWNvbmRzX3Blcl9lbmNfcG9zICogc3RhcnRfcG9zIGZvciBzdGFydF9wb3MgaW4gc3RhcnRzXQogICAgICAgIHJldHVybiBzdGFydF90aW1lcwoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9jb2xsZWN0X3dvcmRfbGV2ZWxfc3RhdHMoCiAgICAgICAgY2xzLCBwaWVjZXM6IExpc3Rbc3RyXSwgdG9rZW5fdGltZXN0YW1wczogTGlzdFtmbG9hdF0sIHN0ZXBfc2NvcmVzOiBMaXN0W2Zsb2F0XQogICAgKSAtPiBMaXN0W1RyYW5zY3JpcHRpb25Ub2tlbl06CiAgICAgICAgYXNzZXJ0IGxlbihwaWVjZXMpID09IGxlbih0b2tlbl90aW1lc3RhbXBzKSBhbmQgbGVuKHRva2VuX3RpbWVzdGFtcHMpID09IGxlbigKICAgICAgICAgICAgc3RlcF9zY29yZXMKICAgICAgICApCiAgICAgICAgd29yZF9zdGF0czogTGlzdFtMaXN0W0FueV1dID0gW10KICAgICAgICBmb3IgKAogICAgICAgICAgICB0aW1lX3MsCiAgICAgICAgICAgIHRva2VuLAogICAgICAgICAgICBzY29yZSwKICAgICAgICApIGluIHppcCh0b2tlbl90aW1lc3RhbXBzLCBwaWVjZXMsIHN0ZXBfc2NvcmVzKToKICAgICAgICAgICAgaWYgbm90IHdvcmRfc3RhdHMgb3IgdG9rZW4uc3RhcnRzd2l0aCgi4paBIikgYW5kIHRpbWVfcyA+IHdvcmRfc3RhdHNbLTFdWzFdOgogICAgICAgICAgICAgICAgd29yZF9zdGF0cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgW3Rva2VuLnJlcGxhY2UoIuKWgSIsICIgIikuc3RyaXAoKSwgdGltZV9zLCBbbnAuZXhwKHNjb3JlKV1dCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB3b3JkX3N0YXRzWy0xXVswXSArPSB0b2tlbi5yZXBsYWNlKCLiloEiLCAiICIpCiAgICAgICAgICAgICAgICB3b3JkX3N0YXRzWy0xXVsyXS5hcHBlbmQobnAuZXhwKHNjb3JlKSkKICAgICAgICB3b3JkX3N0YXRzID0gWwogICAgICAgICAgICBUcmFuc2NyaXB0aW9uVG9rZW4od29yZCwgc3RhcnQsIG5wLm1lYW4ocHJvYnMpKQogICAgICAgICAgICBmb3Igd29yZCwgc3RhcnQsIHByb2JzIGluIHdvcmRfc3RhdHMKICAgICAgICBdCiAgICAgICAgcmV0dXJuIHdvcmRfc3RhdHMKCiAgICBkZWYgcnVuX2luZmVyZW5jZSgKICAgICAgICBzZWxmLAogICAgICAgIGZiYW5rczogdG9yY2guVGVuc29yLAogICAgICAgIHNyY19sYW5nOiBzdHIsCiAgICAgICAgbGVuZ3RoX3NlY29uZHM6IGZsb2F0LAogICAgICAgIGZpbHRlcl93aWR0aDogaW50LAogICAgICAgIGdlbl9vcHRzOiBEaWN0LAogICAgKSAtPiBUcmFuc2NyaXB0aW9uOgogICAgICAgIHByZWZpeCA9IHNlbGYudG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKAogICAgICAgICAgICBtb2RlPSJ0YXJnZXQiLCBsYW5nPXNyY19sYW5nCiAgICAgICAgKS5wcmVmaXhfaW5kaWNlcwogICAgICAgIGJlYW1fc2l6ZSA9IGdlbl9vcHRzLmdldCgiYmVhbV9zaXplIikgb3IgMSAgIyBzZXQgdG8gMSBieSBkZWZhdWx0CiAgICAgICAgZ2VuX29wdHMucG9wKCJiZWFtX3NpemUiLCBOb25lKQogICAgICAgIGdlbmVyYXRvciA9IEJlYW1TZWFyY2hTZXEyU2VxR2VuZXJhdG9yKAogICAgICAgICAgICBtb2RlbD1zZWxmLnMydCwKICAgICAgICAgICAgYmVhbV9zaXplPWJlYW1fc2l6ZSwKICAgICAgICAgICAgKipnZW5fb3B0cywKICAgICAgICApCgogICAgICAgIHNlbGYuZW5jX2RlY19hdHRuX2NvbGxlY3Rvci5yZXNldCgpCiAgICAgICAgb3V0cHV0OiBTZXF1ZW5jZUdlbmVyYXRvck91dHB1dCA9IGdlbmVyYXRvcigKICAgICAgICAgICAgc291cmNlX3NlcXM9ZmJhbmtzLnVuc3F1ZWV6ZSgwKSwKICAgICAgICAgICAgc291cmNlX3BhZGRpbmdfbWFzaz1Ob25lLAogICAgICAgICAgICBwcm9tcHRfc2Vxcz1wcmVmaXgudW5zcXVlZXplKDApLAogICAgICAgICAgICBwcm9tcHRfcGFkZGluZ19tYXNrPU5vbmUsCiAgICAgICAgKQoKICAgICAgICB0b2tlbl9pZHMgPSBvdXRwdXQuaHlwb3RoZXNlc1swXVswXS5zZXEuc3F1ZWV6ZSgwKS50b2xpc3QoKVs6LTFdCiAgICAgICAgc3RlcF9zY29yZXMgPSBvdXRwdXQuaHlwb3RoZXNlc1swXVswXS5zdGVwX3Njb3Jlcy50b2xpc3QoKVs6LTFdCiAgICAgICAgZW5jX2RlY19hdHRuX3Njb3JlcyA9IHNlbGYuZW5jX2RlY19hdHRuX2NvbGxlY3Rvci5hdHRuX3Njb3Jlc1s6LTFdCiAgICAgICAgdG9rZW5fdGltZXN0YW1wcyA9IHNlbGYuX2V4dHJhY3RfdGltZXN0YW1wcygKICAgICAgICAgICAgZW5jX2RlY19hdHRuX3Njb3JlcywKICAgICAgICAgICAgbGVuZ3RoX3NlY29uZHMsCiAgICAgICAgICAgIGZpbHRlcl93aWR0aCwKICAgICAgICApCiAgICAgICAgcGllY2VzID0gWwogICAgICAgICAgICBzZWxmLnRva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbih0b2tlbl9pZCkgZm9yIHRva2VuX2lkIGluIHRva2VuX2lkcwogICAgICAgIF0KICAgICAgICBzdGF0cyA9IHNlbGYuX2NvbGxlY3Rfd29yZF9sZXZlbF9zdGF0cygKICAgICAgICAgICAgcGllY2VzPXBpZWNlcywKICAgICAgICAgICAgdG9rZW5fdGltZXN0YW1wcz10b2tlbl90aW1lc3RhbXBzLAogICAgICAgICAgICBzdGVwX3Njb3Jlcz1zdGVwX3Njb3JlcywKICAgICAgICApCiAgICAgICAgcmV0dXJuIFRyYW5zY3JpcHRpb24oc3RhdHMpCiAgICAKICAgIGRlZiBkZW5vaXNlX2F1ZGlvKAogICAgICAgICAgICBzZWxmLCAKICAgICAgICAgICAgYXVkaW86IFVuaW9uW3N0ciwgVGVuc29yXSwgCiAgICAgICAgICAgIGRlbm9pc2VfY29uZmlnOiBPcHRpb25hbFtEZW5vaXNpbmdDb25maWddCiAgICAgICAgICAgICkgLT4gRGljdDoKICAgICAgICBkZW11Y3MgPSBEZW11Y3MoCiAgICAgICAgICAgIGRlbm9pc2VfY29uZmlnPWRlbm9pc2VfY29uZmlnKQogICAgICAgIGF1ZGlvID0gZGVtdWNzLmRlbm9pc2UoYXVkaW8pCiAgICAgICAgcmV0dXJuIHNlbGYuZGVjb2RlX2F1ZGlvKGF1ZGlvKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgdHJhbnNjcmliZSgKICAgICAgICBzZWxmLAogICAgICAgIGF1ZGlvOiBVbmlvbltzdHIsIFRlbnNvcl0sCiAgICAgICAgc3JjX2xhbmc6IHN0ciwKICAgICAgICBmaWx0ZXJfd2lkdGg6IGludCA9IDMsCiAgICAgICAgc2FtcGxlX3JhdGU6IGludCA9IDE2MDAwLAogICAgICAgIGRlbm9pc2U6IGJvb2wgPSBGYWxzZSwKICAgICAgICBkZW5vaXNlX2NvbmZpZzogT3B0aW9uYWxbRGVub2lzaW5nQ29uZmlnXSA9IE5vbmUsCiAgICAgICAgY2h1bmtfc2l6ZV9zZWM6IGludCA9IDIwLAogICAgICAgIHBhdXNlX2xlbmd0aF9zZWM6IGZsb2F0ID0gMSwKICAgICAgICAqKnNlcXVlbmNlX2dlbmVyYXRvcl9vcHRpb25zOiBEaWN0LAogICAgKSAtPiBUcmFuc2NyaXB0aW9uOgogICAgICAgICIiIgogICAgICAgIFRoZSBtYWluIG1ldGhvZCB1c2VkIHRvIHBlcmZvcm0gdHJhbnNjcmlwdGlvbi4KCiAgICAgICAgOnBhcmFtIGF1ZGlvOgogICAgICAgICAgICBFaXRoZXIgcGF0aCB0byBhdWRpbyBvciBhdWRpbyBUZW5zb3IuCiAgICAgICAgOnBhcmFtIHNyY19sYW5nOgogICAgICAgICAgICBTb3VyY2UgbGFuZ3VhZ2Ugb2YgYXVkaW8uCiAgICAgICAgOnBhcmFtIHNhbXBsZV9yYXRlOgogICAgICAgICAgICBTYW1wbGUgcmF0ZSBvZiB0aGUgYXVkaW8gVGVuc29yLgogICAgICAgIDpwYXJhbSBmaWx0ZXJfd2lkdGg6CiAgICAgICAgICAgIFdpbmRvdyBzaXplIHRvIHBhZCB3ZWlnaHRzIHRlbnNvci4KICAgICAgICA6cGFyYW0gY2h1bmtfc2l6ZV9zZWM6CiAgICAgICAgICAgIExlbmd0aCBvZiBhdWRpbyBjaHVua3MgaW4gc2Vjb25kcy4KICAgICAgICAgICAgRm9yIHNlZ21lbnRpbmcgYXVkaW8uCiAgICAgICAgOnBhcmFtIHBhdXNlX2xlbmd0aF9zZWM6CiAgICAgICAgICAgIExlbmd0aCBvZiBwYXVzZSBiZXR3ZWVuIGF1ZGlvIGNodW5rcyBpbiBzZWNvbmRzLgogICAgICAgICAgICBGb3Igc2VnbWVudGluZyBhdWRpby4KICAgICAgICA6cGFyYW1zICoqc2VxdWVuY2VfZ2VuZXJhdG9yX29wdGlvbnM6CiAgICAgICAgICAgIFNlZSBCZWFtU2VhcmNoU2VxMlNlcUdlbmVyYXRvci4KICAgICAgICA6cGFyYW1zIGRlbm9pc2U6CiAgICAgICAgICAgIFdoZXRoZXIgdG8gZGVub2lzZSB0aGUgYXVkaW8uCiAgICAgICAgOnBhcmFtcyBkZW5vaXNlX2NvbmZpZzoKICAgICAgICAgICAgQ29uZmlndXJhdGlvbiBmb3IgZGVub2lzaW5nLgoKICAgICAgICA6cmV0dXJuczoKICAgICAgICAgICAgLSBMaXN0IG9mIFRva2VucyB3aXRoIHRpbWVzdGFtcHMuCiAgICAgICAgIiIiCgogICAgICAgIGlmIGRlbm9pc2U6CiAgICAgICAgICAgIGRlY29kZWRfYXVkaW8gPSBzZWxmLmRlbm9pc2VfYXVkaW8oYXVkaW8sIGRlbm9pc2VfY29uZmlnKQogICAgICAgIGVsc2U6ICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoYXVkaW8sIHN0cik6CiAgICAgICAgICAgICAgICAgICAgd2l0aCBQYXRoKGF1ZGlvKS5vcGVuKCJyYiIpIGFzIGZiOgogICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IE1lbW9yeUJsb2NrKGZiLnJlYWQoKSkKICAgICAgICAgICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gc2VsZi5kZWNvZGVfYXVkaW8oYmxvY2spCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gewogICAgICAgICAgICAgICAgICAgICJ3YXZlZm9ybSI6IGF1ZGlvLAogICAgICAgICAgICAgICAgICAgICJzYW1wbGVfcmF0ZSI6IHNhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAtMSwKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxlbmd0aF9zZWNvbmRzID0gKAogICAgICAgICAgICAgICAgZGVjb2RlZF9hdWRpb1sid2F2ZWZvcm0iXS5zaXplKDApIC8gZGVjb2RlZF9hdWRpb1sic2FtcGxlX3JhdGUiXQogICAgICAgICAgICApCgogICAgICAgICAgICB3YXZlZm9ybV8yZCA9IGRlY29kZWRfYXVkaW8uZ2V0KCJ3YXZlZm9ybSIpCiAgICAgICAgICAgIHdhdmVmb3JtXzFkID0gZGVjb2RlZF9hdWRpby5nZXQoIndhdmVmb3JtIikudmlldygtMSkKICAgICAgICAgICAgc2VnbWVudGVyID0gU2lsZXJvVkFEU2VnbWVudGVyKAogICAgICAgICAgICAgICAgc2FtcGxlX3JhdGU9c2FtcGxlX3JhdGUsCiAgICAgICAgICAgICAgICBjaHVua19zaXplX3NlYz1jaHVua19zaXplX3NlYywKICAgICAgICAgICAgICAgIHBhdXNlX2xlbmd0aD1wYXVzZV9sZW5ndGhfc2VjLAogICAgICAgICAgICApCgogICAgICAgICAgICBpZiBsZW5ndGhfc2Vjb25kcyA+IGNodW5rX3NpemVfc2VjOgogICAgICAgICAgICAgICAgc3JjX3NlZ21lbnRzID0gc2VnbWVudGVyLnNlZ21lbnRfbG9uZ19pbnB1dCh3YXZlZm9ybV8xZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNyY19zZWdtZW50cyA9IFsoMCwgd2F2ZWZvcm1fMWQuc2l6ZSgwKSldCgogICAgICAgICAgICB0cmFuc2NyaXB0aW9ucyA9IFtdCiAgICAgICAgICAgIGZvciBzdGFydCwgZW5kIGluIHNyY19zZWdtZW50czoKICAgICAgICAgICAgICAgIHNlZ21lbnQgPSB3YXZlZm9ybV8yZFtzdGFydDplbmQsIDpdCiAgICAgICAgICAgICAgICBzcmNfc2VnbWVudCA9IHNlbGYuY29udmVydF90b19mYmFuaygKICAgICAgICAgICAgICAgICAgICB7IndhdmVmb3JtIjogc2VnbWVudCwgInNhbXBsZV9yYXRlIjogZGVjb2RlZF9hdWRpby5nZXQoInNhbXBsZV9yYXRlIiksIAogICAgICAgICAgICAgICAgICAgICAiZm9ybWF0IjogZGVjb2RlZF9hdWRpby5nZXQoImZvcm1hdCIpfSlbImZiYW5rIl0KICAgICAgICAgICAgICAgIGxlbmd0aF9zZWNvbmRzX3NlZ21lbnQgPSBzZWdtZW50LnNpemUoMCkgLyBzYW1wbGVfcmF0ZQogICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbl9zZWdtZW50ID0gc2VsZi5ydW5faW5mZXJlbmNlKAogICAgICAgICAgICAgICAgICAgIHNyY19zZWdtZW50LAogICAgICAgICAgICAgICAgICAgIHNyY19sYW5nLAogICAgICAgICAgICAgICAgICAgIGxlbmd0aF9zZWNvbmRzX3NlZ21lbnQsCiAgICAgICAgICAgICAgICAgICAgZmlsdGVyX3dpZHRoLAogICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlX2dlbmVyYXRvcl9vcHRpb25zLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbnMuYXBwZW5kKHN0cih0cmFuc2NyaXB0aW9uX3NlZ21lbnQpKQoKICAgICAgICAgICAgcmV0dXJuICIgIi5qb2luKHRyYW5zY3JpcHRpb25zKQo='),
    ('seamless/src/seamless_communication/inference/generator.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgT3B0aW9uYWwsIFR1cGxlCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBTZXF1ZW5jZURhdGEsIFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi5kYXRhLnRleHQgaW1wb3J0IFRleHRUb2tlbml6ZXIKZnJvbSBmYWlyc2VxMi5nZW5lcmF0aW9uIGltcG9ydCAoCiAgICBCZWFtU2VhcmNoU2VxMlNlcUdlbmVyYXRvciwKICAgIFNlcTJTZXFHZW5lcmF0b3IsCiAgICBTZXF1ZW5jZVRvVGV4dENvbnZlcnRlciwKICAgIFN0ZXBQcm9jZXNzb3IsCikKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCAoCiAgICBQYWRkaW5nTWFzaywKICAgIGFwcGx5X3BhZGRpbmdfbWFzaywKICAgIGdldF9zZXFzX2FuZF9wYWRkaW5nX21hc2ssCiAgICBwYWRfc2VxcywKKQpmcm9tIGZhaXJzZXEyLm5uLnV0aWxzLm1vZHVsZSBpbXBvcnQgaW5mZXJfZGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5tb2RlbCBpbXBvcnQgKAogICAgVW5pdFlNb2RlbCwKICAgIFVuaXRZVDJVTW9kZWwsCiAgICBVbml0WVgyVE1vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudW5pdF90b2tlbml6ZXIgaW1wb3J0ICgKICAgIFVuaXRUb2tlbkRlY29kZXIsCiAgICBVbml0VG9rZW5pemVyLAopCgoKZGVmIHJlbW92ZV9jb25zZWN1dGl2ZV9yZXBlYXRlZF9uZ3JhbXMoCiAgICBzZXF1ZW5jZTogTGlzdFtpbnRdLCBtaW5fc2l6ZTogaW50ID0gMSwgbWF4X3NpemU6IGludCA9IDQwCikgLT4gTGlzdFtpbnRdOgogICAgYXNzZXJ0IDEgPD0gbWluX3NpemUgPD0gbWF4X3NpemUKICAgIGRyb3BfaWR4ID0gc2V0KCkgICMgaW5kaWNlcyB0aGF0IHdpbGwgYmUgZHJvcHBlZCBmcm9tIHRoZSBzZXF1ZW5jZQoKICAgICMgc3RhcnQgZnJvbSB0aGUgYmVnaW5uaW5nLCBjaGVjayBpZiBhbiBuZ3JhbSBvZiBzaXplIGsgKGZvciBrPW1heC4ubWluKSBpcwogICAgIyBmb2xsb3dlZCBieSBpdHMgY29weSwgaWYgc28gZGVsZXRlIHRoZSBmaXJzdCBvbmUsIGFuZCBzdGFydCBvdmVyIGFmdGVyCiAgICAjIHRoZSBkZWxldGVkIG5ncmFtLgogICAgc3RhcnQgPSAwCiAgICB3aGlsZSBzdGFydCA8IGxlbihzZXF1ZW5jZSk6CiAgICAgICAgZm9yIGsgaW4gcmFuZ2UobWF4X3NpemUsIG1pbl9zaXplIC0gMSwgLTEpOgogICAgICAgICAgICBpZiBzZXF1ZW5jZVtzdGFydCA6IHN0YXJ0ICsga10gPT0gc2VxdWVuY2Vbc3RhcnQgKyBrIDogc3RhcnQgKyBrICsga106CiAgICAgICAgICAgICAgICBkcm9wX2lkeCB8PSBzZXQocmFuZ2Uoc3RhcnQsIHN0YXJ0ICsgaykpCiAgICAgICAgICAgICAgICBzdGFydCArPSBrIC0gMSAgIyBhc3N1bWVzIHJlcGVhdGluZyBzdWJzZXF1ZW5jZXMgZG9uJ3Qgb3ZlcmxhcAogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICBzdGFydCArPSAxCiAgICByZXR1cm4gW3Rva2VuIGZvciBpZHgsIHRva2VuIGluIGVudW1lcmF0ZShzZXF1ZW5jZSkgaWYgaWR4IG5vdCBpbiBkcm9wX2lkeF0KCgpAZGF0YWNsYXNzCmNsYXNzIFNlcXVlbmNlR2VuZXJhdG9yT3B0aW9uczoKICAgICIiIkhvbGRzIHRoZSBvcHRpb25zIHRvIHBhc3MgdG8gYSBzZXF1ZW5jZSBnZW5lcmF0b3IuIiIiCgogICAgYmVhbV9zaXplOiBpbnQgPSA1CiAgICAiIiJUaGUgYmVhbSBzaXplLiIiIgoKICAgIHNvZnRfbWF4X3NlcV9sZW46IFR1cGxlW2ludCwgaW50XSA9ICgxLCAyMDApCiAgICAiIiJUaGUgdGVybXMgYGBhYGAgYW5kIGBgYmBgIG9mIGBgYXggKyBiYGAgd2hlcmUgYGB4YGAgaXMgdGhlIHNvdXJjZQogICAgc2VxdWVuY2UgbGVuZ3RoLiBUaGUgZ2VuZXJhdGVkIHNlcXVlbmNlcyAoaW5jbHVkaW5nIHByZWZpeCBzZXF1ZW5jZSkgd2lsbAogICAgaGF2ZSB0aGUgbWF4aW11bSBsZW5ndGggb2YgYGBtaW4oaGFyZF9tYXhfc2VxX2xlbiwgYXggKyBiKWBgLiBTZWUgYWxzbwogICAgYGBoYXJkX21heF9zZXFfbGVuYGAuIiIiCgogICAgaGFyZF9tYXhfc2VxX2xlbjogaW50ID0gMTAyNAogICAgIiIiVGhlIGhhcmQgbGltaXQgb24gbWF4aW11bSBsZW5ndGggb2YgZ2VuZXJhdGVkIHNlcXVlbmNlcy4iIiIKCiAgICBzdGVwX3Byb2Nlc3NvcjogT3B0aW9uYWxbU3RlcFByb2Nlc3Nvcl0gPSBOb25lCiAgICAiIiJUaGUgcHJvY2Vzc29yIGNhbGxlZCBhdCBlYWNoIGdlbmVyYXRpb24gc3RlcC4iIiIKCiAgICB1bmtfcGVuYWx0eTogZmxvYXQgPSAwLjAKICAgICIiIlRoZSBVTksgc3ltYm9sIHBlbmFsdHksIHdoZXJlIHZhbHVlcyBsZXNzIHRoYW4gMCBwcm9kdWNlIG1vcmUgVU5LczsKICAgIHZhbHVlcyBncmVhdGVyIHRoYW4gMCBwcm9kdWNlIGZld2VyIFVOS3MuIiIiCgogICAgbGVuX3BlbmFsdHk6IGZsb2F0ID0gMS4wCiAgICAiIiJUaGUgbGVuZ3RoIHBlbmFsdHksIHdoZXJlIHZhbHVlcyBsZXNzIHRoYW4gMS4wIGZhdm9yIHNob3J0ZXIKICAgIHNlcXVlbmNlczsgdmFsdWVzIGdyZWF0ZXIgdGhhbiAxLjAgZmF2b3IgbG9uZ2VyIHNlcXVlbmNlcy4iIiIKCgpjbGFzcyBVbml0WUdlbmVyYXRvcjoKICAgICIiIkdlbmVyYXRlcyB0ZXh0IHRyYW5zbGF0aW9ucyBhbmQgc3BlZWNoIHVuaXRzIGZyb20gYSBVbml0WSBtb2RlbC4iIiIKCiAgICBtb2RlbDogVW5pdFlNb2RlbAogICAgczJ0X2NvbnZlcnRlcjogU2VxdWVuY2VUb1RleHRDb252ZXJ0ZXIKICAgIHQydF9jb252ZXJ0ZXI6IE9wdGlvbmFsW1NlcXVlbmNlVG9UZXh0Q29udmVydGVyXQogICAgdW5pdF9kZWNvZGVyOiBPcHRpb25hbFtVbml0VG9rZW5EZWNvZGVyXQogICAgdW5pdF9wcmVmaXhfaW5kaWNlczogT3B0aW9uYWxbVGVuc29yXQogICAgdW5pdF9nZW5lcmF0b3I6IE9wdGlvbmFsW1NlcTJTZXFHZW5lcmF0b3JdCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWw6IFVuaXRZTW9kZWwsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIsCiAgICAgICAgdGFyZ2V0X2xhbmc6IHN0ciwKICAgICAgICB1bml0X3Rva2VuaXplcjogT3B0aW9uYWxbVW5pdFRva2VuaXplcl0gPSBOb25lLAogICAgICAgIHRleHRfb3B0czogT3B0aW9uYWxbU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zXSA9IE5vbmUsCiAgICAgICAgdW5pdF9vcHRzOiBPcHRpb25hbFtTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbW9kZWw6CiAgICAgICAgICAgIFRoZSBVbml0WSBtb2RlbCB0byB1c2UgZm9yIGdlbmVyYXRpb24uCiAgICAgICAgOnBhcmFtIHRleHRfdG9rZW5pemVyOgogICAgICAgICAgICBUaGUgdGV4dCB0b2tlbml6ZXIgdG8gdXNlLgogICAgICAgIDpwYXJhbSB1bml0X3Rva2VuaXplcjoKICAgICAgICAgICAgVGhlIHVuaXQgdG9rZW5pemVyIHRvIHVzZS4KICAgICAgICA6cGFyYW0gdGFyZ2V0X2xhbmc6CiAgICAgICAgICAgIFRoZSB0YXJnZXQgbGFuZ3VhZ2UuCiAgICAgICAgOnBhcmFtIHRleHRfZ2VuZXJhdG9yX29wdHM6CiAgICAgICAgICAgIFRoZSBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIHVuZGVybHlpbmcgdGV4dCA6Y2xhc3M6YFNlcTJTZXFHZW5lcmF0b3JgLgogICAgICAgIDpwYXJhbSB1bml0X2dlbmVyYXRvcl9vcHRzOgogICAgICAgICAgICBUaGUgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSB1bmRlcmx5aW5nIHVuaXQgOmNsYXNzOmBTZXEyU2VxR2VuZXJhdG9yYC4KICAgICAgICAiIiIKICAgICAgICBtb2RlbC5ldmFsKCkKCiAgICAgICAgc2VsZi5tb2RlbCA9IG1vZGVsCgogICAgICAgIGlmIHRleHRfb3B0cyBpcyBOb25lOgogICAgICAgICAgICB0ZXh0X29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoKQoKICAgICAgICBpZiBtb2RlbC50ZXh0X2RlY29kZXIgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJgVW5pdFlHZW5lcmF0b3JgIHJlcXVpcmVzIGEgdGV4dCBkZWNvZGVyLCBidXQgdGhlIGN1cnJlbnQgVW5pdFkgbW9kZWwgZG9lcyBub3QgaGF2ZSBvbmUuIgogICAgICAgICAgICApCiAgICAgICAgYXNzZXJ0IG1vZGVsLnRleHRfZGVjb2Rlcl9mcm9udGVuZCBpcyBub3QgTm9uZQogICAgICAgIGFzc2VydCBtb2RlbC5maW5hbF9wcm9qIGlzIG5vdCBOb25lCgogICAgICAgIHMydF9tb2RlbCA9IFVuaXRZWDJUTW9kZWwoCiAgICAgICAgICAgIGVuY29kZXJfZnJvbnRlbmQ9bW9kZWwuc3BlZWNoX2VuY29kZXJfZnJvbnRlbmQsCiAgICAgICAgICAgIGVuY29kZXI9bW9kZWwuc3BlZWNoX2VuY29kZXIsCiAgICAgICAgICAgIGRlY29kZXJfZnJvbnRlbmQ9bW9kZWwudGV4dF9kZWNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICBkZWNvZGVyPW1vZGVsLnRleHRfZGVjb2RlciwKICAgICAgICAgICAgZmluYWxfcHJvaj1tb2RlbC5maW5hbF9wcm9qLAogICAgICAgICAgICB0YXJnZXRfdm9jYWJfaW5mbz1tb2RlbC50YXJnZXRfdm9jYWJfaW5mbywKICAgICAgICApCgogICAgICAgIHN0ZXBfcHJvY2Vzc29ycyA9IFtdCiAgICAgICAgaWYgdGV4dF9vcHRzLnN0ZXBfcHJvY2Vzc29yIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzdGVwX3Byb2Nlc3NvcnMuYXBwZW5kKHRleHRfb3B0cy5zdGVwX3Byb2Nlc3NvcikKCiAgICAgICAgZ2VuZXJhdG9yID0gQmVhbVNlYXJjaFNlcTJTZXFHZW5lcmF0b3IoCiAgICAgICAgICAgIHMydF9tb2RlbCwKICAgICAgICAgICAgYmVhbV9zaXplPXRleHRfb3B0cy5iZWFtX3NpemUsCiAgICAgICAgICAgIG1heF9nZW5fbGVuPXRleHRfb3B0cy5zb2Z0X21heF9zZXFfbGVuLAogICAgICAgICAgICBtYXhfc2VxX2xlbj10ZXh0X29wdHMuaGFyZF9tYXhfc2VxX2xlbiwKICAgICAgICAgICAgZWNob19wcm9tcHQ9VHJ1ZSwKICAgICAgICAgICAgc3RlcF9wcm9jZXNzb3JzPXN0ZXBfcHJvY2Vzc29ycywKICAgICAgICAgICAgdW5rX3BlbmFsdHk9dGV4dF9vcHRzLnVua19wZW5hbHR5LAogICAgICAgICAgICBsZW5fcGVuYWx0eT10ZXh0X29wdHMubGVuX3BlbmFsdHksCiAgICAgICAgKQogICAgICAgIHNlbGYuczJ0X2NvbnZlcnRlciA9IFNlcXVlbmNlVG9UZXh0Q29udmVydGVyKAogICAgICAgICAgICBnZW5lcmF0b3IsIHRleHRfdG9rZW5pemVyLCAidHJhbnNsYXRpb24iLCB0YXJnZXRfbGFuZwogICAgICAgICkKCiAgICAgICAgaWYgbW9kZWwudGV4dF9lbmNvZGVyIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYudDJ0X2dlbmVyYXRvciA9IE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICBhc3NlcnQgbW9kZWwudGV4dF9lbmNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lCiAgICAgICAgICAgIGFzc2VydCBtb2RlbC50ZXh0X2VuY29kZXIgaXMgbm90IE5vbmUKICAgICAgICAgICAgdDJ0X21vZGVsID0gVW5pdFlYMlRNb2RlbCgKICAgICAgICAgICAgICAgIGVuY29kZXJfZnJvbnRlbmQ9bW9kZWwudGV4dF9lbmNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICAgICAgZW5jb2Rlcj1tb2RlbC50ZXh0X2VuY29kZXIsCiAgICAgICAgICAgICAgICBkZWNvZGVyX2Zyb250ZW5kPW1vZGVsLnRleHRfZGVjb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgICAgIGRlY29kZXI9bW9kZWwudGV4dF9kZWNvZGVyLAogICAgICAgICAgICAgICAgZmluYWxfcHJvaj1tb2RlbC5maW5hbF9wcm9qLAogICAgICAgICAgICAgICAgdGFyZ2V0X3ZvY2FiX2luZm89bW9kZWwudGFyZ2V0X3ZvY2FiX2luZm8sCiAgICAgICAgICAgICkKICAgICAgICAgICAgZ2VuZXJhdG9yID0gQmVhbVNlYXJjaFNlcTJTZXFHZW5lcmF0b3IoCiAgICAgICAgICAgICAgICB0MnRfbW9kZWwsCiAgICAgICAgICAgICAgICBiZWFtX3NpemU9dGV4dF9vcHRzLmJlYW1fc2l6ZSwKICAgICAgICAgICAgICAgIG1heF9nZW5fbGVuPXRleHRfb3B0cy5zb2Z0X21heF9zZXFfbGVuLAogICAgICAgICAgICAgICAgbWF4X3NlcV9sZW49dGV4dF9vcHRzLmhhcmRfbWF4X3NlcV9sZW4sCiAgICAgICAgICAgICAgICBlY2hvX3Byb21wdD1UcnVlLAogICAgICAgICAgICAgICAgc3RlcF9wcm9jZXNzb3JzPXN0ZXBfcHJvY2Vzc29ycywKICAgICAgICAgICAgICAgIHVua19wZW5hbHR5PXRleHRfb3B0cy51bmtfcGVuYWx0eSwKICAgICAgICAgICAgICAgIGxlbl9wZW5hbHR5PXRleHRfb3B0cy5sZW5fcGVuYWx0eSwKICAgICAgICAgICAgKQogICAgICAgICAgICBzZWxmLnQydF9jb252ZXJ0ZXIgPSBTZXF1ZW5jZVRvVGV4dENvbnZlcnRlcigKICAgICAgICAgICAgICAgIGdlbmVyYXRvciwgdGV4dF90b2tlbml6ZXIsICJ0cmFuc2xhdGlvbiIsIHRhcmdldF9sYW5nCiAgICAgICAgICAgICkKCiAgICAgICAgc2VsZi51bml0X2dlbmVyYXRvciA9IE5vbmUKICAgICAgICBzZWxmLnVuaXRfZGVjb2RlciA9IE5vbmUKICAgICAgICAjIFNldCB1cCB1bml0IGdlbmVyYXRvci4KICAgICAgICBpZiB1bml0X3Rva2VuaXplciBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgbW9kZWwudDJ1X21vZGVsIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgICJgbW9kZWxgIGRvZXMgbm90IGhhdmUgYSBUMlUgc3ViLW1vZGVsIHdoZW4gYHVuaXRfdG9rZW5pemVyYCBpcyBub3QgTm9uZS4iCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLnVuaXRfZGVjb2RlciA9IHVuaXRfdG9rZW5pemVyLmNyZWF0ZV9kZWNvZGVyKCkKCiAgICAgICAgICAgIHVuaXRfZW5jb2RlciA9IHVuaXRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKAogICAgICAgICAgICAgICAgbGFuZz10YXJnZXRfbGFuZywgZGV2aWNlPWluZmVyX2RldmljZShtb2RlbC50MnVfbW9kZWwpCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYudW5pdF9wcmVmaXhfaW5kaWNlcyA9IHVuaXRfZW5jb2Rlci5wcmVmaXhfaW5kaWNlcwoKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLm1vZGVsLnQydV9tb2RlbCwgVW5pdFlUMlVNb2RlbCk6CiAgICAgICAgICAgICAgICBpZiB1bml0X29wdHMgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAjIFNwZWVjaCBzZXF1ZW5jZXMgYXJlIHR5cGljYWxseSBtdWNoIGxvbmdlciB0aGFuIHRleHQgc2VxdWVuY2VzLgogICAgICAgICAgICAgICAgICAgIHVuaXRfb3B0cyA9IFNlcXVlbmNlR2VuZXJhdG9yT3B0aW9ucygKICAgICAgICAgICAgICAgICAgICAgICAgc29mdF9tYXhfc2VxX2xlbj0oMjUsIDUwKSwgaGFyZF9tYXhfc2VxX2xlbj01MDAwCiAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIHN0ZXBfcHJvY2Vzc29ycyA9IFtdCiAgICAgICAgICAgICAgICBpZiB1bml0X29wdHMuc3RlcF9wcm9jZXNzb3IgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgc3RlcF9wcm9jZXNzb3JzLmFwcGVuZCh1bml0X29wdHMuc3RlcF9wcm9jZXNzb3IpCgogICAgICAgICAgICAgICAgc2VsZi51bml0X2dlbmVyYXRvciA9IEJlYW1TZWFyY2hTZXEyU2VxR2VuZXJhdG9yKAogICAgICAgICAgICAgICAgICAgIHNlbGYubW9kZWwudDJ1X21vZGVsLAogICAgICAgICAgICAgICAgICAgIGJlYW1fc2l6ZT11bml0X29wdHMuYmVhbV9zaXplLAogICAgICAgICAgICAgICAgICAgIG1heF9nZW5fbGVuPXVuaXRfb3B0cy5zb2Z0X21heF9zZXFfbGVuLAogICAgICAgICAgICAgICAgICAgIG1heF9zZXFfbGVuPXVuaXRfb3B0cy5oYXJkX21heF9zZXFfbGVuLAogICAgICAgICAgICAgICAgICAgIGVjaG9fcHJvbXB0PVRydWUsCiAgICAgICAgICAgICAgICAgICAgc3RlcF9wcm9jZXNzb3JzPXN0ZXBfcHJvY2Vzc29ycywKICAgICAgICAgICAgICAgICAgICB1bmtfcGVuYWx0eT11bml0X29wdHMudW5rX3BlbmFsdHksCiAgICAgICAgICAgICAgICAgICAgbGVuX3BlbmFsdHk9dW5pdF9vcHRzLmxlbl9wZW5hbHR5LAogICAgICAgICAgICAgICAgKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgX19jYWxsX18oCiAgICAgICAgc2VsZiwKICAgICAgICBzb3VyY2Vfc2VxczogVGVuc29yLAogICAgICAgIHNvdXJjZV9wYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBpbnB1dF9tb2RhbGl0eTogc3RyID0gInNwZWVjaCIsCiAgICAgICAgb3V0cHV0X21vZGFsaXR5OiBzdHIgPSAic3BlZWNoIiwKICAgICAgICBuZ3JhbV9maWx0ZXJpbmc6IGJvb2wgPSBGYWxzZSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dDogT3B0aW9uYWxbU2VxdWVuY2VEYXRhXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW0xpc3RbU3RyaW5nTGlrZV0sIE9wdGlvbmFsW1RlbnNvcl1dOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBzb3VyY2Vfc2VxczoKICAgICAgICAgICAgVGhlIHNvdXJjZSBzZXF1ZW5jZXMgdG8gdXNlIGZvciBnZW5lcmF0aW9uLiAqU2hhcGU6KiA6bWF0aDpgKE4sUywqKWAsCiAgICAgICAgICAgIHdoZXJlIDptYXRoOmBOYCBpcyB0aGUgYmF0Y2ggc2l6ZSwgOm1hdGg6YFNgIGlzIHRoZSBzZXF1ZW5jZSBsZW5ndGgsCiAgICAgICAgICAgIGFuZCA6bWF0aDpgKmAgaXMgYW55IG51bWJlciBvZiBzZXF1ZW5jZS1zcGVjaWZpYyBkaW1lbnNpb25zCiAgICAgICAgICAgIGluY2x1ZGluZyBub25lLgogICAgICAgIDpwYXJhbSBzb3VyY2VfcGFkZGluZ19tYXNrOgogICAgICAgICAgICBUaGUgcGFkZGluZyBtYXNrIG9mIGBgc291cmNlX3NlcXNgYC4gKlNoYXBlOiogOm1hdGg6YChOLFMpYCwgd2hlcmUKICAgICAgICAgICAgOm1hdGg6YE5gIGlzIHRoZSBiYXRjaCBzaXplIGFuZCA6bWF0aDpgU2AgaXMgdGhlIHNlcXVlbmNlIGxlbmd0aC4KICAgICAgICA6cGFyYW0gaW5wdXRfbW9kYWxpdHk6CiAgICAgICAgICAgIFRoZSB0eXBlIG9mIG1vZGFsaXR5IHRvIGVuY29kZS4KICAgICAgICA6cGFyYW0gb3V0cHV0X21vZGFsaXR5OgogICAgICAgICAgICBUaGUgdHlwZSBvZiBtb2RhbGl0eSB0byBkZWNvZGUuCiAgICAgICAgOnBhcmFtIG5ncmFtX2ZpbHRlcmluZzoKICAgICAgICAgICAgSWYgVHJ1ZSwgcmVtb3ZlcyBjb25zZWN1dGl2ZSByZXBlYXRlZCBuZ3JhbXMKICAgICAgICAgICAgZnJvbSB0aGUgZGVjb2RlZCB1bml0IG91dHB1dC4KCiAgICAgICAgOnJldHVybnM6CiAgICAgICAgICAgIC0gVGhlIG91dHB1dCBvZiB0aGUgdGV4dCBnZW5lcmF0b3IuCiAgICAgICAgICAgIC0gVGhlIG91dHB1dCBvZiB0aGUgdW5pdCBnZW5lcmF0b3IuCiAgICAgICAgIiIiCgogICAgICAgIGlmIGlucHV0X21vZGFsaXR5ID09ICJzcGVlY2giOgogICAgICAgICAgICB0ZXh0cywgdGV4dF9nZW5fb3V0cHV0ID0gc2VsZi5zMnRfY29udmVydGVyLmJhdGNoX2NvbnZlcnQoCiAgICAgICAgICAgICAgICBzb3VyY2Vfc2Vxcywgc291cmNlX3BhZGRpbmdfbWFzawogICAgICAgICAgICApCiAgICAgICAgZWxpZiBpbnB1dF9tb2RhbGl0eSA9PSAidGV4dCI6CiAgICAgICAgICAgIGlmIHNlbGYudDJ0X2NvbnZlcnRlciBpcyBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICAgICAiUGxlYXNlIHNldCBgdXNlX3RleHRfZW5jb2RlcmAgdG8gYFRydWVgIGluIHlvdXIgbW9kZWwgY29uZmlnIHRvIGVuY29kZSB0ZXh0LiIKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgdGV4dHMsIHRleHRfZ2VuX291dHB1dCA9IHNlbGYudDJ0X2NvbnZlcnRlci5iYXRjaF9jb252ZXJ0KAogICAgICAgICAgICAgICAgc291cmNlX3NlcXMsIHNvdXJjZV9wYWRkaW5nX21hc2sKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJVbnN1cHBvcnRlZCBpbnB1dF9tb2RhbGl0eToge2lucHV0X21vZGFsaXR5fSIpCgogICAgICAgICMgV2Ugc2tpcCBUMlUgd2hlbiB3ZSBvbmx5IG5lZWQgdG8gb3V0cHV0IHRleHQuCiAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09ICJ0ZXh0IjoKICAgICAgICAgICAgcmV0dXJuIHRleHRzLCBOb25lCgogICAgICAgIGFzc2VydCBzZWxmLm1vZGVsLnRhcmdldF92b2NhYl9pbmZvLnBhZF9pZHggaXMgbm90IE5vbmUKCiAgICAgICAgdGV4dF9zZXFfbGlzdCA9IFtoWzBdLnNlcSBmb3IgaCBpbiB0ZXh0X2dlbl9vdXRwdXQuaHlwb3RoZXNlc10KCiAgICAgICAgdGV4dF9zZXFzLCB0ZXh0X3BhZGRpbmdfbWFzayA9IHBhZF9zZXFzKAogICAgICAgICAgICB0ZXh0X3NlcV9saXN0LCBzZWxmLm1vZGVsLnRhcmdldF92b2NhYl9pbmZvLnBhZF9pZHgKICAgICAgICApCgogICAgICAgICMgTWFudWFsbHkgdHJpbSB0aGUgZmluYWwgRU9TIHRva2VuIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBmYWlyc2VxLgogICAgICAgIHRleHRfc2VxcyA9IHRleHRfc2Vxc1s6LCA6LTFdCgogICAgICAgIGlmIHRleHRfcGFkZGluZ19tYXNrIGlzIG5vdCBOb25lOgogICAgICAgICAgICB0ZXh0X3BhZGRpbmdfbWFzayA9IHRleHRfcGFkZGluZ19tYXNrLnRyaW0oMSkKCiAgICAgICAgIyBVc2UgdGhlIG91dHB1dCBvZiB0aGUgdGV4dCBnZW5lcmF0b3IgdG8gY29tcHV0ZSB0aGUgZGVjb2RlciBvdXRwdXQuCiAgICAgICAgZGVjb2Rlcl9vdXRwdXQsIGRlY29kZXJfcGFkZGluZ19tYXNrID0gc2VsZi5tb2RlbC5kZWNvZGUoCiAgICAgICAgICAgIHRleHRfc2VxcywKICAgICAgICAgICAgdGV4dF9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgIHRleHRfZ2VuX291dHB1dC5lbmNvZGVyX291dHB1dCwKICAgICAgICAgICAgdGV4dF9nZW5fb3V0cHV0LmVuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICkKCiAgICAgICAgYXNzZXJ0IHNlbGYubW9kZWwudDJ1X21vZGVsIGlzIG5vdCBOb25lCiAgICAgICAgYXNzZXJ0IHNlbGYudW5pdF9kZWNvZGVyIGlzIG5vdCBOb25lCgogICAgICAgIHVuaXRfZ2VuX291dHB1dCA9IE5vbmUKICAgICAgICBwcm9zb2R5X2VuY29kZXJfb3V0ID0gTm9uZQogICAgICAgIGlmIHNlbGYubW9kZWwucHJvc29keV9lbmNvZGVyX21vZGVsIGlzIG5vdCBOb25lOgogICAgICAgICAgICBhc3NlcnQgcHJvc29keV9lbmNvZGVyX2lucHV0IGlzIG5vdCBOb25lCiAgICAgICAgICAgIHByb3NvZHlfaW5wdXRfc2VxcywgcHJvc29keV9wYWRkaW5nX21hc2sgPSBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrKAogICAgICAgICAgICAgICAgcHJvc29keV9lbmNvZGVyX2lucHV0CiAgICAgICAgICAgICkKICAgICAgICAgICAgcHJvc29keV9lbmNvZGVyX291dCA9IHNlbGYubW9kZWwucHJvc29keV9lbmNvZGVyX21vZGVsKAogICAgICAgICAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzLAogICAgICAgICAgICAgICAgcHJvc29keV9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgICkudW5zcXVlZXplKDEpCgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5tb2RlbC50MnVfbW9kZWwsIFVuaXRZVDJVTW9kZWwpOgogICAgICAgICAgICBhc3NlcnQgc2VsZi51bml0X2dlbmVyYXRvciBpcyBub3QgTm9uZQogICAgICAgICAgICBhc3NlcnQgc2VsZi51bml0X3ByZWZpeF9pbmRpY2VzIGlzIG5vdCBOb25lCgogICAgICAgICAgICAjIChTX3ByZSkgLT4gKE4sIFNfcHJlKQogICAgICAgICAgICBwcmVmaXhfc2VxcyA9IHNlbGYudW5pdF9wcmVmaXhfaW5kaWNlcy5leHBhbmQoZGVjb2Rlcl9vdXRwdXQuc2l6ZSgwKSwgLTEpCgogICAgICAgICAgICB1bml0X2dlbl9vdXRwdXQgPSBzZWxmLnVuaXRfZ2VuZXJhdG9yKAogICAgICAgICAgICAgICAgc291cmNlX3NlcXM9ZGVjb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgICAgICBzb3VyY2VfcGFkZGluZ19tYXNrPWRlY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICAgICAgcHJvbXB0X3NlcXM9cHJlZml4X3NlcXMsCiAgICAgICAgICAgICAgICBwcm9tcHRfcGFkZGluZ19tYXNrPU5vbmUsCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGFzc2VydCBzZWxmLm1vZGVsLnQydV9tb2RlbC50YXJnZXRfdm9jYWJfaW5mby5wYWRfaWR4IGlzIG5vdCBOb25lCgogICAgICAgICAgICB1bml0X3NlcV9saXN0ID0gW2hbMF0uc2VxIGZvciBoIGluIHVuaXRfZ2VuX291dHB1dC5oeXBvdGhlc2VzXQoKICAgICAgICAgICAgdW5pdF9zZXFzLCBfID0gcGFkX3NlcXMoCiAgICAgICAgICAgICAgICB1bml0X3NlcV9saXN0LCBzZWxmLm1vZGVsLnQydV9tb2RlbC50YXJnZXRfdm9jYWJfaW5mby5wYWRfaWR4CiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICB0MnVfbW9kZWxfb3V0cHV0LCBkZWNvZGVyX3BhZGRpbmdfbWFzaywgXyA9IHNlbGYubW9kZWwudDJ1X21vZGVsKAogICAgICAgICAgICAgICAgdGV4dF9kZWNvZGVyX291dHB1dD1kZWNvZGVyX291dHB1dCwKICAgICAgICAgICAgICAgIHRleHRfZGVjb2Rlcl9wYWRkaW5nX21hc2s9ZGVjb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgICAgICB0ZXh0X3NlcXM9dGV4dF9zZXFzLAogICAgICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yPWR1cmF0aW9uX2ZhY3RvciwKICAgICAgICAgICAgICAgIGZpbG1fY29uZF9lbWI9cHJvc29keV9lbmNvZGVyX291dCwKICAgICAgICAgICAgKQogICAgICAgICAgICAjIChCLCBTX3VuaXQsIFZfdW5pdCkKICAgICAgICAgICAgdW5pdF9zZXFzID0gdDJ1X21vZGVsX291dHB1dC5sb2dpdHMuYXJnbWF4KGRpbT0yKQogICAgICAgICAgICAjIEFwcGx5IHRoZSBwYWRkaW5nIG1hc2sgdG8gdGhlIGdlbmVyYXRlZCB1bml0cy4KICAgICAgICAgICAgdW5pdF9zZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKAogICAgICAgICAgICAgICAgdW5pdF9zZXFzLCBkZWNvZGVyX3BhZGRpbmdfbWFzaywgdDJ1X21vZGVsX291dHB1dC52b2NhYl9pbmZvLnBhZF9pZHgKICAgICAgICAgICAgKQoKICAgICAgICAjIENvbnZlcnQgdG8gc3BlZWNoIHVuaXRzLgogICAgICAgIHVuaXRzID0gc2VsZi51bml0X2RlY29kZXIodW5pdF9zZXFzKQoKICAgICAgICAjIG5ncmFtLWZpbHRlcmluZyBkb2Vzbid0IGFwcGx5IHRvIE5BUiB1bml0IGRlY29kaW5nLgogICAgICAgIGlmIG5ncmFtX2ZpbHRlcmluZyBhbmQgaXNpbnN0YW5jZShzZWxmLm1vZGVsLnQydV9tb2RlbCwgVW5pdFlUMlVNb2RlbCk6CiAgICAgICAgICAgIGlmIHVuaXRzLnNpemUoMCkgPiAxOgogICAgICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigKICAgICAgICAgICAgICAgICAgICAidW5pdCBuZ3JhbV9maWx0ZXJpbmcgaXMgbm90IGltcGxlbWVudGVkIGZvciBiYXRjaF9zaXplID4gMS4iCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGFyciA9IHJlbW92ZV9jb25zZWN1dGl2ZV9yZXBlYXRlZF9uZ3JhbXModW5pdHNbMF0udG9saXN0KCkpCiAgICAgICAgICAgIHVuaXRzID0gdG9yY2gudGVuc29yKGFycikudG8odW5pdHMpLnVuc3F1ZWV6ZSgwKQoKICAgICAgICByZXR1cm4gdGV4dHMsIHVuaXRzCg=='),
    ('seamless/src/seamless_communication/inference/translator.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKaW1wb3J0IGxvZ2dpbmcKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZW51bSBpbXBvcnQgRW51bSwgYXV0bwpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIE9wdGlvbmFsLCBUdXBsZSwgVW5pb24sIGNhc3QKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4gYXMgbm4KZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IGFzc2V0X3N0b3JlCmZyb20gZmFpcnNlcTIuYXNzZXRzLmNhcmQgaW1wb3J0IEFzc2V0Q2FyZApmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IENvbGxhdGVyLCBTZXF1ZW5jZURhdGEsIFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi5kYXRhLmF1ZGlvIGltcG9ydCBBdWRpb0RlY29kZXIsIFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlcgpmcm9tIGZhaXJzZXEyLmRhdGEudGV4dCBpbXBvcnQgVGV4dFRva2VuaXplcgpmcm9tIGZhaXJzZXEyLm1lbW9yeSBpbXBvcnQgTWVtb3J5QmxvY2sKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBQYWRkaW5nTWFzaywgZ2V0X3NlcXNfYW5kX3BhZGRpbmdfbWFzawpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5pbmZlcmVuY2UuZ2VuZXJhdG9yIGltcG9ydCAoCiAgICBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMsCiAgICBVbml0WUdlbmVyYXRvciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5IGltcG9ydCAoCiAgICBVbml0VG9rZW5pemVyLAogICAgVW5pdFlNb2RlbCwKICAgIFVuaXRZTkFSVDJVTW9kZWwsCiAgICBVbml0WVQyVU1vZGVsLAogICAgbG9hZF91bml0eV9tb2RlbCwKICAgIGxvYWRfdW5pdHlfdGV4dF90b2tlbml6ZXIsCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyLAogICAgdW5pdHlfYXJjaHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy52b2NvZGVyIGltcG9ydCBsb2FkX3ZvY29kZXJfbW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5IGltcG9ydCAoCiAgICBFVE9YQmFkV29yZENoZWNrZXIsCiAgICBsb2FkX2V0b3hfYmFkX3dvcmRfY2hlY2tlciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24udG94aWNpdHkubWludG94IGltcG9ydCBtaW50b3hfcGlwZWxpbmUKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgVGFzayhFbnVtKToKICAgIFMyU1QgPSBhdXRvKCkKICAgIFMyVFQgPSBhdXRvKCkKICAgIFQyU1QgPSBhdXRvKCkKICAgIFQyVFQgPSBhdXRvKCkKICAgIEFTUiA9IGF1dG8oKQoKCmNsYXNzIE1vZGFsaXR5KEVudW0pOgogICAgU1BFRUNIID0gInNwZWVjaCIKICAgIFRFWFQgPSAidGV4dCIKCgpAZGF0YWNsYXNzCmNsYXNzIEJhdGNoZWRTcGVlY2hPdXRwdXQ6CiAgICB1bml0czogTGlzdFtMaXN0W2ludF1dCiAgICAiIiJUaGUgYmF0Y2hlZCBsaXN0IG9mIGdlbmVyYXRlZCB1bml0cy4iIiIKCiAgICBhdWRpb193YXZzOiBMaXN0W1RlbnNvcl0KICAgICIiIlRoZSBiYXRjaGVkIGxpc3Qgb2YgYXVkaW8gd2F2ZWZvcm1zLiIiIgoKICAgIHNhbXBsZV9yYXRlOiBpbnQgPSAxNjAwMAogICAgIiIiU2FtcGxlIHJhdGUgb2YgdGhlIGF1ZGlvIHdhdmVmb3Jtcy4iIiIKCgpjbGFzcyBUcmFuc2xhdG9yKG5uLk1vZHVsZSk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQ6IFVuaW9uW3N0ciwgQXNzZXRDYXJkXSwKICAgICAgICB2b2NvZGVyX25hbWVfb3JfY2FyZDogVW5pb25bc3RyLCBBc3NldENhcmQsIE5vbmVdLAogICAgICAgIGRldmljZTogRGV2aWNlLAogICAgICAgIHRleHRfdG9rZW5pemVyOiBPcHRpb25hbFtUZXh0VG9rZW5pemVyXSA9IE5vbmUsCiAgICAgICAgYXBwbHlfbWludG94OiBib29sID0gRmFsc2UsCiAgICAgICAgZHR5cGU6IERhdGFUeXBlID0gdG9yY2guZmxvYXQxNiwKICAgICAgICBpbnB1dF9tb2RhbGl0eTogT3B0aW9uYWxbTW9kYWxpdHldID0gTm9uZSwKICAgICAgICBvdXRwdXRfbW9kYWxpdHk6IE9wdGlvbmFsW01vZGFsaXR5XSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBpZiBpc2luc3RhbmNlKG1vZGVsX25hbWVfb3JfY2FyZCwgc3RyKToKICAgICAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkID0gYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChtb2RlbF9uYW1lX29yX2NhcmQpCgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG1vZGVsX25hbWVfb3JfY2FyZCwgQXNzZXRDYXJkKQoKICAgICAgICBpZiBpbnB1dF9tb2RhbGl0eSBvciBvdXRwdXRfbW9kYWxpdHk6CiAgICAgICAgICAgIHVuaXR5X2NvbmZpZyA9IHVuaXR5X2FyY2hzLmdldF9jb25maWcoCiAgICAgICAgICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQuZmllbGQoIm1vZGVsX2FyY2giKS5hc18oc3RyKQogICAgICAgICAgICApCiAgICAgICAgICAgICMgU2tpcCBsb2FkaW5nIHRoZSB0ZXh0IGVuY29kZXIuCiAgICAgICAgICAgIGlmIGlucHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICAgICAgICAgIHVuaXR5X2NvbmZpZy51c2VfdGV4dF9lbmNvZGVyID0gRmFsc2UKICAgICAgICAgICAgIyBTa2lwIGxvYWRpbmcgdGhlIFQyVSBtb2RlbC4KICAgICAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlRFWFQ6CiAgICAgICAgICAgICAgICB1bml0eV9jb25maWcudDJ1X2NvbmZpZyA9IE5vbmUKICAgICAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkLmZpZWxkKCJtb2RlbF9jb25maWciKS5zZXQodW5pdHlfY29uZmlnKQoKICAgICAgICAjIExvYWQgdGhlIG1vZGVsLgogICAgICAgIGlmIGRldmljZSA9PSB0b3JjaC5kZXZpY2UoImNwdSIpOgogICAgICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MzIKCiAgICAgICAgc2VsZi5tb2RlbCA9IGxvYWRfdW5pdHlfbW9kZWwobW9kZWxfbmFtZV9vcl9jYXJkLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKICAgICAgICBzZWxmLm1vZGVsLmV2YWwoKQogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHNlbGYubW9kZWwsIFVuaXRZTW9kZWwpCgogICAgICAgIGlmIHRleHRfdG9rZW5pemVyIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYudGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIgPSBsb2FkX3VuaXR5X3RleHRfdG9rZW5pemVyKAogICAgICAgICAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnRleHRfdG9rZW5pemVyID0gdGV4dF90b2tlbml6ZXIKCiAgICAgICAgc2VsZi51bml0X3Rva2VuaXplcjogT3B0aW9uYWxbVW5pdFRva2VuaXplcl0gPSBOb25lCiAgICAgICAgaWYgc2VsZi5tb2RlbC50MnVfbW9kZWwgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYudW5pdF90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyKG1vZGVsX25hbWVfb3JfY2FyZCkKCiAgICAgICAgc2VsZi5iYWRfd29yZF9jaGVja2VyOiBPcHRpb25hbFtFVE9YQmFkV29yZENoZWNrZXJdID0gTm9uZQogICAgICAgIGlmIGFwcGx5X21pbnRveDoKICAgICAgICAgICAgc2VsZi5iYWRfd29yZF9jaGVja2VyID0gbG9hZF9ldG94X2JhZF93b3JkX2NoZWNrZXIoIm1pbnRveCIpCgogICAgICAgIHNlbGYuYXBwbHlfbWludG94ID0gYXBwbHlfbWludG94CgogICAgICAgIHNlbGYuZGV2aWNlID0gZGV2aWNlCiAgICAgICAgc2VsZi5kZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWRldmljZSkKICAgICAgICBzZWxmLmNvbnZlcnRfdG9fZmJhbmsgPSBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoCiAgICAgICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgICAgIGNoYW5uZWxfbGFzdD1UcnVlLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1UcnVlLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCiAgICAgICAgc2VsZi5jb2xsYXRlID0gQ29sbGF0ZXIoCiAgICAgICAgICAgIHBhZF92YWx1ZT1zZWxmLnRleHRfdG9rZW5pemVyLnZvY2FiX2luZm8ucGFkX2lkeCBvciAwLCBwYWRfdG9fbXVsdGlwbGU9MgogICAgICAgICkKICAgICAgICBzZWxmLnZvY29kZXIgPSBOb25lCiAgICAgICAgaWYgdm9jb2Rlcl9uYW1lX29yX2NhcmQgaXMgbm90IE5vbmUgYW5kICgKICAgICAgICAgICAgb3V0cHV0X21vZGFsaXR5IGlzIE5vbmUgb3Igb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSAogICAgICAgICk6CiAgICAgICAgICAgIHNlbGYudm9jb2RlciA9IGxvYWRfdm9jb2Rlcl9tb2RlbCgKICAgICAgICAgICAgICAgIHZvY29kZXJfbmFtZV9vcl9jYXJkLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYudm9jb2Rlci5ldmFsKCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBnZXRfcHJlZGljdGlvbigKICAgICAgICBjbHMsCiAgICAgICAgbW9kZWw6IFVuaXRZTW9kZWwsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIsCiAgICAgICAgdW5pdF90b2tlbml6ZXI6IE9wdGlvbmFsW1VuaXRUb2tlbml6ZXJdLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBpbnB1dF9tb2RhbGl0eTogTW9kYWxpdHksCiAgICAgICAgb3V0cHV0X21vZGFsaXR5OiBNb2RhbGl0eSwKICAgICAgICB0Z3RfbGFuZzogc3RyLAogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzOiBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMsCiAgICAgICAgdW5pdF9nZW5lcmF0aW9uX29wdHM6IE9wdGlvbmFsW1NlcXVlbmNlR2VuZXJhdG9yT3B0aW9uc10sCiAgICAgICAgdW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZzogYm9vbCA9IEZhbHNlLAogICAgICAgIGR1cmF0aW9uX2ZhY3RvcjogZmxvYXQgPSAxLjAsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2lucHV0OiBPcHRpb25hbFtTZXF1ZW5jZURhdGFdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbTGlzdFtTdHJpbmdMaWtlXSwgT3B0aW9uYWxbVGVuc29yXV06CiAgICAgICAgIyBXZSBkaXNyZWdhcmQgdW5pdCBnZW5lcmF0aW9ucyBvcHRzIGZvciB0aGUgTkFSIFQyVSBkZWNvZGVyLgogICAgICAgIGlmIG91dHB1dF9tb2RhbGl0eSAhPSBNb2RhbGl0eS5TUEVFQ0ggb3IgaXNpbnN0YW5jZSgKICAgICAgICAgICAgbW9kZWwudDJ1X21vZGVsLCBVbml0WU5BUlQyVU1vZGVsCiAgICAgICAgKToKICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBOb25lCgogICAgICAgIGdlbmVyYXRvciA9IFVuaXRZR2VuZXJhdG9yKAogICAgICAgICAgICBtb2RlbCwKICAgICAgICAgICAgdGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgIHRndF9sYW5nLAogICAgICAgICAgICB1bml0X3Rva2VuaXplciBpZiBvdXRwdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIIGVsc2UgTm9uZSwKICAgICAgICAgICAgdGV4dF9vcHRzPXRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICB1bml0X29wdHM9dW5pdF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gZ2VuZXJhdG9yKAogICAgICAgICAgICBzZXFzLAogICAgICAgICAgICBwYWRkaW5nX21hc2ssCiAgICAgICAgICAgIGlucHV0X21vZGFsaXR5LnZhbHVlLAogICAgICAgICAgICBvdXRwdXRfbW9kYWxpdHkudmFsdWUsCiAgICAgICAgICAgIG5ncmFtX2ZpbHRlcmluZz11bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgICAgICBkdXJhdGlvbl9mYWN0b3I9ZHVyYXRpb25fZmFjdG9yLAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9cHJvc29keV9lbmNvZGVyX2lucHV0LAogICAgICAgICkKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgZ2V0X21vZGFsaXRpZXNfZnJvbV90YXNrX3N0cih0YXNrX3N0cjogc3RyKSAtPiBUdXBsZVtNb2RhbGl0eSwgTW9kYWxpdHldOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGFzayA9IFRhc2tbdGFza19zdHIudXBwZXIoKV0KICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJVbnN1cHBvcnRlZCB0YXNrOiB7dGFza19zdHJ9IikKCiAgICAgICAgaWYgdGFzayA9PSBUYXNrLlMyU1Q6CiAgICAgICAgICAgIHJldHVybiBNb2RhbGl0eS5TUEVFQ0gsIE1vZGFsaXR5LlNQRUVDSAogICAgICAgICMgQVNSIGlzIHRyZWF0ZWQgYXMgUzJUVCB3aXRoIHNyY19sYW5nID09IHRndF9sYW5nCiAgICAgICAgZWxpZiB0YXNrID09IFRhc2suUzJUVCBvciB0YXNrID09IFRhc2suQVNSOgogICAgICAgICAgICByZXR1cm4gTW9kYWxpdHkuU1BFRUNILCBNb2RhbGl0eS5URVhUCiAgICAgICAgZWxpZiB0YXNrID09IFRhc2suVDJUVDoKICAgICAgICAgICAgcmV0dXJuIE1vZGFsaXR5LlRFWFQsIE1vZGFsaXR5LlRFWFQKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTW9kYWxpdHkuVEVYVCwgTW9kYWxpdHkuU1BFRUNICgogICAgQHRvcmNoLmluZmVyZW5jZV9tb2RlKCkKICAgIGRlZiBwcmVkaWN0KAogICAgICAgIHNlbGYsCiAgICAgICAgaW5wdXQ6IFVuaW9uW3N0ciwgVGVuc29yLCBTZXF1ZW5jZURhdGFdLAogICAgICAgIHRhc2tfc3RyOiBzdHIsCiAgICAgICAgdGd0X2xhbmc6IHN0ciwKICAgICAgICBzcmNfbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHM6IE9wdGlvbmFsW1NlcXVlbmNlR2VuZXJhdG9yT3B0aW9uc10gPSBOb25lLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzOiBPcHRpb25hbFtTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdID0gTm9uZSwKICAgICAgICBzcGtyOiBPcHRpb25hbFtpbnRdID0gLTEsCiAgICAgICAgc2FtcGxlX3JhdGU6IGludCA9IDE2MDAwLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc6IGJvb2wgPSBGYWxzZSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dDogT3B0aW9uYWxbU2VxdWVuY2VEYXRhXSA9IE5vbmUsCiAgICAgICAgc3JjX3RleHQ6IE9wdGlvbmFsW1N0cmluZ0xpa2VdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbTGlzdFtTdHJpbmdMaWtlXSwgT3B0aW9uYWxbQmF0Y2hlZFNwZWVjaE91dHB1dF1dOgogICAgICAgICIiIgogICAgICAgIFRoZSBtYWluIG1ldGhvZCB1c2VkIHRvIHBlcmZvcm0gaW5mZXJlbmNlIG9uIGFsbCB0YXNrcy4KCiAgICAgICAgOnBhcmFtIGlucHV0OgogICAgICAgICAgICBFaXRoZXIgdGV4dCBvciBwYXRoIHRvIGF1ZGlvIG9yIGF1ZGlvIFRlbnNvci4KICAgICAgICA6cGFyYW0gdGFza19zdHI6CiAgICAgICAgICAgIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHRhc2suCiAgICAgICAgICAgIFZhbGlkIGNob2ljZXMgYXJlICJTMlNUIiwgIlMyVFQiLCAiVDJTVCIsICJUMlRUIiwgIkFTUiIKICAgICAgICA6cGFyYW0gdGd0X2xhbmc6CiAgICAgICAgICAgIFRhcmdldCBsYW5ndWFnZSB0byBkZWNvZGUgaW50by4KICAgICAgICA6cGFyYW0gc3JjX2xhbmc6CiAgICAgICAgICAgIFNvdXJjZSBsYW5ndWFnZSBvZiBpbnB1dCwgb25seSByZXF1aXJlZCBmb3IgVDJTVCwgVDJUVCB0YXNrcy4KICAgICAgICA6cGFyYW0gdGV4dF9nZW5lcmF0aW9uX29wdHM6CiAgICAgICAgICAgIFRleHQgZ2VuZXJhdGlvbiBoeXBlcnBhcmFtZXRlcnMgZm9yIGluY3JlbWVudGFsIGRlY29kaW5nLgogICAgICAgIDpwYXJhbSB1bml0X2dlbmVyYXRpb25fb3B0czoKICAgICAgICAgICAgVW5pdCBnZW5lcmF0aW9uIGh5cGVycGFyYW1ldGVycyBmb3IgaW5jcmVtZW50YWwgZGVjb2RpbmcuCiAgICAgICAgOnBhcmFtIHNwa3I6CiAgICAgICAgICAgIFNwZWFrZXIgaWQgZm9yIHZvY29kZXIuCiAgICAgICAgOnBhcmFtIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc6CiAgICAgICAgICAgIElmIFRydWUsIHJlbW92ZXMgY29uc2VjdXRpdmUgcmVwZWF0ZWQgbmdyYW1zCiAgICAgICAgICAgIGZyb20gdGhlIGRlY29kZWQgdW5pdCBvdXRwdXQuCiAgICAgICAgOnBhcmFtIHNyY190ZXh0OgogICAgICAgICAgICBPcHRpb25hbCBzb3VyY2UgdHJhbnNjcmlwdCAob2J0YWluZWQgYnkgQVNSIGZvciBpbnN0YW5jZSkuIFRoaXMgaXMgdXNlZCBmb3IKICAgICAgICAgICAgYXBwbHlpbmcgbWludG94IHRveGljaXR5IG1pdGlnYXRpb24uIElmIHRoaXMgaXMgbm90IHNwZWNpZnkgYW5kIGFwcGx5X21pbnRveD1UcnVlCiAgICAgICAgICAgIHRoZW4gc3JjX2xhbmcgbXVzdCBiZSBzcGVjaWZpZWQgYW5kIEFTUiB3aWxsIGJlIHJ1biBvbiB0aGUgYXVkaW8gc291cmNlLgoKICAgICAgICA6cmV0dXJuczoKICAgICAgICAgICAgLSBCYXRjaGVkIGxpc3Qgb2YgVHJhbnNsYXRlZCB0ZXh0LgogICAgICAgICAgICAtIFRyYW5zbGF0ZWQgQmF0Y2hlZFNwZWVjaE91dHB1dC4KICAgICAgICAiIiIKICAgICAgICBpbnB1dF9tb2RhbGl0eSwgb3V0cHV0X21vZGFsaXR5ID0gc2VsZi5nZXRfbW9kYWxpdGllc19mcm9tX3Rhc2tfc3RyKHRhc2tfc3RyKQoKICAgICAgICBpZiBzZWxmLmFwcGx5X21pbnRveCBhbmQgbm90IChzcmNfbGFuZyBpcyBub3QgTm9uZSBvciBzcmNfdGV4dCBpcyBub3QgTm9uZSk6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICAiYHNyY19sYW5nYCBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGBhcHBseV9taW50b3hgIGlzIGBUcnVlYCBvciB5b3UgbmVlZCB0byBzcGVjaWZ5IHNyY190ZXh0LiIKICAgICAgICAgICAgKQoKICAgICAgICBpZiBpc2luc3RhbmNlKGlucHV0LCBkaWN0KToKICAgICAgICAgICAgc3JjID0gY2FzdChTZXF1ZW5jZURhdGEsIGlucHV0KQogICAgICAgIGVsaWYgaW5wdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgICAgICBhdWRpbyA9IGlucHV0CiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoYXVkaW8sIHN0cik6CiAgICAgICAgICAgICAgICB3aXRoIFBhdGgoYXVkaW8pLm9wZW4oInJiIikgYXMgZmI6CiAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSBNZW1vcnlCbG9jayhmYi5yZWFkKCkpCiAgICAgICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gc2VsZi5kZWNvZGVfYXVkaW8oYmxvY2spCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhc3NlcnQgKAogICAgICAgICAgICAgICAgICAgIGF1ZGlvLmRpbSgpIDw9IDIKICAgICAgICAgICAgICAgICksICJUaGUgYXVkaW8gdGVuc29yIGNhbid0IGJlIG1vcmUgdGhhbiAyIGRpbWVuc2lvbnMuIgogICAgICAgICAgICAgICAgaWYgYXVkaW8uZGltKCkgPT0gMToKICAgICAgICAgICAgICAgICAgICBhdWRpbyA9IGF1ZGlvLnVuc3F1ZWV6ZSgxKQogICAgICAgICAgICAgICAgZWxpZiBhdWRpby5kaW0oKSA9PSAyIGFuZCBhdWRpby5zaXplKDApIDwgYXVkaW8uc2l6ZSgxKToKICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybmluZygKICAgICAgICAgICAgICAgICAgICAgICAgIlRyYW5zcG9zaW5nIGF1ZGlvIHRlbnNvciBmcm9tIChic3osIHNlcV9sZW4pIC0+IChzZXFfbGVuLCBic3opLiIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgYXVkaW8gPSBhdWRpby50cmFuc3Bvc2UoMCwgMSkKCiAgICAgICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gewogICAgICAgICAgICAgICAgICAgICJ3YXZlZm9ybSI6IGF1ZGlvLAogICAgICAgICAgICAgICAgICAgICJzYW1wbGVfcmF0ZSI6IHNhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAtMSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgc3JjID0gc2VsZi5jb2xsYXRlKHNlbGYuY29udmVydF90b19mYmFuayhkZWNvZGVkX2F1ZGlvKSlbImZiYW5rIl0KICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBzcmNfbGFuZyBpcyBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigic3JjX2xhbmcgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIFQyU1QsIFQyVFQgdGFza3MuIikKCiAgICAgICAgICAgIHRleHQgPSBpbnB1dAogICAgICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZSh0ZXh0LCBzdHIpCgogICAgICAgICAgICBzZWxmLnRva2VuX2VuY29kZXIgPSBzZWxmLnRleHRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKAogICAgICAgICAgICAgICAgdGFzaz0idHJhbnNsYXRpb24iLCBsYW5nPXNyY19sYW5nLCBtb2RlPSJzb3VyY2UiLCBkZXZpY2U9c2VsZi5kZXZpY2UKICAgICAgICAgICAgKQogICAgICAgICAgICBzcmMgPSBzZWxmLmNvbGxhdGUoc2VsZi50b2tlbl9lbmNvZGVyKHRleHQpKQoKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShzZWxmLm1vZGVsLCBVbml0WU1vZGVsKQoKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrKHNyYykKCiAgICAgICAgaWYgdGV4dF9nZW5lcmF0aW9uX29wdHMgaXMgTm9uZToKICAgICAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICAgICAgICAgICAgICBiZWFtX3NpemU9NSwgc29mdF9tYXhfc2VxX2xlbj0oMSwgMjAwKQogICAgICAgICAgICApCiAgICAgICAgaWYgdW5pdF9nZW5lcmF0aW9uX29wdHMgaXMgTm9uZToKICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICAgICAgICAgICAgICBiZWFtX3NpemU9NSwgc29mdF9tYXhfc2VxX2xlbj0oMjUsIDUwKQogICAgICAgICAgICApCgogICAgICAgIHRleHRzLCB1bml0cyA9IHNlbGYuZ2V0X3ByZWRpY3Rpb24oCiAgICAgICAgICAgIHNlbGYubW9kZWwsCiAgICAgICAgICAgIHNlbGYudGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgIHNlbGYudW5pdF90b2tlbml6ZXIsCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgaW5wdXRfbW9kYWxpdHksCiAgICAgICAgICAgIG91dHB1dF9tb2RhbGl0eSwKICAgICAgICAgICAgdGd0X2xhbmcsCiAgICAgICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICB1bml0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZz11bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgICAgICBkdXJhdGlvbl9mYWN0b3I9ZHVyYXRpb25fZmFjdG9yLAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9cHJvc29keV9lbmNvZGVyX2lucHV0LAogICAgICAgICkKCiAgICAgICAgaWYgc2VsZi5hcHBseV9taW50b3ggYW5kIHRhc2tfc3RyICE9IFRhc2suQVNSLm5hbWU6CiAgICAgICAgICAgIGlmIGlucHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICAgICAgICAgIGlmIHNyY190ZXh0IGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIHNyY190ZXh0cyA9IFtzcmNfdGV4dF0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgc3JjX3RleHRzLCBfLCA9IHNlbGYucHJlZGljdCgKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ9aW5wdXQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tfc3RyPVRhc2suQVNSLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRndF9sYW5nPXRndF9sYW5nLAogICAgICAgICAgICAgICAgICAgICAgICBzcmNfbGFuZz1zcmNfbGFuZywKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHM9dGV4dF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICAgICAgICAgICAgICBzcGtyPXNwa3IsCiAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgICAgICAgICB1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPXVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmcsCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UoaW5wdXQsIHN0cikKCiAgICAgICAgICAgICAgICBzcmNfdGV4dHMgPSBbaW5wdXRdCgogICAgICAgICAgICBhc3NlcnQgc3JjX2xhbmcgaXMgbm90IE5vbmUKICAgICAgICAgICAgYXNzZXJ0IHNlbGYudW5pdF90b2tlbml6ZXIgaXMgbm90IE5vbmUKICAgICAgICAgICAgYXNzZXJ0IHNlbGYuYmFkX3dvcmRfY2hlY2tlciBpcyBub3QgTm9uZQoKICAgICAgICAgICAgdGV4dHMsIHVuaXRzID0gbWludG94X3BpcGVsaW5lKAogICAgICAgICAgICAgICAgbW9kZWw9c2VsZi5tb2RlbCwKICAgICAgICAgICAgICAgIHRleHRfdG9rZW5pemVyPXNlbGYudGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgICAgICB1bml0X3Rva2VuaXplcj1zZWxmLnVuaXRfdG9rZW5pemVyLAogICAgICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICAgICAgc3JjX2xhbmc9c3JjX2xhbmcsCiAgICAgICAgICAgICAgICB0Z3RfbGFuZz10Z3RfbGFuZywKICAgICAgICAgICAgICAgIG1vZGVsX2lucHV0PXNyYywKICAgICAgICAgICAgICAgIGlucHV0X21vZGFsaXR5PWlucHV0X21vZGFsaXR5LAogICAgICAgICAgICAgICAgb3V0cHV0X21vZGFsaXR5PW91dHB1dF9tb2RhbGl0eSwKICAgICAgICAgICAgICAgIHNyY190ZXh0cz1zcmNfdGV4dHMsCiAgICAgICAgICAgICAgICBvcmlnaW5hbF90ZXh0cz10ZXh0cywKICAgICAgICAgICAgICAgIG9yaWdpbmFsX3VuaXRzPXVuaXRzLAogICAgICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZz11bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgICAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHM9dGV4dF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgICAgICAgICB1bml0X2dlbmVyYXRpb25fb3B0cz11bml0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICAgICAgICAgIGJhZF93b3JkX2NoZWNrZXI9c2VsZi5iYWRfd29yZF9jaGVja2VyLAogICAgICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yPWR1cmF0aW9uX2ZhY3RvciwKICAgICAgICAgICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dD1wcm9zb2R5X2VuY29kZXJfaW5wdXQsCiAgICAgICAgICAgICkKCiAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlRFWFQ6CiAgICAgICAgICAgIHJldHVybiB0ZXh0cywgTm9uZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFzc2VydCB1bml0cyBpcyBub3QgTm9uZQoKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLm1vZGVsLnQydV9tb2RlbCwgVW5pdFlUMlVNb2RlbCk6CiAgICAgICAgICAgICAgICAjIFJlbW92ZSB0aGUgbGFuZyB0b2tlbiBmb3IgQVIgVW5pdFkgc2luY2UgdGhlIHZvY29kZXIgZG9lc24ndCBuZWVkIGl0CiAgICAgICAgICAgICAgICAjIGluIHRoZSB1bml0IHNlcXVlbmNlLiB0Z3RfbGFuZyBpcyBmZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHZvY29kZXIuCiAgICAgICAgICAgICAgICB1bml0cyA9IHVuaXRzWzosIDE6XQogICAgICAgICAgICAgICAgZHVyYXRpb25fcHJlZGljdGlvbiA9IFRydWUKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICMgVm9jb2RlciBkdXJhdGlvbiBwcmVkaWN0aW9ucyBub3QgcmVxdWlyZWQgc2luY2UgdGhlIE5BUgogICAgICAgICAgICAgICAgIyBUMlUgbW9kZWwgYWxyZWFkeSBwcmVkaWN0cyBkdXJhdGlvbiBpbiB0aGUgdW5pdHMuCiAgICAgICAgICAgICAgICBkdXJhdGlvbl9wcmVkaWN0aW9uID0gRmFsc2UKCiAgICAgICAgICAgIGF1ZGlvX3dhdnMgPSBbXQogICAgICAgICAgICBzcGVlY2hfdW5pdHMgPSBbXQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4odW5pdHMpKToKICAgICAgICAgICAgICAgIGFzc2VydCBzZWxmLm1vZGVsLnQydV9tb2RlbCBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgdW5pdF9wYWRkaW5nX21hc2sgPSAoCiAgICAgICAgICAgICAgICAgICAgdW5pdHNbaV0gIT0gc2VsZi5tb2RlbC50MnVfbW9kZWwudGFyZ2V0X3ZvY2FiX2luZm8ucGFkX2lkeAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdSA9IHVuaXRzW2ldW3VuaXRfcGFkZGluZ19tYXNrXQogICAgICAgICAgICAgICAgc3BlZWNoX3VuaXRzLmFwcGVuZCh1LnRvbGlzdCgpKQoKICAgICAgICAgICAgaWYgc2VsZi52b2NvZGVyIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgdHJhbnNsYXRlZF9hdWRpb193YXYgPSBzZWxmLnZvY29kZXIoCiAgICAgICAgICAgICAgICAgICAgdW5pdHMsIHRndF9sYW5nLCBzcGtyLCBkdXJfcHJlZGljdGlvbj1kdXJhdGlvbl9wcmVkaWN0aW9uCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4odW5pdHMpKToKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nX3JlbW92ZWRfYXVkaW9fd2F2ID0gdHJhbnNsYXRlZF9hdWRpb193YXZbCiAgICAgICAgICAgICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgICAgICAgICAgIDosCiAgICAgICAgICAgICAgICAgICAgICAgIDogaW50KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlZF9hdWRpb193YXYuc2l6ZSgtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGVuKHNwZWVjaF91bml0c1tpXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gbGVuKHVuaXRzW2ldKQogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIF0udW5zcXVlZXplKDApCiAgICAgICAgICAgICAgICAgICAgYXVkaW9fd2F2cy5hcHBlbmQocGFkZGluZ19yZW1vdmVkX2F1ZGlvX3dhdikKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIHRleHRzLAogICAgICAgICAgICAgICAgQmF0Y2hlZFNwZWVjaE91dHB1dCgKICAgICAgICAgICAgICAgICAgICB1bml0cz1zcGVlY2hfdW5pdHMsCiAgICAgICAgICAgICAgICAgICAgYXVkaW9fd2F2cz1hdWRpb193YXZzLAogICAgICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKQo='),
    ('seamless/src/seamless_communication/cli/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/src/seamless_communication/cli/expressivity/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUu'),
    ('seamless/src/seamless_communication/cli/expressivity/data/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUu'),
    ('seamless/src/seamless_communication/cli/expressivity/data/prepare_mexpresso.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCiIiIgpTY3JpcHQgdG8gY3JlYXRlIG1FeHByZXNzbyBFbmctWFhYIFMyVCBkYXRhc2V0LgoiIiIKCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgbXVsdGlwcm9jZXNzaW5nIGFzIG1wCmltcG9ydCBvcwppbXBvcnQgcGFuZGFzIGFzIHBkCmltcG9ydCBwYXRobGliCmltcG9ydCByZQppbXBvcnQgc2VhbWxlc3NfY29tbXVuaWNhdGlvbiAgIyBuZWVkIHRoaXMgdG8gbG9hZCBkYXRhc2V0IGNhcmRzCmltcG9ydCB0b3JjaGF1ZGlvCgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0cWRtIGltcG9ydCB0cWRtCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcgoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgbXVsdGlwcm9jZXNzX21hcCgKICAgIGFfbGlzdDogbGlzdCwKICAgIGZ1bmM6IGNhbGxhYmxlLAogICAgbl93b3JrZXJzOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgIGNodW5rc2l6ZTogaW50ID0gMSwKICAgIGRlc2M9Tm9uZSwKKToKICAgIGlmIG5fd29ya2VycyBpcyBOb25lOgogICAgICAgIG5fd29ya2VycyA9IG1wLmNwdV9jb3VudCgpCiAgICBuX3dvcmtlcnMgPSBtaW4obl93b3JrZXJzLCBtcC5jcHVfY291bnQoKSkKICAgIHdpdGggbXAuZ2V0X2NvbnRleHQoInNwYXduIikuUG9vbChwcm9jZXNzZXM9bl93b3JrZXJzKSBhcyBwb29sOgogICAgICAgIHJlc3VsdHMgPSBsaXN0KAogICAgICAgICAgICB0cWRtKAogICAgICAgICAgICAgICAgcG9vbC5pbWFwKGZ1bmMsIGFfbGlzdCwgY2h1bmtzaXplPWNodW5rc2l6ZSksCiAgICAgICAgICAgICAgICB0b3RhbD1sZW4oYV9saXN0KSwKICAgICAgICAgICAgICAgIGRlc2M9ZGVzYywKICAgICAgICAgICAgKQogICAgICAgICkKICAgIHJldHVybiByZXN1bHRzCgoKZGVmIGNvbnZlcnRfdG9fMTZraHpfd2F2KGNvbmZpZzogVHVwbGVbc3RyLCBzdHJdKSAtPiBzdHI6CiAgICBpbnB1dF9hdWRpbywgb3V0cHV0X2F1ZGlvID0gY29uZmlnCiAgICBpbnB1dF93YXYsIGlucHV0X3NyID0gdG9yY2hhdWRpby5sb2FkKGlucHV0X2F1ZGlvKQogICAgZWZmZWN0cyA9IFsKICAgICAgICBbInJhdGUiLCAiMTYwMDAiXSwKICAgICAgICBbImNoYW5uZWxzIiwgIjEiXSwKICAgIF0KICAgIHdhdiwgXyA9IHRvcmNoYXVkaW8uc294X2VmZmVjdHMuYXBwbHlfZWZmZWN0c190ZW5zb3IoCiAgICAgICAgaW5wdXRfd2F2LCBpbnB1dF9zciwgZWZmZWN0cz1lZmZlY3RzCiAgICApCiAgICBvcy5tYWtlZGlycyhQYXRoKG91dHB1dF9hdWRpbykucGFyZW50LCBleGlzdF9vaz1UcnVlKQogICAgdG9yY2hhdWRpby5zYXZlKAogICAgICAgIG91dHB1dF9hdWRpbywgd2F2LCBzYW1wbGVfcmF0ZT0xNjAwMCwgZW5jb2Rpbmc9IlBDTV9TIiwgYml0c19wZXJfc2FtcGxlPTE2CiAgICApCiAgICByZXR1cm4gb3V0cHV0X2F1ZGlvCgoKZGVmIGJ1aWxkX2VuX21hbmlmZXN0X2Zyb21fb3NzKG9zc19yb290OiBQYXRoLCBvdXRwdXRfZm9sZGVyOiBQYXRoKSAtPiBwZC5EYXRhRnJhbWU6CiAgICAjIFdlIG9ubHkgb3BlbiBzb3VyY2UgdGhlIGZvbGxvd2luZyBzdHlsZXMKICAgIFdISVRFTElTVF9TVFlMRSA9IFsKICAgICAgICAiZGVmYXVsdCIsCiAgICAgICAgImRlZmF1bHRfZW1waGFzaXMiLAogICAgICAgICJkZWZhdWx0X2Vzc2VudGlhbHMiLAogICAgICAgICJjb25mdXNlZCIsCiAgICAgICAgImhhcHB5IiwKICAgICAgICAic2FkIiwKICAgICAgICAiZW51bmNpYXRlZCIsCiAgICAgICAgIndoaXNwZXIiLAogICAgICAgICJsYXVnaGluZyIsCiAgICBdCgogICAgcmVzdWx0cyA9IFtdCiAgICB3aXRoIG9wZW4ob3NzX3Jvb3QgLyAicmVhZF90cmFuc2NyaXB0aW9ucy50eHQiKSBhcyBmaW46CiAgICAgICAgZm9yIGxpbmUgaW4gZmluOgogICAgICAgICAgICB1aWQsIHRleHQgPSBsaW5lLnN0cmlwKCkuc3BsaXQoIlx0IikKICAgICAgICAgICAgc3BzID0gdWlkLnNwbGl0KCJfIikKICAgICAgICAgICAgb3NzX3NwZWFrZXIgPSBzcHNbMF0KICAgICAgICAgICAgc3R5bGUgPSAiXyIuam9pbihzcHNbMTotMV0pCiAgICAgICAgICAgIGJhc2Vfc3R5bGUgPSBzdHlsZS5zcGxpdCgiXyIpWzBdCiAgICAgICAgICAgIGlmIHN0eWxlIG5vdCBpbiBXSElURUxJU1RfU1RZTEU6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAjIE5vcm1hbGl6ZSB0aGUgdGV4dCB0byByZW1vdmUgPGxhdWdoPiBhbmQgPGJyZWF0aD4gZXRjCiAgICAgICAgICAgIHRleHQgPSByZS5zdWIociIgPC4qPz4iLCAiIiwgdGV4dCkKICAgICAgICAgICAgdGV4dCA9IHJlLnN1YihyIjwuKj8+ICIsICIiLCB0ZXh0KQogICAgICAgICAgICByZXN1bHRzLmFwcGVuZCgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiaWQiOiB1aWQsCiAgICAgICAgICAgICAgICAgICAgInNwZWFrZXIiOiBvc3Nfc3BlYWtlciwKICAgICAgICAgICAgICAgICAgICAidGV4dCI6IHRleHQsCiAgICAgICAgICAgICAgICAgICAgIm9yaWdfYXVkaW8iOiAoCiAgICAgICAgICAgICAgICAgICAgICAgIG9zc19yb290CiAgICAgICAgICAgICAgICAgICAgICAgIC8gImF1ZGlvXzQ4a2h6IgogICAgICAgICAgICAgICAgICAgICAgICAvICJyZWFkIgogICAgICAgICAgICAgICAgICAgICAgICAvIG9zc19zcGVha2VyCiAgICAgICAgICAgICAgICAgICAgICAgIC8gYmFzZV9zdHlsZQogICAgICAgICAgICAgICAgICAgICAgICAvICJiYXNlIgogICAgICAgICAgICAgICAgICAgICAgICAvIGYie3VpZH0ud2F2IgogICAgICAgICAgICAgICAgICAgICkuYXNfcG9zaXgoKSwKICAgICAgICAgICAgICAgICAgICAibGFiZWwiOiBzdHlsZSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQoKICAgIGRmID0gcGQuRGF0YUZyYW1lKHJlc3VsdHMpCgogICAgIyBTYW5pdHkgY2hlY2tzCiAgICAjIENoZWNrIDE6IGF1ZGlvIGZpbGVzIGV4aXN0cwogICAgb3JpZ19hdWRpb19leGlzdHMgPSBkZlsib3JpZ19hdWRpbyJdLmFwcGx5KGxhbWJkYSB4OiBvcy5wYXRoLmlzZmlsZSh4KSkKICAgIGFzc2VydCBhbGwob3JpZ19hdWRpb19leGlzdHMpLCBkZlt+b3JpZ19hdWRpb19leGlzdHNdLmlsb2NbMF1bIm9yaWdfYXVkaW8iXQoKICAgICMgQ29udmVydCA0OGtIeiAtPiAxNmtIegogICAgdGFyZ2V0X2F1ZGlvX3Jvb3QgPSBvdXRwdXRfZm9sZGVyIC8gImF1ZGlvXzE2a2h6X3dhdiIKICAgIG9zLm1ha2VkaXJzKHRhcmdldF9hdWRpb19yb290LCBleGlzdF9vaz1UcnVlKQogICAgaW5wdXRfb3V0cHV0X2F1ZGlvcyA9IFsKICAgICAgICAoCiAgICAgICAgICAgIHJvd1sib3JpZ19hdWRpbyJdLAogICAgICAgICAgICAodGFyZ2V0X2F1ZGlvX3Jvb3QgLyByb3dbInNwZWFrZXIiXSAvIChyb3dbImlkIl0gKyAiLndhdiIpKS5hc19wb3NpeCgpLAogICAgICAgICkKICAgICAgICBmb3IgaSwgcm93IGluIGRmLml0ZXJyb3dzKCkKICAgIF0KICAgIGxvZ2dlci5pbmZvKCJjb252ZXJ0aW5nIGZyb20gNDhraHogdG8gbW9ubyAxNmtoeiIpCiAgICBtdWx0aXByb2Nlc3NfbWFwKGlucHV0X291dHB1dF9hdWRpb3MsIGNvbnZlcnRfdG9fMTZraHpfd2F2LCBjaHVua3NpemU9NTApCiAgICBkZi5sb2NbOiwgImF1ZGlvIl0gPSBbb3V0cHV0X2F1ZGlvIGZvciBfLCBvdXRwdXRfYXVkaW8gaW4gaW5wdXRfb3V0cHV0X2F1ZGlvc10KICAgIGF1ZGlvX2V4aXN0cyA9IGRmWyJhdWRpbyJdLmFwcGx5KGxhbWJkYSB4OiBvcy5wYXRoLmlzZmlsZSh4KSkKICAgIGFzc2VydCBhbGwoYXVkaW9fZXhpc3RzKSwgZGZbfmF1ZGlvX2V4aXN0c10uaWxvY1swXVsiYXVkaW8iXQogICAgb3V0cHV0X21hbmlmZXN0ID0gZiJ7b3V0cHV0X2ZvbGRlcn0vZW5fbWFuaWZlc3QudHN2IgogICAgZGYudG9fY3N2KG91dHB1dF9tYW5pZmVzdCwgc2VwPSJcdCIsIHF1b3Rpbmc9MywgaW5kZXg9Tm9uZSkKICAgIGxvZ2dlci5pbmZvKGYiT3V0cHV0IHtsZW4oZGYpfSByb3dzIHRvIHtvdXRwdXRfbWFuaWZlc3R9IikKICAgIHJldHVybiBkZgoKCmRlZiBtYWluKCkgLT4gTm9uZToKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgICAgIGRlc2NyaXB0aW9uPSJQcmVwYXJlIG1FeHByZXNzbyBFbmctWFhYIFMyVCBtYW5pZmVzdCIKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIm91dHB1dF9mb2xkZXIiLAogICAgICAgIHR5cGU9bGFtYmRhIHA6IHBhdGhsaWIuUGF0aChwKS5yZXNvbHZlKCksICAjIGFsd2F5cyBjb252ZXJ0IHRvIGFic29sdXRlIHBhdGgKICAgICAgICBoZWxwPSJPdXRwdXQgZm9sZGVyIGZvciB0aGUgZG93bnNhbXBsZWQgRXhwcmVzc28gRW4gYXVkaW9zIGFuZCBjb21iaW5lZCBtYW5pZmVzdC4gIgogICAgICAgICJUaGUgb3V0cHV0IGZvbGRlciBwYXRoIHdpbGwgYmUgZXhwYW5kZWQgdG8gYWJzb2x1dGUgcGF0aC4iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1leGlzdGluZy1leHByZXNzby1yb290IiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJFeGlzdGluZyByb290IGZvbGRlciBpZiB5b3UgaGF2ZSBkb3dubG9hZGVkIEV4cHJlc3NvIGRhdGFzZXQuICIKICAgICAgICAiVGhlIGZvbGRlciBwYXRoIHNob3VsZCBpbmNsdWRlICdyZWFkX3RyYW5zY3JpcHRpb25zLnR4dCcgYW5kICdhdWRpb180OGtoeiciLAogICAgKQogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKCiAgICBtZXhwcmVzc29fY2FyZCA9IGFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQoIm1leHByZXNzb190ZXh0IikKICAgIG1leHByZXNzb19yb290X3BhdGggPSBkb3dubG9hZF9tYW5hZ2VyLmRvd25sb2FkX2RhdGFzZXQoCiAgICAgICAgbWV4cHJlc3NvX2NhcmQuZmllbGQoInVyaSIpLmFzX3VyaSgpLAogICAgICAgICJtRXhwcmVzc29fdGV4dCIsCiAgICApCiAgICBsb2dnZXIuaW5mbyhmIlRoZSBtRXhwcmVzc28gZGF0YXNldCBpcyBkb3dubG9hZGVkIHRvIHttZXhwcmVzc29fcm9vdF9wYXRofSIpCiAgICBtZXhwcmVzc29fcGF0aCA9IG1leHByZXNzb19yb290X3BhdGggLyAibWV4cHJlc3NvX3RleHQiCgogICAgIyBkb3duc2FtcGxlIGFsbCBFbmdsaXNoIHNwZWVjaAogICAgaWYgYXJncy5leGlzdGluZ19leHByZXNzb19yb290IGlzIG5vdCBOb25lOgogICAgICAgIGxvZ2dlci5pbmZvKAogICAgICAgICAgICBmIlJlLXVzZSB1c2VyIG1hbnVhbGx5IGRvd25sb2FkZWQgRXhwcmVzc28gZnJvbSB7YXJncy5leGlzdGluZ19leHByZXNzb19yb290fSIKICAgICAgICApCiAgICAgICAgZW5fZXhwcmVzc29fcGF0aCA9IFBhdGgoYXJncy5leGlzdGluZ19leHByZXNzb19yb290KQogICAgZWxzZToKICAgICAgICBlbl9leHByZXNzb19jYXJkID0gYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZCgiZXhwcmVzc28iKQogICAgICAgIGVuX2V4cHJlc3NvX3Jvb3RfcGF0aCA9IGRvd25sb2FkX21hbmFnZXIuZG93bmxvYWRfZGF0YXNldCgKICAgICAgICAgICAgZW5fZXhwcmVzc29fY2FyZC5maWVsZCgidXJpIikuYXNfdXJpKCksCiAgICAgICAgICAgICJFeHByZXNzbyIsCiAgICAgICAgKQogICAgICAgIGxvZ2dlci5pbmZvKAogICAgICAgICAgICBmIlRoZSBFbmdsaXNoIEV4cHJlc3NvIGRhdGFzZXQgaXMgZG93bmxvYWRlZCB0byB7ZW5fZXhwcmVzc29fcm9vdF9wYXRofSIKICAgICAgICApCiAgICAgICAgZW5fZXhwcmVzc29fcGF0aCA9IGVuX2V4cHJlc3NvX3Jvb3RfcGF0aCAvICJleHByZXNzbyIKICAgIGVuX2V4cHJlc3NvX2ZvbGRlciA9IGFyZ3Mub3V0cHV0X2ZvbGRlciAvICJFbl9FeHByZXNzbyIKICAgIGVuX2V4cHJlc3NvX2RmID0gYnVpbGRfZW5fbWFuaWZlc3RfZnJvbV9vc3MoCiAgICAgICAgUGF0aChlbl9leHByZXNzb19wYXRoKSwgZW5fZXhwcmVzc29fZm9sZGVyCiAgICApCgogICAgZm9yIHN1YnNldCBpbiBbImRldiIsICJ0ZXN0Il06CiAgICAgICAgZm9yIGxhbmcgaW4gWyJzcGEiLCAiZnJhIiwgIml0YSIsICJjbW4iLCAiZGV1Il06CiAgICAgICAgICAgIGRmID0gcGQucmVhZF9jc3YoCiAgICAgICAgICAgICAgICBmInttZXhwcmVzc29fcGF0aH0ve3N1YnNldH1fbWV4cHJlc3NvX3tsYW5nfS50c3YiLCBzZXA9Ilx0IiwgcXVvdGluZz0zCiAgICAgICAgICAgICkucmVuYW1lKGNvbHVtbnM9eyJ0ZXh0IjogInRndF90ZXh0In0pCiAgICAgICAgICAgIG51bV9yZWxlYXNlZF9pdGVtcyA9IGxlbihkZikKICAgICAgICAgICAgZGYgPSBkZi5tZXJnZSgKICAgICAgICAgICAgICAgIGVuX2V4cHJlc3NvX2RmLnJlbmFtZSgKICAgICAgICAgICAgICAgICAgICBjb2x1bW5zPXsKICAgICAgICAgICAgICAgICAgICAgICAgInRleHQiOiAic3JjX3RleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAiYXVkaW8iOiAic3JjX2F1ZGlvIiwKICAgICAgICAgICAgICAgICAgICAgICAgInNwZWFrZXIiOiAic3JjX3NwZWFrZXIiLAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBvbj0iaWQiLAogICAgICAgICAgICAgICAgaG93PSJpbm5lciIsCiAgICAgICAgICAgICkKICAgICAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgICAgIGxlbihkZikgPT0gbnVtX3JlbGVhc2VkX2l0ZW1zCiAgICAgICAgICAgICksIGYiTWlzc2luZyBpdGVtcyBmcm9tIGRvd25sb2FkZWQgRW4gRXhwcmVzc28iCiAgICAgICAgICAgIGRmWyJzcmNfbGFuZyJdID0gImVuZyIKICAgICAgICAgICAgZGZbInRndF9sYW5nIl0gPSBsYW5nCiAgICAgICAgICAgICMgQ2hlY2sgYWxsIHRoZSBhdWRpbyBmaWxlcyBleGlzdAogICAgICAgICAgICBhc3NlcnQgYWxsKG9zLnBhdGguaXNmaWxlKGF1ZGlvKSBmb3IgYXVkaW8gaW4gZGZbInNyY19hdWRpbyJdLnRvbGlzdCgpKQogICAgICAgICAgICBvdXRwdXRfbWFuaWZlc3RfcGF0aCA9IGFyZ3Mub3V0cHV0X2ZvbGRlciAvIGYie3N1YnNldH1fbWV4cHJlc3NvX2VuZ197bGFuZ30udHN2IgogICAgICAgICAgICBkZlsKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICAiaWQiLAogICAgICAgICAgICAgICAgICAgICJzcmNfYXVkaW8iLCAgIyBjb252ZXJ0ZWQgMTZrSHogYXVkaW8gcGF0aAogICAgICAgICAgICAgICAgICAgICJzcmNfc3BlYWtlciIsICAjIHNvdXJjZSBzcGVha2VyCiAgICAgICAgICAgICAgICAgICAgInNyY190ZXh0IiwgICMgc291cmNlIHRleHQKICAgICAgICAgICAgICAgICAgICAic3JjX2xhbmciLCAgIyBzb3VyY2UgbGFuZ3VhZ2UgaWQKICAgICAgICAgICAgICAgICAgICAidGd0X3RleHQiLCAgIyB0YXJnZXQgdGV4dAogICAgICAgICAgICAgICAgICAgICJ0Z3RfbGFuZyIsICAjIHRhcmdldCBsYW5ndWFnZSBpZAogICAgICAgICAgICAgICAgICAgICJsYWJlbCIsICAjIHN0eWxlIG9mIHV0dGVyYW5jZQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICBdLnRvX2NzdihvdXRwdXRfbWFuaWZlc3RfcGF0aCwgc2VwPSJcdCIsIHF1b3Rpbmc9MywgaW5kZXg9Tm9uZSkKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJPdXRwdXQge2xlbihkZil9IHJvd3MgdG8ge291dHB1dF9tYW5pZmVzdF9wYXRofSIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo='),
    ('seamless/src/seamless_communication/cli/expressivity/evaluate/__init__.py', ''),
    ('seamless/src/seamless_communication/cli/expressivity/evaluate/post_process_pauserate.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBwYW5kYXMgYXMgcGQKaW1wb3J0IGNzdgppbXBvcnQgc2NpcHkKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QKCgpkZWYgZ2V0X3BhdXNlKHBhdXNlX2RhdGFfdHN2OiBzdHIpIC0+IERpY3Rbc3RyLCBmbG9hdF06CiAgICB1dHRfcGF1c2VfYWxpZ25fZGF0YSA9IHBkLnJlYWRfY3N2KAogICAgICAgIHBhdXNlX2RhdGFfdHN2LAogICAgICAgIHNlcD0iXHQiLAogICAgICAgIHF1b3Rpbmc9Y3N2LlFVT1RFX01JTklNQUwsCiAgICApCiAgICBtZXRyaWNzID0ge30KICAgIHBhdXNlX2R1cmF0aW9uX3dlaWdodCA9ICgKICAgICAgICB1dHRfcGF1c2VfYWxpZ25fZGF0YS50b3RhbF93ZWlnaHQgLyB1dHRfcGF1c2VfYWxpZ25fZGF0YS50b3RhbF93ZWlnaHQuc3VtKCkKICAgICkKICAgIGZvciBzY29yZV9uYW1lIGluIFsKICAgICAgICAid21lYW5fZHVyYXRpb25fc2NvcmUiLAogICAgICAgICJ3bWVhbl9hbGlnbm1lbnRfc2NvcmUiLAogICAgICAgICJ3bWVhbl9qb2ludF9zY29yZSIsCiAgICBdOgogICAgICAgIG1ldHJpY3Nbc2NvcmVfbmFtZV0gPSAoCiAgICAgICAgICAgIHV0dF9wYXVzZV9hbGlnbl9kYXRhW2Yie3Njb3JlX25hbWV9Il0gKiBwYXVzZV9kdXJhdGlvbl93ZWlnaHQKICAgICAgICApLnN1bSgpCiAgICByZXR1cm4gbWV0cmljcwoKCmRlZiBnZXRfcmF0ZSh0YXJnZXRfc3BlZWNoX3Rzdjogc3RyLCBzb3VyY2Vfc3BlZWNoX3Rzdjogc3RyKSAtPiBmbG9hdDoKICAgIHNwZWVjaF91bml0ID0gInN5bGxhYmxlIgoKICAgIHRhcmdldF9zcGVlY2hfZGYgPSBwZC5yZWFkX2NzdigKICAgICAgICB0YXJnZXRfc3BlZWNoX3Rzdiwgc2VwPSJcdCIsIHF1b3Rpbmc9Y3N2LlFVT1RFX01JTklNQUwKICAgICkuc2V0X2luZGV4KCJpZCIpCiAgICBzb3VyY2Vfc3BlZWNoX2RmID0gcGQucmVhZF9jc3YoCiAgICAgICAgc291cmNlX3NwZWVjaF90c3YsIHNlcD0iXHQiLCBxdW90aW5nPWNzdi5RVU9URV9NSU5JTUFMCiAgICApLnNldF9pbmRleCgiaWQiKQoKICAgICMgdXNpbmcgInN5bGxhYmxlIiBzcGVlY2ggdW5pdCBmb3IgcmF0ZSBjb21wdXRhdGlvbgogICAgc3JjX3NwZWVjaF9yYXRlID0gc291cmNlX3NwZWVjaF9kZltmInNwZWVjaF9yYXRlX3tzcGVlY2hfdW5pdH0iXS50b19udW1weSgpCiAgICB0Z3Rfc3BlZWNoX3JhdGUgPSB0YXJnZXRfc3BlZWNoX2RmW2Yic3BlZWNoX3JhdGVfe3NwZWVjaF91bml0fSJdLnRvX251bXB5KCkKICAgIHNyY190Z3Rfc3BlYXJtYW4gPSBzY2lweS5zdGF0cy5zcGVhcm1hbnIoc3JjX3NwZWVjaF9yYXRlLCB0Z3Rfc3BlZWNoX3JhdGUpCiAgICByZXR1cm4gc3JjX3RndF9zcGVhcm1hbi5jb3JyZWxhdGlvbiAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0K'),
    ('seamless/src/seamless_communication/cli/expressivity/evaluate/evaluate.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgY29udGV4dGxpYgppbXBvcnQgbG9nZ2luZwpmcm9tIGFyZ3BhcnNlIGltcG9ydCBOYW1lc3BhY2UKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbAoKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoYXVkaW8KZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBDb2xsYXRlciwgRGF0YVBpcGVsaW5lLCBGaWxlTWFwcGVyCmZyb20gZmFpcnNlcTIuZGF0YS5hdWRpbyBpbXBvcnQgKAogICAgQXVkaW9EZWNvZGVyLAogICAgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyLAogICAgV2F2ZWZvcm1Ub0ZiYW5rT3V0cHV0LAopCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0IGltcG9ydCBTdHJTcGxpdHRlciwgcmVhZF90ZXh0CmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgpmcm9tIHRxZG0gaW1wb3J0IHRxZG0KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXhwcmVzc2l2aXR5LnByZWRpY3QucHJldHNzZWxfZ2VuZXJhdG9yIGltcG9ydCAoCiAgICBQcmV0c3NlbEdlbmVyYXRvciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5ldmFsdWF0ZS5ldmFsdWF0ZSBpbXBvcnQgKAogICAgYWRqdXN0X291dHB1dF9mb3JfY29ycnVwdGVkX2lucHV0cywKICAgIGNvdW50X2xpbmVzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkubTR0LnByZWRpY3QgaW1wb3J0ICgKICAgIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzLAogICAgc2V0X2dlbmVyYXRpb25fb3B0cywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlIGltcG9ydCBCYXRjaGVkU3BlZWNoT3V0cHV0LCBUcmFuc2xhdG9yCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0ICgKICAgIGxvYWRfZ2Ntdm5fc3RhdHMsCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdG9yZSBpbXBvcnQgYWRkX2dhdGVkX2Fzc2V0cwoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgYnVpbGRfZGF0YV9waXBlbGluZSgKICAgIGFyZ3M6IE5hbWVzcGFjZSwKICAgIGRldmljZTogRGV2aWNlLAogICAgZHR5cGU6IERhdGFUeXBlLAogICAgZ2Ntdm5fbWVhbjogVGVuc29yLAogICAgZ2Ntdm5fc3RkOiBUZW5zb3IsCikgLT4gRGF0YVBpcGVsaW5lOgogICAgd2l0aCBvcGVuKGFyZ3MuZGF0YV9maWxlLCAiciIpIGFzIGY6CiAgICAgICAgaGVhZGVyID0gZi5yZWFkbGluZSgpLnN0cmlwKCJcbiIpLnNwbGl0KCJcdCIpCiAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgYXJncy5hdWRpb19maWVsZCBpbiBoZWFkZXIKICAgICAgICApLCBmIklucHV0IGZpbGUgZG9lcyBub3QgY29udGFpbiB7YXJncy5hdWRpb19maWVsZH0gZmllbGQiCgogICAgbl9wYXJhbGxlbCA9IDQKCiAgICBzcGxpdF90c3YgPSBTdHJTcGxpdHRlcihuYW1lcz1oZWFkZXIpCgogICAgcGlwZWxpbmVfYnVpbGRlciA9IHJlYWRfdGV4dChhcmdzLmRhdGFfZmlsZSwgcnRyaW09VHJ1ZSkuc2tpcCgxKS5tYXAoc3BsaXRfdHN2KQoKICAgIGFzc2VydCBhcmdzLmF1ZGlvX3Jvb3RfZGlyIGlzIG5vdCBOb25lCgogICAgbWFwX2ZpbGUgPSBGaWxlTWFwcGVyKHJvb3RfZGlyPWFyZ3MuYXVkaW9fcm9vdF9kaXIsIGNhY2hlZF9mZF9jb3VudD0xMCkKCiAgICBwaXBlbGluZV9idWlsZGVyLm1hcCgKICAgICAgICBtYXBfZmlsZSwgc2VsZWN0b3I9YXJncy5hdWRpb19maWVsZCwgbnVtX3BhcmFsbGVsX2NhbGxzPW5fcGFyYWxsZWwKICAgICkKCiAgICBkZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWRldmljZSkKCiAgICBjb252ZXJ0X3RvX2ZiYW5rID0gV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyKAogICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICB3YXZlZm9ybV9zY2FsZT0yKioxNSwKICAgICAgICBjaGFubmVsX2xhc3Q9VHJ1ZSwKICAgICAgICBzdGFuZGFyZGl6ZT1GYWxzZSwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIGRlZiBub3JtYWxpemVfZmJhbmsoZGF0YTogV2F2ZWZvcm1Ub0ZiYW5rT3V0cHV0KSAtPiBXYXZlZm9ybVRvRmJhbmtPdXRwdXQ6CiAgICAgICAgZmJhbmsgPSBkYXRhWyJmYmFuayJdCiAgICAgICAgc3RkLCBtZWFuID0gdG9yY2guc3RkX21lYW4oZmJhbmssIGRpbT0wKQogICAgICAgIGRhdGFbImZiYW5rIl0gPSBmYmFuay5zdWJ0cmFjdChtZWFuKS5kaXZpZGUoc3RkKQogICAgICAgIGRhdGFbImdjbXZuX2ZiYW5rIl0gPSBmYmFuay5zdWJ0cmFjdChnY212bl9tZWFuKS5kaXZpZGUoZ2Ntdm5fc3RkKQogICAgICAgIHJldHVybiBkYXRhCgogICAgcGlwZWxpbmVfYnVpbGRlci5tYXAoCiAgICAgICAgW2RlY29kZV9hdWRpbywgY29udmVydF90b19mYmFuaywgbm9ybWFsaXplX2ZiYW5rXSwKICAgICAgICBzZWxlY3Rvcj1mInthcmdzLmF1ZGlvX2ZpZWxkfS5kYXRhIiwKICAgICAgICBudW1fcGFyYWxsZWxfY2FsbHM9bl9wYXJhbGxlbCwKICAgICkKCiAgICBwaXBlbGluZV9idWlsZGVyLmJ1Y2tldChidWNrZXRfc2l6ZT1hcmdzLmJhdGNoX3NpemUpCgogICAgY29sbGF0ZSA9IENvbGxhdGVyKHBhZF92YWx1ZT0wLCBwYWRfdG9fbXVsdGlwbGU9MSkKCiAgICBwaXBlbGluZV9idWlsZGVyLm1hcChjb2xsYXRlLCBudW1fcGFyYWxsZWxfY2FsbHM9bl9wYXJhbGxlbCkKCiAgICBwaXBlbGluZV9idWlsZGVyLnByZWZldGNoKDQpCgogICAgcmV0dXJuIHBpcGVsaW5lX2J1aWxkZXIuYW5kX3JldHVybigpCgoKZGVmIG1haW4oKSAtPiBOb25lOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoZGVzY3JpcHRpb249IlJ1bm5pbmcgU2VhbWxlc3NFeHByZXNzaXZlIGluZmVyZW5jZSIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICJkYXRhX2ZpbGUiLCB0eXBlPVBhdGgsIGhlbHA9IkRhdGEgZmlsZSAoLnRzdikgdG8gYmUgZXZhbHVhdGVkLiIKICAgICkKCiAgICBwYXJzZXIgPSBhZGRfaW5mZXJlbmNlX2FyZ3VtZW50cyhwYXJzZXIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWdhdGVkLW1vZGVsLWRpciIsCiAgICAgICAgdHlwZT1QYXRoLAogICAgICAgIHJlcXVpcmVkPUZhbHNlLAogICAgICAgIGhlbHA9IlNlYW1sZXNzRXhwcmVzc2l2ZSBtb2RlbCBkaXJlY3RvcnkuIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tYmF0Y2hfc2l6ZSIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iSW5mZXJlbmNlIGJhdGNoIHNpemUuIiwKICAgICAgICBkZWZhdWx0PTQsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWF1ZGlvX3Jvb3RfZGlyIiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgaGVscD0iUm9vdCBkaXJlY3RvcnkgZm9yIHRoZSBhdWRpbyBmaWxlbmFtZXMgaW4gdGhlIGRhdGEgZmlsZS4iLAogICAgICAgIGRlZmF1bHQ9IiIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWF1ZGlvX2ZpZWxkIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJGaWVsZCB0aGF0IGluY2x1ZGVzIHRoZSBpbnB1dCBhdWRpbyBmaWxlIHBhdGhzLiIsCiAgICAgICAgZGVmYXVsdD0ic3JjX2F1ZGlvIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tcmVmX2ZpZWxkIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJSZWZlcmVuY2UgdGFyZ2V0IHRleHQgZmllbGQgdG8gY29tcHV0ZSB0aGUgQkxFVSBzY29yZSBhZ2FpbnN0LiIsCiAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1kdXJhdGlvbl9mYWN0b3IiLAogICAgICAgIHR5cGU9ZmxvYXQsCiAgICAgICAgaGVscD0iVGhlIGR1cmF0aW9uIGZhY3RvciBmb3IgTkFSIFQyVSBtb2RlbC4iLAogICAgICAgIGRlZmF1bHQ9MS4wLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1vdXRwdXRfcmVzdWx0X3RzdiIsCiAgICAgICAgdHlwZT1ib29sLAogICAgICAgIGhlbHA9IldoZXRoZXIgdG8gb3V0cHV0IHJlc3VsdHMgaW4gdHN2IGZvcm1hdCAoZm9yIGZ1bGwtYmxvd24gZXZhbHVhdGlvbikiLAogICAgICAgIGRlZmF1bHQ9VHJ1ZSwKICAgICkKICAgIGFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncygpCgogICAgaWYgYXJncy5nYXRlZF9tb2RlbF9kaXI6CiAgICAgICAgYWRkX2dhdGVkX2Fzc2V0cyhhcmdzLmdhdGVkX21vZGVsX2RpcikKCiAgICBpZiB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpOgogICAgICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3VkYTowIikKICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MTYKICAgIGVsc2U6CiAgICAgICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjcHUiKQogICAgICAgIGR0eXBlID0gdG9yY2guZmxvYXQzMgoKICAgIHVuaXRfdG9rZW5pemVyID0gbG9hZF91bml0eV91bml0X3Rva2VuaXplcihhcmdzLm1vZGVsX25hbWUpCgogICAgX2djbXZuX21lYW4sIF9nY212bl9zdGQgPSBsb2FkX2djbXZuX3N0YXRzKGFyZ3Mudm9jb2Rlcl9uYW1lKQogICAgZ2Ntdm5fbWVhbiA9IHRvcmNoLnRlbnNvcihfZ2Ntdm5fbWVhbiwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICBnY212bl9zdGQgPSB0b3JjaC50ZW5zb3IoX2djbXZuX3N0ZCwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCgogICAgcGlwZWxpbmUgPSBidWlsZF9kYXRhX3BpcGVsaW5lKGFyZ3MsIGRldmljZSwgZHR5cGUsIGdjbXZuX21lYW4sIGdjbXZuX3N0ZCkKCiAgICB0cmFuc2xhdG9yID0gVHJhbnNsYXRvcigKICAgICAgICBhcmdzLm1vZGVsX25hbWUsCiAgICAgICAgdm9jb2Rlcl9uYW1lX29yX2NhcmQ9Tm9uZSwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLCB1bml0X2dlbmVyYXRpb25fb3B0cyA9IHNldF9nZW5lcmF0aW9uX29wdHMoYXJncykKCiAgICBsb2dnZXIuaW5mbyhmInt0ZXh0X2dlbmVyYXRpb25fb3B0cz19IikKICAgIGxvZ2dlci5pbmZvKGYie3VuaXRfZ2VuZXJhdGlvbl9vcHRzPX0iKQogICAgbG9nZ2VyLmluZm8oCiAgICAgICAgZiJ1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPXthcmdzLnVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmd9IgogICAgKQoKICAgIHByZXRzc2VsX2dlbmVyYXRvciA9IFByZXRzc2VsR2VuZXJhdG9yKAogICAgICAgIGFyZ3Mudm9jb2Rlcl9uYW1lLAogICAgICAgIHZvY2FiX2luZm89dW5pdF90b2tlbml6ZXIudm9jYWJfaW5mbywKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIHRvdGFsX3N0ZXBzID0gY291bnRfbGluZXMoYXJncy5kYXRhX2ZpbGUpIC0gMQogICAgcHJvZ3Jlc3NfYmFyID0gdHFkbSh0b3RhbD10b3RhbF9zdGVwcykKCiAgICBvdXRwdXRfcGF0aCA9IGFyZ3Mub3V0cHV0X3BhdGggLyBhcmdzLmRhdGFfZmlsZS5zdGVtCiAgICBvdXRwdXRfcGF0aC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgd2F2ZWZvcm1zX2RpciA9IG91dHB1dF9wYXRoIC8gIndhdmVmb3JtIgogICAgd2F2ZWZvcm1zX2Rpci5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgaHlwcyA9IFtdCiAgICByZWZzID0gW10KICAgIGF1ZGlvX2h5cHMgPSBbXQoKICAgIHdpdGggY29udGV4dGxpYi5FeGl0U3RhY2soKSBhcyBzdGFjazoKICAgICAgICBoeXBfZmlsZSA9IHN0YWNrLmVudGVyX2NvbnRleHQoCiAgICAgICAgICAgIG9wZW4ob3V0cHV0X3BhdGggLyBmInRleHRfb3V0cHV0LXthcmdzLmRhdGFfZmlsZS5zdGVtfS50eHQiLCAidyIpCiAgICAgICAgKQogICAgICAgIHVuaXRfZmlsZSA9IHN0YWNrLmVudGVyX2NvbnRleHQoCiAgICAgICAgICAgIG9wZW4ob3V0cHV0X3BhdGggLyBmInVuaXRfb3V0cHV0LXthcmdzLmRhdGFfZmlsZS5zdGVtfS50eHQiLCAidyIpCiAgICAgICAgKQoKICAgICAgICBzYW1wbGVfaWQgPSAwCiAgICAgICAgZm9yIGV4YW1wbGUgaW4gcGlwZWxpbmU6CiAgICAgICAgICAgIHZhbGlkX3NlcXVlbmNlczogT3B0aW9uYWxbVGVuc29yXSA9IE5vbmUKICAgICAgICAgICAgc3JjID0gZXhhbXBsZVthcmdzLmF1ZGlvX2ZpZWxkXVsiZGF0YSJdWyJmYmFuayJdCiAgICAgICAgICAgICMgU2tpcCBjb3JydXB0ZWQgYXVkaW8gdGVuc29ycy4KICAgICAgICAgICAgdmFsaWRfc2VxdWVuY2VzID0gfnRvcmNoLmFueSgKICAgICAgICAgICAgICAgIHRvcmNoLmFueSh0b3JjaC5pc25hbihzcmNbInNlcXMiXSksIGRpbT0xKSwgZGltPTEKICAgICAgICAgICAgKQogICAgICAgICAgICBpZiBub3QgdmFsaWRfc2VxdWVuY2VzLmFsbCgpOgogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoCiAgICAgICAgICAgICAgICAgICAgZiJTYW1wbGUgSURzIHtzYW1wbGVfaWR9IHRvIHtzYW1wbGVfaWQgKyBhcmdzLmJhdGNoX3NpemV9IGhhcyBzb21lIGNvcnJ1cHRlZCBpbnB1dC4iCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBzcmNbInNlcXMiXSA9IHNyY1sic2VxcyJdW3ZhbGlkX3NlcXVlbmNlc10KICAgICAgICAgICAgICAgIHNyY1sic2VxX2xlbnMiXSA9IHNyY1sic2VxX2xlbnMiXVt2YWxpZF9zZXF1ZW5jZXNdCgogICAgICAgICAgICAjIFNraXAgcGVyZm9ybWluZyBpbmZlcmVuY2Ugd2hlbiB0aGUgaW5wdXQgaXMgZW50aXJlbHkgY29ycnVwdGVkLgogICAgICAgICAgICBpZiBzcmNbInNlcXMiXS5udW1lbCgpID4gMDoKICAgICAgICAgICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dCA9IGV4YW1wbGVbYXJncy5hdWRpb19maWVsZF1bImRhdGEiXVsiZ2Ntdm5fZmJhbmsiXQogICAgICAgICAgICAgICAgdGV4dF9vdXRwdXQsIHVuaXRfb3V0cHV0ID0gdHJhbnNsYXRvci5wcmVkaWN0KAogICAgICAgICAgICAgICAgICAgIHNyYywKICAgICAgICAgICAgICAgICAgICAiczJzdCIsCiAgICAgICAgICAgICAgICAgICAgYXJncy50Z3RfbGFuZywKICAgICAgICAgICAgICAgICAgICBzcmNfbGFuZz1hcmdzLnNyY19sYW5nLAogICAgICAgICAgICAgICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzPXRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc9YXJncy51bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uX2ZhY3Rvcj1hcmdzLmR1cmF0aW9uX2ZhY3RvciwKICAgICAgICAgICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9cHJvc29keV9lbmNvZGVyX2lucHV0LAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIGFzc2VydCB1bml0X291dHB1dCBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgc3BlZWNoX291dHB1dCA9IHByZXRzc2VsX2dlbmVyYXRvci5wcmVkaWN0KAogICAgICAgICAgICAgICAgICAgIHVuaXRfb3V0cHV0LnVuaXRzLAogICAgICAgICAgICAgICAgICAgIHRndF9sYW5nPWFyZ3MudGd0X2xhbmcsCiAgICAgICAgICAgICAgICAgICAgcHJvc29keV9lbmNvZGVyX2lucHV0PXByb3NvZHlfZW5jb2Rlcl9pbnB1dCwKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB0ZXh0X291dHB1dCA9IFtdCiAgICAgICAgICAgICAgICBzcGVlY2hfb3V0cHV0ID0gQmF0Y2hlZFNwZWVjaE91dHB1dCh1bml0cz1bXSwgYXVkaW9fd2F2cz1bXSkKCiAgICAgICAgICAgIGlmIHZhbGlkX3NlcXVlbmNlcyBpcyBub3QgTm9uZSBhbmQgbm90IHZhbGlkX3NlcXVlbmNlcy5hbGwoKToKICAgICAgICAgICAgICAgIHRleHRfb3V0cHV0LCBzcGVlY2hfb3V0cHV0ID0gYWRqdXN0X291dHB1dF9mb3JfY29ycnVwdGVkX2lucHV0cyggICMgdHlwZTogaWdub3JlW2Fzc2lnbm1lbnRdCiAgICAgICAgICAgICAgICAgICAgdmFsaWRfc2VxdWVuY2VzLAogICAgICAgICAgICAgICAgICAgIHRleHRfb3V0cHV0LAogICAgICAgICAgICAgICAgICAgIHNwZWVjaF9vdXRwdXQsCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICBoeXBzICs9IFtzdHIocykgZm9yIHMgaW4gdGV4dF9vdXRwdXRdCiAgICAgICAgICAgIGlmIGFyZ3MucmVmX2ZpZWxkIGlzIG5vdCBOb25lIGFuZCBhcmdzLnJlZl9maWVsZCBpbiBleGFtcGxlOgogICAgICAgICAgICAgICAgcmVmcyArPSBbc3RyKHMpIGZvciBzIGluIGV4YW1wbGVbYXJncy5yZWZfZmllbGRdXQoKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHRleHRfb3V0cHV0KSk6CiAgICAgICAgICAgICAgICB0ID0gdGV4dF9vdXRwdXRbaV0KICAgICAgICAgICAgICAgIGlkeCA9IHN0cihleGFtcGxlWyJpZCJdW2ldKQogICAgICAgICAgICAgICAgaHlwX2ZpbGUud3JpdGUoZiJ7dH1cbiIpCgogICAgICAgICAgICAgICAgdSA9IHNwZWVjaF9vdXRwdXQudW5pdHNbaV0KICAgICAgICAgICAgICAgIHN0cl91bml0cyA9IFtzdHIoaSkgZm9yIGkgaW4gdV0KICAgICAgICAgICAgICAgIHVuaXRfZmlsZS53cml0ZSgiICIuam9pbihzdHJfdW5pdHMpICsgIlxuIikKICAgICAgICAgICAgICAgIHRvcmNoYXVkaW8uc2F2ZSgKICAgICAgICAgICAgICAgICAgICB3YXZlZm9ybXNfZGlyIC8gZiJ7aWR4fV9wcmVkLndhdiIsCiAgICAgICAgICAgICAgICAgICAgc3BlZWNoX291dHB1dC5hdWRpb193YXZzW2ldWzBdLnRvKHRvcmNoLmZsb2F0MzIpLmNwdSgpLAogICAgICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNwZWVjaF9vdXRwdXQuc2FtcGxlX3JhdGUsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBhdWRpb19oeXBzLmFwcGVuZCgod2F2ZWZvcm1zX2RpciAvIGYie2lkeH1fcHJlZC53YXYiKS5hc19wb3NpeCgpKQoKICAgICAgICAgICAgICAgIHNhbXBsZV9pZCArPSAxCiAgICAgICAgICAgICAgICBwcm9ncmVzc19iYXIudXBkYXRlKDEpCgogICAgcHJvZ3Jlc3NfYmFyLmNsb3NlKCkKICAgIGxvZ2dlci5pbmZvKGYiUHJvY2Vzc2VkIHtsZW4oaHlwcyl9IGh5cHMsIHtsZW4ocmVmcyl9IHJlZnMiKQoKICAgIGlmIGFyZ3Mub3V0cHV0X3Jlc3VsdF90c3Y6CiAgICAgICAgb3V0cHV0X3Rzdl9maWxlID0gb3V0cHV0X3BhdGggLyBmImdlbmVyYXRlLXthcmdzLmRhdGFfZmlsZS5zdGVtfS50c3YiCiAgICAgICAgb3V0cHV0X3RzdiA9IHBkLnJlYWRfY3N2KGFyZ3MuZGF0YV9maWxlLCBxdW90aW5nPTMsIHNlcD0iXHQiKQogICAgICAgIHRleHRfb3V0ID0gW10KICAgICAgICB3aXRoIG9wZW4oaHlwX2ZpbGUubmFtZSkgYXMgZmlsZToKICAgICAgICAgICAgZm9yIGxpbmUgaW4gZmlsZToKICAgICAgICAgICAgICAgIHRleHRfb3V0LmFwcGVuZChsaW5lLnN0cmlwKCkpCgogICAgICAgIHVuaXRfb3V0ID0gW10KICAgICAgICB3aXRoIG9wZW4odW5pdF9maWxlLm5hbWUpIGFzIGZpbGU6CiAgICAgICAgICAgIGZvciBsaW5lIGluIGZpbGU6CiAgICAgICAgICAgICAgICB1bml0X291dC5hcHBlbmQobGluZS5zdHJpcCgpKQoKICAgICAgICBvdXRwdXRfdHN2WyJoeXBvX2F1ZGlvIl0gPSBhdWRpb19oeXBzCiAgICAgICAgb3V0cHV0X3RzdlsiczJ0X291dCJdID0gdGV4dF9vdXQKICAgICAgICBvdXRwdXRfdHN2WyJvcmlnX3VuaXQiXSA9IHVuaXRfb3V0CiAgICAgICAgb3V0cHV0X3Rzdi50b19jc3Yob3V0cHV0X3Rzdl9maWxlLCBxdW90aW5nPTMsIHNlcD0iXHQiLCBpbmRleD1GYWxzZSkKICAgICAgICBsb2dnZXIuaW5mbyhmIk91dHB1dCByZXN1bHRzIGluIHtvdXRwdXRfdHN2X2ZpbGV9IikKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=='),
    ('seamless/src/seamless_communication/cli/expressivity/evaluate/run_asr_bleu.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZmlyZSBpbXBvcnQgRmlyZQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLmV2YWxfdXRpbHMuY29tcHV0ZV9tZXRyaWNzIGltcG9ydCAoCiAgICBjb21wdXRlX3F1YWxpdHlfbWV0cmljcywKKQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKCmRlZiBydW5fYXNyX2JsZXVfZXhwcmVzc2l2ZV9tb2RlbCgKICAgIGdlbmVyYXRpb25fZGlyX3BhdGg6IHN0ciwKICAgIGdlbmVyYXRlX3Rzdl9maWxlbmFtZTogc3RyLAogICAgdGd0X2xhbmc6IHN0ciwKKToKICAgIGNvbXB1dGVfcXVhbGl0eV9tZXRyaWNzKAogICAgICAgIGYie2dlbmVyYXRpb25fZGlyX3BhdGh9L3tnZW5lcmF0ZV90c3ZfZmlsZW5hbWV9IiwKICAgICAgICBQYXRoKGdlbmVyYXRpb25fZGlyX3BhdGgpLAogICAgICAgIHRndF9sYW5nLAogICAgICAgICJTMlNUIiwKICAgICAgICBkZXZpY2U9RGV2aWNlKCJjdWRhIiksCiAgICAgICAgcmVmX3RleHRfY29sX25hbWU9InRndF90ZXh0IiwKICAgICAgICBwcmVkX3RleHRfY29sX25hbWU9InMydF9vdXQiLAogICAgICAgIHByZWRfYXVkaW9fY29sX25hbWU9Imh5cG9fYXVkaW8iLAogICAgKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBGaXJlKHJ1bl9hc3JfYmxldV9leHByZXNzaXZlX21vZGVsKQo='),
    ('seamless/src/seamless_communication/cli/expressivity/predict/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUu'),
    ('seamless/src/seamless_communication/cli/expressivity/predict/pretssel_generator.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QKCmltcG9ydCB0b3JjaApmcm9tIHRvcmNoLm5uIGltcG9ydCBNb2R1bGUKCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCgpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCAoCiAgICBDb2xsYXRlciwKICAgIFNlcXVlbmNlRGF0YSwKICAgIFZvY2FidWxhcnlJbmZvLAopCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgZ2V0X3NlcXNfYW5kX3BhZGRpbmdfbWFzawoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZSBpbXBvcnQgQmF0Y2hlZFNwZWVjaE91dHB1dApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci5sb2FkZXIgaW1wb3J0IGxvYWRfcHJldHNzZWxfdm9jb2Rlcl9tb2RlbAoKCmNsYXNzIFByZXRzc2VsR2VuZXJhdG9yKE1vZHVsZSk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBwcmV0c3NlbF9uYW1lX29yX2NhcmQ6IHN0ciwKICAgICAgICB2b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbywKICAgICAgICBkZXZpY2U6IERldmljZSwKICAgICAgICBkdHlwZTogRGF0YVR5cGUgPSB0b3JjaC5mbG9hdDE2LAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICAjIExvYWQgdGhlIG1vZGVsLgogICAgICAgIGlmIGRldmljZSA9PSB0b3JjaC5kZXZpY2UoImNwdSIpOgogICAgICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MzIKCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKICAgICAgICBzZWxmLmR0eXBlID0gZHR5cGUKCiAgICAgICAgc2VsZi5wcmV0c3NlbF9tb2RlbCA9IGxvYWRfcHJldHNzZWxfdm9jb2Rlcl9tb2RlbCgKICAgICAgICAgICAgcHJldHNzZWxfbmFtZV9vcl9jYXJkLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCiAgICAgICAgc2VsZi5wcmV0c3NlbF9tb2RlbC5ldmFsKCkKCiAgICAgICAgdm9jb2Rlcl9tb2RlbF9jYXJkID0gYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChwcmV0c3NlbF9uYW1lX29yX2NhcmQpCiAgICAgICAgc2VsZi5vdXRwdXRfc2FtcGxlX3JhdGUgPSB2b2NvZGVyX21vZGVsX2NhcmQuZmllbGQoInNhbXBsZV9yYXRlIikuYXNfKGludCkKCiAgICAgICAgc2VsZi52b2NhYl9pbmZvID0gdm9jYWJfaW5mbwogICAgICAgIHNlbGYudW5pdF9jb2xsYXRlID0gQ29sbGF0ZXIocGFkX3ZhbHVlPXZvY2FiX2luZm8ucGFkX2lkeCkKICAgICAgICBzZWxmLmR1cmF0aW9uX2NvbGxhdGUgPSBDb2xsYXRlcihwYWRfdmFsdWU9MCkKICAgICAgICBzZWxmLnVuaXRfZW9zX3Rva2VuID0gdG9yY2gudGVuc29yKFt2b2NhYl9pbmZvLmVvc19pZHhdLCBkZXZpY2U9ZGV2aWNlKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgcHJlZGljdCgKICAgICAgICBzZWxmLAogICAgICAgIHVuaXRzOiBMaXN0W0xpc3RbaW50XV0sCiAgICAgICAgdGd0X2xhbmc6IHN0ciwKICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ6IFNlcXVlbmNlRGF0YSwKICAgICkgLT4gQmF0Y2hlZFNwZWVjaE91dHB1dDoKCiAgICAgICAgdW5pdHNfYmF0Y2gsIGR1cmF0aW9ucyA9IFtdLCBbXQogICAgICAgIGZvciB1IGluIHVuaXRzOgogICAgICAgICAgICB1bml0ID0gdG9yY2gudGVuc29yKHUpLnRvKHNlbGYudW5pdF9lb3NfdG9rZW4pCgogICAgICAgICAgICAjIGFkanVzdCB0aGUgY29udHJvbCBzeW1ib2xzIGZvciB0aGUgZW1iZWRkaW5nCiAgICAgICAgICAgIHVuaXQgKz0gNAogICAgICAgICAgICB1bml0ID0gdG9yY2guY2F0KFt1bml0LCBzZWxmLnVuaXRfZW9zX3Rva2VuXSwgZGltPTApCgogICAgICAgICAgICB1bml0LCBkdXJhdGlvbiA9IHRvcmNoLnVuaXF1ZV9jb25zZWN1dGl2ZSh1bml0LCByZXR1cm5fY291bnRzPVRydWUpCgogICAgICAgICAgICAjIGFkanVzdCBmb3IgdGhlIGxhc3QgZW9zIHRva2VuCiAgICAgICAgICAgIGR1cmF0aW9uWy0xXSA9IDAKCiAgICAgICAgICAgIHVuaXRzX2JhdGNoLmFwcGVuZCh1bml0KQogICAgICAgICAgICBkdXJhdGlvbnMuYXBwZW5kKGR1cmF0aW9uICogMikKCiAgICAgICAgc3BlZWNoX3VuaXRzID0gc2VsZi51bml0X2NvbGxhdGUodW5pdHNfYmF0Y2gpCiAgICAgICAgZHVyYXRpb25zID0gc2VsZi5kdXJhdGlvbl9jb2xsYXRlKGR1cmF0aW9ucylbInNlcXMiXQoKICAgICAgICB1bml0c190ZW5zb3IsIHVuaXRfcGFkZGluZ19tYXNrID0gZ2V0X3NlcXNfYW5kX3BhZGRpbmdfbWFzayhzcGVlY2hfdW5pdHMpCiAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzLCBwcm9zb2R5X3BhZGRpbmdfbWFzayA9IGdldF9zZXFzX2FuZF9wYWRkaW5nX21hc2soCiAgICAgICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dAogICAgICAgICkKCiAgICAgICAgYXVkaW9fd2F2cyA9IHNlbGYucHJldHNzZWxfbW9kZWwoCiAgICAgICAgICAgIHVuaXRzX3RlbnNvciwKICAgICAgICAgICAgdGd0X2xhbmcsCiAgICAgICAgICAgIHByb3NvZHlfaW5wdXRfc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrPXVuaXRfcGFkZGluZ19tYXNrLAogICAgICAgICAgICBwcm9zb2R5X3BhZGRpbmdfbWFzaz1wcm9zb2R5X3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgZHVyYXRpb25zPWR1cmF0aW9ucywKICAgICAgICApCiAgICAgICAgcmV0dXJuIEJhdGNoZWRTcGVlY2hPdXRwdXQoCiAgICAgICAgICAgIHVuaXRzPXVuaXRzLAogICAgICAgICAgICBhdWRpb193YXZzPWF1ZGlvX3dhdnMsCiAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNlbGYub3V0cHV0X3NhbXBsZV9yYXRlLAogICAgICAgICkK'),
    ('seamless/src/seamless_communication/cli/expressivity/predict/predict.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoYXVkaW8KZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFNlcXVlbmNlRGF0YQpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5leHByZXNzaXZpdHkucHJlZGljdC5wcmV0c3NlbF9nZW5lcmF0b3IgaW1wb3J0ICgKICAgIFByZXRzc2VsR2VuZXJhdG9yLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkubTR0LnByZWRpY3QgaW1wb3J0ICgKICAgIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzLAogICAgc2V0X2dlbmVyYXRpb25fb3B0cywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlIGltcG9ydCBUcmFuc2xhdG9yCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0ICgKICAgIGxvYWRfZ2Ntdm5fc3RhdHMsCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdG9yZSBpbXBvcnQgYWRkX2dhdGVkX2Fzc2V0cwoKCkFVRElPX1NBTVBMRV9SQVRFID0gMTYwMDAKCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmRlZiByZW1vdmVfcHJvc29keV90b2tlbnNfZnJvbV90ZXh0KHRleHQ6IHN0cikgLT4gc3RyOgogICAgIyBmaWx0ZXIgb3V0IHByb3NvZHkgdG9rZW5zLCB0aGVyZSBpcyBvbmx5IGVtcGhhc2lzICcqJywgYW5kIHBhdXNlICc9JwogICAgdGV4dCA9IHRleHQucmVwbGFjZSgiKiIsICIiKS5yZXBsYWNlKCI9IiwgIiIpCiAgICB0ZXh0ID0gIiAiLmpvaW4odGV4dC5zcGxpdCgpKQogICAgcmV0dXJuIHRleHQKCgpkZWYgbWFpbigpIC0+IE5vbmU6CiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihkZXNjcmlwdGlvbj0iUnVubmluZyBTZWFtbGVzc0V4cHJlc3NpdmUgaW5mZXJlbmNlLiIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCJpbnB1dCIsIHR5cGU9c3RyLCBoZWxwPSJBdWRpbyBXQVYgZmlsZSBwYXRoLiIpCgogICAgcGFyc2VyID0gYWRkX2luZmVyZW5jZV9hcmd1bWVudHMocGFyc2VyKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1nYXRlZC1tb2RlbC1kaXIiLAogICAgICAgIHR5cGU9UGF0aCwKICAgICAgICByZXF1aXJlZD1GYWxzZSwKICAgICAgICBoZWxwPSJTZWFtbGVzc0V4cHJlc3NpdmUgbW9kZWwgZGlyZWN0b3J5LiIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWR1cmF0aW9uX2ZhY3RvciIsCiAgICAgICAgdHlwZT1mbG9hdCwKICAgICAgICBoZWxwPSJUaGUgZHVyYXRpb24gZmFjdG9yIGZvciBOQVIgVDJVIG1vZGVsLiIsCiAgICAgICAgZGVmYXVsdD0xLjAsCiAgICApCiAgICBhcmdzID0gcGFyc2VyLnBhcnNlX2FyZ3MoKQoKICAgIGlmIG5vdCBhcmdzLnRndF9sYW5nIG9yIGFyZ3Mub3V0cHV0X3BhdGggaXMgTm9uZToKICAgICAgICByYWlzZSBFeGNlcHRpb24oCiAgICAgICAgICAgICItLXRndF9sYW5nLCAtLW91dHB1dF9wYXRoIG11c3QgYmUgcHJvdmlkZWQgZm9yIFNlYW1sZXNzRXhwcmVzc2l2ZSBpbmZlcmVuY2UuIgogICAgICAgICkKICAgICAgICAKICAgIGlmIGFyZ3MuZ2F0ZWRfbW9kZWxfZGlyOgogICAgICAgIGFkZF9nYXRlZF9hc3NldHMoYXJncy5nYXRlZF9tb2RlbF9kaXIpCiAgICAKICAgIGlmIHRvcmNoLmN1ZGEuaXNfYXZhaWxhYmxlKCk6CiAgICAgICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjdWRhOjAiKQogICAgICAgIGR0eXBlID0gdG9yY2guZmxvYXQxNgogICAgZWxzZToKICAgICAgICBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoImNwdSIpCiAgICAgICAgZHR5cGUgPSB0b3JjaC5mbG9hdDMyCgogICAgbG9nZ2VyLmluZm8oZiJSdW5uaW5nIGluZmVyZW5jZSBvbiB7ZGV2aWNlPX0gd2l0aCB7ZHR5cGU9fS4iKQoKICAgIHVuaXRfdG9rZW5pemVyID0gbG9hZF91bml0eV91bml0X3Rva2VuaXplcihhcmdzLm1vZGVsX25hbWUpCiAgICAKICAgIHRyYW5zbGF0b3IgPSBUcmFuc2xhdG9yKAogICAgICAgIGFyZ3MubW9kZWxfbmFtZSwKICAgICAgICB2b2NvZGVyX25hbWVfb3JfY2FyZD1Ob25lLAogICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICApCgogICAgcHJldHNzZWxfZ2VuZXJhdG9yID0gUHJldHNzZWxHZW5lcmF0b3IoCiAgICAgICAgYXJncy52b2NvZGVyX25hbWUsCiAgICAgICAgdm9jYWJfaW5mbz11bml0X3Rva2VuaXplci52b2NhYl9pbmZvLAogICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICApCgogICAgZmJhbmtfZXh0cmFjdG9yID0gV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyKAogICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICB3YXZlZm9ybV9zY2FsZT0yKioxNSwKICAgICAgICBjaGFubmVsX2xhc3Q9VHJ1ZSwKICAgICAgICBzdGFuZGFyZGl6ZT1GYWxzZSwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIF9nY212bl9tZWFuLCBfZ2Ntdm5fc3RkID0gbG9hZF9nY212bl9zdGF0cyhhcmdzLnZvY29kZXJfbmFtZSkKICAgIGdjbXZuX21lYW4gPSB0b3JjaC50ZW5zb3IoX2djbXZuX21lYW4sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgZ2Ntdm5fc3RkID0gdG9yY2gudGVuc29yKF9nY212bl9zdGQsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQoKICAgIHdhdiwgc2FtcGxlX3JhdGUgPSB0b3JjaGF1ZGlvLmxvYWQoYXJncy5pbnB1dCkKICAgIHdhdiA9IHRvcmNoYXVkaW8uZnVuY3Rpb25hbC5yZXNhbXBsZSh3YXYsIG9yaWdfZnJlcT1zYW1wbGVfcmF0ZSwgbmV3X2ZyZXE9MTZfMDAwKQogICAgd2F2ID0gd2F2LnRyYW5zcG9zZSgwLCAxKQoKICAgIGRhdGEgPSBmYmFua19leHRyYWN0b3IoCiAgICAgICAgewogICAgICAgICAgICAid2F2ZWZvcm0iOiB3YXYsCiAgICAgICAgICAgICJzYW1wbGVfcmF0ZSI6IDE2MDAwLAogICAgICAgIH0KICAgICkKICAgIGZiYW5rID0gZGF0YVsiZmJhbmsiXQogICAgZ2Ntdm5fZmJhbmsgPSBmYmFuay5zdWJ0cmFjdChnY212bl9tZWFuKS5kaXZpZGUoZ2Ntdm5fc3RkKQogICAgc3RkLCBtZWFuID0gdG9yY2guc3RkX21lYW4oZmJhbmssIGRpbT0wKQogICAgZmJhbmsgPSBmYmFuay5zdWJ0cmFjdChtZWFuKS5kaXZpZGUoc3RkKQoKICAgIHNyYyA9IFNlcXVlbmNlRGF0YSgKICAgICAgICBzZXFzPWZiYW5rLnVuc3F1ZWV6ZSgwKSwKICAgICAgICBzZXFfbGVucz10b3JjaC5Mb25nVGVuc29yKFtmYmFuay5zaGFwZVswXV0pLAogICAgICAgIGlzX3JhZ2dlZD1GYWxzZSwKICAgICkKICAgIHNyY19nY212biA9IFNlcXVlbmNlRGF0YSgKICAgICAgICBzZXFzPWdjbXZuX2ZiYW5rLnVuc3F1ZWV6ZSgwKSwKICAgICAgICBzZXFfbGVucz10b3JjaC5Mb25nVGVuc29yKFtnY212bl9mYmFuay5zaGFwZVswXV0pLAogICAgICAgIGlzX3JhZ2dlZD1GYWxzZSwKICAgICkKCiAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cywgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBzZXRfZ2VuZXJhdGlvbl9vcHRzKGFyZ3MpCgogICAgbG9nZ2VyLmluZm8oZiJ7dGV4dF9nZW5lcmF0aW9uX29wdHM9fSIpCiAgICBsb2dnZXIuaW5mbyhmInt1bml0X2dlbmVyYXRpb25fb3B0cz19IikKICAgIGxvZ2dlci5pbmZvKAogICAgICAgIGYidW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZz17YXJncy51bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nfSIKICAgICkKCiAgICB0ZXh0X291dHB1dCwgdW5pdF9vdXRwdXQgPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgc3JjLAogICAgICAgICJzMnN0IiwKICAgICAgICBhcmdzLnRndF9sYW5nLAogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzPXRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc9YXJncy51bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgIGR1cmF0aW9uX2ZhY3Rvcj1hcmdzLmR1cmF0aW9uX2ZhY3RvciwKICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9c3JjX2djbXZuLAogICAgKQoKICAgIGFzc2VydCB1bml0X291dHB1dCBpcyBub3QgTm9uZQogICAgc3BlZWNoX291dHB1dCA9IHByZXRzc2VsX2dlbmVyYXRvci5wcmVkaWN0KAogICAgICAgIHVuaXRfb3V0cHV0LnVuaXRzLAogICAgICAgIHRndF9sYW5nPWFyZ3MudGd0X2xhbmcsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2lucHV0PXNyY19nY212biwKICAgICkKCiAgICBsb2dnZXIuaW5mbyhmIlNhdmluZyBleHByZXNzaXZlIHRyYW5zbGF0ZWQgYXVkaW8gaW4ge2FyZ3MudGd0X2xhbmd9IikKICAgIHRvcmNoYXVkaW8uc2F2ZSgKICAgICAgICBhcmdzLm91dHB1dF9wYXRoLAogICAgICAgIHNwZWVjaF9vdXRwdXQuYXVkaW9fd2F2c1swXVswXS50byh0b3JjaC5mbG9hdDMyKS5jcHUoKSwKICAgICAgICBzYW1wbGVfcmF0ZT1zcGVlY2hfb3V0cHV0LnNhbXBsZV9yYXRlLAogICAgKQoKICAgIHRleHRfb3V0ID0gcmVtb3ZlX3Byb3NvZHlfdG9rZW5zX2Zyb21fdGV4dChzdHIodGV4dF9vdXRwdXRbMF0pKQoKICAgIGxvZ2dlci5pbmZvKGYiVHJhbnNsYXRlZCB0ZXh0IGluIHthcmdzLnRndF9sYW5nfToge3RleHRfb3V0fSIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo='),
    ('seamless/src/seamless_communication/cli/eval_utils/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLmV2YWxfdXRpbHMuY29tcHV0ZV9tZXRyaWNzIGltcG9ydCAoCiAgICBjb21wdXRlX3F1YWxpdHlfbWV0cmljcyBhcyBjb21wdXRlX3F1YWxpdHlfbWV0cmljcywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLmV2YWxfdXRpbHMuY29tcHV0ZV9tZXRyaWNzIGltcG9ydCAoCiAgICBnZXRfdG9rZW5pemVyIGFzIGdldF90b2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5ldmFsX3V0aWxzLmxhbmdfbWFwcGluZyBpbXBvcnQgKAogICAgTEFORzJfTEFORzMgYXMgTEFORzJfTEFORzMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5ldmFsX3V0aWxzLmxhbmdfbWFwcGluZyBpbXBvcnQgKAogICAgTEFORzNfTEFORzIgYXMgTEFORzNfTEFORzIsCikK'),
    ('seamless/src/seamless_communication/cli/eval_utils/compute_metrics.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBqc29uCmltcG9ydCBsb2dnaW5nCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR1cGxlLCBVbmlvbgoKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgd2hpc3Blcgpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlCmZyb20gaml3ZXIgaW1wb3J0IGNlciwgd2VyCmZyb20gc2FjcmVibGV1Lm1ldHJpY3MuYmFzZSBpbXBvcnQgU2NvcmUsIFNpZ25hdHVyZQpmcm9tIHNhY3JlYmxldS5tZXRyaWNzLmJsZXUgaW1wb3J0IEJMRVUKZnJvbSBzYWNyZWJsZXUubWV0cmljcy5jaHJmIGltcG9ydCBDSFJGCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXZhbF91dGlscy5sYW5nX21hcHBpbmcgaW1wb3J0IExBTkczX0xBTkcyCmZyb20gdHFkbSBpbXBvcnQgdHFkbQpmcm9tIHdoaXNwZXIgaW1wb3J0IFdoaXNwZXIKZnJvbSB3aGlzcGVyLm5vcm1hbGl6ZXJzIGltcG9ydCBCYXNpY1RleHROb3JtYWxpemVyLCBFbmdsaXNoVGV4dE5vcm1hbGl6ZXIKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKZGVmIGluaXRfd2hpc3Blcl9tb2RlbCgKICAgIGRldmljZTogRGV2aWNlLAogICAgd2hpc3Blcl9tb2RlbF9uYW1lOiBzdHIgPSAibGFyZ2UiLAopIC0+IFdoaXNwZXI6CiAgICByZXR1cm4gd2hpc3Blci5sb2FkX21vZGVsKG5hbWU9d2hpc3Blcl9tb2RlbF9uYW1lLCBkZXZpY2U9ZGV2aWNlKQoKCmRlZiB0cmFuc2NyaWJlX3NlcmllcygKICAgIGF1ZGlvX3BhdGhzX3NlcmllczogcGQuU2VyaWVzLAogICAgYXNyX21vZGVsOiBXaGlzcGVyLAogICAgYXVkaW9fbGFuZzogc3RyLAogICAgYmVhbV9zaXplOiBpbnQgPSAxLAogICAgdGVtcGVyYXR1cmU6IGZsb2F0ID0gMC4wLAopIC0+IHBkLlNlcmllczoKICAgICIiIlRyYW5zY3JpYmVzIGVhY2ggYXVkaW8gZmlsZXBhdGggZnJvbSBzZXJpZXMgYW5kIHJldHVybnMgc2VyaWVzIG9mIHRyYW5zY3JpcHRpb25zCiAgICBBcmdzOgogICAgICAgIGF1ZGlvX3BhdGhzX3NlcmllcyAocGQuU2VyaWVzKTogZWFjaCBsaW5lIGNvbnRhaW5zIHBhdGggdG8gYXVkaW8gZmlsZS4KICAgICAgICBhc3JfbW9kZWw6IEFTUiBtb2RlbCB0byBkbyB0aGUgdHJhbnNjcmliaW5nIHByb2Nlc3MgZS5nLiBXaGlzcGVyCiAgICAgICAgYXVkaW9fbGFuZyAoc3RyKTogd2hhdCBsYW5ndWFnZSBpcyB1c2VkIGluIHRoZSBnaXZlbiBhdWRpbywgdXNlZCBieSBBU1IgbW9kZWwKICAgICAgICBiZWFtX3NpemUgKGludCk6IHdoaXNwZXIgYmVhbSBzaXplLiBEZWZhdWx0cyB0byAxCiAgICAgICAgdGVtcGVyYXR1cmUgKGZsb2F0KTogd2hpc3BlciB0ZW1wZXJhdHVyZS4gRGVmYXVsdHMgdG8gMC4wIHRvIGF2b2lkIGZhbGxiYWNrIGRlY29kaW5nIChzZWUgZGV0YWlscyBiZWxvdykuCiAgICBSZXR1cm5zOgogICAgICAgIHBkLlNlcmllczogU2VyaWVzIHdoZXJlIGVhY2ggbGluZSBoYXMgYSB0cmFuc2NyaXB0aW9uIG9mIGNvcnJlc3BvbmRpbmcgYXVkaW8gZnJvbSBhdWRpb19wYXRoc19zZXJpZXMKICAgIFdoaXNwZXIgbW9kZWwgaW1wbGVtZW50cyBkZWNvZGluZyB3aXRoIGZhbGxiYWNrOiBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFpL3doaXNwZXIvYmxvYi9tYWluL3doaXNwZXIvdHJhbnNjcmliZS5weSNMMTQ3CiAgICBUaGUgY29yZSBpZGVhIGlzIHRoYXQgZGVjb2RpbmcgYXQgZWFjaCB0aW1lIHN0ZXAgbWlnaHQgaGFwcGVuIG11bHRpcGxlIHRpbWVzIGlmIGF0IGxlYXN0IG9uZSBjcml0ZXJpb24gdG8gImZhbGwgYmFjayIgaS5lLgogICAgc3RhcnQgb3ZlciBpcyBmaXJlZC4gTnVtYmVyIG9mIGZhbGxiYWNrIGl0ZXJhdGlvbnMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgc2NoZWR1bGUgb2YgdGVtcGVyYXR1cmUgdmFsdWVzOgogICAgaHR0cHM6Ly9naXRodWIuY29tL29wZW5haS93aGlzcGVyL2Jsb2IvbWFpbi93aGlzcGVyL3RyYW5zY3JpYmUucHkjTDQxCiAgICBCeSBkZWZhdWx0IHRoaXMgc2NoZWR1bGUgaXMgYWN0aXZlIGFuZCB0ZW1wZXJhdHVyZT0oMC4wLCAwLjIsIDAuNCwgMC42LCAwLjgsIDEuMCkgaS5lLiBldmVuIHdpdGggYmVhbV9zaXplIDUgaXQgbWlnaHQgZmVsbCBiYWNrIGFuZAogICAgdHVybiBvbiBzYW1wbGluZyBieSB1c2luZyB0ZW1wZXJhdHVyZSA+IDAsIGluIHRoaXMgY2FzZSB0aGUgYmVhbSBzZWFyY2ggaXMgbm90IHVzZWQgaW4gdGhlIGZhbGwgYmFjayBpdGVyYXRpb24uCiAgICBFeHBsaWNpdCBzZXR0aW5nIG9mIHRlbXBlcmF0dXJlPTAuMCBvdmVyd3JpdGVzIHRoZSBzY2hlZHVsZSBhbmQgZmFsbCBiYWNrIGRlY29kaW5nIGhhcyBvbmx5IG9uZSBmb3IgbG9vcCBpdGVyYXRpb24gaS5lLiBubyBmYWxsIGJhY2tzLgogICAgVGhpcyBhbGxvd3MgdXMgdG8gZG8gcmVwcm9kdWNpYmxlIGV2YWx1YXRpb24gd2l0aG91dCBzYW1wbGUgdmFyaWF0aW9ucy4gQmV3YXJlIHRoYXQgdGhpcyBtaWdodCBpbnRyb2R1Y2UgdGhlIHJlcGV0aXRpb24gbG9vcHMgaW4KICAgIHRoZSB0cmFuc2NyaXB0aW9ucyBhbmQgbGVhZCB0byB3b3JzZSBBU1ItQkxFVSBzY29yZSBpbiB0aGUgZW5kLgogICAgIiIiCgogICAgaWYgbGVuKGF1ZGlvX2xhbmcpID09IDM6CiAgICAgICAgIyB0byBtYWtlIGl0IHdvcmsgd2l0aCB3aGlzcGVyCiAgICAgICAgYXVkaW9fbGFuZyA9IExBTkczX0xBTkcyW2F1ZGlvX2xhbmddCgogICAgdHJhbnNjcmlwdGlvbnMgPSB7fQoKICAgIGZvciBpZHgsIGF1ZGlvX3BhdGggaW4gdHFkbSgKICAgICAgICBhdWRpb19wYXRoc19zZXJpZXMuaXRlbXMoKSwKICAgICAgICBkZXNjPWYiVHJhbnNjcmliaW5nIHthdWRpb19wYXRoc19zZXJpZXMubmFtZX0gY29sdW1uIiwKICAgICAgICB0b3RhbD1sZW4oYXVkaW9fcGF0aHNfc2VyaWVzKSwKICAgICk6CiAgICAgICAgaHlwbyA9IGFzcl9tb2RlbC50cmFuc2NyaWJlKAogICAgICAgICAgICBhdWRpb19wYXRoLAogICAgICAgICAgICB0ZW1wZXJhdHVyZT10ZW1wZXJhdHVyZSwKICAgICAgICAgICAgYmVhbV9zaXplPWJlYW1fc2l6ZSwKICAgICAgICAgICAgbGFuZ3VhZ2U9YXVkaW9fbGFuZywKICAgICAgICApWyJ0ZXh0Il0uc3RyaXAoKQogICAgICAgIHRyYW5zY3JpcHRpb25zW2lkeF0gPSBoeXBvCgogICAgdHJhbnNjcmlwdGlvbnNfc2VyaWVzID0gcGQuU2VyaWVzKHRyYW5zY3JpcHRpb25zKQogICAgdHJhbnNjcmlwdGlvbnNfc2VyaWVzLm5hbWUgPSBmInthdWRpb19wYXRoc19zZXJpZXMubmFtZX1fdHJhbnNjcmliZWQiCgogICAgcmV0dXJuIHRyYW5zY3JpcHRpb25zX3NlcmllcwoKCmRlZiB3aGlzcGVyX25vcm1hbGl6ZV9zZXJpZXMoCiAgICB0cmFuc2NyaXB0aW9uX3NlcmllczogcGQuU2VyaWVzLCB0ZXh0X2xhbmc6IHN0cgopIC0+IHBkLlNlcmllczoKICAgICIiIk5vcm1hbGl6ZXMgdGhlIHRleHQgc2VyaWVzIHVzaW5nIHdoaXNwZXIgbm9yYW1saXplci4gRW5nbGlzaCBoYXMgYSBzcGVjaWZpYyBvbmUgaW4gd2hpc3BlciBwYWNrYWdlLgogICAgQXJnczoKICAgICAgICB0cmFuc2NyaXB0aW9uX3NlcmllcyAocGQuU2VyaWVzKTogRWFjaCBsaW5lIGNvbnRhaW5zIGFyYml0cmFyeSB0ZXh0IHdyaXR0ZW4gaW4gdGV4dF9sYW5nCiAgICAgICAgdGV4dF9sYW5nIChzdHIpOiBMYW5ndWFnZSBvZiB0aGUgdGV4dCBpbiBzZXJpZXMKICAgIFJldHVybnM6CiAgICAgICAgcGQuU2VyaWVzOiBTZXJpZXMgd2l0aCBub3JtYWxpemVkIHRleHQKICAgICIiIgogICAgaWYgdGV4dF9sYW5nID09ICJlbmciOgogICAgICAgIG5vcm1hbGl6ZXIgPSBFbmdsaXNoVGV4dE5vcm1hbGl6ZXIoKQogICAgZWxzZToKICAgICAgICBub3JtYWxpemVyID0gQmFzaWNUZXh0Tm9ybWFsaXplcigpCgogICAgbm9ybV90cmFuc2NyaXB0aW9ucyA9IHt9CgogICAgZm9yIGlkeCwgdGV4dCBpbiB0cmFuc2NyaXB0aW9uX3Nlcmllcy5pdGVtcygpOgogICAgICAgIG5vcm1fdHJhbnNjcmlwdGlvbnNbaWR4XSA9IG5vcm1hbGl6ZXIodGV4dCkKCiAgICBub3JtX3RyYW5zY3JpcHRpb25zX3NlcmllcyA9IHBkLlNlcmllcyhub3JtX3RyYW5zY3JpcHRpb25zKQogICAgbm9ybV90cmFuc2NyaXB0aW9uc19zZXJpZXMubmFtZSA9IHRyYW5zY3JpcHRpb25fc2VyaWVzLm5hbWUKCiAgICByZXR1cm4gbm9ybV90cmFuc2NyaXB0aW9uc19zZXJpZXMKCgpkZWYgY29tcHV0ZV9hc3JfYmxldSgKICAgIGF1ZGlvX3BhdGhzX3NlcmllczogcGQuU2VyaWVzLAogICAgcmVmX3RleHRfc2VyaWVzOiBwZC5TZXJpZXMsCiAgICBsYW5nOiBzdHIsCiAgICBhc3JfbW9kZWw6IFdoaXNwZXIsCiAgICB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0OiBib29sID0gVHJ1ZSwKICAgIGJlYW1fc2l6ZTogaW50ID0gMSwKICAgIHRlbXBlcmF0dXJlOiBmbG9hdCA9IDAuMCwKICAgIHJldHVybl90cmFuc2NyaXB0aW9uczogYm9vbCA9IFRydWUsCikgLT4gVHVwbGVbU2NvcmUsIFNpZ25hdHVyZSwgcGQuRGF0YUZyYW1lXToKICAgICIiIldyYXBzIGZ1bmN0aW9ucyBhYm92ZSB0byBjb21wdXRlIGNvcnB1cy1sZXZlbCBBU1ItQkxFVQogICAgQVNSIGRlY29kaW5nIGh5cGVyLXBhcmFtZXRlcnMgYXJlIGhhcmQgY29kZWQgdG8gZW5zdXJlIHJlcHJvZHVjaWJpbGl0eSBhY3Jvc3MgZXZhbHVhdGlvbnMKICAgIEFyZ3M6CiAgICAgICAgYXVkaW9fcGF0aHNfc2VyaWVzIChwZC5TZXJpZXMpOiBlYWNoIGxpbmUgY29udGFpbnMgcGF0aCB0byBhdWRpbwogICAgICAgIHJlZl90ZXh0X3NlcmllcyAocGQuU2VyaWVzKTogZWFjaCBsaW5lIGNvbnRhaW5zIHRoZSB0ZXh0IHJlZmVyZW5jZSB0byBjb21wYXJlIGF1ZGlvIHdpdGgKICAgICAgICBsYW5nIChzdHIpOiB0aGUgbGFuZ3VhZ2Ugb2YgYm90aCBhdWRpbyBhbmQgcmVmX3RleHQKICAgICAgICBhc3JfbW9kZWw6IHdoaXNwZXIgQVNSIG1vZGVsCiAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dCAoYm9vbCk6IG5vcm1hbGl6ZSBib3RoIHRleHQgaHlwb3RoZXNlcyBhbmQgcmVmZXJlbmNlIGlmIFRydWUuIERlZmF1bHRzIHRvIFRydWUuCiAgICAgICAgYmVhbV9zaXplIChpbnQpOiBiZWFtX3NpemUgZm9yIHdoaXNwZXIgZ2VuZXJhdGlvbgogICAgICAgIHRlbXBlcmF0dXJlIChmbG9hdCk6IFRlbXBlcmF0dXJlIHNhbXBsaW5nIHZhbHVlIGZvciB3aGlzcGVyIGdlbmVyYXRpb24KICAgICAgICByZXR1cm5fdHJhbnNjcmlwdGlvbnMgKGJvb2wpCiAgICAiIiIKCiAgICBhdWRpb190cmFuc2NyaXB0aW9ucyA9IHRyYW5zY3JpYmVfc2VyaWVzKAogICAgICAgIGF1ZGlvX3BhdGhzX3NlcmllcywKICAgICAgICBhc3JfbW9kZWwsCiAgICAgICAgYXVkaW9fbGFuZz1sYW5nLAogICAgICAgIGJlYW1fc2l6ZT1iZWFtX3NpemUsCiAgICAgICAgdGVtcGVyYXR1cmU9dGVtcGVyYXR1cmUsCiAgICApCiAgICBhc3JfYmxldSwgYXNyX2JsZXVfc2lnbmF0dXJlID0gY29tcHV0ZV9jb3JwdXNfbWV0cmljX3Njb3JlKAogICAgICAgIGF1ZGlvX3RyYW5zY3JpcHRpb25zLCByZWZfdGV4dF9zZXJpZXMsIGxhbmcsIHdoaXNwZXJfbm9ybWFsaXplX3RleHQKICAgICkKICAgIGFzcl9ibGV1X3NpZ25hdHVyZS5pbmZvWyJ3aGlzcGVyX2Fzcl9iZWFtX3NpemUiXSA9IGJlYW1fc2l6ZQogICAgYXNyX2JsZXVfc2lnbmF0dXJlLmluZm9bIndoaXNwZXJfYXNyX3RlbXBlcmF0dXJlIl0gPSB0ZW1wZXJhdHVyZQogICAgYXNyX2JsZXVfc2lnbmF0dXJlLmluZm9bIndoaXNwZXJfYXNyX2xhbmd1YWdlIl0gPSBsYW5nCgogICAgdHJhbnNjcmlwdF9kZiA9IE5vbmUKICAgIGlmIHJldHVybl90cmFuc2NyaXB0aW9uczoKICAgICAgICB0cmFuc2NyaXB0X2RmID0gcGQuY29uY2F0KAogICAgICAgICAgICBbCiAgICAgICAgICAgICAgICBhdWRpb19wYXRoc19zZXJpZXMsCiAgICAgICAgICAgICAgICBhdWRpb190cmFuc2NyaXB0aW9ucywKICAgICAgICAgICAgICAgIHJlZl90ZXh0X3NlcmllcywKICAgICAgICAgICAgXSwKICAgICAgICAgICAgYXhpcz0xLAogICAgICAgICAgICBrZXlzPVsiYXVkaW8iLCAidHJhbnNjcmlwdCIsICJyZWZlcmVuY2UiXSwKICAgICAgICApCiAgICByZXR1cm4gYXNyX2JsZXUsIGFzcl9ibGV1X3NpZ25hdHVyZSwgdHJhbnNjcmlwdF9kZgoKCmRlZiBnZXRfdG9rZW5pemVyKGxhbmc6IHN0ciwgbWV0cmljOiBzdHIgPSAiYmxldSIpIC0+IHN0cjoKICAgICIiIkdldCB0b2tlbml6ZXIgZm9yIGxhbmd1YWdlCiAgICBBcmdzOgogICAgICAgIGxhbmcgKHN0cik6IFRocmVlIGxldHRlciBjb2RlIG9mIHRoZSBsYW5ndWFnZQogICAgICAgIG1ldHJpYyAoc3RyKTogTWV0cmljIGJlaW5nIGNvbXB1dGVkLiBWYWxpZCB2YWx1ZXMgYXJlICJibGV1IiBhbmQgImFzciIKICAgICIiIgogICAgbGFuZ190b2tfbWFwID0gewogICAgICAgICJjbW4iOiAiY2hhciIsCiAgICAgICAgImpwbiI6ICJjaGFyIiwKICAgICAgICAidGhhIjogImNoYXIiLAogICAgICAgICJsYW8iOiAiY2hhciIsCiAgICAgICAgIm15YSI6ICJjaGFyIiwKICAgIH0KICAgIGRlZmF1bHQgPSAoCiAgICAgICAgIjEzYSIgaWYgbWV0cmljID09ICJibGV1IiBlbHNlICJ3b3JkIgogICAgKSAgIyAxM2EgaXMgdGhlIGRlZmF1bHQgdG9rZW5pemVyIGZvciBibGV1IGFuZCB3ZXIgZm9yIGFzcgogICAgdG9rID0gbGFuZ190b2tfbWFwLmdldChsYW5nLCBkZWZhdWx0KQogICAgcmV0dXJuIHRvawoKCmRlZiBjb21wdXRlX2Fzcl9lcnJvcl9yYXRlKAogICAgaHlwX3RleHRfc2VyaWVzOiBwZC5TZXJpZXMsCiAgICByZWZfdGV4dF9zZXJpZXM6IHBkLlNlcmllcywKICAgIGxhbmc6IHN0ciwKICAgIHdoaXNwZXJfbm9ybWFsaXplX3RleHQ6IGJvb2wgPSBUcnVlLAopIC0+IFR1cGxlW2Zsb2F0LCBzdHJdOgogICAgIiIiV3JhcHMgbm9ybWFsaXphdGlvbiBmdW5jdGlvbnMgYW5kIGNvbXB1dGVzIEFTUiBXRVIvQ0VSIHNjb3JlCiAgICBBcmdzOgogICAgICAgIGh5cF90ZXh0X3NlcmllcyAocGQuU2VyaWVzKTogZWFjaCBsaW5lIGNvbnRhaW5zIHMydCBtb2RlbCBwcmVkaWN0aW9uIG9yIGZpcnN0IHBhc3MgcHJlZGljdGlvbgogICAgICAgIHJlZl90ZXh0X3NlcmllcyAocGQuU2VyaWVzKTogX2Rlc2NyaXB0aW9uXwogICAgICAgIGxhbmcgKHN0cik6IF9kZXNjcmlwdGlvbl8KICAgICAgICB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0IChib29sLCBvcHRpb25hbCk6IG5vcm1hbGl6ZSBib3RoIHRleHQgaHlwb3RoZXNlcyBhbmQgcmVmZXJlbmNlIGlmIFRydWUuIERlZmF1bHRzIHRvIFRydWUuCiAgICBSZXR1cm5zOgogICAgICAgIChNZXRyaWNTY29yZSwgTWV0cmljU2NvcmVTaWduYXR1cmUpCiAgICAiIiIKICAgIGlmIHdoaXNwZXJfbm9ybWFsaXplX3RleHQ6CiAgICAgICAgaHlwX3RleHRfc2VyaWVzID0gd2hpc3Blcl9ub3JtYWxpemVfc2VyaWVzKGh5cF90ZXh0X3NlcmllcywgbGFuZykKICAgICAgICByZWZfdGV4dF9zZXJpZXMgPSB3aGlzcGVyX25vcm1hbGl6ZV9zZXJpZXMocmVmX3RleHRfc2VyaWVzLCBsYW5nKQoKICAgIHRva2VuaXplcl9uYW1lID0gZ2V0X3Rva2VuaXplcihsYW5nLCBtZXRyaWM9ImVycm9yX3JhdGUiKQogICAgbWV0cmljX25hbWUgPSB3ZXIgaWYgdG9rZW5pemVyX25hbWUgPT0gIndvcmQiIGVsc2UgY2VyCiAgICBtZXRyaWNfc2NvcmUgPSBtZXRyaWNfbmFtZShoeXBfdGV4dF9zZXJpZXMudG9fbGlzdCgpLCByZWZfdGV4dF9zZXJpZXMudG9fbGlzdCgpKQogICAgcmV0dXJuIG1ldHJpY19zY29yZSwgZiJ7bWV0cmljX25hbWUuX19uYW1lX199IGlzIHttZXRyaWNfc2NvcmV9IgoKCmRlZiBjb21wdXRlX2NvcnB1c19tZXRyaWNfc2NvcmUoCiAgICBoeXBfdGV4dF9zZXJpZXM6IHBkLlNlcmllcywKICAgIHJlZl90ZXh0X3NlcmllczogcGQuU2VyaWVzLAogICAgbGFuZzogc3RyLAogICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dDogYm9vbCA9IFRydWUsCiAgICBtZXRyaWM6IHN0ciA9ICJibGV1IiwKKSAtPiBUdXBsZVtTY29yZSwgU2lnbmF0dXJlXToKICAgICIiIldyYXBzIG5vcm1hbGl6YXRpb24gZnVuY3Rpb25zIGFuZCBjb21wdXRlIGNvcnB1cy1sZXZlbCBCTEVVL2NockYrKyBzY29yZQogICAgQXJnczoKICAgICAgICBoeXBfdGV4dF9zZXJpZXMgKHBkLlNlcmllcyk6IGVhY2ggbGluZSBjb250YWlucyBzMnQgbW9kZWwgcHJlZGljdGlvbiBvciBmaXJzdCBwYXNzIHByZWRpY3Rpb24KICAgICAgICByZWZfdGV4dF9zZXJpZXMgKHBkLlNlcmllcyk6IF9kZXNjcmlwdGlvbl8KICAgICAgICBsYW5nIChzdHIpOiBfZGVzY3JpcHRpb25fCiAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dCAoYm9vbCwgb3B0aW9uYWwpOiBub3JtYWxpemUgYm90aCB0ZXh0IGh5cG90aGVzZXMgYW5kIHJlZmVyZW5jZSBpZiBUcnVlLiBEZWZhdWx0cyB0byBUcnVlLgogICAgUmV0dXJuczoKICAgICAgICAoTWV0cmljU2NvcmUsIE1ldHJpY1Njb3JlU2lnbmF0dXJlKQogICAgIiIiCiAgICBpZiB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0OgogICAgICAgIGh5cF90ZXh0X3NlcmllcyA9IHdoaXNwZXJfbm9ybWFsaXplX3NlcmllcyhoeXBfdGV4dF9zZXJpZXMsIGxhbmcpCiAgICAgICAgcmVmX3RleHRfc2VyaWVzID0gd2hpc3Blcl9ub3JtYWxpemVfc2VyaWVzKHJlZl90ZXh0X3NlcmllcywgbGFuZykKCiAgICB0b2tlbml6ZXJfbmFtZSA9IGdldF90b2tlbml6ZXIobGFuZykKICAgIGNvcnB1c19tZXRyaWNfc2NvcmVfbWV0cmljOiBVbmlvbltCTEVVLCBDSFJGXQogICAgaWYgbWV0cmljID09ICJibGV1IjoKICAgICAgICBjb3JwdXNfbWV0cmljX3Njb3JlX21ldHJpYyA9IEJMRVUoCiAgICAgICAgICAgIGxvd2VyY2FzZT13aGlzcGVyX25vcm1hbGl6ZV90ZXh0LCB0b2tlbml6ZT10b2tlbml6ZXJfbmFtZQogICAgICAgICkgICMgbG93ZXJjYXNlIGFwcGxpZWQgaWYgd2UgdXNlIHdoaXNwZXJfbm9ybWFsaXplX3RleHQKICAgIGVsaWYgbWV0cmljID09ICJjaHJGKysiOgogICAgICAgIGNvcnB1c19tZXRyaWNfc2NvcmVfbWV0cmljID0gQ0hSRih3b3JkX29yZGVyPTIpCgogICAgY29ycHVzX21ldHJpY19zY29yZSA9IGNvcnB1c19tZXRyaWNfc2NvcmVfbWV0cmljLmNvcnB1c19zY29yZSgKICAgICAgICBoeXBfdGV4dF9zZXJpZXMudG9fbGlzdCgpLCBbcmVmX3RleHRfc2VyaWVzLnRvX2xpc3QoKV0KICAgICkKICAgIGNvcnB1c19tZXRyaWNfc2NvcmVfc2lnbmF0dXJlID0gY29ycHVzX21ldHJpY19zY29yZV9tZXRyaWMuZ2V0X3NpZ25hdHVyZSgpCiAgICBjb3JwdXNfbWV0cmljX3Njb3JlX3NpZ25hdHVyZS5pbmZvWyJ3aGlzcGVyX25vcm1hbGl6ZSJdID0gd2hpc3Blcl9ub3JtYWxpemVfdGV4dAoKICAgIHJldHVybiBjb3JwdXNfbWV0cmljX3Njb3JlLCBjb3JwdXNfbWV0cmljX3Njb3JlX3NpZ25hdHVyZQoKCmRlZiBjb21wdXRlX3F1YWxpdHlfbWV0cmljcygKICAgIG91dHB1dF9tYW5pZmVzdF90c3ZfcGF0aDogUGF0aCwKICAgIG91dHB1dF9wYXRoOiBQYXRoLAogICAgdGd0X2xhbmc6IHN0ciwKICAgIHRhc2s6IHN0ciwKICAgIGRldmljZTogRGV2aWNlLAogICAgd2hpc3Blcl9tb2RlbF9uYW1lOiBzdHIgPSAibGFyZ2UiLAogICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQ6IGJvb2wgPSBGYWxzZSwKICAgIHJlZl90ZXh0X2NvbF9uYW1lOiBzdHIgPSAicmVmX3RndF90ZXh0IiwKICAgIHByZWRfdGV4dF9jb2xfbmFtZTogT3B0aW9uYWxbc3RyXSA9ICJwcmVkX3RndF90ZXh0IiwKICAgIHByZWRfYXVkaW9fY29sX25hbWU6IHN0ciA9ICJwcmVkX3RndF9hdWRpbyIsCikgLT4gc3RyOgogICAgIiIiV3JhcHMgYXNyIGFuZCBzMnQgYmxldSBmdW5jdGlvbnMgdG8gY2FsbCBpdCB3aXRoIFRTViBtYW5pZmVzdCBjb21wb3NlZCBvbiBleHByZXNzaXZpdHkgc2lkZQogICAgQXJnczoKICAgICAgICBvdXRwdXRfbWFuaWZlc3RfdHN2X3BhdGggKFBhdGgpOiBvdXRwdXQgbWFuaWZlc3Qgd2hpY2ggaGFzICJyZWZfdGV4dCIsICJoeXBvX2F1ZGlvIiwgInMydF9vdXQiIGNvbHVtbiBuYW1lcwogICAgICAgIG91dHB1dF9wYXRoIChQYXRoKTogRGlyZWN0b3J5IHRvIHdyaXRlIGZpbGVzIHdpdGggbWV0cmljcwogICAgICAgIHRndF9sYW5nIChzdHIpOiB3aGF0IGxhbmd1YWdlIHdlIGV2YWx1YXRlIG9uCiAgICAgICAgdGFzayAoc3RyKTogVGFzayB3ZSBhcmUgY3VycmVudGx5IGV2YWx1YXRpbmcgZm9yCiAgICAgICAgZGV2aWNlIChEZXZpY2UpOiBEZXZpY2UgdG8gdXNlIGZvciBpbmZlcmVuY2UKICAgICAgICB3aGlzcGVyX21vZGVsX25hbWUgKHN0cik6IFdoaXNwZXIgbW9kZWwgbmFtZS4gRGVmYXVsdHMgdG8gImxhcmdlIi4KICAgICAgICB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dCAoYm9vbCk6IE5vcm1hbGl6ZXMgdGV4dCBvdXRwdXQgdXNpbmcgd2hpc3Blcl9ub3JtYWxpemVyIGlmIHNldCB0byB0cnVlCiAgICAgICAgcmVmX3RleHRfY29sX25hbWUgKHN0cik6IENvbHVtbiBuYW1lIGluIHRoZSB0c3YgY29ycmVzcG9uZGluZyB0byByZWZlcmVuY2UgdGFyZ2V0IHRleHQKICAgICAgICBwcmVkX3RleHRfY29sX25hbWUgKHN0cik6IENvbHVtbiBuYW1lIGluIHRoZSB0c3YgY29ycmVzcG9uZGluZyB0byBwcmVkaWN0ZWQgdGFyZ2V0IHRleHQKICAgICAgICBwcmVkX2F1ZGlvX2NvbF9uYW1lIChzdHIpOiBDb2x1bW4gbmFtZSBpbiB0aGUgdHN2IGNvcnJlc3BvbmRpbmcgdG8gcHJlZGljdGVkIHRhcmdldCBhdWRpby4KICAgICAgICAgICAgU2V0dGluZyB0aGlzIHZhbHVlIHRvIG5vbmUgd2lsbCBza2lwIHNwZWVjaCBtZXRyaWNzCiAgICAiIiIKICAgIGRmID0gcGQucmVhZF9jc3YoCiAgICAgICAgb3V0cHV0X21hbmlmZXN0X3Rzdl9wYXRoLCBzZXA9Ilx0IiwgcXVvdGluZz0zLCBlbmNvZGluZz0idXRmLTgiLCBlc2NhcGVjaGFyPSJcXCIKICAgICkKICAgIHRhc2sgPSB0YXNrLnVwcGVyKCkKCiAgICBpZiBub3Qgb3V0cHV0X3BhdGguZXhpc3RzKCk6CiAgICAgICAgb3V0cHV0X3BhdGgubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQoKICAgIGlmIHRhc2sgaW4gWyJTMlRUIiwgIlMyU1QiLCAiVDJUVCJdIGFuZCBwcmVkX3RleHRfY29sX25hbWU6CiAgICAgICAgbWV0cmljID0gImNockYrKyIgaWYgdGFzayA9PSAiVDJUVCIgZWxzZSAiYmxldSIKICAgICAgICB0ZXh0X21ldHJpYywgdGV4dF9tZXRyaWNfc2lnbmF0dXJlID0gY29tcHV0ZV9jb3JwdXNfbWV0cmljX3Njb3JlKAogICAgICAgICAgICBoeXBfdGV4dF9zZXJpZXM9ZGZbcHJlZF90ZXh0X2NvbF9uYW1lXSwKICAgICAgICAgICAgcmVmX3RleHRfc2VyaWVzPWRmW3JlZl90ZXh0X2NvbF9uYW1lXSwKICAgICAgICAgICAgbGFuZz10Z3RfbGFuZywKICAgICAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dD13aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dCwKICAgICAgICAgICAgbWV0cmljPW1ldHJpYywKICAgICAgICApCiAgICAgICAgdGV4dF9tZXRyaWNfanNvbiA9IHRleHRfbWV0cmljLmZvcm1hdCgKICAgICAgICAgICAgc2lnbmF0dXJlPXRleHRfbWV0cmljX3NpZ25hdHVyZS5mb3JtYXQoKSwgaXNfanNvbj1UcnVlCiAgICAgICAgKQoKICAgICAgICBpZiB0YXNrID09ICJUMlRUIjoKICAgICAgICAgICAgZmlsZW5hbWUgPSAidDJ0dF9jaHJmLmpzb24iCiAgICAgICAgICAgIGN1cl90YXNrID0gIlQyVFQiCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZmlsZW5hbWUgPSAoCiAgICAgICAgICAgICAgICAiczJ0dF9ibGV1X25vcm1hbGl6ZWQuanNvbiIKICAgICAgICAgICAgICAgIGlmIHdoaXNwZXJfbm9ybWFsaXplX3RleHRfb3V0cHV0CiAgICAgICAgICAgICAgICBlbHNlICJzMnR0X2JsZXUuanNvbiIKICAgICAgICAgICAgKQogICAgICAgICAgICBjdXJfdGFzayA9ICJTMlRUIgoKICAgICAgICB3aXRoIG9wZW4ob3V0cHV0X3BhdGggLyBmaWxlbmFtZSwgInciKSBhcyBmOgogICAgICAgICAgICBmLndyaXRlKHRleHRfbWV0cmljX2pzb24pCgogICAgICAgIGxvZ2dlci5pbmZvKGYie2N1cl90YXNrfSB7bWV0cmljfTpcbnt0ZXh0X21ldHJpY19qc29ufSIpCgogICAgaWYgdGFzayBpbiBbIlQyU1QiLCAiUzJTVCJdOgogICAgICAgIHdoaXNwZXJfbW9kZWwgPSBpbml0X3doaXNwZXJfbW9kZWwoZGV2aWNlLCB3aGlzcGVyX21vZGVsX25hbWUpCiAgICAgICAgKAogICAgICAgICAgICBhc3JfYmxldV9ub3JtYWxpemVkLAogICAgICAgICAgICBhc3JfYmxldV9ub3JtYWxpemVkX3NpZ25hdHVyZSwKICAgICAgICAgICAgdHJhbnNjcmlwdHNfZGYsCiAgICAgICAgKSA9IGNvbXB1dGVfYXNyX2JsZXUoCiAgICAgICAgICAgIGF1ZGlvX3BhdGhzX3Nlcmllcz1kZltwcmVkX2F1ZGlvX2NvbF9uYW1lXSwKICAgICAgICAgICAgcmVmX3RleHRfc2VyaWVzPWRmW3JlZl90ZXh0X2NvbF9uYW1lXSwKICAgICAgICAgICAgbGFuZz10Z3RfbGFuZywKICAgICAgICAgICAgYXNyX21vZGVsPXdoaXNwZXJfbW9kZWwsCiAgICAgICAgICAgIHdoaXNwZXJfbm9ybWFsaXplX3RleHQ9VHJ1ZSwKICAgICAgICApCiAgICAgICAgdHJhbnNjcmlwdHNfZGYudG9fY3N2KAogICAgICAgICAgICAob3V0cHV0X3BhdGggLyAid2hpc3Blcl9hdWRpb190cmFuc2NyaXB0aW9ucy50c3YiKSwKICAgICAgICAgICAgc2VwPSJcdCIsCiAgICAgICAgICAgIGluZGV4PUZhbHNlLAogICAgICAgICAgICBlbmNvZGluZz0idXRmLTgiLAogICAgICAgICAgICBlc2NhcGVjaGFyPSJcXCIsCiAgICAgICAgKQoKICAgICAgICBhc3JfYmxldV9ub3JtYWxpemVkX3NpZ25hdHVyZS5pbmZvWyJ3aGlzcGVyX2Fzcl9tb2RlbCJdID0gd2hpc3Blcl9tb2RlbF9uYW1lCgogICAgICAgIGFzcl9ibGV1X25vcm1hbGl6ZWRfanNvbiA9IGFzcl9ibGV1X25vcm1hbGl6ZWQuZm9ybWF0KAogICAgICAgICAgICBzaWduYXR1cmU9YXNyX2JsZXVfbm9ybWFsaXplZF9zaWduYXR1cmUuZm9ybWF0KCksIGlzX2pzb249VHJ1ZQogICAgICAgICkKICAgICAgICBmaWxlbmFtZSA9IGYie3Rhc2subG93ZXIoKX1fYXNyX2JsZXVfbm9ybWFsaXplZC5qc29uIgoKICAgICAgICB3aXRoIG9wZW4oCiAgICAgICAgICAgIG91dHB1dF9wYXRoIC8gZmlsZW5hbWUsCiAgICAgICAgICAgICJ3IiwKICAgICAgICApIGFzIGY6CiAgICAgICAgICAgIGYud3JpdGUoYXNyX2JsZXVfbm9ybWFsaXplZF9qc29uKQoKICAgICAgICBsb2dnZXIuaW5mbyhmInt0YXNrfSBBU1IgTm9ybWFsaXplZCBCTEVVOlxue2Fzcl9ibGV1X25vcm1hbGl6ZWRfanNvbn0iKQoKICAgIGlmIHRhc2sgPT0gIkFTUiI6CiAgICAgICAgYXNyX2Vycm9yX3JhdGUsIGFzcl9lcnJvcl9yYXRlX3NpZ25hdHVyZSA9IGNvbXB1dGVfYXNyX2Vycm9yX3JhdGUoCiAgICAgICAgICAgIGh5cF90ZXh0X3Nlcmllcz1kZltwcmVkX3RleHRfY29sX25hbWVdLAogICAgICAgICAgICByZWZfdGV4dF9zZXJpZXM9ZGZbcmVmX3RleHRfY29sX25hbWVdLAogICAgICAgICAgICBsYW5nPXRndF9sYW5nLAogICAgICAgICAgICB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0PXdoaXNwZXJfbm9ybWFsaXplX3RleHRfb3V0cHV0LAogICAgICAgICkKICAgICAgICBkID0gewogICAgICAgICAgICAibmFtZSI6ICJXRVIiLAogICAgICAgICAgICAic2NvcmUiOiBhc3JfZXJyb3JfcmF0ZSwKICAgICAgICAgICAgInNpZ25hdHVyZSI6IGFzcl9lcnJvcl9yYXRlX3NpZ25hdHVyZSwKICAgICAgICB9CiAgICAgICAgYXNyX2Vycm9yX3JhdGVfanNvbiA9IGpzb24uZHVtcHMoZCwgaW5kZW50PTEsIGVuc3VyZV9hc2NpaT1GYWxzZSkKCiAgICAgICAgZmlsZW5hbWUgPSAiYXNyX2Vycm9yX3JhdGUuanNvbiIKCiAgICAgICAgd2l0aCBvcGVuKG91dHB1dF9wYXRoIC8gZmlsZW5hbWUsICJ3IikgYXMgZjoKICAgICAgICAgICAgZi53cml0ZShhc3JfZXJyb3JfcmF0ZV9qc29uKQoKICAgICAgICBsb2dnZXIuaW5mbyhmIkFTUiA6IHthc3JfZXJyb3JfcmF0ZV9qc29ufSIpCgogICAgcmV0dXJuIGZpbGVuYW1lCg=='),
    ('seamless/src/seamless_communication/cli/eval_utils/lang_mapping.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCkxBTkcyX0xBTkczID0gewogICAgImVuIjogImVuZyIsCiAgICAiYXIiOiAiYXJiIiwKICAgICJhcyI6ICJhc20iLAogICAgImJlIjogImJlbCIsCiAgICAiYmciOiAiYnVsIiwKICAgICJibiI6ICJiZW4iLAogICAgImNhIjogImNhdCIsCiAgICAiY2tiIjogImNrYiIsCiAgICAiY3MiOiAiY2VzIiwKICAgICJjeSI6ICJjeW0iLAogICAgImRhIjogImRhbiIsCiAgICAiZGUiOiAiZGV1IiwKICAgICJlbCI6ICJlbGwiLAogICAgImVzIjogInNwYSIsCiAgICAiZXQiOiAiZXN0IiwKICAgICJmYSI6ICJwZXMiLAogICAgImZpIjogImZpbiIsCiAgICAiZnIiOiAiZnJhIiwKICAgICJnYSI6ICJnbGUiLAogICAgImhpIjogImhpbiIsCiAgICAiaHUiOiAiaHVuIiwKICAgICJpZCI6ICJpbmQiLAogICAgIml0IjogIml0YSIsCiAgICAiamEiOiAianBuIiwKICAgICJrYSI6ICJrYXQiLAogICAgImt5IjogImtpciIsCiAgICAibGciOiAibHVnIiwKICAgICJsdCI6ICJsaXQiLAogICAgImx2IjogImx2cyIsCiAgICAibW4iOiAia2hrIiwKICAgICJtciI6ICJtYXIiLAogICAgIm10IjogIm1sdCIsCiAgICAibmwiOiAibmxkIiwKICAgICJwYSI6ICJwYW4iLAogICAgInBsIjogInBvbCIsCiAgICAicHQiOiAicG9yIiwKICAgICJybyI6ICJyb24iLAogICAgInJ1IjogInJ1cyIsCiAgICAic2siOiAic2xrIiwKICAgICJzbCI6ICJzbHYiLAogICAgInN2IjogInN3ZSIsCiAgICAic3ciOiAic3doIiwKICAgICJ0YSI6ICJ0YW0iLAogICAgInRoIjogInRoYSIsCiAgICAidHIiOiAidHVyIiwKICAgICJ1ayI6ICJ1a3IiLAogICAgInVyIjogInVyZCIsCiAgICAidXoiOiAidXpuIiwKICAgICJ2aSI6ICJ2aWUiLAogICAgInl1ZSI6ICJ5dWUiLAogICAgImFmIjogImFmciIsCiAgICAiaXMiOiAiaXNsIiwKICAgICJsYiI6ICJsdHoiLAogICAgIm5vIjogIm5vYiIsCiAgICAiZ2wiOiAiZ2xnIiwKICAgICJrZWEiOiAia2VhIiwKICAgICJicyI6ICJib3MiLAogICAgImhyIjogImhydiIsCiAgICAibWsiOiAibWtkIiwKICAgICJzciI6ICJzcnAiLAogICAgImh5IjogImh5ZSIsCiAgICAiYXoiOiAiYXpqIiwKICAgICJrayI6ICJrYXoiLAogICAgImtvIjogImtvciIsCiAgICAiZ3UiOiAiZ3VqIiwKICAgICJrbiI6ICJrYW4iLAogICAgIm5lIjogIm5waSIsCiAgICAib3IiOiAib3J5IiwKICAgICJzZCI6ICJzbmQiLAogICAgInRlIjogInRlbCIsCiAgICAiY2ViIjogImNlYiIsCiAgICAianYiOiAiamF2IiwKICAgICJtcyI6ICJ6bG0iLAogICAgIm1sIjogIm1hbCIsCiAgICAidGwiOiAidGdsIiwKICAgICJ0bCI6ICJmaWwiLAogICAgIm15IjogIm15YSIsCiAgICAia20iOiAia2htIiwKICAgICJsbyI6ICJsYW8iLAogICAgImhlIjogImhlYiIsCiAgICAicHMiOiAicGJ0IiwKICAgICJ0ZyI6ICJ0Z2siLAogICAgImFtIjogImFtaCIsCiAgICAiaWciOiAiaWJvIiwKICAgICJsbiI6ICJsaW4iLAogICAgIm5zbyI6ICJuc28iLAogICAgInNvIjogInNvbSIsCiAgICAieGgiOiAieGhvIiwKICAgICJ5byI6ICJ5b3IiLAogICAgInp1IjogInp1bCIsCiAgICAia2FtIjogImthbSIsCiAgICAibHVvIjogImx1byIsCiAgICAibnkiOiAibnlhIiwKICAgICJvbSI6ICJnYXoiLAogICAgInNuIjogInNuYSIsCiAgICAidW1iIjogInVtYiIsCiAgICAiZ2EtSUUiOiAiZ2xlIiwKICAgICJwYSI6ICJwYW4iLAogICAgInN2IjogInN3ZSIsCiAgICAiYXN0IjogImFzdCIsCiAgICAiZmYiOiAiZnVsIiwKICAgICJtaSI6ICJtcmkiLAogICAgImhhIjogImhhdSIsCiAgICAid28iOiAid29sIiwKICAgICJvYyI6ICJvY2kiLAogICAgImlsbyI6ICJpbG8iLAogICAgImJhIjogImJhayIsCiAgICAiYnIiOiAiYnJlIiwKICAgICJmeSI6ICJmcnkiLAogICAgInlpIjogInlpZCIsCiAgICAidG4iOiAidHNuIiwKICAgICJnZCI6ICJnbGEiLAogICAgImh0IjogImhhdCIsCiAgICAibWciOiAibWxnIiwKICAgICJucyI6ICJuc28iLAogICAgInNpIjogInNpbiIsCiAgICAic3EiOiAic3FpIiwKICAgICJzcyI6ICJzc3ciLAogICAgInN1IjogInN1biIsCiAgICAiemgiOiAiY21uIiwKICAgICJhYiI6ICJhYmsiLAogICAgImJhcyI6ICJiYXMiLAogICAgImNuaCI6ICJjbmgiLAogICAgImN2IjogImNodiIsCiAgICAiZHYiOiAiZGl2IiwKICAgICJlbyI6ICJlcG8iLAogICAgImV1IjogImV1cyIsCiAgICAiZnktTkwiOiAiZnJ5IiwKICAgICJnbiI6ICJncm4iLAogICAgImhzYiI6ICJoc2IiLAogICAgImh5IjogImh5ZSIsCiAgICAiaWEiOiAiaW5hIiwKICAgICJrYWIiOiAia2FiIiwKICAgICJrbXIiOiAia21yIiwKICAgICJtZGYiOiAibWRmIiwKICAgICJtaHIiOiAibWhyIiwKICAgICJteXYiOiAibXl2IiwKICAgICJuYW4tdHciOiAiaGJsIiwKICAgICJuZSI6ICJucGkiLAogICAgIm5uLU5PIjogIm5ubyIsCiAgICAicm0tc3Vyc2lsdiI6ICJybS1zdXJzaWx2IiwKICAgICJybS12YWxsYWRlciI6ICJybS12YWxsYWRlciIsCiAgICAicnciOiAia2luIiwKICAgICJzYWgiOiAic2FoIiwKICAgICJzYXQiOiAic2F0IiwKICAgICJzYyI6ICJzcmQiLAogICAgInRpZyI6ICJ0aWciLAogICAgInRvayI6ICJ0b2siLAogICAgInR0IjogInRhdCIsCiAgICAidWciOiAidWlnIiwKICAgICJ2b3QiOiAidm90IiwKICAgICJtcmoiOiAibXJqIiwKICAgICJza3IiOiAic2tyIiwKICAgICJ0aSI6ICJ0aXIiLAogICAgInR3IjogInR3aSIsCiAgICAiYm8iOiAiYm9kIiwKICAgICJmbyI6ICJmYW8iLAogICAgImd2IjogImdsdiIsCiAgICAiaGF3IjogImhhdyIsCiAgICAibGEiOiAibGF0IiwKICAgICJzYSI6ICJzYW4iLAogICAgInNjbyI6ICJzY28iLAogICAgIndhciI6ICJ3YXIiLAogICAgImhlIjogImhlYiIsCiAgICAianciOiAiamF2IiwKICAgICJubiI6ICJubm8iLAogICAgInRrIjogInR1ayIsCn0KTEFORzNfTEFORzIgPSB7djogayBmb3IgaywgdiBpbiBMQU5HMl9MQU5HMy5pdGVtcygpfQo='),
    ('seamless/src/seamless_communication/cli/m4t/__init__.py', ''),
    ('seamless/src/seamless_communication/cli/m4t/audio_to_units/audio_to_units.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKaW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBsb2dnaW5nCgppbXBvcnQgdG9yY2gKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdF9leHRyYWN0b3IgaW1wb3J0IFVuaXRFeHRyYWN0b3IKCmxvZ2dpbmcuYmFzaWNDb25maWcobGV2ZWw9bG9nZ2luZy5JTkZPKQpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgbWFpbigpOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoCiAgICAgICAgZGVzY3JpcHRpb249IkNvbnZlcnQgcmF3IGF1ZGlvIHRvIHVuaXRzIChhbmQgb3B0aW9uYWxseSBhdWRpbykgdXNpbmcgVW5pdEV4dHJhY3Rvci4iCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCJhdWRpbyIsIHR5cGU9c3RyLCBoZWxwPSJBdWRpbyBXQVYgZmlsZSBwYXRoLiIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWttZWFuc191cmkiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IlVSTCBwYXRoIHRvIHRoZSBLLU1lYW5zIG1vZGVsLiIsCiAgICAgICAgZGVmYXVsdD0iaHR0cHM6Ly9kbC5mYmFpcHVibGljZmlsZXMuY29tL3NlYW1sZXNzTTRUL21vZGVscy91bml0X2V4dHJhY3Rpb24va21lYW5zXzEway5ucHkiLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1tb2RlbF9uYW1lIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJGZWF0dXJlIGV4dHJhY3Rpb24gbW9kZWwgbmFtZSAoYHhsc3IyXzFiX3YyYCkiLAogICAgICAgIGRlZmF1bHQ9Inhsc3IyXzFiX3YyIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tb3V0X2xheWVyX251bWJlciIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iTGF5ZXIgbnVtYmVyIG9mIHRoZSBmZWF0dXJlIGV4dHJhY3Rpb24gbW9kZWwgdG8gcHVsbCBvdXQgZmVhdHVyZXMgZnJvbS4iLAogICAgICAgIGRlZmF1bHQ9MzUsCiAgICApCgogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKCiAgICBpZiB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpOgogICAgICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3VkYTowIikKICAgICAgICBsb2dnZXIuaW5mbygiUnVubmluZyB1bml0X2V4dHJhY3Rpb24gb24gdGhlIEdQVS4iKQogICAgZWxzZToKICAgICAgICBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoImNwdSIpCiAgICAgICAgbG9nZ2VyLmluZm8oIlJ1bm5pbmcgdW5pdF9leHRyYWN0aW9uIG9uIHRoZSBDUFUuIikKCiAgICB1bml0X2V4dHJhY3RvciA9IFVuaXRFeHRyYWN0b3IoYXJncy5tb2RlbF9uYW1lLCBhcmdzLmttZWFuc191cmksIGRldmljZT1kZXZpY2UpCiAgICB1bml0cyA9IHVuaXRfZXh0cmFjdG9yLnByZWRpY3QoYXJncy5hdWRpbywgYXJncy5vdXRfbGF5ZXJfbnVtYmVyIC0gMSkKICAgIGxvZ2dlci5pbmZvKGYiQ29udmVydGVkIHRvIHVuaXRzOiB7dW5pdHN9IikKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=='),
    ('seamless/src/seamless_communication/cli/m4t/audio_to_units/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCg=='),
    ('seamless/src/seamless_communication/cli/m4t/evaluate/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCg=='),
    ('seamless/src/seamless_communication/cli/m4t/evaluate/evaluate.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgY29udGV4dGxpYgppbXBvcnQgaXRlcnRvb2xzCmltcG9ydCBsb2dnaW5nCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCBqc29uCmZyb20gYXJncGFyc2UgaW1wb3J0IE5hbWVzcGFjZQpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QsIE9wdGlvbmFsLCBUdXBsZQoKaW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaGF1ZGlvCmZyb20gZmFpcnNlcTIuZGF0YSBpbXBvcnQgQ29sbGF0ZXIsIERhdGFQaXBlbGluZSwgRmlsZU1hcHBlcgpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IEF1ZGlvRGVjb2RlciwgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0IGltcG9ydCBTdHJTcGxpdHRlciwgVGV4dFRva2VuaXplciwgcmVhZF90ZXh0CmZyb20gZmFpcnNlcTIuZGF0YS50eXBpbmcgaW1wb3J0IFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdHFkbSBpbXBvcnQgdHFkbQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5ldmFsX3V0aWxzIGltcG9ydCAoCiAgICBjb21wdXRlX3F1YWxpdHlfbWV0cmljcywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5wcmVkaWN0IGltcG9ydCAoCiAgICBhZGRfaW5mZXJlbmNlX2FyZ3VtZW50cywKICAgIHNldF9nZW5lcmF0aW9uX29wdHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eSBpbXBvcnQgVW5pdFlNb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlIGltcG9ydCAoCiAgICBCYXRjaGVkU3BlZWNoT3V0cHV0LAogICAgTW9kYWxpdHksCiAgICBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMsCiAgICBUcmFuc2xhdG9yLAopCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBkYXRhY2xhc3MKY2xhc3MgRXZhbENvbnRleHQ6CiAgICB0YXNrOiBzdHIKICAgICIiIlN0cmluZyByZXByZXNlbnRpbmcgdGhlIHRhc2suIFZhbGlkIGNob2ljZXMgYXJlCiAgICAiUzJTVCIsICJTMlRUIiwgIlQyU1QiLCAiVDJUVCIsICJBU1IiLiIiIgoKICAgIGlucHV0X21vZGFsaXR5OiBNb2RhbGl0eQogICAgIiIiVGhlIGlucHV0IG1vZGFsaXR5IG9mIHRoZSB0YXNrLiIiIgoKICAgIG91dHB1dF9tb2RhbGl0eTogTW9kYWxpdHkKICAgICIiIlRoZSBvdXRwdXQgbW9kYWxpdHkgb2YgdGhlIHRhc2suIiIiCgogICAgbW9kZWxfbmFtZTogc3RyCiAgICAiIiJUaGUgbmFtZSBvZiB0aGUgUzJUIFVuaXRZIG1vZGVsLiIiIgoKICAgIGRhdGFfZmlsZTogUGF0aAogICAgIiIiVGhlIHBhdGhuYW1lIG9mIHRoZSB0ZXN0IGRhdGEgZmlsZSwgVFNWIG9yIG1hbmlmZXN0IEpTT04uIiIiCiAgICAKICAgIGRhdGFfZmlsZV90eXBlOiBzdHIKICAgICIiIlR5cGUgb2YgZGF0YSBmaWxlLCBUU1Ygb3IgbWFuaWZlc3QgSlNPTi4iIiIKCiAgICBhdWRpb19yb290X2RpcjogT3B0aW9uYWxbUGF0aF0KICAgICIiIlRoZSBwYXRobmFtZSBvZiB0aGUgZGlyZWN0b3J5IHVuZGVyIHdoaWNoCiAgICBhdWRpbyBmaWxlcyBhcmUgc3RvcmVkLiIiIgoKICAgIHRhcmdldF9sYW5nOiBzdHIKICAgICIiIlRoZSB0YXJnZXQgdHJhbnNsYXRpb24gbGFuZ3VhZ2UuIiIiCgogICAgc291cmNlX2xhbmc6IE9wdGlvbmFsW3N0cl0KICAgICIiIlRoZSBzb3VyY2UgbGFuZ3VhZ2UuIiIiCgogICAgYmF0Y2hfc2l6ZTogaW50CiAgICAiIiJUaGUgYmF0Y2ggc2l6ZSBmb3IgbW9kZWwgaW5wdXQuIiIiCgogICAgZGV2aWNlOiBEZXZpY2UKICAgICIiIlRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gcnVuIGluZmVyZW5jZS4iIiIKCiAgICBkdHlwZTogRGF0YVR5cGUKICAgICIiIlRoZSBkYXRhIHR5cGUgd2l0aCB3aGljaCB0byBydW4gaW5mZXJlbmNlLiIiIgoKICAgIG91dHB1dF9wYXRoOiBQYXRoCiAgICAiIiJUaGUgcGF0aG5hbWUgb2YgdGhlIG91dHB1dCBkaXJlY3RvcnkgdG8gc2F2ZQogICAgdGhlIGV2YWx1YXRpb24gcmVzdWx0cy4iIiIKCiAgICByZWZfZmllbGQ6IHN0cgogICAgIiIiVGhlIHJlZmVyZW5jZSB0YXJnZXQgdGV4dCBmaWVsZCB0byBjb21wdXRlCiAgICB0aGUgQkxFVSBzY29yZSBhZ2FpbnN0LiIiIgoKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzOiBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMKICAgICIiIlRleHQgZ2VuZXJhdGlvbiBoeXBlcnBhcmFtZXRlcnMuIiIiCgogICAgdW5pdF9nZW5lcmF0aW9uX29wdHM6IE9wdGlvbmFsW1NlcXVlbmNlR2VuZXJhdG9yT3B0aW9uc10KICAgICIiIlVuaXQgZ2VuZXJhdGlvbiBoeXBlcnBhcmFtZXRlcnMsIG5vdCBhcHBsaWNhYmxlCiAgICBmb3IgdGhlIE5BUiBUMlUgZGVjb2Rlci4iIiIKCiAgICB1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nOiBib29sCiAgICAiIiJJZiBUcnVlLCByZW1vdmVzIGNvbnNlY3V0aXZlIHJlcGVhdGluZyBuZ3JhbXMKICAgIGZyb20gdGhlIGRlY29kZWQgdW5pdCBvdXRwdXQuIiIiCgoKZGVmIGNvdW50X2xpbmVzKGZpbGVuYW1lOiBQYXRoKSAtPiBpbnQ6CiAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bihbIndjIiwgIi1sIiwgZmlsZW5hbWVdLCBzdGRvdXQ9c3VicHJvY2Vzcy5QSVBFKQogICAgcmV0dXJuIGludChyZXN1bHQuc3Rkb3V0LmRlY29kZSgpLnNwbGl0KClbMF0pCgoKZGVmIGJ1aWxkX2RhdGFfcGlwZWxpbmUoCiAgICBjdHg6IEV2YWxDb250ZXh0LAogICAgdGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIsCikgLT4gRGF0YVBpcGVsaW5lOgogICAgCiAgICBpZiBjdHguZGF0YV9maWxlX3R5cGUgPT0gIlRTViI6CiAgICAgICAgd2l0aCBvcGVuKGN0eC5kYXRhX2ZpbGUsICJyIikgYXMgZjoKICAgICAgICAgICAgaGVhZGVyID0gZi5yZWFkbGluZSgpLnN0cmlwKCJcbiIpLnNwbGl0KCJcdCIpCiAgICAgICAgICAgIGZpcnN0X2V4YW1wbGUgPSBmLnJlYWRsaW5lKCkuc3RyaXAoIlxuIikuc3BsaXQoIlx0IikKCiAgICAgICAgZm9ybWF0X3RzdiA9IFN0clNwbGl0dGVyKG5hbWVzPWhlYWRlcikKICAgICAgICBwaXBlbGluZV9idWlsZGVyID0gcmVhZF90ZXh0KGN0eC5kYXRhX2ZpbGUsIHJ0cmltPVRydWUpLnNraXAoMSkubWFwKGZvcm1hdF90c3YpCiAgICAgICAgCiAgICBlbGlmIGN0eC5kYXRhX2ZpbGVfdHlwZSA9PSAiSlNPTiI6CiAgICAgICAgZGVmIGZvcm1hdF9qc29uKGxpbmU6IHN0cik6CiAgICAgICAgICAgIGV4YW1wbGUgPSBqc29uLmxvYWRzKHN0cihsaW5lKSkKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICJzcmNfdGV4dCI6IGV4YW1wbGVbInNvdXJjZSJdWyJ0ZXh0Il0sCiAgICAgICAgICAgICAgICAic3JjX2xhbmciOiBleGFtcGxlWyJzb3VyY2UiXVsibGFuZyJdLAogICAgICAgICAgICAgICAgImF1ZGlvIjogZXhhbXBsZVsic291cmNlIl1bImF1ZGlvX2xvY2FsX3BhdGgiXSwKICAgICAgICAgICAgICAgICJ0Z3RfdGV4dCI6IGV4YW1wbGVbInRhcmdldCJdWyJ0ZXh0Il0sCiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICB3aXRoIG9wZW4oY3R4LmRhdGFfZmlsZSwgInIiKSBhcyBmOgogICAgICAgICAgICBoZWFkZXIgPSBsaXN0KGZvcm1hdF9qc29uKGYucmVhZGxpbmUoKSkua2V5cygpKQogICAgICAgICAgICBmaXJzdF9leGFtcGxlID0gbGlzdChmb3JtYXRfanNvbihmLnJlYWRsaW5lKCkpLnZhbHVlcygpKQogICAgICAgICAgICAKICAgICAgICBwaXBlbGluZV9idWlsZGVyID0gcmVhZF90ZXh0KGN0eC5kYXRhX2ZpbGUsIHJ0cmltPVRydWUpLm1hcChmb3JtYXRfanNvbikKICAgICAgICAKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcgoKICAgICMgVE9ETzogVGhpcyB3aWxsIGJlIHNvb24gYXV0by10dW5lZC4gUmlnaHQgbm93IGhhbmQtdHVuZWQgZm9yIGRldmZhaXIuCiAgICBuX3BhcmFsbGVsID0gNAogICAgaWYgY3R4LmlucHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICBhc3NlcnQgY3R4LmF1ZGlvX3Jvb3RfZGlyIGlzIG5vdCBOb25lCgogICAgICAgIG1hcF9maWxlID0gRmlsZU1hcHBlcihyb290X2Rpcj1jdHguYXVkaW9fcm9vdF9kaXIsIGNhY2hlZF9mZF9jb3VudD0xMCkKCiAgICAgICAgcGlwZWxpbmVfYnVpbGRlci5tYXAobWFwX2ZpbGUsIHNlbGVjdG9yPSJhdWRpbyIsIG51bV9wYXJhbGxlbF9jYWxscz1uX3BhcmFsbGVsKQoKICAgICAgICBkZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWN0eC5kZXZpY2UpCgogICAgICAgIGNvbnZlcnRfdG9fZmJhbmsgPSBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoCiAgICAgICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgICAgIGNoYW5uZWxfbGFzdD1UcnVlLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1UcnVlLAogICAgICAgICAgICBkZXZpY2U9Y3R4LmRldmljZSwKICAgICAgICAgICAgZHR5cGU9Y3R4LmR0eXBlLAogICAgICAgICkKCiAgICAgICAgcGlwZWxpbmVfYnVpbGRlci5tYXAoCiAgICAgICAgICAgIFtkZWNvZGVfYXVkaW8sIGNvbnZlcnRfdG9fZmJhbmtdLAogICAgICAgICAgICBzZWxlY3Rvcj0iYXVkaW8uZGF0YSIsCiAgICAgICAgICAgIG51bV9wYXJhbGxlbF9jYWxscz1uX3BhcmFsbGVsLAogICAgICAgICkKICAgIGVsc2U6CiAgICAgICAgaWYgInNyY19sYW5nIiBpbiBoZWFkZXI6CiAgICAgICAgICAgIHNvdXJjZV9sYW5nID0gZmlyc3RfZXhhbXBsZVtoZWFkZXIuaW5kZXgoInNyY19sYW5nIildCiAgICAgICAgICAgIGN0eC5zb3VyY2VfbGFuZyA9IHNvdXJjZV9sYW5nCiAgICAgICAgZWxpZiBjdHguc291cmNlX2xhbmcgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICAiJ3NyY19sYW5nJyBpcyBtaXNzaW5nIGluIHRoZSBkYXRhX2ZpbGUiCiAgICAgICAgICAgICAgICAgICAgImhlYWRlciBhbmQgaW4gdGhlIGFyZ3VtZW50cy4iCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKCiAgICAgICAgdG9rZW5fZW5jb2RlciA9IHRleHRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKAogICAgICAgICAgICB0YXNrPSJ0cmFuc2xhdGlvbiIsIGxhbmc9c291cmNlX2xhbmcsIG1vZGU9InNvdXJjZSIsIGRldmljZT1jdHguZGV2aWNlCiAgICAgICAgKQogICAgICAgIHBpcGVsaW5lX2J1aWxkZXIubWFwKAogICAgICAgICAgICBbdG9rZW5fZW5jb2Rlcl0sCiAgICAgICAgICAgIHNlbGVjdG9yPSJzcmNfdGV4dCIsCiAgICAgICAgICAgIG51bV9wYXJhbGxlbF9jYWxscz1uX3BhcmFsbGVsLAogICAgICAgICkKCiAgICBwaXBlbGluZV9idWlsZGVyLmJ1Y2tldChidWNrZXRfc2l6ZT1jdHguYmF0Y2hfc2l6ZSkKCiAgICBjb2xsYXRlID0gQ29sbGF0ZXIocGFkX3ZhbHVlPTAsIHBhZF90b19tdWx0aXBsZT0xKQoKICAgIHBpcGVsaW5lX2J1aWxkZXIubWFwKGNvbGxhdGUsIG51bV9wYXJhbGxlbF9jYWxscz1uX3BhcmFsbGVsKQoKICAgIHBpcGVsaW5lX2J1aWxkZXIucHJlZmV0Y2goNCkKCiAgICByZXR1cm4gcGlwZWxpbmVfYnVpbGRlci5hbmRfcmV0dXJuKCkKCgpkZWYgYWRqdXN0X291dHB1dF9mb3JfY29ycnVwdGVkX2lucHV0cygKICAgIHZhbGlkX3NlcXVlbmNlczogVGVuc29yLAogICAgdGV4dF9vdXRwdXQ6IExpc3RbU3RyaW5nTGlrZV0sCiAgICBzcGVlY2hfb3V0cHV0OiBPcHRpb25hbFtCYXRjaGVkU3BlZWNoT3V0cHV0XSwKKSAtPiBUdXBsZVtMaXN0W1N0cmluZ0xpa2VdLCBPcHRpb25hbFtCYXRjaGVkU3BlZWNoT3V0cHV0XV06CiAgICBhZGp1c3RlZF90ZXh0X291dHB1dDogTGlzdFtTdHJpbmdMaWtlXSA9IFtdCiAgICBhZGp1c3RlZF9zcGVlY2hfb3V0cHV0OiBPcHRpb25hbFtCYXRjaGVkU3BlZWNoT3V0cHV0XSA9IE5vbmUKCiAgICBpZiBzcGVlY2hfb3V0cHV0IGlzIG5vdCBOb25lOgogICAgICAgIGFzc2VydCAoCiAgICAgICAgICAgIGxlbih0ZXh0X291dHB1dCkKICAgICAgICAgICAgPT0gbGVuKHNwZWVjaF9vdXRwdXQudW5pdHMpCiAgICAgICAgICAgID09IGxlbihzcGVlY2hfb3V0cHV0LmF1ZGlvX3dhdnMpCiAgICAgICAgKQogICAgICAgIGFkanVzdGVkX3NwZWVjaF9vdXRwdXQgPSBCYXRjaGVkU3BlZWNoT3V0cHV0KHVuaXRzPVtdLCBhdWRpb193YXZzPVtdKQoKICAgIGJhdGNoX2NvdW50ZXIgPSAwCiAgICBmb3IgaXNfdmFsaWQgaW4gdmFsaWRfc2VxdWVuY2VzOgogICAgICAgIGlmIGlzX3ZhbGlkOgogICAgICAgICAgICBhZGp1c3RlZF90ZXh0X291dHB1dC5hcHBlbmQodGV4dF9vdXRwdXRbYmF0Y2hfY291bnRlcl0pCiAgICAgICAgICAgIGlmIHNwZWVjaF9vdXRwdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBhc3NlcnQgYWRqdXN0ZWRfc3BlZWNoX291dHB1dCBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgYWRqdXN0ZWRfc3BlZWNoX291dHB1dC51bml0cy5hcHBlbmQoc3BlZWNoX291dHB1dC51bml0c1tiYXRjaF9jb3VudGVyXSkKICAgICAgICAgICAgICAgIGFkanVzdGVkX3NwZWVjaF9vdXRwdXQuYXVkaW9fd2F2cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgc3BlZWNoX291dHB1dC5hdWRpb193YXZzW2JhdGNoX2NvdW50ZXJdCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGJhdGNoX2NvdW50ZXIgKz0gMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgRm9yIHRoZSBjb3JydXB0ZWQgaW5wdXRzLCB3ZSBzYXZlIHRoZSBmb2xsb3dpbmcgZHVtbXkgb3V0cHV0czoKICAgICAgICAgICAgIyBlbXB0eSBzdHJpbmcgZm9yIHRleHQsIGVtcHR5IGxpc3QgZm9yIHVuaXRzLCAxIHNlY29uZCBvZiBzaWxlbmNlIGZvciBhdWRpby4KICAgICAgICAgICAgYWRqdXN0ZWRfdGV4dF9vdXRwdXQuYXBwZW5kKCIiKQogICAgICAgICAgICBpZiBhZGp1c3RlZF9zcGVlY2hfb3V0cHV0IGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgc2FtcGxlX3JhdGUgPSBhZGp1c3RlZF9zcGVlY2hfb3V0cHV0LnNhbXBsZV9yYXRlCiAgICAgICAgICAgICAgICBhZGp1c3RlZF9zcGVlY2hfb3V0cHV0LnVuaXRzLmFwcGVuZChbXSkKICAgICAgICAgICAgICAgIGFkanVzdGVkX3NwZWVjaF9vdXRwdXQuYXVkaW9fd2F2cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgdG9yY2guemVyb3Moc2FtcGxlX3JhdGUpLnVuc3F1ZWV6ZSgwKS51bnNxdWVlemUoMCkKICAgICAgICAgICAgICAgICkKICAgIHJldHVybiAoCiAgICAgICAgYWRqdXN0ZWRfdGV4dF9vdXRwdXQsCiAgICAgICAgYWRqdXN0ZWRfc3BlZWNoX291dHB1dCwKICAgICkKCgpkZWYgcnVuX2V2YWwoCiAgICB0cmFuc2xhdG9yOiBUcmFuc2xhdG9yLAogICAgY3R4OiBFdmFsQ29udGV4dCwKICAgIHdoaXNwZXJfbW9kZWxfbmFtZTogc3RyLAogICAgbl9zYW1wbGVzID0gTm9uZQopIC0+IE5vbmU6CiAgICBwaXBlbGluZSA9IGJ1aWxkX2RhdGFfcGlwZWxpbmUoY3R4LCB0cmFuc2xhdG9yLnRleHRfdG9rZW5pemVyKQoKICAgIHRvdGFsX3N0ZXBzID0gY291bnRfbGluZXMoY3R4LmRhdGFfZmlsZSkgLSAxCiAgICBwcm9ncmVzc19iYXIgPSB0cWRtKHRvdGFsPW5fc2FtcGxlcyBvciB0b3RhbF9zdGVwcykKCiAgICBvdXRwdXRfcGF0aCA9IGN0eC5vdXRwdXRfcGF0aCAvIGN0eC5kYXRhX2ZpbGUuc3RlbQogICAgb3V0cHV0X3BhdGgubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQoKICAgIGlmIGN0eC5vdXRwdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgIHdhdmVmb3Jtc19kaXIgPSBvdXRwdXRfcGF0aCAvIGYid2F2ZWZvcm1fe2N0eC5kYXRhX2ZpbGUuc3RlbX0iCiAgICAgICAgd2F2ZWZvcm1zX2Rpci5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgbW9kZWxfb3V0cHV0c190c3YgPSBvdXRwdXRfcGF0aCAvIGYibW9kZWwtb3V0cHV0cy17Y3R4LmRhdGFfZmlsZS5zdGVtfS50eHQiCiAgICB1bml0X291dHB1dHNfdHN2ID0gb3V0cHV0X3BhdGggLyBmInVuaXRfb3V0cHV0LXtjdHguZGF0YV9maWxlLnN0ZW19LnR4dCIKICAgIHdpdGggb3Blbihtb2RlbF9vdXRwdXRzX3RzdiwgInciKSBhcyBoeXBfZmlsZSwgb3BlbigKICAgICAgICB1bml0X291dHB1dHNfdHN2LCAidyIKICAgICkgaWYgY3R4Lm91dHB1dF9tb2RhbGl0eSA9PSBNb2RhbGl0eS5TUEVFQ0ggZWxzZSBjb250ZXh0bGliLm51bGxjb250ZXh0KAogICAgICAgIGl0ZXJ0b29scy5yZXBlYXQoTm9uZSkKICAgICkgYXMgdW5pdF9maWxlOgogICAgICAgIHNhbXBsZV9pZCA9IDAKICAgICAgICBpZiBjdHgub3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICAgICAgaHlwX2ZpbGUud3JpdGUoInJlZl90Z3RfdGV4dFx0cHJlZF90Z3RfdGV4dFx0cHJlZF90Z3RfYXVkaW9cbiIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaHlwX2ZpbGUud3JpdGUoInJlZl90Z3RfdGV4dFx0cHJlZF90Z3RfdGV4dFxuIikKICAgICAgICBmb3IgZXhhbXBsZSBpbiBwaXBlbGluZToKICAgICAgICAgICAgdmFsaWRfc2VxdWVuY2VzOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZQogICAgICAgICAgICBpZiBjdHguaW5wdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgICAgICAgICAgc3JjID0gZXhhbXBsZVsiYXVkaW8iXVsiZGF0YSJdWyJmYmFuayJdCiAgICAgICAgICAgICAgICAjIFNraXAgY29ycnVwdGVkIGF1ZGlvIHRlbnNvcnMuCiAgICAgICAgICAgICAgICB2YWxpZF9zZXF1ZW5jZXMgPSB+dG9yY2guYW55KAogICAgICAgICAgICAgICAgICAgIHRvcmNoLmFueSh0b3JjaC5pc25hbihzcmNbInNlcXMiXSksIGRpbT0xKSwgZGltPTEKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmIG5vdCB2YWxpZF9zZXF1ZW5jZXMuYWxsKCk6CiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoCiAgICAgICAgICAgICAgICAgICAgICAgIGYiU2FtcGxlIElEcyB7c2FtcGxlX2lkfSB0byB7c2FtcGxlX2lkICsgY3R4LmJhdGNoX3NpemV9IGhhcyBzb21lIGNvcnJ1cHRlZCBpbnB1dC4iCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIHNyY1sic2VxcyJdID0gc3JjWyJzZXFzIl1bdmFsaWRfc2VxdWVuY2VzXQogICAgICAgICAgICAgICAgICAgIHNyY1sic2VxX2xlbnMiXSA9IHNyY1sic2VxX2xlbnMiXVt2YWxpZF9zZXF1ZW5jZXNdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzcmMgPSBleGFtcGxlWyJzcmNfdGV4dCJdCgogICAgICAgICAgICAjIFNraXAgcGVyZm9ybWluZyBpbmZlcmVuY2Ugd2hlbiB0aGUgaW5wdXQgaXMgZW50aXJlbHkgY29ycnVwdGVkLgogICAgICAgICAgICBpZiBzcmNbInNlcXMiXS5udW1lbCgpID4gMDoKICAgICAgICAgICAgICAgICMgSEFDSzo6IEZpeCB0aGlzIGJhZCBoYW5kbGluZwogICAgICAgICAgICAgICAgIyBSdW50aW1lRXJyb3I6IFRoZSBzZXF1ZW5jZSBnZW5lcmF0b3IgcmV0dXJuZWQgbm8gaHlwb3RoZXNpcyBhdCBpbmRleCAyLiBQbGVhc2UgZmlsZSBhIGJ1ZyByZXBvcnQuCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgKHRleHRfb3V0cHV0LCBzcGVlY2hfb3V0cHV0LCkgPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgICAgICAgICAgICAgICAgIHNyYywKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRhc2ssCiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50YXJnZXRfbGFuZywKICAgICAgICAgICAgICAgICAgICAgICAgc3JjX2xhbmc9Y3R4LnNvdXJjZV9sYW5nLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cz1jdHgudGV4dF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPWN0eC51bml0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICAgICAgICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZz1jdHgudW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZywKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBleGNlcHQgUnVudGltZUVycm9yIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmV4Y2VwdGlvbihmIkNhdWdodCBSdW50aW1lRXJyb3I6IHtlfSIpCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRleHRfb3V0cHV0ID0gW10KICAgICAgICAgICAgICAgIGlmIGN0eC5vdXRwdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgICAgICAgICAgICAgIHNwZWVjaF9vdXRwdXQgPSBCYXRjaGVkU3BlZWNoT3V0cHV0KHVuaXRzPVtdLCBhdWRpb193YXZzPVtdKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBzcGVlY2hfb3V0cHV0ID0gTm9uZQoKICAgICAgICAgICAgaWYgdmFsaWRfc2VxdWVuY2VzIGlzIG5vdCBOb25lIGFuZCBub3QgdmFsaWRfc2VxdWVuY2VzLmFsbCgpOgogICAgICAgICAgICAgICAgKHRleHRfb3V0cHV0LCBzcGVlY2hfb3V0cHV0LCkgPSBhZGp1c3Rfb3V0cHV0X2Zvcl9jb3JydXB0ZWRfaW5wdXRzKAogICAgICAgICAgICAgICAgICAgIHZhbGlkX3NlcXVlbmNlcywKICAgICAgICAgICAgICAgICAgICB0ZXh0X291dHB1dCwKICAgICAgICAgICAgICAgICAgICBzcGVlY2hfb3V0cHV0LAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgaHlwcyA9IFtzdHIocykgZm9yIHMgaW4gdGV4dF9vdXRwdXRdCiAgICAgICAgICAgIHJlZnMgPSBbc3RyKHMpIGZvciBzIGluIGV4YW1wbGVbY3R4LnJlZl9maWVsZF1dCgogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4odGV4dF9vdXRwdXQpKToKICAgICAgICAgICAgICAgIGlmIGN0eC5vdXRwdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgICAgICAgICAgICAgIGFzc2VydCBzcGVlY2hfb3V0cHV0IGlzIG5vdCBOb25lCiAgICAgICAgICAgICAgICAgICAgdSA9IHNwZWVjaF9vdXRwdXQudW5pdHNbaV0KICAgICAgICAgICAgICAgICAgICBzdHJfdW5pdHMgPSBbc3RyKGkpIGZvciBpIGluIHVdCiAgICAgICAgICAgICAgICAgICAgdW5pdF9maWxlLndyaXRlKCIgIi5qb2luKHN0cl91bml0cykgKyAiXG4iKQogICAgICAgICAgICAgICAgICAgIHdhdl9mcCA9IHN0cih3YXZlZm9ybXNfZGlyIC8gZiJ7c2FtcGxlX2lkfV9wcmVkLndhdiIpCiAgICAgICAgICAgICAgICAgICAgdG9yY2hhdWRpby5zYXZlKAogICAgICAgICAgICAgICAgICAgICAgICB3YXZfZnAsCiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVjaF9vdXRwdXQuYXVkaW9fd2F2c1tpXVswXS50byh0b3JjaC5mbG9hdDMyKS5jcHUoKSwKICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlX3JhdGU9c3BlZWNoX291dHB1dC5zYW1wbGVfcmF0ZSwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgaHlwX2ZpbGUud3JpdGUoZiJ7cmVmc1tpXX1cdHtoeXBzW2ldfVx0e3dhdl9mcH1cbiIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGh5cF9maWxlLndyaXRlKGYie3JlZnNbaV19XHR7aHlwc1tpXX1cbiIpCgogICAgICAgICAgICAgICAgc2FtcGxlX2lkICs9IDEKICAgICAgICAgICAgICAgIHByb2dyZXNzX2Jhci51cGRhdGUoMSkKICAgICAgICAgICAgICAgIGlmIG5fc2FtcGxlcyBhbmQgcHJvZ3Jlc3NfYmFyLm4gPT0gbl9zYW1wbGVzOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGlmIG5fc2FtcGxlcyBhbmQgcHJvZ3Jlc3NfYmFyLm4gPT0gbl9zYW1wbGVzOgogICAgICAgICAgICAgICAgYnJlYWsKCiAgICBwcm9ncmVzc19iYXIuY2xvc2UoKQogICAgbG9nZ2VyLmluZm8oZiJQcm9jZXNzZWQge3NhbXBsZV9pZH0gc2FtcGxlcyIpCgogICAgY29tcHV0ZV9xdWFsaXR5X21ldHJpY3MoCiAgICAgICAgb3V0cHV0X21hbmlmZXN0X3Rzdl9wYXRoPW1vZGVsX291dHB1dHNfdHN2LAogICAgICAgIG91dHB1dF9wYXRoPW91dHB1dF9wYXRoLAogICAgICAgIHRndF9sYW5nPWN0eC50YXJnZXRfbGFuZywKICAgICAgICB0YXNrPWN0eC50YXNrLAogICAgICAgIGRldmljZT1jdHguZGV2aWNlLAogICAgICAgIHdoaXNwZXJfbW9kZWxfbmFtZT13aGlzcGVyX21vZGVsX25hbWUsCiAgICApCgoKZGVmIGxvYWRfY2hlY2twb2ludChtb2RlbDogVW5pdFlNb2RlbCwgcGF0aDogc3RyLCBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoImNwdSIpKSAtPiBOb25lOgogICAgc2F2ZWRfbW9kZWwgPSB0b3JjaC5sb2FkKHBhdGgsIG1hcF9sb2NhdGlvbj1kZXZpY2UpWyJtb2RlbCJdCiAgICBzYXZlZF9tb2RlbCA9IHsgay5yZXBsYWNlKCJtb2RlbC4iLCAiIik6IHYgZm9yIGssIHYgaW4gc2F2ZWRfbW9kZWwuaXRlbXMoKSB9CgogICAgZGVmIF9zZWxlY3Rfa2V5cyhzdGF0ZV9kaWN0OiBEaWN0W3N0ciwgQW55XSwgcHJlZml4OiBzdHIpIC0+IERpY3Rbc3RyLCBBbnldOgogICAgICAgIHJldHVybiB7a2V5LnJlcGxhY2UocHJlZml4LCAiIik6IHZhbHVlIGZvciBrZXksIHZhbHVlIGluIHN0YXRlX2RpY3QuaXRlbXMoKSBpZiBrZXkuc3RhcnRzd2l0aChwcmVmaXgpfQoKICAgIG1vZGVsLnNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kLmxvYWRfc3RhdGVfZGljdChfc2VsZWN0X2tleXMoc2F2ZWRfbW9kZWwsICJtb2RlbC5zcGVlY2hfZW5jb2Rlcl9mcm9udGVuZC4iKSkKICAgIG1vZGVsLnNwZWVjaF9lbmNvZGVyLmxvYWRfc3RhdGVfZGljdChfc2VsZWN0X2tleXMoc2F2ZWRfbW9kZWwsICJtb2RlbC5zcGVlY2hfZW5jb2Rlci4iKSkKCiAgICBhc3NlcnQgbW9kZWwudGV4dF9kZWNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lCiAgICBtb2RlbC50ZXh0X2RlY29kZXJfZnJvbnRlbmQubG9hZF9zdGF0ZV9kaWN0KF9zZWxlY3Rfa2V5cyhzYXZlZF9tb2RlbCwgIm1vZGVsLnRleHRfZGVjb2Rlcl9mcm9udGVuZC4iKSkKCiAgICBhc3NlcnQgbW9kZWwudGV4dF9kZWNvZGVyIGlzIG5vdCBOb25lCiAgICBtb2RlbC50ZXh0X2RlY29kZXIubG9hZF9zdGF0ZV9kaWN0KF9zZWxlY3Rfa2V5cyhzYXZlZF9tb2RlbCwgIm1vZGVsLnRleHRfZGVjb2Rlci4iKSkKCiAgICBhc3NlcnQgbW9kZWwuZmluYWxfcHJvaiBpcyBub3QgTm9uZQogICAgbW9kZWwuZmluYWxfcHJvai5sb2FkX3N0YXRlX2RpY3QoX3NlbGVjdF9rZXlzKHNhdmVkX21vZGVsLCAibW9kZWwuZmluYWxfcHJvai4iKSkKCgpkZWYgbWFpbihvcHRpb25hbF9hcmdzOiBPcHRpb25hbFtEaWN0W3N0ciwgQW55XV0gPSBOb25lKSAtPiBOb25lOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoCiAgICAgICAgZGVzY3JpcHRpb249Ik00VCBldmFsdWF0aW9uIGZvciB0YXNrcyBzdXBwb3J0ZWQgYnkgVHJhbnNsYXRvci4iCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWRhdGFfZmlsZSIsIAogICAgICAgIHR5cGU9c3RyLCAKICAgICAgICBoZWxwPSJEYXRhIGZpbGUgdG8gYmUgZXZhbHVhdGVkLCBlaXRoZXIgVFNWIGZpbGUgb3IgbWFuaWZlc3QgSlNPTiBmaWxlLiIKICAgICAgICAiRm9ybWF0IG9mIHRoZSBtYW5pZmVzdCBKU09OIGZpbGUgc2hvdWxkIGJlIHRoYXQgYXMgcHJvZHVjZWQgYnkgYG00dF9wcmVwYXJlX2RhdGFzZXRgIgogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1sb2FkX2NoZWNrcG9pbnQiLCAKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJMb2FkIGEgbG9jYWwgQ2hlY2twb2ludCIsCiAgICAgICAgZGVmYXVsdD1Ob25lCiAgICApCgogICAgcGFyc2VyID0gYWRkX2luZmVyZW5jZV9hcmd1bWVudHMocGFyc2VyKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1kZXZpY2UiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IkRldmljZSIsCiAgICAgICAgZGVmYXVsdD0iY3VkYSIgaWYgdG9yY2guY3VkYS5pc19hdmFpbGFibGUoKSBlbHNlICJjcHUiLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1iYXRjaF9zaXplIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSJJbmZlcmVuY2UgYmF0Y2ggc2l6ZS4iLAogICAgICAgIGRlZmF1bHQ9NCwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tYXVkaW9fcm9vdF9kaXIiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IlJvb3QgZGlyZWN0b3J5IGZvciB0aGUgYXVkaW8gZmlsZW5hbWVzIGluIHRoZSBkYXRhIGZpbGUuIiwKICAgICAgICBkZWZhdWx0PSIiLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1yZWZfZmllbGQiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IlJlZmVyZW5jZSB0YXJnZXQgdGV4dCBmaWVsZCB0byBjb21wdXRlIHRoZSBCTEVVIHNjb3JlIGFnYWluc3QuIiwKICAgICAgICBkZWZhdWx0PSJ0Z3RfdGV4dCIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXdoaXNwZXJfbW9kZWxfbmFtZSIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgaGVscD0iV2hpc3BlciBtb2RlbCB0byBiZSB1c2VkIGZvciBBU1ItQkxFVSBzY29yaW5nIiwKICAgICAgICBkZWZhdWx0PSJsYXJnZSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW5fc2FtcGxlcyIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iTnVtYmVyIG9mIFNhbXBsZXMgdG8gcnVuIGV2YWwgb24uIEFsbCBpZiBOb25lLiIsCiAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgKQogICAgYXJncywgXyA9IHBhcnNlci5wYXJzZV9rbm93bl9hcmdzKCkKICAgIGRlZmF1bHRfYXJncyA9IHZhcnMoYXJncykKICAgIGRlZmF1bHRfYXJncy51cGRhdGUob3B0aW9uYWxfYXJncykgaWYgb3B0aW9uYWxfYXJncyBlbHNlIGRlZmF1bHRfYXJncwogICAgYXJncyA9IE5hbWVzcGFjZSgqKmRlZmF1bHRfYXJncykKCiAgICBhc3NlcnQgYXJncy5kYXRhX2ZpbGUgYW5kIGFyZ3MudGFzayBhbmQgYXJncy50Z3RfbGFuZyBhbmQgYXJncy5vdXRwdXRfcGF0aCwgXAogICAgICAgICJQbGVhc2UgcHJvdmlkZSByZXF1aXJlZCBhcmd1bWVudHMgZm9yIGV2YWx1YXRpb24gLSBkYXRhX2ZpbGUsIHRhc2ssIHRndF9sYW5nIgogICAgICAgIAogICAgYXNzZXJ0IFBhdGgoYXJncy5kYXRhX2ZpbGUpLmV4aXN0cygpLCBcCiAgICAgICAgZiJJbnZhbGlkIGBkYXRhX2ZpbGVgOiB7YXJncy5kYXRhX2ZpbGV9IGRvZXMgbm90IGV4aXN0IgogICAgICAgIAogICAgaWYgUGF0aChhcmdzLmRhdGFfZmlsZSkuc3VmZml4ID09ICIudHN2IjoKICAgICAgICBkYXRhX3R5cGUgPSAiVFNWIgogICAgZWxpZiBQYXRoKGFyZ3MuZGF0YV9maWxlKS5zdWZmaXggPT0gIi5qc29uIjoKICAgICAgICBkYXRhX3R5cGUgPSAiSlNPTiIKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiVW5hYmxlIHRvIHJlY29nbml6ZSBmaWxlIHR5cGUhIFBsZWFzZSB1c2UgYSBkYXRhX2ZpbGUgd2l0aCBlaXRoZXIgLnRzdiBvciAuanNvbiBleHRlbnNpb24uIikKICAgIAogICAgaW5wdXRfbW9kYWxpdHksIG91dHB1dF9tb2RhbGl0eSA9IFRyYW5zbGF0b3IuZ2V0X21vZGFsaXRpZXNfZnJvbV90YXNrX3N0cihhcmdzLnRhc2spCgogICAgaWYgaW5wdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIIGFuZCBub3QgUGF0aChhcmdzLmF1ZGlvX3Jvb3RfZGlyKS5leGlzdHMoKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICBmIkludmFsaWQgYXVkaW9fcm9vdF9kaXI6IHthcmdzLmF1ZGlvX3Jvb3RfZGlyfSBmb3Igc3BlZWNoIGlucHV0LiIKICAgICAgICApCiAgICAKICAgIGRldmljZSA9IHRvcmNoLmRldmljZShhcmdzLmRldmljZSkKICAgIGR0eXBlID0gdG9yY2guZmxvYXQxNiBpZiBkZXZpY2UudHlwZSA9PSAiY3VkYSIgZWxzZSB0b3JjaC5mbG9hdDMyCgogICAgIyBUT0RPOiBBdm9pZCBsb2FkaW5nIHRoZSBUMlUgbW9kZWwsIHZvY29kZXIgd2hlbiB0aGUgb3V0cHV0CiAgICAjIG1vZGFsaXR5IGlzIHRleHQuCiAgICB0cmFuc2xhdG9yID0gVHJhbnNsYXRvcigKICAgICAgICBhcmdzLm1vZGVsX25hbWUsCiAgICAgICAgYXJncy52b2NvZGVyX25hbWUsCiAgICAgICAgZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgIGlucHV0X21vZGFsaXR5PWlucHV0X21vZGFsaXR5LAogICAgICAgIG91dHB1dF9tb2RhbGl0eT1vdXRwdXRfbW9kYWxpdHksCiAgICApCiAgICAKICAgIGlmIGFyZ3MubG9hZF9jaGVja3BvaW50OgogICAgICAgIGxvYWRfY2hlY2twb2ludCh0cmFuc2xhdG9yLm1vZGVsLCBwYXRoPWFyZ3MubG9hZF9jaGVja3BvaW50LCBkZXZpY2U9ZGV2aWNlKQoKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLCB1bml0X2dlbmVyYXRpb25fb3B0cyA9IHNldF9nZW5lcmF0aW9uX29wdHMoYXJncykKCiAgICBsb2dnZXIuaW5mbyhmInt0ZXh0X2dlbmVyYXRpb25fb3B0cz19IikKICAgIGxvZ2dlci5pbmZvKGYie3VuaXRfZ2VuZXJhdGlvbl9vcHRzPX0iKQogICAgbG9nZ2VyLmluZm8oCiAgICAgICAgZiJ1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPXthcmdzLnVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmd9IgogICAgKQoKICAgICMgZm10OiBvZmYKICAgIGN0eCA9IEV2YWxDb250ZXh0KAogICAgICAgIHRhc2s9YXJncy50YXNrLAogICAgICAgIGlucHV0X21vZGFsaXR5PWlucHV0X21vZGFsaXR5LAogICAgICAgIG91dHB1dF9tb2RhbGl0eT1vdXRwdXRfbW9kYWxpdHksCiAgICAgICAgbW9kZWxfbmFtZT1hcmdzLm1vZGVsX25hbWUsCiAgICAgICAgZGF0YV9maWxlPVBhdGgoYXJncy5kYXRhX2ZpbGUpLAogICAgICAgIGRhdGFfZmlsZV90eXBlPWRhdGFfdHlwZSwKICAgICAgICBhdWRpb19yb290X2Rpcj1QYXRoKGFyZ3MuYXVkaW9fcm9vdF9kaXIpLAogICAgICAgIHRhcmdldF9sYW5nPWFyZ3MudGd0X2xhbmcsCiAgICAgICAgc291cmNlX2xhbmc9YXJncy5zcmNfbGFuZywKICAgICAgICBiYXRjaF9zaXplPWFyZ3MuYmF0Y2hfc2l6ZSwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgIHJlZl9maWVsZD1hcmdzLnJlZl9maWVsZCwKICAgICAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cz10ZXh0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICB1bml0X2dlbmVyYXRpb25fb3B0cz11bml0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICB1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPWFyZ3MudW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZywKICAgICAgICBvdXRwdXRfcGF0aD1hcmdzLm91dHB1dF9wYXRoLAogICAgKQogICAgIyBmbXQ6IG9uCiAgICBsb2dnZXIuaW5mbyhmIlJ1bm5pbmcgaW5mZXJlbmNlIG9uIHtkZXZpY2U9fSB3aXRoIHtkdHlwZT19LCB7Y3R4LmJhdGNoX3NpemU9fS4iKQoKICAgIHJ1bl9ldmFsKHRyYW5zbGF0b3IsIGN0eCwgYXJncy53aGlzcGVyX21vZGVsX25hbWUsIG5fc2FtcGxlcz1hcmdzLm5fc2FtcGxlcykKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=='),
    ('seamless/src/seamless_communication/cli/m4t/finetune/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCg=='),
    ('seamless/src/seamless_communication/cli/m4t/finetune/dataset.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQgYXJncGFyc2UKaW1wb3J0IGRhdGFjbGFzc2VzCmltcG9ydCBqc29uCmltcG9ydCBsb2dnaW5nCmltcG9ydCBvcwpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0cWRtIGltcG9ydCB0cWRtCgppbXBvcnQgdG9yY2gKCmZyb20gZGF0YXNldHMgaW1wb3J0IGxvYWRfZGF0YXNldApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uZGF0YXNldHMuaHVnZ2luZ2ZhY2UgaW1wb3J0ICgKICAgIFNwZWVjaDJTcGVlY2hGbGV1cnNEYXRhc2V0QnVpbGRlciwKICAgIFNwZWVjaFRva2VuaXplciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXRfZXh0cmFjdG9yIGltcG9ydCBVbml0RXh0cmFjdG9yCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKCJkYXRhc2V0IikKCgpTVVBQT1JURURfREFUQVNFVFMgPSBbJ2dvb2dsZS9mbGV1cnMnLCAnc3BlZWNoY29sYWIvZ2lnYXNwZWVjaCddCiIiIiBMaXN0IG9mIEh1Z2dpbmdmYWNlIERhdGFzZXRzIHRoYXQgd2Ugc3VwcG9ydCBhdCB0aGUgbW9tZW50CiIiIgoKIyBGdWxsIGxpc3Qgb2YgRkxFVVJTIGxhbmdjb2RlcyBpcyBhdmFpbGFibGUgYXQgaHR0cHM6Ly9odWdnaW5nZmFjZS5jby9kYXRhc2V0cy9nb29nbGUvZmxldXJzCiMgRnVsbCBsaXN0IG9mIE00VCBsYW5nY29kZXMgaXMgYXZhaWxhYmxlCiMgaW4gcGFwZXIgIlNlYW1sZXNzTTRU4oCUTWFzc2l2ZWx5IE11bHRpbGluZ3VhbCAmIE11bHRpbW9kYWwgTWFjaGluZSBUcmFuc2xhdGlvbiIgKFRhYmxlIDUpClVOSVRZX1RPX0ZMRVVSU19MQU5HX01BUFBJTkcgPSB7CiAgICAiZW5nIjogImVuX3VzIiwKICAgICJpdGEiOiAiaXRfaXQiLAogICAgImFmciI6ICJhZl96YSIsCiAgICAiYXNtIjogImFzX2luIiwKICAgICJiZWwiOiAiYmVfYnkiLAogICAgImJ1bCI6ICJiZ19iZyIsCiAgICAiYmVuIjogImJuX2luIiwKICAgICJjYXQiOiAiY2FfZXMiLAogICAgImNlcyI6ICJjc19jeiIsCiAgICAiZGFuIjogImRhX2RrIiwKICAgICJkZXUiOiAiZGVfZGUiLAogICAgImVsbCI6ICJlbF9nciIsCiAgICAiZmluIjogImZpX2ZpIiwKICAgICJmcmEiOiAiZnJfZnIiLAogICAgImdsZyI6ICJnbF9lcyIsCiAgICAiaGViIjogImhlX2lsIiwKICAgICJoaW4iOiAiaGlfaW4iLAogICAgImhydiI6ICJocl9ociIsCiAgICAiaHVuIjogImh1X2h1IiwKICAgICJpbmQiOiAiaWRfaWQiLAogICAgImlibyI6ICJpZ19uZyIsCiAgICAiaXNsIjogImlzX2lzIiwKICAgICJpdGEiOiAiaXRfaXQiLAogICAgImpwbiI6ICJqYV9qcCIsCiAgICAiamF2IjogImp2X2lkIiwKICAgICJrYXoiOiAia2tfa3oiLAogICAgImthbiI6ICJrbl9pbiIsCiAgICAia2lyIjogImt5X2tnIiwKICAgICJrb3IiOiAia29fa3IiLAogICAgImxpdCI6ICJsdF9sdCIsCiAgICAibWtkIjogIm1rX21rIiwKICAgICJtbHQiOiAibXRfbXQiLAogICAgIm15YSI6ICJteV9tbSIsCiAgICAibmxkIjogIm5sX25sIiwKICAgICJwYW4iOiAicGFfaW4iLAogICAgInBvbCI6ICJwbF9wbCIsCiAgICAicm9uIjogInJvX3JvIiwKICAgICJydXMiOiAicnVfcnUiLAogICAgInNuZCI6ICJzZF9pbiIsCiAgICAic2xrIjogInNrX3NrIiwKICAgICJzcGEiOiAiZXNfNDE5IiwKICAgICJzcnAiOiAic3JfcnMiLAogICAgInN3aCI6ICJzd19rZSIsCiAgICAidGFtIjogInRhX2luIiwKICAgICJ0ZWwiOiAidGVfaW4iLAogICAgInRoYSI6ICJ0aF90aCIsCiAgICAidHVyIjogInRyX3RyIiwKICAgICJ1a3IiOiAidWtfdWEiLAogICAgInVyZCI6ICJ1cl9wayIsCiAgICAidXpuIjogInV6X3V6IiwKICAgICJ2aWUiOiAidmlfdm4iLAogICAgInlvciI6ICJ5b19uZyIsCiAgICAienVsIjogInp1X3phIiwKfQoKCmRlZiBfY2hlY2tfbGFuZ19jb2RlX21hcHBpbmcobGFuZzogc3RyKSAtPiBOb25lOgogICAgaWYgbGFuZyBub3QgaW4gVU5JVFlfVE9fRkxFVVJTX0xBTkdfTUFQUElORzoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICBmIk5vIGxhbmd1YWdlIGNvZGUgbWFwcGluZyBmb3Ige2xhbmd9KE00VCktPj8/KEZMRVVScykuICIKICAgICAgICAgICAgIlBsZWFzZSBleHBhbmQgYFVOSVRZX1RPX0ZMRVVSU19MQU5HX01BUFBJTkdgIgogICAgICAgICkKCgpjbGFzcyBVbml0U3BlZWNoVG9rZW5pemVyKFNwZWVjaFRva2VuaXplcik6CiAgICBNT0RFTF9OQU1FID0gInhsc3IyXzFiX3YyIgogICAgS01FQU5TX01PREVMX1VSSSA9ICJodHRwczovL2RsLmZiYWlwdWJsaWNmaWxlcy5jb20vc2VhbWxlc3NNNFQvbW9kZWxzL3VuaXRfZXh0cmFjdGlvbi9rbWVhbnNfMTBrLm5weSIKICAgIE9VVFBVVF9MQVlFUl9JRFggPSAzNAoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkZXZpY2U6IHRvcmNoLmRldmljZSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKICAgICAgICBzZWxmLnVuaXRfZXh0cmFjdG9yID0gVW5pdEV4dHJhY3RvcigKICAgICAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkPXNlbGYuTU9ERUxfTkFNRSwKICAgICAgICAgICAga21lYW5zX3VyaT1zZWxmLktNRUFOU19NT0RFTF9VUkksCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICApCgogICAgZGVmIGVuY29kZShzZWxmLCB3YXY6IHRvcmNoLlRlbnNvciwgc2FtcGxlX3JhdGU6IGludCkgLT4gdG9yY2guVGVuc29yOgogICAgICAgIHJldHVybiBzZWxmLnVuaXRfZXh0cmFjdG9yLnByZWRpY3QoCiAgICAgICAgICAgIHdhdi50byhzZWxmLmRldmljZSksCiAgICAgICAgICAgIG91dF9sYXllcl9pZHg9c2VsZi5PVVRQVVRfTEFZRVJfSURYLAogICAgICAgICAgICBzYW1wbGVfcmF0ZT1zYW1wbGVfcmF0ZSwKICAgICAgICApCgoKZGVmIGRvd25sb2FkX2ZsZXVycygKICAgIHNvdXJjZV9sYW5nOiBzdHIsCiAgICB0YXJnZXRfbGFuZzogc3RyLAogICAgc3BsaXQ6IHN0ciwKICAgIHNhdmVfZGlyZWN0b3J5OiBzdHIsCik6CiAgICBfY2hlY2tfbGFuZ19jb2RlX21hcHBpbmcoc291cmNlX2xhbmcpCiAgICBfY2hlY2tfbGFuZ19jb2RlX21hcHBpbmcodGFyZ2V0X2xhbmcpCiAgICBkZXZpY2UgPSAoCiAgICAgICAgdG9yY2guZGV2aWNlKCJjdWRhOjAiKSBpZiB0b3JjaC5jdWRhLmRldmljZV9jb3VudCgpID4gMCBlbHNlIHRvcmNoLmRldmljZSgiY3B1IikKICAgICkKICAgIHRva2VuaXplciA9IFVuaXRTcGVlY2hUb2tlbml6ZXIoZGV2aWNlPWRldmljZSkKICAgIGRhdGFzZXRfaXRlcmF0b3IgPSBTcGVlY2gyU3BlZWNoRmxldXJzRGF0YXNldEJ1aWxkZXIoCiAgICAgICAgc291cmNlX2xhbmc9VU5JVFlfVE9fRkxFVVJTX0xBTkdfTUFQUElOR1tzb3VyY2VfbGFuZ10sCiAgICAgICAgdGFyZ2V0X2xhbmc9VU5JVFlfVE9fRkxFVVJTX0xBTkdfTUFQUElOR1t0YXJnZXRfbGFuZ10sCiAgICAgICAgZGF0YXNldF9jYWNoZV9kaXI9c2F2ZV9kaXJlY3RvcnksCiAgICAgICAgc3BlZWNoX3Rva2VuaXplcj10b2tlbml6ZXIsCiAgICAgICAgc2tpcF9zb3VyY2VfYXVkaW89VHJ1ZSwgICMgZG9uJ3QgZXh0cmFjdCB1bml0cyBmcm9tIHNvdXJjZSBhdWRpbwogICAgICAgIHNraXBfdGFyZ2V0X2F1ZGlvPUZhbHNlLAogICAgICAgIHNwbGl0PXNwbGl0LAogICAgKQogICAgbWFuaWZlc3RfcGF0aDogc3RyID0gb3MucGF0aC5qb2luKHNhdmVfZGlyZWN0b3J5LCBmIntzcGxpdH1fbWFuaWZlc3QuanNvbiIpCiAgICB3aXRoIG9wZW4obWFuaWZlc3RfcGF0aCwgInciKSBhcyBmcF9vdXQ6CiAgICAgICAgZm9yIGlkeCwgc2FtcGxlIGluIGVudW1lcmF0ZShkYXRhc2V0X2l0ZXJhdG9yLl9faXRlcl9fKCksIHN0YXJ0PTEpOgogICAgICAgICAgICAjIGNvcnJlY3Rpb24gYXMgRmxldXJzRGF0YXNldEJ1aWxkZXIgcmV0dXJuIGZsZXVycyBsYW5nIGNvZGVzCiAgICAgICAgICAgIHNhbXBsZS5zb3VyY2UubGFuZyA9IHNvdXJjZV9sYW5nCiAgICAgICAgICAgIHNhbXBsZS50YXJnZXQubGFuZyA9IHRhcmdldF9sYW5nCiAgICAgICAgICAgIHNhbXBsZS50YXJnZXQud2F2ZWZvcm0gPSBOb25lICAjIGFscmVhZHkgZXh0cmFjdGVkIHVuaXRzCiAgICAgICAgICAgIGZwX291dC53cml0ZShqc29uLmR1bXBzKGRhdGFjbGFzc2VzLmFzZGljdChzYW1wbGUpKSArICJcbiIpCiAgICBsb2dnZXIuaW5mbyhmIlNhdmVkIHtpZHh9IHNhbXBsZXMgZm9yIHNwbGl0PXtzcGxpdH0gdG8ge21hbmlmZXN0X3BhdGh9IikKICAgIGxvZ2dlci5pbmZvKGYiTWFuaWZlc3Qgc2F2ZWQgdG86IHttYW5pZmVzdF9wYXRofSIpCgoKZGVmIGRvd25sb2FkX2dpZ2FzcGVlY2goc3Vic2V0OiBzdHIsIGh1Z2dpbmdmYWNlX3Rva2VuOiBzdHIsIHNhdmVfZGlyZWN0b3J5OiBzdHIpOgogICAgZHMgPSBsb2FkX2RhdGFzZXQoInNwZWVjaGNvbGFiL2dpZ2FzcGVlY2giLCBzdWJzZXQsIGNhY2hlX2Rpcj1zYXZlX2RpcmVjdG9yeSwgdG9rZW49aHVnZ2luZ2ZhY2VfdG9rZW4pCiAgICBmb3Igc3BsaXQgaW4gZHM6CiAgICAgICAgbWFuaWZlc3RfcGF0aCA9IG9zLnBhdGguam9pbihzYXZlX2RpcmVjdG9yeSwgZiJ7c3Vic2V0fV97c3BsaXR9X21hbmlmZXN0Lmpzb24iKQogICAgICAgIGxvZ2dlci5pbmZvKGYiUHJlcGFyaW5nIHtzcGxpdH0gc3BsaXQuLi4iKQogICAgICAgIHdpdGggb3BlbihtYW5pZmVzdF9wYXRoLCAidyIpIGFzIGY6CiAgICAgICAgICAgIGZvciBzYW1wbGUgaW4gdHFkbShkc1tzcGxpdF0pOgogICAgICAgICAgICAgICAgZi53cml0ZShqc29uLmR1bXBzKHsKICAgICAgICAgICAgICAgICJzb3VyY2UiOiB7CiAgICAgICAgICAgICAgICAgICAgImlkIjogc2FtcGxlWyJzZWdtZW50X2lkIl0sCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiBzYW1wbGVbInRleHQiXSwKICAgICAgICAgICAgICAgICAgICAibGFuZyI6ImVuZyIsCiAgICAgICAgICAgICAgICAgICAgImF1ZGlvX2xvY2FsX3BhdGgiOiBzYW1wbGVbImF1ZGlvIl1bInBhdGgiXSwKICAgICAgICAgICAgICAgICAgICAic2FtcGxpbmdfcmF0ZSI6IHNhbXBsZVsiYXVkaW8iXVsic2FtcGxpbmdfcmF0ZSJdLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJ0YXJnZXQiOiB7CiAgICAgICAgICAgICAgICAgICAgImlkIjogc2FtcGxlWyJzZWdtZW50X2lkIl0sCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiBzYW1wbGVbInRleHQiXSwKICAgICAgICAgICAgICAgICAgICAibGFuZyI6ICJlbmciLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkgKyAiXG4iKQogICAgICAgIGxvZ2dlci5pbmZvKGYiTWFuaWZlc3QgZm9yIEdpZ2FTcGVlY2gte3N1YnNldH0te3NwbGl0fSBzYXZlZCB0bzoge21hbmlmZXN0X3BhdGh9IikKCgpkZWYgaW5pdF9wYXJzZXIoKSAtPiBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcjoKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgICAgIGRlc2NyaXB0aW9uPSgKICAgICAgICAgICAgIkhlbHBlciBzY3JpcHQgdG8gZG93bmxvYWQgdHJhaW5pbmcvZXZhbHVhdGlvbiBkYXRhc2V0IChGTEVVUlMgb3IgR2lnYVNwZWVjaCksIgogICAgICAgICAgICAiZXh0cmFjdCB1bml0cyBmcm9tIHRhcmdldCBhdWRpbyBhbmQgc2F2ZSB0aGUgZGF0YXNldCBhcyBhIG1hbmlmZXN0ICIKICAgICAgICAgICAgImNvbnN1bWFibGUgYnkgYGZpbmV0dW5lLnB5YC4iCiAgICAgICAgKQogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1uYW1lIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIGhlbHA9Ikh1Z2dpbmdGYWNlIG5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gcHJlcGFyZS4iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1zb3VyY2VfbGFuZyIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICBoZWxwPSJNNFQgbGFuZ2NvZGUgb2YgdGhlIGRhdGFzZXQgU09VUkNFIGxhbmd1YWdlIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGFyZ2V0X2xhbmciLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIHJlcXVpcmVkPVRydWUsCiAgICAgICAgaGVscD0iTTRUIGxhbmdjb2RlIG9mIHRoZSBkYXRhc2V0IFRBUkdFVCBsYW5ndWFnZSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXNwbGl0IiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIGhlbHA9IkRhdGFzZXQgc3BsaXQvc2hhcmQgdG8gZG93bmxvYWQgKGB0cmFpbmAsIGB2YWxpZGF0aW9uYCwgYHRlc3RgKSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXNhdmVfZGlyIiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICBoZWxwPSJEaXJlY3Rvcnkgd2hlcmUgdGhlIGRhdGFzdGV0cyB3aWxsIGJlIHN0b3JlZCB3aXRoIEh1Z2dpbmdGYWNlIGRhdGFzZXRzIGNhY2hlIGZpbGVzIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0taHVnZ2luZ2ZhY2VfdG9rZW4iLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIHJlcXVpcmVkPUZhbHNlLAogICAgICAgIGRlZmF1bHQ9Tm9uZSwKICAgICAgICBoZWxwPSJZb3VyIEh1Z2dpbmdGYWNlIHRva2VuLCB0aGlzIGlzIG5lY2Vzc2FyeSBmb3Igc29tZSBkYXRhc2V0cyBsaWtlIEdpZ2FTcGVlY2guIiwKICAgICkKICAgIHJldHVybiBwYXJzZXIKCgpkZWYgbWFpbigpIC0+IE5vbmU6CiAgICBhcmdzID0gaW5pdF9wYXJzZXIoKS5wYXJzZV9hcmdzKCkKICAgIGFzc2VydCBhcmdzLm5hbWUgaW4gU1VQUE9SVEVEX0RBVEFTRVRTLCBcCiAgICAgICAgZiJUaGUgb25seSBzdXBwb3J0ZWQgZGF0YXNldHMgYXJlIGB7U1VQUE9SVEVEX0RBVEFTRVRTfWAuIFBsZWFzZSB1c2Ugb25lIG9mIHRoZXNlIGluIGAtLW5hbWVgLiIKCiAgICBpZiBhcmdzLm5hbWUgPT0gJ2dvb2dsZS9mbGV1cnMnOgogICAgICAgIGRvd25sb2FkX2ZsZXVycyhhcmdzLnNvdXJjZV9sYW5nLCBhcmdzLnRhcmdldF9sYW5nLCBhcmdzLnNwbGl0LCBhcmdzLnNhdmVfZGlyKQogICAgZWxpZiBhcmdzLm5hbWUgPT0gJ3NwZWVjaGNvbGFiL2dpZ2FzcGVlY2gnOgogICAgICAgIGFzc2VydCBhcmdzLmh1Z2dpbmdmYWNlX3Rva2VuIGlzIG5vdCBOb25lLCBcCiAgICAgICAgICAgICJZb3VyIEh1Z2dpbmdGYWNlIHRva2VuIGlzIG5lY2Vzc2FyeSBmb3IgR2lnYVNwZWVjaC4gUGxlYXNlIHJlYWQgdGhlIEdpZ2FTcGVlY2ggYWdyZWVtZW50LiIKICAgICAgICBkb3dubG9hZF9naWdhc3BlZWNoKGFyZ3Muc3BsaXQsIGFyZ3MuaHVnZ2luZ2ZhY2VfdG9rZW4sIGFyZ3Muc2F2ZV9kaXIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo='),
    ('seamless/src/seamless_communication/cli/m4t/finetune/finetune.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgb3MKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgppbXBvcnQgdG9yY2gKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkubTR0LmZpbmV0dW5lIGltcG9ydCBkYXRhbG9hZGVyLCBkaXN0X3V0aWxzLCB0cmFpbmVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0ICgKICAgIGxvYWRfdW5pdHlfbW9kZWwsCiAgICBsb2FkX3VuaXR5X3RleHRfdG9rZW5pemVyLAogICAgbG9hZF91bml0eV91bml0X3Rva2VuaXplciwKKQoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD1mIiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXMue29zLmdldHBpZCgpfTogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcigiZmluZXR1bmUiKQoKCmRlZiBpbml0X3BhcnNlcigpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoCiAgICAgICAgZGVzY3JpcHRpb249IkV4YW1wbGUgZmluZXR1bmluZyBzY3JpcHQgZm9yIE00VCBtb2RlbHMiCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXRyYWluX2RhdGFzZXQiLAogICAgICAgIHR5cGU9UGF0aCwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIGhlbHA9IlBhdGggdG8gbWFuaWZlc3Qgd2l0aCB0cmFpbiBzYW1wbGVzIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tZXZhbF9kYXRhc2V0IiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICBoZWxwPSJQYXRoIHRvIG1hbmlmZXN0IHdpdGggZXZhbCBzYW1wbGVzIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tbW9kZWxfbmFtZSIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgZGVmYXVsdD0ic2VhbWxlc3NNNFRfbWVkaXVtIiwKICAgICAgICBoZWxwPSJCYXNlIG1vZGVsIG5hbWUgKGBzZWFtbGVzc000VF9tZWRpdW1gLCBgc2VhbWxlc3NNNFRfbGFyZ2VgKSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXNhdmVfbW9kZWxfdG8iLAogICAgICAgIHR5cGU9UGF0aCwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIGhlbHA9IlBhdGggdG8gc2F2ZSBiZXN0IGZpbmV0dW5lZCBtb2RlbCIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXNlZWQiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGRlZmF1bHQ9MjM0MywKICAgICAgICBoZWxwPSJSYW5kb21pemVyIHNlZWQgdmFsdWUiLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1iYXRjaF9zaXplIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBkZWZhdWx0PTUsCiAgICAgICAgaGVscD0iQmF0Y2ggc2l6ZSBmb3IgdHJhaW5pbmcgYW5kIGV2YWx1YXRpb24iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1wYXRpZW5jZSIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgZGVmYXVsdD0zLAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiU2V0IGVhcmx5IHRlcm1pbmF0aW9uIGFmdGVyIGBwYXRpZW5jZWAgbnVtYmVyIG9mIGV2YWx1YXRpb25zICIKICAgICAgICAgICAgIndpdGhvdXQgZXZhbCBsb3NzIGltcHJvdmVtZW50cyIKICAgICAgICApLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1tYXhfZXBvY2hzIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBkZWZhdWx0PTEwLAogICAgICAgIGhlbHA9KCJNYXggbnVtYmVyIG9mIHRyYWluaW5nIGVwb2NocyIpLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1sZWFybmluZ19yYXRlIiwKICAgICAgICB0eXBlPWZsb2F0LAogICAgICAgIGRlZmF1bHQ9MWUtNywKICAgICAgICBoZWxwPSgiRmluZXR1bmluZyBsZWFybmluZyByYXRlIiksCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXdhcm11cF9zdGVwcyIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgZGVmYXVsdD0xMDAsCiAgICAgICAgaGVscD0oIk51bWJlciBvZiBzdGVwcyB3aXRoIGxpbmVhcmx5IGluY3JlYXNpbmcgbGVhcm5pbmcgcmF0ZSIpLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1ldmFsX3N0ZXBzIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBkZWZhdWx0PTUwLAogICAgICAgIGhlbHA9KCJHZXQgZXZhbCBsb3NzIGFmdGVyIGVhY2ggYGV2YWxfc3RlcHNgIHRyYWluaW5nIHN0ZXBzICIpLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1sb2dfc3RlcHMiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGRlZmF1bHQ9MTAsCiAgICAgICAgaGVscD0oIkxvZyBpbm5lciBsb3NzIGFmdGVyIGVhY2ggYGxvZ19zdGVwc2AgdHJhaW5pbmcgc3RlcHMiKSwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tbWF4X3NyY190b2tlbnMiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGRlZmF1bHQ9NzAwMCwKICAgICAgICBoZWxwPSgiTWF4aW11bSBudW1iZXIgb2Ygc3JjX3Rva2VucyBwZXIgYmF0Y2gsIHVzZWQgdG8gYXZvaWQgR1BVIE9PTSBhbmQgbWF4aW1pemUgdGhlIGVmZmVjdGl2ZSBiYXRjaCBzaXplIiksCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW1vZGUiLAogICAgICAgIHR5cGU9dHJhaW5lci5GaW5ldHVuZU1vZGUsCiAgICAgICAgY2hvaWNlcz1saXN0KHRyYWluZXIuRmluZXR1bmVNb2RlKSwKICAgICAgICBkZWZhdWx0PXRyYWluZXIuRmluZXR1bmVNb2RlLlNQRUVDSF9UT19URVhULAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiKiBgU1BFRUNIX1RPX1NQRUVDSGAgLS0gZmluZXR1bmUgUzJUIGFuZCBUMlUgcGFydHMgb2YgdGhlIG1vZGVsOyAiCiAgICAgICAgICAgICIqIGBURVhUX1RPX1NQRUVDSGAgLS0gZmluZXR1bmUgb25seSBUMlU7ICIKICAgICAgICAgICAgIiogYFNQRUVDSF9UT19URVhUYCAtLSBmaW5ldHVuZSBvbmx5IFMyVCIKICAgICAgICApLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1mcmVlemVfbGF5ZXJzIiwKICAgICAgICBuYXJncz0iKiIsCiAgICAgICAgcmVxdWlyZWQ9RmFsc2UsCiAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgICAgICMgVE9ETzogYmV0dGVyIGRlc2NyaXB0aW9uCiAgICAgICAgaGVscD0oIkEgbGlzdCBvZiBtb2R1bGVzIHRvIGZyZWV6ZSBpbiB0aGUgbW9kZWwuIElmIGVtcHR5LCBldmVyeXRoaW5nIHdpbGwgYmUgdHJhaW5lZC4iKSwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tZGV2aWNlIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBkZWZhdWx0PSJjdWRhIiwKICAgICAgICBoZWxwPSgiRGV2aWNlIHRvIGZpbmUtdHVuZSBvbi4gU2VlIGB0b3JjaC5kZXZpY2VgLiIpLAogICAgKQogICAgcmV0dXJuIHBhcnNlcgoKCmRlZiBtYWluKCkgLT4gTm9uZToKICAgIGFyZ3MgPSBpbml0X3BhcnNlcigpLnBhcnNlX2FyZ3MoKQogICAgCiAgICBkaXN0X3V0aWxzLmluaXRfZGlzdHJpYnV0ZWQoW2xvZ2dlciwgdHJhaW5lci5sb2dnZXJdKQogICAgZmxvYXRfZHR5cGUgPSB0b3JjaC5mbG9hdDE2IGlmIHRvcmNoLmRldmljZShhcmdzLmRldmljZSkudHlwZSAhPSAiY3B1IiBlbHNlIHRvcmNoLmJmbG9hdDE2CiAgICAKICAgIHRleHRfdG9rZW5pemVyID0gbG9hZF91bml0eV90ZXh0X3Rva2VuaXplcihhcmdzLm1vZGVsX25hbWUpCiAgICB1bml0X3Rva2VuaXplciA9IGxvYWRfdW5pdHlfdW5pdF90b2tlbml6ZXIoYXJncy5tb2RlbF9uYW1lKQogICAgCiAgICBmaW5ldHVuZV9wYXJhbXMgPSB0cmFpbmVyLkZpbmV0dW5lUGFyYW1zKAogICAgICAgIG1vZGVsX25hbWU9YXJncy5tb2RlbF9uYW1lLAogICAgICAgIGZpbmV0dW5lX21vZGU9YXJncy5tb2RlLAogICAgICAgIHNhdmVfbW9kZWxfcGF0aD1hcmdzLnNhdmVfbW9kZWxfdG8sCiAgICAgICAgZGV2aWNlPXRvcmNoLmRldmljZShhcmdzLmRldmljZSksCiAgICAgICAgZmxvYXRfZHR5cGU9ZmxvYXRfZHR5cGUsCiAgICAgICAgdHJhaW5fYmF0Y2hfc2l6ZT1hcmdzLmJhdGNoX3NpemUsCiAgICAgICAgZXZhbF9iYXRjaF9zaXplPWFyZ3MuYmF0Y2hfc2l6ZSwKICAgICAgICBwYXRpZW5jZT1hcmdzLnBhdGllbmNlLAogICAgICAgIG1heF9lcG9jaHM9YXJncy5tYXhfZXBvY2hzLAogICAgICAgIGxlYXJuaW5nX3JhdGU9YXJncy5sZWFybmluZ19yYXRlLAogICAgICAgIHdhcm11cF9zdGVwcz1hcmdzLndhcm11cF9zdGVwcywKICAgICAgICBldmFsX3N0ZXBzPWFyZ3MuZXZhbF9zdGVwcywKICAgICAgICBsb2dfc3RlcHM9YXJncy5sb2dfc3RlcHMsCiAgICApCiAgICAKICAgIGxvZ2dlci5pbmZvKGYiRmluZXR1bmUgUGFyYW1zOiB7ZmluZXR1bmVfcGFyYW1zfSIpCiAgICAKICAgIG1vZGVsID0gbG9hZF91bml0eV9tb2RlbChhcmdzLm1vZGVsX25hbWUsIGRldmljZT10b3JjaC5kZXZpY2UoImNwdSIpLCBkdHlwZT10b3JjaC5mbG9hdDMyKQogICAgYXNzZXJ0IG1vZGVsLnRhcmdldF92b2NhYl9pbmZvID09IHRleHRfdG9rZW5pemVyLnZvY2FiX2luZm8KICAgIAogICAgaWYgKAogICAgICAgIGZpbmV0dW5lX3BhcmFtcy5maW5ldHVuZV9tb2RlID09IHRyYWluZXIuRmluZXR1bmVNb2RlLlNQRUVDSF9UT19URVhUCiAgICAgICAgYW5kIG1vZGVsLnQydV9tb2RlbCBpcyBub3QgTm9uZQogICAgKToKICAgICAgICBtb2RlbC50MnVfbW9kZWwgPSBOb25lCiAgICAKICAgIGlmIG1vZGVsLnRleHRfZW5jb2RlciBpcyBub3QgTm9uZToKICAgICAgICBtb2RlbC50ZXh0X2VuY29kZXIgPSBOb25lCiAgICAKICAgICMgUHV0IG1vZGVsIG9uIHNlbGVjdGVkIGRldmljZQogICAgbW9kZWwgPSBtb2RlbC50byhmaW5ldHVuZV9wYXJhbXMuZGV2aWNlKQoKICAgICMgVE9ETzogZGVsZXRlIHVudXNlZCBwYXJhbXMgdG8gcmVkdWNlIEdQVSBtZW1vcnkgY29uc3VtcHRpb24KICAgIHRyYWluX2RhdGFsb2FkZXIgPSBkYXRhbG9hZGVyLlVuaXRZRGF0YUxvYWRlcigKICAgICAgICB0ZXh0X3Rva2VuaXplcj10ZXh0X3Rva2VuaXplciwKICAgICAgICB1bml0X3Rva2VuaXplcj11bml0X3Rva2VuaXplciwKICAgICAgICBiYXRjaGluZ19jb25maWc9ZGF0YWxvYWRlci5CYXRjaGluZ0NvbmZpZygKICAgICAgICAgICAgYmF0Y2hfc2l6ZT1maW5ldHVuZV9wYXJhbXMudHJhaW5fYmF0Y2hfc2l6ZSwKICAgICAgICAgICAgcmFuaz1kaXN0X3V0aWxzLmdldF9yYW5rKCksCiAgICAgICAgICAgIHdvcmxkX3NpemU9ZGlzdF91dGlscy5nZXRfd29ybGRfc2l6ZSgpLAogICAgICAgICAgICBtYXhfYXVkaW9fbGVuZ3RoX3NlYz0xNS4wLAogICAgICAgICAgICBmbG9hdF9kdHlwZT1maW5ldHVuZV9wYXJhbXMuZmxvYXRfZHR5cGUsCiAgICAgICAgKSwKICAgICAgICBkYXRhc2V0X21hbmlmZXN0X3BhdGg9YXJncy50cmFpbl9kYXRhc2V0LAogICAgICAgIG1heF9zcmNfdG9rZW5zX3Blcl9iYXRjaD1hcmdzLm1heF9zcmNfdG9rZW5zKQogICAgCiAgICBldmFsX2RhdGFsb2FkZXIgPSBkYXRhbG9hZGVyLlVuaXRZRGF0YUxvYWRlcigKICAgICAgICB0ZXh0X3Rva2VuaXplcj10ZXh0X3Rva2VuaXplciwKICAgICAgICB1bml0X3Rva2VuaXplcj11bml0X3Rva2VuaXplciwKICAgICAgICBiYXRjaGluZ19jb25maWc9ZGF0YWxvYWRlci5CYXRjaGluZ0NvbmZpZygKICAgICAgICAgICAgYmF0Y2hfc2l6ZT1maW5ldHVuZV9wYXJhbXMuZXZhbF9iYXRjaF9zaXplLAogICAgICAgICAgICByYW5rPWRpc3RfdXRpbHMuZ2V0X3JhbmsoKSwKICAgICAgICAgICAgd29ybGRfc2l6ZT1kaXN0X3V0aWxzLmdldF93b3JsZF9zaXplKCksCiAgICAgICAgICAgIG1heF9hdWRpb19sZW5ndGhfc2VjPTc1LjAsCiAgICAgICAgICAgIGZsb2F0X2R0eXBlPWZpbmV0dW5lX3BhcmFtcy5mbG9hdF9kdHlwZSwKICAgICAgICApLAogICAgICAgIGRhdGFzZXRfbWFuaWZlc3RfcGF0aD1hcmdzLmV2YWxfZGF0YXNldCkKICAgIAogICAgZmluZXR1bmUgPSB0cmFpbmVyLlVuaXRZRmluZXR1bmUoCiAgICAgICAgbW9kZWw9bW9kZWwsCiAgICAgICAgcGFyYW1zPWZpbmV0dW5lX3BhcmFtcywKICAgICAgICB0cmFpbl9kYXRhX2xvYWRlcj10cmFpbl9kYXRhbG9hZGVyLAogICAgICAgIGV2YWxfZGF0YV9sb2FkZXI9ZXZhbF9kYXRhbG9hZGVyLAogICAgICAgIGZyZWV6ZV9tb2R1bGVzPWFyZ3MuZnJlZXplX2xheWVycykKICAgIAogICAgZmluZXR1bmUucnVuKCkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=='),
    ('seamless/src/seamless_communication/cli/m4t/finetune/dataloader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQganNvbgppbXBvcnQgbG9nZ2luZwpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgSXRlcmFibGUsIExpc3QsIE9wdGlvbmFsLCBUdXBsZQoKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2hhdWRpbwpmcm9tIGRhdGFzZXRzIGltcG9ydCBEYXRhc2V0CmZyb20gZGF0YXNldHMuZGlzdHJpYnV0ZWQgaW1wb3J0IHNwbGl0X2RhdGFzZXRfYnlfbm9kZQpmcm9tIGZhaXJzZXEyLmRhdGEudGV4dCBpbXBvcnQgVGV4dFRva2VuRW5jb2Rlcgpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiIGltcG9ydCBObGxiVG9rZW5pemVyCmZyb20gZmFpcnNlcTIuZGF0YS5hdWRpbyBpbXBvcnQgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgpmcm9tIHRvcmNoLm5uLmZ1bmN0aW9uYWwgaW1wb3J0IHBhZCBhcyBwYWRfdGVuc29yCmZyb20gdG9yY2gudXRpbHMuZGF0YSBpbXBvcnQgRGF0YUxvYWRlcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmRhdGFzZXRzLmRhdGF0eXBlcyBpbXBvcnQgTGFuZ1BhaXJTYW1wbGUKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS51bml0X3Rva2VuaXplciBpbXBvcnQgKAogICAgVW5pdFRva2VuRW5jb2RlciwKICAgIFVuaXRUb2tlbml6ZXIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBkYXRhY2xhc3MKY2xhc3MgU2Vxc0JhdGNoOgogICAgc3JjX3Rva2VuczogT3B0aW9uYWxbVGVuc29yXQogICAgc3JjX2xlbmd0aHM6IE9wdGlvbmFsW1RlbnNvcl0KICAgIHRhcmdldF90b2tlbnM6IE9wdGlvbmFsW1RlbnNvcl0KICAgIHByZXZfb3V0cHV0X3Rva2VuczogT3B0aW9uYWxbVGVuc29yXQogICAgdGFyZ2V0X2xlbmd0aHM6IE9wdGlvbmFsW1RlbnNvcl0KCiAgICBkZWYgX19kZWxfXyhzZWxmKSAtPiBOb25lOgogICAgICAgICIiIkV4cGxpY2l0bHkgZGVsZXRlIHRlbnNvcnMKICAgICAgICB0byBmb3JjZSBHUFUgbWVtb3J5IGNsZWFudXAiIiIKICAgICAgICBmb3IgdGVuc29yIGluIFsKICAgICAgICAgICAgc2VsZi5zcmNfdG9rZW5zLAogICAgICAgICAgICBzZWxmLnNyY19sZW5ndGhzLAogICAgICAgICAgICBzZWxmLnRhcmdldF90b2tlbnMsCiAgICAgICAgICAgIHNlbGYucHJldl9vdXRwdXRfdG9rZW5zLAogICAgICAgICAgICBzZWxmLnRhcmdldF9sZW5ndGhzLAogICAgICAgIF06CiAgICAgICAgICAgIGlmIHRlbnNvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIGRlbCB0ZW5zb3IKCgpAZGF0YWNsYXNzCmNsYXNzIE11bHRpbW9kYWxTZXFzQmF0Y2g6CiAgICBzcGVlY2hfdG9fdGV4dDogU2Vxc0JhdGNoCiAgICB0ZXh0X3RvX3VuaXRzOiBTZXFzQmF0Y2gKCiAgICBkZWYgX19kZWxfXyhzZWxmKSAtPiBOb25lOgogICAgICAgIGRlbCBzZWxmLnNwZWVjaF90b190ZXh0CiAgICAgICAgZGVsIHNlbGYudGV4dF90b191bml0cwoKCkBkYXRhY2xhc3MKY2xhc3MgQmF0Y2hpbmdDb25maWc6CiAgICBmYmFua19mZWF0c19wYWRfaWR4OiBpbnQgPSAwCiAgICAiIiJUaGUgcGFkIGluZGV4IHRvIHVzZSBpbiBmYmFua3MgYmF0Y2hpbmcuIiIiCgogICAgYmF0Y2hfc2l6ZTogaW50ID0gNQogICAgIiIiRml4ZWQgYmF0Y2ggc2l6ZSB0byB1c2UiIiIKCiAgICBtYXhfYXVkaW9fbGVuZ3RoX3NlYzogZmxvYXQgPSAxNS4wCiAgICAiIiIgRHJvcCBzYW1wbGVzIHdpdGggc291cmNlIGF1ZGlvIHNhbXBsZSBsZW5ndGggYWJvdmUgdGhlIHRocmVzaG9sZC4iIiIKCiAgICByYW5rOiBpbnQgPSAwCiAgICAiIiJUaGUgcmFuayBvZiB0aGlzIHdvcmtlciBpbiB0aGUgcHJvY2VzcyBncm91cC4iIiIKCiAgICB3b3JsZF9zaXplOiBpbnQgPSAxCiAgICAiIiJUaGUgd29ybGQgc2l6ZSBvZiB0aGUgcHJvY2VzcyBncm91cC4iIiIKCiAgICBudW1fd29ya2VyczogaW50ID0gMgogICAgIiIiUGFyYWxsZWxpc20gaW4gZGF0YXNldCBwcmVwYXJhdGlvbi4iIiIKCiAgICBmbG9hdF9kdHlwZTogdG9yY2guZHR5cGUgPSB0b3JjaC5mbG9hdDE2CiAgICAiIiJTZWxlY3QgYmV0d2VlbiBmcDE2L2ZwMzIgZm9yIGZsb2F0IHRlbnNvcnMgIiIiCgoKZGVmIHdvcmtlcl9pbml0X2ZuKHdvcmtlcl9pZDogaW50KSAtPiBOb25lOgogICAgbnAucmFuZG9tLnNlZWQobnAucmFuZG9tLmdldF9zdGF0ZSgpWzFdWzBdICsgd29ya2VyX2lkKSAgIyB0eXBlOiBpZ25vcmUKCgpjbGFzcyBVbml0WURhdGFMb2FkZXI6CiAgICBTQU1QTEVfUkFURSA9IDE2XzAwMAoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHRleHRfdG9rZW5pemVyOiBObGxiVG9rZW5pemVyLAogICAgICAgIHVuaXRfdG9rZW5pemVyOiBVbml0VG9rZW5pemVyLAogICAgICAgIGRhdGFzZXRfbWFuaWZlc3RfcGF0aDogc3RyLAogICAgICAgIGJhdGNoaW5nX2NvbmZpZzogQmF0Y2hpbmdDb25maWcsCiAgICAgICAgbWF4X3NyY190b2tlbnNfcGVyX2JhdGNoOiBpbnQgPSAxMDAwMDAKICAgICk6CiAgICAgICAgc2VsZi50ZXh0X3Rva2VuaXplciA9IHRleHRfdG9rZW5pemVyCiAgICAgICAgc2VsZi50ZXh0X2VuY29kZXJzX3Blcl9sYW5nOiBEaWN0W3N0ciwgVGV4dFRva2VuRW5jb2Rlcl0gPSB7fQogICAgICAgIHNlbGYudW5pdF90b2tlbml6ZXIgPSB1bml0X3Rva2VuaXplcgogICAgICAgIHNlbGYudW5pdF9lbmNvZGVyc19wZXJfbGFuZzogRGljdFtzdHIsIFVuaXRUb2tlbkVuY29kZXJdID0ge30KICAgICAgICBzZWxmLmJhdGNoaW5nX2NvbmZpZyA9IGJhdGNoaW5nX2NvbmZpZwogICAgICAgIHNlbGYuX2ZiYW5rX2V4dHJhY3RfcGFyYW1zID0gewogICAgICAgICAgICAibnVtX21lbF9iaW5zIjogODAsCiAgICAgICAgICAgICJ3YXZlZm9ybV9zY2FsZSI6IDMyNzY4LAogICAgICAgICAgICAiY2hhbm5lbF9sYXN0IjogVHJ1ZSwKICAgICAgICAgICAgInN0YW5kYXJkaXplIjogVHJ1ZSwKICAgICAgICAgICAgImRldmljZSI6IHRvcmNoLmRldmljZSgiY3B1IiksCiAgICAgICAgICAgICJkdHlwZSI6IHNlbGYuYmF0Y2hpbmdfY29uZmlnLmZsb2F0X2R0eXBlLAogICAgICAgIH0KICAgICAgICBzZWxmLmRhdGFzZXQgPSBzZWxmLl9sb2FkX21hbmlmZXN0KGRhdGFzZXRfbWFuaWZlc3RfcGF0aCkKICAgICAgICBzZWxmLm1heF9zcmNfdG9rZW5zX3Blcl9iYXRjaCA9IG1heF9zcmNfdG9rZW5zX3Blcl9iYXRjaAoKICAgIGRlZiBnZXRfZGF0YWxvYWRlcihzZWxmKSAtPiBEYXRhTG9hZGVyW1NlcXNCYXRjaF06CiAgICAgICAgc3Vic2V0ID0gc3BsaXRfZGF0YXNldF9ieV9ub2RlKAogICAgICAgICAgICBzZWxmLmRhdGFzZXQsCiAgICAgICAgICAgIHJhbms9c2VsZi5iYXRjaGluZ19jb25maWcucmFuaywKICAgICAgICAgICAgd29ybGRfc2l6ZT1zZWxmLmJhdGNoaW5nX2NvbmZpZy53b3JsZF9zaXplLAogICAgICAgICkKICAgICAgICBkYXRhX2xvYWRlciA9IERhdGFMb2FkZXIoCiAgICAgICAgICAgIGRhdGFzZXQ9c3Vic2V0LAogICAgICAgICAgICBiYXRjaF9zaXplPXNlbGYuYmF0Y2hpbmdfY29uZmlnLmJhdGNoX3NpemUsCiAgICAgICAgICAgIHNodWZmbGU9VHJ1ZSwKICAgICAgICAgICAgbnVtX3dvcmtlcnM9c2VsZi5iYXRjaGluZ19jb25maWcubnVtX3dvcmtlcnMsCiAgICAgICAgICAgIGNvbGxhdGVfZm49c2VsZi5fcHJlcGFyZV9iYXRjaCwKICAgICAgICAgICAgd29ya2VyX2luaXRfZm49d29ya2VyX2luaXRfZm4sCiAgICAgICAgKQogICAgICAgIHJldHVybiBkYXRhX2xvYWRlcgoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKSAtPiBJdGVyYWJsZVtNdWx0aW1vZGFsU2Vxc0JhdGNoXToKICAgICAgICByZXR1cm4gc2VsZi5nZXRfZGF0YWxvYWRlcigpLl9faXRlcl9fKCkKCiAgICBkZWYgX2dldF9zb3VyY2VfZmJhbmsoc2VsZiwgc2FtcGxlOiBMYW5nUGFpclNhbXBsZSkgLT4gVGVuc29yOgogICAgICAgIHdhdiwgc2FtcGxlX3JhdGUgPSB0b3JjaGF1ZGlvLmxvYWQoc2FtcGxlLnNvdXJjZS5hdWRpb19sb2NhbF9wYXRoKQogICAgICAgIGFzc2VydCAoCiAgICAgICAgICAgIGludChzYW1wbGVfcmF0ZSkgPT0gc2VsZi5TQU1QTEVfUkFURQogICAgICAgICksIGYic2FtcGxlICE9IHtzZWxmLlNBTVBMRV9SQVRFfSwgcGxlYXNlIHJlc2FtcGxlIgogICAgICAgIGFzc2VydCBsZW4od2F2LnNoYXBlKSBpbiAoMSwgMikKICAgICAgICBpZiBsZW4od2F2LnNoYXBlKSA9PSAxOgogICAgICAgICAgICB3YXYgPSB3YXYudW5zcXVlZXplKC0xKQogICAgICAgIGVsaWYgd2F2LnNoYXBlWzBdIDw9IDI6ICAjIGNoYW5uZWwgaXMgZmlyc3QsIHNob3VsZCBiZSBzZWNvbmQKICAgICAgICAgICAgd2F2ID0gd2F2LnRyYW5zcG9zZSgwLCAxKQogICAgICAgIHJldHVybiBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoKipzZWxmLl9mYmFua19leHRyYWN0X3BhcmFtcykoICAjIHR5cGU6IGlnbm9yZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAid2F2ZWZvcm0iOiB3YXYsCiAgICAgICAgICAgICAgICAic2FtcGxlX3JhdGUiOiBzZWxmLlNBTVBMRV9SQVRFLAogICAgICAgICAgICB9CiAgICAgICAgKVsiZmJhbmsiXQoKICAgIGRlZiBfZ2V0X3Rva2VuaXplZF90YXJnZXRfdGV4dChzZWxmLCBzYW1wbGU6IExhbmdQYWlyU2FtcGxlKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiRXhwZWN0ZWQgc2VxdWVuY2UgaXMgWzxlb3M+LCA8bGFuZ190b2s+ICwgLi50ZXh0IHRva2Vucy4uLCA8ZW9zPl0iIiIKICAgICAgICB0YXJnZXRfbGFuZyA9IHNhbXBsZS50YXJnZXQubGFuZwogICAgICAgIGlmIHRhcmdldF9sYW5nIG5vdCBpbiBzZWxmLnRleHRfZW5jb2RlcnNfcGVyX2xhbmc6CiAgICAgICAgICAgIHNlbGYudGV4dF9lbmNvZGVyc19wZXJfbGFuZ1t0YXJnZXRfbGFuZ10gPSAoCiAgICAgICAgICAgICAgICBzZWxmLnRleHRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKGxhbmc9dGFyZ2V0X2xhbmcsIG1vZGU9InRhcmdldCIpCiAgICAgICAgICAgICkKICAgICAgICB0b2tlbnMgPSBzZWxmLnRleHRfZW5jb2RlcnNfcGVyX2xhbmdbdGFyZ2V0X2xhbmddKHNhbXBsZS50YXJnZXQudGV4dCkKICAgICAgICBlb3NfaWR4ID0gc2VsZi50ZXh0X3Rva2VuaXplci52b2NhYl9pbmZvLmVvc19pZHgKICAgICAgICB0b2tlbnMgPSB0b3JjaC5jb25jYXQoW3Rva2VucywgdG9yY2guTG9uZ1RlbnNvcihbZW9zX2lkeF0pXSkKICAgICAgICByZXR1cm4gdG9rZW5zCgogICAgZGVmIF9nZXRfdG9rZW5pemVkX3VuaXRzKHNlbGYsIHNhbXBsZTogTGFuZ1BhaXJTYW1wbGUpIC0+IE9wdGlvbmFsW1RlbnNvcl06CiAgICAgICAgIiIiRXhwZWN0ZWQgc2VxdWVuY2UgaXMgWzxlb3M+LCA8bGFuZ190b2s+ICwgLi51bml0IHRva2Vucy4uLCA8ZW9zPl0iIiIKICAgICAgICBpZiBzYW1wbGUudGFyZ2V0LnVuaXRzIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgdGFyZ2V0X2xhbmcgPSBzYW1wbGUudGFyZ2V0LmxhbmcKICAgICAgICBpZiB0YXJnZXRfbGFuZyBub3QgaW4gc2VsZi51bml0X2VuY29kZXJzX3Blcl9sYW5nOgogICAgICAgICAgICBzZWxmLnVuaXRfZW5jb2RlcnNfcGVyX2xhbmdbdGFyZ2V0X2xhbmddID0gKAogICAgICAgICAgICAgICAgc2VsZi51bml0X3Rva2VuaXplci5jcmVhdGVfZW5jb2RlcihsYW5nPXRhcmdldF9sYW5nKQogICAgICAgICAgICApCiAgICAgICAgdG9rZW5zID0gc2VsZi51bml0X2VuY29kZXJzX3Blcl9sYW5nW3RhcmdldF9sYW5nXSgKICAgICAgICAgICAgdG9yY2guTG9uZ1RlbnNvcihzYW1wbGUudGFyZ2V0LnVuaXRzKS51bnNxdWVlemUoMCkKICAgICAgICApCiAgICAgICAgZW9zX2lkeCA9IHNlbGYudW5pdF90b2tlbml6ZXIudm9jYWJfaW5mby5lb3NfaWR4CiAgICAgICAgdG9rZW5zID0gdG9yY2guY29uY2F0KFt0b2tlbnMuc3F1ZWV6ZSgwKSwgdG9yY2guTG9uZ1RlbnNvcihbZW9zX2lkeF0pXSkKICAgICAgICByZXR1cm4gdG9rZW5zCgogICAgZGVmIF9iYXRjaF90ZW5zb3JzKHNlbGYsIHRlbnNvcnM6IExpc3RbVGVuc29yXSwgcGFkX3ZhbHVlOiBBbnkpIC0+IFRlbnNvcjoKICAgICAgICBwYWRkaW5nX3NpemUgPSBtYXgodGVuc29yLnNoYXBlWzBdIGZvciB0ZW5zb3IgaW4gdGVuc29ycykKICAgICAgICBkaW1zID0gbGVuKHRlbnNvcnNbMF0uc2hhcGUpCiAgICAgICAgcGFkZGVkX3RlbnNvcnMgPSBbXQogICAgICAgIGZvciB0ZW5zb3IgaW4gdGVuc29yczoKICAgICAgICAgICAgcGFkZGluZyA9IFswXSAqIDIgKiBkaW1zCiAgICAgICAgICAgIHBhZGRpbmdbLTFdID0gcGFkZGluZ19zaXplIC0gdGVuc29yLnNoYXBlWzBdCiAgICAgICAgICAgIHBhZGRlZF90ZW5zb3JzLmFwcGVuZChwYWRfdGVuc29yKHRlbnNvciwgcGFkZGluZywgImNvbnN0YW50IiwgcGFkX3ZhbHVlKSkKICAgICAgICByZXR1cm4gdG9yY2guc3RhY2soW3RlbnNvciBmb3IgdGVuc29yIGluIHBhZGRlZF90ZW5zb3JzXSwgZGltPTApCgogICAgZGVmIF9pc19sb25nX3NyY19hdWRpbyhzZWxmLCBzYW1wbGU6IExhbmdQYWlyU2FtcGxlKSAtPiBib29sOgogICAgICAgICMgSEFDSzo6IGNhdXNlcyBlcnJvcmVkIGF1ZGlvcyB0byBiZSBleGNsdWRlZCBidXQgdGhpcyBpcyBkaWZmaWN1bHQgdG8gZm9sbG93CiAgICAgICAgdHJ5OgogICAgICAgICAgICB3YXYsIHNhbXBsZV9yYXRlID0gdG9yY2hhdWRpby5sb2FkKHNhbXBsZS5zb3VyY2UuYXVkaW9fbG9jYWxfcGF0aCkKICAgICAgICAgICAgbGVuZ3RoX3M6IGZsb2F0ID0gbWF4KHdhdi5zaGFwZSkgLyBzYW1wbGVfcmF0ZQogICAgICAgICAgICByZXR1cm4gbGVuZ3RoX3MgPiBzZWxmLmJhdGNoaW5nX2NvbmZpZy5tYXhfYXVkaW9fbGVuZ3RoX3NlYwogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgbG9nZ2VyLmV4Y2VwdGlvbihmIkZhaWxlZCB0byBsb2FkIHNhbXBsZSBwYXRoOiB7c2FtcGxlLnNvdXJjZS5hdWRpb19sb2NhbF9wYXRofSIpCiAgICAgICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIF9kcm9wX292ZXJmbG93X3NhbXBsZXMoCiAgICAgICAgc2VsZiwgc2FtcGxlc193aXRoX2ZiYW5rczogTGlzdFtUdXBsZVtMYW5nUGFpclNhbXBsZSwgdG9yY2guVGVuc29yXV0KICAgICkgLT4gTGlzdFtUdXBsZVtMYW5nUGFpclNhbXBsZSwgdG9yY2guVGVuc29yXV06CiAgICAgICAgIyBmaWx0ZXIgYnkgc3JjX3Rva2VucyBsZW5ndGggKHJldmVyc2UpCiAgICAgICAgc2FtcGxlc193aXRoX2ZiYW5rcyA9IHNvcnRlZCgKICAgICAgICAgICAgc2FtcGxlc193aXRoX2ZiYW5rcywga2V5PWxhbWJkYSBzYjogLXNiWzFdLnNoYXBlWzBdCiAgICAgICAgKQogICAgICAgIGJ3ZCA9IHNhbXBsZXNfd2l0aF9mYmFua3NbMF1bMV0uc2hhcGVbMF0KICAgICAgICBtYXhfc2FtcGxlc19mb3JfYmF0Y2ggPSBtYXgoMSwgc2VsZi5tYXhfc3JjX3Rva2Vuc19wZXJfYmF0Y2ggLy8gYndkKQogICAgICAgIGlmIG1heF9zYW1wbGVzX2Zvcl9iYXRjaCA8IGxlbihzYW1wbGVzX3dpdGhfZmJhbmtzKToKICAgICAgICAgICAgc2FtcGxlc193aXRoX2ZiYW5rcyA9IHNhbXBsZXNfd2l0aF9mYmFua3NbOm1heF9zYW1wbGVzX2Zvcl9iYXRjaF0KICAgICAgICByZXR1cm4gc2FtcGxlc193aXRoX2ZiYW5rcwoKICAgIGRlZiBfcHJlcGFyZV9iYXRjaChzZWxmLCByYXdfc2FtcGxlczogTGlzdFtEaWN0W3N0ciwgQW55XV0pIC0+IE11bHRpbW9kYWxTZXFzQmF0Y2g6CiAgICAgICAgc2FtcGxlcyA9IFtMYW5nUGFpclNhbXBsZS5mcm9tX2pzb24oc2FtcGxlKSBmb3Igc2FtcGxlIGluIHJhd19zYW1wbGVzXQogICAgICAgICMgaW5wdXQgc3BlZWNoCiAgICAgICAgCiAgICAgICAgIyAgLSBmaWx0ZXIgbG9uZyBhdWRpbyBzYW1wbGVzCiAgICAgICAgZmlsdGVyZWRfc2FtcGxlcyA9IFsKICAgICAgICAgICAgc2FtcGxlIGZvciBzYW1wbGUgaW4gc2FtcGxlcyBpZiBub3Qgc2VsZi5faXNfbG9uZ19zcmNfYXVkaW8oc2FtcGxlKQogICAgICAgIF0KICAgICAgICBzYW1wbGVzID0gKAogICAgICAgICAgICBmaWx0ZXJlZF9zYW1wbGVzIGlmIGZpbHRlcmVkX3NhbXBsZXMgZWxzZSBbc2FtcGxlc1swXV0KICAgICAgICApICAjIGtlZXAgYXQgbGVhc3Qgb25lIHNhbXBsZQogICAgICAgIHdpdGhfZmJhbmtzID0gWyhzYW1wbGUsIHNlbGYuX2dldF9zb3VyY2VfZmJhbmsoc2FtcGxlKSkgZm9yIHNhbXBsZSBpbiBzYW1wbGVzXQogICAgICAgICMgIC0gZmlsdGVyIE5hTnMgaW4gZmJhbmtzCiAgICAgICAgZmlsdGVyZWQgPSBbCiAgICAgICAgICAgIChzYW1wbGUsIGZiYW5rKQogICAgICAgICAgICBmb3Igc2FtcGxlLCBmYmFuayBpbiB3aXRoX2ZiYW5rcwogICAgICAgICAgICBpZiBub3QgZmJhbmsuaXNuYW4oKS5hbnkoKS5pdGVtKCkKICAgICAgICBdCiAgICAgICAgZmlsdGVyZWQgPSBzZWxmLl9kcm9wX292ZXJmbG93X3NhbXBsZXMoZmlsdGVyZWQpCgogICAgICAgIHNhbXBsZXMgPSBbc2FtcGxlIGZvciBzYW1wbGUsIF8gaW4gZmlsdGVyZWRdCiAgICAgICAgc3JjX3Rva2Vuc19saXN0ID0gW3NyY190b2tlbnMgZm9yIF8sIHNyY190b2tlbnMgaW4gZmlsdGVyZWRdCiAgICAgICAgYXNzZXJ0IGxlbihzYW1wbGVzKSA+IDAKICAgICAgICBzcmNfdG9rZW5zID0gc2VsZi5fYmF0Y2hfdGVuc29ycygKICAgICAgICAgICAgc3JjX3Rva2Vuc19saXN0LCBwYWRfdmFsdWU9c2VsZi5iYXRjaGluZ19jb25maWcuZmJhbmtfZmVhdHNfcGFkX2lkeAogICAgICAgICkudG8oc2VsZi5iYXRjaGluZ19jb25maWcuZmxvYXRfZHR5cGUpCiAgICAgICAgc3JjX2xlbmd0aHMgPSB0b3JjaC5Mb25nVGVuc29yKAogICAgICAgICAgICBbc3JjX3Rva2Vucy5zaGFwZVswXSBmb3Igc3JjX3Rva2VucyBpbiBzcmNfdG9rZW5zX2xpc3RdCiAgICAgICAgKQogICAgICAgIAogICAgICAgICMgb3V0cHV0IHRleHQKICAgICAgICB0ZXh0X3Rva2Vuc19saXN0ID0gWwogICAgICAgICAgICBzZWxmLl9nZXRfdG9rZW5pemVkX3RhcmdldF90ZXh0KHNhbXBsZSkgZm9yIHNhbXBsZSBpbiBzYW1wbGVzCiAgICAgICAgXQogICAgICAgIHRleHRfcGFkX2lkeCA9IHNlbGYudGV4dF90b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4CiAgICAgICAgcHJldl9vdXRwdXRzX3Rva2VucyA9IHNlbGYuX2JhdGNoX3RlbnNvcnMoCiAgICAgICAgICAgIFt0b2tlbnNbOi0xXSBmb3IgdG9rZW5zIGluIHRleHRfdG9rZW5zX2xpc3RdLCBwYWRfdmFsdWU9dGV4dF9wYWRfaWR4CiAgICAgICAgKQogICAgICAgIHRhcmdldF90b2tlbnMgPSBzZWxmLl9iYXRjaF90ZW5zb3JzKAogICAgICAgICAgICBbdG9rZW5zWzE6XSBmb3IgdG9rZW5zIGluIHRleHRfdG9rZW5zX2xpc3RdLCBwYWRfdmFsdWU9dGV4dF9wYWRfaWR4CiAgICAgICAgKQogICAgICAgIHRva2Vuc19sZW5ndGhzID0gdG9yY2guTG9uZ1RlbnNvcigKICAgICAgICAgICAgW3Rva2Vucy5zaGFwZVswXSAtIDEgZm9yIHRva2VucyBpbiB0ZXh0X3Rva2Vuc19saXN0XQogICAgICAgICkKICAgICAgICAjIG91dHB1dCB1bml0cwogICAgICAgIHVuaXRzX2xpc3RfcmF3ID0gW3NlbGYuX2dldF90b2tlbml6ZWRfdW5pdHMoc2FtcGxlKSBmb3Igc2FtcGxlIGluIHNhbXBsZXNdCiAgICAgICAgaWYgTm9uZSBpbiB1bml0c19saXN0X3JhdzoKICAgICAgICAgICAgcHJldl9vdXRwdXRzX3VuaXRzID0gTm9uZQogICAgICAgICAgICB0YXJnZXRfdW5pdHMgPSBOb25lCiAgICAgICAgICAgIHVuaXRzX2xlbmd0aHMgPSBOb25lCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdW5pdHNfbGlzdDogTGlzdFtUZW5zb3JdID0gWwogICAgICAgICAgICAgICAgdmFsdWUgZm9yIHZhbHVlIGluIHVuaXRzX2xpc3RfcmF3IGlmIHZhbHVlIGlzIG5vdCBOb25lCiAgICAgICAgICAgIF0KICAgICAgICAgICAgdW5pdHNfcGFkX2lkeCA9IHNlbGYudW5pdF90b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4CiAgICAgICAgICAgIHByZXZfb3V0cHV0c191bml0cyA9IHNlbGYuX2JhdGNoX3RlbnNvcnMoCiAgICAgICAgICAgICAgICBbdG9rZW5zWzotMV0gZm9yIHRva2VucyBpbiB1bml0c19saXN0XSwgcGFkX3ZhbHVlPXVuaXRzX3BhZF9pZHgKICAgICAgICAgICAgKQogICAgICAgICAgICB0YXJnZXRfdW5pdHMgPSBzZWxmLl9iYXRjaF90ZW5zb3JzKAogICAgICAgICAgICAgICAgW3Rva2Vuc1sxOl0gZm9yIHRva2VucyBpbiB1bml0c19saXN0XSwgcGFkX3ZhbHVlPXVuaXRzX3BhZF9pZHgKICAgICAgICAgICAgKQogICAgICAgICAgICB1bml0c19sZW5ndGhzID0gdG9yY2guTG9uZ1RlbnNvcigKICAgICAgICAgICAgICAgIFt0b2tlbnMuc2hhcGVbMF0gLSAxIGZvciB0b2tlbnMgaW4gdW5pdHNfbGlzdF0KICAgICAgICAgICAgKQogICAgICAgIHJldHVybiBNdWx0aW1vZGFsU2Vxc0JhdGNoKAogICAgICAgICAgICBzcGVlY2hfdG9fdGV4dD1TZXFzQmF0Y2goCiAgICAgICAgICAgICAgICBzcmNfdG9rZW5zPXNyY190b2tlbnMsCiAgICAgICAgICAgICAgICBzcmNfbGVuZ3Rocz1zcmNfbGVuZ3RocywKICAgICAgICAgICAgICAgIHRhcmdldF90b2tlbnM9dGFyZ2V0X3Rva2VucywKICAgICAgICAgICAgICAgIHByZXZfb3V0cHV0X3Rva2Vucz1wcmV2X291dHB1dHNfdG9rZW5zLAogICAgICAgICAgICAgICAgdGFyZ2V0X2xlbmd0aHM9dG9rZW5zX2xlbmd0aHMsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHRleHRfdG9fdW5pdHM9U2Vxc0JhdGNoKAogICAgICAgICAgICAgICAgc3JjX3Rva2Vucz1Ob25lLAogICAgICAgICAgICAgICAgc3JjX2xlbmd0aHM9Tm9uZSwKICAgICAgICAgICAgICAgIHRhcmdldF90b2tlbnM9dGFyZ2V0X3VuaXRzLAogICAgICAgICAgICAgICAgcHJldl9vdXRwdXRfdG9rZW5zPXByZXZfb3V0cHV0c191bml0cywKICAgICAgICAgICAgICAgIHRhcmdldF9sZW5ndGhzPXVuaXRzX2xlbmd0aHMsCiAgICAgICAgICAgICksCiAgICAgICAgKQoKICAgIGRlZiBfbG9hZF9tYW5pZmVzdChzZWxmLCBkYXRhc2V0X21hbmlmZXN0X3BhdGg6IHN0cikgLT4gRGF0YXNldDoKICAgICAgICB3aXRoIG9wZW4oZGF0YXNldF9tYW5pZmVzdF9wYXRoKSBhcyBmcF9pbjoKICAgICAgICAgICAgZGF0YXNldCA9IFtqc29uLmxvYWRzKGxpbmUpIGZvciBsaW5lIGluIGZwX2luXQogICAgICAgICAgICByZXR1cm4gRGF0YXNldC5mcm9tX2xpc3QoZGF0YXNldCkK'),
    ('seamless/src/seamless_communication/cli/m4t/finetune/dist_utils.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQgbG9nZ2luZwppbXBvcnQgb3MKZnJvbSBkYXRldGltZSBpbXBvcnQgdGltZWRlbHRhCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0CgppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoLmRpc3RyaWJ1dGVkIGFzIGRpc3QKaW1wb3J0IHRvcmNoLm11bHRpcHJvY2Vzc2luZwoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKZGVmIGlzX2Rpc3RfaW5pdGlhbGl6ZWQoKSAtPiBib29sOgogICAgaWYgbm90IGRpc3QuaXNfYXZhaWxhYmxlKCk6CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBpZiBub3QgZGlzdC5pc19pbml0aWFsaXplZCgpOgogICAgICAgIHJldHVybiBGYWxzZQogICAgcmV0dXJuIFRydWUKCgpkZWYgZ2V0X3JhbmsoKSAtPiBpbnQ6CiAgICBpZiBub3QgaXNfZGlzdF9pbml0aWFsaXplZCgpOgogICAgICAgIHJldHVybiAwCiAgICByZXR1cm4gZGlzdC5nZXRfcmFuaygpCgoKZGVmIGdldF9sb2NhbF9yYW5rKCkgLT4gaW50OgogICAgaWYgbm90IGlzX2Rpc3RfaW5pdGlhbGl6ZWQoKToKICAgICAgICByZXR1cm4gMAogICAgcmV0dXJuIGludChvcy5lbnZpcm9uWyJMT0NBTF9SQU5LIl0pCgoKZGVmIGdldF93b3JsZF9zaXplKCkgLT4gaW50OgogICAgaWYgbm90IGlzX2Rpc3RfaW5pdGlhbGl6ZWQoKToKICAgICAgICByZXR1cm4gMQogICAgcmV0dXJuIGRpc3QuZ2V0X3dvcmxkX3NpemUoKQoKCmRlZiBpc19tYWluX3Byb2Nlc3MoKSAtPiBib29sOgogICAgcmV0dXJuIGdldF9yYW5rKCkgPT0gMAoKCmRlZiBpbml0X2Rpc3RyaWJ1dGVkKGxvZ2dlcnM6IExpc3RbbG9nZ2luZy5Mb2dnZXJdKSAtPiBOb25lOgogICAgIiIiSW5pdGlhbGl6ZXMgdGhlIGRpc3RyaWJ1dGVkIGJhY2tlbmQiIiIKICAgIHRvcmNoLm11bHRpcHJvY2Vzc2luZy5zZXRfc3RhcnRfbWV0aG9kKCJzcGF3biIpCiAgICBpZiAiUkFOSyIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgbG9nZ2VyLmVycm9yKAogICAgICAgICAgICAiQ2Fubm90IGluaXQgZGlzcmlidXRlZCBjb250ZXh0LCBhcyBlbnZpcm9ubWVudCB2YXJhaWJsZXMgYXJlIG5vdCBzZXQuIgogICAgICAgICkKICAgICAgICByZXR1cm4KICAgIHJhbmsgPSBpbnQob3MuZW52aXJvblsiUkFOSyJdKQogICAgd29ybGRfc2l6ZSA9IGludChvcy5lbnZpcm9uWyJXT1JMRF9TSVpFIl0pCiAgICBsb2NhbF9yYW5rID0gaW50KG9zLmVudmlyb25bIkxPQ0FMX1JBTksiXSkKICAgIGxvZ2dlci5pbmZvKAogICAgICAgIGYiUmFuaz17cmFua30gbG9jYWwgcmFuaz17bG9jYWxfcmFua30sIHdvcmxkX3NpemU9e3dvcmxkX3NpemV9LCBpc19tYXN0ZXI9e3JhbmsgPT0gMH0iCiAgICApCiAgICBkaXN0LmluaXRfcHJvY2Vzc19ncm91cCgKICAgICAgICBiYWNrZW5kPSJuY2NsIiwKICAgICAgICBpbml0X21ldGhvZD0iZW52Oi8vIiwKICAgICAgICB3b3JsZF9zaXplPXdvcmxkX3NpemUsCiAgICAgICAgcmFuaz1yYW5rLAogICAgICAgIHRpbWVvdXQ9dGltZWRlbHRhKHNlY29uZHM9MTgwKSwKICAgICkKICAgIGxvZ2dlci5pbmZvKGYiU2V0dGluZyBjdWRhOntsb2NhbF9yYW5rfSBhcyBtYWluIGRldmljZSIpCiAgICBpZiBub3QgaXNfbWFpbl9wcm9jZXNzKCk6CiAgICAgICAgZm9yIHRvX211dGUgaW4gbG9nZ2VyczoKICAgICAgICAgICAgdG9fbXV0ZS5zZXRMZXZlbChsb2dnaW5nLkVSUk9SKQogICAgdG9yY2guY3VkYS5zZXRfZGV2aWNlKGxvY2FsX3JhbmspCiAgICBkaXN0LmJhcnJpZXIoKQo='),
    ('seamless/src/seamless_communication/cli/m4t/finetune/trainer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQgbG9nZ2luZwppbXBvcnQgdGltZQpmcm9tIGNvbnRleHRsaWIgaW1wb3J0IGNvbnRleHRtYW5hZ2VyCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIGVudW0gaW1wb3J0IEVudW0KZnJvbSB0cWRtIGltcG9ydCB0cWRtCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgT3B0aW9uYWwsIFR1cGxlLCBVbmlvbgoKaW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaC5kaXN0cmlidXRlZCBhcyBkaXN0CmltcG9ydCB0b3JjaC5ubiBhcyBubgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFZvY2FidWxhcnlJbmZvCmZyb20gZmFpcnNlcTIubW9kZWxzLnNlcXVlbmNlIGltcG9ydCBTZXF1ZW5jZU1vZGVsT3V0cHV0CmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2sKZnJvbSBmYWlyc2VxMi5vcHRpbS5scl9zY2hlZHVsZXIgaW1wb3J0IE15bGVMUgpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlCmZyb20gdG9yY2gub3B0aW0gaW1wb3J0IEFkYW1XCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5maW5ldHVuZSBpbXBvcnQgZGF0YWxvYWRlciwgZGlzdF91dGlscwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5IGltcG9ydCAoCiAgICBVbml0WU1vZGVsLAogICAgVW5pdFlUMlVNb2RlbCwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgRmluZXR1bmVNb2RlKEVudW0pOgogICAgU1BFRUNIX1RPX1NQRUVDSCA9ICJTUEVFQ0hfVE9fU1BFRUNIIgogICAgU1BFRUNIX1RPX1RFWFQgPSAiU1BFRUNIX1RPX1RFWFQiCiAgICBURVhUX1RPX1NQRUVDSCA9ICJURVhUX1RPX1NQRUVDSCIKCgpAZGF0YWNsYXNzCmNsYXNzIEZpbmV0dW5lUGFyYW1zOgogICAgbW9kZWxfbmFtZTogc3RyCiAgICAiIiJNb2RlbCBuYW1lIG9mIG1vZGVsIGJlaW5nIGZpbmV0dW5lZC4iIiIKICAgIAogICAgc2F2ZV9tb2RlbF9wYXRoOiBQYXRoCiAgICAiIiJQYXRoIHdlcmUgdG8gc2F2ZSBmaW5ldHVuZWQgbW9kZWwuIiIiCgogICAgZmluZXR1bmVfbW9kZTogRmluZXR1bmVNb2RlID0gRmluZXR1bmVNb2RlLlRFWFRfVE9fU1BFRUNICiAgICAiIiJBbGxvd3MgdG8gZnJlZXplIFMyVCBvciBUMlUgcGFydCBvZiB0aGUgbW9kZWwiIiIKICAgIAogICAgZmxvYXRfZHR5cGU6IHRvcmNoLmR0eXBlID0gdG9yY2guZmxvYXQxNgogICAgIiIiRmxvYXQgRHR5cGUiIiIKCiAgICBtYXhfZXBvY2hzOiBpbnQgPSAxMAogICAgIiIiIE1heGltdW0gbnVtYmVyIG9mIHRyYWluaWduIGVwb2NocyIiIgoKICAgIGxhYmVsX3Ntb290aGluZzogZmxvYXQgPSAwLjIKICAgICIiIiBMYWJlbCBzbW9vdGhpbmcgY29lZmZpY2llbnQgZm9yIG5sbF9sb3NzICIiIgoKICAgIHdhcm11cF9zdGVwczogaW50ID0gMTAwCiAgICAiIiIgTnVtYmVyIG9mIHN0ZXBzIHdpdGggbGluZWFybHkgaW5jcmVhc2luZyBMUiIiIgoKICAgIGxvZ19zdGVwczogaW50ID0gMTAKICAgICIiIiBMb2cgaW5uZXIgbG9zcyBhZnRlciBlYWNoIGBsb2dfc3RlcHNgIHRyYWluaW5nIHN0ZXBzIiIiCgogICAgZXZhbF9zdGVwczogaW50ID0gNTAKICAgICIiIiBHZXQgZXZhbCBsb3NzIGFmdGVyIGVhY2ggYGV2YWxfc3RlcHNgIHRyYWluaW5nIHN0ZXBzICIiIgoKICAgIHBhdGllbmNlOiBpbnQgPSAzCiAgICAiIiIgVGVybWluYXRlIGlmIGV2YWwgbG9zcyBkaWQgbm90IGltcHJvdmUKICAgIG92ZXIgdGhlIGxhc3QgYHBhdGllbmNlICogZXZhbF9zdGVwc2AgdHJhaW5pbmcgc3RlcHMiIiIKCiAgICBsZWFybmluZ19yYXRlOiBmbG9hdCA9IDFlLTUKICAgICIiIiBPcHRpbWl6ZXIgbGVhcmluaW5nIHJhdGUgIiIiCgogICAgdHJhaW5fYmF0Y2hfc2l6ZTogaW50ID0gNQogICAgIiIiVGhlIGJhdGNoIHNpemUgZHVyaW5nIHRyYWluIHN0ZXBzIiIiCgogICAgZXZhbF9iYXRjaF9zaXplOiBpbnQgPSA1CiAgICAiIiJUaGUgYmF0Y2ggc2l6ZSBkdXJpbmcgZXZhbHVhdGlvbi4iIiIKCiAgICBkZXZpY2U6IERldmljZSA9IHRvcmNoLmRldmljZSgiY3VkYSIpCiAgICAiIiIgV2hlcmUgdG8gcnVuIGNvbXB1dGF0aW9uIiIiCgoKY2xhc3MgVW5pdFlGaW5ldHVuZVdyYXBwZXIobm4uTW9kdWxlKToKICAgICIiIkNvbnZlbmllbmNlIHdyYXBwZXIgdGhhdCBkb2VzIGEgZm9yd2FyZCBwYXNzCiAgICBhbmQgcmV0dXJucyBTMlQgYW5kIFQyVSBsb2dpdHMiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgbW9kZWw6IFVuaXRZTW9kZWwsIG1vZGU6IEZpbmV0dW5lTW9kZSwgZGV2aWNlOiBEZXZpY2UpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYubW9kZWw6IFVuaXRZTW9kZWwgPSBtb2RlbAogICAgICAgIHNlbGYuZnJlZXplX3MydDogYm9vbCA9IG1vZGUgPT0gRmluZXR1bmVNb2RlLlRFWFRfVE9fU1BFRUNICiAgICAgICAgc2VsZi5mcmVlemVfdDJ1OiBib29sID0gbW9kZSA9PSBGaW5ldHVuZU1vZGUuU1BFRUNIX1RPX1RFWFQKICAgICAgICBsb2dnZXIuaW5mbyhmIkZyZWV6ZSBzMnQ6IHtzZWxmLmZyZWV6ZV9zMnR9LCBmcmVlemUgdDJ1OiB7c2VsZi5mcmVlemVfdDJ1fSIpCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLCBiYXRjaDogZGF0YWxvYWRlci5NdWx0aW1vZGFsU2Vxc0JhdGNoCiAgICApIC0+IFR1cGxlW3RvcmNoLlRlbnNvciwgT3B0aW9uYWxbdG9yY2guVGVuc29yXV06CiAgICAgICAgZHVtbXlfY29udGV4dCA9IGNvbnRleHRtYW5hZ2VyKGxhbWJkYTogaXRlcihbTm9uZV0pKSgpCiAgICAgICAgd2l0aCB0b3JjaC5ub19ncmFkKCkgaWYgc2VsZi5mcmVlemVfczJ0IGVsc2UgZHVtbXlfY29udGV4dDogICMgdHlwZTppZ25vcmUKICAgICAgICAgICAgYXNzZXJ0IGJhdGNoLnNwZWVjaF90b190ZXh0LnNyY190b2tlbnMgaXMgbm90IE5vbmUKICAgICAgICAgICAgc2VxcyA9IGJhdGNoLnNwZWVjaF90b190ZXh0LnNyY190b2tlbnMudG8oc2VsZi5kZXZpY2UpCiAgICAgICAgICAgIGFzc2VydCBiYXRjaC5zcGVlY2hfdG9fdGV4dC5zcmNfbGVuZ3RocyBpcyBub3QgTm9uZQogICAgICAgICAgICBzZXFfbGVucyA9IGJhdGNoLnNwZWVjaF90b190ZXh0LnNyY19sZW5ndGhzLnRvKHNlbGYuZGV2aWNlKQogICAgICAgICAgICBzcGVlY2hfZW5jb2Rlcl9vdXQsIHNwZWVjaF9lbmNvZGVyX3BhZGRpbmdfbWFzayA9IHNlbGYubW9kZWwuZW5jb2RlX3NwZWVjaCgKICAgICAgICAgICAgICAgIHNlcXM9c2VxcywgcGFkZGluZ19tYXNrPVBhZGRpbmdNYXNrKHNlcV9sZW5zLCBzZXFzLnNpemUoMSkpCiAgICAgICAgICAgICkKICAgICAgICAgICAgYXNzZXJ0IGJhdGNoLnNwZWVjaF90b190ZXh0LnByZXZfb3V0cHV0X3Rva2VucyBpcyBub3QgTm9uZQogICAgICAgICAgICBzZXFzID0gYmF0Y2guc3BlZWNoX3RvX3RleHQucHJldl9vdXRwdXRfdG9rZW5zLnRvKHNlbGYuZGV2aWNlKQogICAgICAgICAgICBhc3NlcnQgYmF0Y2guc3BlZWNoX3RvX3RleHQudGFyZ2V0X2xlbmd0aHMgaXMgbm90IE5vbmUKICAgICAgICAgICAgc2VxX2xlbnMgPSBiYXRjaC5zcGVlY2hfdG9fdGV4dC50YXJnZXRfbGVuZ3Rocy50byhzZWxmLmRldmljZSkKICAgICAgICAgICAgdGV4dF9kZWNvZGVyX291dCwgdGV4dF9kZWNvZGVyX3BhZGRpbmdfbWFzayA9IHNlbGYubW9kZWwuZGVjb2RlKAogICAgICAgICAgICAgICAgc2Vxcz1zZXFzLAogICAgICAgICAgICAgICAgcGFkZGluZ19tYXNrPVBhZGRpbmdNYXNrKHNlcV9sZW5zLCBzZXFzLnNpemUoMSkpLAogICAgICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQ9c3BlZWNoX2VuY29kZXJfb3V0LAogICAgICAgICAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2s9c3BlZWNoX2VuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICApCiAgICAgICAgICAgIGFzc2VydCBzZWxmLm1vZGVsLmZpbmFsX3Byb2ogaXMgbm90IE5vbmUKICAgICAgICAgICAgdGV4dF9sb2dpdHMgPSBzZWxmLm1vZGVsLmZpbmFsX3Byb2oodGV4dF9kZWNvZGVyX291dCkKICAgICAgICBpZiBzZWxmLmZyZWV6ZV90MnU6CiAgICAgICAgICAgIHJldHVybiAodGV4dF9sb2dpdHMsIE5vbmUpCiAgICAgICAgYXNzZXJ0IHNlbGYubW9kZWwudDJ1X21vZGVsIGlzIG5vdCBOb25lCiAgICAgICAgYXNzZXJ0IGJhdGNoLnRleHRfdG9fdW5pdHMucHJldl9vdXRwdXRfdG9rZW5zIGlzIG5vdCBOb25lCiAgICAgICAgZHVtbXlfY29udGV4dCA9IGNvbnRleHRtYW5hZ2VyKGxhbWJkYTogaXRlcihbTm9uZV0pKSgpCiAgICAgICAgd2l0aCB0b3JjaC5ub19ncmFkKCkgaWYgc2VsZi5mcmVlemVfdDJ1IGVsc2UgZHVtbXlfY29udGV4dDogICMgdHlwZTppZ25vcmUKICAgICAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uoc2VsZi5tb2RlbC50MnVfbW9kZWwsIFVuaXRZVDJVTW9kZWwpOgogICAgICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigKICAgICAgICAgICAgICAgICAgICAiVDJVIGZpbmV0dW5pbmcgaW1wbGVtZW50ZWQgb25seSBmb3IgVW5pdFlUMlVNb2RlbCIKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKAogICAgICAgICAgICAgICAgdW5pdF9lbmNvZGVyX291dCwKICAgICAgICAgICAgICAgIHVuaXRfZW5jb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgICkgPSBzZWxmLm1vZGVsLnQydV9tb2RlbC5lbmNvZGUoCiAgICAgICAgICAgICAgICBzZXFzPXRleHRfZGVjb2Rlcl9vdXQsCiAgICAgICAgICAgICAgICBwYWRkaW5nX21hc2s9dGV4dF9kZWNvZGVyX3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgKQogICAgICAgICAgICBzZXFzID0gYmF0Y2gudGV4dF90b191bml0cy5wcmV2X291dHB1dF90b2tlbnMudG8oc2VsZi5kZXZpY2UpCiAgICAgICAgICAgIGFzc2VydCBiYXRjaC50ZXh0X3RvX3VuaXRzLnRhcmdldF9sZW5ndGhzIGlzIG5vdCBOb25lCiAgICAgICAgICAgIHNlcV9sZW5zID0gYmF0Y2gudGV4dF90b191bml0cy50YXJnZXRfbGVuZ3Rocy50byhzZWxmLmRldmljZSkKICAgICAgICAgICAgdW5pdF9kZWNvZGVyX291dCwgXyA9IHNlbGYubW9kZWwudDJ1X21vZGVsLmRlY29kZSgKICAgICAgICAgICAgICAgIHNlcXM9c2VxcywKICAgICAgICAgICAgICAgIHBhZGRpbmdfbWFzaz1QYWRkaW5nTWFzayhzZXFfbGVucywgc2Vxcy5zaXplKDEpKSwKICAgICAgICAgICAgICAgIGVuY29kZXJfb3V0cHV0PXVuaXRfZW5jb2Rlcl9vdXQsCiAgICAgICAgICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzaz11bml0X2VuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICApCiAgICAgICAgICAgIHVuaXRfbG9naXRzID0gc2VsZi5tb2RlbC50MnVfbW9kZWwuZmluYWxfcHJvaih1bml0X2RlY29kZXJfb3V0KQoKICAgICAgICByZXR1cm4gKHRleHRfbG9naXRzLCB1bml0X2xvZ2l0cykKCgpjbGFzcyBDYWxjTG9zczoKICAgICIiIkNhbGN1bGF0ZXMgbmVnYXRpdmUgbG9nIGxpa2VsaWhvb2QgbG9zcyBmb3IgUzJUIGFuZCBUMlUiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBsYWJlbF9zbW9vdGhpbmc6IGZsb2F0LAogICAgICAgIHMydF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbywKICAgICAgICB0MnVfdm9jYWJfaW5mbzogT3B0aW9uYWxbVm9jYWJ1bGFyeUluZm9dLAogICAgKToKICAgICAgICBzZWxmLmxhYmVsX3Ntb290aGluZyA9IGxhYmVsX3Ntb290aGluZwogICAgICAgIHNlbGYuczJ0X3ZvY2FiX2luZm8gPSBzMnRfdm9jYWJfaW5mbwogICAgICAgIHNlbGYudDJ1X3ZvY2FiX2luZm8gPSB0MnVfdm9jYWJfaW5mbwoKICAgIGRlZiBfX2NhbGxfXygKICAgICAgICBzZWxmLAogICAgICAgIGJhdGNoOiBkYXRhbG9hZGVyLk11bHRpbW9kYWxTZXFzQmF0Y2gsCiAgICAgICAgdGV4dF9sb2dpdHM6IHRvcmNoLlRlbnNvciwKICAgICAgICB1bml0X2xvZ2l0czogT3B0aW9uYWxbdG9yY2guVGVuc29yXSwKICAgICkgLT4gdG9yY2guVGVuc29yOgogICAgICAgIGFzc2VydCBiYXRjaC5zcGVlY2hfdG9fdGV4dC50YXJnZXRfbGVuZ3RocyBpcyBub3QgTm9uZQogICAgICAgIHByZWZpeF9za2lwX2xlbiA9IDEgICMgbGFuZ3VhZ2UgdG9rZW5zIHRvIHNraXAKICAgICAgICBzMnRfbnVtZWwgPSB0b3JjaC5zdW0oYmF0Y2guc3BlZWNoX3RvX3RleHQudGFyZ2V0X2xlbmd0aHMgLSBwcmVmaXhfc2tpcF9sZW4pLnRvKAogICAgICAgICAgICB0ZXh0X2xvZ2l0cy5kZXZpY2UKICAgICAgICApCiAgICAgICAgYXNzZXJ0IGJhdGNoLnNwZWVjaF90b190ZXh0LnRhcmdldF90b2tlbnMgaXMgbm90IE5vbmUKICAgICAgICBzMnRfbG9zcyA9IFNlcXVlbmNlTW9kZWxPdXRwdXQoCiAgICAgICAgICAgIGxvZ2l0cz10ZXh0X2xvZ2l0cywgdm9jYWJfaW5mbz1zZWxmLnMydF92b2NhYl9pbmZvCiAgICAgICAgKS5jb21wdXRlX2xvc3MoCiAgICAgICAgICAgIHRhcmdldHM9YmF0Y2guc3BlZWNoX3RvX3RleHQudGFyZ2V0X3Rva2Vucy50byh0ZXh0X2xvZ2l0cy5kZXZpY2UpLAogICAgICAgICAgICBpZ25vcmVfcHJlZml4X3NpemU9cHJlZml4X3NraXBfbGVuLAogICAgICAgICAgICBsYWJlbF9zbW9vdGhpbmc9c2VsZi5sYWJlbF9zbW9vdGhpbmcsCiAgICAgICAgKQogICAgICAgIGlmIHVuaXRfbG9naXRzIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBzMnRfbG9zcyAvIHMydF9udW1lbAogICAgICAgIGFzc2VydCBiYXRjaC50ZXh0X3RvX3VuaXRzLnRhcmdldF9sZW5ndGhzIGlzIG5vdCBOb25lCiAgICAgICAgczJ1X251bWVsID0gdG9yY2guc3VtKGJhdGNoLnRleHRfdG9fdW5pdHMudGFyZ2V0X2xlbmd0aHMgLSBwcmVmaXhfc2tpcF9sZW4pLnRvKAogICAgICAgICAgICB1bml0X2xvZ2l0cy5kZXZpY2UKICAgICAgICApCiAgICAgICAgYXNzZXJ0IGJhdGNoLnRleHRfdG9fdW5pdHMudGFyZ2V0X3Rva2VucyBpcyBub3QgTm9uZQogICAgICAgIGFzc2VydCBzZWxmLnQydV92b2NhYl9pbmZvIGlzIG5vdCBOb25lCiAgICAgICAgczJ1X2xvc3MgPSBTZXF1ZW5jZU1vZGVsT3V0cHV0KAogICAgICAgICAgICBsb2dpdHM9dW5pdF9sb2dpdHMsIHZvY2FiX2luZm89c2VsZi50MnVfdm9jYWJfaW5mbwogICAgICAgICkuY29tcHV0ZV9sb3NzKAogICAgICAgICAgICB0YXJnZXRzPWJhdGNoLnRleHRfdG9fdW5pdHMudGFyZ2V0X3Rva2Vucy50byh1bml0X2xvZ2l0cy5kZXZpY2UpLAogICAgICAgICAgICBpZ25vcmVfcHJlZml4X3NpemU9cHJlZml4X3NraXBfbGVuLAogICAgICAgICAgICBsYWJlbF9zbW9vdGhpbmc9c2VsZi5sYWJlbF9zbW9vdGhpbmcsCiAgICAgICAgKQogICAgICAgIHJldHVybiBzMnRfbG9zcyAvIHMydF9udW1lbCArIHMydV9sb3NzIC8gczJ1X251bWVsCgoKY2xhc3MgTG9zc0NvbGxlY3RvcjoKICAgICIiIkFnZ3JlZ3JhdGVzIGxvc3MgaGlzdG9yeSBhY3Jvc3Mgbm9kZXMiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwgcmVkdWNlX29wOiBzdHIgPSAiYXZnIik6CiAgICAgICAgc2VsZi5uX3NhbXBsZXM6IGZsb2F0ID0gMAogICAgICAgIHNlbGYudmFsX3N1bTogZmxvYXQgPSAwLjAKICAgICAgICBzZWxmLnJlZHVjZV9vcCA9IHJlZHVjZV9vcAogICAgICAgIHNlbGYuZGV2aWNlID0gZGV2aWNlCiAgICAgICAgc2VsZi5pc19kaXN0cmlidXRlZCA9IGRpc3RfdXRpbHMuaXNfZGlzdF9pbml0aWFsaXplZCgpCgogICAgZGVmIHJlc2V0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5uX3NhbXBsZXMgPSAwCiAgICAgICAgc2VsZi52YWxfc3VtID0gMC4wCgogICAgZGVmIHVwZGF0ZShzZWxmLCBuX3NhbXBsZXM6IGludCwgYmF0Y2hfbG9zczogZmxvYXQpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5uX3NhbXBsZXMgKz0gbl9zYW1wbGVzCiAgICAgICAgc2VsZi52YWxfc3VtICs9IGJhdGNoX2xvc3MKCiAgICBkZWYgcmVkdWNlKHNlbGYpIC0+IGZsb2F0OgogICAgICAgIG5fc2FtcGxlcywgdmFsX3N1bSA9IHNlbGYuX2NvbGxlY3QoKQogICAgICAgIGlmIHNlbGYucmVkdWNlX29wID09ICJhdmciOgogICAgICAgICAgICByZXR1cm4gdmFsX3N1bSAvIChuX3NhbXBsZXMgKyAxKQogICAgICAgIGlmIHNlbGYucmVkdWNlX29wID09ICJzdW0iOgogICAgICAgICAgICByZXR1cm4gdmFsX3N1bQogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoKQoKICAgIGRlZiBfY29sbGVjdChzZWxmKSAtPiBUdXBsZVtmbG9hdCwgZmxvYXRdOgogICAgICAgIGlmIG5vdCBzZWxmLmlzX2Rpc3RyaWJ1dGVkOgogICAgICAgICAgICByZXR1cm4gc2VsZi5uX3NhbXBsZXMsIHNlbGYudmFsX3N1bQogICAgICAgIGxvY2FsX3ZhbCA9IHRvcmNoLnRlbnNvcihbW3NlbGYubl9zYW1wbGVzLCBzZWxmLnZhbF9zdW1dXSwgZGV2aWNlPXNlbGYuZGV2aWNlKQogICAgICAgIGFsbF92YWxzID0gWwogICAgICAgICAgICB0b3JjaC56ZXJvcygoMSwgMiksIGRldmljZT1zZWxmLmRldmljZSkKICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UoZGlzdF91dGlscy5nZXRfd29ybGRfc2l6ZSgpKQogICAgICAgIF0KICAgICAgICBkaXN0LmFsbF9nYXRoZXIoYWxsX3ZhbHMsIGxvY2FsX3ZhbCkKICAgICAgICBsb3NzZXMgPSB0b3JjaC5jb25jYXQoYWxsX3ZhbHMsIGRpbT0wKQogICAgICAgIHJlZHVjZWQgPSB0b3JjaC5zdW0obG9zc2VzLCBkaW09MCkucmVzaGFwZSgyKS5jcHUoKQogICAgICAgIHJldHVybiByZWR1Y2VkWzBdLml0ZW0oKSwgcmVkdWNlZFsxXS5pdGVtKCkKCgpjbGFzcyBVbml0WUZpbmV0dW5lOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWw6IFVuaXRZTW9kZWwsCiAgICAgICAgcGFyYW1zOiBGaW5ldHVuZVBhcmFtcywKICAgICAgICB0cmFpbl9kYXRhX2xvYWRlcjogZGF0YWxvYWRlci5Vbml0WURhdGFMb2FkZXIsCiAgICAgICAgZXZhbF9kYXRhX2xvYWRlcjogT3B0aW9uYWxbZGF0YWxvYWRlci5Vbml0WURhdGFMb2FkZXJdID0gTm9uZSwKICAgICAgICBmcmVlemVfbW9kdWxlczogT3B0aW9uYWxbTGlzdFtVbmlvbltzdHIsIHRvcmNoLm5uLk1vZHVsZV1dXSA9IE5vbmUKICAgICk6CiAgICAgICAgc2VsZi5wYXJhbXMgPSBwYXJhbXMKICAgICAgICBzZWxmLmNhbGNfbG9zcyA9IENhbGNMb3NzKAogICAgICAgICAgICBsYWJlbF9zbW9vdGhpbmc9c2VsZi5wYXJhbXMubGFiZWxfc21vb3RoaW5nLAogICAgICAgICAgICBzMnRfdm9jYWJfaW5mbz1tb2RlbC50YXJnZXRfdm9jYWJfaW5mbywKICAgICAgICAgICAgdDJ1X3ZvY2FiX2luZm89bW9kZWwudDJ1X21vZGVsLnRhcmdldF92b2NhYl9pbmZvCiAgICAgICAgICAgIGlmIG1vZGVsLnQydV9tb2RlbCBpcyBub3QgTm9uZQogICAgICAgICAgICBlbHNlIE5vbmUsCiAgICAgICAgKQogICAgICAgIAogICAgICAgIHNlbGYubW9kZWwgPSBzZWxmLl93cmFwX21vZGVsX2Zvcl90cmFpbmluaW5nKG1vZGVsPW1vZGVsKQogICAgICAgIGlmIGZyZWV6ZV9tb2R1bGVzOgogICAgICAgICAgICBzZWxmLl9mcmVlemVfbW9kdWxlcyhmcmVlemVfbW9kdWxlcykKICAgICAgICAKICAgICAgICBzZWxmLnRyYWluX2RhdGFfbG9hZGVyID0gdHJhaW5fZGF0YV9sb2FkZXIKICAgICAgICBzZWxmLmV2YWxfZGF0YV9sb2FkZXIgPSBldmFsX2RhdGFfbG9hZGVyCiAgICAgICAgCiAgICAgICAgc2VsZi5ncmFkX3NjYWxlciA9IHRvcmNoLmN1ZGEuYW1wLkdyYWRTY2FsZXIoKSAgIyB0eXBlOiBpZ25vcmUKICAgICAgICBzZWxmLm9wdGltaXplciA9IEFkYW1XKAogICAgICAgICAgICBwYXJhbXM9c2VsZi5tb2RlbC5wYXJhbWV0ZXJzKCksCiAgICAgICAgICAgIGxyPXNlbGYucGFyYW1zLmxlYXJuaW5nX3JhdGUsCiAgICAgICAgICAgIGJldGFzPSgwLjksIDAuOTgpLAogICAgICAgICAgICBlcHM9MWUtMDgsCiAgICAgICAgICAgIG1heGltaXplPUZhbHNlLAogICAgICAgICAgICB3ZWlnaHRfZGVjYXk9MC4wLAogICAgICAgICAgICBmdXNlZD0oc2VsZi5wYXJhbXMuZGV2aWNlLnR5cGUgPT0gImN1ZGEiKSwKICAgICAgICApCiAgICAgICAgc2VsZi5scl9zY2hlZHVsZXIgPSBNeWxlTFIoCiAgICAgICAgICAgIG9wdGltaXplcj1zZWxmLm9wdGltaXplciwKICAgICAgICAgICAgbnVtX3dhcm11cF9zdGVwcz1zZWxmLnBhcmFtcy53YXJtdXBfc3RlcHMsCiAgICAgICAgICAgIHN0YXJ0X2xyPTFlLTksCiAgICAgICAgKQoKICAgICAgICBzZWxmLnRyYWluX2xvc3NfaGlzdCA9IExvc3NDb2xsZWN0b3IoZGV2aWNlPXBhcmFtcy5kZXZpY2UpCiAgICAgICAgc2VsZi5lcG9jaF9pZHg6IGludCA9IDAKICAgICAgICBzZWxmLnVwZGF0ZV9pZHg6IGludCA9IDAKICAgICAgICBzZWxmLnBhdGllbmNlX2xlZnQ6IGludCA9IHNlbGYucGFyYW1zLnBhdGllbmNlCiAgICAgICAgc2VsZi5iZXN0X2V2YWxfbG9zczogT3B0aW9uYWxbZmxvYXRdID0gTm9uZQogICAgICAgIHNlbGYuaXNfYmVzdF9zdGF0ZTogYm9vbCA9IEZhbHNlCiAgICAgICAgdG9yY2guc2V0X2Zsb2F0MzJfbWF0bXVsX3ByZWNpc2lvbigiaGlnaCIpCgogICAgZGVmIF9yZXNldF9zdGF0cyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYudHJhaW5fbG9zc19oaXN0LnJlc2V0KCkKICAgICAgICBzZWxmLmVwb2NoX2lkeCA9IDAKICAgICAgICBzZWxmLnVwZGF0ZV9pZHggPSAwCiAgICAgICAgc2VsZi5wYXRpZW5jZV9sZWZ0ID0gc2VsZi5wYXJhbXMucGF0aWVuY2UKICAgICAgICBzZWxmLmJlc3RfZXZhbF9sb3NzID0gTm9uZQogICAgICAgIHNlbGYuaXNfYmVzdF9zdGF0ZSA9IEZhbHNlCgogICAgZGVmIF93cmFwX21vZGVsX2Zvcl90cmFpbmluaW5nKHNlbGYsIG1vZGVsOiBVbml0WU1vZGVsKSAtPiBubi5Nb2R1bGU6CiAgICAgICAgd3JhcHBlZF9tb2RlbCA9IFVuaXRZRmluZXR1bmVXcmFwcGVyKAogICAgICAgICAgICBtb2RlbD1tb2RlbCwgbW9kZT1zZWxmLnBhcmFtcy5maW5ldHVuZV9tb2RlLCBkZXZpY2U9c2VsZi5wYXJhbXMuZGV2aWNlCiAgICAgICAgKQogICAgICAgIGlmIG5vdCBkaXN0X3V0aWxzLmlzX2Rpc3RfaW5pdGlhbGl6ZWQoKToKICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRfbW9kZWwKICAgICAgICBmaW5kX3VudXNlZCA9IHNlbGYucGFyYW1zLmZpbmV0dW5lX21vZGUgPT0gRmluZXR1bmVNb2RlLlRFWFRfVE9fU1BFRUNICiAgICAgICAgcmV0dXJuIG5uLnBhcmFsbGVsLkRpc3RyaWJ1dGVkRGF0YVBhcmFsbGVsKAogICAgICAgICAgICB3cmFwcGVkX21vZGVsLAogICAgICAgICAgICBkZXZpY2VfaWRzPVtkaXN0X3V0aWxzLmdldF9sb2NhbF9yYW5rKCldLAogICAgICAgICAgICBmaW5kX3VudXNlZF9wYXJhbWV0ZXJzPWZpbmRfdW51c2VkLAogICAgICAgICkKICAgICAgICAKICAgIGRlZiBfZnJlZXplX21vZHVsZXMoc2VsZiwgZnJvemVuX21vZHVsZXM6IExpc3Rbc3RyXSA9IFtdKSAtPiBOb25lOgogICAgICAgIGZvciBpY2VjdWJlIGluIGZyb3plbl9tb2R1bGVzOgogICAgICAgICAgICBmb3IgKG5hbWUsIG1vZHVsZSkgaW4gc2VsZi5tb2RlbC5uYW1lZF9tb2R1bGVzKCk6CiAgICAgICAgICAgICAgICBpZiBuYW1lLnN0YXJ0c3dpdGgoaWNlY3ViZSk6CiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJGcmVlemluZyBNb2R1bGU6IHtuYW1lfSIpCiAgICAgICAgICAgICAgICAgICAgZm9yIHBhcmFtIGluIG1vZHVsZS5wYXJhbWV0ZXJzKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnJlcXVpcmVzX2dyYWQgPSBGYWxzZQoKICAgIGRlZiBfdXBkYXRlX2V2YWxfc3RhdHMoc2VsZiwgZXZhbF9sb3NzOiBmbG9hdCkgLT4gTm9uZToKICAgICAgICBzZWxmLmlzX2Jlc3Rfc3RhdGUgPSAoCiAgICAgICAgICAgIHNlbGYuYmVzdF9ldmFsX2xvc3MgaXMgTm9uZSBvciBldmFsX2xvc3MgPCBzZWxmLmJlc3RfZXZhbF9sb3NzCiAgICAgICAgKQogICAgICAgIHNlbGYuYmVzdF9ldmFsX2xvc3MgPSBldmFsX2xvc3MgaWYgc2VsZi5pc19iZXN0X3N0YXRlIGVsc2Ugc2VsZi5iZXN0X2V2YWxfbG9zcwogICAgICAgIHNlbGYucGF0aWVuY2VfbGVmdCA9ICgKICAgICAgICAgICAgc2VsZi5wYXJhbXMucGF0aWVuY2UgaWYgc2VsZi5pc19iZXN0X3N0YXRlIGVsc2Ugc2VsZi5wYXRpZW5jZV9sZWZ0IC0gMQogICAgICAgICkKICAgICAgICBsb2dnZXIuaW5mbygKICAgICAgICAgICAgZiJFdmFsIGFmdGVyIHtzZWxmLnVwZGF0ZV9pZHh9IHVwZGF0ZXM6ICIKICAgICAgICAgICAgZiJsb3NzPXtldmFsX2xvc3M6LjRmfSAiCiAgICAgICAgICAgIGYiYmVzdF9sb3NzPXtzZWxmLmJlc3RfZXZhbF9sb3NzOi40Zn0gIgogICAgICAgICAgICBmInBhdGllbmNlX3N0ZXBzX2xlZnQ9e3NlbGYucGF0aWVuY2VfbGVmdH0iCiAgICAgICAgKQoKICAgIEB0b3JjaC5ub19ncmFkKCkKICAgIGRlZiBfZXZhbF9tb2RlbChzZWxmLCBuX2JhdGNoZXM6IGludCkgLT4gTm9uZToKICAgICAgICAiIiJDYWxjIGF2ZyBsb3NzIG9uIGV2YWwgZGF0YXNldCBhbmQgdXBkYXRlIGV2YWx1YXRpb24gc3RhdHMiIiIKICAgICAgICBpZiBzZWxmLmV2YWxfZGF0YV9sb2FkZXIgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgbG9nZ2VyLmluZm8oZiJFdmFsdWF0aW9uIFN0ZXAge3NlbGYudXBkYXRlX2lkeCAvLyBzZWxmLnBhcmFtcy5ldmFsX3N0ZXBzfS4uLiIpCiAgICAgICAgbG9zc19oaXN0ID0gTG9zc0NvbGxlY3RvcihkZXZpY2U9c2VsZi5wYXJhbXMuZGV2aWNlKQogICAgICAgIHNlbGYubW9kZWwuZXZhbCgpCiAgICAgICAgZm9yIGJhdGNoIGluIHNlbGYuZXZhbF9kYXRhX2xvYWRlci5nZXRfZGF0YWxvYWRlcigpOgogICAgICAgICAgICBpZiBuX2JhdGNoZXMgPT0gMDoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGFzc2VydCBiYXRjaC5zcGVlY2hfdG9fdGV4dC5zcmNfdG9rZW5zIGlzIG5vdCBOb25lCiAgICAgICAgICAgIHdpdGggdG9yY2guYXV0b2Nhc3QoZGV2aWNlX3R5cGU9c2VsZi5wYXJhbXMuZGV2aWNlLnR5cGUsIGR0eXBlPXNlbGYucGFyYW1zLmZsb2F0X2R0eXBlKToKICAgICAgICAgICAgICAgIGxvc3MgPSBzZWxmLmNhbGNfbG9zcyhiYXRjaCwgKnNlbGYubW9kZWwoYmF0Y2gpKQogICAgICAgICAgICBpZiBsb3NzLmlzbmFuKCk6CiAgICAgICAgICAgICAgICBsb2dnZXIud2FybmluZygiRXZhbCBiYXRjaCBsb3NzIHZhbHVlIGlzIE5hTiwgc2tpcHBpbmciKQogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZGVsIGJhdGNoICAjIGZvcmNlIG1lbW9yeSByZWxlYXNlCiAgICAgICAgICAgIGxvc3NfaGlzdC51cGRhdGUoMSwgbG9zcy5pdGVtKCkpCiAgICAgICAgICAgIG5fYmF0Y2hlcyAtPSAxCiAgICAgICAgZXZhbF9sb3NzID0gbG9zc19oaXN0LnJlZHVjZSgpCiAgICAgICAgc2VsZi5fdXBkYXRlX2V2YWxfc3RhdHMoZXZhbF9sb3NzKQoKICAgIGRlZiBfdHJhaW5fc3RlcF9sb2coc2VsZikgLT4gTm9uZToKICAgICAgICAiIiJMb2cgdHJhaW4gc3RhdHMiIiIKICAgICAgICBpZiAoc2VsZi51cGRhdGVfaWR4ICsgMSkgJSBzZWxmLnBhcmFtcy5sb2dfc3RlcHMgPT0gMDoKICAgICAgICAgICAgYXZnX2xvc3MgPSBzZWxmLnRyYWluX2xvc3NfaGlzdC5yZWR1Y2UoKQogICAgICAgICAgICBzZWxmLnRyYWluX2xvc3NfaGlzdC5yZXNldCgpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKAogICAgICAgICAgICAgICAgZiJFcG9jaCB7c3RyKHNlbGYuZXBvY2hfaWR4ICsgMSkuemZpbGwoMyl9IC8gIgogICAgICAgICAgICAgICAgZiJ1cGRhdGUge3N0cihzZWxmLnVwZGF0ZV9pZHggKyAxKS56ZmlsbCg1KX06ICIKICAgICAgICAgICAgICAgIGYidHJhaW4gbG9zcz17YXZnX2xvc3M6LjRmfSAiCiAgICAgICAgICAgICAgICBmImxhc3QgbHI9e3NlbGYubHJfc2NoZWR1bGVyLmdldF9sYXN0X2xyKClbMF06LjJFfSIKICAgICAgICAgICAgKQoKICAgIGRlZiBfdHJhaW5fc3RlcChzZWxmLCBiYXRjaDogTGlzdFtkYXRhbG9hZGVyLk11bHRpbW9kYWxTZXFzQmF0Y2hdKSAtPiBOb25lOgogICAgICAgICIiIlJ1biBvbmUgdHJhaW4gc3RlcCIiIgogICAgICAgIHNlbGYubW9kZWwudHJhaW4oKQogICAgICAgIHNlbGYub3B0aW1pemVyLnplcm9fZ3JhZCgpCiAgICAgICAgd2l0aCB0b3JjaC5hdXRvY2FzdChkZXZpY2VfdHlwZT1zZWxmLnBhcmFtcy5kZXZpY2UudHlwZSwgZHR5cGU9c2VsZi5wYXJhbXMuZmxvYXRfZHR5cGUpOgogICAgICAgICAgICB0b2tlbnMsIHVuaXRzID0gc2VsZi5tb2RlbChiYXRjaCkKICAgICAgICAKICAgICAgICBsb3NzID0gc2VsZi5jYWxjX2xvc3MoYmF0Y2gsIHRva2VucywgdW5pdHMpCiAgICAgICAgaWYgbG9zcy5pc25hbigpLmFueSgpLml0ZW0oKToKICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGJhdGNoLnNwZWVjaF90b190ZXh0KQogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIlRyYWluIGxvc3MgaXMgTmFOISBTb21ldGhpbmcgaXMgd3JvbmcgaW4gdGhlIG1vZGVsISIpCiAgICAgICAgCiAgICAgICAgc2VsZi5ncmFkX3NjYWxlci5zY2FsZShsb3NzKS5iYWNrd2FyZCgpCiAgICAgICAgc2VsZi5ncmFkX3NjYWxlci5zdGVwKHNlbGYub3B0aW1pemVyKQogICAgICAgIHNlbGYuZ3JhZF9zY2FsZXIudXBkYXRlKCkKICAgICAgICBzZWxmLmxyX3NjaGVkdWxlci5zdGVwKCkKICAgICAgICAKICAgICAgICBhc3NlcnQgYmF0Y2guc3BlZWNoX3RvX3RleHQuc3JjX3Rva2VucyBpcyBub3QgTm9uZQogICAgICAgIHNlbGYudHJhaW5fbG9zc19oaXN0LnVwZGF0ZSgxLCBsb3NzLml0ZW0oKSkKICAgICAgICBzZWxmLl90cmFpbl9zdGVwX2xvZygpCiAgICAgICAgc2VsZi51cGRhdGVfaWR4ICs9IDEKCiAgICBkZWYgX3NhdmVfbW9kZWwoc2VsZikgLT4gTm9uZToKICAgICAgICBsb2dnZXIuaW5mbygiU2F2aW5nIG1vZGVsIikKICAgICAgICBpZiBkaXN0X3V0aWxzLmlzX21haW5fcHJvY2VzcygpOgogICAgICAgICAgICB0b3JjaC5zYXZlKHsKICAgICAgICAgICAgICAgICJtb2RlbF9uYW1lIjogc2VsZi5wYXJhbXMubW9kZWxfbmFtZSwKICAgICAgICAgICAgICAgICJtb2RlbCI6IHsKICAgICAgICAgICAgICAgICAgICBrZXkucmVwbGFjZSgibW9kdWxlLm1vZGVsLm1vZGVsLiIsICIiKTogdmFsdWUKICAgICAgICAgICAgICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBzZWxmLm1vZGVsLnN0YXRlX2RpY3QoKS5pdGVtcygpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHNlbGYucGFyYW1zLnNhdmVfbW9kZWxfcGF0aCkKICAgICAgICBpZiBkaXN0X3V0aWxzLmlzX2Rpc3RfaW5pdGlhbGl6ZWQoKToKICAgICAgICAgICAgZGlzdC5iYXJyaWVyKCkKCiAgICBkZWYgcnVuKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgbG9nZ2VyLmluZm8oIlN0YXJ0IEZpbmV0dW5pbmciKQogICAgICAgIHNlbGYuX3Jlc2V0X3N0YXRzKCkKICAgICAgICBzZWxmLl9ldmFsX21vZGVsKG5fYmF0Y2hlcz0xMDApCiAgICAgICAgCiAgICAgICAgdHJhaW5fZGF0YWxvYWRlciA9IHNlbGYudHJhaW5fZGF0YV9sb2FkZXIuZ2V0X2RhdGFsb2FkZXIoKQogICAgICAgIAogICAgICAgIHdoaWxlIHNlbGYuZXBvY2hfaWR4IDwgc2VsZi5wYXJhbXMubWF4X2Vwb2NocyBhbmQgc2VsZi5wYXRpZW5jZV9sZWZ0OgogICAgICAgICAgICBmb3IgdHJhaW5fYmF0Y2ggaW4gdHFkbSh0cmFpbl9kYXRhbG9hZGVyLCBkZXNjPSJUcmFpbmluZyBTdGVwcyIpOgogICAgICAgICAgICAgICAgIyBSdW4gYmF0Y2ggdGhyb3VnaCB0cmFpbiBzdGVwCiAgICAgICAgICAgICAgICBzZWxmLl90cmFpbl9zdGVwKHRyYWluX2JhdGNoKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjIFBlcmZvcm0gZXZhbCBpZiBpdHMgdGltZSB0byBldmFsCiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi51cGRhdGVfaWR4IG9yIHNlbGYudXBkYXRlX2lkeCAlIHNlbGYucGFyYW1zLmV2YWxfc3RlcHMgIT0gMDoKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjIENsZWFyIEdQVSBtZW1vcnkgZm9yIGV2YWwKICAgICAgICAgICAgICAgIHRvcmNoLmN1ZGEuZW1wdHlfY2FjaGUoKQogICAgICAgICAgICAgICAgc2VsZi5fZXZhbF9tb2RlbChuX2JhdGNoZXM9MTAwKQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIyBTYXZlIHRoZSBjdXJyZW50IG1vZGVsIGlmIGl0cyB0aGUgYmVzdCB3ZSd2ZSBldmVyIGhhZAogICAgICAgICAgICAgICAgaWYgc2VsZi5pc19iZXN0X3N0YXRlOgogICAgICAgICAgICAgICAgICAgIHNlbGYuX3NhdmVfbW9kZWwoKQogICAgICAgICAgICAgICAgZWxpZiBub3Qgc2VsZi5wYXRpZW5jZV9sZWZ0OgogICAgICAgICAgICAgICAgICAgIG5vX2ltcHJvdmVfc3RlcHMgPSBzZWxmLnBhcmFtcy5ldmFsX3N0ZXBzICogc2VsZi5wYXJhbXMucGF0aWVuY2UKICAgICAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygKICAgICAgICAgICAgICAgICAgICAgICAgIkVhcmx5IHRlcm1pbmF0aW9uLCBhcyBldmFsIGxvc3MgZGlkIG5vdCBpbXByb3ZlICIKICAgICAgICAgICAgICAgICAgICAgICAgZiJvdmVyIGxhc3Qge25vX2ltcHJvdmVfc3RlcHN9IHVwZGF0ZXMiCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgc2VsZi5lcG9jaF9pZHggKz0gMQ=='),
    ('seamless/src/seamless_communication/cli/m4t/predict/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5wcmVkaWN0LnByZWRpY3QgaW1wb3J0ICgKICAgIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzIGFzIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkubTR0LnByZWRpY3QucHJlZGljdCBpbXBvcnQgKAogICAgc2V0X2dlbmVyYXRpb25fb3B0cyBhcyBzZXRfZ2VuZXJhdGlvbl9vcHRzLAopCg=='),
    ('seamless/src/seamless_communication/cli/m4t/predict/predict.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKaW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBsb2dnaW5nCmZyb20gYXJncGFyc2UgaW1wb3J0IE5hbWVzcGFjZQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IFR1cGxlCgppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoYXVkaW8KZnJvbSBmYWlyc2VxMi5nZW5lcmF0aW9uIGltcG9ydCBOR3JhbVJlcGVhdEJsb2NrUHJvY2Vzc29yCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlIGltcG9ydCBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMsIFRyYW5zbGF0b3IKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKZGVmIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzKHBhcnNlcjogYXJncGFyc2UuQXJndW1lbnRQYXJzZXIpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS10YXNrIiwgCiAgICAgICAgdHlwZT1zdHIsIAogICAgICAgIGNob2ljZXM9WyJBU1IiLCAiUzJTVCIsICJTMlRUIl0sCiAgICAgICAgaGVscD0oCiAgICAgICAgICAgICIqIGBBU1JgIC0tIGF1dG9tYXRpYyBzcGVlY2ggcmVjb2duaXRpb24gKHRyYW5zY3JpcHRpb24pOyIKICAgICAgICAgICAgIiogYFMyU1RgIC0tIHNwZWVjaCB0byBzcGVlY2ggdHJhbnNsYXRpb247IgogICAgICAgICAgICAiKiBgUzJUVGAgLS0gc3BlZWNoIHRvIHRleHQgdHJhbnNsYXRpb247IgogICAgICAgICkKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGd0X2xhbmciLCB0eXBlPXN0ciwgaGVscD0iVGFyZ2V0IGxhbmd1YWdlIHRvIHRyYW5zbGF0ZS90cmFuc2NyaWJlIGludG8uIgogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1zcmNfbGFuZyIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgaGVscD0iU291cmNlIGxhbmd1YWdlLCBvbmx5IHJlcXVpcmVkIGlmIGlucHV0IGlzIHRleHQuIiwKICAgICAgICBkZWZhdWx0PU5vbmUsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW91dHB1dF9wYXRoIiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgaGVscD0iUGF0aCB0byBzYXZlIHRoZSBnZW5lcmF0ZWQgYXVkaW8uIiwKICAgICAgICBkZWZhdWx0PU5vbmUsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW1vZGVsX25hbWUiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiQmFzZSBtb2RlbCBuYW1lIChgc2VhbWxlc3NNNFRfbWVkaXVtYCwgIgogICAgICAgICAgICAiYHNlYW1sZXNzTTRUX2xhcmdlYCwgYHNlYW1sZXNzTTRUX3YyX2xhcmdlYCkiCiAgICAgICAgKSwKICAgICAgICBkZWZhdWx0PSJzZWFtbGVzc000VF92Ml9sYXJnZSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXZvY29kZXJfbmFtZSIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgaGVscD0iVm9jb2RlciBtb2RlbCBuYW1lIiwKICAgICAgICBkZWZhdWx0PSJ2b2NvZGVyX3YyIiwKICAgICkKICAgICMgVGV4dCBnZW5lcmF0aW9uIGFyZ3MuCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXRleHRfZ2VuZXJhdGlvbl9iZWFtX3NpemUiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGhlbHA9IkJlYW0gc2l6ZSBmb3IgaW5jcmVtZW50YWwgdGV4dCBkZWNvZGluZy4iLAogICAgICAgIGRlZmF1bHQ9NSwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGV4dF9nZW5lcmF0aW9uX21heF9sZW5fYSIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iYGFgIGluIGBheCArIGJgIGZvciBpbmNyZW1lbnRhbCB0ZXh0IGRlY29kaW5nLiIsCiAgICAgICAgZGVmYXVsdD0xLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS10ZXh0X2dlbmVyYXRpb25fbWF4X2xlbl9iIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSJgYmAgaW4gYGF4ICsgYmAgZm9yIGluY3JlbWVudGFsIHRleHQgZGVjb2RpbmcuIiwKICAgICAgICBkZWZhdWx0PTIwMCwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGV4dF9nZW5lcmF0aW9uX25ncmFtX2Jsb2NraW5nIiwKICAgICAgICB0eXBlPWJvb2wsCiAgICAgICAgaGVscD0oCiAgICAgICAgICAgICJFbmFibGUgbmdyYW1fcmVwZWF0X2Jsb2NrIGZvciBpbmNyZW1lbnRhbCB0ZXh0IGRlY29kaW5nLiIKICAgICAgICAgICAgIlRoaXMgYmxvY2tzIGh5cG90aGVzZXMgd2l0aCByZXBlYXRpbmcgbmdyYW0gdG9rZW5zLiIKICAgICAgICApLAogICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW5vX3JlcGVhdF9uZ3JhbV9zaXplIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSJTaXplIG9mIG5ncmFtIHJlcGVhdCBibG9jayBmb3IgYm90aCB0ZXh0ICYgdW5pdCBkZWNvZGluZy4iLAogICAgICAgIGRlZmF1bHQ9NCwKICAgICkKICAgICMgVW5pdCBnZW5lcmF0aW9uIGFyZ3MuCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXVuaXRfZ2VuZXJhdGlvbl9iZWFtX3NpemUiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiQmVhbSBzaXplIGZvciBpbmNyZW1lbnRhbCB1bml0IGRlY29kaW5nIgogICAgICAgICAgICAibm90IGFwcGxpY2FibGUgZm9yIHRoZSBOQVIgVDJVIGRlY29kZXIuIgogICAgICAgICksCiAgICAgICAgZGVmYXVsdD01LAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS11bml0X2dlbmVyYXRpb25fbWF4X2xlbl9hIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSgKICAgICAgICAgICAgImBhYCBpbiBgYXggKyBiYCBmb3IgaW5jcmVtZW50YWwgdW5pdCBkZWNvZGluZyIKICAgICAgICAgICAgIm5vdCBhcHBsaWNhYmxlIGZvciB0aGUgTkFSIFQyVSBkZWNvZGVyLiIKICAgICAgICApLAogICAgICAgIGRlZmF1bHQ9MjUsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXVuaXRfZ2VuZXJhdGlvbl9tYXhfbGVuX2IiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiYGJgIGluIGBheCArIGJgIGZvciBpbmNyZW1lbnRhbCB1bml0IGRlY29kaW5nIgogICAgICAgICAgICAibm90IGFwcGxpY2FibGUgZm9yIHRoZSBOQVIgVDJVIGRlY29kZXIuIgogICAgICAgICksCiAgICAgICAgZGVmYXVsdD01MCwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdW5pdF9nZW5lcmF0aW9uX25ncmFtX2Jsb2NraW5nIiwKICAgICAgICB0eXBlPWJvb2wsCiAgICAgICAgaGVscD0oCiAgICAgICAgICAgICJFbmFibGUgbmdyYW1fcmVwZWF0X2Jsb2NrIGZvciBpbmNyZW1lbnRhbCB1bml0IGRlY29kaW5nLiIKICAgICAgICAgICAgIlRoaXMgYmxvY2tzIGh5cG90aGVzZXMgd2l0aCByZXBlYXRpbmcgbmdyYW0gdG9rZW5zLiIKICAgICAgICApLAogICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmciLAogICAgICAgIHR5cGU9Ym9vbCwKICAgICAgICBoZWxwPSgKICAgICAgICAgICAgIklmIFRydWUsIHJlbW92ZXMgY29uc2VjdXRpdmUgcmVwZWF0ZWQgbmdyYW1zIgogICAgICAgICAgICAiZnJvbSB0aGUgZGVjb2RlZCB1bml0IG91dHB1dC4iCiAgICAgICAgKSwKICAgICAgICBkZWZhdWx0PUZhbHNlLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS10ZXh0X3Vua19ibG9ja2luZyIsCiAgICAgICAgdHlwZT1ib29sLAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiSWYgVHJ1ZSwgc2V0IHBlbmFsdHkgb2YgVU5LIHRvIGluZiBpbiB0ZXh0IGdlbmVyYXRvciAiCiAgICAgICAgICAgICJ0byBibG9jayB1bmsgb3V0cHV0LiIKICAgICAgICApLAogICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICApCiAgICByZXR1cm4gcGFyc2VyCgoKZGVmIHNldF9nZW5lcmF0aW9uX29wdHMoCiAgICBhcmdzOiBOYW1lc3BhY2UsCikgLT4gVHVwbGVbU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zLCBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdOgogICAgIyBTZXQgdGV4dCwgdW5pdCBnZW5lcmF0aW9uIG9wdHMuCiAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cyA9IFNlcXVlbmNlR2VuZXJhdG9yT3B0aW9ucygKICAgICAgICBiZWFtX3NpemU9YXJncy50ZXh0X2dlbmVyYXRpb25fYmVhbV9zaXplLAogICAgICAgIHNvZnRfbWF4X3NlcV9sZW49KAogICAgICAgICAgICBhcmdzLnRleHRfZ2VuZXJhdGlvbl9tYXhfbGVuX2EsCiAgICAgICAgICAgIGFyZ3MudGV4dF9nZW5lcmF0aW9uX21heF9sZW5fYiwKICAgICAgICApLAogICAgKQogICAgaWYgYXJncy50ZXh0X3Vua19ibG9ja2luZzoKICAgICAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cy51bmtfcGVuYWx0eSA9IHRvcmNoLmluZgogICAgaWYgYXJncy50ZXh0X2dlbmVyYXRpb25fbmdyYW1fYmxvY2tpbmc6CiAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHMuc3RlcF9wcm9jZXNzb3IgPSBOR3JhbVJlcGVhdEJsb2NrUHJvY2Vzc29yKAogICAgICAgICAgICBuZ3JhbV9zaXplPWFyZ3Mubm9fcmVwZWF0X25ncmFtX3NpemUKICAgICAgICApCgogICAgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICAgICAgYmVhbV9zaXplPWFyZ3MudW5pdF9nZW5lcmF0aW9uX2JlYW1fc2l6ZSwKICAgICAgICBzb2Z0X21heF9zZXFfbGVuPSgKICAgICAgICAgICAgYXJncy51bml0X2dlbmVyYXRpb25fbWF4X2xlbl9hLAogICAgICAgICAgICBhcmdzLnVuaXRfZ2VuZXJhdGlvbl9tYXhfbGVuX2IsCiAgICAgICAgKSwKICAgICkKICAgIGlmIGFyZ3MudW5pdF9nZW5lcmF0aW9uX25ncmFtX2Jsb2NraW5nOgogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzLnN0ZXBfcHJvY2Vzc29yID0gTkdyYW1SZXBlYXRCbG9ja1Byb2Nlc3NvcigKICAgICAgICAgICAgbmdyYW1fc2l6ZT1hcmdzLm5vX3JlcGVhdF9uZ3JhbV9zaXplCiAgICAgICAgKQogICAgcmV0dXJuIHRleHRfZ2VuZXJhdGlvbl9vcHRzLCB1bml0X2dlbmVyYXRpb25fb3B0cwoKCmRlZiBtYWluKCkgLT4gTm9uZToKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgICAgIGRlc2NyaXB0aW9uPSJNNFQgaW5mZXJlbmNlIG9uIHN1cHBvcnRlZCB0YXNrcyB1c2luZyBUcmFuc2xhdG9yLiIKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoImlucHV0IiwgdHlwZT1zdHIsIGhlbHA9IkF1ZGlvIFdBViBmaWxlIHBhdGggb3IgdGV4dCBpbnB1dC4iKQoKICAgIHBhcnNlciA9IGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzKHBhcnNlcikKICAgIGFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncygpCiAgICBpZiBub3QgYXJncy50YXNrIG9yIG5vdCBhcmdzLnRndF9sYW5nOgogICAgICAgIHJhaXNlIEV4Y2VwdGlvbigKICAgICAgICAgICAgIlBsZWFzZSBwcm92aWRlIHJlcXVpcmVkIGFyZ3VtZW50cyBmb3IgZXZhbHVhdGlvbiAtICB0YXNrLCB0Z3RfbGFuZyIKICAgICAgICApCgogICAgaWYgYXJncy50YXNrLnVwcGVyKCkgaW4geyJTMlNUIiwgIlQyU1QifSBhbmQgYXJncy5vdXRwdXRfcGF0aCBpcyBOb25lOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIm91dHB1dF9wYXRoIG11c3QgYmUgcHJvdmlkZWQgdG8gc2F2ZSB0aGUgZ2VuZXJhdGVkIGF1ZGlvIikKCiAgICBpZiB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpOgogICAgICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3VkYTowIikKICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MTYKICAgIGVsc2U6CiAgICAgICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjcHUiKQogICAgICAgIGR0eXBlID0gdG9yY2guZmxvYXQzMgoKICAgIGxvZ2dlci5pbmZvKGYiUnVubmluZyBpbmZlcmVuY2Ugb24ge2RldmljZT19IHdpdGgge2R0eXBlPX0uIikKCiAgICB0cmFuc2xhdG9yID0gVHJhbnNsYXRvcihhcmdzLm1vZGVsX25hbWUsIGFyZ3Mudm9jb2Rlcl9uYW1lLCBkZXZpY2UsIGR0eXBlPWR0eXBlKQoKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLCB1bml0X2dlbmVyYXRpb25fb3B0cyA9IHNldF9nZW5lcmF0aW9uX29wdHMoYXJncykKCiAgICBsb2dnZXIuaW5mbyhmInt0ZXh0X2dlbmVyYXRpb25fb3B0cz19IikKICAgIGxvZ2dlci5pbmZvKGYie3VuaXRfZ2VuZXJhdGlvbl9vcHRzPX0iKQogICAgbG9nZ2VyLmluZm8oCiAgICAgICAgZiJ1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPXthcmdzLnVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmd9IgogICAgKQoKICAgICMgSWYgdGhlIGlucHV0IGlzIGF1ZGlvLCByZXNhbXBsZSB0byAxNmtIegogICAgaWYgYXJncy50YXNrLnVwcGVyKCkgaW4geyJTMlNUIiwgIkFTUiIsICJTMlRUIn06CiAgICAgICAgd2F2LCBzYW1wbGVfcmF0ZSA9IHRvcmNoYXVkaW8ubG9hZChhcmdzLmlucHV0KQogICAgICAgIHRyYW5zbGF0b3JfaW5wdXQgPSB0b3JjaGF1ZGlvLmZ1bmN0aW9uYWwucmVzYW1wbGUoCiAgICAgICAgICAgIHdhdiwgb3JpZ19mcmVxPXNhbXBsZV9yYXRlLCBuZXdfZnJlcT0xNl8wMDAKICAgICAgICApCiAgICBlbHNlOgogICAgICAgIHRyYW5zbGF0b3JfaW5wdXQgPSBhcmdzLmlucHV0CgogICAgdGV4dF9vdXRwdXQsIHNwZWVjaF9vdXRwdXQgPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgdHJhbnNsYXRvcl9pbnB1dCwKICAgICAgICBhcmdzLnRhc2ssCiAgICAgICAgYXJncy50Z3RfbGFuZywKICAgICAgICBzcmNfbGFuZz1hcmdzLnNyY19sYW5nLAogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzPXRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc9YXJncy51bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgKQoKICAgIGlmIHNwZWVjaF9vdXRwdXQgaXMgbm90IE5vbmU6CiAgICAgICAgbG9nZ2VyLmluZm8oZiJTYXZpbmcgdHJhbnNsYXRlZCBhdWRpbyBpbiB7YXJncy50Z3RfbGFuZ30iKQogICAgICAgIHRvcmNoYXVkaW8uc2F2ZSgKICAgICAgICAgICAgYXJncy5vdXRwdXRfcGF0aCwKICAgICAgICAgICAgc3BlZWNoX291dHB1dC5hdWRpb193YXZzWzBdWzBdLnRvKHRvcmNoLmZsb2F0MzIpLmNwdSgpLAogICAgICAgICAgICBzYW1wbGVfcmF0ZT1zcGVlY2hfb3V0cHV0LnNhbXBsZV9yYXRlLAogICAgICAgICkKICAgIGxvZ2dlci5pbmZvKGYiVHJhbnNsYXRlZCB0ZXh0IGluIHthcmdzLnRndF9sYW5nfToge3RleHRfb3V0cHV0WzBdfSIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo='),
    ('seamless/src/seamless_communication/cli/streaming/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/src/seamless_communication/cli/streaming/evaluate.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwoKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLnN0cmVhbWluZy5zY29yZXJzLnNlYW1sZXNzX3F1YWxpdHlfc2NvcmVyIGltcG9ydCAoCiAgICBTZWFtbGVzc1F1YWxpdHlTY29yZXIgYXMgU2VhbWxlc3NRdWFsaXR5U2NvcmVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnNlYW1sZXNzX3Myc3QgaW1wb3J0IFNlYW1sZXNzUzJTVEFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnNlYW1sZXNzX3N0cmVhbWluZ19zMnN0IGltcG9ydCAoCiAgICBTZWFtbGVzc1N0cmVhbWluZ1MyU1RBZ2VudCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5zZWFtbGVzc19zdHJlYW1pbmdfczJ0IGltcG9ydCAoCiAgICBTZWFtbGVzc1N0cmVhbWluZ1MyVEFnZW50LAopCgpmcm9tIHNpbXVsZXZhbC5jbGkgaW1wb3J0IGV2YWx1YXRlCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmRlZiBtYWluKCkgLT4gTm9uZToKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgICAgIGFkZF9oZWxwPUZhbHNlLAogICAgICAgIGRlc2NyaXB0aW9uPSJTdHJlYW1pbmcgZXZhbHVhdGlvbiBvZiBTZWFtbGVzcyBVbml0WSBtb2RlbHMiLAogICAgICAgIGNvbmZsaWN0X2hhbmRsZXI9InJlc29sdmUiLAogICAgKQoKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGFzayIsCiAgICAgICAgY2hvaWNlcz1bInMyc3QiLCAiczJ0dCIsICJhc3IiXSwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IlRhcmdldCBsYW5ndWFnZSB0byB0cmFuc2xhdGUvdHJhbnNjcmliZSBpbnRvLiIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWV4cHJlc3NpdmUiLAogICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgZGVmYXVsdD1GYWxzZSwKICAgICAgICBoZWxwPSJFeHByZXNzaXZlIHN0cmVhbWluZyBTMlNUIGluZmVyZW5jZSIsCiAgICApCgogICAgYXJncywgXyA9IHBhcnNlci5wYXJzZV9rbm93bl9hcmdzKCkKCiAgICBtb2RlbF9jb25maWdzID0gZGljdCgKICAgICAgICBzb3VyY2Vfc2VnbWVudF9zaXplPTMyMCwKICAgICAgICBkZXZpY2U9ImN1ZGE6MCIsCiAgICAgICAgZHR5cGU9ImZwMTYiLAogICAgICAgIG1pbl9zdGFydGluZ193YWl0X3cydmJlcnQ9MTkyLAogICAgICAgIGRlY2lzaW9uX3RocmVzaG9sZD0wLjUsCiAgICAgICAgbm9fZWFybHlfc3RvcD1UcnVlLAogICAgICAgIG1heF9sZW5fYT0wLAogICAgICAgIG1heF9sZW5fYj0xMDAsCiAgICApCgogICAgZXZhbF9jb25maWdzID0gZGljdChxdWFsaXR5X21ldHJpY3M9IlNFQU1MRVNTX1FVQUxJVFlfU0NPUkVSIikKICAgIGlmIGFyZ3MudGFzayA9PSAiczJzdCI6CiAgICAgICAgbW9kZWxfY29uZmlnc1sibWluX3VuaXRfY2h1bmtfc2l6ZSJdID0gNTAKICAgICAgICBldmFsX2NvbmZpZ3NbImxhdGVuY3lfbWV0cmljcyJdID0gIlN0YXJ0T2Zmc2V0IEVuZE9mZnNldCIKCiAgICAgICAgaWYgYXJncy5leHByZXNzaXZlOgogICAgICAgICAgICBhZ2VudF9jbGFzcyA9IFNlYW1sZXNzUzJTVEFnZW50CiAgICAgICAgZWxzZToKICAgICAgICAgICAgYWdlbnRfY2xhc3MgPSBTZWFtbGVzc1N0cmVhbWluZ1MyU1RBZ2VudAogICAgZWxpZiBhcmdzLnRhc2sgaW4gWyJzMnR0IiwgImFzciJdOgogICAgICAgIGFzc2VydCBhcmdzLmV4cHJlc3NpdmUgaXMgRmFsc2UsICJTMlRUIGluZmVyZW5jZSBjYW5ub3QgYmUgZXhwcmVzc2l2ZS4iCiAgICAgICAgYWdlbnRfY2xhc3MgPSBTZWFtbGVzc1N0cmVhbWluZ1MyVEFnZW50CiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdW5pdHktbW9kZWwtbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSJVbml0eSBtb2RlbCBuYW1lLiIsCiAgICAgICAgICAgIGRlZmF1bHQ9InNlYW1sZXNzX3N0cmVhbWluZ191bml0eSIsCiAgICAgICAgKQogICAgICAgIGFyZ3MsIF8gPSBwYXJzZXIucGFyc2Vfa25vd25fYXJncygpCiAgICAgICAgYXNzZXRfY2FyZCA9IGFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQobmFtZT1hcmdzLnVuaXR5X21vZGVsX25hbWUpCiAgICAgICAgdG9rZW5pemVyX3VyaSA9IGFzc2V0X2NhcmQuZmllbGQoInRva2VuaXplciIpLmFzX3VyaSgpCiAgICAgICAgdG9rZW5pemVyX3BhdGggPSBkb3dubG9hZF9tYW5hZ2VyLmRvd25sb2FkX3Rva2VuaXplcigKICAgICAgICAgICAgdG9rZW5pemVyX3VyaSwgYXNzZXRfY2FyZC5uYW1lLCBmb3JjZT1GYWxzZSwgcHJvZ3Jlc3M9VHJ1ZQogICAgICAgICkKICAgICAgICBldmFsX2NvbmZpZ3NbImxhdGVuY3lfbWV0cmljcyJdID0gIkFMIExBQUwiCiAgICAgICAgZXZhbF9jb25maWdzWyJldmFsX2xhdGVuY3lfdW5pdCJdID0gInNwbSIKICAgICAgICBldmFsX2NvbmZpZ3NbImV2YWxfbGF0ZW5jeV9zcG1fbW9kZWwiXSA9IHRva2VuaXplcl9wYXRoCgogICAgYmFzZV9jb25maWcgPSBkaWN0KAogICAgICAgIGRhdGFsb2FkZXI9ImZhaXJzZXEyX3MydHQiLAogICAgICAgIGRhdGFsb2FkZXJfY2xhc3M9InNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmRhdGFsb2FkZXJzLnMydHQuU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlciIsCiAgICApCgogICAgZXZhbHVhdGUoYWdlbnRfY2xhc3MsIHsqKmJhc2VfY29uZmlnLCAqKm1vZGVsX2NvbmZpZ3MsICoqZXZhbF9jb25maWdzfSwgcGFyc2VyKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCkK'),
    ('seamless/src/seamless_communication/cli/streaming/scorers/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/src/seamless_communication/cli/streaming/scorers/seamless_quality_scorer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBqc29uCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBPcHRpb25hbAoKaW1wb3J0IHBhbmRhcwpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXZhbF91dGlscyBpbXBvcnQgY29tcHV0ZV9xdWFsaXR5X21ldHJpY3MKZnJvbSBzaW11bGV2YWwuZXZhbHVhdG9yLmluc3RhbmNlIGltcG9ydCBMb2dJbnN0YW5jZQpmcm9tIHNpbXVsZXZhbC5ldmFsdWF0b3Iuc2NvcmVycy5xdWFsaXR5X3Njb3JlciBpbXBvcnQgKAogICAgUXVhbGl0eVNjb3JlciwKICAgIHJlZ2lzdGVyX3F1YWxpdHlfc2NvcmVyLAopCgoKQHJlZ2lzdGVyX3F1YWxpdHlfc2NvcmVyKCJTRUFNTEVTU19RVUFMSVRZX1NDT1JFUiIpCmNsYXNzIFNlYW1sZXNzUXVhbGl0eVNjb3JlcihRdWFsaXR5U2NvcmVyKTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICB0Z3RfbGFuZzogc3RyLAogICAgICAgIHRhc2s6IHN0ciwKICAgICAgICBvdXRwdXRfZGlyOiBzdHIsCiAgICAgICAgZGV2aWNlOiBEZXZpY2UgPSAiY3VkYTowIiwKICAgICAgICB3aGlzcGVyX21vZGVsX25hbWU6IHN0ciA9ICJsYXJnZSIsCiAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQ6IE9wdGlvbmFsW2Jvb2xdID0gTm9uZSwKICAgICAgICByZWZfdGV4dF9jb2xfbmFtZTogc3RyID0gInJlZl90Z3RfdGV4dCIsCiAgICAgICAgcHJlZF90ZXh0X2NvbF9uYW1lOiBzdHIgPSAicHJlZF90Z3RfdGV4dCIsCiAgICAgICAgcHJlZF9hdWRpb19jb2xfbmFtZTogc3RyID0gInByZWRfdGd0X2F1ZGlvIiwKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLnRndF9sYW5nID0gdGd0X2xhbmcKICAgICAgICBzZWxmLnRhc2sgPSB0YXNrLnVwcGVyKCkKICAgICAgICBzZWxmLmRldmljZSA9IGRldmljZQogICAgICAgIHNlbGYub3V0cHV0X2RpciA9IFBhdGgob3V0cHV0X2RpcikKICAgICAgICBzZWxmLndoaXNwZXJfbW9kZWxfbmFtZSA9IHdoaXNwZXJfbW9kZWxfbmFtZQogICAgICAgIHNlbGYud2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQgPSB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dAogICAgICAgIGlmIHNlbGYud2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi53aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dCA9ICgKICAgICAgICAgICAgICAgIEZhbHNlIGlmIHNlbGYudGFzayBpbiBbIlMyVFQiLCAiUzJTVCIsICJUMlRUIl0gZWxzZSBUcnVlCiAgICAgICAgICAgICkKICAgICAgICBzZWxmLnJlZl90ZXh0X2NvbF9uYW1lID0gcmVmX3RleHRfY29sX25hbWUKICAgICAgICBzZWxmLnByZWRfdGV4dF9jb2xfbmFtZSA9IHByZWRfdGV4dF9jb2xfbmFtZQogICAgICAgIHNlbGYucHJlZF9hdWRpb19jb2xfbmFtZSA9IHByZWRfYXVkaW9fY29sX25hbWUKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgaW5zdGFuY2VzOiBEaWN0W2ludCwgTG9nSW5zdGFuY2VdKSAtPiBmbG9hdDoKICAgICAgICByZWZlcmVuY2VzID0gW2lucy5yZWZlcmVuY2UgZm9yIGlucyBpbiBpbnN0YW5jZXMudmFsdWVzKCldCiAgICAgICAgZGYgPSBwYW5kYXMuRGF0YUZyYW1lKHtzZWxmLnJlZl90ZXh0X2NvbF9uYW1lOiByZWZlcmVuY2VzfSkKICAgICAgICBpZiBzZWxmLnRhc2sgaW4gWyJBU1IiLCAiUzJUVCIsICJUMlRUIl06CiAgICAgICAgICAgIHByZWRpY3Rpb25zID0gW2lucy5wcmVkaWN0aW9uIGZvciBpbnMgaW4gaW5zdGFuY2VzLnZhbHVlcygpXQogICAgICAgICAgICBkZltzZWxmLnByZWRfdGV4dF9jb2xfbmFtZV0gPSBwcmVkaWN0aW9ucwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByZWRpY3Rpb25zID0gW2lucy5wcmVkaWN0aW9uIGZvciBpbnMgaW4gaW5zdGFuY2VzLnZhbHVlcygpXQogICAgICAgICAgICBkZltzZWxmLnByZWRfYXVkaW9fY29sX25hbWVdID0gcHJlZGljdGlvbnMKCiAgICAgICAgZGYudG9fY3N2KAogICAgICAgICAgICBzZWxmLm91dHB1dF9kaXIgLyAicmVzdWx0cy50c3YiLAogICAgICAgICAgICBzZXA9Ilx0IiwKICAgICAgICAgICAgcXVvdGluZz0zLAogICAgICAgICAgICBlbmNvZGluZz0idXRmLTgiLAogICAgICAgICkKICAgICAgICBmaWxlbmFtZSA9IGNvbXB1dGVfcXVhbGl0eV9tZXRyaWNzKAogICAgICAgICAgICBzZWxmLm91dHB1dF9kaXIgLyAicmVzdWx0cy50c3YiLAogICAgICAgICAgICBzZWxmLm91dHB1dF9kaXIsCiAgICAgICAgICAgIHNlbGYudGd0X2xhbmcsCiAgICAgICAgICAgIHNlbGYudGFzaywKICAgICAgICAgICAgc2VsZi5kZXZpY2UsCiAgICAgICAgICAgIHNlbGYud2hpc3Blcl9tb2RlbF9uYW1lLAogICAgICAgICAgICBzZWxmLndoaXNwZXJfbm9ybWFsaXplX3RleHRfb3V0cHV0LAogICAgICAgICAgICBzZWxmLnJlZl90ZXh0X2NvbF9uYW1lLAogICAgICAgICAgICBzZWxmLnByZWRfdGV4dF9jb2xfbmFtZSBpZiBzZWxmLnRhc2sgaW4gWyJBU1IiLCAiUzJUVCIsICJUMlRUIl0gZWxzZSBOb25lLAogICAgICAgICAgICBzZWxmLnByZWRfYXVkaW9fY29sX25hbWUsCiAgICAgICAgKQoKICAgICAgICB3aXRoIG9wZW4oc2VsZi5vdXRwdXRfZGlyIC8gZmlsZW5hbWUsICJyIikgYXMgZjoKICAgICAgICAgICAgY29ycHVzX21ldHJpY19zY29yZSA9IGpzb24ubG9hZChmKVsic2NvcmUiXQoKICAgICAgICByZXR1cm4gY29ycHVzX21ldHJpY19zY29yZSAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0KCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXRhc2siLCB0eXBlPXN0ciwgaGVscD0iVGFzayB0byBldmFsdWF0ZSIsIHJlcXVpcmVkPVRydWUpCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdGd0LWxhbmciLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iVGFyZ2V0IGxhbmd1YWdlIHRvIHRyYW5zbGF0ZS90cmFuc2NyaWJlIGludG8uIiwKICAgICAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0td2hpc3Blci1tb2RlbC1uYW1lIiwgdHlwZT1zdHIsIGhlbHA9IldoaXNwZXIgbW9kZWwgbmFtZSIsIGRlZmF1bHQ9ImxhcmdlIgogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS13aGlzcGVyLW5vcm1hbGl6ZS10ZXh0LW91dHB1dCIsCiAgICAgICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgICAgIGhlbHA9Ik5vcm1hbGl6ZSB0ZXh0IG91dHB1dCIsCiAgICAgICAgICAgIGRlZmF1bHQ9Tm9uZSwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tcmVmLXRleHQtY29sLW5hbWUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUmVmZXJlbmNlIHRleHQgY29sdW1uIG5hbWUiLAogICAgICAgICAgICBkZWZhdWx0PSJyZWZfdGd0X3RleHQiLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1wcmVkLXRleHQtY29sLW5hbWUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUHJlZGljdGlvbiB0ZXh0IGNvbHVtbiBuYW1lIiwKICAgICAgICAgICAgZGVmYXVsdD0icHJlZF90Z3RfdGV4dCIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXByZWQtYXVkaW8tY29sLW5hbWUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUHJlZGljdGlvbiBhdWRpbyBjb2x1bW4gbmFtZSIsCiAgICAgICAgICAgIGRlZmF1bHQ9InByZWRfdGd0X2F1ZGlvIiwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogTmFtZXNwYWNlKSAtPiBTZWFtbGVzc1F1YWxpdHlTY29yZXI6CiAgICAgICAgcmV0dXJuIGNscygKICAgICAgICAgICAgdGd0X2xhbmc9YXJncy50Z3RfbGFuZywKICAgICAgICAgICAgdGFzaz1hcmdzLnRhc2ssCiAgICAgICAgICAgIG91dHB1dF9kaXI9YXJncy5vdXRwdXQsCiAgICAgICAgICAgIGRldmljZT1nZXRhdHRyKGFyZ3MsICJkZXZpY2UiLCAiY3B1IiksCiAgICAgICAgICAgIHdoaXNwZXJfbW9kZWxfbmFtZT1hcmdzLndoaXNwZXJfbW9kZWxfbmFtZSwKICAgICAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQ9YXJncy53aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dCwKICAgICAgICAgICAgcmVmX3RleHRfY29sX25hbWU9YXJncy5yZWZfdGV4dF9jb2xfbmFtZSwKICAgICAgICAgICAgcHJlZF90ZXh0X2NvbF9uYW1lPWFyZ3MucHJlZF90ZXh0X2NvbF9uYW1lLAogICAgICAgICAgICBwcmVkX2F1ZGlvX2NvbF9uYW1lPWFyZ3MucHJlZF9hdWRpb19jb2xfbmFtZSwKICAgICAgICApCg=='),
    ('seamless/src/seamless_communication/cli/toxicity/etox/asr_etox.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgdGVtcGZpbGUKaW1wb3J0IHR5cGluZyBhcyB0cAppbXBvcnQgdG9yY2hhdWRpbwpmcm9tIHRxZG0gaW1wb3J0IHRxZG0KZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5ldmFsX3V0aWxzLmNvbXB1dGVfbWV0cmljcyBpbXBvcnQgaW5pdF93aGlzcGVyX21vZGVsCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXZhbF91dGlscy5sYW5nX21hcHBpbmcgaW1wb3J0IExBTkczX0xBTkcyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5pbmZlcmVuY2UudHJhbnNsYXRvciBpbXBvcnQgTW9kYWxpdHkKaW1wb3J0IHRvcmNoCgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZSBpbXBvcnQgVHJhbnNsYXRvcgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IENvbGxhdGVyLCBEYXRhUGlwZWxpbmUsIEZpbGVNYXBwZXIKZnJvbSBmYWlyc2VxMi5kYXRhLmF1ZGlvIGltcG9ydCBBdWRpb0RlY29kZXIsIFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlcgpmcm9tIGZhaXJzZXEyLmRhdGEudGV4dCBpbXBvcnQgU3RyU3BsaXR0ZXIsIHJlYWRfdGV4dApmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5IGltcG9ydCBsb2FkX2V0b3hfYmFkX3dvcmRfY2hlY2tlcgoKZnJvbSB3aGlzcGVyLm1vZGVsIGltcG9ydCBXaGlzcGVyCgppbXBvcnQgbG9nZ2luZwoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgbWFpbigpIC0+IE5vbmU6CiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcigKICAgICAgICBkZXNjcmlwdGlvbj0iQVNSIEVUT1ggd2lsbCBjb21wdXRlIHRoZSB0b3hpY2l0eSBsZXZlbCBvZiBzcGVlY2ggaW5wdXRzLiIKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgImRhdGFfZmlsZSIsCiAgICAgICAgdHlwZT1QYXRoLAogICAgICAgIGhlbHA9IlBhdGggdG8gdGhlIGlucHV0IFRTViBtYW5pZmVzdCB0aGF0IGxpc3QgdGhlIGF1ZGlvIGZpbGVzLiIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICJvdXRwdXRfZmlsZSIsCiAgICAgICAgdHlwZT1QYXRoLAogICAgICAgIGhlbHA9IlBhdGggdG8gYSBUU1YgZmlsZSB3aGVyZSB0byBzYXZlIHRoZSByZXN1bHRzLiIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWxhbmciLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9Ikxhbmd1YWdlLCBsYW5ndWFnZSBvZiB0aGUgc3BlZWNoIHRvIHRyYW5zY3JpYmUiLAogICAgICAgIHJlcXVpcmVkPVRydWUsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWF1ZGlvX3Jvb3RfZGlyIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJSb290IGRpcmVjdG9yeSBmb3IgdGhlIGF1ZGlvIGZpbGVuYW1lcyBpbiB0aGUgZGF0YSBmaWxlLiIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWF1ZGlvX2NvbHVtbiIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgaGVscD0iTmFtZSBvZiB0aGUgY29sdW1uIHdoZXJlIHRoZSBhdWRpb2ZpbGUgaXMgbGlzdGVkIGluIHRoZSBpbnB1dCB0c3YuIiwKICAgICAgICBkZWZhdWx0PSJhdWRpbyIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW1vZGVsX25hbWUiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiQmFzZSBtb2RlbCBuYW1lIChgc2VhbWxlc3NNNFRfbWVkaXVtYCwgIgogICAgICAgICAgICAiYHNlYW1sZXNzTTRUX2xhcmdlYCwgYHNlYW1sZXNzTTRUX3YyX2xhcmdlYCksICIKICAgICAgICAgICAgIiBvciB3aGlzcGVyIG1vZGVsLCBlLmcuICd3aGlzcGVyX2xhcmdlJyIKICAgICAgICApLAogICAgICAgIGRlZmF1bHQ9InNlYW1sZXNzTTRUX3YyX2xhcmdlIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tYmF0Y2hfc2l6ZSIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iSW5mZXJlbmNlIGJhdGNoIHNpemUuIiwKICAgICAgICBkZWZhdWx0PTQsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW5fcGFyYWxsZWwiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGhlbHA9Ik51bWJlciBvZiBkYXRhIGxvYWRpbmcgaW4gcGFyYWxsZWwuIiwKICAgICAgICBkZWZhdWx0PTQsCiAgICApCiAgICBhcmdzLCBfdW5rbm93biA9IHBhcnNlci5wYXJzZV9rbm93bl9hcmdzKCkKCiAgICBpZiB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpOgogICAgICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3VkYTowIikKICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MTYKICAgIGVsc2U6CiAgICAgICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjcHUiKQogICAgICAgIGR0eXBlID0gdG9yY2guZmxvYXQzMgoKICAgIHdoaXNwZXJfbW9kZWwgPSBOb25lCiAgICB0cmFuc2xhdG9yID0gTm9uZQogICAgaXNfd2hpc3BlciA9IEZhbHNlCgogICAgaWYgYXJncy5tb2RlbF9uYW1lLnN0YXJ0c3dpdGgoIndoaXNwZXJfIik6CiAgICAgICAgbG9nZ2VyLmluZm8oImxvYWRpbmcgd2hpc3BlciBtb2RlbC4iKQogICAgICAgIF8sIG1vZGVsX25hbWUgPSBhcmdzLm1vZGVsX25hbWUuc3BsaXQoIl8iLCBtYXhzcGxpdD0xKQogICAgICAgIHdoaXNwZXJfbW9kZWwgPSBpbml0X3doaXNwZXJfbW9kZWwoZGV2aWNlLCBtb2RlbF9uYW1lKQogICAgICAgIGlzX3doaXNwZXIgPSBUcnVlCiAgICBlbHNlOgogICAgICAgIGxvZ2dlci5pbmZvKGYibG9hZGluZyB7YXJncy5tb2RlbF9uYW1lfSBtb2RlbC4iKQogICAgICAgIHRyYW5zbGF0b3IgPSBUcmFuc2xhdG9yKAogICAgICAgICAgICBhcmdzLm1vZGVsX25hbWUsCiAgICAgICAgICAgIE5vbmUsCiAgICAgICAgICAgIGRldmljZSwKICAgICAgICAgICAgdGV4dF90b2tlbml6ZXI9Tm9uZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgIGlucHV0X21vZGFsaXR5PU1vZGFsaXR5LlNQRUVDSCwKICAgICAgICAgICAgb3V0cHV0X21vZGFsaXR5PU1vZGFsaXR5LlRFWFQsCiAgICAgICAgICAgIGFwcGx5X21pbnRveD1GYWxzZSwKICAgICAgICApCgogICAgbG9nZ2VyLmluZm8oImxvYWRpbmcgZXRveC4iKQogICAgYmFkX3dvcmRfY2hlY2tlciA9IGxvYWRfZXRveF9iYWRfd29yZF9jaGVja2VyKCJtaW50b3giKQoKICAgIHBpcGVsaW5lID0gYnVpbGRfZGF0YV9waXBlbGluZSgKICAgICAgICBkYXRhX2ZpbGU9YXJncy5kYXRhX2ZpbGUsCiAgICAgICAgYXVkaW9fcm9vdF9kaXI9YXJncy5hdWRpb19yb290X2RpciwKICAgICAgICBiYXRjaF9zaXplPWFyZ3MuYmF0Y2hfc2l6ZSwKICAgICAgICBpc193aGlzcGVyPWlzX3doaXNwZXIsCiAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICBuX3BhcmFsbGVsPWFyZ3Mubl9wYXJhbGxlbCwKICAgICAgICBhdWRpb19jb2x1bW49YXJncy5hdWRpb19jb2x1bW4sCiAgICApCgogICAgbG9nZ2VyLmluZm8oInJ1bm5pbmcgQVNSLUVUT1guIikKICAgIHdpdGggb3BlbihhcmdzLm91dHB1dF9maWxlLCAidyIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIG91dGY6CiAgICAgICAgcHJpbnQoInRleHQiLCAidG94aWNpdHkiLCAiYmFkX3dvcmRzIiwgZmlsZT1vdXRmLCBzZXA9Ilx0IikKICAgICAgICBmb3IgZXhhbXBsZSBpbiB0cWRtKHBpcGVsaW5lLCB1bml0PSJsaW5lIik6CiAgICAgICAgICAgIHRleHRzID0gZ2V0X3RleHQoCiAgICAgICAgICAgICAgICBsYW5nPWFyZ3MubGFuZywKICAgICAgICAgICAgICAgIGV4YW1wbGU9ZXhhbXBsZSwKICAgICAgICAgICAgICAgIHdoaXNwZXJfbW9kZWw9d2hpc3Blcl9tb2RlbCwKICAgICAgICAgICAgICAgIHRyYW5zbGF0b3I9dHJhbnNsYXRvciwKICAgICAgICAgICAgICAgIGF1ZGlvX2NvbHVtbj1hcmdzLmF1ZGlvX2NvbHVtbiwKICAgICAgICAgICAgKQogICAgICAgICAgICBmb3IgdCBpbiB0ZXh0czoKICAgICAgICAgICAgICAgIGJhZF93b3JkcyA9IGJhZF93b3JkX2NoZWNrZXIuZ2V0X2JhZF93b3JkcygKICAgICAgICAgICAgICAgICAgICB0ZXh0PXN0cih0KSwKICAgICAgICAgICAgICAgICAgICBsYW5nPWFyZ3MubGFuZywKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHByaW50KAogICAgICAgICAgICAgICAgICAgIHQsCiAgICAgICAgICAgICAgICAgICAgbGVuKGJhZF93b3JkcyksCiAgICAgICAgICAgICAgICAgICAgIiwiLmpvaW4oYmFkX3dvcmRzKSwKICAgICAgICAgICAgICAgICAgICBmaWxlPW91dGYsCiAgICAgICAgICAgICAgICAgICAgc2VwPSJcdCIsCiAgICAgICAgICAgICAgICApCgoKZGVmIGdldF90ZXh0KAogICAgbGFuZzogc3RyLAogICAgZXhhbXBsZTogdHAuRGljdFtzdHIsIHRwLkFueV0sCiAgICB3aGlzcGVyX21vZGVsOiBXaGlzcGVyLAogICAgdHJhbnNsYXRvcjogVHJhbnNsYXRvciwKICAgIGF1ZGlvX2NvbHVtbjogc3RyLAopOgogICAgaWYgd2hpc3Blcl9tb2RlbDoKICAgICAgICB3aXRoIHRlbXBmaWxlLk5hbWVkVGVtcG9yYXJ5RmlsZShzdWZmaXg9Ii53YXYiKSBhcyB0ZW1wOgogICAgICAgICAgICB0b3JjaGF1ZGlvLnNhdmUoCiAgICAgICAgICAgICAgICB0ZW1wLm5hbWUsCiAgICAgICAgICAgICAgICBleGFtcGxlW2F1ZGlvX2NvbHVtbl1bImRhdGEiXVsid2F2ZWZvcm0iXVsic2VxcyJdWzBdCiAgICAgICAgICAgICAgICAudHJhbnNwb3NlKDAsIDEpCiAgICAgICAgICAgICAgICAuY3B1KCksCiAgICAgICAgICAgICAgICBpbnQoZXhhbXBsZVthdWRpb19jb2x1bW5dWyJkYXRhIl1bInNhbXBsZV9yYXRlIl1bMF0pLAogICAgICAgICAgICAgICAgZm9ybWF0PSJ3YXYiLAogICAgICAgICAgICApCiAgICAgICAgICAgIHJlc3VsdHMgPSB3aGlzcGVyX21vZGVsLnRyYW5zY3JpYmUoCiAgICAgICAgICAgICAgICB0ZW1wLm5hbWUsCiAgICAgICAgICAgICAgICBsYW5ndWFnZT1MQU5HM19MQU5HMltsYW5nXSwKICAgICAgICAgICAgKQogICAgICAgICAgICByZXR1cm4gW3Jlc3VsdHNbInRleHQiXV0KICAgIGVsc2U6CiAgICAgICAgKHRleHRfb3V0cHV0LCBfc3BlZWNoX291dHB1dCkgPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgICAgIGV4YW1wbGVbYXVkaW9fY29sdW1uXVsiZGF0YSJdWyJmYmFuayJdLAogICAgICAgICAgICAiQVNSIiwKICAgICAgICAgICAgbGFuZywKICAgICAgICAgICAgc3JjX2xhbmc9bGFuZywKICAgICAgICApCiAgICAgICAgcmV0dXJuIHRleHRfb3V0cHV0CgoKZGVmIGJ1aWxkX2RhdGFfcGlwZWxpbmUoCiAgICBkYXRhX2ZpbGU6IFBhdGgsCiAgICBhdWRpb19yb290X2Rpcjogc3RyLAogICAgYmF0Y2hfc2l6ZTogaW50LAogICAgaXNfd2hpc3BlcjogYm9vbCwKICAgIGRldmljZTogRGV2aWNlLAogICAgZHR5cGU6IERhdGFUeXBlLAogICAgYXVkaW9fY29sdW1uOiBzdHIgPSAiYXVkaW8iLAogICAgbl9wYXJhbGxlbDogaW50ID0gNCwKKSAtPiBEYXRhUGlwZWxpbmU6CiAgICB3aXRoIGRhdGFfZmlsZS5vcGVuKCJyIiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoKICAgICAgICBoZWFkZXIgPSBmLnJlYWRsaW5lKCkuc3RyaXAoIlxuIikuc3BsaXQoIlx0IikKCiAgICBzcGxpdF90c3YgPSBTdHJTcGxpdHRlcihuYW1lcz1oZWFkZXIpCgogICAgcGlwZWxpbmVfYnVpbGRlciA9IHJlYWRfdGV4dChkYXRhX2ZpbGUsIHJ0cmltPVRydWUpLnNraXAoMSkubWFwKHNwbGl0X3RzdikKCiAgICBtYXBfZmlsZSA9IEZpbGVNYXBwZXIocm9vdF9kaXI9YXVkaW9fcm9vdF9kaXIsIGNhY2hlZF9mZF9jb3VudD0xMCkKCiAgICBwaXBlbGluZV9idWlsZGVyLm1hcCgKICAgICAgICBtYXBfZmlsZSwKICAgICAgICBzZWxlY3Rvcj1hdWRpb19jb2x1bW4sCiAgICAgICAgbnVtX3BhcmFsbGVsX2NhbGxzPW5fcGFyYWxsZWwsCiAgICApCgogICAgZGVjb2RlX2F1ZGlvID0gQXVkaW9EZWNvZGVyKGR0eXBlPXRvcmNoLmZsb2F0MzIsIGRldmljZT1kZXZpY2UpCgogICAgY29udmVydF90b19mYmFuayA9IFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlcigKICAgICAgICBudW1fbWVsX2JpbnM9ODAsCiAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgY2hhbm5lbF9sYXN0PVRydWUsCiAgICAgICAgc3RhbmRhcmRpemU9VHJ1ZSwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgICMgZ2V0IHRlbnNvciBpbiB3YXZlZm9ybQogICAgc3RlcHMgPSBbZGVjb2RlX2F1ZGlvXQogICAgaWYgbm90IGlzX3doaXNwZXI6CiAgICAgICAgIyBhbHNvIGdldCB0aGUgZmJhbmtzCiAgICAgICAgc3RlcHMuYXBwZW5kKGNvbnZlcnRfdG9fZmJhbmspCgogICAgcGlwZWxpbmVfYnVpbGRlci5tYXAoCiAgICAgICAgc3RlcHMsCiAgICAgICAgc2VsZWN0b3I9ZiJ7YXVkaW9fY29sdW1ufS5kYXRhIiwKICAgICAgICBudW1fcGFyYWxsZWxfY2FsbHM9bl9wYXJhbGxlbCwKICAgICkKCiAgICBpZiBpc193aGlzcGVyOgogICAgICAgICMgbm8gYmF0Y2hpbmcgZm9yIHdoaXNwZXIKICAgICAgICBwaXBlbGluZV9idWlsZGVyLmJ1Y2tldChidWNrZXRfc2l6ZT1iYXRjaF9zaXplKQoKICAgIGNvbGxhdGUgPSBDb2xsYXRlcihwYWRfdmFsdWU9MCwgcGFkX3RvX211bHRpcGxlPTEpCgogICAgcGlwZWxpbmVfYnVpbGRlci5tYXAoY29sbGF0ZSwgbnVtX3BhcmFsbGVsX2NhbGxzPW5fcGFyYWxsZWwpCgogICAgcGlwZWxpbmVfYnVpbGRlci5wcmVmZXRjaCg0KQoKICAgIHJldHVybiBwaXBlbGluZV9idWlsZGVyLmFuZF9yZXR1cm4oKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCkK'),
    ('seamless/src/seamless_communication/cli/toxicity/etox/etox.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgc3lzCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24udG94aWNpdHkgaW1wb3J0IGxvYWRfZXRveF9iYWRfd29yZF9jaGVja2VyCgoKZGVmIG1haW4oKSAtPiBOb25lOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoCiAgICAgICAgZGVzY3JpcHRpb249IkVUT1ggd2lsbCBjb21wdXRlIHRoZSB0b3hpY2l0eSBsZXZlbCBvZiB0ZXh0IGlucHV0cyAoU1RESU4gPiBTVERPVVQpLiIKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgImxhbmciLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9Ikxhbmd1YWdlLCBsYW5ndWFnZSBvZiB0aGUgc3BlZWNoIHRvIHRyYW5zY3JpYmUiLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiaW5wdXQiLCBuYXJncz0iPyIsIHR5cGU9YXJncGFyc2UuRmlsZVR5cGUoInIiKSwgZGVmYXVsdD1zeXMuc3RkaW4KICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIm91dHB1dCIsIG5hcmdzPSI/IiwgdHlwZT1hcmdwYXJzZS5GaWxlVHlwZSgidyIpLCBkZWZhdWx0PXN5cy5zdGRvdXQKICAgICkKICAgIGFyZ3MsIF91bmtub3duID0gcGFyc2VyLnBhcnNlX2tub3duX2FyZ3MoKQoKICAgIGJhZF93b3JkX2NoZWNrZXIgPSBsb2FkX2V0b3hfYmFkX3dvcmRfY2hlY2tlcigibWludG94IikKCiAgICBwcmludCgidGV4dCIsICJ0b3hpY2l0eSIsICJiYWRfd29yZHMiLCBzZXA9Ilx0IiwgZmlsZT1hcmdzLm91dHB1dCkKICAgIGZvciBsaW5lIGluIGFyZ3MuaW5wdXQ6CiAgICAgICAgbCA9IGxpbmUucnN0cmlwKCkKICAgICAgICBiYWRfd29yZHMgPSBiYWRfd29yZF9jaGVja2VyLmdldF9iYWRfd29yZHMoCiAgICAgICAgICAgIHRleHQ9bCwKICAgICAgICAgICAgbGFuZz1hcmdzLmxhbmcsCiAgICAgICAgKQogICAgICAgIHByaW50KGwsIGxlbihiYWRfd29yZHMpLCAiLCIuam9pbihiYWRfd29yZHMpLCBzZXA9Ilx0IiwgZmlsZT1hcmdzLm91dHB1dCkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=='),
    ('seamless/src/seamless_communication/cli/toxicity/mutox/mutox_text.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgc3lzCgppbXBvcnQgdG9yY2gKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5Lm11dG94LmxvYWRlciBpbXBvcnQgbG9hZF9tdXRveF9tb2RlbApmcm9tIHNvbmFyLmluZmVyZW5jZV9waXBlbGluZXMudGV4dCBpbXBvcnQgVGV4dFRvRW1iZWRkaW5nTW9kZWxQaXBlbGluZQoKaW1wb3J0IGxvZ2dpbmcKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKQ1BVX0RFVklDRSA9IHRvcmNoLmRldmljZSgiY3B1IikKCgpkZWYgbWFpbigpIC0+IE5vbmU6CiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcigKICAgICAgICBkZXNjcmlwdGlvbj0iTXV0b3ggVGV4dCB3aWxsIGNvbXB1dGUgYSB0b3hpY2l0eSBzY29yZSBmb3IgZWFjaCBzZW50ZW5jZSBpdCBpcyBwYXNzZWQuIgogICAgKQoKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgImxhbmciLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9Ikxhbmd1YWdlIG9mIHRoZSBpbnB1dCB0ZXh0LCBubGxiIGZvcm1hdCB3aXRoIHNjcmlwdC4iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiaW5wdXQiLCBuYXJncz0iPyIsIHR5cGU9YXJncGFyc2UuRmlsZVR5cGUoInIiKSwgZGVmYXVsdD1zeXMuc3RkaW4KICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIm91dHB1dCIsIG5hcmdzPSI/IiwgdHlwZT1hcmdwYXJzZS5GaWxlVHlwZSgidyIpLCBkZWZhdWx0PXN5cy5zdGRvdXQKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tYmF0Y2hfc2l6ZSIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iSW5mZXJlbmNlIGJhdGNoIHNpemUuIiwKICAgICAgICBkZWZhdWx0PTQsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWRldmljZSIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgaGVscD0ibmFtZSBvZiB0aGUgZGV2aWNlIHRvIHVzZSB3aXRoIHRvcmNoLiIsCiAgICAgICAgcmVxdWlyZWQ9RmFsc2UsCiAgICApCiAgICBhcmdzLCBfdW5rbm93biA9IHBhcnNlci5wYXJzZV9rbm93bl9hcmdzKCkKCiAgICBpZiBhcmdzLmRldmljZSBpcyBub3QgTm9uZToKICAgICAgICBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoYXJncy5kZXZpY2UpCiAgICAgICAgZHR5cGUgPSB0b3JjaC5mbG9hdDMyCiAgICAgICAgaWYgZGV2aWNlLnR5cGUgPT0gImN1ZGEiOgogICAgICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MTYKICAgIGVsaWYgdG9yY2guY3VkYS5pc19hdmFpbGFibGUoKToKICAgICAgICBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoImN1ZGE6MCIpCiAgICAgICAgZHR5cGUgPSB0b3JjaC5mbG9hdDE2CiAgICBlbHNlOgogICAgICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3B1IikKICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MzIKCiAgICB0MnZlY19tb2RlbCA9IFRleHRUb0VtYmVkZGluZ01vZGVsUGlwZWxpbmUoCiAgICAgICAgZW5jb2Rlcj0idGV4dF9zb25hcl9iYXNpY19lbmNvZGVyIiwKICAgICAgICB0b2tlbml6ZXI9InRleHRfc29uYXJfYmFzaWNfZW5jb2RlciIsCiAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICkKCiAgICBjbGFzc2lmaWVyID0gbG9hZF9tdXRveF9tb2RlbCgKICAgICAgICAibXV0b3giLAogICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICApLmV2YWwoKQoKICAgIGRlZiB3cml0ZV9yZXN1bHQoYmF0Y2gpOgogICAgICAgIGVtYiA9IHQydmVjX21vZGVsLnByZWRpY3QoYmF0Y2gsIHNvdXJjZV9sYW5nPWFyZ3MubGFuZykKICAgICAgICBzY29yZXMgPSBjbGFzc2lmaWVyKGVtYi5oYWxmKCkpCiAgICAgICAgZm9yIHMsIHQgaW4gemlwKHNjb3JlcywgYmF0Y2gpOgogICAgICAgICAgICBwcmludCh0LCBzLml0ZW0oKSwgc2VwPSJcdCIsIGZpbGU9YXJncy5vdXRwdXQpCgogICAgd2l0aCB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpOgogICAgICAgIHByaW50KCJ0ZXh0IiwgInNjb3JlIiwgc2VwPSJcdCIsIGZpbGU9YXJncy5vdXRwdXQpCiAgICAgICAgYmF0Y2ggPSBbXQogICAgICAgIGZvciBsaW5lIGluIGFyZ3MuaW5wdXQ6CiAgICAgICAgICAgIGJhdGNoLmFwcGVuZChsaW5lLnJzdHJpcCgpKQogICAgICAgICAgICBpZiBsZW4oYmF0Y2gpID49IGFyZ3MuYmF0Y2hfc2l6ZToKICAgICAgICAgICAgICAgIHdyaXRlX3Jlc3VsdChiYXRjaCkKICAgICAgICAgICAgICAgIGJhdGNoID0gW10KCiAgICAgICAgaWYgbGVuKGJhdGNoKToKICAgICAgICAgICAgd3JpdGVfcmVzdWx0KGJhdGNoKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCkK'),
    ('seamless/src/seamless_communication/cli/toxicity/mutox/mutox_speech.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQoKaW1wb3J0IHRvcmNoCmZyb20gdHFkbSBpbXBvcnQgdHFkbQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCmZyb20gc29uYXIuaW5mZXJlbmNlX3BpcGVsaW5lcy5zcGVlY2ggaW1wb3J0ICgKICAgIFNwZWVjaEluZmVyZW5jZVBhcmFtcywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24udG94aWNpdHkubXV0b3guc3BlZWNoX3BpcGVsaW5lIGltcG9ydCAoCiAgICBNdXRveFNwZWVjaENsYXNzaWZpZXJQaXBlbGluZSwKKQoKaW1wb3J0IGxvZ2dpbmcKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKZGVmIG1haW4oKSAtPiBOb25lOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoCiAgICAgICAgZGVzY3JpcHRpb249Ik11dG94IHNwZWVjaCB3aWxsIGNvbXB1dGUgYSB0b3hpY2l0eSBzY29yZSBmb3IgZWFjaCBzcGVlY2ggc2VnbWVudCBpdCBpcyBwcm92aWRlZC4iCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICJkYXRhX2ZpbGUiLAogICAgICAgIHR5cGU9UGF0aCwKICAgICAgICBoZWxwPSJQYXRoIHRvIHRoZSBpbnB1dCBUU1YgbWFuaWZlc3QgdGhhdCBsaXN0IHRoZSBhdWRpbyBmaWxlcy4iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAib3V0cHV0X2ZpbGUiLAogICAgICAgIHR5cGU9UGF0aCwKICAgICAgICBoZWxwPSJQYXRoIHRvIGEgVFNWIGZpbGUgd2hlcmUgdG8gc2F2ZSB0aGUgcmVzdWx0cy4iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1sYW5nIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJMYW5ndWFnZSwgbGFuZ3VhZ2Ugb2YgdGhlIHNwZWVjaCBiZWluZyBwYXNzZWQgYXMgaW5wdXQsIHRocmVlIGxldHRlciBjb2RlIiwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1hdWRpb19yb290X2RpciIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgaGVscD0iUm9vdCBkaXJlY3RvcnkgZm9yIHRoZSBhdWRpbyBmaWxlbmFtZXMgaW4gdGhlIGRhdGEgZmlsZS4iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1hdWRpb19wYXRoX2luZGV4IiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSJJbmRleCBvZiB0aGUgY29sdW1uIHdoZXJlIHRoZSBhdWRpb2ZpbGUgaXMgbGlzdGVkIGluIHRoZSBpbnB1dCB0c3YuIiwKICAgICAgICBkZWZhdWx0PSJhdWRpbyIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWJhdGNoX3NpemUiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGhlbHA9IkluZmVyZW5jZSBiYXRjaCBzaXplLiIsCiAgICAgICAgZGVmYXVsdD00LAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1uX3BhcmFsbGVsIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSJOdW1iZXIgb2YgZGF0YSBsb2FkaW5nIGluIHBhcmFsbGVsLiIsCiAgICAgICAgZGVmYXVsdD00LAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1kZXZpY2UiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9Im5hbWUgb2YgdGhlIGRldmljZSB0byB1c2Ugd2l0aCB0b3JjaC4iLAogICAgICAgIHJlcXVpcmVkPUZhbHNlLAogICAgKQogICAgYXJncywgX3Vua25vd24gPSBwYXJzZXIucGFyc2Vfa25vd25fYXJncygpCgogICAgaWYgYXJncy5kZXZpY2UgaXMgbm90IE5vbmU6CiAgICAgICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKGFyZ3MuZGV2aWNlKQogICAgICAgIGR0eXBlID0gdG9yY2guZmxvYXQzMgogICAgICAgIGlmIGRldmljZS50eXBlID09ICJjdWRhIjoKICAgICAgICAgICAgZHR5cGUgPSB0b3JjaC5mbG9hdDE2CiAgICBlbGlmIHRvcmNoLmN1ZGEuaXNfYXZhaWxhYmxlKCk6CiAgICAgICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjdWRhOjAiKQogICAgICAgIGR0eXBlID0gdG9yY2guZmxvYXQxNgogICAgICAgIGxvZ2dlci5pbmZvKCJ1c2luZyBjdWRhOjAsICVzIiwgZHR5cGUpCiAgICBlbHNlOgogICAgICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3B1IikKICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MzIKICAgICAgICBsb2dnZXIuaW5mbygibm8gZ3B1LCB1c2luZyBjcHUiKQoKICAgIGxvZ2dlci5pbmZvKCJsb2FkaW5nIG1vZGVscy4iKQoKICAgIHBpcGVsaW5lX2J1aWxkZXIgPSBNdXRveFNwZWVjaENsYXNzaWZpZXJQaXBlbGluZS5sb2FkX21vZGVsX2Zyb21fbmFtZSgKICAgICAgICBtdXRveF9jbGFzc2lmaWVyX25hbWU9Im11dG94IiwKICAgICAgICBlbmNvZGVyX25hbWU9ZiJzb25hcl9zcGVlY2hfZW5jb2Rlcl97YXJncy5sYW5nfSIsCiAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICkKCiAgICBwaXBlbGluZSA9IHBpcGVsaW5lX2J1aWxkZXIuYnVpbGRfcGlwZWxpbmUoCiAgICAgICAgU3BlZWNoSW5mZXJlbmNlUGFyYW1zKAogICAgICAgICAgICBkYXRhX2ZpbGU9YXJncy5kYXRhX2ZpbGUsCiAgICAgICAgICAgIGF1ZGlvX3Jvb3RfZGlyPWFyZ3MuYXVkaW9fcm9vdF9kaXIsCiAgICAgICAgICAgIGF1ZGlvX3BhdGhfaW5kZXg9YXJncy5hdWRpb19wYXRoX2luZGV4LAogICAgICAgICAgICB0YXJnZXRfbGFuZz1hcmdzLmxhbmcsCiAgICAgICAgICAgIGJhdGNoX3NpemU9YXJncy5iYXRjaF9zaXplLAogICAgICAgICAgICBwYWRfaWR4PTAsCiAgICAgICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgICAgIGZiYW5rX2R0eXBlPXRvcmNoLmZsb2F0MzIsCiAgICAgICAgICAgIG5fcGFyYWxsZWw9YXJncy5uX3BhcmFsbGVsLAogICAgICAgICkKICAgICkKCiAgICBsb2dnZXIuaW5mbygicHJvY2Vzc2luZy4iKQoKICAgIHdpdGggb3BlbihhcmdzLm91dHB1dF9maWxlLCAidyIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIG91dGY6CiAgICAgICAgcHJpbnQoCiAgICAgICAgICAgICJpbnB1dF9hdWRpb19wYXRoIiwKICAgICAgICAgICAgInNjb3JlIiwKICAgICAgICAgICAgc2VwPSJcdCIsCiAgICAgICAgICAgIGZpbGU9b3V0ZiwKICAgICAgICApCiAgICAgICAgZm9yIGV4YW1wbGUgaW4gdHFkbShwaXBlbGluZSk6CiAgICAgICAgICAgIGV4ID0gZXhhbXBsZVsiYXVkaW8iXQogICAgICAgICAgICBmb3IgaWR4LCBwYXRoIGluIGVudW1lcmF0ZShleFsicGF0aCJdKToKICAgICAgICAgICAgICAgIHByaW50KAogICAgICAgICAgICAgICAgICAgIHN0cihwYXRoKSwKICAgICAgICAgICAgICAgICAgICBleFsiZGF0YSJdW2lkeF0uaXRlbSgpLAogICAgICAgICAgICAgICAgICAgIHNlcD0iXHQiLAogICAgICAgICAgICAgICAgICAgIGZpbGU9b3V0ZiwKICAgICAgICAgICAgICAgICkKCiAgICBsb2dnZXIuaW5mbyhmIkRvbmUsIG91dHB1dHMgYXJlIGluIHthcmdzLm91dHB1dF9maWxlfS4iKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCkK'),
    ('seamless/src/seamless_communication/streaming/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/src/seamless_communication/streaming/dataloaders/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuZGF0YWxvYWRlcnMuczJ0dCBpbXBvcnQgKAogICAgU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlciBhcyBTaW11bEV2YWxTcGVlY2hUb1RleHREYXRhbG9hZGVyLAopCg=='),
    ('seamless/src/seamless_communication/streaming/dataloaders/s2tt.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBsb2dnaW5nCmltcG9ydCBzdWJwcm9jZXNzCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgT3B0aW9uYWwKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIuZGF0YS5hdWRpbyBpbXBvcnQgQXVkaW9EZWNvZGVyCmZyb20gZmFpcnNlcTIuZGF0YS5kYXRhX3BpcGVsaW5lIGltcG9ydCBDb2xsYXRlciwgRGF0YVBpcGVsaW5lLCBGaWxlTWFwcGVyCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0LmNvbnZlcnRlcnMgaW1wb3J0IFN0clNwbGl0dGVyCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0LnRleHRfcmVhZGVyIGltcG9ydCByZWFkX3RleHQKZnJvbSBzaW11bGV2YWwuZGF0YS5kYXRhbG9hZGVyIGltcG9ydCByZWdpc3Rlcl9kYXRhbG9hZGVyCmZyb20gc2ltdWxldmFsLmRhdGEuZGF0YWxvYWRlci5kYXRhbG9hZGVyIGltcG9ydCBJdGVyYWJsZURhdGFsb2FkZXIKZnJvbSBzaW11bGV2YWwuZGF0YS5kYXRhbG9hZGVyLnMydF9kYXRhbG9hZGVyIGltcG9ydCBTcGVlY2hUb1RleHREYXRhbG9hZGVyCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBkYXRhY2xhc3MKY2xhc3MgU291bmRGaWxlSW5mbzoKICAgIHNhbXBsZXJhdGU6IGZsb2F0CiAgICBwYXRoOiBzdHIKCiAgICBkZWYgX19yZXByX18oc2VsZikgLT4gc3RyOgogICAgICAgIHJldHVybiAiXG4iLmpvaW4oW2Yic2FtcGxlcmF0ZToge3N0cihzZWxmLnNhbXBsZXJhdGUpfSIsIGYicGF0aDoge3NlbGYucGF0aH0iXSkKCgpkZWYgY291bnRfbGluZXMoZmlsZW5hbWU6IFBhdGgpIC0+IGludDoKICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKFsid2MiLCAiLWwiLCBmaWxlbmFtZV0sIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUpCiAgICByZXR1cm4gaW50KHJlc3VsdC5zdGRvdXQuZGVjb2RlKCkuc3BsaXQoKVswXSkgLSAxCgoKY2xhc3MgU2lsZXJvVkFEU2lsZW5jZVJlbW92ZXI6CiAgICBkZWYgX19pbml0X18oc2VsZiwgc2FtcGxlX3JhdGU6IGludCA9IDE2MDAwKSAtPiBOb25lOgogICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBzYW1wbGVfcmF0ZQogICAgICAgIHNlbGYubW9kZWwsIHNlbGYudXRpbHMgPSB0b3JjaC5odWIubG9hZCgKICAgICAgICAgICAgcmVwb19vcl9kaXI9InNuYWtlcnM0L3NpbGVyby12YWQiLAogICAgICAgICAgICBtb2RlbD0ic2lsZXJvX3ZhZCIsCiAgICAgICAgICAgICMgZm9yY2VfcmVsb2FkPVRydWUsCiAgICAgICAgICAgIG9ubng9RmFsc2UsCiAgICAgICAgKQoKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCBzYW1wbGU6IHRvcmNoLlRlbnNvciwgaXNfc3RhbmRhcmRpemVkOiBib29sKSAtPiBMaXN0W2Zsb2F0XToKICAgICAgICBpZiBub3QgaXNfc3RhbmRhcmRpemVkOgogICAgICAgICAgICAjIFN0YW5kYXJkaXppbmcgaGVyZSBqdXN0IGZvciBnZXR0aW5nIHNpbGVuY2UgYm91bmRhcmllcwogICAgICAgICAgICBzdGFuZGFyaXplZF9zYW1wbGVfbGlzdCA9IEYubGF5ZXJfbm9ybShzYW1wbGUsIHNhbXBsZS5zaGFwZSkudG9saXN0KCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzdGFuZGFyaXplZF9zYW1wbGVfbGlzdCA9IHNhbXBsZS50b2xpc3QoKQoKICAgICAgICAoCiAgICAgICAgICAgIGdldF9zcGVlY2hfdGltZXN0YW1wcywKICAgICAgICAgICAgc2F2ZV9hdWRpbywKICAgICAgICAgICAgcmVhZF9hdWRpbywKICAgICAgICAgICAgVkFESXRlcmF0b3IsCiAgICAgICAgICAgIGNvbGxlY3RfY2h1bmtzLAogICAgICAgICkgPSBzZWxmLnV0aWxzCiAgICAgICAgc3BlZWNoX3RpbWVzdGFtcHMgPSBnZXRfc3BlZWNoX3RpbWVzdGFtcHMoCiAgICAgICAgICAgIHN0YW5kYXJpemVkX3NhbXBsZV9saXN0LCBzZWxmLm1vZGVsLCBzYW1wbGluZ19yYXRlPXNlbGYuc2FtcGxlX3JhdGUKICAgICAgICApCgogICAgICAgIHNhbXBsZV9saXN0OiBMaXN0W2Zsb2F0XSA9IHNhbXBsZS50b2xpc3QoKQogICAgICAgIGlmIGxlbihzcGVlY2hfdGltZXN0YW1wcykgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIHNhbXBsZV9saXN0CiAgICAgICAgc3BlZWNoX3N0YXJ0X3RpbWUgPSBzcGVlY2hfdGltZXN0YW1wc1swXVsic3RhcnQiXQogICAgICAgIHNwZWVjaF9lbmRfdGltZSA9IHNwZWVjaF90aW1lc3RhbXBzWy0xXVsiZW5kIl0KICAgICAgICByZXR1cm4gc2FtcGxlX2xpc3RbaW50KHNwZWVjaF9zdGFydF90aW1lKSA6IGludChzcGVlY2hfZW5kX3RpbWUpXQoKCkByZWdpc3Rlcl9kYXRhbG9hZGVyKCJmYWlyc2VxMl9zMnR0IikKY2xhc3MgU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlcihTcGVlY2hUb1RleHREYXRhbG9hZGVyLCBJdGVyYWJsZURhdGFsb2FkZXIpOiAgIyB0eXBlOiBpZ25vcmUKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLCBkYXRhX3BpcGVsaW5lOiBEYXRhUGlwZWxpbmUsIGlzX3N0YW5kYXJkaXplZDogYm9vbCwgYXJnczogTmFtZXNwYWNlCiAgICApIC0+IE5vbmU6CiAgICAgICAgc2VsZi5hcmdzID0gYXJncwogICAgICAgIHNlbGYuZGF0YV9maWxlOiBQYXRoID0gUGF0aChnZXRhdHRyKHNlbGYuYXJncywgImRhdGFfZmlsZSIsICIiKSkKICAgICAgICBpZiBub3Qgc2VsZi5kYXRhX2ZpbGUuZXhpc3RzKCk6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJkYXRhX2ZpbGU6IHtzZWxmLmRhdGFfZmlsZX0gZG9lcyBub3QgZXhpc3QuIikKICAgICAgICBzZWxmLnN0YXJ0X2luZGV4OiBpbnQgPSBnZXRhdHRyKHNlbGYuYXJncywgInN0YXJ0X2luZGV4IiwgMCkKICAgICAgICBzZWxmLmVuZF9pbmRleDogaW50ID0gZ2V0YXR0cihzZWxmLmFyZ3MsICJlbmRfaW5kZXgiLCAtMSkKICAgICAgICBzZWxmLmRhdGFfcGlwZWxpbmUgPSBkYXRhX3BpcGVsaW5lCiAgICAgICAgc2VsZi5pc19zdGFuZGFyZGl6ZWQgPSBpc19zdGFuZGFyZGl6ZWQKICAgICAgICBzZWxmLmRhdGFfaXRyID0gaXRlcihzZWxmLmRhdGFfcGlwZWxpbmUpCiAgICAgICAgc2VsZi5jdXJfaW5kZXggPSBzZWxmLnN0YXJ0X2luZGV4IC0gMQogICAgICAgIHNlbGYubm9fc3RyaXBfc2lsZW5jZSA9IHNlbGYuYXJncy5ub19zdHJpcF9zaWxlbmNlCiAgICAgICAgc2VsZi5zaWxlbmNlX3JlbW92ZXIgPSBOb25lCiAgICAgICAgaWYgbm90IHNlbGYubm9fc3RyaXBfc2lsZW5jZToKICAgICAgICAgICAgbG9nZ2VyLndhcm4oCiAgICAgICAgICAgICAgICAiU3RyaXBwaW5nIHNpbGVuY2UgaW4gdGhlIGJlZ2lubmluZyBhbmQgdGhlIGVuZCBvZiBhdWRpbyB3aXRoIFNpbGVyb1ZBRC4iCiAgICAgICAgICAgICkKICAgICAgICAgICAgc2VsZi5zaWxlbmNlX3JlbW92ZXIgPSBTaWxlcm9WQURTaWxlbmNlUmVtb3ZlcigpCgogICAgZGVmIF9faXRlcl9fKHNlbGYpIC0+IFNpbXVsRXZhbFNwZWVjaFRvVGV4dERhdGFsb2FkZXI6CiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19uZXh0X18oc2VsZikgLT4gU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlcjoKICAgICAgICBpZiBzZWxmLmN1cl9pbmRleCA+PSBzZWxmLmVuZF9pbmRleCAtIDE6CiAgICAgICAgICAgIHJhaXNlIFN0b3BJdGVyYXRpb24KICAgICAgICBzZWxmLml0ZW0gPSBuZXh0KHNlbGYuZGF0YV9pdHIpCiAgICAgICAgc2VsZi5jdXJfaW5kZXggKz0gMQogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIHJlc2V0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5jdXJfaW5kZXggPSAwCiAgICAgICAgc2VsZi5kYXRhX3BpcGVsaW5lLnJlc2V0KCkKCiAgICBkZWYgX19sZW5fXyhzZWxmKSAtPiBpbnQ6CiAgICAgICAgaWYgc2VsZi5lbmRfaW5kZXggPiAwOgogICAgICAgICAgICByZXR1cm4gc2VsZi5lbmRfaW5kZXggLSBzZWxmLnN0YXJ0X2luZGV4CiAgICAgICAgc2VsZi5lbmRfaW5kZXggPSBjb3VudF9saW5lcyhzZWxmLmRhdGFfZmlsZSkKICAgICAgICByZXR1cm4gc2VsZi5lbmRfaW5kZXggLSBzZWxmLnN0YXJ0X2luZGV4CgogICAgZGVmIGdldF9zb3VyY2Uoc2VsZiwgaW5kZXg6IE9wdGlvbmFsW2ludF0gPSBOb25lKSAtPiBMaXN0W2Zsb2F0XToKICAgICAgICBzcXVlZXplZF9pdGVtID0gc2VsZi5pdGVtWyJhdWRpbyJdWyJkYXRhIl1bIndhdmVmb3JtIl1bInNlcXMiXS5zcXVlZXplKCkKCiAgICAgICAgaWYgbm90IHNlbGYubm9fc3RyaXBfc2lsZW5jZSBhbmQgc2VsZi5zaWxlbmNlX3JlbW92ZXIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNvdXJjZSA9IHNlbGYuc2lsZW5jZV9yZW1vdmVyKHNxdWVlemVkX2l0ZW0sIHNlbGYuaXNfc3RhbmRhcmRpemVkKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNvdXJjZSA9IHNxdWVlemVkX2l0ZW0udG9saXN0KCkKCiAgICAgICAgcmV0dXJuIHNvdXJjZQoKICAgIGRlZiBnZXRfdGFyZ2V0KHNlbGYsIGluZGV4OiBPcHRpb25hbFtpbnRdID0gTm9uZSkgLT4gc3RyOgogICAgICAgIHJldHVybiBzdHIoc2VsZi5pdGVtW3NlbGYuYXJncy5yZWZfZmllbGRdWzBdKQoKICAgIGRlZiBnZXRfdGd0X2xhbmcoc2VsZiwgaW5kZXg6IE9wdGlvbmFsW2ludF0gPSBOb25lKSAtPiBPcHRpb25hbFtzdHJdOgogICAgICAgIGlmIHNlbGYuYXJncy50Z3RfbGFuZzoKICAgICAgICAgICAgdGd0X2xhbmc6IHN0ciA9IHNlbGYuYXJncy50Z3RfbGFuZwogICAgICAgICAgICByZXR1cm4gdGd0X2xhbmcKCiAgICAgICAgdGd0X2xhbmcgPSBzZWxmLml0ZW0uZ2V0KCJ0Z3RfbGFuZyIpCiAgICAgICAgcmV0dXJuIHN0cih0Z3RfbGFuZ1swXSkgaWYgdGd0X2xhbmcgZWxzZSBOb25lCgogICAgZGVmIGdldF9zb3VyY2VfYXVkaW9faW5mbyhzZWxmLCBpbmRleDogT3B0aW9uYWxbaW50XSA9IE5vbmUpIC0+IFNvdW5kRmlsZUluZm86CiAgICAgICAgc2FtcGxlcmF0ZSA9IHNlbGYuaXRlbVsiYXVkaW8iXVsiZGF0YSJdWyJzYW1wbGVfcmF0ZSJdWzBdCiAgICAgICAgcGF0aCA9IGYne3NlbGYuYXJncy5hdWRpb19yb290X2Rpcn0ve3N0cihzZWxmLml0ZW1bImF1ZGlvIl1bInBhdGgiXVswXSl9JwogICAgICAgIHJldHVybiBTb3VuZEZpbGVJbmZvKHNhbXBsZXJhdGUsIHBhdGgpCgogICAgZGVmIGdldF9zb3VyY2VfYXVkaW9fcGF0aChzZWxmLCBpbmRleDogT3B0aW9uYWxbaW50XSA9IE5vbmUpIC0+IHN0cjoKICAgICAgICByZXR1cm4gc3RyKHNlbGYuaXRlbVsiYXVkaW8iXVsicGF0aCJdWzBdKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fYXJncyhjbHMsIGFyZ3M6IE5hbWVzcGFjZSkgLT4gU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlcjoKICAgICAgICB3aXRoIG9wZW4oYXJncy5kYXRhX2ZpbGUsICJyIikgYXMgZjoKICAgICAgICAgICAgaGVhZGVyID0gZi5yZWFkbGluZSgpLnN0cmlwKCJcbiIpLnNwbGl0KCJcdCIpCgogICAgICAgIHNwbGl0X3RzdiA9IFN0clNwbGl0dGVyKG5hbWVzPWhlYWRlcikKCiAgICAgICAgc3RhcnRfaW5kZXg6IGludCA9IGdldGF0dHIoYXJncywgInN0YXJ0X2luZGV4IiwgMCkKCiAgICAgICAgcGlwZWxpbmVfYnVpbGRlciA9ICgKICAgICAgICAgICAgcmVhZF90ZXh0KGFyZ3MuZGF0YV9maWxlLCBydHJpbT1UcnVlKS5za2lwKDEgKyBzdGFydF9pbmRleCkubWFwKHNwbGl0X3RzdikKICAgICAgICApCgogICAgICAgIG1hcF9maWxlID0gRmlsZU1hcHBlcihyb290X2Rpcj1hcmdzLmF1ZGlvX3Jvb3RfZGlyLCBjYWNoZWRfZmRfY291bnQ9MTApCgogICAgICAgIHBpcGVsaW5lX2J1aWxkZXIubWFwKG1hcF9maWxlLCBzZWxlY3Rvcj0iYXVkaW8iKQoKICAgICAgICBkZXZpY2UgPSBnZXRhdHRyKGFyZ3MsICJkZXZpY2UiLCBOb25lKQogICAgICAgIGFzc2VydCBkZXZpY2UgaXMgbm90IE5vbmUKCiAgICAgICAgZGVjb2RlX2F1ZGlvID0gQXVkaW9EZWNvZGVyKGR0eXBlPXRvcmNoLmZsb2F0MzIsIGRldmljZT10b3JjaC5kZXZpY2UoZGV2aWNlKSkKCiAgICAgICAgcGlwZWxpbmVfYnVpbGRlci5tYXAoCiAgICAgICAgICAgIGRlY29kZV9hdWRpbywKICAgICAgICAgICAgc2VsZWN0b3I9ImF1ZGlvLmRhdGEiLAogICAgICAgICkKCiAgICAgICAgaXNfc3RhbmRhcmRpemVkID0gRmFsc2UKICAgICAgICBpZiBhcmdzLnN0YW5kYXJkaXplX2F1ZGlvOgogICAgICAgICAgICBwaXBlbGluZV9idWlsZGVyLm1hcCgKICAgICAgICAgICAgICAgIGxhbWJkYSB4OiBGLmxheWVyX25vcm0oeCwgeC5zaGFwZSksCiAgICAgICAgICAgICAgICBzZWxlY3Rvcj0iYXVkaW8uZGF0YS53YXZlZm9ybSIsCiAgICAgICAgICAgICkKICAgICAgICAgICAgaXNfc3RhbmRhcmRpemVkID0gVHJ1ZQoKICAgICAgICBjb2xsYXRlID0gQ29sbGF0ZXIocGFkX3ZhbHVlPTAsIHBhZF90b19tdWx0aXBsZT0xKQoKICAgICAgICBwaXBlbGluZV9idWlsZGVyLm1hcChjb2xsYXRlKQoKICAgICAgICBwaXBlbGluZV9idWlsZGVyLnByZWZldGNoKDEpCgogICAgICAgIGRhdGFfcGlwZWxpbmUgPSBwaXBlbGluZV9idWlsZGVyLmFuZF9yZXR1cm4oKQoKICAgICAgICByZXR1cm4gY2xzKGRhdGFfcGlwZWxpbmUsIGlzX3N0YW5kYXJkaXplZCwgYXJncykKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kYXRhLWZpbGUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICAgICAgaGVscD0iRGF0YSBmaWxlICgudHN2KSB0byBiZSBldmFsdWF0ZWQuIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tYXVkaW8tcm9vdC1kaXIiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUm9vdCBkaXJlY3RvcnkgZm9yIHRoZSBhdWRpbyBmaWxlbmFtZXMgaW4gdGhlIGRhdGEgZmlsZS4iLAogICAgICAgICAgICBkZWZhdWx0PSIiLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1yZWYtZmllbGQiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUmVmZXJlbmNlIHRhcmdldCB0ZXh0IGZpZWxkIHRvIGNvbXB1dGUgdGhlIEJMRVUgc2NvcmUgYWdhaW5zdC4iLAogICAgICAgICAgICBkZWZhdWx0PSJ0Z3RfdGV4dCIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXNvdXJjZS1zZWdtZW50LXNpemUiLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgZGVmYXVsdD0xLAogICAgICAgICAgICBoZWxwPSJTb3VyY2Ugc2VnbWVudCBzaXplLCBGb3IgdGV4dCB0aGUgdW5pdCBpcyAjIHRva2VuLCBmb3Igc3BlZWNoIGlzIG1zIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdGd0LWxhbmciLAogICAgICAgICAgICBkZWZhdWx0PSJlbmciLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iVGFyZ2V0IGxhbmd1YWdlIHRvIHRyYW5zbGF0ZS90cmFuc2NyaWJlIGludG8uIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tb3V0cHV0IiwKICAgICAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgICAgIHJlcXVpcmVkPVRydWUsCiAgICAgICAgICAgIGhlbHA9Ik91dHB1dCBkaXJlY3RvcnkuIFJlcXVpcmVkIGlmIHVzaW5nIGl0ZXJhYmxlIGRhdGFsb2FkZXIuIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tbm8tc3RyaXAtc2lsZW5jZSIsCiAgICAgICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICAgICAgICAgIGhlbHA9IlN0cmlwIHNpbGVuY2UgaW4gdGhlIGJlZ2lubmluZyBhbmQgdGhlIGVuZCBvZiBhdWRpby4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1zdGFuZGFyZGl6ZS1hdWRpbyIsCiAgICAgICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgICAgIGhlbHA9IlN0YW5kYXJkaXplIGF1ZGlvLiIsCiAgICAgICAgKQo='),
    ('seamless/src/seamless_communication/streaming/agents/seamless_streaming_s2t.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmRldG9rZW5pemVyIGltcG9ydCBEZXRva2VuaXplckFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9mZmxpbmVfdzJ2X2JlcnRfZW5jb2RlciBpbXBvcnQgKAogICAgT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV9mZWF0dXJlX2V4dHJhY3RvciBpbXBvcnQgKAogICAgT25saW5lRmVhdHVyZUV4dHJhY3RvckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV90ZXh0X2RlY29kZXIgaW1wb3J0ICgKICAgIE1NQVNwZWVjaFRvVGV4dERlY29kZXJBZ2VudCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5zaWxlcm9fdmFkIGltcG9ydCBTaWxlcm9WQURBZ2VudApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy51bml0eV9waXBlbGluZSBpbXBvcnQgVW5pdFlBZ2VudFBpcGVsaW5lCgoKY2xhc3MgU2VhbWxlc3NTdHJlYW1pbmdTMlREZXRva0FnZW50KFVuaXRZQWdlbnRQaXBlbGluZSk6CiAgICBwaXBlbGluZSA9IFsKICAgICAgICBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQsCiAgICAgICAgT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50LAogICAgICAgIE1NQVNwZWVjaFRvVGV4dERlY29kZXJBZ2VudCwKICAgICAgICBEZXRva2VuaXplckFnZW50LAogICAgXQoKCmNsYXNzIFNlYW1sZXNzU3RyZWFtaW5nUzJUQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgTU1BU3BlZWNoVG9UZXh0RGVjb2RlckFnZW50LAogICAgXQoKCmNsYXNzIFNlYW1sZXNzU3RyZWFtaW5nUzJUVkFEQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIFNpbGVyb1ZBREFnZW50LAogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgTU1BU3BlZWNoVG9UZXh0RGVjb2RlckFnZW50LAogICAgICAgIERldG9rZW5pemVyQWdlbnQsCiAgICBdCg=='),
    ('seamless/src/seamless_communication/streaming/agents/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCg=='),
    ('seamless/src/seamless_communication/streaming/agents/detokenizer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0Cgpmcm9tIHNpbXVsZXZhbC5hZ2VudHMgaW1wb3J0IFRleHRUb1RleHRBZ2VudApmcm9tIHNpbXVsZXZhbC5hZ2VudHMuYWN0aW9ucyBpbXBvcnQgQWN0aW9uLCBSZWFkQWN0aW9uLCBXcml0ZUFjdGlvbgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5jb21tb24gaW1wb3J0ICgKICAgIEFnZW50U3RhdGVzLAogICAgTm9VcGRhdGVUYXJnZXRNaXhpbiwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5vbmxpbmVfdGV4dF9kZWNvZGVyIGltcG9ydCAoCiAgICBVbml0WVRleHREZWNvZGVyT3V0cHV0LAopCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNlZ21lbnQsIEVtcHR5U2VnbWVudAoKCmNsYXNzIERldG9rZW5pemVyQWdlbnQoTm9VcGRhdGVUYXJnZXRNaXhpbiwgVGV4dFRvVGV4dEFnZW50KTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oc2VsZiwgYXJnczogTmFtZXNwYWNlKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGFyZ3MpCiAgICAgICAgc2VsZi5kZXRva2VuaXplX29ubHkgPSBhcmdzLmRldG9rZW5pemVfb25seQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fYXJncyhjbHMsIGFyZ3M6IE5hbWVzcGFjZSwgKiprd2FyZ3M6IERpY3Rbc3RyLCBBbnldKSAtPiBEZXRva2VuaXplckFnZW50OgogICAgICAgIHJldHVybiBjbHMoYXJncykKCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZXRva2VuaXplLW9ubHkiLAogICAgICAgICAgICBhY3Rpb249InN0b3JlX3RydWUiLAogICAgICAgICAgICBkZWZhdWx0PVRydWUsCiAgICAgICAgICAgIGhlbHA9IlJ1biBkZXRva2VuaXphdGlvbiB3aXRob3V0IHdhaXRpbmcgZm9yIGEgbmV3IHRva2VuLiIsCiAgICAgICAgKQoKICAgIGRlZiBwb2xpY3koc2VsZiwgc3RhdGVzOiBBZ2VudFN0YXRlcykgLT4gQWN0aW9uOgogICAgICAgIHBvc3NpYmxlX2Z1bGxfd29yZHMgPSBzZWxmLmRlY29kZSgiICIuam9pbihbeCBmb3IgeCBpbiBzdGF0ZXMuc291cmNlXSkpCgogICAgICAgIGlmIHNlbGYuZGV0b2tlbml6ZV9vbmx5IGFuZCBsZW4oc3RhdGVzLnNvdXJjZSkgPiAwOgogICAgICAgICAgICBzdGF0ZXMuc291cmNlID0gW10KICAgICAgICAgICAgaWYgbGVuKHBvc3NpYmxlX2Z1bGxfd29yZHMpID09IDAgYW5kIG5vdCBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkOgogICAgICAgICAgICAgICAgcmV0dXJuIFJlYWRBY3Rpb24oKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIFdyaXRlQWN0aW9uKHBvc3NpYmxlX2Z1bGxfd29yZHMsIHN0YXRlcy5zb3VyY2VfZmluaXNoZWQpCgogICAgICAgIGlmIHN0YXRlcy5zb3VyY2VfZmluaXNoZWQ6CiAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbihwb3NzaWJsZV9mdWxsX3dvcmRzLCBUcnVlKQogICAgICAgIGVsaWYgbGVuKHBvc3NpYmxlX2Z1bGxfd29yZHMuc3BsaXQoKSkgPiAxOgogICAgICAgICAgICBmdWxsX3dvcmQgPSBwb3NzaWJsZV9mdWxsX3dvcmRzLnNwbGl0KClbMF0KICAgICAgICAgICAgc3RhdGVzLnNvdXJjZSA9IHN0YXRlcy5zb3VyY2VbLTE6XQogICAgICAgICAgICByZXR1cm4gV3JpdGVBY3Rpb24oZnVsbF93b3JkLCBmaW5pc2hlZD1GYWxzZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgogICAgZGVmIGRlY29kZShzZWxmLCB4OiBzdHIpIC0+IHN0cjoKICAgICAgICByZXR1cm4geC5yZXBsYWNlKCIgIiwgIiIpLnJlcGxhY2UoIlx1MjU4MSIsICIgIikuc3RyaXAoKQoKCmNsYXNzIFVuaXRZRGV0b2tlbml6ZXJBZ2VudFN0YXRlcyhBZ2VudFN0YXRlcyk6CiAgICBkZWYgdXBkYXRlX3NvdXJjZShzZWxmLCBzZWdtZW50OiBTZWdtZW50KSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIEV4dHJhY3QgdG9rZW5zIGZyb20gVW5pdFlUZXh0RGVjb2Rlck91dHB1dAogICAgICAgICIiIgogICAgICAgIHNlbGYuc291cmNlX2ZpbmlzaGVkID0gc2VnbWVudC5maW5pc2hlZAogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VnbWVudCwgRW1wdHlTZWdtZW50KToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgIyBUZXh0U2VnbWVudAogICAgICAgIHNlZ21lbnRfY29udGVudDogVW5pdFlUZXh0RGVjb2Rlck91dHB1dCA9IHNlZ21lbnQuY29udGVudAogICAgICAgIHRva2VuID0gc2VnbWVudF9jb250ZW50LnRva2VucwogICAgICAgIHNlbGYuc291cmNlICs9IHRva2VuCgoKY2xhc3MgVW5pdFlEZXRva2VuaXplckFnZW50KERldG9rZW5pemVyQWdlbnQpOgogICAgZGVmIGJ1aWxkX3N0YXRlcyhzZWxmKSAtPiBVbml0WURldG9rZW5pemVyQWdlbnRTdGF0ZXM6CiAgICAgICAgcmV0dXJuIFVuaXRZRGV0b2tlbml6ZXJBZ2VudFN0YXRlcygpCg=='),
    ('seamless/src/seamless_communication/streaming/agents/online_feature_extractor.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBtYXRoCmltcG9ydCB0b3JjaAoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBMaXN0Cgpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlciwgV2F2ZWZvcm1Ub0ZiYW5rSW5wdXQKCmZyb20gc2ltdWxldmFsLmFnZW50cyBpbXBvcnQgU3BlZWNoVG9TcGVlY2hBZ2VudApmcm9tIHNpbXVsZXZhbC5hZ2VudHMuYWN0aW9ucyBpbXBvcnQgQWN0aW9uLCBSZWFkQWN0aW9uLCBXcml0ZUFjdGlvbgpmcm9tIHNpbXVsZXZhbC5kYXRhLnNlZ21lbnRzIGltcG9ydCBTZWdtZW50LCBTcGVlY2hTZWdtZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmNvbW1vbiBpbXBvcnQgQWdlbnRTdGF0ZXMKCgpTSElGVF9TSVpFID0gMTAKV0lORE9XX1NJWkUgPSAyNQpTQU1QTEVfUkFURSA9IDE2MDAwCkZFQVRVUkVfRElNID0gODAKCgpjbGFzcyBGZWF0dXJlU3RhdGVzKEFnZW50U3RhdGVzKTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgcmVzZXQoc2VsZikgLT4gTm9uZToKICAgICAgICBzdXBlcigpLnJlc2V0KCkKICAgICAgICBzZWxmLnByZXZpb3VzX3Jlc2lkdWFsX3NhbXBsZXM6IExpc3RbZmxvYXRdID0gW10KICAgICAgICBzZWxmLnRndF9sYW5nID0gTm9uZQoKICAgIGRlZiB1cGRhdGVfc291cmNlKHNlbGYsIHNlZ21lbnQ6IFNlZ21lbnQpIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgVXBkYXRlIHN0YXRlcyBmcm9tIGlucHV0IHNlZ21lbnQKICAgICAgICBBcmdzOgogICAgICAgICAgICBzZWdtZW50ICh+c2ltdWxldmFsLmFnZW50cy5zZWdtZW50cy5TZWdtZW50KTogaW5wdXQgc2VnbWVudAogICAgICAgICIiIgogICAgICAgIHNlbGYuc291cmNlX2ZpbmlzaGVkID0gc2VnbWVudC5maW5pc2hlZAogICAgICAgIGlmIHNlbGYudGd0X2xhbmcgaXMgTm9uZSBhbmQgc2VnbWVudC50Z3RfbGFuZyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi50Z3RfbGFuZyA9IHNlZ21lbnQudGd0X2xhbmcKICAgICAgICBpZiBub3Qgc2VnbWVudC5pc19lbXB0eToKICAgICAgICAgICAgc2VsZi5zb3VyY2UuYXBwZW5kKHNlZ21lbnQuY29udGVudCkKCgpjbGFzcyBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQoU3BlZWNoVG9TcGVlY2hBZ2VudCk6ICAjIHR5cGU6IGlnbm9yZQogICAgIiIiCiAgICBFeHRyYWN0IHNwZWVjaCBmZWF0dXJlcyBvbiB0aGUgZmx5LgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFyZ3M6IE5hbWVzcGFjZSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhhcmdzKQogICAgICAgIHNlbGYuc2hpZnRfc2l6ZSA9IGFyZ3Muc2hpZnRfc2l6ZQogICAgICAgIHNlbGYud2luZG93X3NpemUgPSBhcmdzLndpbmRvd19zaXplCiAgICAgICAgYXNzZXJ0IHNlbGYud2luZG93X3NpemUgPj0gc2VsZi5zaGlmdF9zaXplCgogICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBhcmdzLnNhbXBsZV9yYXRlCiAgICAgICAgc2VsZi5mZWF0dXJlX2RpbSA9IGFyZ3MuZmVhdHVyZV9kaW0KICAgICAgICBzZWxmLm51bV9zYW1wbGVzX3Blcl9zaGlmdCA9IGludChzZWxmLnNoaWZ0X3NpemUgKiBzZWxmLnNhbXBsZV9yYXRlIC8gMTAwMCkKICAgICAgICBzZWxmLm51bV9zYW1wbGVzX3Blcl93aW5kb3cgPSBpbnQoc2VsZi53aW5kb3dfc2l6ZSAqIHNlbGYuc2FtcGxlX3JhdGUgLyAxMDAwKQogICAgICAgIHNlbGYubGVuX21zX3RvX3NhbXBsZXMgPSBsYW1iZGEgeDogeCAqIHNlbGYuc2FtcGxlX3JhdGUgLyAxMDAwCgogICAgICAgIHNlbGYuY29udmVydF90b19mYmFuayA9IFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlcigKICAgICAgICAgICAgbnVtX21lbF9iaW5zPTgwLAogICAgICAgICAgICB3YXZlZm9ybV9zY2FsZT0yKioxNSBpZiBhcmdzLmRlbm9ybWFsaXplIGVsc2UgMS4wLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1GYWxzZSwKICAgICAgICAgICAgZGV2aWNlPWFyZ3MuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1hcmdzLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfc3RhdGVzKHNlbGYpIC0+IEZlYXR1cmVTdGF0ZXM6CiAgICAgICAgcmV0dXJuIEZlYXR1cmVTdGF0ZXMoKQoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBhZGRfYXJncyhwYXJzZXI6IEFyZ3VtZW50UGFyc2VyKSAtPiBOb25lOgogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXNoaWZ0LXNpemUiLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgZGVmYXVsdD1TSElGVF9TSVpFLAogICAgICAgICAgICBoZWxwPSJTaGlmdCBzaXplIG9mIGZlYXR1cmUgZXh0cmFjdGlvbiB3aW5kb3cuIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0td2luZG93LXNpemUiLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgZGVmYXVsdD1XSU5ET1dfU0laRSwKICAgICAgICAgICAgaGVscD0iV2luZG93IHNpemUgb2YgZmVhdHVyZSBleHRyYWN0aW9uIHdpbmRvdy4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1mZWF0dXJlLWRpbSIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBkZWZhdWx0PUZFQVRVUkVfRElNLAogICAgICAgICAgICBoZWxwPSJBY291c3RpYyBmZWF0dXJlIGRpbWVuc2lvbi4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZW5vcm1hbGl6ZSIsCiAgICAgICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgICAgIGhlbHA9ImRlbm9ybWFsaXplZCB0byAxNi1iaXQgc2lnbmVkIGludGVnZXJzIiwKICAgICAgICApCgogICAgZGVmIHBvbGljeShzZWxmLCBzdGF0ZXM6IEZlYXR1cmVTdGF0ZXMpIC0+IEFjdGlvbjoKICAgICAgICBpZiBsZW4oc3RhdGVzLnNvdXJjZSkgPT0gMDoKICAgICAgICAgICAgaWYgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbih7fSwgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKCiAgICAgICAgc2FtcGxlcyA9IHN0YXRlcy5zb3VyY2VbLTFdCgogICAgICAgIHNhbXBsZXMgPSBzdGF0ZXMucHJldmlvdXNfcmVzaWR1YWxfc2FtcGxlcyArIHNhbXBsZXMKICAgICAgICBpZiBsZW4oc2FtcGxlcykgPCBzZWxmLm51bV9zYW1wbGVzX3Blcl93aW5kb3c6CiAgICAgICAgICAgIHN0YXRlcy5wcmV2aW91c19yZXNpZHVhbF9zYW1wbGVzID0gc2FtcGxlcwogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgogICAgICAgICMgbnVtX2ZyYW1lcyBpcyB0aGUgbnVtYmVyIG9mIGZyYW1lcyBmcm9tIHRoZSBuZXcgc2VnbWVudAogICAgICAgIG51bV9mcmFtZXMgPSBtYXRoLmZsb29yKAogICAgICAgICAgICAobGVuKHNhbXBsZXMpIC0gc2VsZi5sZW5fbXNfdG9fc2FtcGxlcyhzZWxmLndpbmRvd19zaXplIC0gc2VsZi5zaGlmdF9zaXplKSkKICAgICAgICAgICAgLyBzZWxmLm51bV9zYW1wbGVzX3Blcl9zaGlmdAogICAgICAgICkKCiAgICAgICAgIyB0aGUgbnVtYmVyIG9mIGZyYW1lcyB1c2VkIGZvciBmZWF0dXJlIGV4dHJhY3Rpb24KICAgICAgICAjIGluY2x1ZGluZyBzb21lIHBhcnQgb2YgdGhlIHByZXZpb3VzIHNlZ21lbnQKICAgICAgICBlZmZlY3RpdmVfbnVtX3NhbXBsZXMgPSBpbnQoCiAgICAgICAgICAgIG51bV9mcmFtZXMgKiBzZWxmLmxlbl9tc190b19zYW1wbGVzKHNlbGYuc2hpZnRfc2l6ZSkKICAgICAgICAgICAgKyBzZWxmLmxlbl9tc190b19zYW1wbGVzKHNlbGYud2luZG93X3NpemUgLSBzZWxmLnNoaWZ0X3NpemUpCiAgICAgICAgKQoKICAgICAgICBpbnB1dF9zYW1wbGVzID0gc2FtcGxlc1s6ZWZmZWN0aXZlX251bV9zYW1wbGVzXQogICAgICAgIHN0YXRlcy5wcmV2aW91c19yZXNpZHVhbF9zYW1wbGVzID0gc2FtcGxlc1sKICAgICAgICAgICAgbnVtX2ZyYW1lcyAqIHNlbGYubnVtX3NhbXBsZXNfcGVyX3NoaWZ0IDoKICAgICAgICBdCgogICAgICAgIGRhdGE6IFdhdmVmb3JtVG9GYmFua0lucHV0ID0gewogICAgICAgICAgICAid2F2ZWZvcm0iOiB0b3JjaC50ZW5zb3IoaW5wdXRfc2FtcGxlcykudW5zcXVlZXplKDApLAogICAgICAgICAgICAic2FtcGxlX3JhdGUiOiBzZWxmLnNhbXBsZV9yYXRlLAogICAgICAgIH0KCiAgICAgICAgb3V0cHV0ID0gc2VsZi5jb252ZXJ0X3RvX2ZiYW5rKGRhdGEpWyJmYmFuayJdCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigKICAgICAgICAgICAgU3BlZWNoU2VnbWVudCgKICAgICAgICAgICAgICAgIGNvbnRlbnQ9b3V0cHV0LAogICAgICAgICAgICAgICAgdGd0X2xhbmc9c3RhdGVzLnRndF9sYW5nLAogICAgICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogQW55LCAqKmt3YXJnczogQW55KSAtPiBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQ6CiAgICAgICAgcmV0dXJuIGNscyhhcmdzKQo='),
    ('seamless/src/seamless_communication/streaming/agents/pretssel_vocoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBsb2dnaW5nCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUKZnJvbSBmYWlyc2VxMi5kYXRhLmF1ZGlvIGltcG9ydCBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIsIFdhdmVmb3JtVG9GYmFua0lucHV0CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuZ2VuZXJhdG9yLmxvYWRlciBpbXBvcnQgbG9hZF9wcmV0c3NlbF92b2NvZGVyX21vZGVsCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0IGxvYWRfZ2Ntdm5fc3RhdHMKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0b3JlIGltcG9ydCBhZGRfZ2F0ZWRfYXNzZXRzCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmNvbW1vbiBpbXBvcnQgKAogICAgQWdlbnRTdGF0ZXMsCiAgICBOb1VwZGF0ZVRhcmdldE1peGluLAopCmZyb20gc2ltdWxldmFsLmFnZW50cyBpbXBvcnQgVGV4dFRvU3BlZWNoQWdlbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IFJlYWRBY3Rpb24sIFdyaXRlQWN0aW9uCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNwZWVjaFNlZ21lbnQKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgUHJldHNzZWxWb2NvZGVyQWdlbnQoTm9VcGRhdGVUYXJnZXRNaXhpbiwgVGV4dFRvU3BlZWNoQWdlbnQpOiAgIyB0eXBlOiBpZ25vcmUKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBhcmdzOiBOYW1lc3BhY2UpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhhcmdzKQoKICAgICAgICBpZiBhcmdzLmdhdGVkX21vZGVsX2RpcjoKICAgICAgICAgICAgYWRkX2dhdGVkX2Fzc2V0cyhhcmdzLmdhdGVkX21vZGVsX2RpcikKCiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgIGYiTG9hZGluZyB0aGUgVm9jb2RlciBtb2RlbDoge2FyZ3Mudm9jb2Rlcl9uYW1lfSBvbiBkZXZpY2U9e2FyZ3MuZGV2aWNlfSwgZHR5cGU9e2FyZ3MuZHR5cGV9IgogICAgICAgICkKICAgICAgICBhc3NlcnQgInByZXRzc2VsIiBpbiBhcmdzLnZvY29kZXJfbmFtZQogICAgICAgIHNlbGYudm9jb2RlciA9IGxvYWRfcHJldHNzZWxfdm9jb2Rlcl9tb2RlbCgKICAgICAgICAgICAgYXJncy52b2NvZGVyX25hbWUsIGRldmljZT1hcmdzLmRldmljZSwgZHR5cGU9YXJncy5kdHlwZQogICAgICAgICkKICAgICAgICBzZWxmLnZvY29kZXIuZXZhbCgpCgogICAgICAgIHZvY29kZXJfbW9kZWxfY2FyZCA9IGFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQoYXJncy52b2NvZGVyX25hbWUpCiAgICAgICAgc2VsZi52b2NvZGVyX3NhbXBsZV9yYXRlID0gdm9jb2Rlcl9tb2RlbF9jYXJkLmZpZWxkKCJzYW1wbGVfcmF0ZSIpLmFzXyhpbnQpCiAgICAgICAgc2VsZi52b2NvZGVyX2xhbmdzID0gdm9jb2Rlcl9tb2RlbF9jYXJkLmZpZWxkKCJtb2RlbF9jb25maWciKS5maWVsZCgibGFuZ3MiKS5hc19saXN0KHN0cikKCiAgICAgICAgc2VsZi51cHN0cmVhbV9pZHggPSBhcmdzLnVwc3RyZWFtX2lkeAogICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBhcmdzLnNhbXBsZV9yYXRlICAjIGlucHV0IHNhbXBsZSByYXRlCiAgICAgICAgc2VsZi50Z3RfbGFuZyA9IGFyZ3MudGd0X2xhbmcKICAgICAgICBzZWxmLmNvbnZlcnRfdG9fZmJhbmsgPSBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoCiAgICAgICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgICAgIGNoYW5uZWxfbGFzdD1UcnVlLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1GYWxzZSwKICAgICAgICAgICAgZGV2aWNlPWFyZ3MuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1hcmdzLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgX2djbXZuX21lYW4sIF9nY212bl9zdGQgPSBsb2FkX2djbXZuX3N0YXRzKGFyZ3Mudm9jb2Rlcl9uYW1lKQogICAgICAgIHNlbGYuZ2Ntdm5fbWVhbiA9IHRvcmNoLnRlbnNvcigKICAgICAgICAgICAgX2djbXZuX21lYW4sIGRldmljZT1hcmdzLmRldmljZSwgZHR5cGU9YXJncy5kdHlwZQogICAgICAgICkKICAgICAgICBzZWxmLmdjbXZuX3N0ZCA9IHRvcmNoLnRlbnNvcihfZ2Ntdm5fc3RkLCBkZXZpY2U9YXJncy5kZXZpY2UsIGR0eXBlPWFyZ3MuZHR5cGUpCgogICAgZGVmIGdjbXZuX25vcm1hbGl6ZShzZWxmLCBzZXFzOiB0b3JjaC5UZW5zb3IpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICByZXN1bHQ6IHRvcmNoLlRlbnNvciA9IHNlcXMuc3VidHJhY3Qoc2VsZi5nY212bl9tZWFuKS5kaXZpZGUoc2VsZi5nY212bl9zdGQpCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogQWdlbnRTdGF0ZXMpIC0+IFdyaXRlQWN0aW9uOgogICAgICAgICIiIgogICAgICAgIFRoZSBwb2xpY3kgaXMgYWx3YXlzIHdyaXRlIGlmIHRoZXJlIGlzIGEgd2F2ZWZvcm0KICAgICAgICAiIiIKICAgICAgICB1bml0cyA9IHN0YXRlcy5zb3VyY2UKCiAgICAgICAgaWYgbGVuKHVuaXRzKSA9PSAwIG9yIGxlbih1bml0c1swXSkgPT0gMDoKICAgICAgICAgICAgaWYgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbihjb250ZW50PVtdLCBmaW5pc2hlZD1UcnVlKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIFJlYWRBY3Rpb24oKQoKICAgICAgICB1bml0ID0gdW5pdHNbMF1bMF0KCiAgICAgICAgIyBhZGp1c3QgdGhlIGNvbnRyb2wgc3ltYm9scyBmb3IgdGhlIGVtYmVkZGluZwogICAgICAgIHVuaXQgKz0gNAoKICAgICAgICB1bml0LCBkdXJhdGlvbiA9IHRvcmNoLnVuaXF1ZV9jb25zZWN1dGl2ZSh1bml0LCByZXR1cm5fY291bnRzPVRydWUpCgogICAgICAgIGR1cmF0aW9uICo9IDIKCiAgICAgICAgaWYgaXNpbnN0YW5jZShzdGF0ZXMudXBzdHJlYW1fc3RhdGVzW3NlbGYudXBzdHJlYW1faWR4XS5zb3VyY2UsIGxpc3QpOgogICAgICAgICAgICBzb3VyY2U6IExpc3RbZmxvYXRdID0gc3VtKAogICAgICAgICAgICAgICAgc3RhdGVzLnVwc3RyZWFtX3N0YXRlc1tzZWxmLnVwc3RyZWFtX2lkeF0uc291cmNlLCBbXQogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc291cmNlID0gc3RhdGVzLnVwc3RyZWFtX3N0YXRlc1tzZWxmLnVwc3RyZWFtX2lkeF0uc291cmNlCgogICAgICAgIGF1ZGlvX2RpY3Q6IFdhdmVmb3JtVG9GYmFua0lucHV0ID0gewogICAgICAgICAgICAid2F2ZWZvcm0iOiB0b3JjaC50ZW5zb3IoCiAgICAgICAgICAgICAgICBzb3VyY2UsIGR0eXBlPXRvcmNoLmZsb2F0MzIsIGRldmljZT1zZWxmLmRldmljZQogICAgICAgICAgICApLnVuc3F1ZWV6ZSgxKSwKICAgICAgICAgICAgInNhbXBsZV9yYXRlIjogc2VsZi5zYW1wbGVfcmF0ZSwKICAgICAgICB9CgogICAgICAgIGZlYXRzID0gc2VsZi5jb252ZXJ0X3RvX2ZiYW5rKGF1ZGlvX2RpY3QpWyJmYmFuayJdCgogICAgICAgIGZlYXRzID0gc2VsZi5nY212bl9ub3JtYWxpemUoZmVhdHMpCgogICAgICAgIHRndF9sYW5nID0gc3RhdGVzLnRndF9sYW5nIGlmIHN0YXRlcy50Z3RfbGFuZyBlbHNlIHNlbGYudGd0X2xhbmcKCiAgICAgICAgCiAgICAgICAgaWYgdGd0X2xhbmcgbm90IGluIHNlbGYudm9jb2Rlcl9sYW5nczoKICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoZiJ7dGd0X2xhbmd9IG5vdCBzdXBwb3J0ZWQhIikKICAgICAgICAgICAgY29udGVudCA9IFtdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgd2F2ID0gc2VsZi52b2NvZGVyKAogICAgICAgICAgICAgICAgdW5pdCwKICAgICAgICAgICAgICAgIHRndF9sYW5nPXRndF9sYW5nLAogICAgICAgICAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzPWZlYXRzLAogICAgICAgICAgICAgICAgZHVyYXRpb25zPWR1cmF0aW9uLnVuc3F1ZWV6ZSgwKSwKICAgICAgICAgICAgICAgIG5vcm1hbGl6ZV9iZWZvcmU9VHJ1ZSwKICAgICAgICAgICAgKQogICAgICAgICAgICBjb250ZW50ID0gd2F2WzBdWzBdWzBdLnRvbGlzdCgpCgogICAgICAgIHN0YXRlcy5zb3VyY2UgPSBbXQoKICAgICAgICByZXR1cm4gV3JpdGVBY3Rpb24oCiAgICAgICAgICAgIFNwZWVjaFNlZ21lbnQoCiAgICAgICAgICAgICAgICBjb250ZW50PWNvbnRlbnQsCiAgICAgICAgICAgICAgICBmaW5pc2hlZD1zdGF0ZXMuc291cmNlX2ZpbmlzaGVkLAogICAgICAgICAgICAgICAgc2FtcGxlX3JhdGU9c2VsZi52b2NvZGVyX3NhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgdGd0X2xhbmc9dGd0X2xhbmcsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGZpbmlzaGVkPXN0YXRlcy5zb3VyY2VfZmluaXNoZWQsCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGFkZF9hcmdzKGNscywgcGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1nYXRlZC1tb2RlbC1kaXIiLAogICAgICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgICAgIHJlcXVpcmVkPUZhbHNlLAogICAgICAgICAgICBoZWxwPSJTZWFtbGVzc0V4cHJlc3NpdmUgbW9kZWwgZGlyZWN0b3J5LiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXZvY29kZXItbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSJWb2NvZGVyIG5hbWUgLSB2b2NvZGVyX3ByZXRzc2VsIG9yIHZvY29kZXJfcHJldHNzZWxfMTZraHoiLAogICAgICAgICAgICBkZWZhdWx0PSJ2b2NvZGVyX3ByZXRzc2VsIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdXBzdHJlYW0taWR4IiwKICAgICAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgICAgIGRlZmF1bHQ9MCwKICAgICAgICAgICAgaGVscD0iaW5kZXggb2YgZW5jb2RlciBzdGF0ZXMgd2hlcmUgc3RhdGVzLnNvdXJjZSBjb250YWlucyBpbnB1dCBhdWRpbyIsCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fYXJncygKICAgICAgICBjbHMsIGFyZ3M6IE5hbWVzcGFjZSwgKiprd2FyZ3M6IERpY3Rbc3RyLCBBbnldCiAgICApIC0+IFByZXRzc2VsVm9jb2RlckFnZW50OgogICAgICAgIHJldHVybiBjbHMoYXJncykK'),
    ('seamless/src/seamless_communication/streaming/agents/silero_vad.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IGxvZ2dpbmcKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmltcG9ydCBxdWV1ZQppbXBvcnQgcmFuZG9tCmltcG9ydCB0aW1lCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSBvcyBpbXBvcnQgU0VFS19FTkQKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgTGlzdCwgT3B0aW9uYWwsIFVuaW9uCgppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHRvcmNoCmltcG9ydCBzb3VuZGZpbGUKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMuY29tbW9uIGltcG9ydCAoCiAgICBBZ2VudFN0YXRlcywKICAgIEVhcmx5U3RvcHBpbmdNaXhpbiwKKQpmcm9tIHNpbXVsZXZhbC5hZ2VudHMgaW1wb3J0IFNwZWVjaFRvU3BlZWNoQWdlbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IEFjdGlvbiwgUmVhZEFjdGlvbiwgV3JpdGVBY3Rpb24KZnJvbSBzaW11bGV2YWwuZGF0YS5zZWdtZW50cyBpbXBvcnQgRW1wdHlTZWdtZW50LCBTZWdtZW50LCBTcGVlY2hTZWdtZW50Cgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgpTUEVFQ0hfUFJPQl9USFJFU0hPTEQgPSAwLjYKCgpjbGFzcyBTaWxlcm9WQURTdGF0ZXMoRWFybHlTdG9wcGluZ01peGluLCBBZ2VudFN0YXRlcyk6ICAjIHR5cGU6IGlnbm9yZQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFyZ3M6IE5hbWVzcGFjZSkgLT4gTm9uZToKICAgICAgICBzZWxmLm1vZGVsLCB1dGlscyA9IHRvcmNoLmh1Yi5sb2FkKAogICAgICAgICAgICByZXBvX29yX2Rpcj0ic25ha2VyczQvc2lsZXJvLXZhZCIsCiAgICAgICAgICAgIG1vZGVsPSJzaWxlcm9fdmFkIiwKICAgICAgICAgICAgZm9yY2VfcmVsb2FkPUZhbHNlLAogICAgICAgICAgICBvbm54PUZhbHNlLAogICAgICAgICkKCiAgICAgICAgKAogICAgICAgICAgICBzZWxmLmdldF9zcGVlY2hfdGltZXN0YW1wcywKICAgICAgICAgICAgc2VsZi5zYXZlX2F1ZGlvLAogICAgICAgICAgICBzZWxmLnJlYWRfYXVkaW8sCiAgICAgICAgICAgIHNlbGYuVkFESXRlcmF0b3IsCiAgICAgICAgICAgIHNlbGYuY29sbGVjdF9jaHVua3MsCiAgICAgICAgKSA9IHV0aWxzCiAgICAgICAgc2VsZi5zaWxlbmNlX2xpbWl0X21zID0gYXJncy5zaWxlbmNlX2xpbWl0X21zCiAgICAgICAgc2VsZi5zcGVlY2hfc29mdF9saW1pdF9tcyA9IGFyZ3Muc3BlZWNoX3NvZnRfbGltaXRfbXMKICAgICAgICBzZWxmLndpbmRvd19zaXplX3NhbXBsZXMgPSBhcmdzLndpbmRvd19zaXplX3NhbXBsZXMKICAgICAgICBzZWxmLmNodW5rX3NpemVfc2FtcGxlcyA9IGFyZ3MuY2h1bmtfc2l6ZV9zYW1wbGVzCiAgICAgICAgc2VsZi5zYW1wbGVfcmF0ZSA9IGFyZ3Muc2FtcGxlX3JhdGUKICAgICAgICBzZWxmLmluaXRfc3BlZWNoX3Byb2IgPSBhcmdzLmluaXRfc3BlZWNoX3Byb2IKICAgICAgICBzZWxmLmRlYnVnID0gYXJncy5kZWJ1ZwogICAgICAgIHNlbGYudGVzdF9pbnB1dF9zZWdtZW50c193YXYgPSBOb25lCiAgICAgICAgc2VsZi5kZWJ1Z19sb2coYXJncykKICAgICAgICBzZWxmLmlucHV0X3F1ZXVlOiBxdWV1ZS5RdWV1ZVtTZWdtZW50XSA9IHF1ZXVlLlF1ZXVlKCkKICAgICAgICBzZWxmLm5leHRfaW5wdXRfcXVldWU6IHF1ZXVlLlF1ZXVlW1NlZ21lbnRdID0gcXVldWUuUXVldWUoKQogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgIGRlZiBjbGVhcl9xdWV1ZXMoc2VsZikgLT4gTm9uZToKICAgICAgICB3aGlsZSBub3Qgc2VsZi5pbnB1dF9xdWV1ZS5lbXB0eSgpOgogICAgICAgICAgICBzZWxmLmlucHV0X3F1ZXVlLmdldF9ub3dhaXQoKQogICAgICAgICAgICBzZWxmLmlucHV0X3F1ZXVlLnRhc2tfZG9uZSgpCiAgICAgICAgIyBtb3ZlIGV2ZXJ5dGhpbmcgZnJvbSBuZXh0X2lucHV0X3F1ZXVlIHRvIGlucHV0X3F1ZXVlCiAgICAgICAgd2hpbGUgbm90IHNlbGYubmV4dF9pbnB1dF9xdWV1ZS5lbXB0eSgpOgogICAgICAgICAgICBjaHVuayA9IHNlbGYubmV4dF9pbnB1dF9xdWV1ZS5nZXRfbm93YWl0KCkKICAgICAgICAgICAgc2VsZi5uZXh0X2lucHV0X3F1ZXVlLnRhc2tfZG9uZSgpCiAgICAgICAgICAgIHNlbGYuaW5wdXRfcXVldWUucHV0X25vd2FpdChjaHVuaykKCiAgICBkZWYgcmVzZXQoc2VsZikgLT4gTm9uZToKICAgICAgICBzdXBlcigpLnJlc2V0KCkKICAgICAgICAjIFRPRE86IGluIHNlYW1sZXNzX3NlcnZlciwgcmVwb3J0IGxhdGVuY3kgZm9yIGVhY2ggbmV3IHNlZ21lbnQKICAgICAgICBzZWxmLmZpcnN0X2lucHV0X3RzOiBPcHRpb25hbFtmbG9hdF0gPSBOb25lCiAgICAgICAgc2VsZi5zaWxlbmNlX2FjY19tcyA9IDAKICAgICAgICBzZWxmLnNwZWVjaF9hY2NfbXMgPSAwCiAgICAgICAgc2VsZi5pbnB1dF9jaHVuazogbnAubmRhcnJheVtBbnksIG5wLmR0eXBlW25wLmludDE2XV0gPSBucC5lbXB0eSgKICAgICAgICAgICAgMCwgZHR5cGU9bnAuaW50MTYKICAgICAgICApCiAgICAgICAgc2VsZi5pc19mcmVzaF9zdGF0ZSA9IFRydWUKICAgICAgICBzZWxmLmNsZWFyX3F1ZXVlcygpCiAgICAgICAgc2VsZi5tb2RlbC5yZXNldF9zdGF0ZXMoKQogICAgICAgIHNlbGYuY29uc2VjdXRpdmVfc2lsZW5jZV9kZWNheV9jb3VudCA9IDAKCiAgICBkZWYgcmVzZXRfZWFybHkoc2VsZikgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICBEb24ndCByZXNldCBzdGF0ZSBiZWZvcmUgRU9TCiAgICAgICAgIiIiCiAgICAgICAgcGFzcwoKICAgIGRlZiBnZXRfc3BlZWNoX3Byb2JfZnJvbV9ucF9mbG9hdDMyKAogICAgICAgIHNlbGYsIHNlZ21lbnQ6IG5wLm5kYXJyYXlbQW55LCBucC5kdHlwZVtucC5mbG9hdDMyXV0KICAgICkgLT4gTGlzdFtBbnldOgogICAgICAgIHQgPSB0b3JjaC5mcm9tX251bXB5KHNlZ21lbnQpCiAgICAgICAgc3BlZWNoX3Byb2JzID0gW10KICAgICAgICAjIFRPRE86IHJ1biBzZWxmLm1vZGVsIGluIGJhdGNoPwogICAgICAgIGZvciBpIGluIHJhbmdlKDAsIGxlbih0KSwgc2VsZi53aW5kb3dfc2l6ZV9zYW1wbGVzKToKICAgICAgICAgICAgY2h1bmsgPSB0W2kgOiBpICsgc2VsZi53aW5kb3dfc2l6ZV9zYW1wbGVzXQogICAgICAgICAgICBpZiBsZW4oY2h1bmspIDwgc2VsZi53aW5kb3dfc2l6ZV9zYW1wbGVzOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgc3BlZWNoX3Byb2IgPSBzZWxmLm1vZGVsKGNodW5rLCBzZWxmLnNhbXBsZV9yYXRlKS5pdGVtKCkKICAgICAgICAgICAgc3BlZWNoX3Byb2JzLmFwcGVuZChzcGVlY2hfcHJvYikKICAgICAgICByZXR1cm4gc3BlZWNoX3Byb2JzCgogICAgZGVmIGRlYnVnX2xvZyhzZWxmLCBtOiBBbnkpIC0+IE5vbmU6CiAgICAgICAgaWYgc2VsZi5kZWJ1ZzoKICAgICAgICAgICAgbG9nZ2VyLmluZm8obSkKCiAgICBkZWYgcHJvY2Vzc19zcGVlY2goCiAgICAgICAgc2VsZiwKICAgICAgICBzZWdtZW50OiBVbmlvbltucC5uZGFycmF5W0FueSwgbnAuZHR5cGVbbnAuZmxvYXQzMl1dLCBTZWdtZW50XSwKICAgICAgICB0Z3RfbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgUHJvY2VzcyBhIGZ1bGwgb3IgcGFydGlhbCBzcGVlY2ggY2h1bmsKICAgICAgICAiIiIKICAgICAgICBxdWV1ZSA9IHNlbGYuaW5wdXRfcXVldWUKICAgICAgICBpZiBzZWxmLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgIyBjdXJyZW50IHNvdXJjZSBpcyBmaW5pc2hlZCwgYnV0IG5leHQgc3BlZWNoIHN0YXJ0cyB0byBjb21lIGluIGFscmVhZHkKICAgICAgICAgICAgc2VsZi5kZWJ1Z19sb2coInVzZSBuZXh0X2lucHV0X3F1ZXVlIikKICAgICAgICAgICAgcXVldWUgPSBzZWxmLm5leHRfaW5wdXRfcXVldWUKCiAgICAgICAgaWYgc2VsZi5maXJzdF9pbnB1dF90cyBpcyBOb25lOgogICAgICAgICAgICBzZWxmLmZpcnN0X2lucHV0X3RzID0gdGltZS50aW1lKCkgKiAxMDAwCgogICAgICAgIHdoaWxlIGxlbihzZWdtZW50KSA+IDA6CiAgICAgICAgICAgICMgYWRkIGNodW5rcyB0byBzdGF0ZXMuYnVmZmVyCiAgICAgICAgICAgIGkgPSBzZWxmLmNodW5rX3NpemVfc2FtcGxlcyAtIGxlbihzZWxmLmlucHV0X2NodW5rKQogICAgICAgICAgICBzZWxmLmlucHV0X2NodW5rID0gbnAuY29uY2F0ZW5hdGUoKHNlbGYuaW5wdXRfY2h1bmssIHNlZ21lbnRbOmldKSkKICAgICAgICAgICAgc2VnbWVudCA9IHNlZ21lbnRbaTpdCiAgICAgICAgICAgIHNlbGYuaXNfZnJlc2hfc3RhdGUgPSBGYWxzZQogICAgICAgICAgICBpZiBsZW4oc2VsZi5pbnB1dF9jaHVuaykgPT0gc2VsZi5jaHVua19zaXplX3NhbXBsZXM6CiAgICAgICAgICAgICAgICBxdWV1ZS5wdXRfbm93YWl0KAogICAgICAgICAgICAgICAgICAgIFNwZWVjaFNlZ21lbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9c2VsZi5pbnB1dF9jaHVuaywgZmluaXNoZWQ9RmFsc2UsIHRndF9sYW5nPXRndF9sYW5nCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgc2VsZi5pbnB1dF9jaHVuayA9IG5wLmVtcHR5KDAsIGR0eXBlPW5wLmludDE2KQoKICAgIGRlZiBjaGVja19zaWxlbmNlX2FjYyhzZWxmLCB0Z3RfbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc2lsZW5jZV9saW1pdF9tcyA9IHNlbGYuc2lsZW5jZV9saW1pdF9tcwogICAgICAgIGlmIHNlbGYuc3BlZWNoX2FjY19tcyA+PSBzZWxmLnNwZWVjaF9zb2Z0X2xpbWl0X21zOgogICAgICAgICAgICBzZWxmLmRlYnVnX2xvZygiaW5jcmVhc2Ugc3BlZWNoIHRocmVzaG9sZCIpCiAgICAgICAgICAgIHNpbGVuY2VfbGltaXRfbXMgPSBzZWxmLnNpbGVuY2VfbGltaXRfbXMgLy8gMgogICAgICAgIHNlbGYuZGVidWdfbG9nKGYic2lsZW5jZV9hY2NfbXM6IHtzZWxmLnNpbGVuY2VfYWNjX21zfSIpCiAgICAgICAgaWYgc2VsZi5zaWxlbmNlX2FjY19tcyA+PSBzaWxlbmNlX2xpbWl0X21zOgogICAgICAgICAgICBzZWxmLmRlYnVnX2xvZygiPT09IGVuZCBvZiBzZWdtZW50IikKICAgICAgICAgICAgIyBzb3VyY2UgdXR0ZXJhbmNlIGZpbmlzaGVkCiAgICAgICAgICAgIHNlbGYuc2lsZW5jZV9hY2NfbXMgPSAwCiAgICAgICAgICAgIHNlbGYuc3BlZWNoX2FjY19tcyA9IDAKICAgICAgICAgICAgaWYgc2VsZi5pbnB1dF9jaHVuay5zaXplID4gMDoKICAgICAgICAgICAgICAgICMgZmx1c2ggcGFydGlhbCBpbnB1dF9jaHVuawogICAgICAgICAgICAgICAgc2VsZi5pbnB1dF9xdWV1ZS5wdXRfbm93YWl0KAogICAgICAgICAgICAgICAgICAgIFNwZWVjaFNlZ21lbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9c2VsZi5pbnB1dF9jaHVuaywgdGd0X2xhbmc9dGd0X2xhbmcsIGZpbmlzaGVkPVRydWUKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBzZWxmLmlucHV0X2NodW5rID0gbnAuZW1wdHkoMCwgZHR5cGU9bnAuaW50MTYpCiAgICAgICAgICAgIHNlbGYuaW5wdXRfcXVldWUucHV0X25vd2FpdChFbXB0eVNlZ21lbnQoZmluaXNoZWQ9VHJ1ZSkpCiAgICAgICAgICAgIHNlbGYuc291cmNlX2ZpbmlzaGVkID0gVHJ1ZQogICAgICAgICAgICBzZWxmLmRlYnVnX3dyaXRlX3dhdihucC5lbXB0eSgwLCBkdHlwZT1ucC5pbnQxNiksIGZpbmlzaGVkPVRydWUpCgogICAgZGVmIGRlY2F5X3NpbGVuY2VfYWNjX21zKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgc2VsZi5jb25zZWN1dGl2ZV9zaWxlbmNlX2RlY2F5X2NvdW50IDw9IDI6CiAgICAgICAgICAgIHNlbGYuc2lsZW5jZV9hY2NfbXMgPSBzZWxmLnNpbGVuY2VfYWNjX21zIC8vIDIKICAgICAgICAgICAgc2VsZi5jb25zZWN1dGl2ZV9zaWxlbmNlX2RlY2F5X2NvdW50ICs9IDEKCiAgICBkZWYgdXBkYXRlX3NvdXJjZSgKICAgICAgICBzZWxmLCBzZWdtZW50OiBVbmlvbltucC5uZGFycmF5W0FueSwgbnAuZHR5cGVbbnAuZmxvYXQzMl1dLCBTZWdtZW50XQogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIERlZmF1bHQgdmFsdWUgZm9yIHRoZSBzZWdtZW50IGluIHRoZSB1cGRhdGVfc291cmNlIG1ldGhvZCBpcyBhIHNlZ21lbnQKICAgICAgICBDbGFzcywgZm9yIHNvbWUgcmVhc29uIHRoaXMgaW50ZXJmYWNlIGRpZG4ndCBhbGlnbiB3aXRoIG90aGVyIGludGVyZmFjZXMKICAgICAgICBBZGRpbmcgdGhpcyBjaGFuZ2UgaGVyZSB0byBzdXBwb3J0IGJvdGggbnAubmRhcnJheSBhbmQgU2VnbWVudCBjbGFzcwogICAgICAgICIiIgogICAgICAgIHRndF9sYW5nID0gTm9uZQogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VnbWVudCwgU3BlZWNoU2VnbWVudCk6CiAgICAgICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBzZWdtZW50LnNhbXBsZV9yYXRlCiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VnbWVudCwgInRndF9sYW5nIikgYW5kIHNlZ21lbnQudGd0X2xhbmcgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICB0Z3RfbGFuZyA9IHNlZ21lbnQudGd0X2xhbmcKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShzZWdtZW50LmNvbnRlbnQsIG5wLm5kYXJyYXkpOgogICAgICAgICAgICAgICAgc2VnbWVudCA9IG5wLmFycmF5KHNlZ21lbnQuY29udGVudCwgZHR5cGU9bnAuZmxvYXQzMikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlZ21lbnQgPSBzZWdtZW50LmNvbnRlbnQKICAgICAgICBzcGVlY2hfcHJvYnMgPSBzZWxmLmdldF9zcGVlY2hfcHJvYl9mcm9tX25wX2Zsb2F0MzIoc2VnbWVudCkKICAgICAgICBjaHVua19zaXplX21zID0gbGVuKHNlZ21lbnQpICogMTAwMCAvIHNlbGYuc2FtcGxlX3JhdGUKICAgICAgICB3aW5kb3dfc2l6ZV9tcyA9IHNlbGYud2luZG93X3NpemVfc2FtcGxlcyAqIDEwMDAgLyBzZWxmLnNhbXBsZV9yYXRlCiAgICAgICAgY29uc2VjdXRpdmVfc2lsZW5jZV9kZWNheSA9IEZhbHNlCiAgICAgICAgaWYgc2VsZi5pc19mcmVzaF9zdGF0ZSBhbmQgc2VsZi5pbml0X3NwZWVjaF9wcm9iID4gMDoKICAgICAgICAgICAgdGhyZXNob2xkID0gU1BFRUNIX1BST0JfVEhSRVNIT0xEICsgc2VsZi5pbml0X3NwZWVjaF9wcm9iCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdGhyZXNob2xkID0gU1BFRUNIX1BST0JfVEhSRVNIT0xECiAgICAgICAgaWYgYWxsKGkgPD0gdGhyZXNob2xkIGZvciBpIGluIHNwZWVjaF9wcm9icyk6CiAgICAgICAgICAgIGlmIHNlbGYuc291cmNlX2ZpbmlzaGVkOgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIHNlbGYuZGVidWdfbG9nKCJnb3Qgc2lsZW50IGNodW5rIikKICAgICAgICAgICAgaWYgbm90IHNlbGYuaXNfZnJlc2hfc3RhdGU6CiAgICAgICAgICAgICAgICBzZWxmLnNpbGVuY2VfYWNjX21zICs9IGNodW5rX3NpemVfbXMKICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tfc2lsZW5jZV9hY2ModGd0X2xhbmcpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGVsaWYgc3BlZWNoX3Byb2JzWy0xXSA8PSB0aHJlc2hvbGQ6CiAgICAgICAgICAgIHNlbGYuZGVidWdfbG9nKCI9PT0gc3RhcnQgb2Ygc2lsZW5jZSBjaHVuayIpCiAgICAgICAgICAgICMgYmVnaW5uaW5nID0gc3BlZWNoLCBlbmQgPSBzaWxlbmNlCiAgICAgICAgICAgICMgcGFzcyB0byBwcm9jZXNzX3NwZWVjaCBhbmQgYWNjdW11bGF0ZSBzaWxlbmNlCiAgICAgICAgICAgIHNlbGYuc3BlZWNoX2FjY19tcyArPSBjaHVua19zaXplX21zCiAgICAgICAgICAgIGNvbnNlY3V0aXZlX3NpbGVuY2VfZGVjYXkgPSBUcnVlCiAgICAgICAgICAgIHNlbGYuZGVjYXlfc2lsZW5jZV9hY2NfbXMoKQogICAgICAgICAgICBzZWxmLnByb2Nlc3Nfc3BlZWNoKHNlZ21lbnQsIHRndF9sYW5nKQogICAgICAgICAgICAjIGFjY3VtdWxhdGUgY29udGlndW91cyBzaWxlbmNlCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihzcGVlY2hfcHJvYnMpIC0gMSwgLTEsIC0xKToKICAgICAgICAgICAgICAgIGlmIHNwZWVjaF9wcm9ic1tpXSA+IHRocmVzaG9sZDoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgc2VsZi5zaWxlbmNlX2FjY19tcyArPSB3aW5kb3dfc2l6ZV9tcwogICAgICAgICAgICBzZWxmLmNoZWNrX3NpbGVuY2VfYWNjKHRndF9sYW5nKQogICAgICAgIGVsaWYgc3BlZWNoX3Byb2JzWzBdIDw9IHRocmVzaG9sZDoKICAgICAgICAgICAgc2VsZi5kZWJ1Z19sb2coIj09PSBzdGFydCBvZiBzcGVlY2ggY2h1bmsiKQogICAgICAgICAgICAjIGJlZ2lubmluZyA9IHNpbGVuY2UsIGVuZCA9IHNwZWVjaAogICAgICAgICAgICAjIGFjY3VtdWxhdGUgc2lsZW5jZSAsIHBhc3MgbmV4dCB0byBwcm9jZXNzX3NwZWVjaAogICAgICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBsZW4oc3BlZWNoX3Byb2JzKSk6CiAgICAgICAgICAgICAgICBpZiBzcGVlY2hfcHJvYnNbaV0gPiB0aHJlc2hvbGQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIHNlbGYuc2lsZW5jZV9hY2NfbXMgKz0gd2luZG93X3NpemVfbXMKICAgICAgICAgICAgIyB0cnkgbm90IHRvIHNwbGl0IHJpZ2h0IGJlZm9yZSBzcGVlY2gKICAgICAgICAgICAgc2VsZi5zaWxlbmNlX2FjY19tcyA9IHNlbGYuc2lsZW5jZV9hY2NfbXMgLy8gMgogICAgICAgICAgICBzZWxmLmNoZWNrX3NpbGVuY2VfYWNjKHRndF9sYW5nKQogICAgICAgICAgICBzZWxmLnNwZWVjaF9hY2NfbXMgKz0gY2h1bmtfc2l6ZV9tcwogICAgICAgICAgICBzZWxmLnByb2Nlc3Nfc3BlZWNoKHNlZ21lbnQsIHRndF9sYW5nKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuc3BlZWNoX2FjY19tcyArPSBjaHVua19zaXplX21zCiAgICAgICAgICAgIHNlbGYuZGVidWdfbG9nKCI9PT09PT09PSBnb3Qgc3BlZWNoIGNodW5rIikKICAgICAgICAgICAgY29uc2VjdXRpdmVfc2lsZW5jZV9kZWNheSA9IFRydWUKICAgICAgICAgICAgc2VsZi5kZWNheV9zaWxlbmNlX2FjY19tcygpCiAgICAgICAgICAgIHNlbGYucHJvY2Vzc19zcGVlY2goc2VnbWVudCwgdGd0X2xhbmcpCiAgICAgICAgaWYgbm90IGNvbnNlY3V0aXZlX3NpbGVuY2VfZGVjYXk6CiAgICAgICAgICAgIHNlbGYuY29uc2VjdXRpdmVfc2lsZW5jZV9kZWNheV9jb3VudCA9IDAKCiAgICBkZWYgZGVidWdfd3JpdGVfd2F2KAogICAgICAgIHNlbGYsIGNodW5rOiBucC5uZGFycmF5W0FueSwgQW55XSwgZmluaXNoZWQ6IGJvb2wgPSBGYWxzZQogICAgKSAtPiBOb25lOgogICAgICAgIGlmIHNlbGYudGVzdF9pbnB1dF9zZWdtZW50c193YXYgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYudGVzdF9pbnB1dF9zZWdtZW50c193YXYuc2VlaygwLCBTRUVLX0VORCkKICAgICAgICAgICAgc2VsZi50ZXN0X2lucHV0X3NlZ21lbnRzX3dhdi53cml0ZShjaHVuaykKICAgICAgICAgICAgaWYgZmluaXNoZWQ6CiAgICAgICAgICAgICAgICBNT0RFTF9TQU1QTEVfUkFURSA9IDE2XzAwMAogICAgICAgICAgICAgICAgZGVidWdfdHMgPSBmInt0aW1lLnRpbWUoKX1fe3JhbmRvbS5yYW5kaW50KDEwMDAsIDk5OTkpfSIKICAgICAgICAgICAgICAgIHNlbGYudGVzdF9pbnB1dF9zZWdtZW50c193YXYgPSBzb3VuZGZpbGUuU291bmRGaWxlKAogICAgICAgICAgICAgICAgICAgIFBhdGgoc2VsZi50ZXN0X2lucHV0X3NlZ21lbnRzX3dhdi5uYW1lKS5wYXJlbnQKICAgICAgICAgICAgICAgICAgICAvIGYie2RlYnVnX3RzfV90ZXN0X2lucHV0X3NlZ21lbnRzLndhdiIsCiAgICAgICAgICAgICAgICAgICAgbW9kZT0idysiLAogICAgICAgICAgICAgICAgICAgIGZvcm1hdD0iV0FWIiwKICAgICAgICAgICAgICAgICAgICBzYW1wbGVyYXRlPU1PREVMX1NBTVBMRV9SQVRFLAogICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzPTEsCiAgICAgICAgICAgICAgICApCgoKY2xhc3MgU2lsZXJvVkFEQWdlbnQoU3BlZWNoVG9TcGVlY2hBZ2VudCk6ICAjIHR5cGU6IGlnbm9yZQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFyZ3M6IE5hbWVzcGFjZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGFyZ3MpCiAgICAgICAgc2VsZi5jaHVua19zaXplX3NhbXBsZXMgPSBhcmdzLmNodW5rX3NpemVfc2FtcGxlcwogICAgICAgIHNlbGYuYXJncyA9IGFyZ3MKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS13aW5kb3ctc2l6ZS1zYW1wbGVzIiwKICAgICAgICAgICAgZGVmYXVsdD01MTIsICAjIHNhbXBsaW5nX3JhdGUgLy8gMTAwMCAqIDMyID0+IDMyIG1zIGF0IDE2MDAwIHNhbXBsZSByYXRlCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBoZWxwPSJXaW5kb3cgc2l6ZSBmb3IgcGFzc2luZyBzYW1wbGVzIHRvIFZBRCIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLWNodW5rLXNpemUtc2FtcGxlcyIsCiAgICAgICAgICAgIGRlZmF1bHQ9NTEyMCwgICMgc2FtcGxpbmdfcmF0ZSAvLyAxMDAwICogMzIwID0+IDMyMCBtcyBhdCAxNjAwMCBzYW1wbGUgcmF0ZQogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgaGVscD0iQ2h1bmsgc2l6ZSBmb3IgcGFzc2luZyBzYW1wbGVzIHRvIG1vZGVsIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tc2lsZW5jZS1saW1pdC1tcyIsCiAgICAgICAgICAgIGRlZmF1bHQ9NzAwLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgaGVscD0ic2VuZCBFT1MgdG8gdGhlIGlucHV0X3F1ZXVlIGFmdGVyIHRoaXMgYW1vdW50IG9mIHNpbGVuY2UiLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1zcGVlY2gtc29mdC1saW1pdC1tcyIsCiAgICAgICAgICAgIGRlZmF1bHQ9MTJfMDAwLCAgIyBhZnRlciAxNXMsIGluY3JlYXNlIHRoZSBzcGVlY2ggdGhyZXNob2xkCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBoZWxwPSJhZnRlciB0aGlzIGFtb3VudCBvZiBzcGVlY2gsIGRlY3JlYXNlIHRoZSBzcGVlY2ggdGhyZXNob2xkIChzZWdtZW50IG1vcmUgYWdncmVzc2l2ZWx5KSIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLWluaXQtc3BlZWNoLXByb2IiLAogICAgICAgICAgICBkZWZhdWx0PTAuMTUsCiAgICAgICAgICAgIHR5cGU9ZmxvYXQsCiAgICAgICAgICAgIGhlbHA9IkluY3JlYXNlIHRoZSBpbml0aWFsIHNwZWVjaCBwcm9iYWJpbGl0eSB0aHJlc2hvbGQgYnkgdGhpcyBtdWNoIGF0IHRoZSBzdGFydCBvZiBzcGVlY2giLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZWJ1ZyIsCiAgICAgICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICAgICAgICAgIHR5cGU9Ym9vbCwKICAgICAgICAgICAgaGVscD0iRW5hYmxlIGRlYnVnIGxvZ3MiLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfc3RhdGVzKHNlbGYpIC0+IFNpbGVyb1ZBRFN0YXRlczoKICAgICAgICByZXR1cm4gU2lsZXJvVkFEU3RhdGVzKHNlbGYuYXJncykKCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogU2lsZXJvVkFEU3RhdGVzKSAtPiBBY3Rpb246CiAgICAgICAgc3RhdGVzLmRlYnVnX2xvZygKICAgICAgICAgICAgZiJxdWV1ZSBzaXplOiB7c3RhdGVzLmlucHV0X3F1ZXVlLnFzaXplKCl9LCBpbnB1dF9jaHVuayBzaXplOiB7bGVuKHN0YXRlcy5pbnB1dF9jaHVuayl9IgogICAgICAgICkKICAgICAgICBjb250ZW50OiBucC5uZGFycmF5W0FueSwgQW55XSA9IG5wLmVtcHR5KDAsIGR0eXBlPW5wLmludDE2KQogICAgICAgIGlzX2ZpbmlzaGVkID0gc3RhdGVzLnNvdXJjZV9maW5pc2hlZAogICAgICAgIHRndF9sYW5nID0gTm9uZQogICAgICAgIHdoaWxlIG5vdCBzdGF0ZXMuaW5wdXRfcXVldWUuZW1wdHkoKToKICAgICAgICAgICAgY2h1bmsgPSBzdGF0ZXMuaW5wdXRfcXVldWUuZ2V0X25vd2FpdCgpCiAgICAgICAgICAgIHN0YXRlcy5pbnB1dF9xdWV1ZS50YXNrX2RvbmUoKQogICAgICAgICAgICBpZiB0Z3RfbGFuZyBpcyBOb25lOgogICAgICAgICAgICAgICAgdGd0X2xhbmcgPSBjaHVuay50Z3RfbGFuZwogICAgICAgICAgICBjb250ZW50ID0gbnAuY29uY2F0ZW5hdGUoKGNvbnRlbnQsIGNodW5rLmNvbnRlbnQpKQoKICAgICAgICBzdGF0ZXMuZGVidWdfd3JpdGVfd2F2KGNvbnRlbnQpCgogICAgICAgIGlmIGxlbihjb250ZW50KSA9PSAwOiAgIyBlbXB0eSBxdWV1ZQogICAgICAgICAgICBpZiBub3Qgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICMgTk9URTogdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuLCB0aGlzIGxvZ2ljIGlzIGEgc2FmZWd1YXJkCiAgICAgICAgICAgICAgICBzZWdtZW50ID0gRW1wdHlTZWdtZW50KGZpbmlzaGVkPVRydWUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VnbWVudCA9IFNwZWVjaFNlZ21lbnQoCiAgICAgICAgICAgICAgICBjb250ZW50PWNvbnRlbnQudG9saXN0KCksCiAgICAgICAgICAgICAgICBmaW5pc2hlZD1pc19maW5pc2hlZCwKICAgICAgICAgICAgICAgIHRndF9sYW5nPXRndF9sYW5nLAogICAgICAgICAgICApCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbihzZWdtZW50LCBmaW5pc2hlZD1pc19maW5pc2hlZCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2FyZ3MoY2xzLCBhcmdzOiBOYW1lc3BhY2UsICoqa3dhcmdzOiBOb25lKSAtPiBTaWxlcm9WQURBZ2VudDoKICAgICAgICByZXR1cm4gY2xzKGFyZ3MpCg=='),
    ('seamless/src/seamless_communication/streaming/agents/seamless_s2st.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5kZXRva2VuaXplciBpbXBvcnQgVW5pdFlEZXRva2VuaXplckFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9mZmxpbmVfdzJ2X2JlcnRfZW5jb2RlciBpbXBvcnQgKAogICAgT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV9mZWF0dXJlX2V4dHJhY3RvciBpbXBvcnQgKAogICAgT25saW5lRmVhdHVyZUV4dHJhY3RvckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV90ZXh0X2RlY29kZXIgaW1wb3J0ICgKICAgIFVuaXRZTU1BVGV4dERlY29kZXJBZ2VudCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5vbmxpbmVfdW5pdF9kZWNvZGVyIGltcG9ydCAoCiAgICBOQVJVbml0WVVuaXREZWNvZGVyQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMucHJldHNzZWxfdm9jb2RlciBpbXBvcnQgKAogICAgUHJldHNzZWxWb2NvZGVyQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMuZHVhbF92b2NvZGVyX2FnZW50IGltcG9ydCAoCiAgICBEdWFsVm9jb2RlckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnNpbGVyb192YWQgaW1wb3J0IFNpbGVyb1ZBREFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnVuaXR5X3BpcGVsaW5lIGltcG9ydCAoCiAgICBVbml0WUFnZW50UGlwZWxpbmUsCiAgICBVbml0WUFnZW50VHJlZVBpcGVsaW5lLAopCgoKY2xhc3MgU2VhbWxlc3NTMlNUQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50LAogICAgICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudCwKICAgICAgICBQcmV0c3NlbFZvY29kZXJBZ2VudCwKICAgIF0KCgpjbGFzcyBTZWFtbGVzc1MyU1RKb2ludFZBREFnZW50KFVuaXRZQWdlbnRUcmVlUGlwZWxpbmUpOgogICAgcGlwZWxpbmUgPSB7CiAgICAgICAgU2lsZXJvVkFEQWdlbnQ6IFtPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnRdLAogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudDogW09mZmxpbmVXYXYyVmVjQmVydEVuY29kZXJBZ2VudF0sCiAgICAgICAgT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50OiBbVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50XSwKICAgICAgICBVbml0WU1NQVRleHREZWNvZGVyQWdlbnQ6IFtVbml0WURldG9rZW5pemVyQWdlbnQsIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudF0sCiAgICAgICAgVW5pdFlEZXRva2VuaXplckFnZW50OiBbXSwKICAgICAgICBOQVJVbml0WVVuaXREZWNvZGVyQWdlbnQ6IFtQcmV0c3NlbFZvY29kZXJBZ2VudF0sCiAgICAgICAgUHJldHNzZWxWb2NvZGVyQWdlbnQ6IFtdLAogICAgfQoKCmNsYXNzIFNlYW1sZXNzUzJTVER1YWxWb2NvZGVyVkFEQWdlbnQoVW5pdFlBZ2VudFRyZWVQaXBlbGluZSk6CiAgICBwaXBlbGluZSA9IHsKICAgICAgICBTaWxlcm9WQURBZ2VudDogW09ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudF0sCiAgICAgICAgT25saW5lRmVhdHVyZUV4dHJhY3RvckFnZW50OiBbT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50XSwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQ6IFtVbml0WU1NQVRleHREZWNvZGVyQWdlbnRdLAogICAgICAgIFVuaXRZTU1BVGV4dERlY29kZXJBZ2VudDogW1VuaXRZRGV0b2tlbml6ZXJBZ2VudCwgTkFSVW5pdFlVbml0RGVjb2RlckFnZW50XSwKICAgICAgICBVbml0WURldG9rZW5pemVyQWdlbnQ6IFtdLAogICAgICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudDogW0R1YWxWb2NvZGVyQWdlbnRdLAogICAgICAgIER1YWxWb2NvZGVyQWdlbnQ6IFtdLAogICAgfQo='),
    ('seamless/src/seamless_communication/streaming/agents/dual_vocoder_agent.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKaW1wb3J0IGNvcHkKCmltcG9ydCBsb2dnaW5nCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEFueQoKZnJvbSBzaW11bGV2YWwuYWdlbnRzIGltcG9ydCBUZXh0VG9TcGVlY2hBZ2VudApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5jb21tb24gaW1wb3J0IEFnZW50U3RhdGVzCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNlZ21lbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IEFjdGlvbgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMucHJldHNzZWxfdm9jb2RlciBpbXBvcnQgKAogICAgUHJldHNzZWxWb2NvZGVyQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMub25saW5lX3ZvY29kZXIgaW1wb3J0IFZvY29kZXJBZ2VudAoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpjbGFzcyBEdWFsVm9jb2RlclN0YXRlcyhBZ2VudFN0YXRlcyk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgdm9jb2Rlcl9zdGF0ZXM6IEFnZW50U3RhdGVzLCBleHByX3ZvY29kZXJfc3RhdGVzOiBBZ2VudFN0YXRlcwogICAgKSAtPiBOb25lOgogICAgICAgIHNlbGYudm9jb2Rlcl9zdGF0ZXMgPSB2b2NvZGVyX3N0YXRlcwogICAgICAgIHNlbGYuZXhwcl92b2NvZGVyX3N0YXRlcyA9IGV4cHJfdm9jb2Rlcl9zdGF0ZXMKICAgICAgICBzZWxmLmNvbmZpZzogRGljdFtzdHIsIEFueV0gPSB7fQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHRhcmdldF9maW5pc2hlZChzZWxmKTogICMgdHlwZTogaWdub3JlCiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgc2VsZi52b2NvZGVyX3N0YXRlcy50YXJnZXRfZmluaXNoZWQKICAgICAgICAgICAgb3Igc2VsZi5leHByX3ZvY29kZXJfc3RhdGVzLnRhcmdldF9maW5pc2hlZAogICAgICAgICkKCiAgICBkZWYgcmVzZXQoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLnZvY29kZXJfc3RhdGVzLnJlc2V0KCkKICAgICAgICBzZWxmLmV4cHJfdm9jb2Rlcl9zdGF0ZXMucmVzZXQoKQogICAgICAgIHNlbGYuY29uZmlnID0ge30KCiAgICBkZWYgdXBkYXRlX3NvdXJjZShzZWxmLCBzZWdtZW50OiBTZWdtZW50KSAtPiBOb25lOgogICAgICAgIHNlbGYudm9jb2Rlcl9zdGF0ZXMudXBkYXRlX2NvbmZpZyhzZWdtZW50LmNvbmZpZykKICAgICAgICBzZWxmLnZvY29kZXJfc3RhdGVzLnVwZGF0ZV9zb3VyY2Uoc2VnbWVudCkKICAgICAgICBzZWxmLmV4cHJfdm9jb2Rlcl9zdGF0ZXMudXBkYXRlX2NvbmZpZyhzZWdtZW50LmNvbmZpZykKICAgICAgICBzZWxmLmV4cHJfdm9jb2Rlcl9zdGF0ZXMudXBkYXRlX3NvdXJjZShzZWdtZW50KQoKICAgIGRlZiB1cGRhdGVfdGFyZ2V0KHNlbGYsIHNlZ21lbnQ6IFNlZ21lbnQpIC0+IE5vbmU6CiAgICAgICAgc2VsZi52b2NvZGVyX3N0YXRlcy51cGRhdGVfdGFyZ2V0KHNlZ21lbnQpCiAgICAgICAgc2VsZi5leHByX3ZvY29kZXJfc3RhdGVzLnVwZGF0ZV90YXJnZXQoc2VnbWVudCkKCgpjbGFzcyBEdWFsVm9jb2RlckFnZW50KFRleHRUb1NwZWVjaEFnZW50KTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBhcmdzOiBOYW1lc3BhY2UsCiAgICAgICAgdm9jb2RlcjogVm9jb2RlckFnZW50LAogICAgICAgIGV4cHJfdm9jb2RlcjogUHJldHNzZWxWb2NvZGVyQWdlbnQsCiAgICApIC0+IE5vbmU6CiAgICAgICAgc2VsZi52b2NvZGVyID0gdm9jb2RlcgogICAgICAgIHNlbGYuZXhwcl92b2NvZGVyID0gZXhwcl92b2NvZGVyCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhhcmdzKQogICAgICAgIHNlbGYuZXhwcmVzc2l2ZSA9IGFyZ3MuZXhwcmVzc2l2ZQoKICAgIGRlZiBidWlsZF9zdGF0ZXMoc2VsZikgLT4gRHVhbFZvY29kZXJTdGF0ZXM6CiAgICAgICAgcmV0dXJuIER1YWxWb2NvZGVyU3RhdGVzKAogICAgICAgICAgICBzZWxmLnZvY29kZXIuYnVpbGRfc3RhdGVzKCksIHNlbGYuZXhwcl92b2NvZGVyLmJ1aWxkX3N0YXRlcygpCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGFkZF9hcmdzKGNscywgcGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBQcmV0c3NlbFZvY29kZXJBZ2VudC5hZGRfYXJncyhwYXJzZXIpCiAgICAgICAgVm9jb2RlckFnZW50LmFkZF9hcmdzKHBhcnNlcikKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1leHByLXZvY29kZXItbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgICAgICBoZWxwPSJleHByZXNzaXZlIHZvY29kZXIgbmFtZSAtIHZvY29kZXJfcHJldHNzZWwgb3Igdm9jb2Rlcl9wcmV0c3NlbF8xNmtoeiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLWV4cHJlc3NpdmUiLAogICAgICAgICAgICBhY3Rpb249InN0b3JlX3RydWUiLAogICAgICAgICAgICBoZWxwPSJXaGV0aGVyIHRvIHVzZSBleHByZXNzaXZlIHZvY29kZXIgKG92ZXJyaWRhYmxlIGluIHNlZ21lbnQuY29uZmlnKSIsCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fYXJncyhjbHMsIGFyZ3M6IE5hbWVzcGFjZSwgKiprd2FyZ3M6IERpY3Rbc3RyLCBBbnldKSAtPiBEdWFsVm9jb2RlckFnZW50OgogICAgICAgIHZvY29kZXIgPSBWb2NvZGVyQWdlbnQuZnJvbV9hcmdzKGFyZ3MpCiAgICAgICAgZXhwcl9hcmdzID0gY29weS5kZWVwY29weShhcmdzKQogICAgICAgIGV4cHJfYXJncy52b2NvZGVyX25hbWUgPSBhcmdzLmV4cHJfdm9jb2Rlcl9uYW1lCiAgICAgICAgZXhwcl92b2NvZGVyID0gUHJldHNzZWxWb2NvZGVyQWdlbnQuZnJvbV9hcmdzKGV4cHJfYXJncykKICAgICAgICByZXR1cm4gY2xzKGFyZ3MsIHZvY29kZXIsIGV4cHJfdm9jb2RlcikKCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogQWdlbnRTdGF0ZXMpIC0+IEFjdGlvbjoKICAgICAgICBleHByZXNzaXZlID0gc2VsZi5leHByZXNzaXZlCiAgICAgICAgaWYgc3RhdGVzLmNvbmZpZyBpcyBub3QgTm9uZSBhbmQgImV4cHJlc3NpdmUiIGluIHN0YXRlcy5jb25maWc6CiAgICAgICAgICAgIGV4cHJlc3NpdmUgPSBzdGF0ZXMuY29uZmlnWyJleHByZXNzaXZlIl0KICAgICAgICBpZiBleHByZXNzaXZlOgogICAgICAgICAgICBzdGF0ZXMuZXhwcl92b2NvZGVyX3N0YXRlcy51cHN0cmVhbV9zdGF0ZXMgPSBzdGF0ZXMudXBzdHJlYW1fc3RhdGVzCiAgICAgICAgICAgIGFjdGlvbiA9IHNlbGYuZXhwcl92b2NvZGVyLnBvbGljeShzdGF0ZXMuZXhwcl92b2NvZGVyX3N0YXRlcykKICAgICAgICAgICAgaWYgbGVuKHN0YXRlcy5leHByX3ZvY29kZXJfc3RhdGVzLnNvdXJjZSkgPT0gMDoKICAgICAgICAgICAgICAgIHN0YXRlcy52b2NvZGVyX3N0YXRlcy5zb3VyY2UgPSBbXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFjdGlvbiA9IHNlbGYudm9jb2Rlci5wb2xpY3koc3RhdGVzLnZvY29kZXJfc3RhdGVzKQogICAgICAgICAgICBpZiBsZW4oc3RhdGVzLnZvY29kZXJfc3RhdGVzLnNvdXJjZSkgPT0gMDoKICAgICAgICAgICAgICAgIHN0YXRlcy5leHByX3ZvY29kZXJfc3RhdGVzLnNvdXJjZSA9IFtdCiAgICAgICAgcmV0dXJuIGFjdGlvbgo='),
    ('seamless/src/seamless_communication/streaming/agents/seamless_streaming_s2st.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmRldG9rZW5pemVyIGltcG9ydCBVbml0WURldG9rZW5pemVyQWdlbnQKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMub2ZmbGluZV93MnZfYmVydF9lbmNvZGVyIGltcG9ydCAoCiAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMub25saW5lX2ZlYXR1cmVfZXh0cmFjdG9yIGltcG9ydCAoCiAgICBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMub25saW5lX3RleHRfZGVjb2RlciBpbXBvcnQgKAogICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV91bml0X2RlY29kZXIgaW1wb3J0ICgKICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5vbmxpbmVfdm9jb2RlciBpbXBvcnQgVm9jb2RlckFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnNpbGVyb192YWQgaW1wb3J0IFNpbGVyb1ZBREFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnVuaXR5X3BpcGVsaW5lIGltcG9ydCAoCiAgICBVbml0WUFnZW50UGlwZWxpbmUsCiAgICBVbml0WUFnZW50VHJlZVBpcGVsaW5lLAopCgoKY2xhc3MgU2VhbWxlc3NTdHJlYW1pbmdTMlNUQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50LAogICAgICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudCwKICAgICAgICBWb2NvZGVyQWdlbnQsCiAgICBdCgoKY2xhc3MgU2VhbWxlc3NTdHJlYW1pbmdTMlNUVkFEQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIFNpbGVyb1ZBREFnZW50LAogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50LAogICAgICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudCwKICAgICAgICBWb2NvZGVyQWdlbnQsCiAgICBdCgoKY2xhc3MgU2VhbWxlc3NTdHJlYW1pbmdTMlNUSm9pbnRWQURBZ2VudChVbml0WUFnZW50VHJlZVBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gewogICAgICAgIFNpbGVyb1ZBREFnZW50OiBbT25saW5lRmVhdHVyZUV4dHJhY3RvckFnZW50XSwKICAgICAgICBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQ6IFtPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnRdLAogICAgICAgIE9mZmxpbmVXYXYyVmVjQmVydEVuY29kZXJBZ2VudDogW1VuaXRZTU1BVGV4dERlY29kZXJBZ2VudF0sCiAgICAgICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50OiBbVW5pdFlEZXRva2VuaXplckFnZW50LCBOQVJVbml0WVVuaXREZWNvZGVyQWdlbnRdLAogICAgICAgIFVuaXRZRGV0b2tlbml6ZXJBZ2VudDogW10sCiAgICAgICAgTkFSVW5pdFlVbml0RGVjb2RlckFnZW50OiBbVm9jb2RlckFnZW50XSwKICAgICAgICBWb2NvZGVyQWdlbnQ6IFtdLAogICAgfQo='),
    ('seamless/src/seamless_communication/streaming/agents/online_vocoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBsb2dnaW5nCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdAoKaW1wb3J0IHRvcmNoCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5sb2FkZXIgaW1wb3J0IGxvYWRfdm9jb2Rlcl9tb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5jb21tb24gaW1wb3J0IEFnZW50U3RhdGVzCmZyb20gc2ltdWxldmFsLmFnZW50cyBpbXBvcnQgVGV4dFRvU3BlZWNoQWdlbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IFJlYWRBY3Rpb24sIFdyaXRlQWN0aW9uCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNwZWVjaFNlZ21lbnQKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgVm9jb2RlckFnZW50KFRleHRUb1NwZWVjaEFnZW50KTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oc2VsZiwgYXJnczogTmFtZXNwYWNlKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oYXJncykKCiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgIGYiTG9hZGluZyB0aGUgVm9jb2RlciBtb2RlbDoge2FyZ3Mudm9jb2Rlcl9uYW1lfSBvbiBkZXZpY2U9e2FyZ3MuZGV2aWNlfSwgZHR5cGU9e2FyZ3MuZHR5cGV9IgogICAgICAgICkKICAgICAgICBzZWxmLnZvY29kZXIgPSBsb2FkX3ZvY29kZXJfbW9kZWwoCiAgICAgICAgICAgIGFyZ3Mudm9jb2Rlcl9uYW1lLCBkZXZpY2U9YXJncy5kZXZpY2UsIGR0eXBlPWFyZ3MuZHR5cGUKICAgICAgICApCiAgICAgICAgc2VsZi52b2NvZGVyLmV2YWwoKQoKICAgICAgICBzZWxmLnNhbXBsZV9yYXRlID0gYXJncy5zYW1wbGVfcmF0ZQogICAgICAgIHNlbGYudGd0X2xhbmcgPSBhcmdzLnRndF9sYW5nCiAgICAgICAgc2VsZi5zcGVha2VyX2lkID0gYXJncy52b2NvZGVyX3NwZWFrZXJfaWQKCiAgICBAdG9yY2guaW5mZXJlbmNlX21vZGUoKQogICAgZGVmIHBvbGljeShzZWxmLCBzdGF0ZXM6IEFnZW50U3RhdGVzKSAtPiBXcml0ZUFjdGlvbjoKICAgICAgICAiIiIKICAgICAgICBUaGUgcG9saWN5IGlzIGFsd2F5cyB3cml0ZSBpZiB0aGVyZSBhcmUgdW5pdHMKICAgICAgICAiIiIKICAgICAgICB1bml0cyA9IHN0YXRlcy5zb3VyY2UKCiAgICAgICAgaWYgbGVuKHVuaXRzKSA9PSAwIG9yIGxlbih1bml0c1swXSkgPT0gMDoKICAgICAgICAgICAgaWYgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbihbXSwgZmluaXNoZWQ9VHJ1ZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKCiAgICAgICAgdGd0X2xhbmcgPSBzdGF0ZXMudGd0X2xhbmcgaWYgc3RhdGVzLnRndF9sYW5nIGVsc2Ugc2VsZi50Z3RfbGFuZwogICAgICAgIHUgPSB1bml0c1swXVswXQoKICAgICAgICB3YXYgPSBzZWxmLnZvY29kZXIodSwgdGd0X2xhbmcsIHNlbGYuc3BlYWtlcl9pZCwgZHVyX3ByZWRpY3Rpb249RmFsc2UpCiAgICAgICAgc3RhdGVzLnNvdXJjZSA9IFtdCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigKICAgICAgICAgICAgU3BlZWNoU2VnbWVudCgKICAgICAgICAgICAgICAgIGNvbnRlbnQ9d2F2WzBdWzBdLnRvbGlzdCgpLAogICAgICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNlbGYuc2FtcGxlX3JhdGUsCiAgICAgICAgICAgICAgICB0Z3RfbGFuZz10Z3RfbGFuZywKICAgICAgICAgICAgKSwKICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MoY2xzLCBwYXJzZXI6IEFyZ3VtZW50UGFyc2VyKSAtPiBOb25lOgogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXZvY29kZXItbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSJWb2NvZGVyIG5hbWUuIiwKICAgICAgICAgICAgZGVmYXVsdD0idm9jb2Rlcl92MiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXZvY29kZXItc3BlYWtlci1pZCIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICByZXF1aXJlZD1GYWxzZSwKICAgICAgICAgICAgZGVmYXVsdD0tMSwKICAgICAgICAgICAgaGVscD0iVm9jb2RlciBzcGVha2VyIGlkIiwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogTmFtZXNwYWNlLCAqKmt3YXJnczogRGljdFtzdHIsIEFueV0pIC0+IFZvY29kZXJBZ2VudDoKICAgICAgICByZXR1cm4gY2xzKGFyZ3MpCg=='),
    ('seamless/src/seamless_communication/streaming/agents/offline_w2v_bert_encoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0CgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBTZXF1ZW5jZURhdGEKZnJvbSBmYWlyc2VxMi5kYXRhLmRhdGFfcGlwZWxpbmUgaW1wb3J0IENvbGxhdGVyCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0IGltcG9ydCBUZXh0VG9rZW5pemVyCmZyb20gZmFpcnNlcTIubW9kZWxzLndhdjJ2ZWMyIGltcG9ydCBXYXYyVmVjMkVuY29kZXJDb25maWcKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0IFVuaXRZTW9kZWwKZnJvbSBzaW11bGV2YWwuYWdlbnRzIGltcG9ydCBTcGVlY2hUb1NwZWVjaEFnZW50CmZyb20gc2ltdWxldmFsLmFnZW50cy5hY3Rpb25zIGltcG9ydCBBY3Rpb24sIFJlYWRBY3Rpb24sIFdyaXRlQWN0aW9uCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNwZWVjaFNlZ21lbnQKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMuY29tbW9uIGltcG9ydCAoCiAgICBBZ2VudFN0YXRlcywKICAgIE5vVXBkYXRlVGFyZ2V0TWl4aW4sCikKCgpjbGFzcyBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQoTm9VcGRhdGVUYXJnZXRNaXhpbiwgU3BlZWNoVG9TcGVlY2hBZ2VudCk6ICAjIHR5cGU6IGlnbm9yZQogICAgIiIiCiAgICBJbmNyZW1lbnRhbCBlbmNvZGluZyBvZiBhbiB3YXYydmVjIGVuY29kZXIgb3V0cHV0CiAgICBJdCB1cGRhdGUgdGhlIHdob2xlIGVuY29kZXIgc3RhdGVzIGV2ZXJ5IHRpbWUgd2hlbiB0aGVyZSBpcyBhIG5ldyBpbmNvbWluZyBzZWdtZW50LgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgdW5pdHlfbW9kZWw6IFVuaXRZTW9kZWwsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2NvbmZpZzogV2F2MlZlYzJFbmNvZGVyQ29uZmlnLAogICAgICAgIHRleHRfdG9rZW5pemVyOiBUZXh0VG9rZW5pemVyLAogICAgICAgIGFyZ3M6IE5hbWVzcGFjZSwKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGFyZ3MpCiAgICAgICAgc2VsZi5tb2RlbCA9IHVuaXR5X21vZGVsCiAgICAgICAgc2VsZi53MnYyX2VuY29kZXJfY29uZmlnID0gdzJ2Ml9lbmNvZGVyX2NvbmZpZwogICAgICAgIHNlbGYuY29sbGF0ZSA9IENvbGxhdGVyKAogICAgICAgICAgICBwYWRfdmFsdWU9dGV4dF90b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4LCBwYWRfdG9fbXVsdGlwbGU9MgogICAgICAgICkKICAgICAgICBzZWxmLmRldmljZSA9IGFyZ3MuZGV2aWNlCiAgICAgICAgc2VsZi5kdHlwZSA9IGFyZ3MuZHR5cGUKICAgICAgICBzZWxmLm1pbl9zdGFydGluZ193YWl0ID0gYXJncy5taW5fc3RhcnRpbmdfd2FpdF93MnZiZXJ0CgogICAgQHByb3BlcnR5CiAgICBkZWYgbWluX2lucHV0X2xlbmd0aChzZWxmKSAtPiBpbnQ6CiAgICAgICAgcmV0dXJuIHNlbGYudzJ2Ml9lbmNvZGVyX2NvbmZpZy5mYmFua19zdHJpZGUKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1taW4tc3RhcnRpbmctd2FpdC13MnZiZXJ0IiwKICAgICAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgaGVscD0iTWluIHN0YXJ0aW5nIHdhaXQgaW4gdzJ2YmVydCIsCiAgICAgICAgKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogQWdlbnRTdGF0ZXMpIC0+IEFjdGlvbjoKICAgICAgICAiIiIKICAgICAgICBUaGUgcG9saWN5IGZvciBlbmNvZGVyIGlzIGFsd2F5cyB3cml0ZQogICAgICAgIG9ubHkgaWYgdGhlIGlucHV0IGlzIHRvbyBzaG9ydAogICAgICAgICIiIgogICAgICAgIGlmICgKICAgICAgICAgICAgc2VsZi5taW5fc3RhcnRpbmdfd2FpdCBpcyBub3QgTm9uZQogICAgICAgICAgICBhbmQgbGVuKHN0YXRlcy5zb3VyY2UpIDwgc2VsZi5taW5fc3RhcnRpbmdfd2FpdAogICAgICAgICAgICBhbmQgbm90IHN0YXRlcy5zb3VyY2VfZmluaXNoZWQKICAgICAgICApOgogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgogICAgICAgIGlmIGxlbihzdGF0ZXMuc291cmNlKSA8IHNlbGYubWluX2lucHV0X2xlbmd0aDoKICAgICAgICAgICAgaWYgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbih7fSwgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKCiAgICAgICAgaW5wdXRzID0gdG9yY2guc3RhY2soc3RhdGVzLnNvdXJjZSkudG8oZGV2aWNlPXNlbGYuZGV2aWNlLCBkdHlwZT1zZWxmLmR0eXBlKQogICAgICAgIHNyYzogU2VxdWVuY2VEYXRhID0gc2VsZi5jb2xsYXRlKGlucHV0cykKCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gZ2V0X3NlcXNfYW5kX3BhZGRpbmdfbWFzayhzcmMpCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQsIF8gPSBzZWxmLm1vZGVsLmVuY29kZV9zcGVlY2goCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICApCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigKICAgICAgICAgICAgU3BlZWNoU2VnbWVudCgKICAgICAgICAgICAgICAgIGNvbnRlbnQ9ZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgICAgICB0Z3RfbGFuZz1zdGF0ZXMudGd0X2xhbmcsCiAgICAgICAgICAgICAgICBmaW5pc2hlZD1zdGF0ZXMuc291cmNlX2ZpbmlzaGVkLAogICAgICAgICAgICApLAogICAgICAgICAgICBmaW5pc2hlZD1zdGF0ZXMuc291cmNlX2ZpbmlzaGVkLAogICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2FyZ3MoCiAgICAgICAgY2xzLCBhcmdzOiBOYW1lc3BhY2UsICoqa3dhcmdzOiBEaWN0W3N0ciwgQW55XQogICAgKSAtPiBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQ6CiAgICAgICAgdW5pdHlfbW9kZWwgPSBrd2FyZ3MuZ2V0KCJ1bml0eV9tb2RlbCIsIE5vbmUpCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UodW5pdHlfbW9kZWwsIFVuaXRZTW9kZWwpCiAgICAgICAgdW5pdHlfY29uZmlnID0ga3dhcmdzLmdldCgidW5pdHlfY29uZmlnIiwgTm9uZSkKICAgICAgICBhc3NlcnQgdW5pdHlfY29uZmlnIGlzIG5vdCBOb25lCiAgICAgICAgdGV4dF90b2tlbml6ZXIgPSBrd2FyZ3MuZ2V0KCJ0ZXh0X3Rva2VuaXplciIsIE5vbmUpCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UodGV4dF90b2tlbml6ZXIsIFRleHRUb2tlbml6ZXIpCiAgICAgICAgcmV0dXJuIGNscyh1bml0eV9tb2RlbCwgdW5pdHlfY29uZmlnLncydjJfZW5jb2Rlcl9jb25maWcsIHRleHRfdG9rZW5pemVyLCBhcmdzKQo='),
    ('seamless/src/seamless_communication/streaming/agents/common.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCiIiIgpNaXhpbnMgKyBjb21tb24gZm9yIGZhaXJzZXEyIHNpbXVsZXZhbCBhZ2VudHMKIiIiCgpmcm9tIHNpbXVsZXZhbC5kYXRhLnNlZ21lbnRzIGltcG9ydCBTZWdtZW50CmZyb20gc2ltdWxldmFsLmFnZW50cy5zdGF0ZXMgaW1wb3J0IEFnZW50U3RhdGVzIGFzIEFnZW50U3RhdGVzT3JpZwoKCmNsYXNzIEVhcmx5U3RvcHBpbmdNaXhpbjoKICAgIGRlZiByZXNldF9lYXJseShzZWxmKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIEltcGxlbWVudCB0byBvdmVycmlkZSBmb3IgZGlmZmVyZW50IGJlaGF2aW9yIG9uIGEgcmVzZXQgdGhhdAogICAgICAgIGhhcHBlbnMgYmVmb3JlIEVPUwogICAgICAgICIiIgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoKQoKCmNsYXNzIEFnZW50U3RhdGVzKEFnZW50U3RhdGVzT3JpZyk6ICAjIHR5cGU6IGlnbm9yZQogICAgZGVmIHVwZGF0ZV90YXJnZXQoc2VsZiwgc2VnbWVudDogU2VnbWVudCkgLT4gTm9uZToKICAgICAgICAiIiJBbiBBZ2VudFN0YXRlcyBpbXBsIHdoaWNoIGRvZXNuJ3QgdXBkYXRlIHN0YXRlcy50YXJnZXQiIiIKICAgICAgICBzZWxmLnRhcmdldF9maW5pc2hlZCA9IHNlZ21lbnQuZmluaXNoZWQKCgpjbGFzcyBOb1VwZGF0ZVRhcmdldE1peGluOgogICAgIiIiQSBzaG9ydGN1dCB0byBtYWtlIGFnZW50cyBkZWZhdWx0IHRvIHRoZSBBZ2VudFN0YXRlcyBpbXBsIGFib3ZlIiIiCgogICAgZGVmIGJ1aWxkX3N0YXRlcyhzZWxmKSAtPiBBZ2VudFN0YXRlczoKICAgICAgICByZXR1cm4gQWdlbnRTdGF0ZXMoKQo='),
    ('seamless/src/seamless_communication/streaming/agents/unity_pipeline.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IGxvZ2dpbmcKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBMaXN0LCBPcHRpb25hbCwgVW5pb24KCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZS50cmFuc2xhdG9yIGltcG9ydCBNb2RhbGl0eSwgVHJhbnNsYXRvcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci5sb2FkZXIgaW1wb3J0IGxvYWRfcHJldHNzZWxfdm9jb2Rlcl9tb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci52b2NvZGVyIGltcG9ydCBQcmV0c3NlbFZvY29kZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2RlciBpbXBvcnQgKAogICAgbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9jb25maWcsCiAgICBsb2FkX21vbm90b25pY19kZWNvZGVyX21vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0ICgKICAgIGxvYWRfdW5pdHlfY29uZmlnLAogICAgbG9hZF91bml0eV9tb2RlbCwKICAgIGxvYWRfdW5pdHlfdGV4dF90b2tlbml6ZXIsCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5sb2FkZXIgaW1wb3J0IGxvYWRfdm9jb2Rlcl9tb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIudm9jb2RlciBpbXBvcnQgVm9jb2Rlcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5jb21tb24gaW1wb3J0ICgKICAgIEFnZW50U3RhdGVzLAogICAgRWFybHlTdG9wcGluZ01peGluLAopCmZyb20gc2ltdWxldmFsLmFnZW50cyBpbXBvcnQgQWdlbnRQaXBlbGluZSwgVHJlZUFnZW50UGlwZWxpbmUKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFnZW50IGltcG9ydCBHZW5lcmljQWdlbnQKZnJvbSBzaW11bGV2YWwuZGF0YS5zZWdtZW50cyBpbXBvcnQgU2VnbWVudAoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgbWF5YmVfcmVzZXRfc3RhdGVzKHN0YXRlczogT3B0aW9uYWxbTGlzdFtPcHRpb25hbFtBZ2VudFN0YXRlc11dXSkgLT4gTm9uZToKICAgIGFzc2VydCBzdGF0ZXMgaXMgbm90IE5vbmUKICAgIGZvciBzIGluIHN0YXRlczoKICAgICAgICBpZiBzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKHMsIEVhcmx5U3RvcHBpbmdNaXhpbik6CiAgICAgICAgICAgICAgICBzLnJlc2V0X2Vhcmx5KCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHMucmVzZXQoKQoKCmNsYXNzIFVuaXRZUGlwZWxpbmVNaXhpbjoKICAgICIiIgogICAgTWl4aW4gZm9yIFVuaXRZIHBpcGVsaW5lIHdoaWNoIHdvcmtzIHdpdGggYm90aCBBZ2VudFBpcGVsaW5lCiAgICBhbmQgVHJlZUFnZW50UGlwZWxpbmUKICAgICIiIgoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGFkZF9hcmdzKGNscywgcGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBzdXBlcigpLmFkZF9hcmdzKHBhcnNlcikgICMgdHlwZTogaWdub3JlCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS10YXNrIiwgdHlwZT1zdHIsIGhlbHA9IlRhc2sgdHlwZSIpCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdW5pdHktbW9kZWwtbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSJVbml0eSBtb2RlbCBuYW1lLiIsCiAgICAgICAgICAgIGRlZmF1bHQ9InNlYW1sZXNzX3N0cmVhbWluZ191bml0eSIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW1vbm90b25pYy1kZWNvZGVyLW1vZGVsLW5hbWUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iTW9ub3RvbmljIGRlY29kZXIgbW9kZWwgbmFtZS4iLAogICAgICAgICAgICBkZWZhdWx0PSJzZWFtbGVzc19zdHJlYW1pbmdfbW9ub3RvbmljX2RlY29kZXIiLAogICAgICAgICkKCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tc2FtcGxlLXJhdGUiLAogICAgICAgICAgICBkZWZhdWx0PTE2MDAwLAogICAgICAgICAgICB0eXBlPWZsb2F0LAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kdHlwZSIsCiAgICAgICAgICAgIGNob2ljZXM9WyJmcDE2IiwgImZwMzIiXSwKICAgICAgICAgICAgZGVmYXVsdD0iZnAxNiIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSgKICAgICAgICAgICAgICAgICJDaG9vc2UgYmV0d2VlbiBoYWxmLXByZWNpc2lvbiAoZnAxNikgYW5kIHNpbmdsZSBwcmVjaXNpb24gKGZwMzIpIGZsb2F0aW5nIHBvaW50IGZvcm1hdHMuIgogICAgICAgICAgICAgICAgKyAiIFByZWZlciB0aGlzIG92ZXIgdGhlIGZwMTYgZmxhZy4iCiAgICAgICAgICAgICksCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGxvYWRfbW9kZWwoY2xzLCBhcmdzOiBOYW1lc3BhY2UpIC0+IERpY3Rbc3RyLCBBbnldOgogICAgICAgIGlmIG5vdCB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpIGFuZCAiY3VkYSIgaW4gYXJncy5kZXZpY2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkNVREEgbm90IGF2YWlsYWJsZSwgdXNlIENQVS4iKQoKICAgICAgICBhcmdzLmRldmljZSA9IHRvcmNoLmRldmljZShhcmdzLmRldmljZSkKICAgICAgICBpZiAoYXJncy5mcDE2IG9yIGFyZ3MuZHR5cGUgPT0gImZwMTYiKSBhbmQgYXJncy5kZXZpY2UgIT0gdG9yY2guZGV2aWNlKCJjcHUiKToKICAgICAgICAgICAgYXJncy5kdHlwZSA9IHRvcmNoLmZsb2F0MTYKICAgICAgICBlbHNlOgogICAgICAgICAgICBhcmdzLmR0eXBlID0gdG9yY2guZmxvYXQzMgoKICAgICAgICBpbnB1dF9tb2RhbGl0eSwgb3V0cHV0X21vZGFsaXR5ID0gVHJhbnNsYXRvci5nZXRfbW9kYWxpdGllc19mcm9tX3Rhc2tfc3RyKAogICAgICAgICAgICBhcmdzLnRhc2sKICAgICAgICApCgogICAgICAgIGlmIGlucHV0X21vZGFsaXR5ICE9IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiYFVuaXRZQWdlbnRQaXBlbGluZWAgb25seSBzdXBwb3J0cyBzcGVlY2ggaW5wdXQuIikKCiAgICAgICAgdW5pdHlfY29uZmlnID0gbG9hZF91bml0eV9jb25maWcoYXJncy51bml0eV9tb2RlbF9uYW1lKQogICAgICAgIHVuaXR5X2NvbmZpZy51c2VfdGV4dF9kZWNvZGVyID0gRmFsc2UKICAgICAgICB1bml0eV9jb25maWcudXNlX3RleHRfZW5jb2RlciA9IEZhbHNlCgogICAgICAgIHRleHRfdG9rZW5pemVyID0gbG9hZF91bml0eV90ZXh0X3Rva2VuaXplcihhcmdzLnVuaXR5X21vZGVsX25hbWUpCgogICAgICAgICMgU2tpcCBsb2FkaW5nIHRoZSBUMlUgbW9kZWwuCiAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlRFWFQ6CiAgICAgICAgICAgIHVuaXR5X2NvbmZpZy50MnVfY29uZmlnID0gTm9uZQogICAgICAgICAgICB1bml0X3Rva2VuaXplciA9IE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICB1bml0X3Rva2VuaXplciA9IGxvYWRfdW5pdHlfdW5pdF90b2tlbml6ZXIoYXJncy51bml0eV9tb2RlbF9uYW1lKQoKICAgICAgICBhc3NldF9jYXJkID0gYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChhcmdzLnVuaXR5X21vZGVsX25hbWUpCiAgICAgICAgYXNzZXRfY2FyZC5maWVsZCgibW9kZWxfY29uZmlnIikuc2V0KHVuaXR5X2NvbmZpZykKCiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgIGYiTG9hZGluZyB0aGUgVW5pdFkgbW9kZWw6IHthcmdzLnVuaXR5X21vZGVsX25hbWV9IG9uIGRldmljZT17YXJncy5kZXZpY2V9LCBkdHlwZT17YXJncy5kdHlwZX0iCiAgICAgICAgKQogICAgICAgIHVuaXR5X21vZGVsID0gbG9hZF91bml0eV9tb2RlbChhc3NldF9jYXJkLCBkZXZpY2U9YXJncy5kZXZpY2UsIGR0eXBlPWFyZ3MuZHR5cGUpCiAgICAgICAgdW5pdHlfbW9kZWwuZXZhbCgpCgogICAgICAgIG1vbm90b25pY19kZWNvZGVyX2NvbmZpZyA9IGxvYWRfbW9ub3RvbmljX2RlY29kZXJfY29uZmlnKAogICAgICAgICAgICBhcmdzLm1vbm90b25pY19kZWNvZGVyX21vZGVsX25hbWUKICAgICAgICApCiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgIGYiTG9hZGluZyB0aGUgTW9ub3RvbmljIERlY29kZXIgbW9kZWw6IHthcmdzLm1vbm90b25pY19kZWNvZGVyX21vZGVsX25hbWV9IG9uIGRldmljZT17YXJncy5kZXZpY2V9LCBkdHlwZT17YXJncy5kdHlwZX0iCiAgICAgICAgKQogICAgICAgIG1vbm90b25pY19kZWNvZGVyX21vZGVsID0gbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCgKICAgICAgICAgICAgYXJncy5tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbF9uYW1lLCBkZXZpY2U9YXJncy5kZXZpY2UsIGR0eXBlPWFyZ3MuZHR5cGUKICAgICAgICApCiAgICAgICAgbW9ub3RvbmljX2RlY29kZXJfbW9kZWwuZXZhbCgpCgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJ1bml0eV9tb2RlbCI6IHVuaXR5X21vZGVsLAogICAgICAgICAgICAidW5pdHlfY29uZmlnIjogdW5pdHlfY29uZmlnLAogICAgICAgICAgICAibW9ub3RvbmljX2RlY29kZXJfbW9kZWwiOiBtb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCwKICAgICAgICAgICAgIm1vbm90b25pY19kZWNvZGVyX2NvbmZpZyI6IG1vbm90b25pY19kZWNvZGVyX2NvbmZpZywKICAgICAgICAgICAgInRleHRfdG9rZW5pemVyIjogdGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgICJ1bml0X3Rva2VuaXplciI6IHVuaXRfdG9rZW5pemVyLAogICAgICAgIH0KCgpjbGFzcyBVbml0WUFnZW50UGlwZWxpbmUoVW5pdFlQaXBlbGluZU1peGluLCBBZ2VudFBpcGVsaW5lKTogICMgdHlwZTogaWdub3JlCiAgICBwaXBlbGluZTogTGlzdFtHZW5lcmljQWdlbnRdID0gW10KCiAgICBkZWYgX19pbml0X18oc2VsZiwgYXJnczogTmFtZXNwYWNlKToKICAgICAgICBtb2RlbHNfYW5kX2NvbmZpZ3MgPSBzZWxmLmxvYWRfbW9kZWwoYXJncykKCiAgICAgICAgbW9kdWxlX2xpc3QgPSBbXQogICAgICAgIGZvciBwIGluIHNlbGYucGlwZWxpbmU6CiAgICAgICAgICAgIG1vZHVsZV9saXN0LmFwcGVuZCgKICAgICAgICAgICAgICAgIHAuZnJvbV9hcmdzKAogICAgICAgICAgICAgICAgICAgIGFyZ3MsCiAgICAgICAgICAgICAgICAgICAgKiptb2RlbHNfYW5kX2NvbmZpZ3MsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhtb2R1bGVfbGlzdCkKCiAgICBkZWYgcG9wKHNlbGYsIHN0YXRlczogT3B0aW9uYWxbTGlzdFtPcHRpb25hbFtBZ2VudFN0YXRlc11dXSA9IE5vbmUpIC0+IFNlZ21lbnQ6CiAgICAgICAgb3V0cHV0X3NlZ21lbnQgPSBzdXBlcigpLnBvcChzdGF0ZXMpCiAgICAgICAgaWYgc3RhdGVzIGlzIE5vbmU6CiAgICAgICAgICAgICMgTm90IHN0YXRlbGVzcwogICAgICAgICAgICBmaXJzdF9zdGF0ZXMgPSBzZWxmLm1vZHVsZV9saXN0WzBdLnN0YXRlcwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFzc2VydCBsZW4oc3RhdGVzKSA9PSBsZW4oc2VsZi5tb2R1bGVfbGlzdCkKICAgICAgICAgICAgZmlyc3Rfc3RhdGVzID0gc3RhdGVzWzBdCgogICAgICAgIGlmIG5vdCBmaXJzdF9zdGF0ZXMuc291cmNlX2ZpbmlzaGVkIGFuZCBvdXRwdXRfc2VnbWVudC5maW5pc2hlZDoKICAgICAgICAgICAgIyBBbiBlYXJseSBzdG9wLgogICAgICAgICAgICAjIFRoZSB0ZW1wb3Jhcnkgc29sdXRpb24gaXMgdG8gc3RhcnQgb3ZlcgogICAgICAgICAgICBpZiBzdGF0ZXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBtYXliZV9yZXNldF9zdGF0ZXMoc3RhdGVzKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5yZXNldCgpCiAgICAgICAgICAgIG91dHB1dF9zZWdtZW50LmZpbmlzaGVkID0gRmFsc2UKCiAgICAgICAgcmV0dXJuIG91dHB1dF9zZWdtZW50CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogQW55KSAtPiBVbml0WUFnZW50UGlwZWxpbmU6CiAgICAgICAgcmV0dXJuIGNscyhhcmdzKQoKCmNsYXNzIFVuaXRZQWdlbnRUcmVlUGlwZWxpbmUoVW5pdFlQaXBlbGluZU1peGluLCBUcmVlQWdlbnRQaXBlbGluZSk6ICAjIHR5cGU6IGlnbm9yZQogICAgcGlwZWxpbmU6IEFueSA9IHt9CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFyZ3M6IE5hbWVzcGFjZSk6CiAgICAgICAgbW9kZWxzX2FuZF9jb25maWdzID0gc2VsZi5sb2FkX21vZGVsKGFyZ3MpCgogICAgICAgIGFzc2VydCBsZW4oc2VsZi5waXBlbGluZSkgPiAwCiAgICAgICAgbW9kdWxlX2RpY3QgPSB7fQogICAgICAgIGZvciBtb2R1bGVfY2xhc3MsIGNoaWxkcmVuIGluIHNlbGYucGlwZWxpbmUuaXRlbXMoKToKICAgICAgICAgICAgbW9kdWxlX2RpY3RbbW9kdWxlX2NsYXNzLmZyb21fYXJncyhhcmdzLCAqKm1vZGVsc19hbmRfY29uZmlncyldID0gY2hpbGRyZW4KCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhtb2R1bGVfZGljdCwgYXJncykKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2FyZ3MoY2xzLCBhcmdzOiBBbnkpIC0+IFVuaXRZQWdlbnRQaXBlbGluZToKICAgICAgICByZXR1cm4gY2xzKGFyZ3MpCgogICAgZGVmIHBvcCgKICAgICAgICBzZWxmLCBzdGF0ZXM6IE9wdGlvbmFsW0xpc3RbT3B0aW9uYWxbQWdlbnRTdGF0ZXNdXV0gPSBOb25lCiAgICApIC0+IExpc3RbU2VnbWVudF06CiAgICAgICAgb3V0cHV0X3NlZ21lbnQgPSBzdXBlcigpLnBvcChzdGF0ZXMpCiAgICAgICAgaWYgc3RhdGVzIGlzIE5vbmU6CiAgICAgICAgICAgICMgTm90IHN0YXRlbGVzcwogICAgICAgICAgICBmaXJzdF9zdGF0ZXMgPSBzZWxmLnNvdXJjZV9tb2R1bGUuc3RhdGVzCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYXNzZXJ0IGxlbihzdGF0ZXMpID09IGxlbihzZWxmLm1vZHVsZV9kaWN0KQogICAgICAgICAgICBmaXJzdF9zdGF0ZXMgPSBzdGF0ZXNbc2VsZi5zb3VyY2VfbW9kdWxlXQoKICAgICAgICBpZiBpc2luc3RhbmNlKG91dHB1dF9zZWdtZW50LCBsaXN0KToKICAgICAgICAgICAgZmluaXNoZWQgPSBhbnkoc2VnbWVudC5maW5pc2hlZCBmb3Igc2VnbWVudCBpbiBvdXRwdXRfc2VnbWVudCkKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIGNhc2Ugd2hlbiBvdXRwdXRfaW5kZXggaXMgdXNlZAogICAgICAgICAgICBmaW5pc2hlZCA9IG91dHB1dF9zZWdtZW50LmZpbmlzaGVkCiAgICAgICAgaWYgbm90IGZpcnN0X3N0YXRlcy5zb3VyY2VfZmluaXNoZWQgYW5kIGZpbmlzaGVkOgogICAgICAgICAgICAjIEFuIGVhcmx5IHN0b3AuCiAgICAgICAgICAgICMgVGhlIHRlbXBvcmFyeSBzb2x1dGlvbiBpcyB0byBzdGFydCBvdmVyCiAgICAgICAgICAgIGlmIHN0YXRlcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIG1heWJlX3Jlc2V0X3N0YXRlcyhzdGF0ZXMpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLnJlc2V0KCkKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShvdXRwdXRfc2VnbWVudCwgbGlzdCk6CiAgICAgICAgICAgICAgICBmb3Igc2VnbWVudCBpbiBvdXRwdXRfc2VnbWVudDoKICAgICAgICAgICAgICAgICAgICBzZWdtZW50LmZpbmlzaGVkID0gRmFsc2UKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG91dHB1dF9zZWdtZW50LmZpbmlzaGVkID0gRmFsc2UKCiAgICAgICAgcmV0dXJuIG91dHB1dF9zZWdtZW50ICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQo='),
    ('seamless/src/seamless_communication/streaming/agents/online_unit_decoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBMaXN0LCBPcHRpb25hbAoKaW1wb3J0IHRvcmNoCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0IFVuaXRZTW9kZWwsIFVuaXRZTkFSVDJVTW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS51bml0X3Rva2VuaXplciBpbXBvcnQgVW5pdFRva2VuaXplcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5vbmxpbmVfdGV4dF9kZWNvZGVyIGltcG9ydCAoCiAgICBVbml0WVRleHREZWNvZGVyT3V0cHV0LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmNvbW1vbiBpbXBvcnQgQWdlbnRTdGF0ZXMKZnJvbSBzaW11bGV2YWwuYWdlbnRzIGltcG9ydCBHZW5lcmljQWdlbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IEFjdGlvbiwgUmVhZEFjdGlvbiwgV3JpdGVBY3Rpb24KZnJvbSBzaW11bGV2YWwuZGF0YS5zZWdtZW50cyBpbXBvcnQgU2VnbWVudCwgVGV4dFNlZ21lbnQKCgpjbGFzcyBOQVJVbml0RGVjb2RlckFnZW50U3RhdGVzKEFnZW50U3RhdGVzKTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgcmVzZXQoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLnNvdXJjZV90b2tlbl9saXN0OiBMaXN0W3N0cl0gPSBbXQogICAgICAgIHNlbGYuc291cmNlX2luZGljZXM6IE9wdGlvbmFsW3RvcmNoLlRlbnNvcl0gPSBOb25lCiAgICAgICAgc2VsZi5kdXJhdGlvbl9zdGFydF9pbmRleDogaW50ID0gMAogICAgICAgIHNlbGYudGd0X2xhbmcgPSBOb25lCiAgICAgICAgc3VwZXIoKS5yZXNldCgpCgogICAgZGVmIHVwZGF0ZV9zb3VyY2Uoc2VsZiwgc2VnbWVudDogU2VnbWVudCkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICBVcGRhdGUgc3RhdGVzIGZyb20gaW5wdXQgc2VnbWVudAogICAgICAgIEFkZGl0aW9ubGx5IHVwZGF0ZSBpbmNyZW1lbnRhbCBzdGF0ZXMKCiAgICAgICAgQXJnczoKICAgICAgICAgICAgc2VnbWVudCAofnNpbXVsZXZhbC5hZ2VudHMuc2VnbWVudHMuU2VnbWVudCk6IGlucHV0IHNlZ21lbnQKICAgICAgICAiIiIKICAgICAgICBzZWxmLnNvdXJjZV9maW5pc2hlZCA9IHNlZ21lbnQuZmluaXNoZWQKICAgICAgICBpZiBzZWxmLnRndF9sYW5nIGlzIE5vbmUgYW5kIHNlZ21lbnQudGd0X2xhbmcgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYudGd0X2xhbmcgPSBzZWdtZW50LnRndF9sYW5nCiAgICAgICAgaWYgc2VnbWVudC5pc19lbXB0eToKICAgICAgICAgICAgaWYgc2VnbWVudC5maW5pc2hlZDoKICAgICAgICAgICAgICAgIHNlbGYudGFyZ2V0X2ZpbmlzaGVkID0gVHJ1ZQogICAgICAgICAgICByZXR1cm4KICAgICAgICBzZWdtZW50X2NvbnRlbnQ6IFVuaXRZVGV4dERlY29kZXJPdXRwdXQgPSBzZWdtZW50LmNvbnRlbnQKICAgICAgICBjb250ZW50ID0gc2VnbWVudF9jb250ZW50LmRlY29kZXJfZmVhdHVyZXMKICAgICAgICB0b2tlbiA9IHNlZ21lbnRfY29udGVudC50b2tlbnMKICAgICAgICBzZWxmLnNvdXJjZV9pbmRpY2VzID0gc2VnbWVudF9jb250ZW50LnRhcmdldF9pbmRpY2VzCiAgICAgICAgc2VsZi5zb3VyY2VfdG9rZW5fbGlzdCArPSB0b2tlbgogICAgICAgIHNlbGYuc291cmNlID0gY29udGVudAoKCmNsYXNzIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudChHZW5lcmljQWdlbnQpOiAgIyB0eXBlOiBpZ25vcmUKICAgICIiIk5vbi1hdXRvcmVncmVzc2l2ZSB1bml0IGRlY29kZXIiIiIKCiAgICBzb3VyY2VfdHlwZSA9ICJ0ZXh0IgogICAgdGFyZ2V0X3R5cGUgPSAidGV4dCIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgbW9kZWw6IFVuaXRZTkFSVDJVTW9kZWwsIHRva2VuaXplcjogVW5pdFRva2VuaXplciwgYXJnczogTmFtZXNwYWNlCiAgICApIC0+IE5vbmU6CiAgICAgICAgc2VsZi5tb2RlbCA9IG1vZGVsCiAgICAgICAgc2VsZi50b2tlbml6ZXIgPSB0b2tlbml6ZXIKICAgICAgICBzZWxmLm1pbl91bml0X2NodW5rX3NpemUgPSBhcmdzLm1pbl91bml0X2NodW5rX3NpemUKICAgICAgICBzZWxmLmRfZmFjdG9yID0gYXJncy5kX2ZhY3RvcgogICAgICAgIHNlbGYuZGV2aWNlID0gYXJncy5kZXZpY2UKICAgICAgICBzZWxmLmR0eXBlID0gYXJncy5kdHlwZQogICAgICAgIHNlbGYudG9rZW5fZGVjb2RlciA9IHNlbGYudG9rZW5pemVyLmNyZWF0ZV9kZWNvZGVyKCkKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGFyZ3MpCgogICAgZGVmIGJ1aWxkX3N0YXRlcyhzZWxmKSAtPiBOQVJVbml0RGVjb2RlckFnZW50U3RhdGVzOgogICAgICAgIHJldHVybiBOQVJVbml0RGVjb2RlckFnZW50U3RhdGVzKCkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtYXhfbGVuKHNlbGYpIC0+IGludDoKICAgICAgICByZXR1cm4gMjAwCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGFkZF9hcmdzKHBhcnNlcjogQXJndW1lbnRQYXJzZXIpIC0+IE5vbmU6CiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tbWluLXVuaXQtY2h1bmstc2l6ZSIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgICAgICBoZWxwPSJNaW5pbWFsIHVuaXRzIHRvIHByb2R1Y2UgZXZlcnkgY2h1bmsiLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kLWZhY3RvciIsCiAgICAgICAgICAgIHR5cGU9ZmxvYXQsCiAgICAgICAgICAgIGRlZmF1bHQ9MS4wLAogICAgICAgICAgICBoZWxwPSJzY2FsaW5nIGZhY3RvciBmb3IgZHVyYXRpb24gcHJlZGljdGlvbiIsCiAgICAgICAgKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogTkFSVW5pdERlY29kZXJBZ2VudFN0YXRlcykgLT4gQWN0aW9uOgogICAgICAgIGlmIHN0YXRlcy50YXJnZXRfZmluaXNoZWQ6CiAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigiIiwgZmluaXNoZWQ9VHJ1ZSkKCiAgICAgICAgaWYgbGVuKHN0YXRlcy5zb3VyY2VfdG9rZW5fbGlzdCkgPCAyOgogICAgICAgICAgICBpZiBub3Qgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigiIiwgZmluaXNoZWQ9VHJ1ZSkKCiAgICAgICAgbW9kZWxfb3V0cHV0LCBfLCBkdXJhdGlvbnMgPSBzZWxmLm1vZGVsKAogICAgICAgICAgICB0ZXh0X2RlY29kZXJfb3V0cHV0PXN0YXRlcy5zb3VyY2UsCiAgICAgICAgICAgIHRleHRfZGVjb2Rlcl9wYWRkaW5nX21hc2s9Tm9uZSwKICAgICAgICAgICAgdGV4dF9zZXFzPXN0YXRlcy5zb3VyY2VfaW5kaWNlcywKICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yPXNlbGYuZF9mYWN0b3IsCiAgICAgICAgKQogICAgICAgIGR1cmF0aW9ucyA9IGR1cmF0aW9uc1swXQoKICAgICAgICBpZiBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkIGFuZCBzdGF0ZXMuZHVyYXRpb25fc3RhcnRfaW5kZXggPiAwOgogICAgICAgICAgICAjIFdlIGhhdmUgdG8gY29uc2lkZXIgb25lIG1vcmUgd29yZCBmb3IgRU9TLCBiZWNhdXNlIHdlIGFwcGVuZCBhbiBFT1MgYXQgdGhlIGVuZC4KICAgICAgICAgICAgaWYgc3VtKGR1cmF0aW9uc1tzdGF0ZXMuZHVyYXRpb25fc3RhcnRfaW5kZXggOl0pID09IDA6CiAgICAgICAgICAgICAgICAjIElmIHlvdSByZWFjaCBoZXJlLCBpdCBtZWFucyB0aGF0IHRoZSBsYXN0IHNvdXJjZSB0b2tlbiBpcyBhIHNpbGVuY2UgdG9rZW4gKGUuZy4gcHVuY3R1YXRpb25zKQogICAgICAgICAgICAgICAgIyBJbiB0aGF0IGNhc2Ugbm8gbmVlZCB0byBjb25zaWRlciBvbmUgbW9yZSB0b2tlbi4KICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigiIiwgZmluaXNoZWQ9VHJ1ZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHN0YXRlcy5kdXJhdGlvbl9zdGFydF9pbmRleCA9IG1heChzdGF0ZXMuZHVyYXRpb25fc3RhcnRfaW5kZXggLSAxLCAwKQoKICAgICAgICBjdXJyZW50X2R1cmF0aW9uID0gc3VtKGR1cmF0aW9uc1tzdGF0ZXMuZHVyYXRpb25fc3RhcnRfaW5kZXggOl0pCgogICAgICAgIGlmIGN1cnJlbnRfZHVyYXRpb24gPCBzZWxmLm1pbl91bml0X2NodW5rX3NpemU6CiAgICAgICAgICAgIGlmIG5vdCBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkOgogICAgICAgICAgICAgICAgIyBpZiBjdXJyZW50IHVudHJhbnNsYXRlZCBzb3VyY2UgcmVzdWx0IGxlc3MgdGhhbiBzZWxmLm1pbl91bml0X2NodW5rX3NpemUgdW5pdHMKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlmIGN1cnJlbnRfZHVyYXRpb24gPT0gMDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gV3JpdGVBY3Rpb24oIiIsIGZpbmlzaGVkPVRydWUpCgogICAgICAgIHVuaXRfc2VxcyA9IG1vZGVsX291dHB1dC5sb2dpdHNbMF0uYXJnbWF4KGRpbT0tMSkKICAgICAgICBpbmRleF9zdGFydF9vZmZzZXQgPSBzdW0oZHVyYXRpb25zWzogc3RhdGVzLmR1cmF0aW9uX3N0YXJ0X2luZGV4XSkKICAgICAgICB1bml0X3NlcXMgPSB1bml0X3NlcXNbaW5kZXhfc3RhcnRfb2Zmc2V0Ol0udW5zcXVlZXplKDApCiAgICAgICAgdW5pdHMgPSBzZWxmLnRva2VuX2RlY29kZXIodW5pdF9zZXFzKQoKICAgICAgICAjIG1pbnVzIG9uZSBiZWNhdXNlIHdlIGFkZCBhIGVuZGluZ190b2tlbiBvbiBlYWNoIHMydCBvdXRwdXQgcGhyYXNlCiAgICAgICAgc3RhdGVzLmR1cmF0aW9uX3N0YXJ0X2luZGV4ID0gbGVuKGR1cmF0aW9ucykgLSAxCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigKICAgICAgICAgICAgVGV4dFNlZ21lbnQoCiAgICAgICAgICAgICAgICBjb250ZW50PXVuaXRzLAogICAgICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICAgICAgICAgIHRndF9sYW5nPXN0YXRlcy50Z3RfbGFuZywKICAgICAgICAgICAgKSwKICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogTmFtZXNwYWNlLCAqKmt3YXJnczogQW55KSAtPiBOQVJVbml0WVVuaXREZWNvZGVyQWdlbnQ6CiAgICAgICAgdW5pdHlfbW9kZWw6IFVuaXRZTW9kZWwgPSBrd2FyZ3MuZ2V0KCJ1bml0eV9tb2RlbCIsIE5vbmUpCiAgICAgICAgdW5pdF90b2tlbml6ZXI6IFVuaXRUb2tlbml6ZXIgPSBrd2FyZ3MuZ2V0KCJ1bml0X3Rva2VuaXplciIsIE5vbmUpCiAgICAgICAgYXNzZXJ0IHVuaXR5X21vZGVsLnQydV9tb2RlbCBpcyBub3QgTm9uZSBhbmQgaXNpbnN0YW5jZSgKICAgICAgICAgICAgdW5pdHlfbW9kZWwudDJ1X21vZGVsLCBVbml0WU5BUlQyVU1vZGVsCiAgICAgICAgKQogICAgICAgIHJldHVybiBjbHMobW9kZWw9dW5pdHlfbW9kZWwudDJ1X21vZGVsLCB0b2tlbml6ZXI9dW5pdF90b2tlbml6ZXIsIGFyZ3M9YXJncykK'),
    ('seamless/src/seamless_communication/streaming/agents/online_text_decoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgTGlzdCwgT3B0aW9uYWwsIFNldCwgVHVwbGUKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiLnRva2VuaXplciBpbXBvcnQgTmxsYlRva2VuaXplcgpmcm9tIGZhaXJzZXEyLm5uLmluY3JlbWVudGFsX3N0YXRlIGltcG9ydCBJbmNyZW1lbnRhbFN0YXRlQmFnCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMubW9ub3RvbmljX2RlY29kZXIgaW1wb3J0ICgKICAgIE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICBNb25vdG9uaWNEZWNvZGVyTW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMuY29tbW9uIGltcG9ydCBBZ2VudFN0YXRlcwpmcm9tIHNpbXVsZXZhbC5hZ2VudHMgaW1wb3J0IEdlbmVyaWNBZ2VudApmcm9tIHNpbXVsZXZhbC5hZ2VudHMuYWN0aW9ucyBpbXBvcnQgQWN0aW9uLCBSZWFkQWN0aW9uLCBXcml0ZUFjdGlvbgpmcm9tIHNpbXVsZXZhbC5kYXRhLnNlZ21lbnRzIGltcG9ydCBTZWdtZW50LCBUZXh0U2VnbWVudApmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKCgpjbGFzcyBEZWNvZGVyQWdlbnRTdGF0ZXMoQWdlbnRTdGF0ZXMpOiAgIyB0eXBlOiBpZ25vcmUKICAgIGRlZiByZXNldChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuc291cmNlX2xlbiA9IDAKICAgICAgICBzZWxmLnRhcmdldF9pbmRpY2VzOiBMaXN0W2ludF0gPSBbXQogICAgICAgIHNlbGYudGd0X2xhbmcgPSBOb25lCiAgICAgICAgc2VsZi5uZ3JhbV9ibG9ja19jb3VudCA9IDAKICAgICAgICBzdXBlcigpLnJlc2V0KCkKCiAgICBkZWYgdXBkYXRlX3NvdXJjZShzZWxmLCBzZWdtZW50OiBTZWdtZW50KSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIFVwZGF0ZSBzdGF0ZXMgZnJvbSBpbnB1dCBzZWdtZW50CiAgICAgICAgQWRkaXRpb25sbHkgdXBkYXRlIGluY3JlbWVudGFsIHN0YXRlcwoKICAgICAgICBBcmdzOgogICAgICAgICAgICBzZWdtZW50ICh+c2ltdWxldmFsLmFnZW50cy5zZWdtZW50cy5TZWdtZW50KTogaW5wdXQgc2VnbWVudAogICAgICAgICIiIgogICAgICAgIHNlbGYuc291cmNlX2ZpbmlzaGVkID0gc2VnbWVudC5maW5pc2hlZAogICAgICAgIGlmIHNlbGYudGd0X2xhbmcgaXMgTm9uZSBhbmQgc2VnbWVudC50Z3RfbGFuZyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi50Z3RfbGFuZyA9IHNlZ21lbnQudGd0X2xhbmcKICAgICAgICBpZiBub3Qgc2VnbWVudC5pc19lbXB0eToKICAgICAgICAgICAgc2VsZi5zb3VyY2UgPSBzZWdtZW50LmNvbnRlbnQKICAgICAgICAgICAgaWYgbGVuKHNlbGYuc291cmNlKSA9PSAwIGFuZCBzZWdtZW50LmZpbmlzaGVkOgogICAgICAgICAgICAgICAgc2VsZi50YXJnZXRfZmluaXNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgc2VsZi5zb3VyY2VfbGVuID0gc2VsZi5zb3VyY2Uuc2l6ZSgxKQoKCmNsYXNzIE9ubGluZVRleHREZWNvZGVyQWdlbnQoR2VuZXJpY0FnZW50KTogICMgdHlwZTogaWdub3JlCiAgICAiIiIKICAgIE9ubGluZSB0ZXh0IGRlY29kZXIKICAgICIiIgoKICAgIHRhcmdldF90eXBlID0gInRleHQiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWw6IE1vbm90b25pY0RlY29kZXJNb2RlbCwKICAgICAgICBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IE5sbGJUb2tlbml6ZXIsCiAgICAgICAgYXJnczogTmFtZXNwYWNlLAogICAgKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oYXJncykKICAgICAgICBzZWxmLm1vZGVsID0gbW9kZWwKICAgICAgICBzZWxmLmNvbmZpZyA9IGNvbmZpZwogICAgICAgIHNlbGYudGV4dF90b2tlbml6ZXIgPSB0ZXh0X3Rva2VuaXplcgoKICAgICAgICBzZWxmLm1heF9sZW5fYTogaW50ID0gYXJncy5tYXhfbGVuX2EKICAgICAgICBzZWxmLm1heF9sZW5fYjogaW50ID0gYXJncy5tYXhfbGVuX2IKICAgICAgICBzZWxmLm1heF9jb25zZWN1dGl2ZV93cml0ZXMgPSBzZWxmLmFyZ3MubWF4X2NvbnNlY3V0aXZlX3dyaXRlCiAgICAgICAgc2VsZi5taW5fc3RhcnRpbmdfd2FpdCA9IGFyZ3MubWluX3N0YXJ0aW5nX3dhaXQKICAgICAgICBzZWxmLm5vX2Vhcmx5X3N0b3AgPSBhcmdzLm5vX2Vhcmx5X3N0b3AKCiAgICAgICAgc2VsZi5kZXZpY2UgPSBhcmdzLmRldmljZQogICAgICAgIHNlbGYuZHR5cGUgPSBhcmdzLmR0eXBlCiAgICAgICAgc2VsZi5lb3NfaWR4ID0gdGV4dF90b2tlbml6ZXIudm9jYWJfaW5mby5lb3NfaWR4CgogICAgICAgIHRndF9sYW5nID0gZ2V0YXR0cihhcmdzLCAidGd0X2xhbmciLCBOb25lKQogICAgICAgIGFzc2VydCB0Z3RfbGFuZyBpcyBub3QgTm9uZQogICAgICAgIHNlbGYudG9rZW5fZW5jb2RlciA9IHRleHRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKGxhbmc9dGd0X2xhbmcsIG1vZGU9InRhcmdldCIpCiAgICAgICAgcHJlZml4X2luZGljZXMgPSBzZWxmLnRva2VuX2VuY29kZXIucHJlZml4X2luZGljZXMKICAgICAgICBhc3NlcnQgcHJlZml4X2luZGljZXMgaXMgbm90IE5vbmUKICAgICAgICBzZWxmLnByZWZpeF9pbmRpY2VzOiBMaXN0W2ludF0gPSBwcmVmaXhfaW5kaWNlcy50b2xpc3QoKQoKICAgIGRlZiBidWlsZF9zdGF0ZXMoc2VsZikgLT4gRGVjb2RlckFnZW50U3RhdGVzOgogICAgICAgIHJldHVybiBEZWNvZGVyQWdlbnRTdGF0ZXMoKQoKICAgIGRlZiBtYXhfbGVuKHNlbGYsIHN0YXRlczogRGVjb2RlckFnZW50U3RhdGVzKSAtPiBpbnQ6CiAgICAgICAgcmV0dXJuIHNlbGYubWF4X2xlbl9hICogaW50KHN0YXRlcy5zb3VyY2Uuc2l6ZSgxKSkgKyBzZWxmLm1heF9sZW5fYgoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBhZGRfYXJncyhwYXJzZXI6IEFyZ3VtZW50UGFyc2VyKSAtPiBOb25lOgogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW1heC1sZW4tYSIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBkZWZhdWx0PTEsCiAgICAgICAgICAgIGhlbHA9Ik1heCBsZW5ndGggb2YgcHJlZGljdGlvbnMsIGEgaW4gYXggKyBiIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tbWF4LWxlbi1iIiwKICAgICAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgICAgIGRlZmF1bHQ9MjAwLAogICAgICAgICAgICBoZWxwPSJNYXggbGVuZ3RoIG9mIHByZWRpY3Rpb25zLCBiIGluIGF4ICsgYiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW1heC1jb25zZWN1dGl2ZS13cml0ZSIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBkZWZhdWx0PTUwLAogICAgICAgICAgICBoZWxwPSJNYXggY29uc2VjdXRpdmUgd3JpdGVzLiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW1pbi1zdGFydGluZy13YWl0IiwKICAgICAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgICAgIGRlZmF1bHQ9MSwKICAgICAgICAgICAgaGVscD0iTWluaW1hbCBzdGFydGluZyB3YWl0aW5nIHNvdXJjZSBzdGVwcyIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW5vLWVhcmx5LXN0b3AiLAogICAgICAgICAgICBhY3Rpb249InN0b3JlX3RydWUiLAogICAgICAgICAgICBkZWZhdWx0PUZhbHNlLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS10Z3QtbGFuZyIsCiAgICAgICAgICAgIGRlZmF1bHQ9ImVuZyIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICkKCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogRGVjb2RlckFnZW50U3RhdGVzKSAtPiBBY3Rpb246CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcgoKICAgIGRlZiBlbmZvcmNlX3RndF9sYW5nX2luX3ByZWZpeChzZWxmLCBzdGF0ZXM6IERlY29kZXJBZ2VudFN0YXRlcykgLT4gTm9uZToKICAgICAgICBpZiBzdGF0ZXMudGd0X2xhbmc6CiAgICAgICAgICAgIHRndF9sYW5nX3RhZyA9IGYiX197c3RhdGVzLnRndF9sYW5nfV9fIgogICAgICAgICAgICB0Z3RfbGFuZ190YWdfaWR4ID0gc2VsZi50ZXh0X3Rva2VuaXplci5tb2RlbC50b2tlbl90b19pbmRleCh0Z3RfbGFuZ190YWcpCiAgICAgICAgICAgIHNlbGYucHJlZml4X2luZGljZXNbLTFdID0gdGd0X2xhbmdfdGFnX2lkeAoKCmNsYXNzIE1NQVRleHREZWNvZGVyQWdlbnQoT25saW5lVGV4dERlY29kZXJBZ2VudCk6ICAjIHR5cGU6IGlnbm9yZQogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWw6IE1vbm90b25pY0RlY29kZXJNb2RlbCwKICAgICAgICBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IE5sbGJUb2tlbml6ZXIsCiAgICAgICAgYXJnczogTmFtZXNwYWNlLAogICAgKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18obW9kZWwsIGNvbmZpZywgdGV4dF90b2tlbml6ZXIsIGFyZ3M9YXJncykKCiAgICAgICAgc2VsZi5udW1fZGVjb2Rlcl9sYXllcnMgPSBzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9sYXllcnMKCiAgICAgICAgc2VsZi5kZWNpc2lvbl90aHJlc2hvbGQgPSBhcmdzLmRlY2lzaW9uX3RocmVzaG9sZAogICAgICAgIHNlbGYuZGVjaXNpb25fbWV0aG9kID0gYXJncy5kZWNpc2lvbl9tZXRob2QKICAgICAgICBzZWxmLmJsb2NrX25ncmFtcyA9IGFyZ3MuYmxvY2tfbmdyYW1zCiAgICAgICAgc2VsZi5wX2Nob29zZV9zdGFydF9sYXllciA9IGFyZ3MucF9jaG9vc2Vfc3RhcnRfbGF5ZXIKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBPbmxpbmVUZXh0RGVjb2RlckFnZW50LmFkZF9hcmdzKHBhcnNlcikKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZWNpc2lvbi10aHJlc2hvbGQiLAogICAgICAgICAgICB0eXBlPWZsb2F0LAogICAgICAgICAgICBkZWZhdWx0PTAuNSwKICAgICAgICAgICAgaGVscD0iVGhlIHRocmVzaG9sZCB0byB3cml0ZSBhbiBvdXRwdXQsIGZyb20gMCB0byAxLiBTbWFsbCB2YWx1ZXMgZ2l2ZSBsb3cgbGF0ZW5jeS4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZWNpc2lvbi1tZXRob2QiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgZGVmYXVsdD0ibWluIiwKICAgICAgICAgICAgY2hvaWNlcz1bIm1lYW4iLCAibWluIiwgIm1lZGlhbiJdLAogICAgICAgICAgICBoZWxwPSJUaGUgbWV0aG9kIHRvIGRldGVybWluZSB0aGUgZGVjaXNpb24uIEVpdGhlciBhdmVyYWdlIGFsbCBhdHRlbnRpb24gaGVhZHMsIG9yIGp1c3QgcGljayB0aGUgc21hbGxlc3Qgb25lIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tcC1jaG9vc2Utc3RhcnQtbGF5ZXIiLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgZGVmYXVsdD0wLAogICAgICAgICAgICBoZWxwPSJFbmNvZGVyIGxheWVyIGZyb20gd2hpY2ggcF9jaG9vc2Ugc2hvdWxkIGJlIGNvbnNpZGVyZWQgZm9yIHNlbGVjdGlvbi4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1ibG9jay1uZ3JhbXMiLAogICAgICAgICAgICBhY3Rpb249InN0b3JlX3RydWUiLAogICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2FyZ3MoCiAgICAgICAgY2xzLCBhcmdzOiBOYW1lc3BhY2UsICoqa3dhcmdzOiBEaWN0W3N0ciwgQW55XQogICAgKSAtPiBNTUFUZXh0RGVjb2RlckFnZW50OgogICAgICAgIG1vZGVsID0ga3dhcmdzLmdldCgibW9ub3RvbmljX2RlY29kZXJfbW9kZWwiLCBOb25lKQogICAgICAgIGNvbmZpZyA9IGt3YXJncy5nZXQoIm1vbm90b25pY19kZWNvZGVyX2NvbmZpZyIsIE5vbmUpCiAgICAgICAgdGV4dF90b2tlbml6ZXIgPSBrd2FyZ3MuZ2V0KCJ0ZXh0X3Rva2VuaXplciIsIE5vbmUpCgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG1vZGVsLCBNb25vdG9uaWNEZWNvZGVyTW9kZWwpCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UoY29uZmlnLCBNb25vdG9uaWNEZWNvZGVyQ29uZmlnKQogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHRleHRfdG9rZW5pemVyLCBObGxiVG9rZW5pemVyKQoKICAgICAgICByZXR1cm4gY2xzKAogICAgICAgICAgICBtb2RlbD1tb2RlbCwKICAgICAgICAgICAgY29uZmlnPWNvbmZpZywKICAgICAgICAgICAgdGV4dF90b2tlbml6ZXI9dGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgIGFyZ3M9YXJncywKICAgICAgICApCgogICAgZGVmIHJ1bl9kZWNvZGVyKAogICAgICAgIHNlbGYsIHN0YXRlczogRGVjb2RlckFnZW50U3RhdGVzLCBwcmVkX2luZGljZXM6IExpc3RbaW50XQogICAgKSAtPiBUdXBsZVtpbnQsIGZsb2F0LCBUZW5zb3JdOgogICAgICAgIGlmIGxlbihwcmVkX2luZGljZXMpID09IDA6CiAgICAgICAgICAgIHNlbGYuZW5mb3JjZV90Z3RfbGFuZ19pbl9wcmVmaXgoc3RhdGVzKQogICAgICAgICAgICB0YXJnZXRfaW5wdXQgPSB0b3JjaC50ZW5zb3IoCiAgICAgICAgICAgICAgICBzZWxmLnByZWZpeF9pbmRpY2VzICsgc3RhdGVzLnRhcmdldF9pbmRpY2VzLAogICAgICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9dG9yY2guaW50NjQsCiAgICAgICAgICAgICkudW5zcXVlZXplKDApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdGFyZ2V0X2lucHV0ID0gdG9yY2gudGVuc29yKAogICAgICAgICAgICAgICAgcHJlZF9pbmRpY2VzWy0xOl0sIGRldmljZT1zZWxmLmRldmljZSwgZHR5cGU9dG9yY2guaW50NjQKICAgICAgICAgICAgKS51bnNxdWVlemUoMCkKCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQgPSBzdGF0ZXMuc291cmNlCiAgICAgICAgZGVjb2Rlcl9vdXRwdXQsIF8sIHBfY2hvb3NlID0gc2VsZi5tb2RlbC5kZWNvZGUoCiAgICAgICAgICAgIHRhcmdldF9pbnB1dCwgTm9uZSwgZW5jb2Rlcl9vdXRwdXQsIE5vbmUsIHN0YXRlX2JhZz1zZWxmLnN0YXRlX2JhZwogICAgICAgICkKCiAgICAgICAgbG9naXRzID0gc2VsZi5tb2RlbC5wcm9qZWN0KGRlY29kZXJfb3V0cHV0KQogICAgICAgIGlmIHNlbGYuYmxvY2tfbmdyYW1zIGFuZCBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkOgogICAgICAgICAgICBhbGxfaW5kaWNlcyA9IHN0YXRlcy50YXJnZXRfaW5kaWNlcyArIHByZWRfaW5kaWNlcwogICAgICAgICAgICBibG9ja2VkX2luZGljZXMgPSBhbGxfaW5kaWNlc1stNDpdCiAgICAgICAgICAgIGxvZ2l0c1s6LCA6LCBibG9ja2VkX2luZGljZXNdID0gZmxvYXQoIi1pbmYiKQoKICAgICAgICBpbmRleCA9IGludChsb2dpdHNbMCwgLTFdLmFyZ21heCgpLml0ZW0oKSkKICAgICAgICBfLCB0Z3RfbGVuLCBzcmNfbGVuID0gcF9jaG9vc2Uuc2l6ZSgpCgogICAgICAgIHBfY2hvb3NlID0gcF9jaG9vc2UudmlldyhzZWxmLm51bV9kZWNvZGVyX2xheWVycywgLTEsIHRndF9sZW4sIHNyY19sZW4pCgogICAgICAgIGlmIHNlbGYuZGVjaXNpb25fbWV0aG9kID09ICJtaW4iOgogICAgICAgICAgICBwcm9iID0gcF9jaG9vc2Vbc2VsZi5wX2Nob29zZV9zdGFydF9sYXllciA6LCA6LCAtMSwgLTFdLm1pbigpLml0ZW0oKQogICAgICAgIGVsaWYgc2VsZi5kZWNpc2lvbl9tZXRob2QgPT0gIm1lYW4iOgogICAgICAgICAgICBwcm9iID0gcF9jaG9vc2Vbc2VsZi5wX2Nob29zZV9zdGFydF9sYXllciA6LCA6LCAtMSwgLTFdLm1lYW4oKS5pdGVtKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcm9iID0gcF9jaG9vc2Vbc2VsZi5wX2Nob29zZV9zdGFydF9sYXllciA6LCA6LCAtMSwgLTFdLm1lZGlhbigpLml0ZW0oKQoKICAgICAgICByZXR1cm4gaW5kZXgsIHByb2IsIGRlY29kZXJfb3V0cHV0CgogICAgZGVmIHBvc3Rwcm9jZXNzKAogICAgICAgIHNlbGYsCiAgICAgICAgc3RhdGVzOiBEZWNvZGVyQWdlbnRTdGF0ZXMsCiAgICAgICAgcHJlZF9pbmRpY2VzOiBMaXN0W2ludF0sCiAgICAgICAgZmluaXNoZWQ6IGJvb2wsCiAgICAgICAgZGVjb2Rlcl9mZWF0dXJlc19vdXQ6IE9wdGlvbmFsW1RlbnNvcl0gPSBOb25lLAogICAgKSAtPiBUZXh0U2VnbWVudDoKICAgICAgICByZXR1cm4gVGV4dFNlZ21lbnQoCiAgICAgICAgICAgIGNvbnRlbnQ9IiAiLmpvaW4oCiAgICAgICAgICAgICAgICBbc2VsZi50ZXh0X3Rva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbihpZHgpIGZvciBpZHggaW4gcHJlZF9pbmRpY2VzXQogICAgICAgICAgICApLAogICAgICAgICAgICBmaW5pc2hlZD1maW5pc2hlZCwKICAgICAgICAgICAgdGd0X2xhbmc9c3RhdGVzLnRndF9sYW5nLAogICAgICAgICkKCiAgICBkZWYgZ2V0X2Jsb2NrZWRfbmdyYW1zKHNlbGYsIHRhcmdldF9pbmRpY2VzOiBMaXN0W2ludF0pIC0+IE9wdGlvbmFsW1NldFtzdHJdXToKICAgICAgICAjIFRPRE86IG1ha2UgaXQgY29uZmlndXJhYmxlIGFuZCB1c2UgaXRlcnRvb2xzCiAgICAgICAgaWYgbm90IHNlbGYuYmxvY2tfbmdyYW1zOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGJsb2NrZWRfbmdyYW1zID0gc2V0KCkKICAgICAgICBpZiBsZW4odGFyZ2V0X2luZGljZXMpID49IDQ6CiAgICAgICAgICAgIGJsb2NrZWRfbmdyYW1zLmFkZChzdHIodGFyZ2V0X2luZGljZXNbLTQ6XSkpCiAgICAgICAgICAgIGJsb2NrZWRfbmdyYW1zLmFkZChzdHIodGFyZ2V0X2luZGljZXNbLTQ6LTJdKSkKICAgICAgICAgICAgYmxvY2tlZF9uZ3JhbXMuYWRkKHN0cih0YXJnZXRfaW5kaWNlc1stNDotMV0pKQogICAgICAgIGlmIGxlbih0YXJnZXRfaW5kaWNlcykgPj0gMzoKICAgICAgICAgICAgYmxvY2tlZF9uZ3JhbXMuYWRkKHN0cih0YXJnZXRfaW5kaWNlc1stMzpdKSkKICAgICAgICAgICAgYmxvY2tlZF9uZ3JhbXMuYWRkKHN0cih0YXJnZXRfaW5kaWNlc1stMzotMV0pKQogICAgICAgIGlmIGxlbih0YXJnZXRfaW5kaWNlcykgPj0gMjoKICAgICAgICAgICAgYmxvY2tlZF9uZ3JhbXMuYWRkKHN0cih0YXJnZXRfaW5kaWNlc1stMjpdKSkKICAgICAgICByZXR1cm4gYmxvY2tlZF9uZ3JhbXMKCiAgICBkZWYgbWF5YmVfYmxvY2tfbmdyYW1zKAogICAgICAgIHNlbGYsCiAgICAgICAgc3RhdGVzOiBEZWNvZGVyQWdlbnRTdGF0ZXMsCiAgICAgICAgcHJlZF9pbmRpY2VzOiBMaXN0W2ludF0sCiAgICAgICAgZGVjb2Rlcl9mZWF0dXJlc19vdXQ6IFRlbnNvciwKICAgICAgICBibG9ja2VkX25ncmFtczogT3B0aW9uYWxbU2V0W3N0cl1dLAogICAgICAgIGluZGV4OiBpbnQsCiAgICApIC0+IFR1cGxlW2Jvb2wsIFRlbnNvcl06CiAgICAgICAgIiIiCiAgICAgICAgVGhpcyBjaGVjayBpcyB1c2VkIHRvIGZvcmNlIGEgUkVBRCBkZWNpc2lvbiB3aGVuIG4tZ3JhbSByZXBlYXQKICAgICAgICBoYXBwZW5zIGJlZm9yZSBzb3VyY2VfZmluaXNoZWQKICAgICAgICAiIiIKICAgICAgICBpZiBub3Qgc2VsZi5ibG9ja19uZ3JhbXMgb3Igc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlLCBkZWNvZGVyX2ZlYXR1cmVzX291dAoKICAgICAgICBhc3NlcnQgYmxvY2tlZF9uZ3JhbXMgaXMgbm90IE5vbmUKICAgICAgICBhbGxfaW5kaWNlcyA9IHN0YXRlcy50YXJnZXRfaW5kaWNlcyArIHByZWRfaW5kaWNlcyArIFtpbmRleF0KICAgICAgICBmb3IgbiBpbiBbMywgMl06ICAjIFRPRE86IG1ha2UgaXQgY29uZmlndXJhYmxlCiAgICAgICAgICAgIGlmIGxlbihhbGxfaW5kaWNlcykgPj0gbiBhbmQgc3RhdGVzLm5ncmFtX2Jsb2NrX2NvdW50IDw9IDQ6CiAgICAgICAgICAgICAgICBpZiBzdHIoYWxsX2luZGljZXNbLW46XSkgaW4gYmxvY2tlZF9uZ3JhbXM6CiAgICAgICAgICAgICAgICAgICAgc3RhdGVzLm5ncmFtX2Jsb2NrX2NvdW50ICs9IDEKICAgICAgICAgICAgICAgICAgICBwcmVkX2luZGljZXNbOl0gPSBwcmVkX2luZGljZXNbOiAtKG4gLSAxKV0KICAgICAgICAgICAgICAgICAgICBkZWNvZGVyX2ZlYXR1cmVzX291dCA9IGRlY29kZXJfZmVhdHVyZXNfb3V0WzosIDogLShuIC0gMSldCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRydWUsIGRlY29kZXJfZmVhdHVyZXNfb3V0CiAgICAgICAgICAgICAgICBibG9ja2VkX25ncmFtcy5hZGQoc3RyKGFsbF9pbmRpY2VzWy1uOl0pKQogICAgICAgIHJldHVybiBGYWxzZSwgZGVjb2Rlcl9mZWF0dXJlc19vdXQKCiAgICBAdG9yY2guaW5mZXJlbmNlX21vZGUoKQogICAgZGVmIHBvbGljeShzZWxmLCBzdGF0ZXM6IERlY29kZXJBZ2VudFN0YXRlcykgLT4gQWN0aW9uOgogICAgICAgIGlmIGxlbihzdGF0ZXMuc291cmNlKSA9PSAwOgogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgogICAgICAgIGlmIHN0YXRlcy5zb3VyY2VfbGVuIDwgc2VsZi5taW5fc3RhcnRpbmdfd2FpdCBhbmQgbm90IHN0YXRlcy5zb3VyY2VfZmluaXNoZWQ6CiAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKCiAgICAgICAgaWYgc3RhdGVzLnRhcmdldF9maW5pc2hlZDoKICAgICAgICAgICAgcmV0dXJuIFdyaXRlQWN0aW9uKCIiLCBmaW5pc2hlZD1UcnVlKQoKICAgICAgICBpZiBsZW4oc3RhdGVzLnNvdXJjZSkgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIFJlYWRBY3Rpb24oKQoKICAgICAgICBzZWxmLnN0YXRlX2JhZyA9IEluY3JlbWVudGFsU3RhdGVCYWcoNDA5NikKCiAgICAgICAgc3RhdGVzLnNvdXJjZV9sZW4gPSBzdGF0ZXMuc291cmNlLnNpemUoMSkKCiAgICAgICAgcHJlZF9pbmRpY2VzOiBMaXN0W2ludF0gPSBbXQogICAgICAgIGluZGV4ID0gTm9uZQogICAgICAgIHByb2IgPSBOb25lCiAgICAgICAgZmluaXNoZWQgPSBGYWxzZQogICAgICAgIGJsb2NrZWRfbmdyYW1zID0gc2VsZi5nZXRfYmxvY2tlZF9uZ3JhbXMoc3RhdGVzLnRhcmdldF9pbmRpY2VzKQogICAgICAgIGRlY29kZXJfZmVhdHVyZXNfb3V0ID0gTm9uZQoKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBpbmRleCwgcHJvYiwgZGVjb2Rlcl9mZWF0dXJlcyA9IHNlbGYucnVuX2RlY29kZXIoc3RhdGVzLCBwcmVkX2luZGljZXMpCgogICAgICAgICAgICBpZiBkZWNvZGVyX2ZlYXR1cmVzX291dCBpcyBOb25lOgogICAgICAgICAgICAgICAgZGVjb2Rlcl9mZWF0dXJlc19vdXQgPSBkZWNvZGVyX2ZlYXR1cmVzLm5ldygwKQogICAgICAgICAgICBkZWNvZGVyX2ZlYXR1cmVzX291dCA9IHRvcmNoLmNhdCgKICAgICAgICAgICAgICAgIFtkZWNvZGVyX2ZlYXR1cmVzX291dCwgZGVjb2Rlcl9mZWF0dXJlc10sIGRpbT0xCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHNlbGYubm9fZWFybHlfc3RvcAogICAgICAgICAgICAgICAgYW5kIG5vdCBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkCiAgICAgICAgICAgICAgICBhbmQgKHByb2IgPCBzZWxmLmRlY2lzaW9uX3RocmVzaG9sZCBvciBpbmRleCA9PSBzZWxmLmVvc19pZHgpCiAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICBpZiBwcm9iID09IDEuMDoKICAgICAgICAgICAgICAgICAgICBwcmVkX2luZGljZXMgPSBbXQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgYmxvY2tfbmdyYW0sIGRlY29kZXJfZmVhdHVyZXNfb3V0ID0gc2VsZi5tYXliZV9ibG9ja19uZ3JhbXMoCiAgICAgICAgICAgICAgICBzdGF0ZXMsIHByZWRfaW5kaWNlcywgZGVjb2Rlcl9mZWF0dXJlc19vdXQsIGJsb2NrZWRfbmdyYW1zLCBpbmRleAogICAgICAgICAgICApCiAgICAgICAgICAgIGlmIGJsb2NrX25ncmFtOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZmluaXNoZWQKICAgICAgICAgICAgICAgIG9yIGluZGV4ID09IHNlbGYuZW9zX2lkeAogICAgICAgICAgICAgICAgb3IgbGVuKHN0YXRlcy50YXJnZXRfaW5kaWNlcyArIHByZWRfaW5kaWNlcykgPiBzZWxmLm1heF9sZW4oc3RhdGVzKQogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgZmluaXNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgaWYgcHJvYiA8IHNlbGYuZGVjaXNpb25fdGhyZXNob2xkIGFuZCBub3Qgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBsZW4oc3RhdGVzLnRhcmdldF9pbmRpY2VzICsgcHJlZF9pbmRpY2VzKSA+PSBzZWxmLm1heF9sZW4oc3RhdGVzKQogICAgICAgICAgICAgICAgb3IgbGVuKHByZWRfaW5kaWNlcykgPj0gc2VsZi5tYXhfY29uc2VjdXRpdmVfd3JpdGVzCiAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgcHJlZF9pbmRpY2VzLmFwcGVuZChpbmRleCkKICAgICAgICAgICAgaWYgc2VsZi5zdGF0ZV9iYWcuc3RlcF9uciA9PSAwOgogICAgICAgICAgICAgICAgc2VsZi5zdGF0ZV9iYWcuaW5jcmVtZW50X3N0ZXBfbnIoCiAgICAgICAgICAgICAgICAgICAgbGVuKHNlbGYucHJlZml4X2luZGljZXMgKyBzdGF0ZXMudGFyZ2V0X2luZGljZXMpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlX2JhZy5pbmNyZW1lbnRfc3RlcF9ucigpCgogICAgICAgIHN0YXRlcy50YXJnZXRfaW5kaWNlcyArPSBwcmVkX2luZGljZXMKCiAgICAgICAgaWYgbGVuKHByZWRfaW5kaWNlcykgPiAwIG9yIGZpbmlzaGVkOgogICAgICAgICAgICBmaW5pc2hlZCA9IGZpbmlzaGVkIG9yIGxlbigKICAgICAgICAgICAgICAgIHN0YXRlcy50YXJnZXRfaW5kaWNlcyArIHByZWRfaW5kaWNlcwogICAgICAgICAgICApID4gc2VsZi5tYXhfbGVuKHN0YXRlcykKICAgICAgICAgICAgc3RhdGVzLm5ncmFtX2Jsb2NrX2NvdW50ID0gMAogICAgICAgICAgICByZXR1cm4gV3JpdGVBY3Rpb24oCiAgICAgICAgICAgICAgICBzZWxmLnBvc3Rwcm9jZXNzKHN0YXRlcywgcHJlZF9pbmRpY2VzLCBmaW5pc2hlZCwgZGVjb2Rlcl9mZWF0dXJlc19vdXQpLAogICAgICAgICAgICAgICAgZmluaXNoZWQ9ZmluaXNoZWQsCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgoKY2xhc3MgTU1BU3BlZWNoVG9UZXh0RGVjb2RlckFnZW50KE1NQVRleHREZWNvZGVyQWdlbnQpOgogICAgc291cmNlX3R5cGUgPSAic3BlZWNoIgoKCkBkYXRhY2xhc3MKY2xhc3MgVW5pdFlUZXh0RGVjb2Rlck91dHB1dDoKICAgIGRlY29kZXJfZmVhdHVyZXM6IFRlbnNvcgogICAgdG9rZW5zOiBMaXN0W3N0cl0KICAgIHRhcmdldF9pbmRpY2VzOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZQoKCmNsYXNzIFVuaXRZTU1BVGV4dERlY29kZXJBZ2VudChNTUFTcGVlY2hUb1RleHREZWNvZGVyQWdlbnQpOgogICAgIiIiCiAgICBNTUEgVW5pdFkgdGV4dCBkZWNvZGVyIGFnZW50IHdoaWNoIGp1c3QgcHJlcGFyZXMgdGhlIGRlY29kZXIKICAgIG91dHB1dCBmb3IgdGhlIGRvd25zdHJlYW0gYWdlbnQuCiAgICAiIiIKCiAgICBkZWYgcG9zdHByb2Nlc3MoCiAgICAgICAgc2VsZiwKICAgICAgICBzdGF0ZXM6IERlY29kZXJBZ2VudFN0YXRlcywKICAgICAgICBwcmVkX2luZGljZXM6IExpc3RbaW50XSwKICAgICAgICBmaW5pc2hlZDogYm9vbCwKICAgICAgICBkZWNvZGVyX2ZlYXR1cmVzX291dDogT3B0aW9uYWxbVGVuc29yXSA9IE5vbmUsCiAgICApIC0+IFRleHRTZWdtZW50OgogICAgICAgIHRva2VuczogTGlzdFtzdHJdID0gWwogICAgICAgICAgICBzZWxmLnRleHRfdG9rZW5pemVyLm1vZGVsLmluZGV4X3RvX3Rva2VuKGlkeCkgZm9yIGlkeCBpbiBwcmVkX2luZGljZXMKICAgICAgICBdCiAgICAgICAgYXNzZXJ0IGRlY29kZXJfZmVhdHVyZXNfb3V0IGlzIG5vdCBOb25lCiAgICAgICAgdG9rZW5fbGlzdCA9IHNlbGYucHJlZml4X2luZGljZXMgKyBzdGF0ZXMudGFyZ2V0X2luZGljZXMKICAgICAgICBpZiAoCiAgICAgICAgICAgIGxlbihwcmVkX2luZGljZXMpID4gMAogICAgICAgICAgICBhbmQgcHJlZF9pbmRpY2VzWy0xXSAhPSBzZWxmLnRleHRfdG9rZW5pemVyLnZvY2FiX2luZm8uZW9zX2lkeAogICAgICAgICk6CiAgICAgICAgICAgICMgQXBwZW5kICIsIiB0byBtYWtlIHNwZWVjaCBzbW9vdGgKICAgICAgICAgICAgIyBUT0RPOiBhIHRlbXBvcmFyeSBzb2x1dGlvbi4KICAgICAgICAgICAgZW5kaW5nX3Rva2VuX2luZGV4ID0gc2VsZi50ZXh0X3Rva2VuaXplci5tb2RlbC50b2tlbl90b19pbmRleCgiLCIpCiAgICAgICAgICAgIHRva2VuX2xpc3QuYXBwZW5kKGVuZGluZ190b2tlbl9pbmRleCkKICAgICAgICAgICAgc2VsZi5zdGF0ZV9iYWcuaW5jcmVtZW50X3N0ZXBfbnIoKQoKICAgICAgICAgICAgXywgXywgZGVjb2Rlcl9mZWF0dXJlcyA9IHNlbGYucnVuX2RlY29kZXIoc3RhdGVzLCBbZW5kaW5nX3Rva2VuX2luZGV4XSkKICAgICAgICAgICAgZGVjb2Rlcl9mZWF0dXJlc19vdXQgPSB0b3JjaC5jYXQoCiAgICAgICAgICAgICAgICBbZGVjb2Rlcl9mZWF0dXJlc19vdXQsIGRlY29kZXJfZmVhdHVyZXNdLCBkaW09MQogICAgICAgICAgICApCgogICAgICAgIHRhcmdldF9pbnB1dCA9IHRvcmNoLnRlbnNvcigKICAgICAgICAgICAgdG9rZW5fbGlzdCwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT10b3JjaC5pbnQ2NCwKICAgICAgICApLnVuc3F1ZWV6ZSgwKQoKICAgICAgICByZXR1cm4gVGV4dFNlZ21lbnQoCiAgICAgICAgICAgIGNvbnRlbnQ9VW5pdFlUZXh0RGVjb2Rlck91dHB1dChkZWNvZGVyX2ZlYXR1cmVzX291dCwgdG9rZW5zLCB0YXJnZXRfaW5wdXQpLAogICAgICAgICAgICBmaW5pc2hlZD1maW5pc2hlZCwKICAgICAgICAgICAgdGd0X2xhbmc9c3RhdGVzLnRndF9sYW5nLAogICAgICAgICkK'),
    ('seamless/src/seamless_communication/toxicity/etox_bad_word_checker.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBjb2RlY3MKaW1wb3J0IHJlCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgRGljdCwgTGlzdCwgU2V0LCBVbmlvbgoKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0ICgKICAgIEFzc2V0Q2FyZCwKICAgIEFzc2V0RG93bmxvYWRNYW5hZ2VyLAogICAgQXNzZXRTdG9yZSwKICAgIGFzc2V0X3N0b3JlIGFzIGJhc2VfYXNzZXRfc3RvcmUsCiAgICBkb3dubG9hZF9tYW5hZ2VyIGFzIGJhc2VfZG93bmxvYWRfbWFuYWdlciwKKQpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi5kYXRhLnRleHQgaW1wb3J0IFNlbnRlbmNlUGllY2VFbmNvZGVyLCBTZW50ZW5jZVBpZWNlTW9kZWwKCgpjbGFzcyBFVE9YQmFkV29yZENoZWNrZXI6CiAgICBiYWRfd29yZHM6IERpY3Rbc3RyLCBMaXN0W3N0cl1dCiAgICBiYWRfd29yZF92YXJpYW50czogRGljdFtzdHIsIERpY3Rbc3RyLCBMaXN0W3N0cl1dXQogICAgc3BfZW5jb2RlcjogU2VudGVuY2VQaWVjZUVuY29kZXIKICAgIHNwX2xhbmdzOiBTZXRbc3RyXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGJhZF93b3JkczogRGljdFtzdHIsIExpc3Rbc3RyXV0sCiAgICAgICAgYmFkX3dvcmRfdmFyaWFudHM6IERpY3Rbc3RyLCBEaWN0W3N0ciwgTGlzdFtzdHJdXV0sCiAgICAgICAgc3BfZW5jb2RlcjogU2VudGVuY2VQaWVjZUVuY29kZXIsCiAgICAgICAgc3BfbGFuZ3M6IFNldFtzdHJdLAogICAgKToKICAgICAgICBzZWxmLmJhZF93b3JkcyA9IGJhZF93b3JkcwogICAgICAgIHNlbGYuYmFkX3dvcmRfdmFyaWFudHMgPSBiYWRfd29yZF92YXJpYW50cwogICAgICAgIHNlbGYuc3BfZW5jb2RlciA9IHNwX2VuY29kZXIKICAgICAgICBzZWxmLnNwX2xhbmdzID0gc3BfbGFuZ3MKCiAgICBkZWYgZXh0cmFjdF9iYWRfd29yZHMoCiAgICAgICAgc2VsZiwKICAgICAgICBzb3VyY2VfdGV4dDogc3RyLAogICAgICAgIHRhcmdldF90ZXh0OiBzdHIsCiAgICAgICAgc291cmNlX2xhbmc6IHN0ciwKICAgICAgICB0YXJnZXRfbGFuZzogc3RyLAogICAgKSAtPiBMaXN0W3N0cl06CiAgICAgICAgYmFkX3dvcmRzX2luX3RhcmdldF90ZXh0ID0gc2VsZi5nZXRfYmFkX3dvcmRzKAogICAgICAgICAgICB0YXJnZXRfdGV4dCwKICAgICAgICAgICAgdGFyZ2V0X2xhbmcsCiAgICAgICAgKQoKICAgICAgICAjIElmIHRoZXJlIGFyZSBubyBiYWQgd29yZHMgaW4gdGhlIHRhcmdldCB0ZXh0LCBkbyBub3RoaW5nLgogICAgICAgIGlmIGxlbihiYWRfd29yZHNfaW5fdGFyZ2V0X3RleHQpID09IDA6CiAgICAgICAgICAgIHJldHVybiBbXQoKICAgICAgICBiYWRfd29yZHNfaW5fc291cmNlX3RleHQgPSBzZWxmLmdldF9iYWRfd29yZHMoCiAgICAgICAgICAgIHNvdXJjZV90ZXh0LAogICAgICAgICAgICBzb3VyY2VfbGFuZywKICAgICAgICApCgogICAgICAgICMgSWYgdGhlcmUgYXJlIGJhZCB3b3JkcyBpbiB0aGUgc291cmNlIHRleHQsIGRvIG5vdGhpbmcuCiAgICAgICAgaWYgbGVuKGJhZF93b3Jkc19pbl9zb3VyY2VfdGV4dCkgPiAwOgogICAgICAgICAgICByZXR1cm4gW10KCiAgICAgICAgYmFkX3dvcmRzOiBMaXN0W3N0cl0gPSBbXQoKICAgICAgICBmb3Igd29yZCBpbiBiYWRfd29yZHNfaW5fdGFyZ2V0X3RleHQ6CiAgICAgICAgICAgIGJhZF93b3Jkcy5leHRlbmQoc2VsZi5iYWRfd29yZF92YXJpYW50c1t0YXJnZXRfbGFuZ11bd29yZF0pCgogICAgICAgIHJldHVybiBiYWRfd29yZHMKCiAgICBkZWYgZ2V0X2JhZF93b3JkcyhzZWxmLCB0ZXh0OiBzdHIsIGxhbmc6IHN0cikgLT4gTGlzdFtzdHJdOgogICAgICAgIHRyeToKICAgICAgICAgICAgYmFkX3dvcmRzID0gc2VsZi5iYWRfd29yZHNbbGFuZ10KICAgICAgICBleGNlcHQgS2V5RXJyb3IgYXMgZToKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKGYiTWluVG94IG1vZGVsIGRvZXMgbm90IHN1cHBvcnQge2xhbmd9LiIpIGZyb20gZQoKICAgICAgICB0ZXh0ID0gc2VsZi5fcHJlcHJvY2Vzcyh0ZXh0KQoKICAgICAgICBpZiBsYW5nIGluIHNlbGYuc3BfbGFuZ3M6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9maW5kX2JhZF93b3Jkc19pbl9zcCh0ZXh0LCBiYWRfd29yZHMpCgogICAgICAgIHJldHVybiBzZWxmLl9maW5kX2JhZF93b3Jkcyh0ZXh0LCBiYWRfd29yZHMpCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9wcmVwcm9jZXNzKHRleHQ6IHN0cikgLT4gc3RyOgogICAgICAgIHJldHVybiByZS5zdWIociJbXFcrXSIsICIgIiwgdGV4dC5sb3dlcigpKQoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfZmluZF9iYWRfd29yZHModGV4dDogc3RyLCBiYWRfd29yZHM6IExpc3Rbc3RyXSkgLT4gTGlzdFtzdHJdOgogICAgICAgIG91dHB1dDogTGlzdFtzdHJdID0gW10KCiAgICAgICAgdGV4dCA9ICIgIiArIHRleHQubG93ZXIoKSArICIgIgoKICAgICAgICBiYWRfd29yZHMgPSBbIiAiICsgd29yZC5sb3dlcigpICsgIiAiIGZvciB3b3JkIGluIGJhZF93b3Jkc10KCiAgICAgICAgZm9yIHdvcmQgaW4gYmFkX3dvcmRzOgogICAgICAgICAgICBpZiB3b3JkIGluIHRleHQ6CiAgICAgICAgICAgICAgICBvdXRwdXQuYXBwZW5kKHdvcmQpCgogICAgICAgIHJldHVybiBbd29yZC5zdHJpcCgiICIpIGZvciB3b3JkIGluIG91dHB1dF0KCiAgICBkZWYgX2ZpbmRfYmFkX3dvcmRzX2luX3NwKHNlbGYsIHRleHQ6IHN0ciwgYmFkX3dvcmRzOiBMaXN0W3N0cl0pIC0+IExpc3Rbc3RyXToKICAgICAgICB0ZXh0X3Rva2VucyA9IHNlbGYuc3BfZW5jb2Rlci5lbmNvZGVfYXNfdG9rZW5zKHRleHQubG93ZXIoKSkKCiAgICAgICAgb3V0cHV0OiBMaXN0W3N0cl0gPSBbXQoKICAgICAgICBmb3Igd29yZCBpbiBiYWRfd29yZHM6CiAgICAgICAgICAgIHdvcmRfdG9rZW5zID0gc2VsZi5zcF9lbmNvZGVyLmVuY29kZV9hc190b2tlbnMod29yZC5sb3dlcigpKQoKICAgICAgICAgICAgaWYgc2VsZi5fY29udGFpbnNfdG9rZW5zKHRleHRfdG9rZW5zLCB3b3JkX3Rva2Vucyk6CiAgICAgICAgICAgICAgICBvdXRwdXQuYXBwZW5kKHN0cih3b3JkKSkKCiAgICAgICAgcmV0dXJuIG91dHB1dAoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfY29udGFpbnNfdG9rZW5zKAogICAgICAgIHRleHRfdG9rZW5zOiBMaXN0W1N0cmluZ0xpa2VdLCB3b3JkX3Rva2VuczogTGlzdFtTdHJpbmdMaWtlXQogICAgKSAtPiBib29sOgogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbih0ZXh0X3Rva2VucykgLSBsZW4od29yZF90b2tlbnMpICsgMSk6CiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbih3b3JkX3Rva2VucykpOgogICAgICAgICAgICAgICAgaWYgdGV4dF90b2tlbnNbaSArIGpdICE9IHdvcmRfdG9rZW5zW2pdOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICAgICByZXR1cm4gRmFsc2UKCgpjbGFzcyBFVE9YQmFkV29yZENoZWNrZXJMb2FkZXI6CiAgICBhc3NldF9zdG9yZTogQXNzZXRTdG9yZQogICAgZG93bmxvYWRfbWFuYWdlcjogQXNzZXREb3dubG9hZE1hbmFnZXIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBhc3NldF9zdG9yZTogQXNzZXRTdG9yZSwKICAgICAgICBkb3dubG9hZF9tYW5hZ2VyOiBBc3NldERvd25sb2FkTWFuYWdlciwKICAgICkgLT4gTm9uZToKICAgICAgICBzZWxmLmFzc2V0X3N0b3JlID0gYXNzZXRfc3RvcmUKICAgICAgICBzZWxmLmRvd25sb2FkX21hbmFnZXIgPSBkb3dubG9hZF9tYW5hZ2VyCgogICAgZGVmIF9fY2FsbF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkOiBVbmlvbltzdHIsIEFzc2V0Q2FyZF0sCiAgICApIC0+IEVUT1hCYWRXb3JkQ2hlY2tlcjoKICAgICAgICBpZiBpc2luc3RhbmNlKG1vZGVsX25hbWVfb3JfY2FyZCwgQXNzZXRDYXJkKToKICAgICAgICAgICAgY2FyZCA9IG1vZGVsX25hbWVfb3JfY2FyZAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNhcmQgPSBzZWxmLmFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQobW9kZWxfbmFtZV9vcl9jYXJkKQoKICAgICAgICBiYWRfd29yZHM6IERpY3Rbc3RyLCBMaXN0W3N0cl1dID0ge30KCiAgICAgICAgYmFkX3dvcmRfdmFyaWFudHM6IERpY3Rbc3RyLCBEaWN0W3N0ciwgTGlzdFtzdHJdXV0gPSB7fQoKICAgICAgICBldG94X2xhbmdfdmFyaWFudHMgPSBjYXJkLmZpZWxkKCJldG94X2xhbmdfdmFyaWFudHMiKS5hc19zZXQoc3RyKQoKICAgICAgICBldG94X2RzX3VyaSA9IGNhcmQuZmllbGQoImV0b3hfZGF0YXNldCIpLmFzX3VyaSgpCgogICAgICAgIGV0b3hfZHNfcGF0aCA9IHNlbGYuZG93bmxvYWRfbWFuYWdlci5kb3dubG9hZF9kYXRhc2V0KGV0b3hfZHNfdXJpLCAiZXRveCIpCgogICAgICAgIGZvciB3b3JkX2ZpbGUgaW4gZXRveF9kc19wYXRoLml0ZXJkaXIoKToKICAgICAgICAgICAgbGFuZyA9IHdvcmRfZmlsZS5uYW1lWzo4XQoKICAgICAgICAgICAgaWYgbGFuZyBub3QgaW4gZXRveF9sYW5nX3ZhcmlhbnRzOgogICAgICAgICAgICAgICAgbGFuZyA9IGxhbmdbOjNdCgogICAgICAgICAgICB3b3JkcyA9IHNlbGYuX2xvYWRfd29yZHMod29yZF9maWxlKQoKICAgICAgICAgICAgYmFkX3dvcmRzW2xhbmddID0gd29yZHMKCiAgICAgICAgICAgIGJhZF93b3JkX3ZhcmlhbnRzW2xhbmddID0ge30KCiAgICAgICAgICAgIGZvciB3b3JkIGluIHdvcmRzOgogICAgICAgICAgICAgICAgYmFkX3dvcmRfdmFyaWFudHNbbGFuZ11bd29yZF0gPSBbCiAgICAgICAgICAgICAgICAgICAgd29yZC5sb3dlcigpLAogICAgICAgICAgICAgICAgICAgIHdvcmQudXBwZXIoKSwKICAgICAgICAgICAgICAgICAgICB3b3JkLmNhcGl0YWxpemUoKSwKICAgICAgICAgICAgICAgIF0KCiAgICAgICAgc3BfdXJpID0gY2FyZC5maWVsZCgic3BfbW9kZWwiKS5hc191cmkoKQoKICAgICAgICBzcF9wYXRobmFtZSA9IHNlbGYuZG93bmxvYWRfbWFuYWdlci5kb3dubG9hZF90b2tlbml6ZXIoc3BfdXJpLCBjYXJkLm5hbWUpCgogICAgICAgIHNwX21vZGVsID0gU2VudGVuY2VQaWVjZU1vZGVsKHNwX3BhdGhuYW1lKQoKICAgICAgICBzcF9lbmNvZGVyID0gU2VudGVuY2VQaWVjZUVuY29kZXIoc3BfbW9kZWwpCgogICAgICAgIHNwX2xhbmdzID0gY2FyZC5maWVsZCgic3BfbGFuZ3MiKS5hc19zZXQoc3RyKQoKICAgICAgICByZXR1cm4gRVRPWEJhZFdvcmRDaGVja2VyKAogICAgICAgICAgICBiYWRfd29yZHMsCiAgICAgICAgICAgIGJhZF93b3JkX3ZhcmlhbnRzLAogICAgICAgICAgICBzcF9lbmNvZGVyLAogICAgICAgICAgICBzcF9sYW5ncywKICAgICAgICApCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9sb2FkX3dvcmRzKHBhdGhuYW1lOiBQYXRoKSAtPiBMaXN0W3N0cl06CiAgICAgICAgd29yZHM6IExpc3Rbc3RyXSA9IFtdCgogICAgICAgIHdpdGggb3BlbihwYXRobmFtZSwgInIiLCBlbmNvZGluZz0idXRmLTgiKSBhcyBmcDoKICAgICAgICAgICAgZm9yIGxpbmUgaW4gZnAucmVhZGxpbmVzKCk6CiAgICAgICAgICAgICAgICB3b3Jkcy5hcHBlbmQoY29kZWNzLmVuY29kZShsaW5lLCAicm90XzEzIikucnN0cmlwKCJcbiIpKQoKICAgICAgICByZXR1cm4gbGlzdChzZXQod29yZHMpKSAgIyBEZWR1cC4KCgpsb2FkX2V0b3hfYmFkX3dvcmRfY2hlY2tlciA9IEVUT1hCYWRXb3JkQ2hlY2tlckxvYWRlcigKICAgIGJhc2VfYXNzZXRfc3RvcmUsCiAgICBiYXNlX2Rvd25sb2FkX21hbmFnZXIsCikK'),
    ('seamless/src/seamless_communication/toxicity/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi50b3hpY2l0eS5ldG94X2JhZF93b3JkX2NoZWNrZXIgaW1wb3J0ICgKICAgIEVUT1hCYWRXb3JkQ2hlY2tlciBhcyBFVE9YQmFkV29yZENoZWNrZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5LmV0b3hfYmFkX3dvcmRfY2hlY2tlciBpbXBvcnQgKAogICAgbG9hZF9ldG94X2JhZF93b3JkX2NoZWNrZXIgYXMgbG9hZF9ldG94X2JhZF93b3JkX2NoZWNrZXIsCikK'),
    ('seamless/src/seamless_communication/toxicity/mintox.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBsb2dnaW5nCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgppbXBvcnQgdG9yY2gKZnJvbSB0b3JjaC5ubiBpbXBvcnQgZnVuY3Rpb25hbCBhcyBGCgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZSBpbXBvcnQgU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi50b3hpY2l0eS5ldG94X2JhZF93b3JkX2NoZWNrZXIgaW1wb3J0ICgKICAgIEVUT1hCYWRXb3JkQ2hlY2tlciwKKQpmcm9tIGZhaXJzZXEyLmdlbmVyYXRpb24gaW1wb3J0IEJhbm5lZFNlcXVlbmNlUHJvY2Vzc29yCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0LnRleHRfdG9rZW5pemVyIGltcG9ydCBUZXh0VG9rZW5pemVyCmZyb20gZmFpcnNlcTIuZGF0YS50eXBpbmcgaW1wb3J0IFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERldmljZQpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFNlcXVlbmNlRGF0YQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IGdldF9zZXFzX2FuZF9wYWRkaW5nX21hc2sKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eSBpbXBvcnQgKAogICAgVW5pdFRva2VuaXplciwKICAgIFVuaXRZTW9kZWwsCikKCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgX2V4dHJhY3RfYmFkX3dvcmRzX3dpdGhfYmF0Y2hfaW5kaWNlcygKICAgIHNvdXJjZV90ZXh0czogTGlzdFtTdHJpbmdMaWtlXSwKICAgIHRhcmdldF90ZXh0czogTGlzdFtTdHJpbmdMaWtlXSwKICAgIHNvdXJjZV9sYW5nOiBzdHIsCiAgICB0YXJnZXRfbGFuZzogc3RyLAogICAgYmFkX3dvcmRfY2hlY2tlcjogRVRPWEJhZFdvcmRDaGVja2VyLAopIC0+IFR1cGxlW0xpc3Rbc3RyXSwgTGlzdFtpbnRdXToKICAgIGFsbF9iYWRfd29yZHMsIGJhdGNoX2luZGljZXMgPSBbXSwgW10KCiAgICBmb3IgaWR4LCAoc291cmNlX3RleHQsIHRhcmdldF90ZXh0KSBpbiBlbnVtZXJhdGUoemlwKHNvdXJjZV90ZXh0cywgdGFyZ2V0X3RleHRzKSk6CiAgICAgICAgYmFkX3dvcmRzID0gYmFkX3dvcmRfY2hlY2tlci5leHRyYWN0X2JhZF93b3JkcygKICAgICAgICAgICAgc3RyKHNvdXJjZV90ZXh0KSwgc3RyKHRhcmdldF90ZXh0KSwgc291cmNlX2xhbmcsIHRhcmdldF9sYW5nCiAgICAgICAgKQoKICAgICAgICBpZiBiYWRfd29yZHM6CiAgICAgICAgICAgIGJhdGNoX2luZGljZXMuYXBwZW5kKGlkeCkKCiAgICAgICAgICAgIGFsbF9iYWRfd29yZHMuZXh0ZW5kKGJhZF93b3JkcykKCiAgICByZXR1cm4gYWxsX2JhZF93b3JkcywgYmF0Y2hfaW5kaWNlcwoKCmRlZiBfcmVwbGFjZV93aXRoX25ld190ZXh0X291dHB1dF9pbl9iYXRjaCgKICAgIG9yaWdpbmFsX3RleHRzOiBMaXN0W1N0cmluZ0xpa2VdLAogICAgaW5kaWNlc193aXRoX3RveGljaXR5OiBMaXN0W2ludF0sCiAgICBuZXdfdGV4dHM6IExpc3RbU3RyaW5nTGlrZV0sCikgLT4gTm9uZToKICAgIG5ld19pZHggPSAwCiAgICAjIGluZGljZXNfd2l0aF90b3hpY2l0eSBpcyBhIHNtYWxsIGxpc3QsIHVzaW5nIGxpc3Qgc2hvdWxkIGJlIGZhc3QgZW5vdWdoLgogICAgZm9yIG9yaWdpbmFsX2lkeCBpbiByYW5nZShsZW4ob3JpZ2luYWxfdGV4dHMpKToKICAgICAgICBpZiBvcmlnaW5hbF9pZHggaW4gaW5kaWNlc193aXRoX3RveGljaXR5OgogICAgICAgICAgICBvcmlnaW5hbF90ZXh0c1tvcmlnaW5hbF9pZHhdID0gbmV3X3RleHRzW25ld19pZHhdCiAgICAgICAgICAgIG5ld19pZHggKz0gMQoKCmRlZiBfcmVwbGFjZV93aXRoX25ld191bml0X291dHB1dF9pbl9iYXRjaCgKICAgIHVuaXRfdG9rZW5pemVyOiBVbml0VG9rZW5pemVyLAogICAgb3JpZ2luYWxfdW5pdHM6IFRlbnNvciwKICAgIGluZGljZXNfd2l0aF90b3hpY2l0eV90ZW5zb3I6IFRlbnNvciwKICAgIG5ld191bml0czogVGVuc29yLAopIC0+IE5vbmU6CiAgICBvcmlnaW5hbF91bml0c19sZW5ndGggPSBvcmlnaW5hbF91bml0cy5zaXplKDEpCiAgICBuZXdfdW5pdHNfbGVuZ3RoID0gbmV3X3VuaXRzLnNpemUoMSkKICAgIGxlbmd0aF9kaWZmID0gYWJzKG5ld191bml0c19sZW5ndGggLSBvcmlnaW5hbF91bml0c19sZW5ndGgpCiAgICBuYl9wYWRzID0gKDAsIGxlbmd0aF9kaWZmKQogICAgcGFkX2lkeCA9IHVuaXRfdG9rZW5pemVyLnZvY2FiX2luZm8ucGFkX2lkeCBvciAxCiAgICBpZiBuZXdfdW5pdHNfbGVuZ3RoID4gb3JpZ2luYWxfdW5pdHNfbGVuZ3RoOgogICAgICAgICMgcGFkIG9uIHRoZSBvcmlnaW5hbCB1bml0cwogICAgICAgIG9yaWdpbmFsX3VuaXRzID0gRi5wYWQoCiAgICAgICAgICAgIG9yaWdpbmFsX3VuaXRzLCBwYWQ9bmJfcGFkcywgbW9kZT0iY29uc3RhbnQiLCB2YWx1ZT1wYWRfaWR4CiAgICAgICAgKQogICAgZWxzZToKICAgICAgICAjIHBhZCBvbiB0aGUgbmV3IHVuaXRzCiAgICAgICAgbmV3X3VuaXRzID0gRi5wYWQoCiAgICAgICAgICAgIG5ld191bml0cywgcGFkPW5iX3BhZHMsIG1vZGU9ImNvbnN0YW50IiwgdmFsdWU9cGFkX2lkeAogICAgICAgICkKICAgIG9yaWdpbmFsX3VuaXRzW2luZGljZXNfd2l0aF90b3hpY2l0eV90ZW5zb3JdID0gbmV3X3VuaXRzCgoKZGVmIG1pbnRveF9waXBlbGluZSgKICAgIG1vZGVsOiBVbml0WU1vZGVsLAogICAgdGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIsCiAgICB1bml0X3Rva2VuaXplcjogVW5pdFRva2VuaXplciwKICAgIGRldmljZTogRGV2aWNlLAogICAgc3JjX2xhbmc6IHN0ciwKICAgIHRndF9sYW5nOiBzdHIsCiAgICBtb2RlbF9pbnB1dDogU2VxdWVuY2VEYXRhLAogICAgaW5wdXRfbW9kYWxpdHk6ICJNb2RhbGl0eSIsCiAgICBvdXRwdXRfbW9kYWxpdHk6ICJNb2RhbGl0eSIsCiAgICBzcmNfdGV4dHM6IExpc3RbU3RyaW5nTGlrZV0sCiAgICBvcmlnaW5hbF90ZXh0czogTGlzdFtTdHJpbmdMaWtlXSwKICAgIG9yaWdpbmFsX3VuaXRzOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc6IGJvb2wgPSBGYWxzZSwKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzOiBPcHRpb25hbFtTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdID0gTm9uZSwKICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzOiBPcHRpb25hbFtTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdID0gTm9uZSwKICAgIGJhZF93b3JkX2NoZWNrZXI6IEVUT1hCYWRXb3JkQ2hlY2tlciA9IE5vbmUsCiAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgcHJvc29keV9lbmNvZGVyX2lucHV0OiBPcHRpb25hbFtTZXF1ZW5jZURhdGFdID0gTm9uZSwKKSAtPiBUdXBsZVtMaXN0W1N0cmluZ0xpa2VdLCBPcHRpb25hbFtUZW5zb3JdXToKICAgICIiIk1pblRveDogTWl0aWdhdGlvbiBhdCBJTmZlcmVuY2UgdGltZSBvZiBhZGRlZCBUT1hpY2l0eS4iIiIKICAgIGZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5pbmZlcmVuY2UudHJhbnNsYXRvciBpbXBvcnQgTW9kYWxpdHksIFRyYW5zbGF0b3IKCiAgICBpZiB0ZXh0X2dlbmVyYXRpb25fb3B0cyBpcyBOb25lOgogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzID0gU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zKAogICAgICAgICAgICBiZWFtX3NpemU9NSwgc29mdF9tYXhfc2VxX2xlbj0oMSwgMjAwKQogICAgICAgICkKICAgIGlmIHVuaXRfZ2VuZXJhdGlvbl9vcHRzIGlzIE5vbmU6CiAgICAgICAgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICAgICAgICAgIGJlYW1fc2l6ZT01LCBzb2Z0X21heF9zZXFfbGVuPSgyNSwgNTApCiAgICAgICAgKQoKICAgIGRlZiBfZ2V0X2Jhbm5lZF9zZXF1ZW5jZV9wcm9jZXNzb3IoCiAgICAgICAgYmFubmVkX3NlcXVlbmNlczogTGlzdFtzdHJdLAogICAgKSAtPiBCYW5uZWRTZXF1ZW5jZVByb2Nlc3NvcjoKICAgICAgICB0ZXh0X2VuY29kZXIgPSB0ZXh0X3Rva2VuaXplci5jcmVhdGVfcmF3X2VuY29kZXIoZGV2aWNlPWRldmljZSkKCiAgICAgICAgYmFubmVkX3NlcXMgPSBbdGV4dF9lbmNvZGVyKGIpIGZvciBiIGluIGJhbm5lZF9zZXF1ZW5jZXNdCiAgICAgICAgIyBBIGJhbm5kZWQgc3RyaW5nIG9mdGVuIGFwcGVhcnMgYWZ0ZXIgc29tZSBwdW5jYXR1YXRpb25zIG9yIHN5bWJvbHMsIHdlIHdhbnQKICAgICAgICAjIHRvIGluY2x1ZGUgdGhpcyBzZXF1ZW5jZSBvZiB0b2tlbiBpZHMgYXMgd2VsbC4KICAgICAgICAjIFNvIHdlIGNhbiBiYW4gbm90IG9ubHkgdGhlIHN0cmluZyAic2hpdCIgYnV0IGFsc28gIipzaGl0IiwgIixzaGl0IiBldGMuCiAgICAgICAgYmFubmVkX3NlcXMgKz0gW3RleHRfZW5jb2RlcihmIuKYhXt4fSIpWzE6XSBmb3IgeCBpbiBiYW5uZWRfc2VxdWVuY2VzXQogICAgICAgIHJldHVybiBCYW5uZWRTZXF1ZW5jZVByb2Nlc3NvcihiYW5uZWRfc2VxcykKCiAgICBiYWRfd29yZHMsIGluZGljZXNfd2l0aF90b3hpY2l0eSA9IF9leHRyYWN0X2JhZF93b3Jkc193aXRoX2JhdGNoX2luZGljZXMoCiAgICAgICAgc3JjX3RleHRzLAogICAgICAgIG9yaWdpbmFsX3RleHRzLAogICAgICAgIHNyY19sYW5nLAogICAgICAgIHRndF9sYW5nLAogICAgICAgIGJhZF93b3JkX2NoZWNrZXIsCiAgICApCgogICAgaWYgbGVuKGluZGljZXNfd2l0aF90b3hpY2l0eSkgPT0gMDoKICAgICAgICAjIGlmIG5vIGFkZGVkIHRveGljaXR5IGlzIGZvdW5kLCByZXRydW4gdGhlIG9yaWduYWwgb3V0cHV0CiAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlRFWFQ6CiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF90ZXh0cywgTm9uZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF90ZXh0cywgb3JpZ2luYWxfdW5pdHMKICAgIGVsc2U6CiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgICJUT1ggc3JjX2xhbmc9JXMgdGd0X2xhbmc9JXMgYWRkZWRfdG94PSVkIiwKICAgICAgICAgICAgc3JjX2xhbmcsCiAgICAgICAgICAgIHRndF9sYW5nLAogICAgICAgICAgICBsZW4oaW5kaWNlc193aXRoX3RveGljaXR5KSwKICAgICAgICApCiAgICAgICAgIyBvdGhlcndpc2UsIHJlZG8gdGhlIHByZWRpY3Rpb24gd2l0aCBhIGxpc3Qgb2YgYmFkIHdvcmRzIHRvIGJhbgogICAgICAgIGJhbm5lZF9zZXF1ZW5jZV9wcm9jZXNzb3IgPSBfZ2V0X2Jhbm5lZF9zZXF1ZW5jZV9wcm9jZXNzb3IoCiAgICAgICAgICAgIGJhbm5lZF9zZXF1ZW5jZXM9bGlzdChzZXQoYmFkX3dvcmRzKSksCiAgICAgICAgKQogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLnN0ZXBfcHJvY2Vzc29yID0gYmFubmVkX3NlcXVlbmNlX3Byb2Nlc3NvcgogICAgICAgICMgc2VsZWN0IG9ubHkgdGhlIHNvdXJjZXMgd2l0aCB0b3hpY2l0eQogICAgICAgIGluZGljZXNfd2l0aF90b3hpY2l0eV90ZW5zb3IgPSB0b3JjaC50ZW5zb3IoCiAgICAgICAgICAgIGluZGljZXNfd2l0aF90b3hpY2l0eSwgZGV2aWNlPWRldmljZQogICAgICAgICkKICAgICAgICBpZiBtb2RlbF9pbnB1dFsiaXNfcmFnZ2VkIl06CiAgICAgICAgICAgIG1vZGVsX2lucHV0WyJzZXFzIl0gPSB0b3JjaC5pbmRleF9zZWxlY3QoCiAgICAgICAgICAgICAgICBpbnB1dD1tb2RlbF9pbnB1dFsic2VxcyJdLAogICAgICAgICAgICAgICAgZGltPTAsCiAgICAgICAgICAgICAgICBpbmRleD1pbmRpY2VzX3dpdGhfdG94aWNpdHlfdGVuc29yLAogICAgICAgICAgICApCiAgICAgICAgICAgIG1vZGVsX2lucHV0WyJzZXFfbGVucyJdID0gdG9yY2guaW5kZXhfc2VsZWN0KAogICAgICAgICAgICAgICAgaW5wdXQ9bW9kZWxfaW5wdXRbInNlcV9sZW5zIl0sCiAgICAgICAgICAgICAgICBkaW09MCwKICAgICAgICAgICAgICAgIGluZGV4PWluZGljZXNfd2l0aF90b3hpY2l0eV90ZW5zb3IsCiAgICAgICAgICAgICkKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrKG1vZGVsX2lucHV0KQogICAgICAgICMgcmVkbyB0aGUgcHJlZGljdGlvbgogICAgICAgIG5ld190ZXh0cywgbmV3X3VuaXRzID0gVHJhbnNsYXRvci5nZXRfcHJlZGljdGlvbigKICAgICAgICAgICAgbW9kZWw9bW9kZWwsCiAgICAgICAgICAgIHRleHRfdG9rZW5pemVyPXRleHRfdG9rZW5pemVyLAogICAgICAgICAgICB1bml0X3Rva2VuaXplcj11bml0X3Rva2VuaXplciwKICAgICAgICAgICAgc2Vxcz1zZXFzLAogICAgICAgICAgICBwYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrLAogICAgICAgICAgICBpbnB1dF9tb2RhbGl0eT1pbnB1dF9tb2RhbGl0eSwKICAgICAgICAgICAgb3V0cHV0X21vZGFsaXR5PW91dHB1dF9tb2RhbGl0eSwKICAgICAgICAgICAgdGd0X2xhbmc9dGd0X2xhbmcsCiAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc9dW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZywKICAgICAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHM9dGV4dF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICBkdXJhdGlvbl9mYWN0b3I9ZHVyYXRpb25fZmFjdG9yLAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9cHJvc29keV9lbmNvZGVyX2lucHV0LAogICAgICAgICkKICAgICAgICBiYXRjaF9zaXplID0gbGVuKG9yaWdpbmFsX3RleHRzKQogICAgICAgIGlmIGJhdGNoX3NpemUgPiAxOgogICAgICAgICAgICAjIHJlY29uc3RydWN0IHRoZSB0ZXh0IG91dHB1dCBieSB1cGRhdGluZyB0aGUgb3JpZ2luYWwgb25lIGluIHBsYWNlCiAgICAgICAgICAgIF9yZXBsYWNlX3dpdGhfbmV3X3RleHRfb3V0cHV0X2luX2JhdGNoKAogICAgICAgICAgICAgICAgb3JpZ2luYWxfdGV4dHMsIGluZGljZXNfd2l0aF90b3hpY2l0eSwgbmV3X3RleHRzCiAgICAgICAgICAgICkKICAgICAgICAgICAgZmluYWxfdGV4dHMgPSBvcmlnaW5hbF90ZXh0cwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGZpbmFsX3RleHRzID0gbmV3X3RleHRzCgogICAgICAgIGlmIG91dHB1dF9tb2RhbGl0eSA9PSBNb2RhbGl0eS5URVhUOgogICAgICAgICAgICByZXR1cm4gZmluYWxfdGV4dHMsIE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBiYXRjaF9zaXplID4gMToKICAgICAgICAgICAgICAgIGFzc2VydCBvcmlnaW5hbF91bml0cyBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgYXNzZXJ0IG5ld191bml0cyBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgIyByZWNvbnN0cnVjdCB0aGUgdW5pdCBvdXRwdXQgYnkgdXBkYXRpbmcgdGhlIG9yaWdpbmFsIG9uZSBpbiBwbGFjZQogICAgICAgICAgICAgICAgX3JlcGxhY2Vfd2l0aF9uZXdfdW5pdF9vdXRwdXRfaW5fYmF0Y2goCiAgICAgICAgICAgICAgICAgICAgdW5pdF90b2tlbml6ZXIsCiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxfdW5pdHMsCiAgICAgICAgICAgICAgICAgICAgaW5kaWNlc193aXRoX3RveGljaXR5X3RlbnNvciwKICAgICAgICAgICAgICAgICAgICBuZXdfdW5pdHMsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBmaW5hbF91bml0cyA9IG9yaWdpbmFsX3VuaXRzCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmaW5hbF91bml0cyA9IG5ld191bml0cwogICAgICAgICAgICByZXR1cm4gZmluYWxfdGV4dHMsIGZpbmFsX3VuaXRzCg=='),
    ('seamless/src/seamless_communication/toxicity/mutox/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgoKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzIGltcG9ydCBDb25maWdMb2FkZXIsIE1vZGVsTG9hZGVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi50b3hpY2l0eS5tdXRveC5idWlsZGVyIGltcG9ydCBjcmVhdGVfbXV0b3hfbW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5Lm11dG94LmNsYXNzaWZpZXIgaW1wb3J0ICgKICAgIE11dG94Q2xhc3NpZmllciwKICAgIE11dG94Q29uZmlnLAogICAgbXV0b3hfYXJjaHMsCikKCmltcG9ydCB0eXBpbmcgYXMgdHAKCgpAbXV0b3hfYXJjaHMuZGVjb3JhdG9yKCJtdXRveCIpCmRlZiBfYmFzZV9tdXRveCgpIC0+IE11dG94Q29uZmlnOgogICAgcmV0dXJuIE11dG94Q29uZmlnKAogICAgICAgIGlucHV0X3NpemU9MTAyNCwKICAgICkKCgpkZWYgY29udmVydF9tdXRveF9jaGVja3BvaW50KAogICAgY2hlY2twb2ludDogdHAuTWFwcGluZ1tzdHIsIHRwLkFueV0sIGNvbmZpZzogTXV0b3hDb25maWcKKSAtPiB0cC5NYXBwaW5nW3N0ciwgdHAuQW55XToKICAgIG5ld19kaWN0ID0ge30KICAgIGZvciBrZXkgaW4gY2hlY2twb2ludDoKICAgICAgICBpZiBrZXkuc3RhcnRzd2l0aCgibW9kZWxfYWxsLiIpOgogICAgICAgICAgICBuZXdfZGljdFtrZXldID0gY2hlY2twb2ludFtrZXldCiAgICByZXR1cm4geyJtb2RlbCI6IG5ld19kaWN0fQoKCmxvYWRfbXV0b3hfY29uZmlnID0gQ29uZmlnTG9hZGVyW011dG94Q29uZmlnXShhc3NldF9zdG9yZSwgbXV0b3hfYXJjaHMpCgoKbG9hZF9tdXRveF9tb2RlbCA9IE1vZGVsTG9hZGVyW011dG94Q2xhc3NpZmllciwgTXV0b3hDb25maWddKAogICAgYXNzZXRfc3RvcmUsCiAgICBkb3dubG9hZF9tYW5hZ2VyLAogICAgbG9hZF9tdXRveF9jb25maWcsCiAgICBjcmVhdGVfbXV0b3hfbW9kZWwsCiAgICBjb252ZXJ0X211dG94X2NoZWNrcG9pbnQsCikK'),
    ('seamless/src/seamless_communication/toxicity/mutox/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgppbXBvcnQgdHlwaW5nIGFzIHRwCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi50b3hpY2l0eS5tdXRveC5jbGFzc2lmaWVyIGltcG9ydCAoCiAgICBNdXRveENsYXNzaWZpZXIsCiAgICBNdXRveENvbmZpZywKKQppbXBvcnQgdG9yY2gKZnJvbSB0b3JjaCBpbXBvcnQgbm4KZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UKCgpjbGFzcyBNdXRveENsYXNzaWZpZXJCdWlsZGVyOgogICAgIiIiCiAgICBCdWlsZGVyIG1vZHVsZSBmb3IgTXV0b3hDbGFzc2lmaWVyIG1vZGVsCiAgICAiIiIKCiAgICBjb25maWc6IE11dG94Q29uZmlnCiAgICBkZXZpY2U6IHRwLk9wdGlvbmFsW0RldmljZV0KICAgIGR0eXBlOiB0cC5PcHRpb25hbFtEYXRhVHlwZV0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IE11dG94Q29uZmlnLAogICAgICAgICosCiAgICAgICAgZGV2aWNlOiB0cC5PcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogdHAuT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gY29uZmlnOgogICAgICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICAgICAgOnBhcmFtIGRldmljZToKICAgICAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBpbml0aWFsaXplIG1vZHVsZXMuCiAgICAgICAgOnBhcmFtIGR0eXBlOgogICAgICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgICAgICIiIgogICAgICAgIHNlbGYuY29uZmlnID0gY29uZmlnCiAgICAgICAgc2VsZi5kZXZpY2UsIHNlbGYuZHR5cGUgPSBkZXZpY2UsIGR0eXBlCgogICAgZGVmIGJ1aWxkX21vZGVsKHNlbGYpIC0+IE11dG94Q2xhc3NpZmllcjoKICAgICAgICBtb2RlbF9oMSA9IG5uLlNlcXVlbnRpYWwoCiAgICAgICAgICAgIG5uLkRyb3BvdXQoMC4wMSksCiAgICAgICAgICAgIG5uLkxpbmVhcihzZWxmLmNvbmZpZy5pbnB1dF9zaXplLCA1MTIpLAogICAgICAgICkKCiAgICAgICAgbW9kZWxfaDIgPSBubi5TZXF1ZW50aWFsKAogICAgICAgICAgICBubi5SZUxVKCksCiAgICAgICAgICAgIG5uLkxpbmVhcig1MTIsIDEyOCksCiAgICAgICAgKQoKICAgICAgICBtb2RlbF9oMyA9IG5uLlNlcXVlbnRpYWwoCiAgICAgICAgICAgIG5uLlJlTFUoKSwKICAgICAgICAgICAgbm4uTGluZWFyKDEyOCwgMSksCiAgICAgICAgKQoKICAgICAgICBtb2RlbF9hbGwgPSBubi5TZXF1ZW50aWFsKAogICAgICAgICAgICBtb2RlbF9oMSwKICAgICAgICAgICAgbW9kZWxfaDIsCiAgICAgICAgICAgIG1vZGVsX2gzLAogICAgICAgICkKCiAgICAgICAgcmV0dXJuIE11dG94Q2xhc3NpZmllcihtb2RlbF9hbGwsKS50bygKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCgpkZWYgY3JlYXRlX211dG94X21vZGVsKAogICAgY29uZmlnOiBNdXRveENvbmZpZywKICAgIGRldmljZTogdHAuT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICBkdHlwZTogdHAuT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKKSAtPiBNdXRveENsYXNzaWZpZXI6CiAgICAiIiJDcmVhdGUgYSBNdXRveCBDbGFzc2lmaWVyIG1vZGVsLgoKICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgOnBhcmFtIGRldmljZToKICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgIDpwYXJhbSBkdHlwZToKICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgIiIiCgogICAgcmV0dXJuIE11dG94Q2xhc3NpZmllckJ1aWxkZXIoCiAgICAgICAgY29uZmlnLAogICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICApLmJ1aWxkX21vZGVsKCkK'),
    ('seamless/src/seamless_communication/toxicity/mutox/speech_pipeline.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgppbXBvcnQgdG9yY2gKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5Lm11dG94LmNsYXNzaWZpZXIgaW1wb3J0IE11dG94Q2xhc3NpZmllcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24udG94aWNpdHkubXV0b3gubG9hZGVyIGltcG9ydCBsb2FkX211dG94X21vZGVsCmZyb20gc29uYXIubW9kZWxzLnNvbmFyX3NwZWVjaC5sb2FkZXIgaW1wb3J0IGxvYWRfc29uYXJfc3BlZWNoX21vZGVsCgpmcm9tIHNvbmFyLmluZmVyZW5jZV9waXBlbGluZXMuc3BlZWNoIGltcG9ydCAoCiAgICBTcGVlY2hUb0VtYmVkZGluZ1BpcGVsaW5lLAogICAgU3BlZWNoSW5mZXJlbmNlUGFyYW1zLAopCgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0ICgKICAgIERhdGFQaXBlbGluZUJ1aWxkZXIsCikKCmZyb20gdHlwaW5nIGltcG9ydCBVbmlvbgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5Lm11dG94LmNsYXNzaWZpZXIgaW1wb3J0IE11dG94Q2xhc3NpZmllcgpmcm9tIHNvbmFyLm1vZGVscy5lbmNvZGVyX21vZGVsIGltcG9ydCBTb25hckVuY29kZXJNb2RlbApmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlCgoKQ1BVX0RFVklDRSA9IHRvcmNoLmRldmljZSgiY3B1IikKCgpjbGFzcyBNdXRveFNwZWVjaENsYXNzaWZpZXJQaXBlbGluZShTcGVlY2hUb0VtYmVkZGluZ1BpcGVsaW5lKToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG11dG94X2NsYXNzaWZpZXI6IFVuaW9uW3N0ciwgTXV0b3hDbGFzc2lmaWVyXSwKICAgICAgICBlbmNvZGVyOiBVbmlvbltzdHIsIFNvbmFyRW5jb2Rlck1vZGVsXSwKICAgICAgICBkZXZpY2U6IERldmljZSA9IENQVV9ERVZJQ0UsCiAgICApIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhlbmNvZGVyKQogICAgICAgIHNlbGYubW9kZWwudG8oZGV2aWNlKS5ldmFsKCkKICAgICAgICBzZWxmLm11dG94X2NsYXNzaWZpZXIgPSBtdXRveF9jbGFzc2lmaWVyLnRvKGRldmljZSkuZXZhbCgpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgbG9hZF9tb2RlbF9mcm9tX25hbWUoCiAgICAgICAgY2xzLAogICAgICAgIG11dG94X2NsYXNzaWZpZXJfbmFtZTogc3RyLAogICAgICAgIGVuY29kZXJfbmFtZTogc3RyLAogICAgICAgIGRldmljZTogRGV2aWNlID0gQ1BVX0RFVklDRSwKICAgICkgLT4gIlNwZWVjaFRvRW1iZWRkaW5nUGlwZWxpbmUiOgogICAgICAgIGVuY29kZXIgPSBsb2FkX3NvbmFyX3NwZWVjaF9tb2RlbChlbmNvZGVyX25hbWUsIGRldmljZT1kZXZpY2UsIHByb2dyZXNzPUZhbHNlKQogICAgICAgIG11dG94X2NsYXNzaWZpZXIgPSBsb2FkX211dG94X21vZGVsKAogICAgICAgICAgICBtdXRveF9jbGFzc2lmaWVyX25hbWUsIGRldmljZT1kZXZpY2UsIHByb2dyZXNzPUZhbHNlCiAgICAgICAgKQogICAgICAgIHJldHVybiBjbHMobXV0b3hfY2xhc3NpZmllcj1tdXRveF9jbGFzc2lmaWVyLCBlbmNvZGVyPWVuY29kZXIsIGRldmljZT1kZXZpY2UpCgogICAgZGVmIHByZWJ1aWxkX3BpcGVsaW5lKHNlbGYsIGNvbnRleHQ6IFNwZWVjaEluZmVyZW5jZVBhcmFtcykgLT4gRGF0YVBpcGVsaW5lQnVpbGRlcjoKICAgICAgICBwaXBlbGluZV9idWlsZGVyID0gc3VwZXIoKS5wcmVidWlsZF9waXBlbGluZShjb250ZXh0KQogICAgICAgIHJldHVybiBwaXBlbGluZV9idWlsZGVyLm1hcChzZWxmLl9ydW5fY2xhc3NpZmllciwgc2VsZWN0b3I9ImF1ZGlvLmRhdGEiKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgX3J1bl9jbGFzc2lmaWVyKHNlbGYsIGRhdGE6IGRpY3QpOgogICAgICAgIHJldHVybiBzZWxmLm11dG94X2NsYXNzaWZpZXIoZGF0YS5zZW50ZW5jZV9lbWJlZGRpbmdzKQo='),
    ('seamless/src/seamless_communication/toxicity/mutox/classifier.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKaW1wb3J0IHRvcmNoCmZyb20gdG9yY2ggaW1wb3J0IG5uCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCgpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscy5hcmNoX3JlZ2lzdHJ5IGltcG9ydCBBcmNoaXRlY3R1cmVSZWdpc3RyeQpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwKCgpjbGFzcyBNdXRveENsYXNzaWZpZXIobm4uTW9kdWxlKToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG1vZGVsX2FsbCwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5tb2RlbF9hbGwgPSBtb2RlbF9hbGwKCiAgICBkZWYgZm9yd2FyZChzZWxmLCBpbnB1dHM6IHRvcmNoLlRlbnNvcikgLT4gdG9yY2guVGVuc29yOgogICAgICAgIHJldHVybiBzZWxmLm1vZGVsX2FsbChpbnB1dHMpCgoKQGRhdGFjbGFzcwpjbGFzcyBNdXRveENvbmZpZzoKICAgICIiIkhvbGRzIHRoZSBjb25maWd1cmF0aW9uIG9mIGEgTXV0b3ggQ2xhc3NpZmllciBtb2RlbC4iIiIKCiAgICAjIHNpemUgb2YgdGhlIGlucHV0IGVtYmVkZGluZyBzdXBwb3J0ZWQgYnkgdGhpcyBtb2RlbAogICAgaW5wdXRfc2l6ZTogaW50CgoKbXV0b3hfYXJjaHMgPSBBcmNoaXRlY3R1cmVSZWdpc3RyeVtNdXRveENvbmZpZ10oIm11dG94X2NsYXNzaWZpZXIiKQo='),
    ('seamless/src/seamless_communication/segment/__init__.py', ''),
    ('seamless/src/seamless_communication/segment/silero_vad.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmZyb20gYXJncGFyc2UgaW1wb3J0IE5hbWVzcGFjZQppbXBvcnQgdG9yY2gKaW1wb3J0IHR5cGluZyBhcyB0cAppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHdhcm5pbmdzCgpTQU1QTElOR19SQVRFID0gMTYwMDAKCmNsYXNzIFNpbGVyb1ZBRFNlZ21lbnRlcjogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oc2VsZiwgc2FtcGxlX3JhdGUgPSBTQU1QTElOR19SQVRFLCBjaHVua19zaXplX3NlYyA9IDEwLCBwYXVzZV9sZW5ndGggPSAuNSkgLT4gTm9uZToKICAgICAgICBzZWxmLm1vZGVsLCBfID0gdG9yY2guaHViLmxvYWQoCiAgICAgICAgICAgIHJlcG9fb3JfZGlyPSJzbmFrZXJzNC9zaWxlcm8tdmFkIiwKICAgICAgICAgICAgbW9kZWw9InNpbGVyb192YWQiLAogICAgICAgICAgICBmb3JjZV9yZWxvYWQ9RmFsc2UsCiAgICAgICAgICAgIG9ubng9RmFsc2UsCiAgICAgICAgKQogICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBzYW1wbGVfcmF0ZQogICAgICAgIHNlbGYuY2h1bmtfc2l6ZV9zZWMgPSBjaHVua19zaXplX3NlYwogICAgICAgIHNlbGYucGF1c2VfbGVuZ3RoID0gcGF1c2VfbGVuZ3RoCgogICAgZGVmIHNlZ21lbnRfbG9uZ19pbnB1dChzZWxmLCBhdWRpbzogdG9yY2guVGVuc29yKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIFNwbGl0IGxvbmcgaW5wdXQgaW50byBjaHVua3MgdXNpbmcgc3BlZWNoIHRpbWVzdGFtcHMuCiAgICAgICAgIiIiCiAgICAgICAgbWF4X3NlZ21lbnRfbGVuZ3RoX3NhbXBsZXMgPSBzZWxmLmNodW5rX3NpemVfc2VjICogc2VsZi5zYW1wbGVfcmF0ZQogICAgICAgIHBhdXNlX2xlbmd0aF9zYW1wbGVzID0gc2VsZi5wYXVzZV9sZW5ndGggKiBzZWxmLnNhbXBsZV9yYXRlCgogICAgICAgIHNwZWVjaF90aW1lc3RhbXBzID0gc2VsZi5nZXRfc3BlZWNoX3RpbWVzdGFtcHMoCiAgICAgICAgICAgIGF1ZGlvLCBzZWxmLm1vZGVsLCBzYW1wbGluZ19yYXRlPXNlbGYuc2FtcGxlX3JhdGUKICAgICAgICApCgogICAgICAgIHNlZ21lbnRzID0gW10KICAgICAgICBjdXJyZW50X3NlZ21lbnQgPSBbXQoKICAgICAgICBmb3Igc2VnbWVudCBpbiBzcGVlY2hfdGltZXN0YW1wczoKICAgICAgICAgICAgc3RhcnRfc2FtcGxlcyA9IHNlZ21lbnRbMF0KICAgICAgICAgICAgZW5kX3NhbXBsZXMgPSBzZWdtZW50WzFdCgogICAgICAgICAgICBpZiBjdXJyZW50X3NlZ21lbnQgYW5kICgKICAgICAgICAgICAgICAgIGVuZF9zYW1wbGVzIC0gY3VycmVudF9zZWdtZW50WzBdID4gbWF4X3NlZ21lbnRfbGVuZ3RoX3NhbXBsZXMKICAgICAgICAgICAgICAgIG9yIHN0YXJ0X3NhbXBsZXMgLSBjdXJyZW50X3NlZ21lbnRbMV0gPiBwYXVzZV9sZW5ndGhfc2FtcGxlcwogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgc2VnbWVudHMuYXBwZW5kKGN1cnJlbnRfc2VnbWVudCkKICAgICAgICAgICAgICAgIGN1cnJlbnRfc2VnbWVudCA9IFtdCgogICAgICAgICAgICBpZiBub3QgY3VycmVudF9zZWdtZW50OgogICAgICAgICAgICAgICAgY3VycmVudF9zZWdtZW50ID0gW3N0YXJ0X3NhbXBsZXMsIGVuZF9zYW1wbGVzXQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY3VycmVudF9zZWdtZW50WzFdID0gZW5kX3NhbXBsZXMKICAgICAgICBpZiBjdXJyZW50X3NlZ21lbnQ6CiAgICAgICAgICAgIHNlZ21lbnRzLmFwcGVuZChjdXJyZW50X3NlZ21lbnQpIAoKICAgICAgICByZXR1cm4gc2VnbWVudHMKICAgCiAgICBkZWYgZ2V0X3NwZWVjaF90aW1lc3RhbXBzKAogICAgICAgIHNlbGYsCiAgICAgICAgYXVkaW86IHRvcmNoLlRlbnNvciwKICAgICAgICBtb2RlbCwKICAgICAgICBzYW1wbGluZ19yYXRlOiBpbnQgPSBTQU1QTElOR19SQVRFLAogICAgICAgIG1pbl9zcGVlY2hfZHVyYXRpb25fbXM6IGludCA9IDUwMCwKICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzOiBpbnQgPSAxNTM2LAogICAgKSAtPiB0cC5MaXN0W3RwLlR1cGxlW2ludCwgaW50XV06CiAgICAgICAgIiIiCiAgICAgICAgR2V0IHNwZWVjaCB0aW1lc3RhbXBzIGJhc2VkIG9uIHRoZSBzcGVlY2ggcHJvYmFiaWxpdGllcy4KICAgICAgICAiIiIKICAgICAgICBwcm9icywgXyA9IHNlbGYuZ2V0X3NwZWVjaF9wcm9icygKICAgICAgICAgICAgYXVkaW89YXVkaW8sCiAgICAgICAgICAgIG1vZGVsPW1vZGVsLAogICAgICAgICAgICBzYW1wbGluZ19yYXRlPXNhbXBsaW5nX3JhdGUsCiAgICAgICAgICAgIHdpbmRvd19zaXplX3NhbXBsZXM9d2luZG93X3NpemVfc2FtcGxlcywKICAgICAgICApCgogICAgICAgIG1heF9zZWdtZW50X2xlbmd0aF9zYW1wbGVzID0gc2VsZi5jaHVua19zaXplX3NlYyAqIHNlbGYuc2FtcGxlX3JhdGUKICAgICAgICBtaW5fc2VnbWVudF9sZW5ndGhfc2FtcGxlcyA9IG1pbl9zcGVlY2hfZHVyYXRpb25fbXMgLyAxMDAwICogc2FtcGxpbmdfcmF0ZQoKICAgICAgICBzZWdtZW50cyA9IHNlbGYucGRhYygKICAgICAgICAgICAgcHJvYnM9cHJvYnMsCiAgICAgICAgICAgIG1heF9zZWdtZW50X2xlbmd0aD1tYXhfc2VnbWVudF9sZW5ndGhfc2FtcGxlcywKICAgICAgICAgICAgbWluX3NlZ21lbnRfbGVuZ3RoPW1pbl9zZWdtZW50X2xlbmd0aF9zYW1wbGVzLAogICAgICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzPXdpbmRvd19zaXplX3NhbXBsZXMsCiAgICAgICAgKQoKICAgICAgICBzcGVlY2hfdGltZXN0YW1wcyA9IFsoc2VnLnN0YXJ0LCBzZWcuZW5kKSBmb3Igc2VnIGluIHNlZ21lbnRzXQoKICAgICAgICByZXR1cm4gc3BlZWNoX3RpbWVzdGFtcHMKICAgIAogICAgZGVmIHJlY3Vyc2l2ZV9zcGxpdCgKICAgICAgICAgICAgc2VsZiwgCiAgICAgICAgICAgIHNnbSwgCiAgICAgICAgICAgIHNlZ21lbnRzLCAKICAgICAgICAgICAgbWF4X3NlZ21lbnRfbGVuZ3RoLCAKICAgICAgICAgICAgbWluX3NlZ21lbnRfbGVuZ3RoLCAKICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlcywgCiAgICAgICAgICAgIHRocmVzaG9sZAogICAgICAgICAgICApOgogICAgICAgICAgICBpZiBzZ20uZHVyYXRpb24gPCBtYXhfc2VnbWVudF9sZW5ndGg6CiAgICAgICAgICAgICAgICBzZWdtZW50cy5hcHBlbmQoc2dtKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaiA9IDAKICAgICAgICAgICAgICAgIHNvcnRlZF9pbmRpY2VzID0gbnAuYXJnc29ydChzZ20ucHJvYnMpCiAgICAgICAgICAgICAgICB3aGlsZSBqIDwgbGVuKHNvcnRlZF9pbmRpY2VzKToKICAgICAgICAgICAgICAgICAgICBzcGxpdF9pZHggPSBzb3J0ZWRfaW5kaWNlc1tqXQogICAgICAgICAgICAgICAgICAgIHNnbV9hLCBzZ21fYiA9IHNlbGYuc3BsaXQoCiAgICAgICAgICAgICAgICAgICAgICBzZ20sIAogICAgICAgICAgICAgICAgICAgICAgc3BsaXRfaWR4LCAKICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd19zaXplX3NhbXBsZXMsIAogICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkKQogICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgc2dtX2EuZHVyYXRpb24gPiBtaW5fc2VnbWVudF9sZW5ndGgKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHNnbV9iLmR1cmF0aW9uID4gbWluX3NlZ21lbnRfbGVuZ3RoCiAgICAgICAgICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWN1cnNpdmVfc3BsaXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2dtX2EsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3NlZ21lbnRfbGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9zZWdtZW50X2xlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCkKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWN1cnNpdmVfc3BsaXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2dtX2IsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3NlZ21lbnRfbGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9zZWdtZW50X2xlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBqICs9IDEKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgaWYgc2dtX2EuZHVyYXRpb24gPiBtaW5fc2VnbWVudF9sZW5ndGg6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjdXJzaXZlX3NwbGl0KAogICAgICAgICAgICAgICAgICAgICAgICAgIHNnbV9hLAogICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1heF9zZWdtZW50X2xlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5fc2VnbWVudF9sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlcywKICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQpCiAgICAgICAgICAgICAgICAgICAgaWYgc2dtX2IuZHVyYXRpb24gPiBtaW5fc2VnbWVudF9sZW5ndGg6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjdXJzaXZlX3NwbGl0KAogICAgICAgICAgICAgICAgICAgICAgICAgIHNnbV9iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1heF9zZWdtZW50X2xlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5fc2VnbWVudF9sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlcywKICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQpCgogICAgZGVmIHBkYWMoCiAgICAgICAgICAgIHNlbGYsCiAgICAgICAgICAgIHByb2JzOiBucC5hcnJheSwgCiAgICAgICAgICAgIG1heF9zZWdtZW50X2xlbmd0aDogZmxvYXQsIAogICAgICAgICAgICBtaW5fc2VnbWVudF9sZW5ndGg6IGZsb2F0LCAKICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlczogZmxvYXQsCiAgICAgICAgKSAtPiB0cC5MaXN0W1NlZ21lbnRdOgogICAgICAgICIiIgogICAgICAgIFJlY3Vyc2l2ZWx5IHNwbGl0cyBzZWdtZW50cyBiYXNlZCBvbiBzcGVlY2ggdGhyZXNob2xkIGFuZCBkdXJhdGlvbi4gCiAgICAgICAgIiIiCiAgICAgICAgc2VnbWVudHMgPSBbXQogICAgICAgIHNnbSA9IFNlZ21lbnQoMCwgbGVuKHByb2JzKSp3aW5kb3dfc2l6ZV9zYW1wbGVzLCBwcm9icykKCiAgICAgICAgc2VsZi5yZWN1cnNpdmVfc3BsaXQoc2dtLCBzZWdtZW50cywgbWF4X3NlZ21lbnRfbGVuZ3RoLCBtaW5fc2VnbWVudF9sZW5ndGgsIHdpbmRvd19zaXplX3NhbXBsZXMsIC41KQogICAgICAgIAogICAgICAgIHJldHVybiBzZWdtZW50cwoKICAgIGRlZiB0cmltKAogICAgICAgICAgICBzZWxmLAogICAgICAgICAgICBzZ206IFNlZ21lbnQsIAogICAgICAgICAgICB0aHJlc2hvbGQ6IGZsb2F0LAogICAgICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzOiBmbG9hdAogICAgICAgICkgLT4gU2VnbWVudDoKICAgICAgICBpbmNsdWRlZF9pbmRpY2VzID0gbnAud2hlcmUoc2dtLnByb2JzID49IHRocmVzaG9sZClbMF0KICAgICAgICAKICAgICAgICBpZiBub3QgbGVuKGluY2x1ZGVkX2luZGljZXMpOgogICAgICAgICAgICByZXR1cm4gU2VnbWVudChzZ20uc3RhcnQsIHNnbS5zdGFydCwgbnAuZW1wdHkoWzBdKSkKICAgICAgICAKICAgICAgICBpID0gaW5jbHVkZWRfaW5kaWNlc1swXSAqIHdpbmRvd19zaXplX3NhbXBsZXMKICAgICAgICBqID0gKGluY2x1ZGVkX2luZGljZXNbLTFdICsgMSkgKiB3aW5kb3dfc2l6ZV9zYW1wbGVzCgogICAgICAgIHNnbSA9IFNlZ21lbnQoc2dtLnN0YXJ0ICsgaSwgCiAgICAgICAgc2dtLnN0YXJ0ICsgaiwgCiAgICAgICAgc2dtLnByb2JzW2luY2x1ZGVkX2luZGljZXNbMF06aW5jbHVkZWRfaW5kaWNlc1stMV0rMV0pCgogICAgICAgIHJldHVybiBzZ20KCiAgICBkZWYgc3BsaXQoCiAgICAgICAgICAgIHNlbGYsCiAgICAgICAgICAgIHNnbTogU2VnbWVudCwgCiAgICAgICAgICAgIHNwbGl0X2lkeDogaW50LCAKICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlczogZmxvYXQsCiAgICAgICAgICAgIHRocmVzaG9sZDogZmxvYXQKICAgICAgICApIC0+IHRwLlR1cGxlW1NlZ21lbnQsIFNlZ21lbnRdOgogICAgICAgICIiIgogICAgICAgIFNwbGl0cyBzZWdtZW50IGludG8gdHdvIHNlZ21lbnRzIGJhc2VkIG9uIHRoZSBzcGxpdCBpbmRleC4KICAgICAgICAiIiIKICAgICAgICBwcm9ic19hID0gc2dtLnByb2JzWzpzcGxpdF9pZHhdCiAgICAgICAgc2dtX2EgPSBTZWdtZW50KHNnbS5zdGFydCwgc2dtLnN0YXJ0ICsgKGxlbihwcm9ic19hKSp3aW5kb3dfc2l6ZV9zYW1wbGVzKSwgcHJvYnNfYSkKCiAgICAgICAgcHJvYnNfYiA9IHNnbS5wcm9ic1tzcGxpdF9pZHggKyAxIDpdCiAgICAgICAgc2dtX2IgPSBTZWdtZW50KHNnbV9hLmVuZCArIDEsIHNnbS5lbmQsIHByb2JzX2IpCgogICAgICAgIHNnbV9hID0gc2VsZi50cmltKHNnbV9hLCB0aHJlc2hvbGQsIHdpbmRvd19zaXplX3NhbXBsZXMpCiAgICAgICAgc2dtX2IgPSBzZWxmLnRyaW0oc2dtX2IsIHRocmVzaG9sZCwgd2luZG93X3NpemVfc2FtcGxlcykKCiAgICAgICAgcmV0dXJuIHNnbV9hLCBzZ21fYgogICAgCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgcmVzYW1wbGVfYXVkaW8od2F2OiB0b3JjaC5UZW5zb3IsIHNhbXBsZV9yYXRlOiBpbnQpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICAiIiIKICAgICAgICBSZXNhbXBsZSBhdWRpbyB0byB0aGUgbW9kZWwncyBzYW1wbGUgcmF0ZS4KICAgICAgICAiIiIKICAgICAgICBhc3NlcnQgc2FtcGxlX3JhdGUgPD0gc2FtcGxlX3JhdGUKICAgICAgICBpZiBzYW1wbGVfcmF0ZSA9PSBzYW1wbGVfcmF0ZToKICAgICAgICAgICAgcmV0dXJuIHdhdgoKICAgICAgICB0Z3RfZnJhbWVzID0gd2F2LnNoYXBlWy0xXSAqIHNhbXBsZV9yYXRlIC8vIHNhbXBsZV9yYXRlCiAgICAgICAgY29lZmYgPSBzYW1wbGVfcmF0ZSAvIHNhbXBsZV9yYXRlCiAgICAgICAgaW5kaWNlcyA9ICh0b3JjaC5hcmFuZ2UodGd0X2ZyYW1lcykgKiBjb2VmZikudG8odG9yY2guaW50MzIpCiAgICAgICAgcmV0dXJuIHdhdls6LCBpbmRpY2VzXQogICAgCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgZ2V0X3NwZWVjaF9wcm9icygKICAgICAgICBhdWRpbzogdG9yY2guVGVuc29yLAogICAgICAgIG1vZGVsLAogICAgICAgIHNhbXBsaW5nX3JhdGU6IGludCA9IFNBTVBMSU5HX1JBVEUsCiAgICAgICAgd2luZG93X3NpemVfc2FtcGxlczogaW50ID0gMTUzNiwKICAgICkgLT4gdHAuVHVwbGVbbnAubmRhcnJheSwgaW50XToKICAgICAgICAiIiIKICAgICAgICBHZXQgYSBsaXN0IG9mIHNwZWVjaCBwcm9iYWJpbGl0aWVzIGNvbXB1dGVkIHdpdGggc2xpZGluZyB3aW5kb3cgb3ZlciB0aGUgYXVkaW8gdXNpbmcgdGhlIG1vZGVsLgogICAgICAgICIiIgogICAgICAgIGlmIG5vdCB0b3JjaC5pc190ZW5zb3IoYXVkaW8pOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBhdWRpbyA9IHRvcmNoLlRlbnNvcihhdWRpbykKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJBdWRpbyBjYW5ub3QgYmUgY2FzdGVkIHRvIHRlbnNvci4gQ2FzdCBpdCBtYW51YWxseSIpCgogICAgICAgIGlmIGxlbihhdWRpby5zaGFwZSkgPiAxOgogICAgICAgICAgICBmb3IgXyBpbiByYW5nZShhdWRpby5uZGltKTogICMgdHJ5aW5nIHRvIHNxdWVlemUgZW1wdHkgZGltZW5zaW9ucwogICAgICAgICAgICAgICAgYXVkaW8gPSBhdWRpby5zcXVlZXplKDApCiAgICAgICAgICAgIGFzc2VydCAoCiAgICAgICAgICAgICAgICBhdWRpby5uZGltID09IDEKICAgICAgICAgICAgKSwgIk1vcmUgdGhhbiBvbmUgZGltZW5zaW9uIGluIGF1ZGlvLiBBcmUgeW91IHRyeWluZyB0byBwcm9jZXNzIGF1ZGlvIHdpdGggMiBjaGFubmVscz8iCgogICAgICAgIGF1ZGlvID0gU2lsZXJvVkFEU2VnbWVudGVyLnJlc2FtcGxlX2F1ZGlvKGF1ZGlvLCBzYW1wbGluZ19yYXRlKQoKICAgICAgICBpZiBzYW1wbGluZ19yYXRlID09IDgwMDAgYW5kIHdpbmRvd19zaXplX3NhbXBsZXMgPiA3Njg6CiAgICAgICAgICAgIHdhcm5pbmdzLndhcm4oCiAgICAgICAgICAgICAgICAiIiJ3aW5kb3dfc2l6ZV9zYW1wbGVzIGlzIHRvbyBiaWcgZm9yIDgwMDAgc2FtcGxpbmdfcmF0ZSEgQmV0dGVyIHNldCB3aW5kb3dfc2l6ZV9zYW1wbGVzIHRvIAogICAgICAgICAgICAgICAgMjU2LCA1MTIgb3IgNzY4IGZvciA4MDAwIHNhbXBsZSByYXRlISIiIgogICAgICAgICAgICApCiAgICAgICAgaWYgd2luZG93X3NpemVfc2FtcGxlcyBub3QgaW4gWzI1NiwgNTEyLCA3NjgsIDEwMjQsIDE1MzZdOgogICAgICAgICAgICB3YXJuaW5ncy53YXJuKAogICAgICAgICAgICAgICAgIiIiVW51c3VhbCB3aW5kb3dfc2l6ZV9zYW1wbGVzISBTdXBwb3J0ZWQgd2luZG93X3NpemVfc2FtcGxlczpcbiAtIFs1MTIsIDEwMjQsIDE1MzZdIGZvciAKICAgICAgICAgICAgICAgIDE2MDAwIHNhbXBsaW5nX3JhdGVcbiAtIFsyNTYsIDUxMiwgNzY4XSBmb3IgODAwMCBzYW1wbGluZ19yYXRlIiIiCiAgICAgICAgICAgICkKCiAgICAgICAgbW9kZWwucmVzZXRfc3RhdGVzKCkKCiAgICAgICAgYXVkaW9fbGVuZ3RoX3NhbXBsZXMgPSBsZW4oYXVkaW8pCgogICAgICAgIHNwZWVjaF9wcm9icyA9IFtdCiAgICAgICAgZm9yIGN1cnJlbnRfc3RhcnRfc2FtcGxlIGluIHJhbmdlKDAsIGF1ZGlvX2xlbmd0aF9zYW1wbGVzLCB3aW5kb3dfc2l6ZV9zYW1wbGVzKToKICAgICAgICAgICAgY2h1bmsgPSBhdWRpb1sKICAgICAgICAgICAgICAgIGN1cnJlbnRfc3RhcnRfc2FtcGxlIDogY3VycmVudF9zdGFydF9zYW1wbGUgKyB3aW5kb3dfc2l6ZV9zYW1wbGVzCiAgICAgICAgICAgIF0KICAgICAgICAgICAgaWYgbGVuKGNodW5rKSA8IHdpbmRvd19zaXplX3NhbXBsZXM6CiAgICAgICAgICAgICAgICBjaHVuayA9IHRvcmNoLm5uLmZ1bmN0aW9uYWwucGFkKAogICAgICAgICAgICAgICAgICAgIGNodW5rLCAoMCwgaW50KHdpbmRvd19zaXplX3NhbXBsZXMgLSBsZW4oY2h1bmspKSkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgaWYgbmV4dChtb2RlbC5wYXJhbWV0ZXJzKCkpLmlzX2N1ZGE6CiAgICAgICAgICAgICAgICBjaHVuayA9IGNodW5rLmN1ZGEoKQogICAgICAgICAgICBzcGVlY2hfcHJvYiA9IG1vZGVsKGNodW5rLCBzYW1wbGluZ19yYXRlKS5pdGVtKCkKICAgICAgICAgICAgc3BlZWNoX3Byb2JzLmFwcGVuZChzcGVlY2hfcHJvYikKCiAgICAgICAgcmV0dXJuIG5wLmFycmF5KHNwZWVjaF9wcm9icyksIGF1ZGlvX2xlbmd0aF9zYW1wbGVzCiAgICAKY2xhc3MgU2VnbWVudDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdGFydDogaW50LCBlbmQ6IGludCwgcHJvYnM6IG5wLm5kYXJyYXkpOgogICAgICAgIHNlbGYuc3RhcnQgPSBzdGFydAogICAgICAgIHNlbGYuZW5kID0gZW5kCiAgICAgICAgc2VsZi5wcm9icyA9IHByb2JzCiAgICAgICAgc2VsZi5kdXJhdGlvbiA9IGZsb2F0KGVuZCAtIHN0YXJ0KQogICAg'),
    ('seamless/src/seamless_communication/models/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/src/seamless_communication/models/tokenizer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBTZXF1ZW5jZSwgU2V0LCBmaW5hbAoKZnJvbSBmYWlyc2VxMi5kYXRhLnRleHQgaW1wb3J0ICgKICAgIFNlbnRlbmNlUGllY2VEZWNvZGVyLAogICAgU2VudGVuY2VQaWVjZUVuY29kZXIsCiAgICBTZW50ZW5jZVBpZWNlTW9kZWwsCiAgICBUZXh0VG9rZW5EZWNvZGVyLAogICAgVGV4dFRva2VuRW5jb2RlciwKICAgIFRleHRUb2tlbml6ZXIsCiAgICB2b2NhYl9pbmZvX2Zyb21fc2VudGVuY2VwaWVjZSwKKQpmcm9tIGZhaXJzZXEyLmRhdGEudHlwaW5nIGltcG9ydCBQYXRoTGlrZQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlLCBmaW5hbG92ZXJyaWRlCgoKQGZpbmFsCmNsYXNzIFNQTVRva2VuaXplcihUZXh0VG9rZW5pemVyKToKICAgICIiIlJlcHJlc2VudHMgc3RhbmRhcmQgU1BNLWJhc2VkIHRva2VuaXplciB1c2VkIGluIE1UIHRhc2tzIiIiCgogICAgbW9kZWw6IFNlbnRlbmNlUGllY2VNb2RlbAogICAgbGFuZ3M6IFNldFtzdHJdCiAgICBwcmVwZW5kX3RhcmdldF9sYW5ndG9rX3RvX3RhcmdldDogYm9vbAoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHBhdGhuYW1lOiBQYXRoTGlrZSwKICAgICAgICBsYW5nczogU2VxdWVuY2Vbc3RyXSwKICAgICAgICBwcmVwZW5kX3RhcmdldF9sYW5ndG9rX3RvX3RhcmdldDogYm9vbCA9IFRydWUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIHBhdGhuYW1lOgogICAgICAgICAgICBUaGUgcGF0aG5hbWUgb2YgdGhlIFNlbnRlbmNlUGllY2UgbW9kZWwgZmlsZS4KICAgICAgICA6cGFyYW0gbGFuZ3M6CiAgICAgICAgICAgIFRoZSBsaXN0IG9mIHN1cHBvcnRlZCBsYW5ndWFnZXMuCiAgICAgICAgOnBhcmFtIGRlZmF1bHRfbGFuZzoKICAgICAgICAgICAgVGhlIGZhbGwtYmFjayBsYW5ndWFnZSBpZiBubyBsYW5ndWFnZSBpcyBzcGVjaWZpZWQuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5sYW5ncyA9IHNldChsYW5ncykKICAgICAgICBzZWxmLnByZXBlbmRfdGFyZ2V0X2xhbmd0b2tfdG9fdGFyZ2V0ID0gcHJlcGVuZF90YXJnZXRfbGFuZ3Rva190b190YXJnZXQKCiAgICAgICAgIyBFYWNoIGxhbmd1YWdlIGlzIHJlcHJlc2VudGVkIGJ5IGEgYF9fbGFuZ19fYCBjb250cm9sIHN5bWJvbC4KICAgICAgICBjb250cm9sX3N5bWJvbHMgPSBbc2VsZi5fbGFuZ190b2tfdG9faW50ZXJuYWwobGFuZykgZm9yIGxhbmcgaW4gc29ydGVkKGxhbmdzKV0KICAgICAgICBzZWxmLm1vZGVsID0gU2VudGVuY2VQaWVjZU1vZGVsKHBhdGhuYW1lLCBjb250cm9sX3N5bWJvbHMpCiAgICAgICAgdm9jYWJfaW5mbyA9IHZvY2FiX2luZm9fZnJvbV9zZW50ZW5jZXBpZWNlKHNlbGYubW9kZWwpCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyh2b2NhYl9pbmZvKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9sYW5nX3Rva190b19pbnRlcm5hbChjbHMsIGxhbmc6IHN0cikgLT4gc3RyOgogICAgICAgIHJldHVybiBmIl9fe2xhbmd9X18iCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBjcmVhdGVfZW5jb2RlcigKICAgICAgICBzZWxmLAogICAgICAgICosCiAgICAgICAgdGFzazogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbW9kZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBwaW5fbWVtb3J5OiBib29sID0gRmFsc2UsCiAgICApIC0+IFRleHRUb2tlbkVuY29kZXI6CiAgICAgICAgIiIiQ3JlYXRlIGEgdG9rZW4gZW5jb2Rlci4KCiAgICAgICAgOnBhcmFtIHRhc2s6CiAgICAgICAgICAgIE11c3QgYmUgJ3RyYW5zbGF0aW9uJy4gSWYgYGBOb25lYGAsIGRlZmF1bHRzIHRvICd0cmFuc2xhdGlvbicuCiAgICAgICAgOnBhcmFtIGxhbmc6CiAgICAgICAgICAgIEEgbGFuZ3VhZ2UgZnJvbSA6YXR0cjpgbGFuZ3NgLiBJZiBgYE5vbmVgYCwgZGVmYXVsdHMgdG8KICAgICAgICAgICAgOmF0dHI6YGRlZmF1bHRfbGFuZ2AuCiAgICAgICAgOnBhcmFtIG1vZGU6CiAgICAgICAgICAgIE11c3QgYmUgJ3NvdXJjZScgb3IgJ3RhcmdldCcuCiAgICAgICAgOnBhcmFtIGRldmljZToKICAgICAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBjb25zdHJ1Y3QgdGVuc29ycy4KICAgICAgICA6cGFyYW0gcGluX21lbW9yeToKICAgICAgICAgICAgSWYgYGBUcnVlYGAsIHVzZXMgcGlubmVkIG1lbW9yeSB3aGlsZSBjb25zdHJ1Y3RpbmcgdGVuc29ycy4KICAgICAgICAiIiIKICAgICAgICBpZiB0YXNrIGlzIG5vdCBOb25lIGFuZCB0YXNrICE9ICJ0cmFuc2xhdGlvbiI6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJgdGFza2AgbXVzdCBiZSAndHJhbnNsYXRpb24nLCBidXQgaXMgJ3t0YXNrfScgaW5zdGVhZC4iKQoKICAgICAgICBhc3NlcnQgbGFuZyBpcyBub3QgTm9uZQoKICAgICAgICBpZiBsYW5nIG5vdCBpbiBzZWxmLmxhbmdzOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgbGFuZ2AgbXVzdCBiZSBhIHN1cHBvcnRlZCBsYW5ndWFnZSwgYnV0IGlzICd7bGFuZ30nIGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIGlmIG1vZGUgaXMgTm9uZSBvciBtb2RlID09ICJzb3VyY2UiOgogICAgICAgICAgICBwcmVmaXhfdG9rZW5zID0gW10KICAgICAgICAgICAgc3VmZml4X3Rva2VucyA9IFsiPC9zPiJdCiAgICAgICAgZWxpZiBtb2RlID09ICJ0YXJnZXQiOgogICAgICAgICAgICBwcmVmaXhfdG9rZW5zID0gKAogICAgICAgICAgICAgICAgWyI8L3M+Il0gKyBbc2VsZi5fbGFuZ190b2tfdG9faW50ZXJuYWwobGFuZyldCiAgICAgICAgICAgICAgICBpZiBzZWxmLnByZXBlbmRfdGFyZ2V0X2xhbmd0b2tfdG9fdGFyZ2V0CiAgICAgICAgICAgICAgICBlbHNlIFtdCiAgICAgICAgICAgICkKICAgICAgICAgICAgc3VmZml4X3Rva2VucyA9IFsiPC9zPiJdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgIGYiYG1vZGVgIG11c3QgYmUgJ3NvdXJjZScgb3IgJ3RhcmdldCcsIGJ1dCBpcyAne21vZGV9JyBpbnN0ZWFkLiIKICAgICAgICAgICAgKQoKICAgICAgICByZXR1cm4gU2VudGVuY2VQaWVjZUVuY29kZXIoCiAgICAgICAgICAgIHNlbGYubW9kZWwsCiAgICAgICAgICAgIHByZWZpeF90b2tlbnM9cHJlZml4X3Rva2VucywKICAgICAgICAgICAgc3VmZml4X3Rva2Vucz1zdWZmaXhfdG9rZW5zLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBwaW5fbWVtb3J5PXBpbl9tZW1vcnksCiAgICAgICAgKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgY3JlYXRlX3Jhd19lbmNvZGVyKAogICAgICAgIHNlbGYsICosIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsIHBpbl9tZW1vcnk6IGJvb2wgPSBGYWxzZQogICAgKSAtPiBUZXh0VG9rZW5FbmNvZGVyOgogICAgICAgIHJldHVybiBTZW50ZW5jZVBpZWNlRW5jb2RlcihzZWxmLm1vZGVsLCBkZXZpY2U9ZGV2aWNlLCBwaW5fbWVtb3J5PXBpbl9tZW1vcnkpCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBjcmVhdGVfZGVjb2RlcihzZWxmKSAtPiBUZXh0VG9rZW5EZWNvZGVyOgogICAgICAgIHJldHVybiBTZW50ZW5jZVBpZWNlRGVjb2RlcihzZWxmLm1vZGVsKQo='),
    ('seamless/src/seamless_communication/models/pretssel/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnByZXRzc2VsLmVjYXBhX3Rkbm4gaW1wb3J0IEVDQVBBX1RETk4gYXMgRUNBUEFfVEROTgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnByZXRzc2VsLmVjYXBhX3Rkbm5fYnVpbGRlciBpbXBvcnQgKAogICAgRWNhcGFURE5OQnVpbGRlciBhcyBFY2FwYVRETk5CdWlsZGVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMucHJldHNzZWwuZWNhcGFfdGRubl9idWlsZGVyIGltcG9ydCAoCiAgICBFY2FwYVRETk5Db25maWcgYXMgRWNhcGFURE5OQ29uZmlnLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMucHJldHNzZWwuZWNhcGFfdGRubl9idWlsZGVyIGltcG9ydCAoCiAgICBlY2FwYV90ZG5uX2FyY2hzIGFzIGVjYXBhX3Rkbm5fYXJjaHMsCikK'),
    ('seamless/src/seamless_communication/models/pretssel/ecapa_tdnn.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2ssIHRvX3BhZGRpbmdfbWFzawpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgQ29udjFkLCBMYXllck5vcm0sIE1vZHVsZSwgTW9kdWxlTGlzdCwgUmVMVSwgU2lnbW9pZCwgVGFuaCwgaW5pdAoKCmNsYXNzIEVDQVBBX1RETk4oTW9kdWxlKToKICAgICIiIgogICAgUmVwcmVzZW50cyB0aGUgRUNBUEEtVEROTiBtb2RlbCBkZXNjcmliZWQgaW4gcGFwZXI6CiAgICA6Y2l0ZTp0YGh0dHBzOi8vZG9pLm9yZy8xMC40ODU1MC9hcnhpdi4yMDA1LjA3MTQzYC4KCiAgICBBcmd1bWVudHMKICAgIC0tLS0tLS0tLQogICAgOnBhcmFtIGNoYW5uZWxzOgogICAgICAgIE91dHB1dCBjaGFubmVscyBmb3IgVEROTi9TRVJlczJOZXQgbGF5ZXIuCiAgICA6cGFyYW0ga2VybmVsX3NpemVzOgogICAgICAgIExpc3Qgb2Yga2VybmVsIHNpemVzIGZvciBlYWNoIGxheWVyLgogICAgOnBhcmFtIGRpbGF0aW9uczoKICAgICAgICBMaXN0IG9mIGRpbGF0aW9ucyBmb3Iga2VybmVscyBpbiBlYWNoIGxheWVyLgogICAgOnBhcmFtIGdyb3VwczoKICAgICAgICBMaXN0IG9mIGdyb3VwcyBmb3Iga2VybmVscyBpbiBlYWNoIGxheWVyLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY2hhbm5lbHM6IExpc3RbaW50XSwKICAgICAgICBrZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICBkaWxhdGlvbnM6IExpc3RbaW50XSwKICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM6IGludCwKICAgICAgICByZXMybmV0X3NjYWxlOiBpbnQsCiAgICAgICAgc2VfY2hhbm5lbHM6IGludCwKICAgICAgICBnbG9iYWxfY29udGV4dDogYm9vbCwKICAgICAgICBncm91cHM6IExpc3RbaW50XSwKICAgICAgICBlbWJlZF9kaW06IGludCwKICAgICAgICBpbnB1dF9kaW06IGludCwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgYXNzZXJ0IGxlbihjaGFubmVscykgPT0gbGVuKGtlcm5lbF9zaXplcykgPT0gbGVuKGRpbGF0aW9ucykKICAgICAgICBzZWxmLmNoYW5uZWxzID0gY2hhbm5lbHMKICAgICAgICBzZWxmLmVtYmVkX2RpbSA9IGVtYmVkX2RpbQogICAgICAgIHNlbGYuYmxvY2tzID0gTW9kdWxlTGlzdCgpCgogICAgICAgIHNlbGYuYmxvY2tzLmFwcGVuZCgKICAgICAgICAgICAgVEROTkJsb2NrKAogICAgICAgICAgICAgICAgaW5wdXRfZGltLAogICAgICAgICAgICAgICAgY2hhbm5lbHNbMF0sCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZXNbMF0sCiAgICAgICAgICAgICAgICBkaWxhdGlvbnNbMF0sCiAgICAgICAgICAgICAgICBncm91cHNbMF0sCiAgICAgICAgICAgICkKICAgICAgICApCgogICAgICAgICMgU0UtUmVzMk5ldCBsYXllcnMKICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCBsZW4oY2hhbm5lbHMpIC0gMSk6CiAgICAgICAgICAgIHNlbGYuYmxvY2tzLmFwcGVuZCgKICAgICAgICAgICAgICAgIFNFUmVzMk5ldEJsb2NrKAogICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzW2kgLSAxXSwKICAgICAgICAgICAgICAgICAgICBjaGFubmVsc1tpXSwKICAgICAgICAgICAgICAgICAgICByZXMybmV0X3NjYWxlPXJlczJuZXRfc2NhbGUsCiAgICAgICAgICAgICAgICAgICAgc2VfY2hhbm5lbHM9c2VfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemVzW2ldLAogICAgICAgICAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uc1tpXSwKICAgICAgICAgICAgICAgICAgICBncm91cHM9Z3JvdXBzW2ldLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCgogICAgICAgICMgTXVsdGktbGF5ZXIgZmVhdHVyZSBhZ2dyZWdhdGlvbgogICAgICAgIHNlbGYubWZhID0gVEROTkJsb2NrKAogICAgICAgICAgICBjaGFubmVsc1stMV0sCiAgICAgICAgICAgIGNoYW5uZWxzWy0xXSwKICAgICAgICAgICAga2VybmVsX3NpemVzWy0xXSwKICAgICAgICAgICAgZGlsYXRpb25zWy0xXSwKICAgICAgICAgICAgZ3JvdXBzPWdyb3Vwc1stMV0sCiAgICAgICAgKQoKICAgICAgICAjIEF0dGVudGl2ZSBTdGF0aXN0aWNhbCBQb29saW5nCiAgICAgICAgc2VsZi5hc3AgPSBBdHRlbnRpdmVTdGF0aXN0aWNzUG9vbGluZygKICAgICAgICAgICAgY2hhbm5lbHNbLTFdLAogICAgICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM9YXR0ZW50aW9uX2NoYW5uZWxzLAogICAgICAgICAgICBnbG9iYWxfY29udGV4dD1nbG9iYWxfY29udGV4dCwKICAgICAgICApCiAgICAgICAgc2VsZi5hc3Bfbm9ybSA9IExheWVyTm9ybShjaGFubmVsc1stMV0gKiAyLCBlcHM9MWUtMTIpCgogICAgICAgICMgRmluYWwgbGluZWFyIHRyYW5zZm9ybWF0aW9uCiAgICAgICAgc2VsZi5mYyA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9Y2hhbm5lbHNbLTFdICogMiwKICAgICAgICAgICAgb3V0X2NoYW5uZWxzPWVtYmVkX2RpbSwKICAgICAgICAgICAga2VybmVsX3NpemU9MSwKICAgICAgICApCgogICAgICAgIHNlbGYucmVzZXRfcGFyYW1ldGVycygpCgogICAgZGVmIHJlc2V0X3BhcmFtZXRlcnMoc2VsZikgLT4gTm9uZToKICAgICAgICAiIiJSZXNldCB0aGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycyBvZiB0aGUgbW9kdWxlLiIiIgoKICAgICAgICBkZWYgZW5jb2Rlcl9pbml0KG06IE1vZHVsZSkgLT4gTm9uZToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShtLCBDb252MWQpOgogICAgICAgICAgICAgICAgaW5pdC54YXZpZXJfdW5pZm9ybV8obS53ZWlnaHQsIGluaXQuY2FsY3VsYXRlX2dhaW4oInJlbHUiKSkKCiAgICAgICAgc2VsZi5hcHBseShlbmNvZGVyX2luaXQpCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICB4OiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUmV0dXJucyB0aGUgZW1iZWRkaW5nIHZlY3Rvci4KCiAgICAgICAgQXJndW1lbnRzCiAgICAgICAgLS0tLS0tLS0tCiAgICAgICAgeCA6IHRvcmNoLlRlbnNvcgogICAgICAgICAgICBUZW5zb3Igb2Ygc2hhcGUgKGJhdGNoLCB0aW1lLCBjaGFubmVsKS4KICAgICAgICAiIiIKICAgICAgICAjIE1pbmltaXplIHRyYW5zcG9zZSBmb3IgZWZmaWNpZW5jeQogICAgICAgIHggPSB4LnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICB4bCA9IFtdCiAgICAgICAgZm9yIGxheWVyIGluIHNlbGYuYmxvY2tzOgogICAgICAgICAgICB4ID0gbGF5ZXIoeCwgcGFkZGluZ19tYXNrPXBhZGRpbmdfbWFzaykKICAgICAgICAgICAgeGwuYXBwZW5kKHgpCgogICAgICAgICMgTXVsdGktbGF5ZXIgZmVhdHVyZSBhZ2dyZWdhdGlvbgogICAgICAgIHggPSB0b3JjaC5jYXQoeGxbMTpdLCBkaW09MSkKICAgICAgICB4ID0gc2VsZi5tZmEoeCkKCiAgICAgICAgIyBBdHRlbnRpdmUgU3RhdGlzdGljYWwgUG9vbGluZwogICAgICAgIHggPSBzZWxmLmFzcCh4LCBwYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrKQogICAgICAgIHggPSBzZWxmLmFzcF9ub3JtKHgudHJhbnNwb3NlKDEsIDIpKS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyBGaW5hbCBsaW5lYXIgdHJhbnNmb3JtYXRpb24KICAgICAgICB4ID0gc2VsZi5mYyh4KQoKICAgICAgICB4ID0geC50cmFuc3Bvc2UoMSwgMikuc3F1ZWV6ZSgxKSAgIyBCIHggQwogICAgICAgIHJldHVybiBGLm5vcm1hbGl6ZSh4LCBkaW09LTEpCgoKY2xhc3MgVEROTkJsb2NrKE1vZHVsZSk6CiAgICAiIiJBbiBpbXBsZW1lbnRhdGlvbiBvZiBURE5OLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tLQogICAgOnBhcmFtIGluX2NoYW5uZWxzIDogaW50CiAgICAgICAgTnVtYmVyIG9mIGlucHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIGtlcm5lbF9zaXplIDogaW50CiAgICAgICAgVGhlIGtlcm5lbCBzaXplIG9mIHRoZSBURE5OIGJsb2Nrcy4KICAgIDpwYXJhbSBkaWxhdGlvbiA6IGludAogICAgICAgIFRoZSBkaWxhdGlvbiBvZiB0aGUgVEROTiBibG9jay4KICAgIDpwYXJhbSBncm91cHM6IGludAogICAgICAgIFRoZSBncm91cHMgc2l6ZSBvZiB0aGUgVEROTiBibG9ja3MuCgogICAgRXhhbXBsZQogICAgLS0tLS0tLQogICAgPj4+IGlucF90ZW5zb3IgPSB0b3JjaC5yYW5kKFs4LCAxMjAsIDY0XSkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gbGF5ZXIgPSBURE5OQmxvY2soNjQsIDY0LCBrZXJuZWxfc2l6ZT0zLCBkaWxhdGlvbj0xKQogICAgPj4+IG91dF90ZW5zb3IgPSBsYXllcihpbnBfdGVuc29yKS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXRfdGVuc29yLnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBkaWxhdGlvbjogaW50LAogICAgICAgIGdyb3VwczogaW50ID0gMSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb252ID0gQ29udjFkKAogICAgICAgICAgICBpbl9jaGFubmVscz1pbl9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzPW91dF9jaGFubmVscywKICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemUsCiAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uLAogICAgICAgICAgICBwYWRkaW5nPWRpbGF0aW9uICogKGtlcm5lbF9zaXplIC0gMSkgLy8gMiwKICAgICAgICAgICAgZ3JvdXBzPWdyb3VwcywKICAgICAgICApCiAgICAgICAgc2VsZi5hY3RpdmF0aW9uID0gUmVMVSgpCiAgICAgICAgc2VsZi5ub3JtID0gTGF5ZXJOb3JtKG91dF9jaGFubmVscywgZXBzPTFlLTEyKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHg6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHggPSBzZWxmLmFjdGl2YXRpb24oc2VsZi5jb252KHgpKQoKICAgICAgICByZXR1cm4gc2VsZi5ub3JtKHgudHJhbnNwb3NlKDEsIDIpKS50cmFuc3Bvc2UoMSwgMikgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgoKY2xhc3MgUmVzMk5ldEJsb2NrKE1vZHVsZSk6CiAgICAiIiJBbiBpbXBsZW1lbnRhdGlvbiBvZiBSZXMyTmV0QmxvY2sgdy8gZGlsYXRpb24uCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0KICAgIDpwYXJhbSBpbl9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2YgY2hhbm5lbHMgZXhwZWN0ZWQgaW4gdGhlIGlucHV0LgogICAgOnBhcmFtIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIHNjYWxlIDogaW50CiAgICAgICAgVGhlIHNjYWxlIG9mIHRoZSBSZXMyTmV0IGJsb2NrLgogICAgOnBhcmFtIGtlcm5lbF9zaXplOiBpbnQKICAgICAgICBUaGUga2VybmVsIHNpemUgb2YgdGhlIFJlczJOZXQgYmxvY2suCiAgICA6cGFyYW0gZGlsYXRpb24gOiBpbnQKICAgICAgICBUaGUgZGlsYXRpb24gb2YgdGhlIFJlczJOZXQgYmxvY2suCgogICAgRXhhbXBsZQogICAgLS0tLS0tLQogICAgPj4+IGlucF90ZW5zb3IgPSB0b3JjaC5yYW5kKFs4LCAxMjAsIDY0XSkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gbGF5ZXIgPSBSZXMyTmV0QmxvY2soNjQsIDY0LCBzY2FsZT00LCBkaWxhdGlvbj0zKQogICAgPj4+IG91dF90ZW5zb3IgPSBsYXllcihpbnBfdGVuc29yKS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXRfdGVuc29yLnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAgc2NhbGU6IGludCA9IDgsCiAgICAgICAga2VybmVsX3NpemU6IGludCA9IDMsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIGFzc2VydCBpbl9jaGFubmVscyAlIHNjYWxlID09IDAKICAgICAgICBhc3NlcnQgb3V0X2NoYW5uZWxzICUgc2NhbGUgPT0gMAoKICAgICAgICBpbl9jaGFubmVsID0gaW5fY2hhbm5lbHMgLy8gc2NhbGUKICAgICAgICBoaWRkZW5fY2hhbm5lbCA9IG91dF9jaGFubmVscyAvLyBzY2FsZQogICAgICAgIHNlbGYuYmxvY2tzID0gTW9kdWxlTGlzdCgKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgVEROTkJsb2NrKAogICAgICAgICAgICAgICAgICAgIGluX2NoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAgaGlkZGVuX2NoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249ZGlsYXRpb24sCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShzY2FsZSAtIDEpCiAgICAgICAgICAgIF0KICAgICAgICApCiAgICAgICAgc2VsZi5zY2FsZSA9IHNjYWxlCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHkgPSBbXQogICAgICAgIGZvciBpLCB4X2kgaW4gZW51bWVyYXRlKHRvcmNoLmNodW5rKHgsIHNlbGYuc2NhbGUsIGRpbT0xKSk6CiAgICAgICAgICAgIGlmIGkgPT0gMDoKICAgICAgICAgICAgICAgIHlfaSA9IHhfaQogICAgICAgICAgICBlbGlmIGkgPT0gMToKICAgICAgICAgICAgICAgIHlfaSA9IHNlbGYuYmxvY2tzW2kgLSAxXSh4X2kpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB5X2kgPSBzZWxmLmJsb2Nrc1tpIC0gMV0oeF9pICsgeV9pKQogICAgICAgICAgICB5LmFwcGVuZCh5X2kpCgogICAgICAgIHlfdGVuc29yID0gdG9yY2guY2F0KHksIGRpbT0xKQogICAgICAgIHJldHVybiB5X3RlbnNvcgoKCmNsYXNzIFNFQmxvY2soTW9kdWxlKToKICAgICIiIkFuIGltcGxlbWVudGF0aW9uIG9mIHNxdWVlemUtYW5kLWV4Y2l0YXRpb24gYmxvY2suCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0KICAgIGluX2NoYW5uZWxzIDogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBpbnB1dCBjaGFubmVscy4KICAgIHNlX2NoYW5uZWxzIDogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBvdXRwdXQgY2hhbm5lbHMgYWZ0ZXIgc3F1ZWV6ZS4KICAgIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaW5fY2hhbm5lbHM6IGludCwKICAgICAgICBzZV9jaGFubmVsczogaW50LAogICAgICAgIG91dF9jaGFubmVsczogaW50LAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5jb252MSA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9aW5fY2hhbm5lbHMsIG91dF9jaGFubmVscz1zZV9jaGFubmVscywga2VybmVsX3NpemU9MQogICAgICAgICkKICAgICAgICBzZWxmLnJlbHUgPSBSZUxVKGlucGxhY2U9VHJ1ZSkKICAgICAgICBzZWxmLmNvbnYyID0gQ29udjFkKAogICAgICAgICAgICBpbl9jaGFubmVscz1zZV9jaGFubmVscywgb3V0X2NoYW5uZWxzPW91dF9jaGFubmVscywga2VybmVsX3NpemU9MQogICAgICAgICkKICAgICAgICBzZWxmLnNpZ21vaWQgPSBTaWdtb2lkKCkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdID0gTm9uZSkgLT4gVGVuc29yOgogICAgICAgICIiIlByb2Nlc3NlcyB0aGUgaW5wdXQgdGVuc29yIHggYW5kIHJldHVybnMgYW4gb3V0cHV0IHRlbnNvci4iIiIKICAgICAgICBpZiBwYWRkaW5nX21hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1hc2sgPSBwYWRkaW5nX21hc2subWF0ZXJpYWxpemUoKS51bnNxdWVlemUoMSkKICAgICAgICAgICAgcyA9ICh4ICogbWFzaykuc3VtKGRpbT0yLCBrZWVwZGltPVRydWUpIC8gcGFkZGluZ19tYXNrLnNlcV9sZW5zWwogICAgICAgICAgICAgICAgOiwgTm9uZSwgTm9uZQogICAgICAgICAgICBdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcyA9IHgubWVhbihkaW09Miwga2VlcGRpbT1UcnVlKQoKICAgICAgICBzID0gc2VsZi5yZWx1KHNlbGYuY29udjEocykpCiAgICAgICAgcyA9IHNlbGYuc2lnbW9pZChzZWxmLmNvbnYyKHMpKQoKICAgICAgICByZXR1cm4gcyAqIHgKCgpjbGFzcyBBdHRlbnRpdmVTdGF0aXN0aWNzUG9vbGluZyhNb2R1bGUpOgogICAgIiIiVGhpcyBjbGFzcyBpbXBsZW1lbnRzIGFuIGF0dGVudGl2ZSBzdGF0aXN0aWMgcG9vbGluZyBsYXllciBmb3IgZWFjaCBjaGFubmVsLgogICAgSXQgcmV0dXJucyB0aGUgY29uY2F0ZW5hdGVkIG1lYW4gYW5kIHN0ZCBvZiB0aGUgaW5wdXQgdGVuc29yLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tCiAgICBjaGFubmVsczogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBpbnB1dCBjaGFubmVscy4KICAgIGF0dGVudGlvbl9jaGFubmVsczogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBhdHRlbnRpb24gY2hhbm5lbHMuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgY2hhbm5lbHM6IGludCwgYXR0ZW50aW9uX2NoYW5uZWxzOiBpbnQgPSAxMjgsIGdsb2JhbF9jb250ZXh0OiBib29sID0gVHJ1ZQogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5lcHMgPSAxZS0xMgogICAgICAgIHNlbGYuZ2xvYmFsX2NvbnRleHQgPSBnbG9iYWxfY29udGV4dAogICAgICAgIGlmIGdsb2JhbF9jb250ZXh0OgogICAgICAgICAgICBzZWxmLnRkbm4gPSBURE5OQmxvY2soY2hhbm5lbHMgKiAzLCBhdHRlbnRpb25fY2hhbm5lbHMsIDEsIDEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi50ZG5uID0gVEROTkJsb2NrKGNoYW5uZWxzLCBhdHRlbnRpb25fY2hhbm5lbHMsIDEsIDEpCgogICAgICAgIHNlbGYudGFuaCA9IFRhbmgoKQogICAgICAgIHNlbGYuY29udiA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9YXR0ZW50aW9uX2NoYW5uZWxzLCBvdXRfY2hhbm5lbHM9Y2hhbm5lbHMsIGtlcm5lbF9zaXplPTEKICAgICAgICApCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUpIC0+IFRlbnNvcjoKICAgICAgICAiIiJDYWxjdWxhdGVzIG1lYW4gYW5kIHN0ZCBmb3IgYSBiYXRjaCAoaW5wdXQgdGVuc29yKS4KCiAgICAgICAgQXJndW1lbnRzCiAgICAgICAgLS0tLS0tLS0tCiAgICAgICAgeCA6IHRvcmNoLlRlbnNvcgogICAgICAgICAgICBUZW5zb3Igb2Ygc2hhcGUgW04sIEMsIExdLgogICAgICAgICIiIgogICAgICAgIEwgPSB4LnNoYXBlWy0xXQoKICAgICAgICBkZWYgX2NvbXB1dGVfc3RhdGlzdGljcygKICAgICAgICAgICAgeDogVGVuc29yLCBtOiBUZW5zb3IsIGRpbTogaW50ID0gMiwgZXBzOiBmbG9hdCA9IHNlbGYuZXBzCiAgICAgICAgKSAtPiBUdXBsZVtUZW5zb3IsIFRlbnNvcl06CiAgICAgICAgICAgIG1lYW4gPSAobSAqIHgpLnN1bShkaW0pCiAgICAgICAgICAgIHN0ZCA9IHRvcmNoLnNxcnQoKG0gKiAoeCAtIG1lYW4udW5zcXVlZXplKGRpbSkpLnBvdygyKSkuc3VtKGRpbSkuY2xhbXAoZXBzKSkKICAgICAgICAgICAgcmV0dXJuIG1lYW4sIHN0ZAoKICAgICAgICAjIGlmIGxlbmd0aHMgaXMgTm9uZToKICAgICAgICAjICAgICBsZW5ndGhzID0gW3guc2hhcGVbMF1dCgogICAgICAgICMgTWFrZSBiaW5hcnkgbWFzayBvZiBzaGFwZSBbTiwgMSwgTF0KICAgICAgICAjIG1hc2sgPSB0b19wYWRkaW5nX21hc2sobGVuZ3RocywgbWF4KGxlbmd0aHMpKQogICAgICAgIGlmIHBhZGRpbmdfbWFzayBpcyBub3QgTm9uZToKICAgICAgICAgICAgbWFzayA9IHBhZGRpbmdfbWFzay5tYXRlcmlhbGl6ZSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbWFzayA9IHRvX3BhZGRpbmdfbWFzayh0b3JjaC5JbnRUZW5zb3IoW0xdKSwgTCkucmVwZWF0KHguc2hhcGVbMF0sIDEpLnRvKHgpCiAgICAgICAgbWFzayA9IG1hc2sudW5zcXVlZXplKDEpCgogICAgICAgICMgRXhwYW5kIHRoZSB0ZW1wb3JhbCBjb250ZXh0IG9mIHRoZSBwb29saW5nIGxheWVyIGJ5IGFsbG93aW5nIHRoZQogICAgICAgICMgc2VsZi1hdHRlbnRpb24gdG8gbG9vayBhdCBnbG9iYWwgcHJvcGVydGllcyBvZiB0aGUgdXR0ZXJhbmNlLgogICAgICAgIGlmIHNlbGYuZ2xvYmFsX2NvbnRleHQ6CiAgICAgICAgICAgICMgdG9yY2guc3RkIGlzIHVuc3RhYmxlIGZvciBiYWNrd2FyZCBjb21wdXRhdGlvbgogICAgICAgICAgICAjIGh0dHBzOi8vZ2l0aHViLmNvbS9weXRvcmNoL3B5dG9yY2gvaXNzdWVzLzQzMjAKICAgICAgICAgICAgdG90YWwgPSBtYXNrLnN1bShkaW09Miwga2VlcGRpbT1UcnVlKS50byh4KQogICAgICAgICAgICBtZWFuLCBzdGQgPSBfY29tcHV0ZV9zdGF0aXN0aWNzKHgsIG1hc2sgLyB0b3RhbCkKICAgICAgICAgICAgbWVhbiA9IG1lYW4udW5zcXVlZXplKDIpLnJlcGVhdCgxLCAxLCBMKQogICAgICAgICAgICBzdGQgPSBzdGQudW5zcXVlZXplKDIpLnJlcGVhdCgxLCAxLCBMKQogICAgICAgICAgICBhdHRuID0gdG9yY2guY2F0KFt4LCBtZWFuLCBzdGRdLCBkaW09MSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBhdHRuID0geAoKICAgICAgICAjIEFwcGx5IGxheWVycwogICAgICAgIGF0dG4gPSBzZWxmLmNvbnYoc2VsZi50YW5oKHNlbGYudGRubihhdHRuKSkpCgogICAgICAgICMgRmlsdGVyIG91dCB6ZXJvLXBhZGRpbmdzCiAgICAgICAgYXR0biA9IGF0dG4ubWFza2VkX2ZpbGwobWFzayA9PSAwLCBmbG9hdCgiLWluZiIpKQoKICAgICAgICBhdHRuID0gRi5zb2Z0bWF4KGF0dG4sIGRpbT0yKQogICAgICAgIG1lYW4sIHN0ZCA9IF9jb21wdXRlX3N0YXRpc3RpY3MoeCwgYXR0bikKICAgICAgICAjIEFwcGVuZCBtZWFuIGFuZCBzdGQgb2YgdGhlIGJhdGNoCiAgICAgICAgcG9vbGVkX3N0YXRzID0gdG9yY2guY2F0KChtZWFuLCBzdGQpLCBkaW09MSkKICAgICAgICBwb29sZWRfc3RhdHMgPSBwb29sZWRfc3RhdHMudW5zcXVlZXplKDIpCgogICAgICAgIHJldHVybiBwb29sZWRfc3RhdHMKCgpjbGFzcyBTRVJlczJOZXRCbG9jayhNb2R1bGUpOgogICAgIiIiQW4gaW1wbGVtZW50YXRpb24gb2YgYnVpbGRpbmcgYmxvY2sgaW4gRUNBUEEtVEROTiwgaS5lLiwKICAgIFRETk4tUmVzMk5ldC1URE5OLVNFQmxvY2suCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0tCiAgICBvdXRfY2hhbm5lbHM6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgcmVzMm5ldF9zY2FsZTogaW50CiAgICAgICAgVGhlIHNjYWxlIG9mIHRoZSBSZXMyTmV0IGJsb2NrLgogICAga2VybmVsX3NpemU6IGludAogICAgICAgIFRoZSBrZXJuZWwgc2l6ZSBvZiB0aGUgVEROTiBibG9ja3MuCiAgICBkaWxhdGlvbjogaW50CiAgICAgICAgVGhlIGRpbGF0aW9uIG9mIHRoZSBSZXMyTmV0IGJsb2NrLgogICAgZ3JvdXBzOiBpbnQKICAgIE51bWJlciBvZiBibG9ja2VkIGNvbm5lY3Rpb25zIGZyb20gaW5wdXQgY2hhbm5lbHMgdG8gb3V0cHV0IGNoYW5uZWxzLgoKICAgIEV4YW1wbGUKICAgIC0tLS0tLS0KICAgID4+PiB4ID0gdG9yY2gucmFuZCg4LCAxMjAsIDY0KS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBjb252ID0gU0VSZXMyTmV0QmxvY2soNjQsIDY0LCByZXMybmV0X3NjYWxlPTQpCiAgICA+Pj4gb3V0ID0gY29udih4KS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXQuc2hhcGUKICAgIHRvcmNoLlNpemUoWzgsIDEyMCwgNjRdKQogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaW5fY2hhbm5lbHM6IGludCwKICAgICAgICBvdXRfY2hhbm5lbHM6IGludCwKICAgICAgICByZXMybmV0X3NjYWxlOiBpbnQgPSA4LAogICAgICAgIHNlX2NoYW5uZWxzOiBpbnQgPSAxMjgsCiAgICAgICAga2VybmVsX3NpemU6IGludCA9IDEsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICAgICAgZ3JvdXBzOiBpbnQgPSAxLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLm91dF9jaGFubmVscyA9IG91dF9jaGFubmVscwogICAgICAgIHNlbGYudGRubjEgPSBURE5OQmxvY2soCiAgICAgICAgICAgIGluX2NoYW5uZWxzLAogICAgICAgICAgICBvdXRfY2hhbm5lbHMsCiAgICAgICAgICAgIGtlcm5lbF9zaXplPTEsCiAgICAgICAgICAgIGRpbGF0aW9uPTEsCiAgICAgICAgICAgIGdyb3Vwcz1ncm91cHMsCiAgICAgICAgKQogICAgICAgIHNlbGYucmVzMm5ldF9ibG9jayA9IFJlczJOZXRCbG9jaygKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICBvdXRfY2hhbm5lbHMsCiAgICAgICAgICAgIHJlczJuZXRfc2NhbGUsCiAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICBkaWxhdGlvbiwKICAgICAgICApCiAgICAgICAgc2VsZi50ZG5uMiA9IFRETk5CbG9jaygKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICBvdXRfY2hhbm5lbHMsCiAgICAgICAgICAgIGtlcm5lbF9zaXplPTEsCiAgICAgICAgICAgIGRpbGF0aW9uPTEsCiAgICAgICAgICAgIGdyb3Vwcz1ncm91cHMsCiAgICAgICAgKQogICAgICAgIHNlbGYuc2VfYmxvY2sgPSBTRUJsb2NrKG91dF9jaGFubmVscywgc2VfY2hhbm5lbHMsIG91dF9jaGFubmVscykKCiAgICAgICAgc2VsZi5zaG9ydGN1dCA9IE5vbmUKICAgICAgICBpZiBpbl9jaGFubmVscyAhPSBvdXRfY2hhbm5lbHM6CiAgICAgICAgICAgIHNlbGYuc2hvcnRjdXQgPSBDb252MWQoCiAgICAgICAgICAgICAgICBpbl9jaGFubmVscz1pbl9jaGFubmVscywKICAgICAgICAgICAgICAgIG91dF9jaGFubmVscz1vdXRfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT0xLAogICAgICAgICAgICApCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUpIC0+IFRlbnNvcjoKICAgICAgICAiIiJQcm9jZXNzZXMgdGhlIGlucHV0IHRlbnNvciB4IGFuZCByZXR1cm5zIGFuIG91dHB1dCB0ZW5zb3IuIiIiCiAgICAgICAgcmVzaWR1YWwgPSB4CiAgICAgICAgaWYgc2VsZi5zaG9ydGN1dDoKICAgICAgICAgICAgcmVzaWR1YWwgPSBzZWxmLnNob3J0Y3V0KHgpCgogICAgICAgIHggPSBzZWxmLnRkbm4xKHgpCiAgICAgICAgeCA9IHNlbGYucmVzMm5ldF9ibG9jayh4KQogICAgICAgIHggPSBzZWxmLnRkbm4yKHgpCiAgICAgICAgeCA9IHNlbGYuc2VfYmxvY2soeCwgcGFkZGluZ19tYXNrPXBhZGRpbmdfbWFzaykKCiAgICAgICAgcmV0dXJuIHggKyByZXNpZHVhbAo='),
    ('seamless/src/seamless_communication/models/pretssel/ecapa_tdnn_builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIE9wdGlvbmFsCgpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscy5hcmNoX3JlZ2lzdHJ5IGltcG9ydCBBcmNoaXRlY3R1cmVSZWdpc3RyeQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5wcmV0c3NlbC5lY2FwYV90ZG5uIGltcG9ydCBFQ0FQQV9URE5OCgoKQGRhdGFjbGFzcwpjbGFzcyBFY2FwYVRETk5Db25maWc6CiAgICBjaGFubmVsczogTGlzdFtpbnRdCiAgICBrZXJuZWxfc2l6ZXM6IExpc3RbaW50XQogICAgZGlsYXRpb25zOiBMaXN0W2ludF0KICAgIGF0dGVudGlvbl9jaGFubmVsczogaW50CiAgICByZXMybmV0X3NjYWxlOiBpbnQKICAgIHNlX2NoYW5uZWxzOiBpbnQKICAgIGdsb2JhbF9jb250ZXh0OiBib29sCiAgICBncm91cHM6IExpc3RbaW50XQogICAgZW1iZWRfZGltOiBpbnQKICAgIGlucHV0X2RpbTogaW50CgoKZWNhcGFfdGRubl9hcmNocyA9IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5W0VjYXBhVEROTkNvbmZpZ10oImVjYXBhX3Rkbm4iKQoKZWNhcGFfdGRubl9hcmNoID0gZWNhcGFfdGRubl9hcmNocy5kZWNvcmF0b3IKCgpAZWNhcGFfdGRubl9hcmNoKCJiYXNlIikKZGVmIF9iYXNlX2VjYXBhX3Rkbm4oKSAtPiBFY2FwYVRETk5Db25maWc6CiAgICByZXR1cm4gRWNhcGFURE5OQ29uZmlnKAogICAgICAgIGNoYW5uZWxzPVs1MTIsIDUxMiwgNTEyLCA1MTIsIDE1MzZdLAogICAgICAgIGtlcm5lbF9zaXplcz1bNSwgMywgMywgMywgMV0sCiAgICAgICAgZGlsYXRpb25zPVsxLCAyLCAzLCA0LCAxXSwKICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM9MTI4LAogICAgICAgIHJlczJuZXRfc2NhbGU9OCwKICAgICAgICBzZV9jaGFubmVscz0xMjgsCiAgICAgICAgZ2xvYmFsX2NvbnRleHQ9VHJ1ZSwKICAgICAgICBncm91cHM9WzEsIDEsIDEsIDEsIDFdLAogICAgICAgIGVtYmVkX2RpbT01MTIsCiAgICAgICAgaW5wdXRfZGltPTgwLAogICAgKQoKCmNsYXNzIEVjYXBhVEROTkJ1aWxkZXI6CiAgICAiIiIKICAgIEJ1aWxkZXIgbW9kdWxlIGZvciBFQ0FQQV9URE5OIG1vZGVsCiAgICAiIiIKCiAgICBjb25maWc6IEVjYXBhVEROTkNvbmZpZwogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdCiAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY29uZmlnOiBFY2FwYVRETk5Db25maWcsCiAgICAgICAgKiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgICAgICA6cGFyYW0gZGV2aWNldjoKICAgICAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBpbml0aWFsaXplIG1vZHVsZXMuCiAgICAgICAgOnBhcmFtIGR0eXBlOgogICAgICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgICAgICIiIgogICAgICAgIHNlbGYuY29uZmlnID0gY29uZmlnCgogICAgICAgIHNlbGYuZGV2aWNlLCBzZWxmLmR0eXBlID0gZGV2aWNlLCBkdHlwZQoKICAgIGRlZiBidWlsZF9tb2RlbChzZWxmKSAtPiBFQ0FQQV9URE5OOgogICAgICAgICIiIkJ1aWxkIGEgbW9kZWwuIiIiCiAgICAgICAgbW9kZWwgPSBFQ0FQQV9URE5OKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5jaGFubmVscywKICAgICAgICAgICAgc2VsZi5jb25maWcua2VybmVsX3NpemVzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5kaWxhdGlvbnMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmF0dGVudGlvbl9jaGFubmVscywKICAgICAgICAgICAgc2VsZi5jb25maWcucmVzMm5ldF9zY2FsZSwKICAgICAgICAgICAgc2VsZi5jb25maWcuc2VfY2hhbm5lbHMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmdsb2JhbF9jb250ZXh0LAogICAgICAgICAgICBzZWxmLmNvbmZpZy5ncm91cHMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmVtYmVkX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcuaW5wdXRfZGltLAogICAgICAgICkKICAgICAgICBtb2RlbC50byhkZXZpY2U9c2VsZi5kZXZpY2UsIGR0eXBlPXNlbGYuZHR5cGUpCiAgICAgICAgcmV0dXJuIG1vZGVsCgoKZGVmIGNyZWF0ZV9lY2FwYV90ZG5uX21vZGVsKAogICAgY29uZmlnOiBFY2FwYVRETk5Db25maWcsCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCikgLT4gRUNBUEFfVEROTjoKICAgICIiIkNyZWF0ZSBhIEVDQVBBX1RETk4gbW9kZWwuCgogICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgOnBhcmFtIGR0eXBlOgogICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAiIiIKCiAgICByZXR1cm4gRWNhcGFURE5OQnVpbGRlcihjb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKS5idWlsZF9tb2RlbCgpCg=='),
    ('seamless/src/seamless_communication/models/vocoder/codehifigan.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QsIE9wdGlvbmFsCgppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoLm5uIGFzIG5uCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eSBpbXBvcnQgVmFyaWFuY2VQcmVkaWN0b3IKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy52b2NvZGVyLmhpZmlnYW4gaW1wb3J0IEdlbmVyYXRvcgoKCmNsYXNzIENvZGVHZW5lcmF0b3IoR2VuZXJhdG9yKToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHVwc2FtcGxlX3JhdGVzOiBMaXN0W2ludF0sCiAgICAgICAgdXBzYW1wbGVfa2VybmVsX3NpemVzOiBMaXN0W2ludF0sCiAgICAgICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsOiBpbnQsCiAgICAgICAgcmVzYmxvY2tfa2VybmVsX3NpemVzOiBMaXN0W2ludF0sCiAgICAgICAgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXM6IExpc3RbTGlzdFtpbnRdXSwKICAgICAgICBtb2RlbF9pbl9kaW06IE9wdGlvbmFsW2ludF0sCiAgICAgICAgbnVtX2VtYmVkZGluZ3M6IGludCwKICAgICAgICBlbWJlZGRpbmdfZGltOiBpbnQsCiAgICAgICAgZHVyX3ByZWRpY3Rvcl9wYXJhbXM6IERpY3Rbc3RyLCBBbnldLAogICAgICAgIGxhbmdfZW1iZWRkaW5nX2RpbTogaW50LAogICAgICAgIG51bV9sYW5nczogaW50LAogICAgICAgIHNwa3JfZW1iZWRkaW5nX2RpbTogaW50LAogICAgICAgIG51bV9zcGtyczogaW50LAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKAogICAgICAgICAgICB1cHNhbXBsZV9yYXRlcywKICAgICAgICAgICAgdXBzYW1wbGVfa2VybmVsX3NpemVzLAogICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwsCiAgICAgICAgICAgIHJlc2Jsb2NrX2tlcm5lbF9zaXplcywKICAgICAgICAgICAgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXMsCiAgICAgICAgICAgIG1vZGVsX2luX2RpbSwKICAgICAgICApCiAgICAgICAgc2VsZi5kaWN0ID0gbm4uRW1iZWRkaW5nKG51bV9lbWJlZGRpbmdzLCBlbWJlZGRpbmdfZGltKQogICAgICAgIHNlbGYuc3BrciA9IG5uLkVtYmVkZGluZyhudW1fc3BrcnMsIHNwa3JfZW1iZWRkaW5nX2RpbSkKICAgICAgICBzZWxmLmxhbmcgPSBubi5FbWJlZGRpbmcobnVtX2xhbmdzLCBsYW5nX2VtYmVkZGluZ19kaW0pCgogICAgICAgIHNlbGYuZHVyX3ByZWRpY3RvciA9IE5vbmUKICAgICAgICBpZiBkdXJfcHJlZGljdG9yX3BhcmFtczoKICAgICAgICAgICAgc2VsZi5kdXJfcHJlZGljdG9yID0gVmFyaWFuY2VQcmVkaWN0b3IoKipkdXJfcHJlZGljdG9yX3BhcmFtcykKCiAgICAgICAgc2VsZi5udW1fc3BrcnMgPSBudW1fc3BrcnMKICAgICAgICBzZWxmLm51bV9sYW5ncyA9IG51bV9sYW5ncwoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfdXBzYW1wbGUoc2lnbmFsOiBUZW5zb3IsIG1heF9mcmFtZXM6IGludCkgLT4gVGVuc29yOgogICAgICAgIGlmIHNpZ25hbC5kaW0oKSA9PSAzOgogICAgICAgICAgICBic3osIGNoYW5uZWxzLCBjb25kX2xlbmd0aCA9IHNpZ25hbC5zaXplKCkKICAgICAgICBlbGlmIHNpZ25hbC5kaW0oKSA9PSAyOgogICAgICAgICAgICBzaWduYWwgPSBzaWduYWwudW5zcXVlZXplKDIpCiAgICAgICAgICAgIGJzeiwgY2hhbm5lbHMsIGNvbmRfbGVuZ3RoID0gc2lnbmFsLnNpemUoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNpZ25hbCA9IHNpZ25hbC52aWV3KC0xLCAxLCAxKQogICAgICAgICAgICBic3osIGNoYW5uZWxzLCBjb25kX2xlbmd0aCA9IHNpZ25hbC5zaXplKCkKCiAgICAgICAgc2lnbmFsID0gc2lnbmFsLnVuc3F1ZWV6ZSgzKS5yZXBlYXQoMSwgMSwgMSwgbWF4X2ZyYW1lcyAvLyBjb25kX2xlbmd0aCkKCiAgICAgICAgIyBwYWQgemVyb3MgYXMgbmVlZGVkIChpZiBzaWduYWwncyBzaGFwZSBkb2VzIG5vdCBkaXZpZGUgY29tcGxldGVseSB3aXRoIG1heF9mcmFtZXMpCiAgICAgICAgcmVtaW5kZXIgPSAobWF4X2ZyYW1lcyAtIHNpZ25hbC5zaGFwZVsyXSAqIHNpZ25hbC5zaGFwZVszXSkgLy8gc2lnbmFsLnNoYXBlWzNdCiAgICAgICAgaWYgcmVtaW5kZXIgPiAwOgogICAgICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKAogICAgICAgICAgICAgICAgIlBhZGRpbmcgY29uZGl0aW9uIHNpZ25hbCAtIG1pc2FsaWdubWVudCBiZXR3ZWVuIGNvbmRpdGlvbiBmZWF0dXJlcy4iCiAgICAgICAgICAgICkKCiAgICAgICAgc2lnbmFsID0gc2lnbmFsLnZpZXcoYnN6LCBjaGFubmVscywgbWF4X2ZyYW1lcykKICAgICAgICByZXR1cm4gc2lnbmFsCgogICAgZGVmIGZvcndhcmQoc2VsZiwgc2FtcGxlOiBEaWN0W3N0ciwgQW55XSwgZHVyX3ByZWRpY3Rpb246IGJvb2wpIC0+IFRlbnNvcjogICMgdHlwZTogaWdub3JlCiAgICAgICAgeCA9IHNhbXBsZVsiY29kZSJdCiAgICAgICAgeCA9IHNlbGYuZGljdCh4KS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgaWYgc2VsZi5kdXJfcHJlZGljdG9yIGFuZCBkdXJfcHJlZGljdGlvbjoKICAgICAgICAgICAgbG9nX2R1cl9wcmVkID0gc2VsZi5kdXJfcHJlZGljdG9yKHgudHJhbnNwb3NlKDEsIDIpLCBOb25lKQogICAgICAgICAgICBkdXJfb3V0ID0gdG9yY2guY2xhbXAoCiAgICAgICAgICAgICAgICB0b3JjaC5yb3VuZCgodG9yY2guZXhwKGxvZ19kdXJfcHJlZCkgLSAxKSkubG9uZygpLCBtaW49MQogICAgICAgICAgICApCiAgICAgICAgICAgICMgQiB4IEMgeCBUCiAgICAgICAgICAgIHJlcGVhdF9pbnRlcmxlYXZlZF94ID0gW10KICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoeC5zaXplKDApKToKICAgICAgICAgICAgICAgIHJlcGVhdF9pbnRlcmxlYXZlZF94LmFwcGVuZCh0b3JjaC5yZXBlYXRfaW50ZXJsZWF2ZSh4W2ldLnVuc3F1ZWV6ZSgwKSwgZHVyX291dFtpXS52aWV3KC0xKSwgZGltPTIpKQogICAgICAgICAgICB4ID0gdG9yY2guY2F0KHJlcGVhdF9pbnRlcmxlYXZlZF94KQogICAgICAgIHVwc2FtcGxlZF9zcGtyID0gW10KICAgICAgICB1cHNhbXBsZWRfbGFuZyA9IFtdCiAgICAgICAgc3BrciA9IHNlbGYuc3BrcihzYW1wbGVbInNwa3IiXSkudHJhbnNwb3NlKDEsIDIpCiAgICAgICAgbGFuZyA9IHNlbGYubGFuZyhzYW1wbGVbImxhbmciXSkudHJhbnNwb3NlKDEsIDIpCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoeC5zaXplKDApKToKICAgICAgICAgICAgdXBzYW1wbGVkX3Nwa3IuYXBwZW5kKHNlbGYuX3Vwc2FtcGxlKHNwa3JbaV0sIHguc2hhcGVbLTFdKSkKICAgICAgICAgICAgdXBzYW1wbGVkX2xhbmcuYXBwZW5kKHNlbGYuX3Vwc2FtcGxlKGxhbmdbaV0sIHguc2hhcGVbLTFdKSkKICAgICAgICBzcGtyID0gdG9yY2guY2F0KHVwc2FtcGxlZF9zcGtyLCBkaW09MSkudHJhbnNwb3NlKDAsIDEpCiAgICAgICAgbGFuZyA9IHRvcmNoLmNhdCh1cHNhbXBsZWRfbGFuZywgZGltPTEpLnRyYW5zcG9zZSgwLCAxKQogICAgICAgIHggPSB0b3JjaC5jYXQoW3gsIHNwa3JdLCBkaW09MSkKICAgICAgICB4ID0gdG9yY2guY2F0KFtsYW5nLCB4XSwgZGltPTEpCgogICAgICAgIHJldHVybiBzdXBlcigpLmZvcndhcmQoeCkK'),
    ('seamless/src/seamless_communication/models/vocoder/hifigan.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgT3B0aW9uYWwKCmltcG9ydCBsb2dnaW5nCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCgpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgQ29udjFkLCBDb252VHJhbnNwb3NlMWQsIE1vZHVsZSwgTW9kdWxlTGlzdApmcm9tIHRvcmNoLm5uLnV0aWxzLndlaWdodF9ub3JtIGltcG9ydCByZW1vdmVfd2VpZ2h0X25vcm0sIHdlaWdodF9ub3JtCgpMUkVMVV9TTE9QRSA9IDAuMQoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgaW5pdF93ZWlnaHRzKG0sIG1lYW46IGZsb2F0ID0gMC4wLCBzdGQ6IGZsb2F0ID0gMC4wMSkgLT4gTm9uZTogICMgdHlwZTogaWdub3JlCiAgICBjbGFzc25hbWUgPSBtLl9fY2xhc3NfXy5fX25hbWVfXwogICAgaWYgY2xhc3NuYW1lLmZpbmQoIkNvbnYiKSAhPSAtMToKICAgICAgICBtLndlaWdodC5kYXRhLm5vcm1hbF8obWVhbiwgc3RkKQoKCmRlZiBnZXRfcGFkZGluZyhrZXJuZWxfc2l6ZTogaW50LCBkaWxhdGlvbjogaW50ID0gMSkgLT4gaW50OgogICAgcmV0dXJuIChrZXJuZWxfc2l6ZSAqIGRpbGF0aW9uIC0gZGlsYXRpb24pIC8vIDIKCgpjbGFzcyBSZXNCbG9jayhNb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGNoYW5uZWxzOiBpbnQsIGtlcm5lbF9zaXplOiBpbnQgPSAzLCBkaWxhdGlvbjogTGlzdFtpbnRdID0gWzEsIDMsIDVdCiAgICApOgogICAgICAgIHN1cGVyKFJlc0Jsb2NrLCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb252czEgPSBNb2R1bGVMaXN0KAogICAgICAgICAgICBbCiAgICAgICAgICAgICAgICB3ZWlnaHRfbm9ybSgKICAgICAgICAgICAgICAgICAgICBDb252MWQoCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVscywKICAgICAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uWzBdLAogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nPWdldF9wYWRkaW5nKGtlcm5lbF9zaXplLCBkaWxhdGlvblswXSksCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgMSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249ZGlsYXRpb25bMV0sCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9Z2V0X3BhZGRpbmcoa2VybmVsX3NpemUsIGRpbGF0aW9uWzFdKSwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgd2VpZ2h0X25vcm0oCiAgICAgICAgICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVscywKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICAgICAgICAgICAgICAxLAogICAgICAgICAgICAgICAgICAgICAgICBkaWxhdGlvbj1kaWxhdGlvblsyXSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1nZXRfcGFkZGluZyhrZXJuZWxfc2l6ZSwgZGlsYXRpb25bMl0pLAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgIF0KICAgICAgICApCiAgICAgICAgc2VsZi5jb252czEuYXBwbHkoaW5pdF93ZWlnaHRzKQoKICAgICAgICBzZWxmLmNvbnZzMiA9IE1vZHVsZUxpc3QoCiAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgMSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249MSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1nZXRfcGFkZGluZyhrZXJuZWxfc2l6ZSwgMSksCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgMSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249MSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1nZXRfcGFkZGluZyhrZXJuZWxfc2l6ZSwgMSksCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgMSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249MSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1nZXRfcGFkZGluZyhrZXJuZWxfc2l6ZSwgMSksCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgXQogICAgICAgICkKICAgICAgICBzZWxmLmNvbnZzMi5hcHBseShpbml0X3dlaWdodHMpCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgZm9yIGMxLCBjMiBpbiB6aXAoc2VsZi5jb252czEsIHNlbGYuY29udnMyKToKICAgICAgICAgICAgeHQgPSBGLmxlYWt5X3JlbHUoeCwgTFJFTFVfU0xPUEUpCiAgICAgICAgICAgIHh0ID0gYzEoeHQpCiAgICAgICAgICAgIHh0ID0gRi5sZWFreV9yZWx1KHh0LCBMUkVMVV9TTE9QRSkKICAgICAgICAgICAgeHQgPSBjMih4dCkKICAgICAgICAgICAgeCA9IHh0ICsgeAogICAgICAgIHJldHVybiB4CgogICAgZGVmIHJlbW92ZV93ZWlnaHRfbm9ybShzZWxmKSAtPiBOb25lOgogICAgICAgIGZvciBsYXllciBpbiBzZWxmLmNvbnZzMToKICAgICAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKGxheWVyKQogICAgICAgIGZvciBsYXllciBpbiBzZWxmLmNvbnZzMjoKICAgICAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKGxheWVyKQoKCmNsYXNzIEdlbmVyYXRvcihNb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgdXBzYW1wbGVfcmF0ZXM6IExpc3RbaW50XSwKICAgICAgICB1cHNhbXBsZV9rZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWw6IGludCwKICAgICAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICByZXNibG9ja19kaWxhdGlvbl9zaXplczogTGlzdFtMaXN0W2ludF1dLAogICAgICAgIG1vZGVsX2luX2RpbTogT3B0aW9uYWxbaW50XSwKICAgICAgICBhZGRfdXBzX291dF9wYWQ6IGJvb2wgPSBGYWxzZSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5udW1fa2VybmVscyA9IGxlbihyZXNibG9ja19rZXJuZWxfc2l6ZXMpCiAgICAgICAgc2VsZi5udW1fdXBzYW1wbGVzID0gbGVuKHVwc2FtcGxlX3JhdGVzKQogICAgICAgIHNlbGYuY29udl9wcmUgPSB3ZWlnaHRfbm9ybSgKICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgbW9kZWxfaW5fZGltIGlmIG1vZGVsX2luX2RpbSBpcyBub3QgTm9uZSBlbHNlIDgwLAogICAgICAgICAgICAgICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsLAogICAgICAgICAgICAgICAgNywKICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICBwYWRkaW5nPTMsCiAgICAgICAgICAgICkKICAgICAgICApCgogICAgICAgIHNlbGYudXBzID0gTW9kdWxlTGlzdCgpCiAgICAgICAgZm9yIGksICh1LCBrKSBpbiBlbnVtZXJhdGUoemlwKHVwc2FtcGxlX3JhdGVzLCB1cHNhbXBsZV9rZXJuZWxfc2l6ZXMpKToKICAgICAgICAgICAgb3V0X3BhZCA9IHUgJSAyIGlmIGFkZF91cHNfb3V0X3BhZCBlbHNlIDAKICAgICAgICAgICAgc2VsZi51cHMuYXBwZW5kKAogICAgICAgICAgICAgICAgd2VpZ2h0X25vcm0oCiAgICAgICAgICAgICAgICAgICAgQ29udlRyYW5zcG9zZTFkKAogICAgICAgICAgICAgICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIqKmkpLAogICAgICAgICAgICAgICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIgKiogKGkgKyAxKSksCiAgICAgICAgICAgICAgICAgICAgICAgIGssCiAgICAgICAgICAgICAgICAgICAgICAgIHUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9KGsgLSB1KSAvLyAyICsgb3V0X3BhZCwKICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhZGRpbmc9b3V0X3BhZCwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKCiAgICAgICAgc2VsZi5yZXNibG9ja3MgPSBNb2R1bGVMaXN0KCkKICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2VsZi51cHMpKToKICAgICAgICAgICAgY2ggPSB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIgKiogKGkgKyAxKSkKICAgICAgICAgICAgZm9yIGssIGQgaW4gemlwKHJlc2Jsb2NrX2tlcm5lbF9zaXplcywgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXMpOgogICAgICAgICAgICAgICAgc2VsZi5yZXNibG9ja3MuYXBwZW5kKFJlc0Jsb2NrKGNoLCBrLCBkKSkKCiAgICAgICAgc2VsZi5jb252X3Bvc3QgPSB3ZWlnaHRfbm9ybShDb252MWQoY2gsIDEsIDcsIDEsIHBhZGRpbmc9MykpCiAgICAgICAgc2VsZi51cHMuYXBwbHkoaW5pdF93ZWlnaHRzKQogICAgICAgIHNlbGYuY29udl9wb3N0LmFwcGx5KGluaXRfd2VpZ2h0cykKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICB4ID0gc2VsZi5jb252X3ByZSh4KQogICAgICAgIGZvciBpIGluIHJhbmdlKHNlbGYubnVtX3Vwc2FtcGxlcyk6CiAgICAgICAgICAgIHggPSBGLmxlYWt5X3JlbHUoeCwgTFJFTFVfU0xPUEUpCiAgICAgICAgICAgIHggPSBzZWxmLnVwc1tpXSh4KQogICAgICAgICAgICB4cyA9IE5vbmUKICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2Uoc2VsZi5udW1fa2VybmVscyk6CiAgICAgICAgICAgICAgICBpZiB4cyBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIHhzID0gc2VsZi5yZXNibG9ja3NbaSAqIHNlbGYubnVtX2tlcm5lbHMgKyBqXSh4KQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICB4cyArPSBzZWxmLnJlc2Jsb2Nrc1tpICogc2VsZi5udW1fa2VybmVscyArIGpdKHgpCiAgICAgICAgICAgIHggPSB4cyAvIHNlbGYubnVtX2tlcm5lbHMgICMgdHlwZTogaWdub3JlCiAgICAgICAgeCA9IEYubGVha3lfcmVsdSh4KQogICAgICAgIHggPSBzZWxmLmNvbnZfcG9zdCh4KQogICAgICAgIHggPSB0b3JjaC50YW5oKHgpCgogICAgICAgIHJldHVybiB4CgogICAgZGVmIHJlbW92ZV93ZWlnaHRfbm9ybShzZWxmKSAtPiBOb25lOgogICAgICAgIGxvZ2dlci5pbmZvKCJSZW1vdmluZyB3ZWlnaHQgbm9ybSBpbiBHZW5lcmF0b3IuIikKICAgICAgICBmb3IgbGF5ZXIgaW4gc2VsZi51cHM6CiAgICAgICAgICAgIHJlbW92ZV93ZWlnaHRfbm9ybShsYXllcikKICAgICAgICBmb3IgbGF5ZXIgaW4gc2VsZi5yZXNibG9ja3M6CiAgICAgICAgICAgIGxheWVyLnJlbW92ZV93ZWlnaHRfbm9ybSgpCiAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKHNlbGYuY29udl9wcmUpCiAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKHNlbGYuY29udl9wb3N0KQo='),
    ('seamless/src/seamless_communication/models/vocoder/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIuYnVpbGRlciBpbXBvcnQgKAogICAgVm9jb2RlckJ1aWxkZXIgYXMgVm9jb2RlckJ1aWxkZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy52b2NvZGVyLmJ1aWxkZXIgaW1wb3J0IFZvY29kZXJDb25maWcgYXMgVm9jb2RlckNvbmZpZwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIuY29kZWhpZmlnYW4gaW1wb3J0ICgKICAgIENvZGVHZW5lcmF0b3IgYXMgQ29kZUdlbmVyYXRvciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIuaGlmaWdhbiBpbXBvcnQgR2VuZXJhdG9yIGFzIEdlbmVyYXRvcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIubG9hZGVyIGltcG9ydCAoCiAgICBsb2FkX3ZvY29kZXJfbW9kZWwgYXMgbG9hZF92b2NvZGVyX21vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci52b2NvZGVyIGltcG9ydCBWb2NvZGVyIGFzIFZvY29kZXIK'),
    ('seamless/src/seamless_communication/models/vocoder/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBNYXBwaW5nCgpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUsIGRvd25sb2FkX21hbmFnZXIKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMgaW1wb3J0IENvbmZpZ0xvYWRlciwgTW9kZWxMb2FkZXIKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5idWlsZGVyIGltcG9ydCAoCiAgICBWb2NvZGVyQ29uZmlnLAogICAgY3JlYXRlX3ZvY29kZXJfbW9kZWwsCiAgICB2b2NvZGVyX2FyY2hzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci52b2NvZGVyIGltcG9ydCBWb2NvZGVyCgoKZGVmIGNvbnZlcnRfdm9jb2Rlcl9jaGVja3BvaW50KAogICAgY2hlY2twb2ludDogTWFwcGluZ1tzdHIsIEFueV0sIGNvbmZpZzogVm9jb2RlckNvbmZpZwopIC0+IE1hcHBpbmdbc3RyLCBBbnldOgogICAgaWYgKAogICAgICAgICJtb2RlbCIgaW4gY2hlY2twb2ludAogICAgICAgIGFuZCAiY29kZV9nZW5lcmF0b3IucmVzYmxvY2tzLjAuY29udnMxLjAud2VpZ2h0X2ciIGluIGNoZWNrcG9pbnRbIm1vZGVsIl0KICAgICk6CiAgICAgICAgcmV0dXJuIGNoZWNrcG9pbnQKCiAgICBvbGRfc3RhdGVfZGljdCA9IGNoZWNrcG9pbnRbImdlbmVyYXRvciJdCiAgICBuZXdfc3RhdGVfZGljdCA9IHt9CiAgICBmb3Iga2V5IGluIG9sZF9zdGF0ZV9kaWN0OgogICAgICAgIG5ld19rZXkgPSBmImNvZGVfZ2VuZXJhdG9yLntrZXl9IgogICAgICAgIG5ld19zdGF0ZV9kaWN0W25ld19rZXldID0gb2xkX3N0YXRlX2RpY3Rba2V5XQogICAgY2hlY2twb2ludFsibW9kZWwiXSA9IG5ld19zdGF0ZV9kaWN0ICAjIHR5cGU6IGlnbm9yZQogICAgZGVsIGNoZWNrcG9pbnRbImdlbmVyYXRvciJdICAjIHR5cGU6IGlnbm9yZQogICAgcmV0dXJuIGNoZWNrcG9pbnQKCgpsb2FkX3ZvY29kZXJfY29uZmlnID0gQ29uZmlnTG9hZGVyW1ZvY29kZXJDb25maWddKGFzc2V0X3N0b3JlLCB2b2NvZGVyX2FyY2hzKQoKCmxvYWRfdm9jb2Rlcl9tb2RlbCA9IE1vZGVsTG9hZGVyW1ZvY29kZXIsIFZvY29kZXJDb25maWddKAogICAgYXNzZXRfc3RvcmUsCiAgICBkb3dubG9hZF9tYW5hZ2VyLAogICAgbG9hZF92b2NvZGVyX2NvbmZpZywKICAgIGNyZWF0ZV92b2NvZGVyX21vZGVsLAogICAgY29udmVydF92b2NvZGVyX2NoZWNrcG9pbnQsCikK'),
    ('seamless/src/seamless_communication/models/vocoder/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgTGlzdCwgT3B0aW9uYWwKCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzLmFyY2hfcmVnaXN0cnkgaW1wb3J0IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5CmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIuY29kZWhpZmlnYW4gaW1wb3J0IENvZGVHZW5lcmF0b3IKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy52b2NvZGVyLnZvY29kZXIgaW1wb3J0IFZvY29kZXIKCgpAZGF0YWNsYXNzCmNsYXNzIFZvY29kZXJDb25maWc6CiAgICAiIiJIb2xkcyB0aGUgY29uZmlndXJhdGlvbiBvZiBhIFZvY29kZXIgbW9kZWwuIiIiCgogICAgdXBzYW1wbGVfcmF0ZXM6IExpc3RbaW50XQogICAgdXBzYW1wbGVfa2VybmVsX3NpemVzOiBMaXN0W2ludF0KICAgIHVwc2FtcGxlX2luaXRpYWxfY2hhbm5lbDogaW50CiAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM6IExpc3RbaW50XQogICAgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXM6IExpc3RbTGlzdFtpbnRdXQogICAgbW9kZWxfaW5fZGltOiBpbnQKICAgIG51bV9lbWJlZGRpbmdzOiBpbnQKICAgIGVtYmVkZGluZ19kaW06IGludAogICAgZHVyX3ByZWRpY3Rvcl9wYXJhbXM6IERpY3Rbc3RyLCBmbG9hdF0KICAgIGxhbmdfZW1iZWRkaW5nX2RpbTogaW50CiAgICBudW1fbGFuZ3M6IGludAogICAgc3Brcl9lbWJlZGRpbmdfZGltOiBpbnQKICAgIG51bV9zcGtyczogaW50CiAgICBsYW5nX3Nwa3JfaWR4X21hcDogRGljdFtzdHIsIEFueV0KCgp2b2NvZGVyX2FyY2hzID0gQXJjaGl0ZWN0dXJlUmVnaXN0cnlbVm9jb2RlckNvbmZpZ10oInZvY29kZXJfY29kZV9oaWZpZ2FuIikKCnZvY29kZXJfYXJjaCA9IHZvY29kZXJfYXJjaHMuZGVjb3JhdG9yCgoKQHZvY29kZXJfYXJjaCgiYmFzZSIpCmRlZiBfYmFzZV92b2NvZGVyKCkgLT4gVm9jb2RlckNvbmZpZzoKICAgIHJldHVybiBWb2NvZGVyQ29uZmlnKAogICAgICAgIHVwc2FtcGxlX3JhdGVzPVs1LCA0LCA0LCAyLCAyXSwKICAgICAgICB1cHNhbXBsZV9rZXJuZWxfc2l6ZXM9WzExLCA4LCA4LCA0LCA0XSwKICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWw9NTEyLAogICAgICAgIHJlc2Jsb2NrX2tlcm5lbF9zaXplcz1bMywgNywgMTFdLAogICAgICAgIHJlc2Jsb2NrX2RpbGF0aW9uX3NpemVzPVtbMSwgMywgNV0sIFsxLCAzLCA1XSwgWzEsIDMsIDVdXSwKICAgICAgICBtb2RlbF9pbl9kaW09MTc5MiwKICAgICAgICBudW1fZW1iZWRkaW5ncz0xMDAwMCwKICAgICAgICBlbWJlZGRpbmdfZGltPTEyODAsCiAgICAgICAgZHVyX3ByZWRpY3Rvcl9wYXJhbXM9ewogICAgICAgICAgICAiZW5jb2Rlcl9lbWJlZF9kaW0iOiAxMjgwLAogICAgICAgICAgICAidmFyX3ByZWRfaGlkZGVuX2RpbSI6IDEyODAsCiAgICAgICAgICAgICJ2YXJfcHJlZF9rZXJuZWxfc2l6ZSI6IDMsCiAgICAgICAgICAgICJ2YXJfcHJlZF9kcm9wb3V0IjogMC41LAogICAgICAgIH0sCiAgICAgICAgbGFuZ19lbWJlZGRpbmdfZGltPTI1NiwKICAgICAgICBudW1fbGFuZ3M9MzYsCiAgICAgICAgc3Brcl9lbWJlZGRpbmdfZGltPTI1NiwKICAgICAgICBudW1fc3BrcnM9MjAwLAogICAgICAgIGxhbmdfc3Brcl9pZHhfbWFwPXt9LAogICAgKQoKCmNsYXNzIFZvY29kZXJCdWlsZGVyOgogICAgIiIiQnVpbGRzIG1vZHVsZXMgb2YgYSB2b2NvZGVyIG1vZGVsIChDb2RlIEhpZmlnYW4pIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2tyZXNlYXJjaC9zcGVlY2gtcmVzeW50aGVzaXNgLgoKICAgIFRvIHR3ZWFrIHRoZSBhcmNoaXRlY3R1cmUsIHlvdSBjYW4gZGVyaXZlIGZyb20gdGhpcyBjbGFzcyBhbmQgb3ZlcnJpZGUgdGhlCiAgICBjb3JyZXNwb25kaW5nIG1ldGhvZHMuCiAgICAiIiIKCiAgICBjb25maWc6IFZvY29kZXJDb25maWcKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXQogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvbmZpZzogVm9jb2RlckNvbmZpZywKICAgICAgICAqLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgICAgIDpwYXJhbSBkZXZpY2U6CiAgICAgICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgICAgIDpwYXJhbSBkdHlwZToKICAgICAgICAgICAgVGhlIGRhdGEgdHlwZSBvZiBtb2R1bGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycy4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmNvbmZpZyA9IGNvbmZpZwogICAgICAgIHNlbGYuZGV2aWNlLCBzZWxmLmR0eXBlID0gZGV2aWNlLCBkdHlwZQoKICAgIGRlZiBidWlsZF9tb2RlbChzZWxmKSAtPiBWb2NvZGVyOgogICAgICAgICIiIkJ1aWxkIGEgbW9kZWwuIiIiCgogICAgICAgIGNvZGVfZ2VuZXJhdG9yID0gQ29kZUdlbmVyYXRvcigKICAgICAgICAgICAgc2VsZi5jb25maWcudXBzYW1wbGVfcmF0ZXMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnVwc2FtcGxlX2tlcm5lbF9zaXplcywKICAgICAgICAgICAgc2VsZi5jb25maWcudXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5yZXNibG9ja19rZXJuZWxfc2l6ZXMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnJlc2Jsb2NrX2RpbGF0aW9uX3NpemVzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9pbl9kaW0sCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm51bV9lbWJlZGRpbmdzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5lbWJlZGRpbmdfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5kdXJfcHJlZGljdG9yX3BhcmFtcywKICAgICAgICAgICAgc2VsZi5jb25maWcubGFuZ19lbWJlZGRpbmdfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5udW1fbGFuZ3MsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnNwa3JfZW1iZWRkaW5nX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubnVtX3Nwa3JzLAogICAgICAgICkKICAgICAgICBjb2RlX2dlbmVyYXRvci50byhkZXZpY2U9c2VsZi5kZXZpY2UsIGR0eXBlPXNlbGYuZHR5cGUpCiAgICAgICAgdm9jb2RlciA9IFZvY29kZXIoY29kZV9nZW5lcmF0b3IsIHNlbGYuY29uZmlnLmxhbmdfc3Brcl9pZHhfbWFwKQogICAgICAgIHJldHVybiB2b2NvZGVyCgoKZGVmIGNyZWF0ZV92b2NvZGVyX21vZGVsKAogICAgY29uZmlnOiBWb2NvZGVyQ29uZmlnLAogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAopIC0+IFZvY29kZXI6CiAgICAiIiJDcmVhdGUgYSBWb2NvZGVyIG1vZGVsLgoKICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgOnBhcmFtIGRldmljZToKICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgIDpwYXJhbSBkdHlwZToKICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgIiIiCgogICAgcmV0dXJuIFZvY29kZXJCdWlsZGVyKGNvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpLmJ1aWxkX21vZGVsKCkK'),
    ('seamless/src/seamless_communication/models/vocoder/vocoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBPcHRpb25hbCwgTGlzdCwgVW5pb24KaW1wb3J0IHRvcmNoCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgpmcm9tIHRvcmNoLm5uIGltcG9ydCBNb2R1bGUKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5jb2RlaGlmaWdhbiBpbXBvcnQgQ29kZUdlbmVyYXRvcgoKCmNsYXNzIFZvY29kZXIoTW9kdWxlKToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvZGVfZ2VuZXJhdG9yOiBDb2RlR2VuZXJhdG9yLAogICAgICAgIGxhbmdfc3Brcl9pZHhfbWFwOiBEaWN0W3N0ciwgQW55XSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb2RlX2dlbmVyYXRvciA9IGNvZGVfZ2VuZXJhdG9yCiAgICAgICAgc2VsZi5sYW5nX3Nwa3JfaWR4X21hcCA9IGxhbmdfc3Brcl9pZHhfbWFwCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICB1bml0czogVGVuc29yLAogICAgICAgIGxhbmdfbGlzdDogVW5pb25bTGlzdFtzdHJdLCBzdHJdLAogICAgICAgIHNwa3JfbGlzdDogVW5pb25bT3B0aW9uYWxbTGlzdFtpbnRdXSwgaW50XSA9IE5vbmUsCiAgICAgICAgZHVyX3ByZWRpY3Rpb246IGJvb2wgPSBUcnVlLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgIyBUT0RPOiBEbyB3ZSBuZWVkIHRoaXMgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgb3IganVzdCB1cGRhdGUgYWxsIGNhbGxpbmcgc2l0ZXM/IAogICAgICAgIGlmIGxlbih1bml0cy5zaGFwZSkgPT0gMToKICAgICAgICAgICAgdW5pdHMgPSB1bml0cy51bnNxdWVlemUoMCkgIyBhZGQgYmF0Y2ggZGltCiAgICAgICAgaWYgaXNpbnN0YW5jZShsYW5nX2xpc3QsIHN0cik6CiAgICAgICAgICAgIGxhbmdfbGlzdCA9IFtsYW5nX2xpc3RdICogdW5pdHMuc2l6ZSgwKQogICAgICAgIGlmIGlzaW5zdGFuY2Uoc3Brcl9saXN0LCBpbnQpOgogICAgICAgICAgICBzcGtyX2xpc3QgPSBbc3Brcl9saXN0XSAqIHVuaXRzLnNpemUoMCkKICAgICAgICBsYW5nX2lkeF9saXN0ID0gW3NlbGYubGFuZ19zcGtyX2lkeF9tYXBbIm11bHRpbGluZ3VhbCJdW2xdIGZvciBsIGluIGxhbmdfbGlzdF0KICAgICAgICBpZiBub3Qgc3Brcl9saXN0OgogICAgICAgICAgICBzcGtyX2xpc3QgPSBbLTEgZm9yIF8gaW4gcmFuZ2UobGVuKGxhbmdfbGlzdCkpXQogICAgICAgIHNwa3JfbGlzdCA9IFtzZWxmLmxhbmdfc3Brcl9pZHhfbWFwWyJtdWx0aXNwa3IiXVtsYW5nX2xpc3RbaV1dWzBdIGlmIHNwa3JfbGlzdFtpXSA9PSAtMSBlbHNlIHNwa3JfbGlzdFtpXSBmb3IgaSBpbiByYW5nZShsZW4oc3Brcl9saXN0KSldCiAgICAgICAgeCA9IHsKICAgICAgICAgICAgImNvZGUiOiB1bml0cy52aWV3KHVuaXRzLnNpemUoMCksIC0xKSwKICAgICAgICAgICAgInNwa3IiOiB0b3JjaC50ZW5zb3IoW3Nwa3JfbGlzdF0sIGRldmljZT11bml0cy5kZXZpY2UpLnQoKSwKICAgICAgICAgICAgImxhbmciOiB0b3JjaC50ZW5zb3IoW2xhbmdfaWR4X2xpc3RdLCBkZXZpY2U9dW5pdHMuZGV2aWNlKS50KCksCgogICAgICAgIH0KICAgICAgICByZXR1cm4gc2VsZi5jb2RlX2dlbmVyYXRvcih4LCBkdXJfcHJlZGljdGlvbikgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCg=='),
    ('seamless/src/seamless_communication/models/unit_extractor/unit_extractor.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgppbXBvcnQgbG9nZ2luZwpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IFVuaW9uCgppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoLm5uLmZ1bmN0aW9uYWwgYXMgRgpmcm9tIGZhaXJzZXEyLmFzc2V0cy5jYXJkIGltcG9ydCBBc3NldENhcmQKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBDb2xsYXRlcgpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IEF1ZGlvRGVjb2Rlcgpmcm9tIGZhaXJzZXEyLm1lbW9yeSBpbXBvcnQgTWVtb3J5QmxvY2sKZnJvbSBmYWlyc2VxMi5tb2RlbHMuc2VxdWVuY2UgaW1wb3J0IFNlcXVlbmNlQmF0Y2gKZnJvbSBmYWlyc2VxMi5tb2RlbHMud2F2MnZlYzIgaW1wb3J0IFdhdjJWZWMyTW9kZWwsIGxvYWRfd2F2MnZlYzJfbW9kZWwKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvciwgbm4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdF9leHRyYWN0b3Iua21lYW5zIGltcG9ydCBLbWVhbnNNb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXRfZXh0cmFjdG9yLndhdjJ2ZWMyX2xheWVyX291dHB1dCBpbXBvcnQgKAogICAgV2F2MlZlYzJMYXllck91dHB1dE1vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2RlciBpbXBvcnQgVm9jb2RlciwgbG9hZF92b2NvZGVyX21vZGVsCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmNsYXNzIFVuaXRFeHRyYWN0b3Iobm4uTW9kdWxlKToKICAgICIiIlVuaXQgRXh0cmFjdG9yIHdoaWNoIGNvbnZlcnRzIHJhdyBhdWRpbyBpbnRvIHVuaXRzLiIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG1vZGVsX25hbWVfb3JfY2FyZDogVW5pb25bc3RyLCBBc3NldENhcmRdLAogICAgICAgIGttZWFuc191cmk6IHN0ciwKICAgICAgICBkZXZpY2U6IERldmljZSwKICAgICAgICBkdHlwZTogRGF0YVR5cGUgPSB0b3JjaC5mbG9hdDMyLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgd2F2MnZlYzJfbW9kZWwgPSBsb2FkX3dhdjJ2ZWMyX21vZGVsKAogICAgICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgKQogICAgICAgIHdhdjJ2ZWMyX21vZGVsLmV2YWwoKQogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHdhdjJ2ZWMyX21vZGVsLCBXYXYyVmVjMk1vZGVsKQogICAgICAgIHNlbGYubW9kZWwgPSBXYXYyVmVjMkxheWVyT3V0cHV0TW9kZWwod2F2MnZlYzJfbW9kZWwpCiAgICAgICAgc2VsZi5kZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWRldmljZSkKICAgICAgICBzZWxmLmNvbGxhdGUgPSBDb2xsYXRlcihwYWRfdmFsdWU9MSwgcGFkX3RvX211bHRpcGxlPTIpCiAgICAgICAgc2VsZi5rbWVhbnNfbW9kZWwgPSBLbWVhbnNNb2RlbChrbWVhbnNfdXJpLCBkZXZpY2UsIGR0eXBlKQogICAgICAgIHNlbGYuZGV2aWNlID0gZGV2aWNlCiAgICAgICAgc2VsZi5kdHlwZSA9IGR0eXBlCgogICAgQHRvcmNoLmluZmVyZW5jZV9tb2RlKCkKICAgIGRlZiBwcmVkaWN0KAogICAgICAgIHNlbGYsCiAgICAgICAgYXVkaW86IFVuaW9uW3N0ciwgVGVuc29yXSwKICAgICAgICBvdXRfbGF5ZXJfaWR4OiBpbnQsCiAgICAgICAgc2FtcGxlX3JhdGU6IGludCA9IDE2MDAwLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgaWYgaXNpbnN0YW5jZShhdWRpbywgc3RyKToKICAgICAgICAgICAgd2l0aCBQYXRoKGF1ZGlvKS5vcGVuKCJyYiIpIGFzIGZiOgogICAgICAgICAgICAgICAgYmxvY2sgPSBNZW1vcnlCbG9jayhmYi5yZWFkKCkpCiAgICAgICAgICAgIGRlY29kZWRfYXVkaW8gPSBzZWxmLmRlY29kZV9hdWRpbyhibG9jaykKICAgICAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlID09IGRlY29kZWRfYXVkaW9bInNhbXBsZV9yYXRlIl0KICAgICAgICAgICAgKSwgZiJJbnB1dCBhdWRpbyBtdXN0IGhhdmUge3NhbXBsZV9yYXRlfSBzYW1wbGluZyByYXRlIgoKICAgICAgICBlbHNlOgogICAgICAgICAgICBhc3NlcnQgYXVkaW8uZGltKCkgPD0gMiwgIlRoZSBhdWRpbyB0ZW5zb3IgY2FuJ3QgYmUgbW9yZSB0aGFuIDIgZGltZW5zaW9ucy4iCiAgICAgICAgICAgIGlmIGF1ZGlvLmRpbSgpID09IDE6CiAgICAgICAgICAgICAgICBhdWRpbyA9IGF1ZGlvLnVuc3F1ZWV6ZSgxKQogICAgICAgICAgICBlbGlmIGF1ZGlvLmRpbSgpID09IDIgYW5kIGF1ZGlvLnNpemUoMCkgPCBhdWRpby5zaXplKDEpOgogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoCiAgICAgICAgICAgICAgICAgICAgIlRyYW5zcG9zaW5nIGF1ZGlvIHRlbnNvciBmcm9tIChic3osIHNlcV9sZW4pIC0+IChzZXFfbGVuLCBic3opLiIKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGF1ZGlvID0gYXVkaW8udHJhbnNwb3NlKDAsIDEpCgogICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gewogICAgICAgICAgICAgICAgIndhdmVmb3JtIjogYXVkaW8udG8oZHR5cGU9c2VsZi5kdHlwZSksCiAgICAgICAgICAgICAgICAic2FtcGxlX3JhdGUiOiBzYW1wbGVfcmF0ZSwKICAgICAgICAgICAgICAgICJmb3JtYXQiOiAtMSwKICAgICAgICAgICAgfQogICAgICAgIHNyYyA9IHNlbGYuY29sbGF0ZShkZWNvZGVkX2F1ZGlvKVsid2F2ZWZvcm0iXQogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IGdldF9zZXFzX2FuZF9wYWRkaW5nX21hc2soc3JjKQogICAgICAgIHNlcXMgPSBzZXFzLnZpZXcoMSwgLTEpCiAgICAgICAgc2VxcyA9IEYubGF5ZXJfbm9ybShzZXFzLCBzZXFzLnNoYXBlKQogICAgICAgIGJhdGNoID0gU2VxdWVuY2VCYXRjaChzZXFzPXNlcXMsIHBhZGRpbmdfbWFzaz1wYWRkaW5nX21hc2spCiAgICAgICAgZmVhdHVyZXMgPSBzZWxmLm1vZGVsKGJhdGNoLCBvdXRfbGF5ZXJfaWR4KS5zcXVlZXplKDApCiAgICAgICAgdW5pdHMgPSBzZWxmLmttZWFuc19tb2RlbChmZWF0dXJlcykKICAgICAgICByZXR1cm4gdW5pdHMgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIHJlc3ludGhlc2l6ZV9hdWRpbygKICAgICAgICB1bml0czogVGVuc29yLAogICAgICAgIHNyY19sYW5nOiBzdHIsCiAgICAgICAgZGV2aWNlOiBEZXZpY2UsCiAgICAgICAgZHR5cGU6IERhdGFUeXBlLAogICAgICAgIHZvY29kZXJfbmFtZTogc3RyID0gInZvY29kZXJfdjIiLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgdm9jb2RlciA9IGxvYWRfdm9jb2Rlcl9tb2RlbCh2b2NvZGVyX25hbWUsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgICAgIHZvY29kZXIuZXZhbCgpCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2Uodm9jb2RlciwgVm9jb2RlcikKICAgICAgICB3YXYgPSB2b2NvZGVyKHVuaXRzLCBzcmNfbGFuZywgc3Brcj0tMSwgZHVyX3ByZWRpY3Rpb249VHJ1ZSkKICAgICAgICByZXR1cm4gd2F2ICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQo='),
    ('seamless/src/seamless_communication/models/unit_extractor/wav2vec2_layer_output.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbAoKaW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaC5ubiBhcyBubgpmcm9tIGZhaXJzZXEyLm1vZGVscy5zZXF1ZW5jZSBpbXBvcnQgU2VxdWVuY2VCYXRjaApmcm9tIGZhaXJzZXEyLm1vZGVscy53YXYydmVjMiBpbXBvcnQgKAogICAgV2F2MlZlYzJDb25maWcsCiAgICBXYXYyVmVjMkVuY29kZXJDb25maWcsCiAgICBXYXYyVmVjMkZyb250ZW5kLAogICAgV2F2MlZlYzJNb2RlbCwKICAgIHdhdjJ2ZWMyX2FyY2gsCikKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBQYWRkaW5nTWFzawpmcm9tIGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyIGltcG9ydCBUcmFuc2Zvcm1lckVuY29kZXIsIFRyYW5zZm9ybWVyTm9ybU9yZGVyCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgoKCmRlZiBfZW5jb2Rlcl94bHNyMl8xYl92MigpIC0+IFdhdjJWZWMyRW5jb2RlckNvbmZpZzoKICAgIGxheWVyX2Rlc2NzID0gWyg1MTIsIDEwLCA1KV0gKyBbKDUxMiwgMywgMildICogNCArIFsoNTEyLCAyLCAyKV0gKiAyCgogICAgcmV0dXJuIFdhdjJWZWMyRW5jb2RlckNvbmZpZygKICAgICAgICBtb2RlbF9kaW09MTI4MCwKICAgICAgICBtYXhfc2VxX2xlbj00MDk2LAogICAgICAgIGZlYXR1cmVfZGltPTUxMiwKICAgICAgICB1c2VfZmJhbms9RmFsc2UsCiAgICAgICAgZmlyc3RfcGFzc19kcm9wb3V0X3A9MC4wLAogICAgICAgIGxheWVyX25vcm1fZmVhdHVyZXM9RmFsc2UsCiAgICAgICAgZmVhdHVyZV9leHRyYWN0b3JfbGF5ZXJfZGVzY3M9bGF5ZXJfZGVzY3MsCiAgICAgICAgZmVhdHVyZV9leHRyYWN0b3JfYmlhcz1UcnVlLAogICAgICAgIGZlYXR1cmVfZXh0cmFjdG9yX2xheWVyX25vcm1fY29udnM9VHJ1ZSwKICAgICAgICBmZWF0dXJlX2dyYWRfc2NhbGU9MS4wLAogICAgICAgIG51bV9mYmFua19jaGFubmVscz0wLAogICAgICAgIGZiYW5rX3N0cmlkZT0wLAogICAgICAgIHNhbXBsZV9mYmFua19ldmVyeV9rPTAsCiAgICAgICAgcG9zX2VuY29kZXJfdHlwZT0iY29udiIsCiAgICAgICAgcG9zX2VuY29kZXJfZGVwdGg9MSwKICAgICAgICBwb3NfY29udl9rZXJuZWxfc2l6ZT0xMjgsCiAgICAgICAgbnVtX3Bvc19jb252X2dyb3Vwcz0xNiwKICAgICAgICB1c2VfY29uZm9ybWVyPUZhbHNlLAogICAgICAgIG51bV9lbmNvZGVyX2xheWVycz00OCwKICAgICAgICBudW1fZW5jb2Rlcl9hdHRuX2hlYWRzPTE2LAogICAgICAgIGZmbl9pbm5lcl9kaW09NTEyMCwKICAgICAgICBkcm9wb3V0X3A9MC4xLAogICAgICAgIGF0dG5fZHJvcG91dF9wPTAuMSwKICAgICAgICBsYXllcl9kcm9wX3A9MC4wLAogICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgIGRlcHRod2lzZV9jb252X2tlcm5lbF9zaXplPTAsCiAgICApCgoKQHdhdjJ2ZWMyX2FyY2goInhsc3IyXzFiX3YyIikKZGVmIF94bHNyMl8xYl92MigpIC0+IFdhdjJWZWMyQ29uZmlnOgogICAgZW5jb2Rlcl9jb25maWcgPSBfZW5jb2Rlcl94bHNyMl8xYl92MigpCgogICAgcmV0dXJuIFdhdjJWZWMyQ29uZmlnKAogICAgICAgIGVuY29kZXJfY29uZmlnLAogICAgICAgIGZpbmFsX2RpbT0xMDI0LAogICAgICAgIGZpbmFsX3Byb2pfYmlhcz1UcnVlLAogICAgICAgIHRlbXBvcmFsX21hc2tfc3Bhbl9sZW49MTAsCiAgICAgICAgbWF4X3RlbXBvcmFsX21hc2tfcHJvYj0wLjY1LAogICAgICAgIHNwYXRpYWxfbWFza19zcGFuX2xlbj0xMCwKICAgICAgICBtYXhfc3BhdGlhbF9tYXNrX3Byb2I9MC4wLAogICAgICAgIHF1YW50aXplZF9kaW09MTAyNCwKICAgICAgICBudW1fY29kZWJvb2tzPTIsCiAgICAgICAgbnVtX2NvZGVib29rX2VudHJpZXM9MzIwLAogICAgICAgIGNvZGVib29rX3NhbXBsaW5nX3RlbXBlcmF0dXJlPSgyLCAwLjEsIDAuOTk5OTk1KSwKICAgICAgICBudW1fZGlzdHJhY3RvcnM9MTAwLAogICAgICAgIGxvZ2l0X3RlbXA9MC4xLAogICAgICAgIGRpdmVyc2l0eV9sb3NzX3dlaWdodD0wLjEsCiAgICApCgoKY2xhc3MgV2F2MlZlYzJMYXllck91dHB1dE1vZGVsKG5uLk1vZHVsZSk6CiAgICBlbmNvZGVyX2Zyb250ZW5kOiBXYXYyVmVjMkZyb250ZW5kCiAgICBlbmNvZGVyOiBUcmFuc2Zvcm1lckVuY29kZXIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdzJ2MjogV2F2MlZlYzJNb2RlbCk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYuZW5jb2Rlcl9mcm9udGVuZCA9IHcydjIuZW5jb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuZW5jb2RlciA9IHcydjIuZW5jb2RlcgoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgZm9yd2FyZChzZWxmLCBiYXRjaDogU2VxdWVuY2VCYXRjaCwgb3V0X2xheWVyX2lkeDogaW50KSAtPiBUZW5zb3I6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIGJhdGNoOgogICAgICAgICAgICBUaGUgYmF0Y2ggb2Ygc2VxdWVuY2VzIHRvIHByb2Nlc3MuCiAgICAgICAgIiIiCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5lbmNvZGVyX2Zyb250ZW5kKGJhdGNoLnNlcXMsIGJhdGNoLnBhZGRpbmdfbWFzaykKCiAgICAgICAgdzJ2Ml9sYXllcl9vdXRwdXQgPSBOb25lCgogICAgICAgIGRlZiBob29rKAogICAgICAgICAgICBsYXllcl9pZHg6IGludCwKICAgICAgICAgICAgbGF5ZXJfb3V0cHV0OiBUZW5zb3IsCiAgICAgICAgICAgIGxheWVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgICAgICBudW1fbGF5ZXJzOiBpbnQsCiAgICAgICAgKSAtPiBib29sOgogICAgICAgICAgICBub25sb2NhbCB3MnYyX2xheWVyX291dHB1dAoKICAgICAgICAgICAgaWYgbGF5ZXJfaWR4ID09IG91dF9sYXllcl9pZHg6CiAgICAgICAgICAgICAgICB3MnYyX2xheWVyX291dHB1dCA9IGxheWVyX291dHB1dAoKICAgICAgICAgICAgICAgICMgV2UgZG9uJ3QgbmVlZCB0byBleGVjdXRlIHRoZSByZW1haW5pbmcgbGF5ZXJzLgogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICAgICB3aXRoIHNlbGYuZW5jb2Rlci5yZWdpc3Rlcl9sYXllcl9vdXRwdXRfaG9vayhob29rKToKICAgICAgICAgICAgXywgXyA9IHNlbGYuZW5jb2RlcihzZXFzLCBwYWRkaW5nX21hc2spCgogICAgICAgIGFzc2VydCB3MnYyX2xheWVyX291dHB1dCBpcyBub3QgTm9uZQoKICAgICAgICByZXR1cm4gdzJ2Ml9sYXllcl9vdXRwdXQK'),
    ('seamless/src/seamless_communication/models/unit_extractor/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXRfZXh0cmFjdG9yLmttZWFucyBpbXBvcnQgKAogICAgS21lYW5zTW9kZWwgYXMgS21lYW5zTW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0X2V4dHJhY3Rvci51bml0X2V4dHJhY3RvciBpbXBvcnQgKAogICAgVW5pdEV4dHJhY3RvciBhcyBVbml0RXh0cmFjdG9yLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdF9leHRyYWN0b3Iud2F2MnZlYzJfbGF5ZXJfb3V0cHV0IGltcG9ydCAoCiAgICBXYXYyVmVjMkxheWVyT3V0cHV0TW9kZWwgYXMgV2F2MlZlYzJMYXllck91dHB1dE1vZGVsLAopCg=='),
    ('seamless/src/seamless_communication/models/unit_extractor/kmeans.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHRvcmNoCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBkb3dubG9hZF9tYW5hZ2VyCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvciwgbm4KCgpjbGFzcyBLbWVhbnNNb2RlbChubi5Nb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGttZWFuc191cmk6IHN0ciwgZGV2aWNlOiBEZXZpY2UsIGR0eXBlOiBEYXRhVHlwZSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAga21fcGF0aCA9IGRvd25sb2FkX21hbmFnZXIuZG93bmxvYWRfY2hlY2twb2ludChrbWVhbnNfdXJpLCBrbWVhbnNfdXJpKQogICAgICAgIGttX21vZGVsID0gbnAubG9hZChrbV9wYXRoKQogICAgICAgIGNlbnRyb2lkc19udW1weSA9IGttX21vZGVsLnRyYW5zcG9zZSgpCiAgICAgICAgY2VudHJvaWRzID0gdG9yY2guZnJvbV9udW1weShjZW50cm9pZHNfbnVtcHkpCiAgICAgICAgc2VsZi5jZW50cm9pZHMgPSBjZW50cm9pZHMudG8oZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICAgICAgc2VsZi5jZW50cm9pZF9ub3JtID0gKHNlbGYuY2VudHJvaWRzKioyKS5zdW0oMCwga2VlcGRpbXM9VHJ1ZSkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICBkaXN0OiBUZW5zb3IgPSAoCiAgICAgICAgICAgIHgucG93KDIpLnN1bSgxLCBrZWVwZGltPVRydWUpCiAgICAgICAgICAgIC0gMiAqIHRvcmNoLm1hdG11bCh4LCBzZWxmLmNlbnRyb2lkcykKICAgICAgICAgICAgKyBzZWxmLmNlbnRyb2lkX25vcm0KICAgICAgICApCiAgICAgICAgcmV0dXJuIGRpc3QuYXJnbWluKGRpbT0tMSkK'),
    ('seamless/src/seamless_communication/models/unity/fft_decoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBJdGVyYWJsZSwgT3B0aW9uYWwsIFR1cGxlLCBmaW5hbAoKZnJvbSBmYWlyc2VxMi5ubi5tb2R1bGVfbGlzdCBpbXBvcnQgTW9kdWxlTGlzdApmcm9tIGZhaXJzZXEyLm5uLm5vcm1hbGl6YXRpb24gaW1wb3J0IExheWVyTm9ybQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0IFRyYW5zZm9ybWVyTm9ybU9yZGVyLCBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZSwgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgTW9kdWxlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmZmdF9kZWNvZGVyX2xheWVyIGltcG9ydCAoCiAgICBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyTGF5ZXIsCikKCgpAZmluYWwKY2xhc3MgRmVlZEZvcndhcmRUcmFuc2Zvcm1lcihNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyBhIEZlZWRmb3J3YXJkIFRyYW5zZm9ybWVyIGRlY29kZXIuIiIiCgogICAgbW9kZWxfZGltOiBpbnQKICAgIGxheWVyX25vcm06IE9wdGlvbmFsW0xheWVyTm9ybV0KICAgIG5vcm1fb3JkZXI6IFRyYW5zZm9ybWVyTm9ybU9yZGVyCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbGF5ZXJzOiBJdGVyYWJsZVtGZWVkRm9yd2FyZFRyYW5zZm9ybWVyTGF5ZXJdLAogICAgICAgICosCiAgICAgICAgbm9ybV9vcmRlcjogVHJhbnNmb3JtZXJOb3JtT3JkZXIgPSBUcmFuc2Zvcm1lck5vcm1PcmRlci5QT1NULAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIGxheWVyczoKICAgICAgICAgICAgVGhlIGRlY29kZXIgbGF5ZXJzLgogICAgICAgIDpwYXJhbSBub3JtX29yZGVyOgogICAgICAgICAgICBUaGUgTGF5ZXIgTm9ybWFsaXphdGlvbiBvcmRlciB0byB1c2UuCiAgICAgICAgIiIiCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIGxheWVyX2xpc3QgPSBNb2R1bGVMaXN0KGxheWVycykKCiAgICAgICAgaWYgbm90IGxheWVyX2xpc3Q6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImBsYXllcnNgIG11c3QgYmUgbm9uLWVtcHR5LiIpCgogICAgICAgIHNlbGYubW9kZWxfZGltID0gbGF5ZXJfbGlzdFswXS5tb2RlbF9kaW0KCiAgICAgICAgc2VsZi5sYXllcnMgPSBsYXllcl9saXN0CgogICAgICAgIGlmIG5vcm1fb3JkZXIgIT0gVHJhbnNmb3JtZXJOb3JtT3JkZXIuUE9TVDoKICAgICAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0oCiAgICAgICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJsYXllcl9ub3JtIiwgTm9uZSkKCiAgICAgICAgc2VsZi5ub3JtX29yZGVyID0gbm9ybV9vcmRlcgoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza11dOgogICAgICAgIGZvciBsYXllciBpbiBzZWxmLmxheWVycy5kcm9wX2l0ZXIoKToKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gbGF5ZXIoc2VxcywgcGFkZGluZ19tYXNrLCBmaWxtX2NvbmRfZW1iPWZpbG1fY29uZF9lbWIpCgogICAgICAgIGlmIHNlbGYubGF5ZXJfbm9ybSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYubGF5ZXJfbm9ybShzZXFzKQoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrCgogICAgZGVmIGV4dHJhX3JlcHIoc2VsZikgLT4gc3RyOgogICAgICAgICIiIjptZXRhIHByaXZhdGU6IiIiCiAgICAgICAgcyA9IHN1cGVyKCkuZXh0cmFfcmVwcigpCgogICAgICAgIHJldHVybiBmIntzfSwgbm9ybV9vcmRlcj17c2VsZi5ub3JtX29yZGVyfSIK'),
    ('seamless/src/seamless_communication/models/unity/nar_decoder_frontend.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBtYXRoCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUsIGZpbmFsCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBWb2NhYnVsYXJ5SW5mbwpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiLnRva2VuaXplciBpbXBvcnQgTmxsYlRva2VuaXplcgpmcm9tIGZhaXJzZXEyLm5uLmVtYmVkZGluZyBpbXBvcnQgRW1iZWRkaW5nCmZyb20gZmFpcnNlcTIubm4ubm9ybWFsaXphdGlvbiBpbXBvcnQgTGF5ZXJOb3JtCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2sKZnJvbSBmYWlyc2VxMi5ubi5wb3NpdGlvbl9lbmNvZGVyIGltcG9ydCBQb3NpdGlvbkVuY29kZXIKZnJvbSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lciBpbXBvcnQgY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0KZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UsIGZpbmFsb3ZlcnJpZGUKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IERyb3BvdXQsIE1vZHVsZSwgUGFyYW1ldGVyCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCBDaGFyVG9rZW5pemVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubGVuZ3RoX3JlZ3VsYXRvciBpbXBvcnQgKAogICAgSGFyZFVwc2FtcGxpbmcsCiAgICBWYXJpYW5jZUFkYXB0b3IsCikKClNQQUNFID0gIuKWgSIKCgpjbGFzcyBUYWdNYW5hZ2VyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHZvY2FiX2luZm86IFZvY2FidWxhcnlJbmZvKToKICAgICAgICBzZWxmLnZvY2FiX2luZm8gPSB2b2NhYl9pbmZvCgogICAgZGVmIHByZXByb2Nlc3NfdGV4dF9zZXFzKHNlbGYsIHRleHRfc2VxczogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgIyBSZW1vdmUgRU9TLCBsYW5nIHRva2VucyBhcyBwZXIgTkxMQiAidGFyZ2V0IiB0b2tlbml6ZXIgbW9kZS4KICAgICAgICB0ZXh0X3NlcXMgPSB0ZXh0X3NlcXNbOiwgMjpdCiAgICAgICAgYXNzZXJ0IHNlbGYudm9jYWJfaW5mby5wYWRfaWR4IGlzIG5vdCBOb25lCiAgICAgICAgdGV4dF9zZXFzLm1hc2tlZF9maWxsXygKICAgICAgICAgICAgdGV4dF9zZXFzID09IHNlbGYudm9jYWJfaW5mby5lb3NfaWR4LCBzZWxmLnZvY2FiX2luZm8ucGFkX2lkeAogICAgICAgICkKICAgICAgICByZXR1cm4gdGV4dF9zZXFzCgogICAgZGVmIHBvc3Rwcm9jZXNzX2R1cl9vcl9sZW4oc2VsZiwgZHVyX29yX2xlbjogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgTiA9IGR1cl9vcl9sZW4uc2hhcGVbMF0KICAgICAgICBwYWRfemVybyA9IGR1cl9vcl9sZW4ubmV3X3plcm9zKChOLCAxKSkKICAgICAgICAjIEFkZCBwYWRzIGZvciBsYW5nLCBFT1MgdG9rZW5zIGFzIHBlciBOTExCICJzb3VyY2UiIHRva2VuaXplciBtb2RlLgogICAgICAgIGR1cl9vcl9sZW4gPSB0b3JjaC5jYXQoW3BhZF96ZXJvLCBkdXJfb3JfbGVuLCBwYWRfemVyb10sIGRpbT0xKQogICAgICAgIHJldHVybiBkdXJfb3JfbGVuCgoKQGZpbmFsCmNsYXNzIE5BUkRlY29kZXJGcm9udGVuZChNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyBhIE5vbi1hdXRvcmVncmVzc2l2ZSBkZWNvZGVyIGZyb250LWVuZC4iIiIKCiAgICBjaGFyX3Bvc19lbmNvZGVyOiBQb3NpdGlvbkVuY29kZXIKICAgIHBvc19lbWJfYWxwaGFfY2hhcjogUGFyYW1ldGVyCiAgICB1bml0X3Bvc19lbmNvZGVyOiBQb3NpdGlvbkVuY29kZXIKICAgIHBvc19lbWJfYWxwaGE6IFBhcmFtZXRlcgogICAgc2NhbGU6IGZsb2F0CiAgICBjaGFyX2xlbmd0aF9yZWd1bGF0b3I6IEhhcmRVcHNhbXBsaW5nCiAgICB2YXJpYW5jZV9hZGFwdG9yOiBWYXJpYW5jZUFkYXB0b3IKICAgIGxheWVyX25vcm06IE9wdGlvbmFsW0xheWVyTm9ybV0KICAgIGRyb3BvdXQ6IE9wdGlvbmFsW0Ryb3BvdXRdCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgZW1iZWQ6IEVtYmVkZGluZywKICAgICAgICBlbWJlZF9jaGFyOiBFbWJlZGRpbmcsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IE5sbGJUb2tlbml6ZXIsCiAgICAgICAgY2hhcl90b2tlbml6ZXI6IENoYXJUb2tlbml6ZXIsCiAgICAgICAgdW5pdF9wb3NfZW5jb2RlcjogUG9zaXRpb25FbmNvZGVyLAogICAgICAgIGNoYXJfcG9zX2VuY29kZXI6IFBvc2l0aW9uRW5jb2RlciwKICAgICAgICB2YXJpYW5jZV9hZGFwdG9yOiBWYXJpYW5jZUFkYXB0b3IsCiAgICAgICAgbm9fc2NhbGU6IGJvb2wgPSBGYWxzZSwKICAgICAgICBsYXllcl9ub3JtOiBib29sID0gRmFsc2UsCiAgICAgICAgZHJvcG91dF9wOiBmbG9hdCA9IDAuMSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKToKICAgICAgICBzZWxmLm1vZGVsX2RpbSA9IGVtYmVkLmVtYmVkZGluZ19kaW0KCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYuZW1iZWQgPSBlbWJlZAogICAgICAgIHNlbGYuZW1iZWRfY2hhciA9IGVtYmVkX2NoYXIKICAgICAgICBzZWxmLnRleHRfdG9rZW5pemVyID0gdGV4dF90b2tlbml6ZXIKICAgICAgICBzZWxmLmNoYXJfdG9rZW5pemVyID0gY2hhcl90b2tlbml6ZXIKICAgICAgICBzZWxmLnRhZ19tYW5hZ2VyID0gVGFnTWFuYWdlcih0ZXh0X3Rva2VuaXplci52b2NhYl9pbmZvKQoKICAgICAgICBzZWxmLnVua19pZHggPSBzZWxmLnRleHRfdG9rZW5pemVyLnZvY2FiX2luZm8udW5rX2lkeAogICAgICAgIHNlbGYucGFkX2lkeCA9IHNlbGYudGV4dF90b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4CgogICAgICAgICMgVE9ETzogSW1wbGVtZW50IEFsaWdubWVudEVuY29kZXIgZm9yIHRyYWluaW5nLgoKICAgICAgICBpZiB1bml0X3Bvc19lbmNvZGVyLmVuY29kaW5nX2RpbSAhPSBzZWxmLm1vZGVsX2RpbToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgIGYiYGVuY29kaW5nX2RpbWAgb2YgYHVuaXRfcG9zX2VuY29kZXJgIGFuZCBgZW1iZWRkaW5nX2RpbWAgb2YgYGVtYmVkYCBtdXN0IGJlIGVxdWFsLCBidXQgYXJlIHt1bml0X3Bvc19lbmNvZGVyLmVuY29kaW5nX2RpbX0gYW5kIHtzZWxmLm1vZGVsX2RpbX0gaW5zdGVhZC4iCiAgICAgICAgICAgICkKCiAgICAgICAgaWYgY2hhcl9wb3NfZW5jb2Rlci5lbmNvZGluZ19kaW0gIT0gc2VsZi5tb2RlbF9kaW06CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICBmImBlbmNvZGluZ19kaW1gIG9mIGBjaGFyX3Bvc19lbmNvZGVyYCBhbmQgYGVtYmVkZGluZ19kaW1gIG9mIGBlbWJlZGAgbXVzdCBiZSBlcXVhbCwgYnV0IGFyZSB7Y2hhcl9wb3NfZW5jb2Rlci5lbmNvZGluZ19kaW19IGFuZCB7c2VsZi5tb2RlbF9kaW19IGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIHNlbGYudW5pdF9wb3NfZW5jb2RlciA9IHVuaXRfcG9zX2VuY29kZXIKCiAgICAgICAgc2VsZi5wb3NfZW1iX2FscGhhID0gUGFyYW1ldGVyKHRvcmNoLm9uZXMoMSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpKQogICAgICAgIHNlbGYuY2hhcl9wb3NfZW5jb2RlciA9IGNoYXJfcG9zX2VuY29kZXIKCiAgICAgICAgc2VsZi5wb3NfZW1iX2FscGhhX2NoYXIgPSBQYXJhbWV0ZXIodG9yY2gub25lcygxLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkpCiAgICAgICAgc2VsZi5zY2FsZSA9IDEuMCBpZiBub19zY2FsZSBlbHNlIG1hdGguc3FydChzZWxmLm1vZGVsX2RpbSkKCiAgICAgICAgc2VsZi5jaGFyX2xlbmd0aF9yZWd1bGF0b3IgPSBIYXJkVXBzYW1wbGluZygpCgogICAgICAgIHNlbGYudmFyaWFuY2VfYWRhcHRvciA9IHZhcmlhbmNlX2FkYXB0b3IKCiAgICAgICAgaWYgbGF5ZXJfbm9ybToKICAgICAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0oCiAgICAgICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJsYXllcl9ub3JtIiwgTm9uZSkKCiAgICAgICAgaWYgZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLmRyb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZHJvcG91dCIsIE5vbmUpCgogICAgZGVmIGluZGljZXNfdG9fc3Vid29yZHMoc2VsZiwgdGV4dF9zZXFzOiBUZW5zb3IpIC0+IExpc3RbTGlzdFtzdHJdXToKICAgICAgICAjIFRPRE86IFRvIGJlIHJlcGxhY2VkIHdpdGggZmFpcnNlcTIncyBpbmRpY2VzX3RvX3Rva2VucyBTUE0gbW9kZWwgbWV0aG9kCiAgICAgICAgIyBvbmNlIGltcGxlbWVudGVkLgogICAgICAgIE4sIHNlcV9sZW4gPSB0ZXh0X3NlcXMuc2hhcGUKICAgICAgICBzdWJ3b3Jkc19iYXRjaCA9IFtdCiAgICAgICAgZm9yIGIgaW4gcmFuZ2UoTik6CiAgICAgICAgICAgIHN1YndvcmRzID0gW10KICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VxX2xlbik6CiAgICAgICAgICAgICAgICBzdWJ3b3JkID0gc2VsZi50ZXh0X3Rva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbihpbnQodGV4dF9zZXFzW2IsIGldKSkKICAgICAgICAgICAgICAgIHN1YndvcmRzLmFwcGVuZChzdHIoc3Vid29yZCkpCiAgICAgICAgICAgIHN1YndvcmRzX2JhdGNoLmFwcGVuZChzdWJ3b3JkcykKICAgICAgICByZXR1cm4gc3Vid29yZHNfYmF0Y2gKCiAgICBkZWYgdGV4dF90b19jaGFyX3NlcXMoc2VsZiwgdGV4dF9zZXFzOiBUZW5zb3IpIC0+IFR1cGxlW1RlbnNvciwgVGVuc29yLCBUZW5zb3JdOgogICAgICAgIHRleHRfc2VxcyA9IHNlbGYudGFnX21hbmFnZXIucHJlcHJvY2Vzc190ZXh0X3NlcXModGV4dF9zZXFzKQoKICAgICAgICBzdWJ3b3Jkc19iYXRjaCA9IHNlbGYuaW5kaWNlc190b19zdWJ3b3Jkcyh0ZXh0X3NlcXMpCgogICAgICAgIGNoYXJfbGVucyA9IHNlbGYuY291bnRfY2hhcmFjdGVyX2xlbmd0aF9pbl9zdWJ3b3JkKHRleHRfc2Vxcywgc3Vid29yZHNfYmF0Y2gpCgogICAgICAgIGNoYXJfbGVucyA9IHNlbGYudGFnX21hbmFnZXIucG9zdHByb2Nlc3NfZHVyX29yX2xlbihjaGFyX2xlbnMpCgogICAgICAgIGNoYXJfc2VxcywgY2hhcl9zZXFfbGVucyA9IHNlbGYuZ2V0X2NoYXJfc2VxcygKICAgICAgICAgICAgdGV4dF9zZXFzLCBzdWJ3b3Jkc19iYXRjaCwgY2hhcl9sZW5zCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gY2hhcl9zZXFzLCBjaGFyX3NlcV9sZW5zLCBjaGFyX2xlbnMKCiAgICBkZWYgY291bnRfY2hhcmFjdGVyX2xlbmd0aF9pbl9zdWJ3b3JkKAogICAgICAgIHNlbGYsCiAgICAgICAgdGV4dF9zZXFzOiBUZW5zb3IsCiAgICAgICAgc3Vid29yZHNfYmF0Y2g6IExpc3RbTGlzdFtzdHJdXSwKICAgICAgICBtZXJnZV9zcGFjZV93aXRoX3ByZXZfc3Vid29yZDogYm9vbCA9IEZhbHNlLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgTiwgXyA9IHRleHRfc2Vxcy5zaGFwZQoKICAgICAgICBjaGFyX2xlbnMgPSB0ZXh0X3NlcXMubmV3X3plcm9zKHRleHRfc2Vxcy5zaXplKCkpCgogICAgICAgIGFzc2VydCBzZWxmLnBhZF9pZHggaXMgbm90IE5vbmUKICAgICAgICBzdWJ3b3JkX2xlbnMgPSB0ZXh0X3NlcXMubmUoc2VsZi5wYWRfaWR4KS5zdW0oMSkKCiAgICAgICAgZm9yIGIgaW4gcmFuZ2UoTik6CiAgICAgICAgICAgICMgV2Ugc2xpY2Ugb3V0IHRoZSB0ZW5zb3IgdGlsbCB0aGUgcGFkZGluZyBpbmRleC4KICAgICAgICAgICAgc3Vid29yZF9pbmRpY2VzID0gdGV4dF9zZXFzW2IsIDogc3Vid29yZF9sZW5zW2JdXQogICAgICAgICAgICBzdWJ3b3JkcyA9IHN1YndvcmRzX2JhdGNoW2JdWzogc3Vid29yZF9sZW5zW2JdXQoKICAgICAgICAgICAgYXNzZXJ0IHN1YndvcmRfaW5kaWNlcy5zaGFwZVswXSA9PSBsZW4oc3Vid29yZHMpCgogICAgICAgICAgICBpc19uZXh0X3N0YXJ0X3dpdGhfc3BhY2UgPSBbCiAgICAgICAgICAgICAgICBsZW4oc3Vid29yZHNbaSArIDFdKSA+IDEgYW5kIHN1YndvcmRzW2kgKyAxXVswXSA9PSBTUEFDRQogICAgICAgICAgICAgICAgaWYgaSA8IGxlbihzdWJ3b3JkcykgLSAxCiAgICAgICAgICAgICAgICBlbHNlIEZhbHNlCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc3Vid29yZHMpKQogICAgICAgICAgICBdCiAgICAgICAgICAgIGlzX3B1bmMgPSBbCiAgICAgICAgICAgICAgICBsZW4oc3Vid29yZHNbaV0pID09IDEKICAgICAgICAgICAgICAgIGFuZCBub3Qgc3Vid29yZHNbaV0uaXNhbHBoYSgpCiAgICAgICAgICAgICAgICBhbmQgbm90IHN1YndvcmRzW2ldLmlzbnVtZXJpYygpCiAgICAgICAgICAgICAgICBhbmQgc3Vid29yZHNbaV0gIT0gU1BBQ0UKICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihzdWJ3b3JkcykpCiAgICAgICAgICAgIF0KICAgICAgICAgICAgZm9yIGksIChzdWJ3b3JkX2lkeCwgc3Vid29yZCkgaW4gZW51bWVyYXRlKHppcChzdWJ3b3JkX2luZGljZXMsIHN1YndvcmRzKSk6CiAgICAgICAgICAgICAgICBpZiBzdWJ3b3JkX2lkeCA9PSBzZWxmLnBhZF9pZHg6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgICAgICAgICBpZiBzdWJ3b3JkX2lkeCA9PSBzZWxmLnVua19pZHg6CiAgICAgICAgICAgICAgICAgICAgIyBXZSBzZXQgY2hhcl9sZW4gdG8gMSBmb3IgYW4gdW5rIHRva2VuLgogICAgICAgICAgICAgICAgICAgIGNoYXJfbGVuID0gMQoKICAgICAgICAgICAgICAgICAgICBpZiBtZXJnZV9zcGFjZV93aXRoX3ByZXZfc3Vid29yZCBhbmQgaXNfbmV4dF9zdGFydF93aXRoX3NwYWNlW2ldOgogICAgICAgICAgICAgICAgICAgICAgICBjaGFyX2xlbiArPSAxCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICMgQnkgZGVmYXVsdCwgc3BhY2VzIGFyZSBtZXJnZWQgd2l0aCB0aGUgbmV4dCBzdWJ3b3JkLgogICAgICAgICAgICAgICAgICAgICMgY2hhcl9sZW4gaW5jbHVkZXMgdGhlIHNwYWNlLgogICAgICAgICAgICAgICAgICAgIGNoYXJfbGVuID0gbGVuKHN1YndvcmQpCgogICAgICAgICAgICAgICAgICAgIGlmIG1lcmdlX3NwYWNlX3dpdGhfcHJldl9zdWJ3b3JkOgogICAgICAgICAgICAgICAgICAgICAgICAjIEFkZCB0aGUgc3BhY2UgZm9yIHRoZSBuZXh0IHN1YndvcmQuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGlzX25leHRfc3RhcnRfd2l0aF9zcGFjZVtpXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJfbGVuICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgIyBTdWJ0cmFjdCB0aGUgc3BhY2UgZm9yIHRoZSBjdXJyZW50IHN1YndvcmQuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGkgPiAwIGFuZCBpc19uZXh0X3N0YXJ0X3dpdGhfc3BhY2VbaSAtIDFdOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcl9sZW4gLT0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICMgTWVyZ2Ugc3BhY2Ugd2l0aCBwdW5jdHVhdGlvbiBtYXJrIGJ5IGRlZmF1bHQuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGlzX3B1bmNbaV0gYW5kIGlzX25leHRfc3RhcnRfd2l0aF9zcGFjZVtpXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJfbGVuICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgIyBTdWJ0cmFjdCB0aGUgc3BhY2UgZm9yIHRoZSBzdWJ3b3JkIHN1Y2NlZWRpbmcgdGhlIHB1bmN0dWF0aW9uIG1hcmsuCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA+IDAgYW5kIGlzX3B1bmNbaSAtIDFdIGFuZCBpc19uZXh0X3N0YXJ0X3dpdGhfc3BhY2VbaSAtIDFdCiAgICAgICAgICAgICAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyX2xlbiAtPSAxCgogICAgICAgICAgICAgICAgY2hhcl9sZW5zW2IsIGldID0gY2hhcl9sZW4KCiAgICAgICAgcmV0dXJuIGNoYXJfbGVucwoKICAgIGRlZiBnZXRfY2hhcl9zZXFzKAogICAgICAgIHNlbGYsIHRleHRfc2VxczogVGVuc29yLCBzdWJ3b3Jkc19iYXRjaDogTGlzdFtMaXN0W3N0cl1dLCBjaGFyX2xlbnM6IFRlbnNvcgogICAgKSAtPiBUdXBsZVtUZW5zb3IsIFRlbnNvcl06CiAgICAgICAgTiA9IHRleHRfc2Vxcy5zaGFwZVswXQogICAgICAgIG1heF9sZW4gPSBpbnQoY2hhcl9sZW5zLnN1bSgxKS5tYXgoKS5pdGVtKCkpCgogICAgICAgIGFzc2VydCBzZWxmLnBhZF9pZHggaXMgbm90IE5vbmUKICAgICAgICBjaGFyX3NlcXMgPSB0ZXh0X3NlcXMubmV3X3plcm9zKChOLCBtYXhfbGVuKSkuZmlsbF8oc2VsZi5wYWRfaWR4KQogICAgICAgIGNoYXJfc2VxX2xlbnMgPSBjaGFyX3NlcXMubmV3X3plcm9zKE4pCgogICAgICAgIGFzc2VydCBzZWxmLnBhZF9pZHggaXMgbm90IE5vbmUKICAgICAgICBzdWJ3b3JkX2xlbnMgPSB0ZXh0X3NlcXMubmUoc2VsZi5wYWRfaWR4KS5zdW0oMSkKCiAgICAgICAgZm9yIGIgaW4gcmFuZ2UoTik6CiAgICAgICAgICAgIHRvdGFsID0gMAogICAgICAgICAgICBzdWJ3b3JkX2luZGljZXMgPSB0ZXh0X3NlcXNbYiwgOiBzdWJ3b3JkX2xlbnNbYl1dCiAgICAgICAgICAgIHN1YndvcmRzID0gc3Vid29yZHNfYmF0Y2hbYl1bOiBzdWJ3b3JkX2xlbnNbYl1dCiAgICAgICAgICAgIGZvciBzdWJ3b3JkX2lkeCwgc3Vid29yZCBpbiB6aXAoc3Vid29yZF9pbmRpY2VzLCBzdWJ3b3Jkcyk6CiAgICAgICAgICAgICAgICBpZiBzdWJ3b3JkX2lkeCA9PSBzZWxmLnVua19pZHg6CiAgICAgICAgICAgICAgICAgICAgY2hhcl9pZHMgPSBbc2VsZi51bmtfaWR4XQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAjIEdldCBjaGFyIHRva2VuIGluZGljZXMgY29ycmVzcG9uZGluZyB0byB0aGUgc3Vid29yZHMuCiAgICAgICAgICAgICAgICAgICAgY2hhcl9pZHMgPSBbCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2hhcl90b2tlbml6ZXIubW9kZWwudG9rZW5fdG9faW5kZXgoY2gpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBjaCBpbiBsaXN0KHN1YndvcmQpCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgY2hhcl9zZXFfbGVuID0gbGVuKGNoYXJfaWRzKQogICAgICAgICAgICAgICAgY2hhcl9zZXFzW2IsIHRvdGFsIDogdG90YWwgKyBjaGFyX3NlcV9sZW5dID0gdG9yY2gudGVuc29yKGNoYXJfaWRzKS50bygKICAgICAgICAgICAgICAgICAgICBjaGFyX3NlcXMKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHRvdGFsICs9IGNoYXJfc2VxX2xlbgogICAgICAgICAgICBjaGFyX3NlcV9sZW5zW2JdID0gdG90YWwKICAgICAgICByZXR1cm4gY2hhcl9zZXFzLCBjaGFyX3NlcV9sZW5zCgogICAgZGVmIGNoYXJhY3Rlcl9sZXZlbF91cHNhbXBsaW5nKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIGNoYXJfc2VxczogVGVuc29yLAogICAgICAgIGNoYXJfbGVuczogVGVuc29yLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgc2VxcywgXyA9IHNlbGYuY2hhcl9sZW5ndGhfcmVndWxhdG9yKHNlcXMsIGNoYXJfbGVucykKCiAgICAgICAgcG9zX2VtYmVkcyA9IHNlbGYucG9zX2VtYl9hbHBoYV9jaGFyICogKAogICAgICAgICAgICBzZWxmLmNoYXJfcG9zX2VuY29kZXIoc2VxcywgcGFkZGluZ19tYXNrKSAtIHNlcXMKICAgICAgICApCgogICAgICAgIGNoYXJfZW1iZWRzID0gc2VsZi5lbWJlZF9jaGFyKGNoYXJfc2VxcykKCiAgICAgICAgaWYgc2VsZi5zY2FsZSAhPSAxLjA6CiAgICAgICAgICAgIGNoYXJfZW1iZWRzICo9IHNlbGYuc2NhbGUKCiAgICAgICAgcG9zX2VtYmVkcyArPSBjaGFyX2VtYmVkcwoKICAgICAgICBzZXFzICs9IHBvc19lbWJlZHMKCiAgICAgICAgcmV0dXJuIHNlcXMKCiAgICBkZWYgZm9yd2FyZF91bml0X3Bvc19lbWJlZGRpbmcoCiAgICAgICAgc2VsZiwgc2VxczogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXQogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgcG9zX2VtYmVkcyA9IHNlbGYucG9zX2VtYl9hbHBoYSAqICgKICAgICAgICAgICAgc2VsZi51bml0X3Bvc19lbmNvZGVyKHNlcXMsIHBhZGRpbmdfbWFzaykgLSBzZXFzCiAgICAgICAgKQoKICAgICAgICBzZXFzICs9IHBvc19lbWJlZHMKCiAgICAgICAgaWYgc2VsZi5kcm9wb3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZXFzID0gc2VsZi5kcm9wb3V0KHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IFRlbnNvciwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIHRleHRfc2VxczogT3B0aW9uYWxbVGVuc29yXSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIGZpbG1fY29uZF9lbWI6IE9wdGlvbmFsW1RlbnNvcl0gPSBOb25lLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwgVGVuc29yXToKICAgICAgICBhc3NlcnQgdGV4dF9zZXFzIGlzIG5vdCBOb25lCgogICAgICAgICMgdGV4dF9zZXFzOiAoTiwgU190ZXh0KQogICAgICAgIGNoYXJfc2VxcywgY2hhcl9zZXFfbGVucywgY2hhcl9sZW5zID0gc2VsZi50ZXh0X3RvX2NoYXJfc2Vxcyh0ZXh0X3NlcXMpCgogICAgICAgICMgY2hhcl9zZXFzOiAoTiwgU19jaGFyKQogICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrID0gUGFkZGluZ01hc2soCiAgICAgICAgICAgIGNoYXJfc2VxX2xlbnMsIGJhdGNoX3NlcV9sZW49Y2hhcl9zZXFzLnNpemUoMSkKICAgICAgICApCgogICAgICAgICMgKE4sIFNfdGV4dCwgTSkgLT4gKE4sIFNfY2hhciwgTSkKICAgICAgICBzZXFzID0gc2VsZi5jaGFyYWN0ZXJfbGV2ZWxfdXBzYW1wbGluZygKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsIGVuY29kZXJfcGFkZGluZ19tYXNrLCBjaGFyX3NlcXMsIGNoYXJfbGVucwogICAgICAgICkKCiAgICAgICAgIyAoTiwgU19jaGFyLCBNKSAtPiAoTiwgU191bml0LCBNKQogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzaywgZHVyYXRpb25zID0gc2VsZi52YXJpYW5jZV9hZGFwdG9yKAogICAgICAgICAgICBzZXFzLAogICAgICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yPWR1cmF0aW9uX2ZhY3RvciwKICAgICAgICAgICAgbWluX2R1cmF0aW9uPTEsCiAgICAgICAgICAgIGZpbG1fY29uZF9lbWI9ZmlsbV9jb25kX2VtYiwKICAgICAgICApCgogICAgICAgIHNlcXMgPSBzZWxmLmZvcndhcmRfdW5pdF9wb3NfZW1iZWRkaW5nKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgcmV0dXJuIHNlcXMsIHBhZGRpbmdfbWFzaywgZHVyYXRpb25zCg=='),
    ('seamless/src/seamless_communication/models/unity/unit_tokenizer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBPcHRpb25hbCwgU2VxdWVuY2UKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFZvY2FidWxhcnlJbmZvCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEZXZpY2UKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCgoKY2xhc3MgVW5pdFRva2VuaXplcjoKICAgICIiIlJlcHJlc2VudHMgYSB0b2tlbml6ZXIgdG8gZW5jb2RlIGFuZCBkZWNvZGUgVW5pdFkgc3BlZWNoIHVuaXRzLiIiIgoKICAgIG51bV91bml0czogaW50CiAgICBsYW5nczogU2VxdWVuY2Vbc3RyXQogICAgbGFuZ19tYXA6IERpY3Rbc3RyLCBpbnRdCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG51bV91bml0czogaW50LCBsYW5nczogU2VxdWVuY2Vbc3RyXSwgbW9kZWxfYXJjaDogc3RyKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBudW1fdW5pdHM6CiAgICAgICAgICAgIFRoZSBudW1iZXIgb2Ygc3BlZWNoIHVuaXRzLgogICAgICAgIDpwYXJhbSBsYW5nczoKICAgICAgICAgICAgVGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGxhbmd1YWdlcy4KICAgICAgICA6cGFyYW0gbW9kZWxfYXJjaDoKICAgICAgICAgICAgVGhlIHR5cGUgb2YgVW5pdFkgbW9kZWwgYXJjaGl0ZWN0dXJlLgogICAgICAgICIiIgogICAgICAgIHNlbGYubnVtX3VuaXRzID0gbnVtX3VuaXRzCgogICAgICAgIHNlbGYubGFuZ3MgPSBsYW5ncwoKICAgICAgICBzZWxmLmxhbmdfbWFwID0ge2xhbmc6IGlkeCBmb3IgaWR4LCBsYW5nIGluIGVudW1lcmF0ZShsYW5ncyl9CgogICAgICAgICMgVGhlICJfdjIiIHVuaXR5IGFyY2hpdGVjdHVyZXMgaGF2ZSBhIG5vbi1hdXRvcmVncmVzc2l2ZSBkZWNvZGVyLgogICAgICAgIGlmIG1vZGVsX2FyY2guc3BsaXQoIl8iKVstMV0gPT0gInYyIjoKICAgICAgICAgICAgc2VsZi5pc19uYXJfZGVjb2RlciA9IFRydWUKICAgICAgICAgICAgc2VsZi5sYW5nX3N5bWJvbF9yZXBpdGl0aW9ucyA9IDEKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmlzX25hcl9kZWNvZGVyID0gRmFsc2UKICAgICAgICAgICAgIyBGb3IgbGVnYWN5IHJlYXNvbnMsIHdlIGhhdmUgdG8gcmVwZWF0IHRoZSBsYW5ndWFnZSBzeW1ib2xzIHR3aWNlLAogICAgICAgICAgICAjIGFsb25nIHdpdGggYSBwbGFjZWhvbGRlciBgPG1hc2s+YCB0b2tlbiBmb3IgVW5pdFkgYXV0b3JlZ3Jlc3NpdmUgbW9kZWxzLgogICAgICAgICAgICBzZWxmLmxhbmdfc3ltYm9sX3JlcGl0aXRpb25zID0gMgoKICAgICAgICB2b2NhYl9zaXplID0gbnVtX3VuaXRzICsgc2VsZi5sYW5nX3N5bWJvbF9yZXBpdGl0aW9ucyAqIChsZW4obGFuZ3MpICsgMSkgKyA0CgogICAgICAgICMgV2UgdXNlIGZhaXJzZXEncyBjb250cm9sIHN5bWJvbCBvcmRlci4KICAgICAgICBzZWxmLnZvY2FiX2luZm8gPSBWb2NhYnVsYXJ5SW5mbygKICAgICAgICAgICAgc2l6ZT12b2NhYl9zaXplLCBib3NfaWR4PTAsIHBhZF9pZHg9MSwgZW9zX2lkeD0yLCB1bmtfaWR4PTMKICAgICAgICApCgogICAgZGVmIGxhbmdfdG9faW5kZXgoc2VsZiwgbGFuZzogc3RyKSAtPiBpbnQ6CiAgICAgICAgIiIiUmV0dXJuIHRoZSBzeW1ib2wgaW5kZXggb2YgdGhlIHNwZWNpZmllZCBsYW5ndWFnZS4iIiIKICAgICAgICAjICs0IGZvciBQQUQvRU9TL0JPUy9VTkssIGFuZCArMSBmb3IgdGhlIGA8bWFzaz5gIHRva2VuLgogICAgICAgIHRyeToKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIHNlbGYubnVtX3VuaXRzCiAgICAgICAgICAgICAgICArIChzZWxmLmxhbmdfc3ltYm9sX3JlcGl0aXRpb25zIC0gMSkgKiAobGVuKHNlbGYubGFuZ3MpICsgMSkKICAgICAgICAgICAgICAgICsgc2VsZi5sYW5nX21hcFtsYW5nXQogICAgICAgICAgICAgICAgKyA0CiAgICAgICAgICAgICkKICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIGxhbmdzID0gIiwgIi5qb2luKHNlbGYubGFuZ3MpCgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgbGFuZ2AgbXVzdCBiZSBvbmUgb2YgdGhlIHN1cHBvcnRlZCBsYW5ndWFnZXMsIGJ1dCBpcyAne2xhbmd9JyBpbnN0ZWFkLiBTdXBwb3J0ZWQgbGFuZ3VhZ2VzOiB7bGFuZ3N9IgogICAgICAgICAgICApCgogICAgZGVmIGluZGV4X3RvX2xhbmcoc2VsZiwgaWR4OiBpbnQpIC0+IHN0cjoKICAgICAgICAiIiJSZXR1cm4gdGhlIGxhbmd1YWdlIG9mIHRoZSBzcGVjaWZpZWQgbGFuZ3VhZ2Ugc3ltYm9sIGluZGV4LiIiIgogICAgICAgIHJlbGF0aXZlX2lkeCA9ICgKICAgICAgICAgICAgaWR4CiAgICAgICAgICAgIC0gc2VsZi5udW1fdW5pdHMKICAgICAgICAgICAgLSAoc2VsZi5sYW5nX3N5bWJvbF9yZXBpdGl0aW9ucyAtIDEpICogKGxlbihzZWxmLmxhbmdzKSArIDEpCiAgICAgICAgICAgIC0gNAogICAgICAgICkKCiAgICAgICAgaWYgcmVsYXRpdmVfaWR4IDwgMCBvciByZWxhdGl2ZV9pZHggPj0gbGVuKHNlbGYubGFuZ3MpOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgaWR4YCBtdXN0IGNvcnJlc3BvbmQgdG8gb25lIG9mIHRoZSBzdXBwb3J0ZWQgbGFuZ3VhZ2Ugc3ltYm9sIGluZGljZXMgKDAgdG8ge2xlbihzZWxmLmxhbmdzKSAtIDF9KSwgYnV0IGlzIHtpZHh9IGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIHJldHVybiBzZWxmLmxhbmdzW3JlbGF0aXZlX2lkeF0KCiAgICBkZWYgY3JlYXRlX2VuY29kZXIoCiAgICAgICAgc2VsZiwgbGFuZzogc3RyLCBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lCiAgICApIC0+ICJVbml0VG9rZW5FbmNvZGVyIjoKICAgICAgICAiIiJDcmVhdGUgYSB0b2tlbiBlbmNvZGVyLgoKICAgICAgICA6cGFyYW0gbGFuZzoKICAgICAgICAgICAgVGhlIGxhbmd1YWdlIG9mIGdlbmVyYXRlZCB0b2tlbiBpbmRpY2VzLgogICAgICAgICIiIgogICAgICAgIHJldHVybiBVbml0VG9rZW5FbmNvZGVyKHNlbGYsIGxhbmcsIHNlbGYuaXNfbmFyX2RlY29kZXIsIGRldmljZT1kZXZpY2UpCgogICAgZGVmIGNyZWF0ZV9kZWNvZGVyKHNlbGYpIC0+ICJVbml0VG9rZW5EZWNvZGVyIjoKICAgICAgICAiIiJDcmVhdGUgYSB0b2tlbiBkZWNvZGVyLiIiIgogICAgICAgIHJldHVybiBVbml0VG9rZW5EZWNvZGVyKHNlbGYsIHNlbGYuaXNfbmFyX2RlY29kZXIpCgoKY2xhc3MgVW5pdFRva2VuRW5jb2RlcjoKICAgICIiIkVuY29kZXMgc3BlZWNoIHVuaXRzIGludG8gdG9rZW4gaW5kaWNlcy4iIiIKCiAgICB0b2tlbml6ZXI6IFVuaXRUb2tlbml6ZXIKICAgIGVvc19pZHg6IGludAogICAgdW5rX2lkeDogaW50CiAgICBsYW5nX2lkeDogaW50CiAgICBwcmVmaXhfaW5kaWNlczogT3B0aW9uYWxbVGVuc29yXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHRva2VuaXplcjogVW5pdFRva2VuaXplciwKICAgICAgICBsYW5nOiBzdHIsCiAgICAgICAgaXNfbmFyX2RlY29kZXI6IGJvb2wsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gdG9rZW5pemVyOgogICAgICAgICAgICBUaGUgdW5pdCB0b2tlbml6ZXIgdG8gdXNlLgogICAgICAgIDpwYXJhbSBsYW5nOgogICAgICAgICAgICBUaGUgbGFuZ3VhZ2Ugb2YgZ2VuZXJhdGVkIHRva2VuIGluZGljZXMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgbm90IGxhbmcgaW4gdG9rZW5pemVyLmxhbmdfbWFwOgogICAgICAgICAgICBsYW5ncyA9ICIsICIuam9pbih0b2tlbml6ZXIubGFuZ3MpCgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgbGFuZ2AgbXVzdCBiZSBvbmUgb2YgdGhlIHN1cHBvcnRlZCBsYW5ndWFnZXMsIGJ1dCBpcyAne2xhbmd9JyBpbnN0ZWFkLiBTdXBwb3J0ZWQgbGFuZ3VhZ2VzOiB7bGFuZ3N9IgogICAgICAgICAgICApCgogICAgICAgIHNlbGYudG9rZW5pemVyID0gdG9rZW5pemVyCiAgICAgICAgc2VsZi5pc19uYXJfZGVjb2RlciA9IGlzX25hcl9kZWNvZGVyCgogICAgICAgIGFzc2VydCB0b2tlbml6ZXIudm9jYWJfaW5mby5lb3NfaWR4IGlzIG5vdCBOb25lCiAgICAgICAgYXNzZXJ0IHRva2VuaXplci52b2NhYl9pbmZvLnVua19pZHggaXMgbm90IE5vbmUKCiAgICAgICAgc2VsZi5lb3NfaWR4ID0gdG9rZW5pemVyLnZvY2FiX2luZm8uZW9zX2lkeAogICAgICAgIHNlbGYudW5rX2lkeCA9IHRva2VuaXplci52b2NhYl9pbmZvLnVua19pZHgKCiAgICAgICAgc2VsZi5sYW5nX2lkeCA9IHRva2VuaXplci5sYW5nX3RvX2luZGV4KGxhbmcpCgogICAgICAgIGlmIGRldmljZSBpcyBOb25lOgogICAgICAgICAgICBkZXZpY2UgPSBEZXZpY2UoImNwdSIpCgogICAgICAgIGlmIG5vdCBzZWxmLmlzX25hcl9kZWNvZGVyOgogICAgICAgICAgICAjIFdlIGFsd2F5cyBzdGFydCBzZXF1ZW5jZXMgd2l0aCBFT1MsIGZvbGxvd2VkIGJ5IHRoZSBsYW5ndWFnZSB0b2tlbi4KICAgICAgICAgICAgc2VsZi5wcmVmaXhfaW5kaWNlcyA9IHRvcmNoLnRlbnNvcigKICAgICAgICAgICAgICAgIFtzZWxmLmVvc19pZHgsIHNlbGYubGFuZ19pZHhdLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT10b3JjaC5pbnQ2NAogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5wcmVmaXhfaW5kaWNlcyA9IE5vbmUKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgdW5pdHM6IFRlbnNvcikgLT4gVGVuc29yOgogICAgICAgICIiIkVuY29kZSBgYHVuaXRzYGAgdG8gdG9rZW4gaW5kaWNlcy4KCiAgICAgICAgOnBhcmFtIHVuaXRzOgogICAgICAgICAgICBUaGUgc3BlZWNoIHVuaXRzIHRvIGVuY29kZS4gKlNoYXBlOiogOm1hdGg6YChOLFMpYCwgd2hlcmUgOm1hdGg6YE5gCiAgICAgICAgICAgIGlzIHRoZSBiYXRjaCBzaXplIGFuZCA6bWF0aDpgU2AgaXMgdGhlIHNlcXVlbmNlIGxlbmd0aC4KCiAgICAgICAgOnJldHVybnM6CiAgICAgICAgICAgIFRoZSB0b2tlbiBpbmRpY2VzIGNvcnJlc3BvbmRpbmcgdG8gYGB1bml0c2BgLiAqU2hhcGU6KgogICAgICAgICAgICA6bWF0aDpgKE4sU197dG9rfSlgICx3aGVyZSA6bWF0aDpgTmAgaXMgdGhlIGJhdGNoIHNpemUgYW5kCiAgICAgICAgICAgIDptYXRoYFNfe3Rva31gIGlzIHRoZSBzZXF1ZW5jZSBsZW5ndGggb2YgdGhlIHRva2VuIGluZGljZXMuCiAgICAgICAgIiIiCiAgICAgICAgYmF0Y2hfc2l6ZSA9IHVuaXRzLnNpemUoMCkKCiAgICAgICAgaWYgc2VsZi5wcmVmaXhfaW5kaWNlcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgdG9rZW5faW5kaWNlcyA9IHRvcmNoLmNhdCgKICAgICAgICAgICAgICAgIFtzZWxmLnByZWZpeF9pbmRpY2VzLmNsb25lKCkuZXhwYW5kKGJhdGNoX3NpemUsIC0xKSwgdW5pdHMuZGV0YWNoKCldLAogICAgICAgICAgICAgICAgZGltPTEsCiAgICAgICAgICAgICkKCiAgICAgICAgICAgICMgRW5zdXJlIHRoYXQgbm9uLXN5bWJvbCBpbmRpY2VzIGxhcmdlciB0aGFuIGBudW1fdW5pdHNgIGFyZSByZXBsYWNlZAogICAgICAgICAgICAjIHdpdGggVU5LLgogICAgICAgICAgICBzZXFzID0gdG9rZW5faW5kaWNlc1s6LCAyOl0KICAgICAgICBlbHNlOgogICAgICAgICAgICB0b2tlbl9pbmRpY2VzID0gdW5pdHMuY2xvbmUoKS5kZXRhY2goKQogICAgICAgICAgICBzZXFzID0gdG9rZW5faW5kaWNlcwoKICAgICAgICAjIEFkZCBvZmZzZXQgZm9yIGNvbnRyb2wgc3ltYm9scy4KICAgICAgICBzZXFzICs9IDQKCiAgICAgICAgc2Vxc1tzZXFzID49IHNlbGYudG9rZW5pemVyLm51bV91bml0cyArIDRdID0gc2VsZi51bmtfaWR4CgogICAgICAgIHJldHVybiB0b2tlbl9pbmRpY2VzCgoKY2xhc3MgVW5pdFRva2VuRGVjb2RlcjoKICAgICIiIkRlY29kZXMgc3BlZWNoIHVuaXRzIGZyb20gdG9rZW4gaW5kaWNlcy4iIiIKCiAgICBlb3NfaWR4OiBpbnQKICAgIHBhZF9pZHg6IGludAoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB0b2tlbml6ZXI6IFVuaXRUb2tlbml6ZXIsIGlzX25hcl9kZWNvZGVyOiBib29sKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSB0b2tlbml6ZXI6CiAgICAgICAgICAgIFRoZSB1bml0IHRva2VuaXplciB0byB1c2UuCiAgICAgICAgOnBhcmFtIGlzX25hcl9kZWNvZGVyOgogICAgICAgICAgICBJZiBUcnVlLCB0aGUgdW5pdCBkZWNvZGVyIGlzIG5vbi1hdXRvcmVncmVzc2l2ZS4KICAgICAgICAiIiIKICAgICAgICBhc3NlcnQgdG9rZW5pemVyLnZvY2FiX2luZm8uZW9zX2lkeCBpcyBub3QgTm9uZQogICAgICAgIGFzc2VydCB0b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4IGlzIG5vdCBOb25lCgogICAgICAgIHNlbGYuZW9zX2lkeCA9IHRva2VuaXplci52b2NhYl9pbmZvLmVvc19pZHgKICAgICAgICBzZWxmLnBhZF9pZHggPSB0b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4CgogICAgICAgIHNlbGYuaXNfbmFyX2RlY29kZXIgPSBpc19uYXJfZGVjb2RlcgoKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCB0b2tlbl9pbmRpY2VzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICAiIiJEZWNvZGUgYGB0b2tlbl9pbmRpY2VzYGAgdG8gc3BlZWNoIHVuaXRzLgoKICAgICAgICA6cGFyYW0gdG9rZW5faW5kaWNlczoKICAgICAgICAgICAgVGhlIHRva2VuIGluZGljZXMgdG8gZGVjb2RlLiAqU2hhcGU6KiA6bWF0aDpgKE4sUylgLCB3aGVyZSA6bWF0aDpgTmAKICAgICAgICAgICAgaXMgdGhlIGJhdGNoIHNpemUgYW5kIDptYXRoOmBTYCBpcyB0aGUgc2VxdWVuY2UgbGVuZ3RoLgoKICAgICAgICA6cmV0dXJuczoKICAgICAgICAgICAgVGhlIHNwZWVjaCB1bml0cyBjb3JyZXNwb25kaW5nIHRvIGBgdG9rZW5faW5kaWNlc2BgLiAqU2hhcGU6KgogICAgICAgICAgICA6bWF0aDpgKE4sU197dW50fSlgLCB3aGVyZSA6bWF0aDpgTmAgaXMgdGhlIGJhdGNoIHNpemUgYW5kCiAgICAgICAgICAgIDptYXRoYFNfe3VudH1gIGlzIHRoZSBzZXF1ZW5jZSBsZW5ndGggb2YgdGhlIHNwZWVjaCB1bml0cy4KICAgICAgICAiIiIKICAgICAgICBpZiB0b2tlbl9pbmRpY2VzLnNpemUoMSkgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIHRva2VuX2luZGljZXMKCiAgICAgICAgdW5pdHMgPSB0b2tlbl9pbmRpY2VzLmNsb25lKCkuZGV0YWNoKCkKCiAgICAgICAgIyBSZW1vdmUgdGhlIHByZWZpeCBFT1Mgc3ltYm9sIGZyb20gdGhlIGRlY29kZWQgb3V0cHV0IGZvcgogICAgICAgICMgYXV0b3JlZ3Jlc3NpdmUgVW5pdFkuCiAgICAgICAgaWYgbm90IHNlbGYuaXNfbmFyX2RlY29kZXI6CiAgICAgICAgICAgIHVuaXRzID0gdW5pdHNbOiwgMTpdCgogICAgICAgICMgQWxzbywgcmVwbGFjZSBFT1Mgd2l0aCBQQUQgYXQgc2VxdWVuY2UgZW5kcy4KICAgICAgICB1bml0c1t1bml0cyA9PSBzZWxmLmVvc19pZHhdID0gc2VsZi5wYWRfaWR4CgogICAgICAgIHVuaXRzW3VuaXRzID09IHNlbGYucGFkX2lkeF0gPSBzZWxmLnBhZF9pZHggKyA0CgogICAgICAgICMgUmVtb3ZlIG9mZnNldCBvZiBjb250cm9sIHN5bWJvbHMuCiAgICAgICAgaWYgc2VsZi5pc19uYXJfZGVjb2RlcjoKICAgICAgICAgICAgdW5pdHMgLT0gNAogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgRXhjbHVkZSBsYW5ndWFnZSBzeW1ib2wgZm9yIGF1dG9yZWdyZXNzaXZlIFVuaXRZLgogICAgICAgICAgICB1bml0c1s6LCAxOl0gLT0gNAoKICAgICAgICByZXR1cm4gdW5pdHMK'),
    ('seamless/src/seamless_communication/models/unity/adaptor_block.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBJdGVyYWJsZSwgT3B0aW9uYWwsIFR1cGxlLCBmaW5hbAoKaW1wb3J0IHRvcmNoCmZyb20gZmFpcnNlcTIubW9kZWxzLmNvbmZvcm1lciBpbXBvcnQgQ29uZm9ybWVyQmxvY2sKZnJvbSBmYWlyc2VxMi5ubi5tb2R1bGVfbGlzdCBpbXBvcnQgTW9kdWxlTGlzdApmcm9tIGZhaXJzZXEyLm5uLm5vcm1hbGl6YXRpb24gaW1wb3J0IExheWVyTm9ybQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrCmZyb20gZmFpcnNlcTIubm4ucHJvamVjdGlvbiBpbXBvcnQgTGluZWFyCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIEF0dGVudGlvbk1hc2ssCiAgICBGZWVkRm9yd2FyZE5ldHdvcmssCiAgICBMYXllck5vcm1GYWN0b3J5LAogICAgTXVsdGloZWFkQXR0ZW50aW9uLAogICAgVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIsCiAgICBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybSwKKQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQpmcm9tIG92ZXJyaWRlcyBpbXBvcnQgZmluYWwgYXMgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgR0xVLCBDb252MWQsIERyb3BvdXQsIFJlTFUKCgpAZmluYWwKY2xhc3MgVW5pdFlFbmNvZGVyQWRhcHRvcihUcmFuc2Zvcm1lckVuY29kZXIpOgogICAgIiIiUmVwcmVzZW50cyBhIFRyYW5zZm9ybWVyIGVuY29kZXIgdGhhdCB3cmFwcyBhIHNwZWVjaCBlbmNvZGVyIGFuZCBhZGFwdHMKICAgIGl0IHRvIGJlIHVzZWQgd2l0aCB0aGUgVW5pdFkgYXJjaGl0ZWN0dXJlLiIiIgoKICAgIGlubmVyOiBUcmFuc2Zvcm1lckVuY29kZXIKICAgIGlubmVyX2xheWVyX25vcm06IE9wdGlvbmFsW0xheWVyTm9ybV0KICAgIHByb2oxOiBMaW5lYXIKICAgIGFjdGl2YXRpb246IFJlTFUKICAgIHByb2oyOiBMaW5lYXIKICAgIGFkYXB0b3JfbGF5ZXJzOiBNb2R1bGVMaXN0CiAgICBsYXllcl9ub3JtOiBMYXllck5vcm0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBpbm5lcjogVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgICAgIGFkYXB0b3JfbGF5ZXJzOiBJdGVyYWJsZVtUcmFuc2Zvcm1lckVuY29kZXJMYXllcl0sCiAgICAgICAgKiwKICAgICAgICBpbm5lcl9sYXllcl9ub3JtOiBib29sID0gRmFsc2UsCiAgICAgICAgbGF5ZXJfbm9ybV9mYWN0b3J5OiBPcHRpb25hbFtMYXllck5vcm1GYWN0b3J5XSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gaW5uZXI6CiAgICAgICAgICAgIFRoZSBzcGVlY2ggZW5jb2RlciB0byB3cmFwLgogICAgICAgIDpwYXJhbSBhZGFwdG9yX2xheWVyczoKICAgICAgICAgICAgVGhlIGFkYXB0b3IgbGF5ZXJzIHRvIHN0YWNrIG9uIHRvcCBvZiBgYGlubmVyYGAuCiAgICAgICAgOnBhcmFtIGlubmVyX2xheWVyX25vcm06CiAgICAgICAgICAgIElmIGBgVHJ1ZWBgLCBhcHBsaWVzIExheWVyIE5vcm1hbGl6YXRpb24gdG8gb3V0cHV0cyBvZiBgYGlubmVyYGAuCiAgICAgICAgOnBhcmFtIGxheWVyX25vcm1fZmFjdG9yeToKICAgICAgICAgICAgVGhlIGZhY3RvcnkgdG8gdXNlIHRvIGNvbnN0cnVjdCB0aGUgTGF5ZXIgTm9ybWFsaXphdGlvbiBtb2R1bGVzLgogICAgICAgICIiIgogICAgICAgIG1vZGVsX2RpbSA9IGlubmVyLm1vZGVsX2RpbQoKICAgICAgICBzdXBlcigpLl9faW5pdF9fKG1vZGVsX2RpbSkKCiAgICAgICAgaWYgbGF5ZXJfbm9ybV9mYWN0b3J5IGlzIE5vbmU6CiAgICAgICAgICAgIGxheWVyX25vcm1fZmFjdG9yeSA9IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtCgogICAgICAgIHNlbGYuaW5uZXIgPSBpbm5lcgoKICAgICAgICBpZiBpbm5lcl9sYXllcl9ub3JtOgogICAgICAgICAgICBzZWxmLmlubmVyX2xheWVyX25vcm0gPSBsYXllcl9ub3JtX2ZhY3RvcnkoCiAgICAgICAgICAgICAgICBtb2RlbF9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiaW5uZXJfbGF5ZXJfbm9ybSIsIE5vbmUpCgogICAgICAgIHNlbGYucHJvajEgPSBMaW5lYXIoCiAgICAgICAgICAgIG1vZGVsX2RpbSwgbW9kZWxfZGltICogNCwgYmlhcz1UcnVlLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgc2VsZi5hY3RpdmF0aW9uID0gUmVMVSgpCgogICAgICAgIHNlbGYucHJvajIgPSBMaW5lYXIoCiAgICAgICAgICAgIG1vZGVsX2RpbSAqIDQsIG1vZGVsX2RpbSwgYmlhcz1UcnVlLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgbGF5ZXJfbGlzdCA9IE1vZHVsZUxpc3QoYWRhcHRvcl9sYXllcnMpCiAgICAgICAgaWYgbm90IGxheWVyX2xpc3Q6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImBhZGFwdG9yX2xheWVyc2AgbXVzdCBiZSBub24tZW1wdHkuIikKCiAgICAgICAgc2VsZi5hZGFwdG9yX2xheWVycyA9IGxheWVyX2xpc3QKCiAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gbGF5ZXJfbm9ybV9mYWN0b3J5KG1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXV06CiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5pbm5lcihzZXFzLCBwYWRkaW5nX21hc2spCgogICAgICAgIGlmIHNlbGYuaW5uZXJfbGF5ZXJfbm9ybSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYuaW5uZXJfbGF5ZXJfbm9ybShzZXFzKQoKICAgICAgICAjIE9ubHkgZGlmZmVyZW5jZSBjb21wYXJlZCB0byBhIHZhbmlsbGEgVHJhbnNmb3JtZXIgZW5jb2Rlci4KICAgICAgICBzZXFzID0gc2VxcyArIDAuNSAqIHNlbGYuX2V4cGFuZF9jb250cmFjdChzZXFzKQoKICAgICAgICBmb3IgbGF5ZXIgaW4gc2VsZi5hZGFwdG9yX2xheWVyczoKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gbGF5ZXIoc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBzZXFzID0gc2VsZi5sYXllcl9ub3JtKHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzLCBwYWRkaW5nX21hc2sKCiAgICBkZWYgX2V4cGFuZF9jb250cmFjdChzZWxmLCBzZXFzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICBzZXFzID0gc2VsZi5wcm9qMShzZXFzKQoKICAgICAgICBzZXFzID0gc2VsZi5hY3RpdmF0aW9uKHNlcXMpCgogICAgICAgIHNlcXMgPSBzZWxmLnByb2oyKHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzCgoKQGZpbmFsCmNsYXNzIFVuaXRZVHJhbnNmb3JtZXJBZGFwdG9yTGF5ZXIoVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIpOgogICAgIiIiUmVwcmVzZW50cyBhIHZhcmlhbnQgb2YgTS1BZGFwdG9yIGxheWVyIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIwNy4wMDk1MmAuCgogICAgVGhlIG1haW4gZGlmZmVyZW5jZSBmcm9tIHRoZSBwYXBlciBpcyB0aGF0IHBvb2xpbmcgaXMgYXBwbGllZCB0byBtdWx0aS1oZWFkCiAgICBhdHRlbnRpb24gaW5wdXQgcmF0aGVyIHRoYW4gcHJvamVjdGVkIFEsIEssIFYuCiAgICAiIiIKCiAgICBrZXJuZWxfc2l6ZTogaW50CiAgICBzdHJpZGU6IGludAogICAgcmVzaWR1YWxfbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCiAgICByZXNpZHVhbF9jb252OiBDb252MWQKICAgIHJlc2lkdWFsX2FjdGl2YXRpb246IEdMVQogICAgc2VsZl9hdHRuX2xheWVyX25vcm06IExheWVyTm9ybQogICAgc2VsZl9hdHRuX2NvbnY6IENvbnYxZAogICAgc2VsZl9hdHRuX2FjdGl2YXRpb246IEdMVQogICAgc2VsZl9hdHRuOiBNdWx0aWhlYWRBdHRlbnRpb24KICAgIHNlbGZfYXR0bl9kcm9wb3V0OiBPcHRpb25hbFtEcm9wb3V0XQogICAgZmZuX2xheWVyX25vcm06IExheWVyTm9ybQogICAgZmZuOiBGZWVkRm9yd2FyZE5ldHdvcmsKICAgIGZmbl9kcm9wb3V0OiBPcHRpb25hbFtEcm9wb3V0XQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHNlbGZfYXR0bjogTXVsdGloZWFkQXR0ZW50aW9uLAogICAgICAgIGZmbjogRmVlZEZvcndhcmROZXR3b3JrLAogICAgICAgIGtlcm5lbF9zaXplOiBpbnQsCiAgICAgICAgc3RyaWRlOiBpbnQsCiAgICAgICAgKiwKICAgICAgICBkcm9wb3V0X3A6IGZsb2F0ID0gMC4xLAogICAgICAgIGxheWVyX25vcm1fZmFjdG9yeTogT3B0aW9uYWxbTGF5ZXJOb3JtRmFjdG9yeV0gPSBOb25lLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIHNlbGZfYXR0bjoKICAgICAgICAgICAgVGhlIHNlbGYgYXR0ZW50aW9uIGxheWVyLgogICAgICAgIDpwYXJhbSBmZm46CiAgICAgICAgICAgIFRoZSBmZWVkLWZvcndhcmQgbmV0d29yay4KICAgICAgICA6cGFyYW0ga2VybmVsX3NpemU6CiAgICAgICAgICAgIFRoZSBrZXJuZWwgc2l6ZSBmb3IgMUQgcG9vbGluZyBjb252b2x1dGlvbnMuCiAgICAgICAgOnBhcmFtIHN0cmlkZToKICAgICAgICAgICAgVGhlIHN0cmlkZSBmb3IgMUQgcG9vbGluZyBjb252b2x1dGlvbnMuCiAgICAgICAgOnBhcmFtIGRyb3BvdXRfcDoKICAgICAgICAgICAgVGhlIGRyb3BvdXQgcHJvYmFiaWxpdHkgb24gb3V0cHV0cyBvZiB0aGUgc2VsZiBhdHRlbnRpb24gbGF5ZXIgYW5kCiAgICAgICAgICAgIHRoZSBmZWVkLWZvcndhcmQgbmV0d29yay4KICAgICAgICA6cGFyYW0gbGF5ZXJfbm9ybV9mYWN0b3J5OgogICAgICAgICAgICBUaGUgZmFjdG9yeSB0byB1c2UgdG8gY29uc3RydWN0IHRoZSBMYXllciBOb3JtYWxpemF0aW9uIG1vZHVsZXMuCiAgICAgICAgIiIiCiAgICAgICAgbW9kZWxfZGltID0gc2VsZl9hdHRuLm1vZGVsX2RpbQoKICAgICAgICBzdXBlcigpLl9faW5pdF9fKG1vZGVsX2RpbSkKCiAgICAgICAgaWYgbGF5ZXJfbm9ybV9mYWN0b3J5IGlzIE5vbmU6CiAgICAgICAgICAgIGxheWVyX25vcm1fZmFjdG9yeSA9IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtCgogICAgICAgIHNlbGYua2VybmVsX3NpemUgPSBrZXJuZWxfc2l6ZQogICAgICAgIHNlbGYuc3RyaWRlID0gc3RyaWRlCgogICAgICAgIHNlbGYucmVzaWR1YWxfbGF5ZXJfbm9ybSA9IGxheWVyX25vcm1fZmFjdG9yeSgKICAgICAgICAgICAgbW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgc2VsZi5yZXNpZHVhbF9jb252ID0gQ29udjFkKAogICAgICAgICAgICBtb2RlbF9kaW0sCiAgICAgICAgICAgIG1vZGVsX2RpbSAqIDIsCiAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICBzdHJpZGUsCiAgICAgICAgICAgIHBhZGRpbmc9a2VybmVsX3NpemUgLy8gMiwKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBzZWxmLnJlc2lkdWFsX2FjdGl2YXRpb24gPSBHTFUoZGltPTEpCgogICAgICAgIHNlbGYuc2VsZl9hdHRuX2xheWVyX25vcm0gPSBsYXllcl9ub3JtX2ZhY3RvcnkoCiAgICAgICAgICAgIG1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgICAgIHNlbGYuc2VsZl9hdHRuX2NvbnYgPSBDb252MWQoCiAgICAgICAgICAgIG1vZGVsX2RpbSwKICAgICAgICAgICAgbW9kZWxfZGltICogMiwKICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgcGFkZGluZz1rZXJuZWxfc2l6ZSAvLyAyLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCgogICAgICAgIHNlbGYuc2VsZl9hdHRuX2FjdGl2YXRpb24gPSBHTFUoZGltPTEpCgogICAgICAgIHNlbGYuc2VsZl9hdHRuID0gc2VsZl9hdHRuCgogICAgICAgIGlmIGRyb3BvdXRfcCA+IDAuMDoKICAgICAgICAgICAgc2VsZi5zZWxmX2F0dG5fZHJvcG91dCA9IERyb3BvdXQoZHJvcG91dF9wKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJzZWxmX2F0dG5fZHJvcG91dCIsIE5vbmUpCgogICAgICAgIHNlbGYuZmZuX2xheWVyX25vcm0gPSBsYXllcl9ub3JtX2ZhY3RvcnkobW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKCiAgICAgICAgc2VsZi5mZm4gPSBmZm4KCiAgICAgICAgaWYgZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLmZmbl9kcm9wb3V0ID0gRHJvcG91dChkcm9wb3V0X3ApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoImZmbl9kcm9wb3V0IiwgTm9uZSkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgc2VsZl9hdHRuX21hc2s6IE9wdGlvbmFsW0F0dGVudGlvbk1hc2tdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza11dOgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYuX2ZvcndhcmRfc2VsZl9hdHRuKHNlcXMsIHBhZGRpbmdfbWFzaywgc2VsZl9hdHRuX21hc2spCgogICAgICAgIHNlcXMgPSBzZWxmLl9mb3J3YXJkX2ZmbihzZXFzKQoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrCgogICAgZGVmIF9mb3J3YXJkX3NlbGZfYXR0bigKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBzZWxmX2F0dG5fbWFzazogT3B0aW9uYWxbQXR0ZW50aW9uTWFza10sCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICByZXNpZHVhbCA9IHNlbGYucmVzaWR1YWxfbGF5ZXJfbm9ybShzZXFzKQoKICAgICAgICAjIEFwcGx5IHBvb2xpbmcgdG8gdGhlIHJlc2lkdWFsIHRvIG1hdGNoIHRoZSBzZXF1ZW5jZSBsZW5ndGggb2YgdGhlCiAgICAgICAgIyBtdWx0aS1oZWFkIGF0dGVudGlvbiBvdXRwdXQuCiAgICAgICAgIyAoTiwgUywgTSkgLT4gKE4sIE0sIFMpCiAgICAgICAgcmVzaWR1YWwgPSByZXNpZHVhbC50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgcmVzaWR1YWwgPSBzZWxmLnJlc2lkdWFsX2NvbnYocmVzaWR1YWwpCgogICAgICAgIHJlc2lkdWFsID0gc2VsZi5yZXNpZHVhbF9hY3RpdmF0aW9uKHJlc2lkdWFsKQoKICAgICAgICAjIChOLCBNLCBTKSAtPiAoTiwgUywgTSkKICAgICAgICByZXNpZHVhbCA9IHJlc2lkdWFsLnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICBzZXFzID0gc2VsZi5zZWxmX2F0dG5fbGF5ZXJfbm9ybShzZXFzKQoKICAgICAgICAjIEFwcGx5IHBvb2xpbmcgYmVmb3JlIGZlZWRpbmcgdG8gdGhlIG11bHRpaGVhZC1hdHRlbnRpb24gbGF5ZXIuCiAgICAgICAgIyAoTiwgUywgTSkgLT4gKE4sIE0sIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bl9jb252KHNlcXMpCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bl9hY3RpdmF0aW9uKHNlcXMpCgogICAgICAgICMgKE4sIE0sIFMpIC0+IChOLCBTLCBNKQogICAgICAgIHNlcXMgPSBzZXFzLnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICBwYWRkaW5nX21hc2sgPSBfY29tcHV0ZV9uZXdfcGFkZGluZ19tYXNrKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIHNlbGYua2VybmVsX3NpemUsIHNlbGYuc3RyaWRlCiAgICAgICAgKQoKICAgICAgICAjIFRoZSByZXN0IG9mIHRoZSBjb21wdXRhdGlvbiBpcyBpZGVudGljYWwgdG8gYSB2YW5pbGxhIFRyYW5zZm9ybWVyCiAgICAgICAgIyBlbmNvZGVyIGxheWVyLgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bigKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBrZXlzPXNlcXMsCiAgICAgICAgICAgIGtleV9wYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrLAogICAgICAgICAgICB2YWx1ZXM9c2VxcywKICAgICAgICAgICAgYXR0bl9tYXNrPXNlbGZfYXR0bl9tYXNrLAogICAgICAgICkKCiAgICAgICAgaWYgc2VsZi5zZWxmX2F0dG5fZHJvcG91dCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYuc2VsZl9hdHRuX2Ryb3BvdXQoc2VxcykKCiAgICAgICAgc2VxcyA9IHNlcXMgKyByZXNpZHVhbAoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrCgogICAgZGVmIF9mb3J3YXJkX2ZmbihzZWxmLCBzZXFzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICByZXNpZHVhbCA9IHNlcXMKCiAgICAgICAgc2VxcyA9IHNlbGYuZmZuX2xheWVyX25vcm0oc2VxcykKCiAgICAgICAgc2VxcyA9IHNlbGYuZmZuKHNlcXMpCgogICAgICAgIGlmIHNlbGYuZmZuX2Ryb3BvdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLmZmbl9kcm9wb3V0KHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzICsgcmVzaWR1YWwKCiAgICBkZWYgZXh0cmFfcmVwcihzZWxmKSAtPiBzdHI6CiAgICAgICAgIiIiOm1ldGEgcHJpdmF0ZToiIiIKICAgICAgICBzID0gc3VwZXIoKS5leHRyYV9yZXByKCkKCiAgICAgICAgcmV0dXJuIHMgKyBmIiwga2VybmVsX3NpemU9e3NlbGYua2VybmVsX3NpemV9LCBzdHJpZGU9e3NlbGYuc3RyaWRlfSIKCgpAZmluYWwKY2xhc3MgVW5pdFlDb25mb3JtZXJBZGFwdG9yTGF5ZXIoVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIpOgogICAgIiIiUmVwcmVzZW50cyBhIHZhcmlhbnQgb2YgTS1BZGFwdG9yIGxheWVyIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIwNy4wMDk1MmAuCgogICAgVGhlIG1haW4gZGlmZmVyZW5jZSBmcm9tIHRoZSBwYXBlciBpcyB0aGF0IHRoaXMgdmFyaWFudCB1c2VzIGEgQ29uZm9ybWVyCiAgICBibG9jayB3aGljaCBlbXBpcmljYWxseSBzaG93ZWQgYmV0dGVyIHBlcmZvcm1hbmNlIHdoZW4gdXNlZCB3aXRoIENvbmZvcm1lci0KICAgIGJhc2VkIHNwZWVjaCBlbmNvZGVyIGFyY2hpdGVjdHVyZXMgc3VjaCBhcyB3MnYtQkVSVC4KICAgICIiIgoKICAgIGtlcm5lbF9zaXplOiBpbnQKICAgIHN0cmlkZTogaW50CiAgICBsYXllcl9ub3JtOiBPcHRpb25hbFtMYXllck5vcm1dCiAgICBjb252OiBDb252MWQKICAgIGFjdGl2YXRpb246IEdMVQogICAgYmxvY2s6IENvbmZvcm1lckJsb2NrCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgYmxvY2s6IENvbmZvcm1lckJsb2NrLAogICAgICAgIGtlcm5lbF9zaXplOiBpbnQsCiAgICAgICAgc3RyaWRlOiBpbnQsCiAgICAgICAgKiwKICAgICAgICBsYXllcl9ub3JtOiBib29sID0gRmFsc2UsCiAgICAgICAgbGF5ZXJfbm9ybV9mYWN0b3J5OiBPcHRpb25hbFtMYXllck5vcm1GYWN0b3J5XSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gYmxvY2s6CiAgICAgICAgICAgIFRoZSBDb25mb3JtZXIgYmxvY2sgdG8gdXNlLgogICAgICAgIDpwYXJhbSBrZXJuZWxfc2l6ZToKICAgICAgICAgICAgVGhlIGtlcm5lbCBzaXplIGZvciAxRCBwb29saW5nIGNvbnZvbHV0aW9ucy4KICAgICAgICA6cGFyYW0gc3RyaWRlOgogICAgICAgICAgICBUaGUgc3RyaWRlIGZvciAxRCBwb29saW5nIGNvbnZvbHV0aW9ucy4KICAgICAgICA6cGFyYW0gbGF5ZXJfbm9ybToKICAgICAgICAgICAgSWYgYGBUcnVlYGAsIGFwcGxpZXMgTGF5ZXIgTm9ybWFsaXphdGlvbiB0byBpbnB1dHMgYmVmb3JlIHBvb2xpbmcuCiAgICAgICAgOnBhcmFtIGxheWVyX25vcm1fZmFjdG9yeToKICAgICAgICAgICAgVGhlIGZhY3RvcnkgdG8gdXNlIHRvIGNvbnN0cnVjdCB0aGUgTGF5ZXIgTm9ybWFsaXphdGlvbiBtb2R1bGVzLgogICAgICAgICIiIgogICAgICAgIHN1cGVyKCkuX19pbml0X18oYmxvY2subW9kZWxfZGltKQoKICAgICAgICBpZiBsYXllcl9ub3JtX2ZhY3RvcnkgaXMgTm9uZToKICAgICAgICAgICAgbGF5ZXJfbm9ybV9mYWN0b3J5ID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0KCiAgICAgICAgc2VsZi5rZXJuZWxfc2l6ZSA9IGtlcm5lbF9zaXplCiAgICAgICAgc2VsZi5zdHJpZGUgPSBzdHJpZGUKCiAgICAgICAgaWYgbGF5ZXJfbm9ybToKICAgICAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gbGF5ZXJfbm9ybV9mYWN0b3J5KAogICAgICAgICAgICAgICAgc2VsZi5tb2RlbF9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgibGF5ZXJfbm9ybSIsIE5vbmUpCgogICAgICAgIHNlbGYuY29udiA9IENvbnYxZCgKICAgICAgICAgICAgc2VsZi5tb2RlbF9kaW0sCiAgICAgICAgICAgIHNlbGYubW9kZWxfZGltICogMiwKICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgcGFkZGluZz1rZXJuZWxfc2l6ZSAvLyAyLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCgogICAgICAgIHNlbGYuYWN0aXZhdGlvbiA9IEdMVShkaW09MSkKCiAgICAgICAgc2VsZi5ibG9jayA9IGJsb2NrCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIHNlbGZfYXR0bl9tYXNrOiBPcHRpb25hbFtBdHRlbnRpb25NYXNrXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBpZiBzZWxmLmxheWVyX25vcm0gaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLmxheWVyX25vcm0oc2VxcykKCiAgICAgICAgIyBBcHBseSBwb29saW5nIGJlZm9yZSBmZWVkaW5nIHRvIHRoZSBDb25mb3JtZXIgYmxvY2suCiAgICAgICAgIyAoTiwgUywgTSkgLT4gKE4sIE0sIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHNlcXMgPSBzZWxmLmNvbnYoc2VxcykKCiAgICAgICAgc2VxcyA9IHNlbGYuYWN0aXZhdGlvbihzZXFzKQoKICAgICAgICAjIChOLCBNLCBTKSAtPiAoTiwgUywgTSkKICAgICAgICBzZXFzID0gc2Vxcy50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgcGFkZGluZ19tYXNrID0gX2NvbXB1dGVfbmV3X3BhZGRpbmdfbWFzaygKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBzZWxmLmtlcm5lbF9zaXplLCBzZWxmLnN0cmlkZQogICAgICAgICkKCiAgICAgICAgcmV0dXJuIHNlbGYuYmxvY2soc2VxcywgcGFkZGluZ19tYXNrLCBzZWxmX2F0dG5fbWFzaykgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgogICAgZGVmIGV4dHJhX3JlcHIoc2VsZikgLT4gc3RyOgogICAgICAgICIiIjptZXRhIHByaXZhdGU6IiIiCiAgICAgICAgcyA9IHN1cGVyKCkuZXh0cmFfcmVwcigpCgogICAgICAgIHJldHVybiBzICsgZiIsIGtlcm5lbF9zaXplPXtzZWxmLmtlcm5lbF9zaXplfSwgc3RyaWRlPXtzZWxmLnN0cmlkZX0iCgoKZGVmIF9jb21wdXRlX25ld19wYWRkaW5nX21hc2soCiAgICBzZXFzOiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLCBrZXJuZWxfc2l6ZTogaW50LCBzdHJpZGU6IGludAopIC0+IE9wdGlvbmFsW1BhZGRpbmdNYXNrXToKICAgIGlmIHBhZGRpbmdfbWFzayBpcyBOb25lOgogICAgICAgIHJldHVybiBwYWRkaW5nX21hc2sKCiAgICBwYWQgPSBrZXJuZWxfc2l6ZSAvLyAyCgogICAgc2VxX2xlbnMgPSAoKHBhZGRpbmdfbWFzay5zZXFfbGVucyArIDIgKiBwYWQgLSBrZXJuZWxfc2l6ZSkgLyBzdHJpZGUpICsgMQoKICAgIHNlcV9sZW5zID0gc2VxX2xlbnMuZmxvb3IoKS50byh0b3JjaC5pbnQ2NCkKCiAgICByZXR1cm4gUGFkZGluZ01hc2soc2VxX2xlbnMsIGJhdGNoX3NlcV9sZW49c2Vxcy5zaXplKDEpKQo='),
    ('seamless/src/seamless_communication/models/unity/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmJ1aWxkZXIgaW1wb3J0IFVuaXRZQnVpbGRlciBhcyBVbml0WUJ1aWxkZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5idWlsZGVyIGltcG9ydCBVbml0WUNvbmZpZyBhcyBVbml0WUNvbmZpZwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmJ1aWxkZXIgaW1wb3J0ICgKICAgIGNyZWF0ZV91bml0eV9tb2RlbCBhcyBjcmVhdGVfdW5pdHlfbW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5idWlsZGVyIGltcG9ydCB1bml0eV9hcmNoIGFzIHVuaXR5X2FyY2gKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5idWlsZGVyIGltcG9ydCB1bml0eV9hcmNocyBhcyB1bml0eV9hcmNocwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCAoCiAgICBDaGFyVG9rZW5pemVyIGFzIENoYXJUb2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5jaGFyX3Rva2VuaXplciBpbXBvcnQgKAogICAgVW5pdFlDaGFyVG9rZW5pemVyTG9hZGVyIGFzIFVuaXRZQ2hhclRva2VuaXplckxvYWRlciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCAoCiAgICBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyIGFzIGxvYWRfdW5pdHlfY2hhcl90b2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5mZnRfZGVjb2RlciBpbXBvcnQgKAogICAgRmVlZEZvcndhcmRUcmFuc2Zvcm1lciBhcyBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuZmZ0X2RlY29kZXJfbGF5ZXIgaW1wb3J0ICgKICAgIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXJMYXllciBhcyBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyTGF5ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5maWxtIGltcG9ydCBGaUxNCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubGVuZ3RoX3JlZ3VsYXRvciBpbXBvcnQgKAogICAgSGFyZFVwc2FtcGxpbmcgYXMgSGFyZFVwc2FtcGxpbmcsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sZW5ndGhfcmVndWxhdG9yIGltcG9ydCAoCiAgICBWYXJpYW5jZUFkYXB0b3IgYXMgVmFyaWFuY2VBZGFwdG9yLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubGVuZ3RoX3JlZ3VsYXRvciBpbXBvcnQgKAogICAgVmFyaWFuY2VQcmVkaWN0b3IgYXMgVmFyaWFuY2VQcmVkaWN0b3IsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sb2FkZXIgaW1wb3J0ICgKICAgIGxvYWRfZ2Ntdm5fc3RhdHMgYXMgbG9hZF9nY212bl9zdGF0cywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmxvYWRlciBpbXBvcnQgKAogICAgbG9hZF91bml0eV9jb25maWcgYXMgbG9hZF91bml0eV9jb25maWcsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sb2FkZXIgaW1wb3J0ICgKICAgIGxvYWRfdW5pdHlfbW9kZWwgYXMgbG9hZF91bml0eV9tb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmxvYWRlciBpbXBvcnQgKAogICAgbG9hZF91bml0eV90ZXh0X3Rva2VuaXplciBhcyBsb2FkX3VuaXR5X3RleHRfdG9rZW5pemVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubG9hZGVyIGltcG9ydCAoCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyIGFzIGxvYWRfdW5pdHlfdW5pdF90b2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5tb2RlbCBpbXBvcnQgVW5pdFlNb2RlbCBhcyBVbml0WU1vZGVsCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0ICgKICAgIFVuaXRZTkFSVDJVTW9kZWwgYXMgVW5pdFlOQVJUMlVNb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5Lm1vZGVsIGltcG9ydCBVbml0WU91dHB1dCBhcyBVbml0WU91dHB1dApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5Lm1vZGVsIGltcG9ydCBVbml0WVQyVU1vZGVsIGFzIFVuaXRZVDJVTW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5tb2RlbCBpbXBvcnQgVW5pdFlYMlRNb2RlbCBhcyBVbml0WVgyVE1vZGVsCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubmFyX2RlY29kZXJfZnJvbnRlbmQgaW1wb3J0ICgKICAgIE5BUkRlY29kZXJGcm9udGVuZCBhcyBOQVJEZWNvZGVyRnJvbnRlbmQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS50MnVfYnVpbGRlciBpbXBvcnQgKAogICAgVW5pdFlOQVJUMlVCdWlsZGVyIGFzIFVuaXRZTkFSVDJVQnVpbGRlciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnQydV9idWlsZGVyIGltcG9ydCAoCiAgICBVbml0WVQyVUJ1aWxkZXIgYXMgVW5pdFlUMlVCdWlsZGVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudDJ1X2J1aWxkZXIgaW1wb3J0ICgKICAgIFVuaXRZVDJVQ29uZmlnIGFzIFVuaXRZVDJVQ29uZmlnLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudDJ1X2J1aWxkZXIgaW1wb3J0ICgKICAgIGNyZWF0ZV91bml0eV90MnVfbW9kZWwgYXMgY3JlYXRlX3VuaXR5X3QydV9tb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnQydV9idWlsZGVyIGltcG9ydCAoCiAgICB1bml0eV90MnVfYXJjaCBhcyB1bml0eV90MnVfYXJjaCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnQydV9idWlsZGVyIGltcG9ydCAoCiAgICB1bml0eV90MnVfYXJjaHMgYXMgdW5pdHlfdDJ1X2FyY2hzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudW5pdF90b2tlbml6ZXIgaW1wb3J0ICgKICAgIFVuaXRUb2tlbkRlY29kZXIgYXMgVW5pdFRva2VuRGVjb2RlciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnVuaXRfdG9rZW5pemVyIGltcG9ydCAoCiAgICBVbml0VG9rZW5FbmNvZGVyIGFzIFVuaXRUb2tlbkVuY29kZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS51bml0X3Rva2VuaXplciBpbXBvcnQgKAogICAgVW5pdFRva2VuaXplciBhcyBVbml0VG9rZW5pemVyLAopCg=='),
    ('seamless/src/seamless_communication/models/unity/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QsIE1hcHBpbmcsIFR1cGxlLCBVbmlvbgoKaW1wb3J0IHRvcmNoCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBBc3NldFN0b3JlLCBhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcgpmcm9tIGZhaXJzZXEyLmFzc2V0cy5jYXJkIGltcG9ydCBBc3NldENhcmQsIEFzc2V0Q2FyZEZpZWxkTm90Rm91bmRFcnJvcgpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiIGltcG9ydCBObGxiQ29uZmlnCmZyb20gZmFpcnNlcTIubW9kZWxzLm5sbGIubG9hZGVyIGltcG9ydCBObGxiVG9rZW5pemVyTG9hZGVyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzIGltcG9ydCBDb25maWdMb2FkZXIsIE1vZGVsTG9hZGVyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzLmNoZWNrcG9pbnQgaW1wb3J0IGNvbnZlcnRfZmFpcnNlcV9jaGVja3BvaW50Cgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmJ1aWxkZXIgaW1wb3J0ICgKICAgIFVuaXRZQ29uZmlnLAogICAgY3JlYXRlX3VuaXR5X21vZGVsLAogICAgdW5pdHlfYXJjaHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5jaGFyX3Rva2VuaXplciBpbXBvcnQgbG9hZF91bml0eV9jaGFyX3Rva2VuaXplcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5Lm1vZGVsIGltcG9ydCBVbml0WU1vZGVsCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudW5pdF90b2tlbml6ZXIgaW1wb3J0IFVuaXRUb2tlbml6ZXIKCgpkZWYgY29udmVydF91bml0eV9jaGVja3BvaW50KAogICAgY2hlY2twb2ludDogTWFwcGluZ1tzdHIsIEFueV0sIGNvbmZpZzogVW5pdFlDb25maWcKKSAtPiBNYXBwaW5nW3N0ciwgQW55XToKICAgIHN0YXRlX2RpY3QgPSBjaGVja3BvaW50WyJtb2RlbCJdCgogICAgIyBDaGVjayBpZiB3ZSBoYXZlIGEgZmFpcnNlcTIgY2hlY2twb2ludC4KICAgIGlmICJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuMC5zZWxmX2F0dG5fbGF5ZXJfbm9ybS53ZWlnaHQiIGluIHN0YXRlX2RpY3Q6CiAgICAgICAgcmV0dXJuIGNoZWNrcG9pbnQKCiAgICBrZXlfbWFwID0gX2ZhaXJzZXFfa2V5X21hcChjb25maWcpCgogICAgY2hlY2twb2ludCA9IGNvbnZlcnRfZmFpcnNlcV9jaGVja3BvaW50KGNoZWNrcG9pbnQsIGtleV9tYXApCgogICAgc3RhdGVfZGljdCA9IGNoZWNrcG9pbnRbIm1vZGVsIl0KCiAgICBrZXlzX3RvX2RlbGV0ZSA9IFtdCgogICAgIyBFeHByZXNzaXZlVW5pdFkgbW9kZWwgKGZyb20gbXVsdGlfYXJjaCBjb2RlYmFzZSkKICAgIGlmIGNvbmZpZy5wcm9zb2R5X2VuY29kZXJfY29uZmlnIGlzIG5vdCBOb25lOgogICAgICAgIGVuY29kZXJfa2V5ID0gInMydF9tb2RlbC5lbmNvZGVyIgogICAgICAgIGRlY29kZXJfa2V5ID0gInMydF9tb2RlbC5kZWNvZGVyIgogICAgICAgIHQydV9kZWNvZGVyX2tleSA9ICJ0MnNfbW9kZWwuZGVjb2RlciIKICAgICMgWDJUL1MyVCArIFQyVSBtb2RlbC4KICAgIGVsaWYgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiZW5jb2RlciIKICAgICAgICBkZWNvZGVyX2tleSA9ICJ0YXJnZXRfbGV0dGVyX2RlY29kZXIiCiAgICAgICAgdDJ1X2RlY29kZXJfa2V5ID0gImRlY29kZXIiCiAgICAjIFgyVCBtb2RlbC4KICAgIGVsaWYgY29uZmlnLnVzZV90ZXh0X2VuY29kZXI6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAic3BlZWNoX2VuY29kZXIiCiAgICAgICAgZGVjb2Rlcl9rZXkgPSAic2hhcmVkX2RlY29kZXIiCiAgICAjIFMyVCBtb2RlbC4KICAgIGVsc2U6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiZW5jb2RlciIKICAgICAgICBkZWNvZGVyX2tleSA9ICJkZWNvZGVyIgoKICAgIGtleXNfdG9fZGVsZXRlLmFwcGVuZChmIntkZWNvZGVyX2tleX0udmVyc2lvbiIpCiAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoZiJ7ZGVjb2Rlcl9rZXl9LmVtYmVkX3Bvc2l0aW9ucy5fZmxvYXRfdGVuc29yIikKCiAgICBpZiBjb25maWcudXNlX3RleHRfZW5jb2RlcjoKICAgICAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoInRleHRfZW5jb2Rlci52ZXJzaW9uIikKICAgICAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoInRleHRfZW5jb2Rlci5lbWJlZF9wb3NpdGlvbnMuX2Zsb2F0X3RlbnNvciIpCgogICAgaWYgbm90IGNvbmZpZy51c2VfdGV4dF9kZWNvZGVyOgogICAgICAgIHRleHRfZGVjb2Rlcl9rZXlzID0gW2tleSBmb3Iga2V5IGluIHN0YXRlX2RpY3QgaWYga2V5LnN0YXJ0c3dpdGgoZGVjb2Rlcl9rZXkpXQogICAgICAgIGtleXNfdG9fZGVsZXRlLmV4dGVuZCh0ZXh0X2RlY29kZXJfa2V5cykKCiAgICAjIFJlbW5hbnQgb2Ygd2F2MnZlYzIgcHJldHJhaW5pbmcsIG5vdCBuZWVkZWQgZm9yIGV2YWwgb3IgZmluZS10dW5pbmcuCiAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoZiJ7ZW5jb2Rlcl9rZXl9Lncydl9lbmNvZGVyLncydl9tb2RlbC5tYXNrX2VtYiIpCgogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgbm90IE5vbmUgb3IgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAga2V5c190b19kZWxldGUuYXBwZW5kKAogICAgICAgICAgICBmInt0MnVfZGVjb2Rlcl9rZXl9LmNoYXJfdXBzYW1wbGVyLmVtYmVkX3Bvc2l0aW9ucy5fZmxvYXRfdGVuc29yIgogICAgICAgICkKICAgICAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoCiAgICAgICAgICAgIGYie3QydV9kZWNvZGVyX2tleX0uY2hhcl91cHNhbXBsZXIuZW1iZWRfdG9rZW5zX2NoYXIud2VpZ2h0IgogICAgICAgICkKCiAgICAgICAgIyBEZWxldGUgQWxpZ25tZW50RW5jb2RlciBrZXlzIGZvciBpbmZlcmVuY2UuCiAgICAgICAgYWxpZ25tZW50X2VuY29kZXJfa2V5cyA9IFsKICAgICAgICAgICAga2V5CiAgICAgICAgICAgIGZvciBrZXkgaW4gc3RhdGVfZGljdAogICAgICAgICAgICBpZiBrZXkuc3RhcnRzd2l0aChmInt0MnVfZGVjb2Rlcl9rZXl9LmFsaWdubWVudF9lbmNvZGVyLiIpCiAgICAgICAgXQogICAgICAgIGtleXNfdG9fZGVsZXRlLmV4dGVuZChhbGlnbm1lbnRfZW5jb2Rlcl9rZXlzKQoKICAgICMgRGVsZXRlIGNoYXJhY3Rlci1sZXZlbCBwcm9qZWN0aW9uIGZvciBpbmZlcmVuY2UuCiAgICBrZXlzX3RvX2RlbGV0ZS5leHRlbmQoCiAgICAgICAgWwogICAgICAgICAgICAiZGVjb2Rlcl90YXJnZXRfbGV0dGVyX2RlY29kZXIucHJvai53ZWlnaHQiLAogICAgICAgICAgICAiZGVjb2Rlcl90YXJnZXRfbGV0dGVyX2RlY29kZXIucHJvai5iaWFzIiwKICAgICAgICBdCiAgICApCgogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAga2V5c190b19kZWxldGUuZXh0ZW5kKAogICAgICAgICAgICBbCiAgICAgICAgICAgICAgICBmInt0MnVfZGVjb2Rlcl9rZXl9LmVtYmVkX3Bvc2l0aW9ucy5fZmxvYXRfdGVuc29yIiwKICAgICAgICAgICAgICAgICJ0MnNfbW9kZWwuZ2xvYmFsX3Byb2pfZGVjLndlaWdodCIsCiAgICAgICAgICAgICAgICAidDJzX21vZGVsLmdsb2JhbF9wcm9qX2RlYy5iaWFzIiwKICAgICAgICAgICAgICAgICJ0MnNfbW9kZWwuZGVjb2Rlcl90YXJnZXRfbGV0dGVyX25sbGJfc3BtX2RlY29kZXIuZW5jb2Rlci5wcm9qLndlaWdodCIsCiAgICAgICAgICAgICAgICAidDJzX21vZGVsLmRlY29kZXJfdGFyZ2V0X2xldHRlcl9ubGxiX3NwbV9kZWNvZGVyLmVuY29kZXIucHJvai5iaWFzIiwKICAgICAgICAgICAgXQogICAgICAgICkKCiAgICBmb3Iga2V5IGluIGtleXNfdG9fZGVsZXRlOgogICAgICAgIGlmIGtleSBpbiBzdGF0ZV9kaWN0OgogICAgICAgICAgICBkZWwgc3RhdGVfZGljdFtrZXldCgogICAgaWYgY29uZmlnLnVzZV90ZXh0X2RlY29kZXI6CiAgICAgICAgZW1iZWRzID0gc3RhdGVfZGljdFsiZmluYWxfcHJvai53ZWlnaHQiXQoKICAgICAgICAjIGZhaXJzZXEgaGFkIGEgYnVnIHRoYXQgYWNjaWRlbnRhbGx5IGludHJvZHVjZWQgYSBkdW1teSB0b2tlbiBpbiB0aGUKICAgICAgICAjIGVtYmVkZGluZyB0YWJsZSBvZiBOTExCLTEwMC4gV2UganVzdCBkaXNjYXJkIGl0LgogICAgICAgIGlmICgKICAgICAgICAgICAgaXNpbnN0YW5jZShjb25maWcubXRfbW9kZWxfY29uZmlnLCBObGxiQ29uZmlnKSBhbmQgZW1iZWRzLnNpemUoMCkgPT0gMjU2MTAzCiAgICAgICAgKTogICMgbWVhbnMgTkxMQi0xMDAKICAgICAgICAgICAgZW1iZWRzID0gZW1iZWRzWzotMV0KCiAgICAgICAgICAgIHN0YXRlX2RpY3RbImZpbmFsX3Byb2oud2VpZ2h0Il0gPSBlbWJlZHMKCiAgICAgICAgIyBmYWlyc2VxIGNoZWNrcG9pbnRzIGhhdmUgZHVwbGljYXRlIGVtYmVkZGluZyB3ZWlnaHRzLiBFbnN1cmUgdGhhdCB3ZQogICAgICAgICMgdXNlIGEgc2luZ2xlIGVtYmVkZGluZyB0YWJsZSBpbiBmYWlyc2VxMi4KICAgICAgICBzdGF0ZV9kaWN0WyJ0ZXh0X2RlY29kZXJfZnJvbnRlbmQuZW1iZWQud2VpZ2h0Il0gPSBlbWJlZHMKCiAgICAgICAgaWYgY29uZmlnLnVzZV90ZXh0X2VuY29kZXI6CiAgICAgICAgICAgIHN0YXRlX2RpY3RbInRleHRfZW5jb2Rlcl9mcm9udGVuZC5lbWJlZC53ZWlnaHQiXSA9IGVtYmVkcwoKICAgICAgICAjIFRoZSBlbWJlZGRpbmcgcG9zaXRpb25zIG9mIHRoZSBjb250cm9sIHN5bWJvbHMgaW4gZmFpcnNlcSdzIGRpY3QgZG8KICAgICAgICAjIG5vdCBtYXRjaCB0aGUgU2VudGVuY2VQaWVjZSBtb2RlbCBvZiB0aGUgdG9rZW5pemVyLgogICAgICAgIHdpdGggdG9yY2guaW5mZXJlbmNlX21vZGUoKToKICAgICAgICAgICAgIyAoQk9TLCBQQUQsIEVPUywgVU5LKSAtPiAoUEFELCBVTkssIEJPUywgRU9TKQogICAgICAgICAgICBlbWJlZHNbWzAsIDEsIDIsIDNdXSA9IGVtYmVkc1tbMSwgMywgMCwgMl1dCgogICAgY2hhcl9lbWJlZHMgPSBzdGF0ZV9kaWN0LmdldCgidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQuZW1iZWRfY2hhci53ZWlnaHQiLCBOb25lKQogICAgaWYgY2hhcl9lbWJlZHMgaXMgbm90IE5vbmU6CiAgICAgICAgaW5kZXhfbWFwcGluZyA9IF9nZXRfY2hhcl9pbmRleF9tYXBwaW5nKGNvbmZpZykKICAgICAgICB2b2NhYl9zaXplID0gbGVuKGluZGV4X21hcHBpbmcpCiAgICAgICAgY2hhcl9lbWJlZHNbdG9yY2guYXJhbmdlKHZvY2FiX3NpemUpXSA9IGNoYXJfZW1iZWRzW2luZGV4X21hcHBpbmddCgogICAgaWYgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAgIyBmYWlyc2VxIGNoZWNrcG9pbnRzIGhhdmUgZHVwbGljYXRlIGVtYmVkZGluZyB3ZWlnaHRzLiBFbnN1cmUgdGhhdCB3ZQogICAgICAgICMgdXNlIGEgc2luZ2xlIGVtYmVkZGluZyB0YWJsZSBpbiBmYWlyc2VxMi4KICAgICAgICBlbWJlZHMgPSBzdGF0ZV9kaWN0WyJ0MnVfbW9kZWwuZmluYWxfcHJvai53ZWlnaHQiXQoKICAgICAgICBpZiAidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQuZW1iZWQud2VpZ2h0IiBpbiBzdGF0ZV9kaWN0OgogICAgICAgICAgICBzdGF0ZV9kaWN0WyJ0MnVfbW9kZWwuZGVjb2Rlcl9mcm9udGVuZC5lbWJlZC53ZWlnaHQiXSA9IGVtYmVkcwoKICAgIHJldHVybiBjaGVja3BvaW50CgoKZGVmIF9nZXRfY2hhcl9pbmRleF9tYXBwaW5nKGNvbmZpZzogVW5pdFlDb25maWcpIC0+IExpc3RbaW50XToKICAgIGFzc2VydCBjb25maWcudDJ1X2NvbmZpZyBpcyBub3QgTm9uZQogICAgYXNzZXJ0IGNvbmZpZy50MnVfY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZyBpcyBub3QgTm9uZQogICAgY2hhcl90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyKAogICAgICAgIGNvbmZpZy50MnVfY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZy5tb2RlbF9uYW1lX29yX2NhcmQKICAgICkKICAgIHNwbV9vcmRlciA9IFsKICAgICAgICBjaGFyX3Rva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbihpKQogICAgICAgIGZvciBpIGluIHJhbmdlKGNoYXJfdG9rZW5pemVyLm1vZGVsLnZvY2FidWxhcnlfc2l6ZSkKICAgIF1bNDpdCiAgICBzcG1fdG9fZGljdF9tYXBwaW5nID0gewogICAgICAgIGNoOiBpZHgKICAgICAgICBmb3IgKGlkeCwgY2gpIGluIHppcCgKICAgICAgICAgICAgcmFuZ2UoNCwgY2hhcl90b2tlbml6ZXIubW9kZWwudm9jYWJ1bGFyeV9zaXplKSwKICAgICAgICAgICAgc29ydGVkKHNwbV9vcmRlciksCiAgICAgICAgKQogICAgfQogICAgbW9kZWxfdG9fZGljdF9tYXBwaW5nID0gWzAsIDEsIDIsIDNdICsgW3NwbV90b19kaWN0X21hcHBpbmdbY2hdIGZvciBjaCBpbiBzcG1fb3JkZXJdCiAgICByZXR1cm4gbW9kZWxfdG9fZGljdF9tYXBwaW5nCgoKZGVmIF9mYWlyc2VxX2tleV9tYXAoY29uZmlnOiBVbml0WUNvbmZpZykgLT4gRGljdFtzdHIsIHN0cl06CiAgICAjIEV4cHJlc3NpdmVVbml0WSBtb2RlbCAoZnJvbSBtdWx0aV9hcmNoIGNvZGViYXNlKQogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiczJ0X21vZGVsLmVuY29kZXIiCiAgICAgICAgZGVjb2Rlcl9rZXkgPSAiczJ0X21vZGVsLmRlY29kZXIiCiAgICAgICAgdDJ1X2VuY29kZXJfa2V5ID0gInQyc19tb2RlbC5lbmNvZGVyIgogICAgICAgIHQydV9kZWNvZGVyX2tleSA9ICJ0MnNfbW9kZWwuZGVjb2RlciIKICAgICAgICBlY2FwYV90ZG5uX2tleSA9ICJnbG9iYWxfcHJvc29keSIKICAgICMgWDJUL1MyVCArIFQyVSBtb2RlbC4KICAgIGVsaWYgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiZW5jb2RlciIKICAgICAgICBkZWNvZGVyX2tleSA9ICJ0YXJnZXRfbGV0dGVyX2RlY29kZXIiCiAgICAgICAgdDJ1X2VuY29kZXJfa2V5ID0gInN5bnRoZXNpemVyX2VuY29kZXIiCiAgICAgICAgdDJ1X2RlY29kZXJfa2V5ID0gImRlY29kZXIiCiAgICAjIFgyVCBtb2RlbC4KICAgIGVsaWYgY29uZmlnLnVzZV90ZXh0X2VuY29kZXI6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAic3BlZWNoX2VuY29kZXIiCiAgICAgICAgZGVjb2Rlcl9rZXkgPSAic2hhcmVkX2RlY29kZXIiCiAgICAjIFMyVCBtb2RlbC4KICAgIGVsc2U6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiZW5jb2RlciIKICAgICAgICBkZWNvZGVyX2tleSA9ICJkZWNvZGVyIgoKICAgIGtleV9tYXAgPSB7CiAgICAgICAgIyBmbXQ6IG9mZgoKICAgICAgICAjIFNwZWVjaCBFbmNvZGVyCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLnBvc19jb252XC4wXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXJfZnJvbnRlbmQucG9zX2VuY29kZXIuY29udi4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5sYXllcl9ub3JtXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kLnBvc3RfZXh0cmFjdF9sYXllcl9ub3JtLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLnBvc3RfZXh0cmFjdF9wcm9qXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXJfZnJvbnRlbmQubW9kZWxfZGltX3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZmVhdHVyZV9leHRyYWN0b3JcLmNvbnZfbGF5ZXJzXC4oWzAtOV0rKVwuMFwuIjogICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlcl9mcm9udGVuZC5mZWF0dXJlX2V4dHJhY3Rvci5sYXllcnMuXDEuY29udi4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5mZWF0dXJlX2V4dHJhY3RvclwuY29udl9sYXllcnNcLihbMC05XSspXC4yXC4xXC4iOiAgICAgICAgICByInNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kLmZlYXR1cmVfZXh0cmFjdG9yLmxheWVycy5cMS5sYXllcl9ub3JtLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmZlYXR1cmVfZXh0cmFjdG9yXC5jb252X2xheWVyc1wuMFwuMlwuIjogICAgICAgICAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXJfZnJvbnRlbmQuZmVhdHVyZV9leHRyYWN0b3IubGF5ZXJzLjAuZ3JvdXBfbm9ybS4iLAoKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9tb2R1bGVcLmJhdGNoX25vcm1cLiI6ICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuY29udi5iYXRjaF9ub3JtLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5sYXllcl9ub3JtMlwuIjogICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLmNvbnYubGF5ZXJfbm9ybS4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwuZGVwdGh3aXNlX2NvbnZcLiI6ICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5jb252LmRlcHRod2lzZV9jb252LiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5sYXllcl9ub3JtXC4iOiAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLmNvbnZfbGF5ZXJfbm9ybS4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwucG9pbnR3aXNlX2NvbnYxXC4iOiByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5jb252LnBvaW50d2lzZV9jb252MS4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwucG9pbnR3aXNlX2NvbnYyXC4iOiByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5jb252LnBvaW50d2lzZV9jb252Mi4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwubGF5ZXJfbm9ybVwuIjogICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5mZm5cMl9sYXllcl9ub3JtLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZmbigxfDIpXC53XzFcLiI6ICAgICAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLmZmblwyLmlubmVyX3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmZuKDF8MilcLndfMlwuIjogICAgICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuZmZuXDIub3V0cHV0X3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuX2xheWVyX25vcm1cLiI6ICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5saW5lYXJfcVwuIjogICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLnFfcHJvai4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLmxpbmVhcl9rXC4iOiAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5zZWxmX2F0dG4ua19wcm9qLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwubGluZWFyX3ZcLiI6ICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi52X3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5saW5lYXJfb3V0XC4iOiAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwucV9wcm9qXC4iOiAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5xX3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5rX3Byb2pcLiI6ICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLmtfcHJvai4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLnZfcHJvalwuIjogICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5zZWxmX2F0dG4udl9wcm9qLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwucmVsX2tfZW1iZWRkaW5nXC4iOiAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5zZHBhLnJlbF9rX2VtYmVkLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwub3V0X3Byb2pcLiI6ICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5vdXRwdXRfcHJvai4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLmxpbmVhcl9wb3NcLiI6ICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5zZWxmX2F0dG4uc2RwYS5yX3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5wb3NfYmlhc191IjogICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLnNkcGEudV9iaWFzIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5wb3NfYmlhc192IjogICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLnNkcGEudl9iaWFzIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEubGF5ZXJfbm9ybS4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcl9ub3JtXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVyX25vcm0uIiwKCiAgICAgICAgIyBTcGVlY2ggRW5jb2RlciBBZGFwdG9yCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLnByb2pcLjBcLiI6IHIic3BlZWNoX2VuY29kZXIucHJvajEuIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwucHJvalwuMlwuIjogciJzcGVlY2hfZW5jb2Rlci5wcm9qMi4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5vdXRfbG5cLiI6ICByInNwZWVjaF9lbmNvZGVyLmxheWVyX25vcm0uIiwKCiAgICAgICAgIyBUZXh0IEVuY29kZXIKICAgICAgICByIl50ZXh0X2VuY29kZXJcLmVtYmVkX3Rva2Vuc1wuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZW5jb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgIHIiXnRleHRfZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgIHIidGV4dF9lbmNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICByIl50ZXh0X2VuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwuIjogICAgICAgICAgICAgICByInRleHRfZW5jb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5fbGF5ZXJfbm9ybVwuIjogICAgciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLm91dF9wcm9qXC4iOiAgciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLiI6ICAgICAgICAgICAgciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5fbGF5ZXJfbm9ybVwuIjogciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICByIl50ZXh0X2VuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZjMVwuIjogICAgICAgICAgICAgICAgICAgICByInRleHRfZW5jb2Rlci5sYXllcnMuXDEuZmZuLmlubmVyX3Byb2ouIiwKICAgICAgICByIl50ZXh0X2VuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICAgICByInRleHRfZW5jb2Rlci5sYXllcnMuXDEuZmZuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5maW5hbF9sYXllcl9ub3JtXC4iOiAgICAgICAgciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcl9ub3JtXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2VuY29kZXIubGF5ZXJfbm9ybS4iLAogICAgICAgICMgZm10OiBvbgogICAgfQoKICAgICMgSW4gbm9ybWFsIGNpcmN1bXN0YW5jZXMsIHdlIHNob3VsZCBuZXZlciBlbmNvdW50ZXIgYSBgTGF5ZXJOb3JtYCB3aGVuCiAgICAjIGB1c2VfY29uZm9ybWVyYCBpcyBgVHJ1ZWAuIFVuZm9ydHVuYXRlbHksIHRoZSB3MnYtQkVSVCBwcmV0cmFpbmluZyBpbgogICAgIyBmYWlyc2VxIHdhcyBhY2NpZGVudGFsbHkgcnVuIHdpdGggYSBwcmUtTE4gZW5jb2RlciwgYW5kIGVuZGVkIHVwIHdpdGgKICAgICMgYSByZWR1bmRhbnQgYExheWVyTm9ybWAgcmlnaHQgYWZ0ZXIgdGhlIENvbmZvcm1lciBibG9ja3MuIFdlIG1pdGlnYXRlCiAgICAjIHRoYXQgaXNzdWUgaGVyZSBieSBtb3ZpbmcgdGhhdCBgTGF5ZXJOb3JtYCB0byB0aGUgYWRhcHRvciBibG9jay4KICAgICMgZm10OiBvZmYKICAgIGlmIGNvbmZpZy53MnYyX2VuY29kZXJfY29uZmlnLnVzZV9jb25mb3JtZXI6CiAgICAgICAga2V5X21hcC51cGRhdGUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcl9ub3JtXC4iOiByInNwZWVjaF9lbmNvZGVyLmlubmVyX2xheWVyX25vcm0uIgogICAgICAgICAgICB9CiAgICAgICAgKQogICAgZWxzZToKICAgICAgICBrZXlfbWFwLnVwZGF0ZSgKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmYiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyX25vcm1cLiI6IHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJfbm9ybS4iCiAgICAgICAgICAgIH0KICAgICAgICApCiAgICAjIGZtdDogb24KCiAgICBpZiBjb25maWcudXNlX2NvbmZvcm1lcl9hZGFwdG9yOgogICAgICAgIGtleV9tYXAudXBkYXRlKAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAjIGZtdDogb2ZmCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5ibG9jay5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLiI6ICAgICAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLnNlbGZfYXR0bi4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0bl9sYXllcl9ub3JtXC4iOiAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuYmxvY2suc2VsZl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwubGF5ZXJfbm9ybVwuIjogICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmZmblwyX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwud18xXC4iOiAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmZmblwyLmlubmVyX3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwud18yXC4iOiAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmZmblwyLm91dHB1dF9wcm9qLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9tb2R1bGVcLmJhdGNoX25vcm1cLiI6ICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5ibG9jay5jb252LmJhdGNoX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwuZGVwdGh3aXNlX2NvbnZcLiI6ICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmNvbnYuZGVwdGh3aXNlX2NvbnYuIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwubGF5ZXJfbm9ybVwuIjogICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmNvbnZfbGF5ZXJfbm9ybS4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5wb2ludHdpc2VfY29udjFcLiI6IHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuYmxvY2suY29udi5wb2ludHdpc2VfY29udjEuIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwucG9pbnR3aXNlX2NvbnYyXC4iOiByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmNvbnYucG9pbnR3aXNlX2NvbnYyLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5ibG9jay5sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9sblwuIjogICAgICAgICAgICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9wb29sXC4xXC4iOiAgICAgICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5jb252LiIsCiAgICAgICAgICAgICAgICAjIGZtdDogb24KICAgICAgICAgICAgfQogICAgICAgICkKICAgIGVsc2U6CiAgICAgICAga2V5X21hcC51cGRhdGUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICMgZm10OiBvZmYKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5yZXNpZHVhbF9sYXllcl9ub3JtXC4iOiAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5yZXNpZHVhbF9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwucmVzaWR1YWxfcG9vbFwuMVwuIjogICAgIHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEucmVzaWR1YWxfY29udi4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLmF0dG5fcG9vbFwuMVwuIjogICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLnNlbGZfYXR0bl9jb252LiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogIHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuc2VsZl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC4iOiAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuX2xheWVyX25vcm1cLiI6IHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuc2VsZl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5mYzFcLiI6ICAgICAgICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5mZm4uaW5uZXJfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmZmbi5vdXRwdXRfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLmZpbmFsX2xheWVyX25vcm1cLiI6ICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICAjIGZtdDogb24KICAgICAgICAgICAgfQogICAgICAgICkKCiAgICBrZXlfbWFwLnVwZGF0ZSgKICAgICAgICB7CiAgICAgICAgICAgICMgZm10OiBvZmYKICAgICAgICAgICAgIyBUZXh0IERlY29kZXIKICAgICAgICAgICAgZnIiXntkZWNvZGVyX2tleX1cLmVtYmVkX3Rva2Vuc1wuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgICAgICBmciJee2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgIHIidGV4dF9kZWNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICAgICAgZnIiXntkZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwuIjogICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5fbGF5ZXJfbm9ybVwuIjogICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLm91dF9wcm9qXC4iOiAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLiI6ICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5fbGF5ZXJfbm9ybVwuIjogciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgZnIiXntkZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmZjMVwuIjogICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuZmZuLmlubmVyX3Byb2ouIiwKICAgICAgICAgICAgZnIiXntkZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuZmZuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5maW5hbF9sYXllcl9ub3JtXC4iOiAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcl9ub3JtXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJfbm9ybS4iLAogICAgICAgICAgICBmciJee2RlY29kZXJfa2V5fVwub3V0cHV0X3Byb2plY3Rpb25cLiI6ICAgICAgICAgICAgICAgICAgICAgICAgIHIiZmluYWxfcHJvai4iLAogICAgICAgICAgICAjIGZtdDogb24KICAgICAgICB9CiAgICApCiAgICAjIEV4cHJlc3NpdmVVbml0WSBtb2RlbCAoZnJvbSBtdWx0aV9hcmNoIGNvZGViYXNlKQogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAga2V5X21hcC51cGRhdGUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICMgZm10OiBvZmYKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmlsbVwuIjogICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmZpbG0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZWNhcGFfdGRubl9rZXl9XC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIicHJvc29keV9lbmNvZGVyX21vZGVsLiIsCiAgICAgICAgICAgICAgICByIl50MnNfbW9kZWxcLmdsb2JhbF9wcm9qX2VuY1wuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLnByb3NvZHlfcHJvai4iLAogICAgICAgICAgICAgICAgIyBmbXQ6IG9uCiAgICAgICAgICAgIH0KICAgICAgICApCgogICAgIyBYMlQvUzJUICsgVDJVIG1vZGVsLgogICAgaWYgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAga2V5X21hcC51cGRhdGUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICMgZm10OiBvZmYKICAgICAgICAgICAgICAgICMgVDJVIEVuY29kZXIKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2VuY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgIHIidDJ1X21vZGVsLmVuY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5vdXRwdXRfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZW5jb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLiI6ICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZW5jb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9lbmNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0bl9sYXllcl9ub3JtXC4iOiAgICByInQydV9tb2RlbC5lbmNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG5fbGF5ZXJfbm9ybS4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZW5jb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5mYzFcLiI6ICAgICAgICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZW5jb2Rlci5sYXllcnMuXDEuZmZuLmlubmVyX3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2VuY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmMyXC4iOiAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmVuY29kZXIubGF5ZXJzLlwxLmZmbi5vdXRwdXRfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZW5jb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5maW5hbF9sYXllcl9ub3JtXC4iOiAgICAgICAgciJ0MnVfbW9kZWwuZW5jb2Rlci5sYXllcnMuXDEuZmZuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2VuY29kZXJfa2V5fVwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmVuY29kZXIubGF5ZXJfbm9ybS4iLAoKICAgICAgICAgICAgICAgICMgVDJVIERlY29kZXIgZnJvbnRlbmQKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwuZW1iZWRfdG9rZW5zX3RleHRcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZGVjb2Rlcl9mcm9udGVuZC5lbWJlZF9jaGFyLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmVtYmVkX3Rva2Vuc191bml0XC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQuZW1iZWQuIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwuZW1iZWRfdG9rZW5zXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZGVjb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC52YXJfYWRhcHRvclwuZHVyYXRpb25fcHJlZGljdG9yXC4iOiAgICAgICAgICAgICByInQydV9tb2RlbC5kZWNvZGVyX2Zyb250ZW5kLnZhcmlhbmNlX2FkYXB0b3IuZHVyYXRpb25fcHJlZGljdG9yLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmRlY19wb3NfZW1iX2FscGhhIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQucG9zX2VtYl9hbHBoYSIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmNoYXJfdXBzYW1wbGVyXC5wb3NfZW1iX2FscGhhIjogICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQucG9zX2VtYl9hbHBoYV9jaGFyIiwKCiAgICAgICAgICAgICAgICAjIFQyVSBEZWNvZGVyCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwub3V0X3Byb2pcLiI6ICAgICByInQydV9tb2RlbC5kZWNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC4iOiAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5fbGF5ZXJfbm9ybVwuIjogICAgciJ0MnVfbW9kZWwuZGVjb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmVuY29kZXJfYXR0blwub3V0X3Byb2pcLiI6ICByInQydV9tb2RlbC5kZWNvZGVyLmxheWVycy5cMS5lbmNvZGVyX2RlY29kZXJfYXR0bi5vdXRwdXRfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLiI6ICAgICAgICAgICAgciJ0MnVfbW9kZWwuZGVjb2Rlci5sYXllcnMuXDEuZW5jb2Rlcl9kZWNvZGVyX2F0dG4uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuX2xheWVyX25vcm1cLiI6IHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmMxXC4iOiAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmZmbi5pbm5lcl9wcm9qLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICAgICByInQydV9tb2RlbC5kZWNvZGVyLmxheWVycy5cMS5mZm4ub3V0cHV0X3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmZmblwuZmZuXC4wXC4iOiAgICAgICAgICAgICByInQydV9tb2RlbC5kZWNvZGVyLmxheWVycy5cMS5jb252MWQuY29udjEuIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmZuXC5mZm5cLjJcLiI6ICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmNvbnYxZC5jb252Mi4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5mZm5cLmxheWVyX25vcm1cLiI6ICAgICAgICAgciJ0MnVfbW9kZWwuZGVjb2Rlci5sYXllcnMuXDEuY29udjFkX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJfbm9ybS4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC5vdXRwdXRfcHJvamVjdGlvblwuIjogICAgICAgICAgICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZmluYWxfcHJvai4iLAogICAgICAgICAgICAgICAgIyBmbXQ6IG9uCiAgICAgICAgICAgIH0KICAgICAgICApCgogICAgcmV0dXJuIGtleV9tYXAKCgpsb2FkX3VuaXR5X2NvbmZpZyA9IENvbmZpZ0xvYWRlcltVbml0WUNvbmZpZ10oYXNzZXRfc3RvcmUsIHVuaXR5X2FyY2hzKQoKCmxvYWRfdW5pdHlfbW9kZWwgPSBNb2RlbExvYWRlcltVbml0WU1vZGVsLCBVbml0WUNvbmZpZ10oCiAgICBhc3NldF9zdG9yZSwKICAgIGRvd25sb2FkX21hbmFnZXIsCiAgICBsb2FkX3VuaXR5X2NvbmZpZywKICAgIGNyZWF0ZV91bml0eV9tb2RlbCwKICAgIGNvbnZlcnRfdW5pdHlfY2hlY2twb2ludCwKICAgIHJlc3RyaWN0X2NoZWNrcG9pbnRzPUZhbHNlLAopCgoKbG9hZF91bml0eV90ZXh0X3Rva2VuaXplciA9IE5sbGJUb2tlbml6ZXJMb2FkZXIoYXNzZXRfc3RvcmUsIGRvd25sb2FkX21hbmFnZXIpCgoKY2xhc3MgVW5pdFlVbml0VG9rZW5pemVyTG9hZGVyOgogICAgIiIiTG9hZHMgc3BlZWNoIHVuaXQgdG9rZW5pemVycyBvZiBVbml0WSBtb2RlbHMuIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFzc2V0X3N0b3JlOiBBc3NldFN0b3JlKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBhc3NldF9zdG9yZToKICAgICAgICAgICAgVGhlIGFzc2V0IHN0b3JlIHRvIHJldHJpZXZlIHRoZSBtb2RlbCBpbmZvcm1hdGlvbi4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmFzc2V0X3N0b3JlID0gYXNzZXRfc3RvcmUKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgbW9kZWxfbmFtZV9vcl9jYXJkOiBVbmlvbltzdHIsIEFzc2V0Q2FyZF0pIC0+IFVuaXRUb2tlbml6ZXI6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIG1vZGVsX25hbWVfb3JfY2FyZDoKICAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIG1vZGVsIG9yIGFuIGFscmVhZHkgbG9hZGVkIEFzc2V0Q2FyZAogICAgICAgICIiIgoKICAgICAgICBpZiBpc2luc3RhbmNlKG1vZGVsX25hbWVfb3JfY2FyZCwgQXNzZXRDYXJkKToKICAgICAgICAgICAgY2FyZCA9IG1vZGVsX25hbWVfb3JfY2FyZAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNhcmQgPSBzZWxmLmFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQobW9kZWxfbmFtZV9vcl9jYXJkKQoKICAgICAgICByZXR1cm4gVW5pdFRva2VuaXplcigKICAgICAgICAgICAgY2FyZC5maWVsZCgibnVtX3VuaXRzIikuYXNfKGludCksCiAgICAgICAgICAgIGNhcmQuZmllbGQoInVuaXRfbGFuZ3MiKS5hc19saXN0KHN0ciksCiAgICAgICAgICAgIGNhcmQuZmllbGQoIm1vZGVsX2FyY2giKS5hc18oc3RyKSwKICAgICAgICApCgoKbG9hZF91bml0eV91bml0X3Rva2VuaXplciA9IFVuaXRZVW5pdFRva2VuaXplckxvYWRlcihhc3NldF9zdG9yZSkKCgpjbGFzcyBHY212blN0YXRzTG9hZGVyOgogICAgIiIiTG9hZHMgR0NNVk4gc3RhdHMgKG1lYW4gJiBzdGQpIGZvciBQcm9zb2R5VW5pdFkuIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFzc2V0X3N0b3JlOiBBc3NldFN0b3JlKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBhc3NldF9zdG9yZToKICAgICAgICAgICAgVGhlIGFzc2V0IHN0b3JlIHRvIHJldHJpZXZlIHRoZSBtb2RlbCBpbmZvcm1hdGlvbi4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmFzc2V0X3N0b3JlID0gYXNzZXRfc3RvcmUKCiAgICBkZWYgX19jYWxsX18oCiAgICAgICAgc2VsZiwgbW9kZWxfbmFtZV9vcl9jYXJkOiBVbmlvbltzdHIsIEFzc2V0Q2FyZF0KICAgICkgLT4gVHVwbGVbTGlzdFtmbG9hdF0sIExpc3RbZmxvYXRdXToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbW9kZWxfbmFtZV9vcl9jYXJkOgogICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgb3IgYW4gYWxyZWFkeSBsb2FkZWQgQXNzZXRDYXJkCiAgICAgICAgIiIiCgogICAgICAgIGlmIGlzaW5zdGFuY2UobW9kZWxfbmFtZV9vcl9jYXJkLCBBc3NldENhcmQpOgogICAgICAgICAgICBjYXJkID0gbW9kZWxfbmFtZV9vcl9jYXJkCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY2FyZCA9IHNlbGYuYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChtb2RlbF9uYW1lX29yX2NhcmQpCgogICAgICAgIHRyeToKICAgICAgICAgICAgZ2Ntdm5fc3RhdHM6IERpY3Rbc3RyLCBMaXN0W2Zsb2F0XV0gPSBjYXJkLmZpZWxkKCJnY212bl9zdGF0cyIpLmFzXyhkaWN0KQogICAgICAgIGV4Y2VwdCBBc3NldENhcmRGaWVsZE5vdEZvdW5kRXJyb3I6CiAgICAgICAgICAgIG1vZGVsX292ZXJyaWRlID0gY2FyZC5maWVsZCgibW9kZWxfY29uZmlnIikuYXNfKGRpY3QpCiAgICAgICAgICAgIGdjbXZuX3N0YXRzID0gbW9kZWxfb3ZlcnJpZGVbImdjbXZuX3N0YXRzIl0KCiAgICAgICAgcmV0dXJuIGdjbXZuX3N0YXRzWyJtZWFuIl0sIGdjbXZuX3N0YXRzWyJzdGQiXQoKCmxvYWRfZ2Ntdm5fc3RhdHMgPSBHY212blN0YXRzTG9hZGVyKGFzc2V0X3N0b3JlKQo='),
    ('seamless/src/seamless_communication/models/unity/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFVuaW9uCgpmcm9tIGZhaXJzZXEyLm1vZGVscy5jb25mb3JtZXIgaW1wb3J0IENvbmZvcm1lckJsb2NrLCBDb25mb3JtZXJDb252b2x1dGlvbgpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiIGltcG9ydCBObGxiQnVpbGRlciwgTmxsYkNvbmZpZywgbmxsYl9hcmNocwpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscy5hcmNoX3JlZ2lzdHJ5IGltcG9ydCBBcmNoaXRlY3R1cmVSZWdpc3RyeQpmcm9tIGZhaXJzZXEyLm1vZGVscy53MnZiZXJ0IGltcG9ydCB3MnZiZXJ0X2FyY2hzCmZyb20gZmFpcnNlcTIubW9kZWxzLndhdjJ2ZWMyIGltcG9ydCBXYXYyVmVjMkVuY29kZXJCdWlsZGVyLCBXYXYyVmVjMkVuY29kZXJDb25maWcKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBUaWVkUHJvamVjdGlvbgpmcm9tIGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyIGltcG9ydCAoCiAgICBGZWVkRm9yd2FyZE5ldHdvcmssCiAgICBNdWx0aWhlYWRBdHRlbnRpb24sCiAgICBTdGFuZGFyZEZlZWRGb3J3YXJkTmV0d29yaywKICAgIFN0YW5kYXJkTXVsdGloZWFkQXR0ZW50aW9uLAogICAgVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIsCiAgICBUcmFuc2Zvcm1lck5vcm1PcmRlciwKICAgIGNyZWF0ZV9kZWZhdWx0X3NkcGEsCikKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UsIG92ZXJyaWRlCmZyb20gdG9yY2gubm4gaW1wb3J0IEdFTFUsIFJlTFUKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuZ2VuZXJhdG9yLmVjYXBhX3Rkbm5fYnVpbGRlciBpbXBvcnQgKAogICAgRWNhcGFURE5OQnVpbGRlciwKICAgIEVjYXBhVEROTkNvbmZpZywKICAgIGVjYXBhX3Rkbm5fYXJjaHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5hZGFwdG9yX2Jsb2NrIGltcG9ydCAoCiAgICBVbml0WUNvbmZvcm1lckFkYXB0b3JMYXllciwKICAgIFVuaXRZRW5jb2RlckFkYXB0b3IsCiAgICBVbml0WVRyYW5zZm9ybWVyQWRhcHRvckxheWVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0IFVuaXRZTW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS50MnVfYnVpbGRlciBpbXBvcnQgKAogICAgVW5pdFlOQVJUMlVCdWlsZGVyLAogICAgVW5pdFlUMlVCdWlsZGVyLAogICAgVW5pdFlUMlVDb25maWcsCiAgICB1bml0eV90MnVfYXJjaHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5jb25mb3JtZXJfc2hhdyBpbXBvcnQgKAogICAgQ29uZm9ybWVyU2hhd0VuY29kZXJCdWlsZGVyLAogICAgQ29uZm9ybWVyU2hhd0VuY29kZXJDb25maWcsCiAgICBjb25mb3JtZXJfc2hhd19hcmNocywKKQoKCkBkYXRhY2xhc3MKY2xhc3MgVW5pdFlDb25maWc6CiAgICAiIiJIb2xkcyB0aGUgY29uZmlndXJhdGlvbiBvZiBhIFVuaXRZIG1vZGVsIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIxMi4wODA1NWAiIiIKCiAgICBtb2RlbF9kaW06IGludAogICAgIiIiVGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBtb2RlbC4iIiIKCiAgICB3MnYyX2VuY29kZXJfY29uZmlnOiBXYXYyVmVjMkVuY29kZXJDb25maWcKICAgICIiIlRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSB1bmRlcmx5aW5nIHdhdjJ2ZWMgMi4wIGVuY29kZXIuIiIiCgogICAgbXRfbW9kZWxfY29uZmlnOiBObGxiQ29uZmlnCiAgICAiIiJUaGUgY29uZmlndXJhdGlvbiBvZiB0aGUgdW5kZXJseWluZyBNVCB0ZXh0IGVuY29kZXItZGVjb2Rlci4iIiIKCiAgICB0MnVfY29uZmlnOiBPcHRpb25hbFtVbml0WVQyVUNvbmZpZ10KICAgICIiIlRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBVbml0WSBUMlUgc3ViLW1vZGVsLiIiIgoKICAgIHByb3NvZHlfZW5jb2Rlcl9jb25maWc6IE9wdGlvbmFsW0VjYXBhVEROTkNvbmZpZ10KICAgICIiIlRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBleHByZXNzaXZlIHByb3NvZHkgZW5jb2Rlci4iIiIKCiAgICB1c2VfdGV4dF9lbmNvZGVyOiBib29sCiAgICAiIiJJZiBgYFRydWVgYCwgdXNlcyBhbiBhbGlnbmVkIE1UIGVuY29kZXIgZm9yIHRoZSBNVCB0YXNrLiIiIgoKICAgIHVzZV90ZXh0X2RlY29kZXI6IGJvb2wKICAgICIiIklmIGBgRmFsc2VgYCwgc2tpcHMgbG9hZGluZyBhIHRleHQgZGVjb2RlciwgdG8gYmUgdXNlZCB3aXRoIGEgTW9ub3RvbmljIGRlY29kZXIuIiIiCgogICAgdXNlX2NvbmZvcm1lcl9hZGFwdG9yOiBib29sCiAgICAiIiJJZiBgYFRydWVgYCwgdXNlcyBhIENvbmZvcm1lci1iYXNlZCBhZGFwdG9yIGJsb2NrLiIiIgoKICAgIHVzZV9nZWx1OiBib29sCiAgICAiIiJJZiBgYFRydWVgYCwgdXNlcyBHRUxVIGFjdGl2YXRpb24gZnVuY3Rpb24gaW4gZmVlZC1mb3J3YXJkIG5ldHdvcmtzIG9mCiAgICBhZGFwdG9yIGJsb2NrcyBhbmQgZGVjb2RlciBsYXllcnMuIiIiCgogICAgbnVtX2FkYXB0b3JfbGF5ZXJzOiBpbnQKICAgICIiIlRoZSBudW1iZXIgb2YgVHJhbnNmb3JtZXIgZW5jb2RlciBsYXllcnMgaW4gdGhlIGFkYXB0b3IgYmxvY2suIiIiCgogICAgYWRhcHRvcl9rZXJuZWxfc2l6ZTogaW50CiAgICAiIiJUaGUga2VybmVsIHNpemUgb2YgMUQgY29udm9sdXRpb25zIGluIHRoZSBhZGFwdG9yIGJsb2NrLiIiIgoKICAgIGFkYXB0b3Jfc3RyaWRlOiBpbnQKICAgICIiIlRoZSBzdHJpZGUgb2YgMUQgY29udm9sdXRpb25zIGluIHRoZSBhZGFwdG9yIGJsb2NrLiIiIgoKICAgIGFkYXB0b3JfbGF5ZXJfbm9ybTogYm9vbAogICAgIiIiSWYgYGBUcnVlYGAsIGFwcGxpZXMgTGF5ZXIgTm9ybWFsaXphdGlvbiB0byBvdXRwdXRzIG9mIHRoZSB1bmRlcmx5aW5nCiAgICBlbmNvZGVyIGluIHRoZSBhZGFwdG9yIGJsb2NrLiIiIgoKICAgIGFkYXB0b3JfZHJvcG91dF9wOiBmbG9hdAogICAgIiIiVGhlIGRyb3BvdXQgcHJvYmFiaWxpdHkgaW4gVHJhbnNmb3JtZXIgbGF5ZXJzIG9mIHRoZSBhZGFwdG9yIGJsb2NrLiIiIgoKCnVuaXR5X2FyY2hzID0gQXJjaGl0ZWN0dXJlUmVnaXN0cnlbVW5pdFlDb25maWddKCJ1bml0eSIpCgp1bml0eV9hcmNoID0gdW5pdHlfYXJjaHMuZGVjb3JhdG9yCgoKQHVuaXR5X2FyY2goImJhc2UiKQpkZWYgX2Jhc2UoKSAtPiBVbml0WUNvbmZpZzoKICAgIHcydmJlcnRfY29uZmlnID0gdzJ2YmVydF9hcmNocy5nZXRfY29uZmlnKCI2MDBtIikKCiAgICBtdF9tb2RlbF9jb25maWc6IE5sbGJDb25maWcgPSBubGxiX2FyY2hzLmdldF9jb25maWcoImRlbnNlXzFiIikKCiAgICBtdF9tb2RlbF9jb25maWcudm9jYWJfaW5mby5zaXplID0gMjU2MTAyICAjIE5MTEItMTAwCgogICAgdDJ1X2NvbmZpZyA9IHVuaXR5X3QydV9hcmNocy5nZXRfY29uZmlnKCJiYXNlIikKCiAgICByZXR1cm4gVW5pdFlDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2NvbmZpZz13MnZiZXJ0X2NvbmZpZy53MnYyX2NvbmZpZy5lbmNvZGVyX2NvbmZpZywKICAgICAgICBtdF9tb2RlbF9jb25maWc9bXRfbW9kZWxfY29uZmlnLAogICAgICAgIHQydV9jb25maWc9dDJ1X2NvbmZpZywKICAgICAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnPU5vbmUsCiAgICAgICAgdXNlX3RleHRfZW5jb2Rlcj1UcnVlLAogICAgICAgIHVzZV90ZXh0X2RlY29kZXI9VHJ1ZSwKICAgICAgICB1c2VfY29uZm9ybWVyX2FkYXB0b3I9RmFsc2UsCiAgICAgICAgdXNlX2dlbHU9RmFsc2UsCiAgICAgICAgbnVtX2FkYXB0b3JfbGF5ZXJzPTEsCiAgICAgICAgYWRhcHRvcl9rZXJuZWxfc2l6ZT04LAogICAgICAgIGFkYXB0b3Jfc3RyaWRlPTgsCiAgICAgICAgYWRhcHRvcl9sYXllcl9ub3JtPVRydWUsCiAgICAgICAgYWRhcHRvcl9kcm9wb3V0X3A9MC4xLAogICAgKQoKCkB1bml0eV9hcmNoKCJtZWRpdW0iKQpkZWYgX21lZGl1bSgpIC0+IFVuaXRZQ29uZmlnOgogICAgdzJ2YmVydF9jb25maWcgPSB3MnZiZXJ0X2FyY2hzLmdldF9jb25maWcoIjMwMG0iKQoKICAgIG10X21vZGVsX2NvbmZpZzogTmxsYkNvbmZpZyA9IG5sbGJfYXJjaHMuZ2V0X2NvbmZpZygiZGVuc2VfNjAwbSIpCgogICAgbXRfbW9kZWxfY29uZmlnLnZvY2FiX2luZm8uc2l6ZSA9IDI1NjIwNiAgIyBOTExCLTIwMAoKICAgIHQydV9jb25maWcgPSB1bml0eV90MnVfYXJjaHMuZ2V0X2NvbmZpZygibWVkaXVtIikKCiAgICByZXR1cm4gVW5pdFlDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2NvbmZpZz13MnZiZXJ0X2NvbmZpZy53MnYyX2NvbmZpZy5lbmNvZGVyX2NvbmZpZywKICAgICAgICBtdF9tb2RlbF9jb25maWc9bXRfbW9kZWxfY29uZmlnLAogICAgICAgIHQydV9jb25maWc9dDJ1X2NvbmZpZywKICAgICAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnPU5vbmUsCiAgICAgICAgdXNlX3RleHRfZW5jb2Rlcj1UcnVlLAogICAgICAgIHVzZV90ZXh0X2RlY29kZXI9VHJ1ZSwKICAgICAgICB1c2VfY29uZm9ybWVyX2FkYXB0b3I9RmFsc2UsCiAgICAgICAgdXNlX2dlbHU9RmFsc2UsCiAgICAgICAgbnVtX2FkYXB0b3JfbGF5ZXJzPTEsCiAgICAgICAgYWRhcHRvcl9rZXJuZWxfc2l6ZT04LAogICAgICAgIGFkYXB0b3Jfc3RyaWRlPTgsCiAgICAgICAgYWRhcHRvcl9sYXllcl9ub3JtPVRydWUsCiAgICAgICAgYWRhcHRvcl9kcm9wb3V0X3A9MC4xLAogICAgKQoKCkB1bml0eV9hcmNoKCJiYXNlX3YyIikKZGVmIF9iYXNlX3YyKCkgLT4gVW5pdFlDb25maWc6CiAgICBjb25mb3JtZXJfc2hhd19lbmNvZGVyX2NvbmZpZyA9IGNvbmZvcm1lcl9zaGF3X2FyY2hzLmdldF9jb25maWcoIjYwMG0iKQoKICAgIG10X21vZGVsX2NvbmZpZzogTmxsYkNvbmZpZyA9IG5sbGJfYXJjaHMuZ2V0X2NvbmZpZygiZGVuc2VfMWIiKQoKICAgIG10X21vZGVsX2NvbmZpZy52b2NhYl9pbmZvLnNpemUgPSAyNTYxMDIgICMgTkxMQi0xMDAKCiAgICBtdF9tb2RlbF9jb25maWcubWF4X3NlcV9sZW4gPSA0MDk2CgogICAgdDJ1X2NvbmZpZyA9IHVuaXR5X3QydV9hcmNocy5nZXRfY29uZmlnKCJiYXNlX25hciIpCgogICAgcmV0dXJuIFVuaXRZQ29uZmlnKAogICAgICAgIG1vZGVsX2RpbT0xMDI0LAogICAgICAgIHcydjJfZW5jb2Rlcl9jb25maWc9Y29uZm9ybWVyX3NoYXdfZW5jb2Rlcl9jb25maWcsCiAgICAgICAgbXRfbW9kZWxfY29uZmlnPW10X21vZGVsX2NvbmZpZywKICAgICAgICB0MnVfY29uZmlnPXQydV9jb25maWcsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2NvbmZpZz1Ob25lLAogICAgICAgIHVzZV90ZXh0X2VuY29kZXI9VHJ1ZSwKICAgICAgICB1c2VfdGV4dF9kZWNvZGVyPVRydWUsCiAgICAgICAgdXNlX2NvbmZvcm1lcl9hZGFwdG9yPUZhbHNlLAogICAgICAgIHVzZV9nZWx1PUZhbHNlLAogICAgICAgIG51bV9hZGFwdG9yX2xheWVycz0xLAogICAgICAgIGFkYXB0b3Jfa2VybmVsX3NpemU9OCwKICAgICAgICBhZGFwdG9yX3N0cmlkZT04LAogICAgICAgIGFkYXB0b3JfbGF5ZXJfbm9ybT1UcnVlLAogICAgICAgIGFkYXB0b3JfZHJvcG91dF9wPTAuMSwKICAgICkKCgpAdW5pdHlfYXJjaCgiZXhwcmVzc2l2aXR5X3YyIikKZGVmIF9leHByZXNzaXZpdHlfdjIoKSAtPiBVbml0WUNvbmZpZzoKICAgIGNvbmZvcm1lcl9zaGF3X2VuY29kZXJfY29uZmlnID0gY29uZm9ybWVyX3NoYXdfYXJjaHMuZ2V0X2NvbmZpZygiNjAwbSIpCgogICAgbXRfbW9kZWxfY29uZmlnOiBObGxiQ29uZmlnID0gbmxsYl9hcmNocy5nZXRfY29uZmlnKCJkZW5zZV8xYiIpCgogICAgbXRfbW9kZWxfY29uZmlnLnZvY2FiX2luZm8uc2l6ZSA9IDI1NjEwMiAgIyBOTExCLTEwMAoKICAgIG10X21vZGVsX2NvbmZpZy5tYXhfc2VxX2xlbiA9IDEwMDAwCgogICAgdDJ1X2NvbmZpZyA9IHVuaXR5X3QydV9hcmNocy5nZXRfY29uZmlnKCJleHByZXNzaXZpdHlfbmFyIikKCiAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnID0gZWNhcGFfdGRubl9hcmNocy5nZXRfY29uZmlnKCJiYXNlIikKCiAgICByZXR1cm4gVW5pdFlDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2NvbmZpZz1jb25mb3JtZXJfc2hhd19lbmNvZGVyX2NvbmZpZywKICAgICAgICBtdF9tb2RlbF9jb25maWc9bXRfbW9kZWxfY29uZmlnLAogICAgICAgIHQydV9jb25maWc9dDJ1X2NvbmZpZywKICAgICAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnPXByb3NvZHlfZW5jb2Rlcl9jb25maWcsCiAgICAgICAgdXNlX3RleHRfZW5jb2Rlcj1GYWxzZSwKICAgICAgICB1c2VfdGV4dF9kZWNvZGVyPVRydWUsCiAgICAgICAgdXNlX2NvbmZvcm1lcl9hZGFwdG9yPUZhbHNlLAogICAgICAgIHVzZV9nZWx1PVRydWUsCiAgICAgICAgbnVtX2FkYXB0b3JfbGF5ZXJzPTEsCiAgICAgICAgYWRhcHRvcl9rZXJuZWxfc2l6ZT04LAogICAgICAgIGFkYXB0b3Jfc3RyaWRlPTgsCiAgICAgICAgYWRhcHRvcl9sYXllcl9ub3JtPVRydWUsCiAgICAgICAgYWRhcHRvcl9kcm9wb3V0X3A9MC4xLAogICAgKQoKCmNsYXNzIFVuaXRZQnVpbGRlcjoKICAgICIiIkJ1aWxkcyBtb2R1bGVzIG9mIGEgVW5pdFkgbW9kZWwuCgogICAgVG8gdHdlYWsgdGhlIGFyY2hpdGVjdHVyZSwgeW91IGNhbiBkZXJpdmUgZnJvbSB0aGlzIGNsYXNzIGFuZCBvdmVycmlkZSB0aGUKICAgIGNvcnJlc3BvbmRpbmcgbWV0aG9kcy4KICAgICIiIgoKICAgIGNvbmZpZzogVW5pdFlDb25maWcKICAgIHcydjJfZW5jb2Rlcl9idWlsZGVyOiBXYXYyVmVjMkVuY29kZXJCdWlsZGVyCiAgICBtdF9tb2RlbF9idWlsZGVyOiBObGxiQnVpbGRlcgogICAgdDJ1X2J1aWxkZXI6IFVuaW9uW1VuaXRZVDJVQnVpbGRlciwgVW5pdFlOQVJUMlVCdWlsZGVyLCBOb25lXQogICAgcHJvc29keV9lbmNvZGVyX2J1aWxkZXI6IE9wdGlvbmFsW0VjYXBhVEROTkJ1aWxkZXJdCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0KICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IFVuaXRZQ29uZmlnLAogICAgICAgIHcydjJfZW5jb2Rlcl9idWlsZGVyOiBXYXYyVmVjMkVuY29kZXJCdWlsZGVyLAogICAgICAgIG10X21vZGVsX2J1aWxkZXI6IE5sbGJCdWlsZGVyLAogICAgICAgIHQydV9idWlsZGVyOiBVbmlvbltVbml0WVQyVUJ1aWxkZXIsIFVuaXRZTkFSVDJVQnVpbGRlciwgTm9uZV0sCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2J1aWxkZXI6IE9wdGlvbmFsW0VjYXBhVEROTkJ1aWxkZXJdLAogICAgICAgICosCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gY29uZmlnOgogICAgICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICAgICAgOnBhcmFtIHcydjJfZW5jb2Rlcl9idWlsZGVyOgogICAgICAgICAgICBUaGUgd2F2MnZlYyAyLjAgZW5jb2RlciBidWlsZGVyLgogICAgICAgIDpwYXJhbSBtdF9tb2RlbF9idWlsZGVyOgogICAgICAgICAgICBUaGUgTVQgbW9kZWwgYnVpbGRlci4KICAgICAgICA6cGFyYW0gdDJ1X2J1aWxkZXI6CiAgICAgICAgICAgIFRoZSBVbml0WSBUMlUgbW9kZWwgYnVpbGRlci4KICAgICAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgICAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgdzJ2Ml9lbmNvZGVyX2J1aWxkZXIuY29uZmlnLm1vZGVsX2RpbSAhPSBjb25maWcubW9kZWxfZGltOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgbW9kZWxfZGltYCBhbmQgYG1vZGVsX2RpbWAgb2YgYHcydjJfZW5jb2Rlcl9idWlsZGVyLmNvbmZpZ2AgbXVzdCBiZSBlcXVhbCwgYnV0IGFyZSB7Y29uZmlnLm1vZGVsX2RpbX0gYW5kIHt3MnYyX2VuY29kZXJfYnVpbGRlci5jb25maWcubW9kZWxfZGltfSBpbnN0ZWFkLiIKICAgICAgICAgICAgKQoKICAgICAgICBpZiBtdF9tb2RlbF9idWlsZGVyLmNvbmZpZy5tb2RlbF9kaW0gIT0gY29uZmlnLm1vZGVsX2RpbToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgIGYiYG1vZGVsX2RpbWAgYW5kIGBtb2RlbF9kaW1gIG9mIGBtdF9tb2RlbF9idWlsZGVyLmNvbmZpZ2AgbXVzdCBiZSBlcXVhbCwgYnV0IGFyZSB7Y29uZmlnLm1vZGVsX2RpbX0gYW5kIHttdF9tb2RlbF9idWlsZGVyLmNvbmZpZy5tb2RlbF9kaW19IGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIGlmIHQydV9idWlsZGVyIGlzIG5vdCBOb25lIGFuZCB0MnVfYnVpbGRlci5jb25maWcubW9kZWxfZGltICE9IGNvbmZpZy5tb2RlbF9kaW06CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICBmImBtb2RlbF9kaW1gIGFuZCBgbW9kZWxfZGltYCBvZiBgdDJ1X2J1aWxkZXIuY29uZmlnYCBtdXN0IGJlIGVxdWFsLCBidXQgYXJlIHtjb25maWcubW9kZWxfZGltfSBhbmQge3QydV9idWlsZGVyLmNvbmZpZy5tb2RlbF9kaW19IGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIHNlbGYuY29uZmlnID0gY29uZmlnCgogICAgICAgIHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIgPSB3MnYyX2VuY29kZXJfYnVpbGRlcgogICAgICAgIHNlbGYubXRfbW9kZWxfYnVpbGRlciA9IG10X21vZGVsX2J1aWxkZXIKICAgICAgICBzZWxmLnQydV9idWlsZGVyID0gdDJ1X2J1aWxkZXIKICAgICAgICBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyID0gcHJvc29keV9lbmNvZGVyX2J1aWxkZXIKCiAgICAgICAgc2VsZi5kZXZpY2UsIHNlbGYuZHR5cGUgPSBkZXZpY2UsIGR0eXBlCgogICAgZGVmIGJ1aWxkX21vZGVsKHNlbGYpIC0+IFVuaXRZTW9kZWw6CiAgICAgICAgIiIiQnVpbGQgYSBtb2RlbC4iIiIKICAgICAgICBzcGVlY2hfZW5jb2Rlcl9mcm9udGVuZCA9IHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuYnVpbGRfZnJvbnRlbmQoKQogICAgICAgIHNwZWVjaF9lbmNvZGVyID0gc2VsZi5idWlsZF9zcGVlY2hfZW5jb2RlcigpCgogICAgICAgIGlmIHNlbGYuY29uZmlnLnVzZV90ZXh0X2VuY29kZXI6CiAgICAgICAgICAgIHRleHRfZW1iZWQgPSBzZWxmLm10X21vZGVsX2J1aWxkZXIuYnVpbGRfZW1iZWRkaW5nKCkKICAgICAgICAgICAgdGV4dF9lbmNvZGVyX2Zyb250ZW5kID0gc2VsZi5tdF9tb2RlbF9idWlsZGVyLmJ1aWxkX2Zyb250ZW5kKHRleHRfZW1iZWQpCiAgICAgICAgICAgIHRleHRfZW5jb2RlciA9IHNlbGYubXRfbW9kZWxfYnVpbGRlci5idWlsZF9lbmNvZGVyKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICB0ZXh0X2VtYmVkID0gTm9uZQogICAgICAgICAgICB0ZXh0X2VuY29kZXJfZnJvbnRlbmQgPSBOb25lCiAgICAgICAgICAgIHRleHRfZW5jb2RlciA9IE5vbmUKCiAgICAgICAgaWYgc2VsZi5jb25maWcudXNlX3RleHRfZGVjb2RlcjoKICAgICAgICAgICAgaWYgdGV4dF9lbWJlZCBpcyBOb25lOgogICAgICAgICAgICAgICAgdGV4dF9lbWJlZCA9IHNlbGYubXRfbW9kZWxfYnVpbGRlci5idWlsZF9lbWJlZGRpbmcoKQoKICAgICAgICAgICAgaWYgdGV4dF9lbmNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgIyBXZSB1c2Ugc2hhcmVkIGVtYmVkZGluZyBhcyBpbiBOTExCLgogICAgICAgICAgICAgICAgdGV4dF9kZWNvZGVyX2Zyb250ZW5kID0gdGV4dF9lbmNvZGVyX2Zyb250ZW5kCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB0ZXh0X2RlY29kZXJfZnJvbnRlbmQgPSBzZWxmLm10X21vZGVsX2J1aWxkZXIuYnVpbGRfZnJvbnRlbmQodGV4dF9lbWJlZCkKCiAgICAgICAgICAgIHRleHRfZGVjb2RlciA9IHNlbGYubXRfbW9kZWxfYnVpbGRlci5idWlsZF9kZWNvZGVyKCkKICAgICAgICAgICAgZmluYWxfcHJvaiA9IFRpZWRQcm9qZWN0aW9uKHRleHRfZW1iZWQud2VpZ2h0LCBiaWFzPU5vbmUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdGV4dF9kZWNvZGVyX2Zyb250ZW5kID0gTm9uZQogICAgICAgICAgICB0ZXh0X2RlY29kZXIgPSBOb25lCiAgICAgICAgICAgIGZpbmFsX3Byb2ogPSBOb25lCgogICAgICAgIGlmIHNlbGYudDJ1X2J1aWxkZXIgaXMgTm9uZToKICAgICAgICAgICAgdDJ1X21vZGVsID0gTm9uZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHQydV9tb2RlbCA9IHNlbGYudDJ1X2J1aWxkZXIuYnVpbGRfbW9kZWwoKQoKICAgICAgICBpZiBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyIGlzIE5vbmU6CiAgICAgICAgICAgIHByb3NvZHlfZW5jb2Rlcl9tb2RlbCA9IE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfbW9kZWwgPSBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyLmJ1aWxkX21vZGVsKCkKCiAgICAgICAgcmV0dXJuIFVuaXRZTW9kZWwoCiAgICAgICAgICAgIHNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICBzcGVlY2hfZW5jb2RlciwKICAgICAgICAgICAgdGV4dF9lbmNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICB0ZXh0X2VuY29kZXIsCiAgICAgICAgICAgIHRleHRfZGVjb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgdGV4dF9kZWNvZGVyLAogICAgICAgICAgICBmaW5hbF9wcm9qLAogICAgICAgICAgICB0MnVfbW9kZWwsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm10X21vZGVsX2NvbmZpZy52b2NhYl9pbmZvLAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfbW9kZWwsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9zcGVlY2hfZW5jb2RlcihzZWxmKSAtPiBUcmFuc2Zvcm1lckVuY29kZXI6CiAgICAgICAgIiIiQnVpbGQgYSBzcGVlY2ggVHJhbnNmb3JtZXIgZW5jb2Rlci4iIiIKICAgICAgICB3MnYyX2VuY29kZXIgPSBzZWxmLncydjJfZW5jb2Rlcl9idWlsZGVyLmJ1aWxkX2VuY29kZXIoKQoKICAgICAgICAjIEZvciBDb25mb3JtZXItYmFzZWQgd2F2MnZlYyAyLjAgYXJjaGl0ZWN0dXJlcyAoZS5nLiB3MnYtQkVSVCksIHdlCiAgICAgICAgIyB0eXBpY2FsbHkgdXNlIGEgc3BlY2lhbCB0eXBlIG9mIGFkYXB0b3IgbGF5ZXIuCiAgICAgICAgaWYgbm90IHNlbGYuY29uZmlnLnVzZV9jb25mb3JtZXJfYWRhcHRvcjoKICAgICAgICAgICAgYnVpbGRfYWRhcHRvcl9sYXllciA9IHNlbGYuYnVpbGRfYWRhcHRvcl9sYXllcgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGJ1aWxkX2FkYXB0b3JfbGF5ZXIgPSBzZWxmLmJ1aWxkX2NvbmZvcm1lcl9hZGFwdG9yX2xheWVyCgogICAgICAgIG51bV9sYXllcnMgPSBzZWxmLmNvbmZpZy5udW1fYWRhcHRvcl9sYXllcnMKCiAgICAgICAgbGF5ZXJzID0gW2J1aWxkX2FkYXB0b3JfbGF5ZXIoaSkgZm9yIGkgaW4gcmFuZ2UobnVtX2xheWVycyldCgogICAgICAgIHJldHVybiBVbml0WUVuY29kZXJBZGFwdG9yKAogICAgICAgICAgICB3MnYyX2VuY29kZXIsCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgaW5uZXJfbGF5ZXJfbm9ybT1zZWxmLmNvbmZpZy5hZGFwdG9yX2xheWVyX25vcm0sCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2FkYXB0b3JfbGF5ZXIoc2VsZiwgaWR4OiBpbnQpIC0+IFRyYW5zZm9ybWVyRW5jb2RlckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXItYmFzZWQgZW5jb2RlciBhZGFwdG9yIGxheWVyLiIiIgogICAgICAgIHNlbGZfYXR0biA9IHNlbGYuYnVpbGRfYWRhcHRvcl9hdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuY29uZmlnLm51bV9lbmNvZGVyX2F0dG5faGVhZHMKICAgICAgICApCgogICAgICAgIGZmbiA9IFN0YW5kYXJkRmVlZEZvcndhcmROZXR3b3JrKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuY29uZmlnLmZmbl9pbm5lcl9kaW0sCiAgICAgICAgICAgIGlubmVyX2FjdGl2YXRpb249R0VMVSgpIGlmIHNlbGYuY29uZmlnLnVzZV9nZWx1IGVsc2UgUmVMVSgpLAogICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgICAgIHJldHVybiBVbml0WVRyYW5zZm9ybWVyQWRhcHRvckxheWVyKAogICAgICAgICAgICBzZWxmX2F0dG4sCiAgICAgICAgICAgIGZmbiwKICAgICAgICAgICAgc2VsZi5jb25maWcuYWRhcHRvcl9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgc2VsZi5jb25maWcuYWRhcHRvcl9zdHJpZGUsCiAgICAgICAgICAgIGRyb3BvdXRfcD1zZWxmLmNvbmZpZy5hZGFwdG9yX2Ryb3BvdXRfcCwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfY29uZm9ybWVyX2FkYXB0b3JfbGF5ZXIoc2VsZiwgaWR4OiBpbnQpIC0+IFRyYW5zZm9ybWVyRW5jb2RlckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgQ29uZm9ybWVyLWJhc2VkIGVuY29kZXIgYWRhcHRvciBsYXllci4iIiIKICAgICAgICBmZm4xID0gc2VsZi53MnYyX2VuY29kZXJfYnVpbGRlci5idWlsZF9mZm4odXNlX3N3aXNoPVRydWUpCgogICAgICAgICMgRW1waXJpY2FsbHkgc2hvd24gdGhhdCwgaW4gYWRhcHRvciBsYXllcnMsIHZhbmlsbGEgTUhBIHBlcmZvcm1zIGJldHRlcgogICAgICAgICMgdGhhbiBNSEEgd2l0aCByZWxhdGl2ZSBwb3NpdGlvbmFsIGVuY29kaW5nLgogICAgICAgIHNlbGZfYXR0biA9IHNlbGYuYnVpbGRfYWRhcHRvcl9hdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuY29uZmlnLm51bV9lbmNvZGVyX2F0dG5faGVhZHMKICAgICAgICApCgogICAgICAgIGNvbnYgPSBDb25mb3JtZXJDb252b2x1dGlvbigKICAgICAgICAgICAgc2VsZi53MnYyX2VuY29kZXJfYnVpbGRlci5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLncydjJfZW5jb2Rlcl9idWlsZGVyLmNvbmZpZy5kZXB0aHdpc2VfY29udl9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgZmZuMiA9IHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuYnVpbGRfZmZuKHVzZV9zd2lzaD1UcnVlKQoKICAgICAgICBibG9jayA9IENvbmZvcm1lckJsb2NrKAogICAgICAgICAgICBmZm4xLAogICAgICAgICAgICBzZWxmX2F0dG4sCiAgICAgICAgICAgIGNvbnYsCiAgICAgICAgICAgIGZmbjIsCiAgICAgICAgICAgIGRyb3BvdXRfcD1zZWxmLmNvbmZpZy5hZGFwdG9yX2Ryb3BvdXRfcCwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgbGF5ZXJfbm9ybSA9IGlkeCA9PSAwCgogICAgICAgIHJldHVybiBVbml0WUNvbmZvcm1lckFkYXB0b3JMYXllcigKICAgICAgICAgICAgYmxvY2ssCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmFkYXB0b3Jfa2VybmVsX3NpemUsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmFkYXB0b3Jfc3RyaWRlLAogICAgICAgICAgICBsYXllcl9ub3JtPWxheWVyX25vcm0sCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2FkYXB0b3JfYXR0ZW50aW9uKHNlbGYsIG51bV9oZWFkczogaW50KSAtPiBNdWx0aWhlYWRBdHRlbnRpb246CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBtdWx0aS1oZWFkIGF0dGVudGlvbiBsYXllciBpbiBhZGFwdG9yIGJsb2NrLiIiIgogICAgICAgIHNkcGEgPSBjcmVhdGVfZGVmYXVsdF9zZHBhKGF0dG5fZHJvcG91dF9wPXNlbGYuY29uZmlnLmFkYXB0b3JfZHJvcG91dF9wKQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX2hlYWRzLAogICAgICAgICAgICBzZHBhPXNkcGEsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgoKY2xhc3MgTmxsYldpdGhHRUxVQnVpbGRlcihObGxiQnVpbGRlcik6CiAgICBAb3ZlcnJpZGUKICAgIGRlZiBidWlsZF9mZm4oc2VsZikgLT4gRmVlZEZvcndhcmROZXR3b3JrOgogICAgICAgIHJldHVybiBTdGFuZGFyZEZlZWRGb3J3YXJkTmV0d29yaygKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5mZm5faW5uZXJfZGltLAogICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgIGlubmVyX2FjdGl2YXRpb249R0VMVSgpLAogICAgICAgICAgICBub3JtX29yZGVyPVRyYW5zZm9ybWVyTm9ybU9yZGVyLlBSRSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCgpkZWYgY3JlYXRlX3VuaXR5X21vZGVsKAogICAgY29uZmlnOiBVbml0WUNvbmZpZywKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKKSAtPiBVbml0WU1vZGVsOgogICAgIiIiQ3JlYXRlIGEgVW5pdFkgbW9kZWwuCgogICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgOnBhcmFtIGR0eXBlOgogICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAiIiIKICAgIGlmIGlzaW5zdGFuY2UoY29uZmlnLncydjJfZW5jb2Rlcl9jb25maWcsIENvbmZvcm1lclNoYXdFbmNvZGVyQ29uZmlnKToKICAgICAgICB3MnYyX2VuY29kZXJfYnVpbGRlcjogV2F2MlZlYzJFbmNvZGVyQnVpbGRlciA9IENvbmZvcm1lclNoYXdFbmNvZGVyQnVpbGRlcigKICAgICAgICAgICAgY29uZmlnLncydjJfZW5jb2Rlcl9jb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgKQogICAgZWxzZToKICAgICAgICB3MnYyX2VuY29kZXJfYnVpbGRlciA9IFdhdjJWZWMyRW5jb2RlckJ1aWxkZXIoCiAgICAgICAgICAgIGNvbmZpZy53MnYyX2VuY29kZXJfY29uZmlnLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICB0MnVfYnVpbGRlcjogVW5pb25bVW5pdFlUMlVCdWlsZGVyLCBVbml0WU5BUlQyVUJ1aWxkZXIsIE5vbmVdCgogICAgaWYgY29uZmlnLnQydV9jb25maWcgaXMgTm9uZToKICAgICAgICB0MnVfYnVpbGRlciA9IE5vbmUKICAgIGVsaWYgY29uZmlnLnQydV9jb25maWcubmFyX2RlY29kZXJfY29uZmlnIGlzIE5vbmU6CiAgICAgICAgdDJ1X2J1aWxkZXIgPSBVbml0WVQyVUJ1aWxkZXIoY29uZmlnLnQydV9jb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgZWxzZToKICAgICAgICB0MnVfYnVpbGRlciA9IFVuaXRZTkFSVDJVQnVpbGRlcihjb25maWcudDJ1X2NvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCgogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgTm9uZToKICAgICAgICBwcm9zb2R5X2VuY29kZXJfYnVpbGRlciA9IE5vbmUKICAgIGVsc2U6CiAgICAgICAgcHJvc29keV9lbmNvZGVyX2J1aWxkZXIgPSBFY2FwYVRETk5CdWlsZGVyKAogICAgICAgICAgICBjb25maWcucHJvc29keV9lbmNvZGVyX2NvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgaWYgY29uZmlnLnVzZV9nZWx1OgogICAgICAgIG10X21vZGVsX2J1aWxkZXI6IE5sbGJCdWlsZGVyID0gTmxsYldpdGhHRUxVQnVpbGRlcigKICAgICAgICAgICAgY29uZmlnLm10X21vZGVsX2NvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCiAgICBlbHNlOgogICAgICAgIG10X21vZGVsX2J1aWxkZXIgPSBObGxiQnVpbGRlcigKICAgICAgICAgICAgY29uZmlnLm10X21vZGVsX2NvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgdW5pdHlfYnVpbGRlciA9IFVuaXRZQnVpbGRlcigKICAgICAgICBjb25maWcsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2J1aWxkZXIsCiAgICAgICAgbXRfbW9kZWxfYnVpbGRlciwKICAgICAgICB0MnVfYnVpbGRlciwKICAgICAgICBwcm9zb2R5X2VuY29kZXJfYnVpbGRlciwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIHJldHVybiB1bml0eV9idWlsZGVyLmJ1aWxkX21vZGVsKCkK'),
    ('seamless/src/seamless_communication/models/unity/length_regulator.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSB0eXBpbmcgaW1wb3J0IExpdGVyYWwsIE9wdGlvbmFsLCBUdXBsZSwgVW5pb24KCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIubm4ubm9ybWFsaXphdGlvbiBpbXBvcnQgTGF5ZXJOb3JtCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2ssIGFwcGx5X3BhZGRpbmdfbWFzaywgdG9fcGFkZGluZ19tYXNrCmZyb20gZmFpcnNlcTIubm4ucHJvamVjdGlvbiBpbXBvcnQgTGluZWFyCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgpmcm9tIHRvcmNoLm5uIGltcG9ydCBDb252MWQsIERyb3BvdXQsIE1vZHVsZSwgUmVMVSwgU2VxdWVudGlhbAoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5maWxtIGltcG9ydCBGaUxNCgoKY2xhc3MgSGFyZFVwc2FtcGxpbmcoTW9kdWxlKToKICAgICIiIlVwc2FtcGxlcyBzZXF1ZW5jZXMgaW4gYSBkZXRlcm1pbmlzdGljIHdheSBhcyBnb3Zlcm5lZCBieSBkdXJhdGlvbnMuIiIiCgogICAgZGVmIGZvcndhcmQoc2VsZiwgc2VxczogVGVuc29yLCBkdXJhdGlvbnM6IFRlbnNvcikgLT4gVHVwbGVbVGVuc29yLCBUZW5zb3JdOgogICAgICAgICMgc2VxczogKE4sIFMsIE0pLCBkdXJhdGlvbnM6IChOLCBTKQogICAgICAgIGlmIGR1cmF0aW9ucy5kdHlwZSBub3QgaW4gKHRvcmNoLmludDE2LCB0b3JjaC5pbnQzMiwgdG9yY2guaW50NjQpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoIlRoZSBkdXJhdGlvbnMgdGVuc29yIHNob3VsZCBoYXZlIGFuIGludGVnZXIgZHR5cGUuIikKCiAgICAgICAgdXBzYW1wbGVkX3NlcV9sZW5zID0gZHVyYXRpb25zLnN1bShkaW09MSkKICAgICAgICBtYXhfbGVuID0gaW50KHVwc2FtcGxlZF9zZXFfbGVucy5tYXgoKS5pdGVtKCkpCiAgICAgICAgTiwgXywgTSA9IHNlcXMuc2hhcGUKICAgICAgICB1cHNhbXBsZWRfc2VxcyA9IHNlcXMubmV3X3plcm9zKChOLCBtYXhfbGVuLCBNKSkKCiAgICAgICAgZm9yIGIgaW4gcmFuZ2UoTik6CiAgICAgICAgICAgIHVwc2FtcGxlZF9zZXFzW2IsIDogdXBzYW1wbGVkX3NlcV9sZW5zW2JdXSA9IHNlcXNbYl0ucmVwZWF0X2ludGVybGVhdmUoCiAgICAgICAgICAgICAgICBkdXJhdGlvbnNbYl0sIGRpbT0wCiAgICAgICAgICAgICkKCiAgICAgICAgcmV0dXJuIHVwc2FtcGxlZF9zZXFzLCB1cHNhbXBsZWRfc2VxX2xlbnMKCgpjbGFzcyBHYXVzc2lhblVwc2FtcGxpbmcoTW9kdWxlKToKICAgICIiIkdhdXNzaWFuIHVwc2FtcGxpbmcgd2l0aCBmaXhlZCB0ZW1wZXJhdHVyZSBhcyBpbjoKICAgIGh0dHBzOi8vYXJ4aXYub3JnL2Ficy8yMDEwLjA0MzAxCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgZGVsdGE6IGZsb2F0ID0gMC4xKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmRlbHRhID0gZGVsdGEKCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHg6IFRlbnNvciwKICAgICAgICBkdXJhdGlvbnM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgVGVuc29yXToKICAgICAgICAiIiJVcHNhbXBsZSBoaWRkZW4gc3RhdGVzIGFjY29yZGluZyB0byBkdXJhdGlvbnMuCiAgICAgICAgQXJnczoKICAgICAgICAgICAgeCAoVGVuc29yKTogQmF0Y2hlZCBoaWRkZW4gc3RhdGUgdG8gYmUgZXhwYW5kZWQgKEIsIFRfdGV4dCwgQykuCiAgICAgICAgICAgIGR1cmF0aW9ucyAoVGVuc29yKTogQmF0Y2hlZCB0b2tlbiBkdXJhdGlvbiAoQiwgVF90ZXh0KS4KICAgICAgICAgICAgcGFkZGluZ19tYXNrIChUZW5zb3IpOiBNYXNrIHRlbnNvciAoQiwgVF90ZXh0KS4KICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBUZW5zb3I6IEV4cGFuZGVkIGhpZGRlbiBzdGF0ZSAoQiwgVF9mZWF0LCBDKS4KICAgICAgICAgICAgVGVuc29yOiBPdXRwdXQgbGVuZ3RocyAoQiwpLgogICAgICAgICIiIgogICAgICAgIG91dF9sZW5zID0gZHVyYXRpb25zLnN1bShkaW09MSkKICAgICAgICB5X21hc2sgPSB0b19wYWRkaW5nX21hc2sob3V0X2xlbnMsIG1heChvdXRfbGVucykpCgogICAgICAgIEIgPSBkdXJhdGlvbnMuc2l6ZSgwKQogICAgICAgIGlmIGR1cmF0aW9ucy5zdW0oKSA9PSAwOgogICAgICAgICAgICAjIE5PVEUoa2FuLWJheWFzaGkpOiBUaGlzIGNhc2UgbXVzdCBub3QgYmUgaGFwcGVuZWQgaW4gdGVhY2hlciBmb3JjaW5nLgogICAgICAgICAgICAjICAgSXQgd2lsbCBiZSBoYXBwZW5lZCBpbiBpbmZlcmVuY2Ugd2l0aCBhIGJhZCBkdXJhdGlvbiBwcmVkaWN0b3IuCiAgICAgICAgICAgICMgICBTbyB3ZSBkbyBub3QgbmVlZCB0byBjYXJlIHRoZSBwYWRkZWQgc2VxdWVuY2UgY2FzZSBoZXJlLgogICAgICAgICAgICBkdXJhdGlvbnNbZHVyYXRpb25zLnN1bShkaW09MSkuZXEoMCldID0gMQoKICAgICAgICBpZiB5X21hc2sgaXMgTm9uZToKICAgICAgICAgICAgVF9mZWF0ID0gZHVyYXRpb25zLnN1bSgpLmludCgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgVF9mZWF0ID0geV9tYXNrLnNpemUoLTEpCgogICAgICAgIHQgPSB0b3JjaC5hcmFuZ2UoMCwgVF9mZWF0KS51bnNxdWVlemUoMCkucmVwZWF0KEIsIDEpLnRvKHgpCiAgICAgICAgaWYgeV9tYXNrIGlzIG5vdCBOb25lOgogICAgICAgICAgICB0ID0gdCAqIHlfbWFzay5mbG9hdCgpCgogICAgICAgIGMgPSBkdXJhdGlvbnMuY3Vtc3VtKGRpbT0tMSkgLSBkdXJhdGlvbnMgLyAyCiAgICAgICAgZW5lcmd5ID0gLTEgKiBzZWxmLmRlbHRhICogKHQudW5zcXVlZXplKC0xKSAtIGMudW5zcXVlZXplKDEpKSAqKiAyCgogICAgICAgIGlmIHBhZGRpbmdfbWFzayBpcyBub3QgTm9uZToKICAgICAgICAgICAgZW5lcmd5ID0gZW5lcmd5Lm1hc2tlZF9maWxsKAogICAgICAgICAgICAgICAgfnBhZGRpbmdfbWFzay5tYXRlcmlhbGl6ZSgpLnVuc3F1ZWV6ZSgxKS5yZXBlYXQoMSwgVF9mZWF0LCAxKSwKICAgICAgICAgICAgICAgIC1mbG9hdCgiaW5mIiksCiAgICAgICAgICAgICkKCiAgICAgICAgcF9hdHRuID0gRi5zb2Z0bWF4KGVuZXJneSwgZGltPTIpLnRvKHgpICAjIChCLCBUX2ZlYXQsIFRfdGV4dCkKICAgICAgICB4ID0gdG9yY2gubWF0bXVsKHBfYXR0biwgeCkKICAgICAgICByZXR1cm4geCwgb3V0X2xlbnMKCgpjbGFzcyBWYXJpYW5jZVByZWRpY3RvcihNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyB0aGUgZHVyYXRpb24vcGl0Y2gvZW5lcmd5IHByZWRpY3RvciBhcyBkZXNjcmliZWQgaW4KICAgIDpjaXRlOnQ6YGh0dHBzOi8vYXJ4aXYub3JnL3BkZi8yMDA2LjA0NTU4LnBkZmAiIiIKCiAgICBjb252MTogU2VxdWVudGlhbAogICAgbG4xOiBMYXllck5vcm0KICAgIGRyb3BvdXRfbW9kdWxlOiBEcm9wb3V0CiAgICBjb252MjogU2VxdWVudGlhbAogICAgbG4yOiBMYXllck5vcm0KICAgIHByb2o6IExpbmVhcgogICAgZmlsbTogT3B0aW9uYWxbRmlMTV0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBlbmNvZGVyX2VtYmVkX2RpbTogaW50LAogICAgICAgIHZhcl9wcmVkX2hpZGRlbl9kaW06IGludCwKICAgICAgICB2YXJfcHJlZF9rZXJuZWxfc2l6ZTogaW50LAogICAgICAgIHZhcl9wcmVkX2Ryb3BvdXQ6IGZsb2F0LAogICAgICAgIGJpYXM6IGJvb2wgPSBUcnVlLAogICAgICAgIHVzZV9maWxtOiBib29sID0gRmFsc2UsCiAgICAgICAgZmlsbV9jb25kX2RpbTogaW50ID0gNTEyLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBzZWxmLmNvbnYxID0gU2VxdWVudGlhbCgKICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgZW5jb2Rlcl9lbWJlZF9kaW0sCiAgICAgICAgICAgICAgICB2YXJfcHJlZF9oaWRkZW5fZGltLAogICAgICAgICAgICAgICAgdmFyX3ByZWRfa2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICBzdHJpZGU9MSwKICAgICAgICAgICAgICAgIHBhZGRpbmc9InNhbWUiLAogICAgICAgICAgICAgICAgYmlhcz1iaWFzLAogICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICApLAogICAgICAgICAgICBSZUxVKCksCiAgICAgICAgKQoKICAgICAgICBsYXllcl9ub3JtX2ZhY3RvcnkgPSBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybQoKICAgICAgICBzZWxmLmxuMSA9IGxheWVyX25vcm1fZmFjdG9yeSh2YXJfcHJlZF9oaWRkZW5fZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKCiAgICAgICAgc2VsZi5kcm9wb3V0X21vZHVsZSA9IERyb3BvdXQocD12YXJfcHJlZF9kcm9wb3V0KQoKICAgICAgICBzZWxmLmNvbnYyID0gU2VxdWVudGlhbCgKICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgdmFyX3ByZWRfaGlkZGVuX2RpbSwKICAgICAgICAgICAgICAgIHZhcl9wcmVkX2hpZGRlbl9kaW0sCiAgICAgICAgICAgICAgICB2YXJfcHJlZF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgIHN0cmlkZT0xLAogICAgICAgICAgICAgICAgcGFkZGluZz0ic2FtZSIsCiAgICAgICAgICAgICAgICBiaWFzPWJpYXMsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIFJlTFUoKSwKICAgICAgICApCgogICAgICAgIHNlbGYubG4yID0gbGF5ZXJfbm9ybV9mYWN0b3J5KHZhcl9wcmVkX2hpZGRlbl9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQoKICAgICAgICBzZWxmLnByb2ogPSBMaW5lYXIoCiAgICAgICAgICAgIHZhcl9wcmVkX2hpZGRlbl9kaW0sIDEsIGJpYXM9VHJ1ZSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgICAgIGlmIHVzZV9maWxtOgogICAgICAgICAgICBzZWxmLmZpbG0gPSBGaUxNKAogICAgICAgICAgICAgICAgZmlsbV9jb25kX2RpbSwgdmFyX3ByZWRfaGlkZGVuX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJmaWxtIiwgTm9uZSkKCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUsCiAgICAgICAgZmlsbV9jb25kX2VtYjogT3B0aW9uYWxbVGVuc29yXSA9IE5vbmUsCiAgICApIC0+IFRlbnNvcjoKICAgICAgICAjIEVuc3VyZSB0aGF0IHdlIGRvIG5vdCBsZWFrIHBhZGRlZCBwb3NpdGlvbnMgaW4gdGhlIGNvbnZvbHV0aW9uIGxheWVyLgogICAgICAgIHNlcXMgPSBhcHBseV9wYWRkaW5nX21hc2soc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICAjIChOLCBTLCBNKSAtPiAoTiwgTSwgUykKICAgICAgICBzZXFzID0gc2Vxcy50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyAoTiwgTSwgUykgLT4gKE4sIEgsIFMpCiAgICAgICAgc2VxcyA9IHNlbGYuY29udjEoc2VxcykKCiAgICAgICAgIyAoTiwgSCwgUykgLT4gKE4sIFMsIEgpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHNlcXMgPSBzZWxmLmxuMShzZXFzKQoKICAgICAgICBzZXFzID0gc2VsZi5kcm9wb3V0X21vZHVsZShzZXFzKQoKICAgICAgICBzZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgIyAoTiwgUywgSCkgLT4gKE4sIEgsIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgICMgKE4sIEgsIFMpIC0+IChOLCBILCBTKQogICAgICAgIHNlcXMgPSBzZWxmLmNvbnYyKHNlcXMpCgogICAgICAgICMgKE4sIEgsIFMpIC0+IChOLCBTLCBIKQogICAgICAgIHNlcXMgPSBzZXFzLnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICBzZXFzID0gc2VsZi5sbjIoc2VxcykKCiAgICAgICAgc2VxcyA9IHNlbGYuZHJvcG91dF9tb2R1bGUoc2VxcykKCiAgICAgICAgc2VxcyA9IGFwcGx5X3BhZGRpbmdfbWFzayhzZXFzLCBwYWRkaW5nX21hc2spCgogICAgICAgIGlmIHNlbGYuZmlsbSBpcyBub3QgTm9uZSBhbmQgZmlsbV9jb25kX2VtYiBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYuZmlsbShzZXFzLCBmaWxtX2NvbmRfZW1iKQogICAgICAgICAgICBzZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgIyAoTiwgUywgSCkgLT4gKE4sIFMsIDEpIC0+IChOLCBTKQogICAgICAgIHNlcXMgPSBzZWxmLnByb2ooc2Vxcykuc3F1ZWV6ZShkaW09MikKCiAgICAgICAgcmV0dXJuIHNlcXMKCgpjbGFzcyBWYXJpYW5jZUFkYXB0b3IoTW9kdWxlKToKICAgICIiIlJlcHJlc2VudCB0aGUgVmFyaWFuY2UgYWRhcHRvciBhcyBkZXNjcmliZWQgaW4KICAgIDpjaXRlOnQ6YGh0dHBzOi8vYXJ4aXYub3JnL3BkZi8yMDA2LjA0NTU4LnBkZmAiIiIKCiAgICBkdXJhdGlvbl9wcmVkaWN0b3I6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yXQogICAgcGl0Y2hfcHJlZGljdG9yOiBPcHRpb25hbFtWYXJpYW5jZVByZWRpY3Rvcl0KICAgIHZ1dl9wcmVkaWN0b3I6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yXQogICAgZW5lcmd5X3ByZWRpY3RvcjogT3B0aW9uYWxbVmFyaWFuY2VQcmVkaWN0b3JdCiAgICBsZW5ndGhfcmVndWxhdG9yOiBVbmlvbltIYXJkVXBzYW1wbGluZywgR2F1c3NpYW5VcHNhbXBsaW5nXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGR1cmF0aW9uX3ByZWRpY3RvcjogT3B0aW9uYWxbVmFyaWFuY2VQcmVkaWN0b3JdID0gTm9uZSwKICAgICAgICBwaXRjaF9wcmVkaWN0b3I6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yXSA9IE5vbmUsCiAgICAgICAgZW1iZWRfcGl0Y2g6IE9wdGlvbmFsW0NvbnYxZF0gPSBOb25lLAogICAgICAgIHZ1dl9wcmVkaWN0b3I6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yXSA9IE5vbmUsCiAgICAgICAgZW5lcmd5X3ByZWRpY3RvcjogT3B0aW9uYWxbVmFyaWFuY2VQcmVkaWN0b3JdID0gTm9uZSwKICAgICAgICBlbWJlZF9lbmVyZ3k6IE9wdGlvbmFsW0NvbnYxZF0gPSBOb25lLAogICAgICAgIGFkZF92YXJpYW5jZV9wYXJhbGxlbDogYm9vbCA9IFRydWUsCiAgICAgICAgdXBzYW1wbGluZ190eXBlOiBMaXRlcmFsWyJnYXVzc2lhbiIsICJoYXJkIl0gPSAiaGFyZCIsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBpZiBkdXJhdGlvbl9wcmVkaWN0b3I6CiAgICAgICAgICAgIHNlbGYuZHVyYXRpb25fcHJlZGljdG9yID0gZHVyYXRpb25fcHJlZGljdG9yCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoImR1cmF0aW9uX3ByZWRpY3RvciIsIE5vbmUpCgogICAgICAgIGlmIHBpdGNoX3ByZWRpY3RvcjoKICAgICAgICAgICAgc2VsZi5waXRjaF9wcmVkaWN0b3IgPSBwaXRjaF9wcmVkaWN0b3IKICAgICAgICAgICAgc2VsZi5lbWJlZF9waXRjaCA9IGVtYmVkX3BpdGNoCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoInBpdGNoX3ByZWRpY3RvciIsIE5vbmUpCiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJlbWJlZF9waXRjaCIsIE5vbmUpCgogICAgICAgIGlmIHZ1dl9wcmVkaWN0b3I6CiAgICAgICAgICAgIHNlbGYudnV2X3ByZWRpY3RvciA9IHZ1dl9wcmVkaWN0b3IKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgidnV2X3ByZWRpY3RvciIsIE5vbmUpCgogICAgICAgIGlmIGVuZXJneV9wcmVkaWN0b3I6CiAgICAgICAgICAgIHNlbGYuZW5lcmd5X3ByZWRpY3RvciA9IGVuZXJneV9wcmVkaWN0b3IKICAgICAgICAgICAgc2VsZi5lbWJlZF9lbmVyZ3kgPSBlbWJlZF9lbmVyZ3kKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZW5lcmd5X3ByZWRpY3RvciIsIE5vbmUpCiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJlbWJlZF9lbmVyZ3kiLCBOb25lKQoKICAgICAgICBzZWxmLmFkZF92YXJpYW5jZV9wYXJhbGxlbCA9IGFkZF92YXJpYW5jZV9wYXJhbGxlbAoKICAgICAgICBpZiB1cHNhbXBsaW5nX3R5cGUgPT0gImdhdXNzaWFuIjoKICAgICAgICAgICAgc2VsZi5sZW5ndGhfcmVndWxhdG9yID0gR2F1c3NpYW5VcHNhbXBsaW5nKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmxlbmd0aF9yZWd1bGF0b3IgPSBIYXJkVXBzYW1wbGluZygpCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZHVyYXRpb25zOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIG1pbl9kdXJhdGlvbjogaW50ID0gMCwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBQYWRkaW5nTWFzaywgVGVuc29yXToKICAgICAgICBpZiBzZWxmLmR1cmF0aW9uX3ByZWRpY3RvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgbG9nX2R1cmF0aW9ucyA9IHNlbGYuZHVyYXRpb25fcHJlZGljdG9yKHNlcXMsIHBhZGRpbmdfbWFzaywgZmlsbV9jb25kX2VtYikKICAgICAgICAgICAgZHVyYXRpb25zID0gdG9yY2guY2xhbXAoCiAgICAgICAgICAgICAgICB0b3JjaC5yb3VuZCgodG9yY2guZXhwKGxvZ19kdXJhdGlvbnMpIC0gMSkgKiBkdXJhdGlvbl9mYWN0b3IpLmxvbmcoKSwKICAgICAgICAgICAgICAgIG1pbj1taW5fZHVyYXRpb24sCiAgICAgICAgICAgICkKICAgICAgICAgICAgIyBXZSBuZWVkIHRvIGFwcGx5IHRoZSBwYWRkaW5nX21hc2sgYWdhaW4gc2luY2Ugd2UgY2xhbXAgYnkgbWluX2R1cmF0aW9uLgogICAgICAgICAgICBkdXJhdGlvbnMgPSBhcHBseV9wYWRkaW5nX21hc2soZHVyYXRpb25zLCBwYWRkaW5nX21hc2ssIHBhZF92YWx1ZT0wKQoKICAgICAgICBhc3NlcnQgZHVyYXRpb25zIGlzIG5vdCBOb25lCgogICAgICAgIGlmIHNlbGYucGl0Y2hfcHJlZGljdG9yIGlzIG5vdCBOb25lOgogICAgICAgICAgICBwaXRjaF9vdXQgPSBzZWxmLnBpdGNoX3ByZWRpY3RvcihzZXFzLCBwYWRkaW5nX21hc2ssIGZpbG1fY29uZF9lbWIpCiAgICAgICAgICAgIGlmIHNlbGYudnV2X3ByZWRpY3RvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHZ1dl9vdXQgPSBzZWxmLnZ1dl9wcmVkaWN0b3Ioc2VxcywgcGFkZGluZ19tYXNrLCBmaWxtX2NvbmRfZW1iKQogICAgICAgICAgICAgICAgcGl0Y2hfb3V0ID0gcGl0Y2hfb3V0ICogKHRvcmNoLnNpZ21vaWQodnV2X291dCkgPj0gMC41KQoKICAgICAgICAgICAgYXNzZXJ0IHNlbGYuZW1iZWRfcGl0Y2ggaXMgbm90IE5vbmUKICAgICAgICAgICAgcGl0Y2hfZW1iZWQgPSBzZWxmLmVtYmVkX3BpdGNoKHBpdGNoX291dC51bnNxdWVlemUoMSkpLnRyYW5zcG9zZSgxLCAyKQogICAgICAgICAgICBpZiBub3Qgc2VsZi5hZGRfdmFyaWFuY2VfcGFyYWxsZWw6CiAgICAgICAgICAgICAgICBzZXFzID0gc2VxcyArIHBpdGNoX2VtYmVkCgogICAgICAgIGlmIHNlbGYuZW5lcmd5X3ByZWRpY3RvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgZW5lcmd5X291dCA9IHNlbGYuZW5lcmd5X3ByZWRpY3RvcihzZXFzLCBwYWRkaW5nX21hc2ssIGZpbG1fY29uZF9lbWIpCgogICAgICAgICAgICBhc3NlcnQgc2VsZi5lbWJlZF9lbmVyZ3kgaXMgbm90IE5vbmUKICAgICAgICAgICAgZW5lcmd5X2VtYmVkID0gc2VsZi5lbWJlZF9lbmVyZ3koZW5lcmd5X291dC51bnNxdWVlemUoMSkpLnRyYW5zcG9zZSgxLCAyKQogICAgICAgICAgICBpZiBzZWxmLmFkZF92YXJpYW5jZV9wYXJhbGxlbDoKICAgICAgICAgICAgICAgIHNlcXMgPSBzZXFzICsgcGl0Y2hfZW1iZWQgKyBlbmVyZ3lfZW1iZWQKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlcXMgPSBzZXFzICsgZW5lcmd5X2VtYmVkCgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5sZW5ndGhfcmVndWxhdG9yLCBHYXVzc2lhblVwc2FtcGxpbmcpOgogICAgICAgICAgICBzZXFzLCBzZXFfbGVucyA9IHNlbGYubGVuZ3RoX3JlZ3VsYXRvcihzZXFzLCBkdXJhdGlvbnMsIHBhZGRpbmdfbWFzaykKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZXFzLCBzZXFfbGVucyA9IHNlbGYubGVuZ3RoX3JlZ3VsYXRvcihzZXFzLCBkdXJhdGlvbnMpCgogICAgICAgIHJldHVybiBzZXFzLCBQYWRkaW5nTWFzayhzZXFfbGVucywgYmF0Y2hfc2VxX2xlbj1zZXFzLnNpemUoMSkpLCBkdXJhdGlvbnMK'),
    ('seamless/src/seamless_communication/models/unity/char_tokenizer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbCwgVW5pb24sIGZpbmFsCgpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgKAogICAgQXNzZXREb3dubG9hZE1hbmFnZXIsCiAgICBBc3NldFN0b3JlLAogICAgYXNzZXRfc3RvcmUsCiAgICBkb3dubG9hZF9tYW5hZ2VyLAopCmZyb20gZmFpcnNlcTIuYXNzZXRzLmNhcmQgaW1wb3J0IEFzc2V0Q2FyZApmcm9tIGZhaXJzZXEyLmRhdGEudGV4dCBpbXBvcnQgKAogICAgU2VudGVuY2VQaWVjZURlY29kZXIsCiAgICBTZW50ZW5jZVBpZWNlRW5jb2RlciwKICAgIFNlbnRlbmNlUGllY2VNb2RlbCwKICAgIFRleHRUb2tlbkRlY29kZXIsCiAgICBUZXh0VG9rZW5FbmNvZGVyLAogICAgVGV4dFRva2VuaXplciwKICAgIHZvY2FiX2luZm9fZnJvbV9zZW50ZW5jZXBpZWNlLAopCmZyb20gZmFpcnNlcTIuZGF0YS50eXBpbmcgaW1wb3J0IFBhdGhMaWtlCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEZXZpY2UsIGZpbmFsb3ZlcnJpZGUKCgpAZmluYWwKY2xhc3MgQ2hhclRva2VuaXplcihUZXh0VG9rZW5pemVyKToKICAgICIiIkEgY2hhcmFjdGVyLWxldmVsIHRva2VuaXplciB1c2VkIGR1cmluZyBub24tYXV0b3JlZ3Jlc3NpdmUgVDJVIGRlY29kaW5nLiIiIgoKICAgIG1vZGVsOiBTZW50ZW5jZVBpZWNlTW9kZWwKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGF0aG5hbWU6IFBhdGhMaWtlKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBwYXRobmFtZToKICAgICAgICAgICAgVGhlIHBhdGhuYW1lIG9mIHRoZSBTZW50ZW5jZVBpZWNlIG1vZGVsIGZpbGUuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5tb2RlbCA9IFNlbnRlbmNlUGllY2VNb2RlbChwYXRobmFtZSkKCiAgICAgICAgdm9jYWJfaW5mbyA9IHZvY2FiX2luZm9fZnJvbV9zZW50ZW5jZXBpZWNlKHNlbGYubW9kZWwpCgogICAgICAgIHN1cGVyKCkuX19pbml0X18odm9jYWJfaW5mbykKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGNyZWF0ZV9lbmNvZGVyKAogICAgICAgIHNlbGYsCiAgICAgICAgdGFzazogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbW9kZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBwaW5fbWVtb3J5OiBib29sID0gRmFsc2UsCiAgICApIC0+IFRleHRUb2tlbkVuY29kZXI6CiAgICAgICAgIiIiQ3JlYXRlcyBhIGNoYXJhY3RlciBsZXZlbCBlbmNvZGVyLiIiIgogICAgICAgIHJldHVybiBTZW50ZW5jZVBpZWNlRW5jb2RlcigKICAgICAgICAgICAgc2VsZi5tb2RlbCwKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgcGluX21lbW9yeT1waW5fbWVtb3J5LAogICAgICAgICkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGNyZWF0ZV9yYXdfZW5jb2RlcigKICAgICAgICBzZWxmLCAqLCBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLCBwaW5fbWVtb3J5OiBib29sID0gRmFsc2UKICAgICkgLT4gVGV4dFRva2VuRW5jb2RlcjoKICAgICAgICByZXR1cm4gU2VudGVuY2VQaWVjZUVuY29kZXIoc2VsZi5tb2RlbCwgZGV2aWNlPWRldmljZSwgcGluX21lbW9yeT1waW5fbWVtb3J5KQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgY3JlYXRlX2RlY29kZXIoc2VsZikgLT4gVGV4dFRva2VuRGVjb2RlcjoKICAgICAgICByZXR1cm4gU2VudGVuY2VQaWVjZURlY29kZXIoc2VsZi5tb2RlbCkKCgpjbGFzcyBVbml0WUNoYXJUb2tlbml6ZXJMb2FkZXI6CiAgICAiIiJMb2FkcyBjaGFyYWN0ZXItbGV2ZWwgdG9rZW5pemVycyBvZiBVbml0WSBtb2RlbHMuIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGFzc2V0X3N0b3JlOiBBc3NldFN0b3JlLCBkb3dubG9hZF9tYW5hZ2VyOiBBc3NldERvd25sb2FkTWFuYWdlcgogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBhc3NldF9zdG9yZToKICAgICAgICAgICAgVGhlIGFzc2V0IHN0b3JlIHRvIHJldHJpZXZlIHRoZSBtb2RlbCBpbmZvcm1hdGlvbi4KICAgICAgICA6cGFyYW0gZG93bmxvYWRfbWFuYWdlcjoKICAgICAgICAgICAgVGhlIGRvd25sb2FkIG1hbmFnZXIgdG8gdXNlLgogICAgICAgICIiIgogICAgICAgIHNlbGYuYXNzZXRfc3RvcmUgPSBhc3NldF9zdG9yZQogICAgICAgIHNlbGYuZG93bmxvYWRfbWFuYWdlciA9IGRvd25sb2FkX21hbmFnZXIKCiAgICBkZWYgX19jYWxsX18oCiAgICAgICAgc2VsZiwKICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQ6IFVuaW9uW3N0ciwgQXNzZXRDYXJkXSwKICAgICAgICBmb3JjZTogYm9vbCA9IEZhbHNlLAogICAgICAgIHByb2dyZXNzOiBib29sID0gVHJ1ZSwKICAgICkgLT4gQ2hhclRva2VuaXplcjoKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbW9kZWxfbmFtZV9vcl9jYXJkOgogICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgb3IgYW4gYWxyZWFkeSBsb2FkZWQgQXNzZXRDYXJkCiAgICAgICAgIiIiCgogICAgICAgIGlmIGlzaW5zdGFuY2UobW9kZWxfbmFtZV9vcl9jYXJkLCBBc3NldENhcmQpOgogICAgICAgICAgICBjYXJkID0gbW9kZWxfbmFtZV9vcl9jYXJkCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY2FyZCA9IHNlbGYuYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChtb2RlbF9uYW1lX29yX2NhcmQpCgogICAgICAgIHVyaSA9IGNhcmQuZmllbGQoImNoYXJfdG9rZW5pemVyIikuYXNfdXJpKCkKCiAgICAgICAgcGF0aG5hbWUgPSBzZWxmLmRvd25sb2FkX21hbmFnZXIuZG93bmxvYWRfdG9rZW5pemVyKAogICAgICAgICAgICB1cmksIGNhcmQubmFtZSwgZm9yY2U9Zm9yY2UsIHByb2dyZXNzPXByb2dyZXNzCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gQ2hhclRva2VuaXplcihwYXRobmFtZSkKCgpsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyID0gVW5pdFlDaGFyVG9rZW5pemVyTG9hZGVyKGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyKQo='),
    ('seamless/src/seamless_communication/models/unity/model.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR1cGxlLCBVbmlvbiwgZmluYWwKCmZyb20gZmFpcnNlcTIuZGF0YSBpbXBvcnQgVm9jYWJ1bGFyeUluZm8KZnJvbSBmYWlyc2VxMi5tb2RlbHMuZW5jb2Rlcl9kZWNvZGVyIGltcG9ydCBFbmNvZGVyRGVjb2Rlck1vZGVsCmZyb20gZmFpcnNlcTIubW9kZWxzLnNlcXVlbmNlIGltcG9ydCBTZXF1ZW5jZU1vZGVsT3V0cHV0CmZyb20gZmFpcnNlcTIubW9kZWxzLnRyYW5zZm9ybWVyLmZyb250ZW5kIGltcG9ydCBUcmFuc2Zvcm1lckZyb250ZW5kCmZyb20gZmFpcnNlcTIubm4uaW5jcmVtZW50YWxfc3RhdGUgaW1wb3J0IEluY3JlbWVudGFsU3RhdGVCYWcKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBQYWRkaW5nTWFzawpmcm9tIGZhaXJzZXEyLm5uLnByb2plY3Rpb24gaW1wb3J0IFByb2plY3Rpb24KZnJvbSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lciBpbXBvcnQgVHJhbnNmb3JtZXJEZWNvZGVyLCBUcmFuc2Zvcm1lckVuY29kZXIKZnJvbSBvdmVycmlkZXMgaW1wb3J0IGZpbmFsIGFzIGZpbmFsb3ZlcnJpZGUKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IE1vZHVsZQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5nZW5lcmF0b3IuZWNhcGFfdGRubiBpbXBvcnQgRUNBUEFfVEROTgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmZmdF9kZWNvZGVyIGltcG9ydCBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubmFyX2RlY29kZXJfZnJvbnRlbmQgaW1wb3J0IE5BUkRlY29kZXJGcm9udGVuZAoKCkBmaW5hbApjbGFzcyBVbml0WU1vZGVsKEVuY29kZXJEZWNvZGVyTW9kZWwpOgogICAgIiIiUmVwcmVzZW50cyBhIFVuaXRZIG1vZGVsIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIxMi4wODA1NWAuCgogICAgTm90ZSB0aGF0IHRoaXMgaW1wbGVtZW50YXRpb24gaXMgYXVnbWVudGVkIHdpdGggYSB0ZXh0IGVuY29kZXIgdG8gZW5hYmxlCiAgICB0cmFuc2xhdGluZyBmcm9tIHRleHQuCiAgICAiIiIKCiAgICBtb2RlbF9kaW06IGludAogICAgaW5wdXRfbW9kYWxpdHk6IHN0cgogICAgc3BlZWNoX2VuY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQKICAgIHNwZWVjaF9lbmNvZGVyOiBUcmFuc2Zvcm1lckVuY29kZXIKICAgIHRleHRfZW5jb2Rlcl9mcm9udGVuZDogT3B0aW9uYWxbVHJhbnNmb3JtZXJGcm9udGVuZF0KICAgIHRleHRfZW5jb2RlcjogT3B0aW9uYWxbVHJhbnNmb3JtZXJFbmNvZGVyXQogICAgdGV4dF9kZWNvZGVyX2Zyb250ZW5kOiBPcHRpb25hbFtUcmFuc2Zvcm1lckZyb250ZW5kXQogICAgdGV4dF9kZWNvZGVyOiBPcHRpb25hbFtUcmFuc2Zvcm1lckRlY29kZXJdCiAgICBmaW5hbF9wcm9qOiBPcHRpb25hbFtQcm9qZWN0aW9uXQogICAgdDJ1X21vZGVsOiBVbmlvblsiVW5pdFlUMlVNb2RlbCIsICJVbml0WU5BUlQyVU1vZGVsIiwgTm9uZV0KICAgIHByb3NvZHlfZW5jb2Rlcl9tb2RlbDogT3B0aW9uYWxbRUNBUEFfVEROTl0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBzcGVlY2hfZW5jb2Rlcl9mcm9udGVuZDogVHJhbnNmb3JtZXJGcm9udGVuZCwKICAgICAgICBzcGVlY2hfZW5jb2RlcjogVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgICAgIHRleHRfZW5jb2Rlcl9mcm9udGVuZDogT3B0aW9uYWxbVHJhbnNmb3JtZXJGcm9udGVuZF0sCiAgICAgICAgdGV4dF9lbmNvZGVyOiBPcHRpb25hbFtUcmFuc2Zvcm1lckVuY29kZXJdLAogICAgICAgIHRleHRfZGVjb2Rlcl9mcm9udGVuZDogT3B0aW9uYWxbVHJhbnNmb3JtZXJGcm9udGVuZF0sCiAgICAgICAgdGV4dF9kZWNvZGVyOiBPcHRpb25hbFtUcmFuc2Zvcm1lckRlY29kZXJdLAogICAgICAgIGZpbmFsX3Byb2o6IE9wdGlvbmFsW1Byb2plY3Rpb25dLAogICAgICAgIHQydV9tb2RlbDogVW5pb25bIlVuaXRZVDJVTW9kZWwiLCAiVW5pdFlOQVJUMlVNb2RlbCIsIE5vbmVdLAogICAgICAgIHRhcmdldF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbywKICAgICAgICBwcm9zb2R5X2VuY29kZXJfbW9kZWw6IE9wdGlvbmFsW0VDQVBBX1RETk5dID0gTm9uZSwKICAgICAgICBpbnB1dF9tb2RhbGl0eTogc3RyID0gInNwZWVjaCIsCiAgICApIC0+IE5vbmU6CiAgICAgICAgbW9kZWxfZGltID0gc3BlZWNoX2VuY29kZXIubW9kZWxfZGltCgogICAgICAgIHN1cGVyKCkuX19pbml0X18obW9kZWxfZGltLCB0YXJnZXRfdm9jYWJfaW5mbykKCiAgICAgICAgc2VsZi5pbnB1dF9tb2RhbGl0eSA9IGlucHV0X21vZGFsaXR5CgogICAgICAgIHNlbGYuc3BlZWNoX2VuY29kZXJfZnJvbnRlbmQgPSBzcGVlY2hfZW5jb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuc3BlZWNoX2VuY29kZXIgPSBzcGVlY2hfZW5jb2RlcgoKICAgICAgICBpZiB0ZXh0X2VuY29kZXIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGlmIHRleHRfZW5jb2Rlcl9mcm9udGVuZCBpcyBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICAgICAiQm90aCBgdGV4dF9lbmNvZGVyYCBhbmQgYHRleHRfZW5jb2Rlcl9mcm9udGVuZGAgbXVzdCBiZSBzcGVjaWZpZWQsIGJ1dCBgdGV4dF9lbmNvZGVyX2Zyb250ZW5kYCBpcyBgTm9uZWAuIgogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi50ZXh0X2VuY29kZXJfZnJvbnRlbmQgPSB0ZXh0X2VuY29kZXJfZnJvbnRlbmQKICAgICAgICAgICAgc2VsZi50ZXh0X2VuY29kZXIgPSB0ZXh0X2VuY29kZXIKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiB0ZXh0X2VuY29kZXJfZnJvbnRlbmQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgICJCb3RoIGB0ZXh0X2VuY29kZXJgIGFuZCBgdGV4dF9lbmNvZGVyX2Zyb250ZW5kYCBtdXN0IGJlIHNwZWNpZmllZCwgYnV0IGB0ZXh0X2VuY29kZXJgIGlzIGBOb25lYC4iCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgidGV4dF9lbmNvZGVyX2Zyb250ZW5kIiwgTm9uZSkKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoInRleHRfZW5jb2RlciIsIE5vbmUpCgogICAgICAgIGlmIHRleHRfZGVjb2RlciBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgdGV4dF9kZWNvZGVyX2Zyb250ZW5kIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgICJCb3RoIGB0ZXh0X2RlY29kZXJgIGFuZCBgdGV4dF9kZWNvZGVyX2Zyb250ZW5kYCBtdXN0IGJlIHNwZWNpZmllZCwgYnV0IGB0ZXh0X2RlY29kZXJfZnJvbnRlbmRgIGlzIGBOb25lYC4iCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLnRleHRfZGVjb2Rlcl9mcm9udGVuZCA9IHRleHRfZGVjb2Rlcl9mcm9udGVuZAogICAgICAgICAgICBzZWxmLnRleHRfZGVjb2RlciA9IHRleHRfZGVjb2RlcgogICAgICAgICAgICBzZWxmLmZpbmFsX3Byb2ogPSBmaW5hbF9wcm9qCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgdGV4dF9kZWNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICAgICAiQm90aCBgdGV4dF9lbmNvZGVyYCBhbmQgYHRleHRfZW5jb2Rlcl9mcm9udGVuZGAgbXVzdCBiZSBzcGVjaWZpZWQsIGJ1dCBgdGV4dF9kZWNvZGVyYCBpcyBgTm9uZWAuIgogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoInRleHRfZGVjb2Rlcl9mcm9udGVuZCIsIE5vbmUpCiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJ0ZXh0X2RlY29kZXIiLCBOb25lKQogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZmluYWxfcHJvaiIsIE5vbmUpCgogICAgICAgIGlmIHQydV9tb2RlbCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi50MnVfbW9kZWwgPSB0MnVfbW9kZWwKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgidDJ1X21vZGVsIiwgTm9uZSkKCiAgICAgICAgc2VsZi50YXJnZXRfdm9jYWJfaW5mbyA9IHRhcmdldF92b2NhYl9pbmZvCiAgICAgICAgaWYgcHJvc29keV9lbmNvZGVyX21vZGVsIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnByb3NvZHlfZW5jb2Rlcl9tb2RlbCA9IHByb3NvZHlfZW5jb2Rlcl9tb2RlbAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJwcm9zb2R5X2VuY29kZXJfbW9kZWwiLCBOb25lKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgZW5jb2RlKAogICAgICAgIHNlbGYsIHNlcXM6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10KICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza11dOgogICAgICAgIGlmIHNlbGYuaW5wdXRfbW9kYWxpdHkgPT0gInNwZWVjaCI6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmVuY29kZV9zcGVlY2goc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBpZiBzZWxmLmlucHV0X21vZGFsaXR5ID09ICJ0ZXh0IjoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuZW5jb2RlX3RleHQoc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoCiAgICAgICAgICAgIGYiYGlucHV0X21vZGFsaXR5YCBtdXN0IGJlICdzcGVlY2gnIG9yICd0ZXh0JywgYnV0IGlzICd7c2VsZi5pbnB1dF9tb2RhbGl0eX0nIGluc3RlYWQuIgogICAgICAgICkKCiAgICBkZWYgZW5jb2RlX3NwZWVjaCgKICAgICAgICBzZWxmLCBzZXFzOiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBzZWxmLnNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgcmV0dXJuIHNlbGYuc3BlZWNoX2VuY29kZXIoc2VxcywgcGFkZGluZ19tYXNrKSAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0KCiAgICBkZWYgZW5jb2RlX3RleHQoCiAgICAgICAgc2VsZiwgc2VxczogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXQogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXV06CiAgICAgICAgaWYgc2VsZi50ZXh0X2VuY29kZXIgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJgZW5jb2RlX3RleHQoKWAgcmVxdWlyZXMgYSB0ZXh0IGVuY29kZXIsIGJ1dCB0aGUgY3VycmVudCBVbml0WSBtb2RlbCBkb2VzIG5vdCBoYXZlIG9uZS4iCiAgICAgICAgICAgICkKCiAgICAgICAgYXNzZXJ0IHNlbGYudGV4dF9lbmNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lCgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYudGV4dF9lbmNvZGVyX2Zyb250ZW5kKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgcmV0dXJuIHNlbGYudGV4dF9lbmNvZGVyKHNlcXMsIHBhZGRpbmdfbWFzaykgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBkZWNvZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IFRlbnNvciwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgICosCiAgICAgICAgc3RhdGVfYmFnOiBPcHRpb25hbFtJbmNyZW1lbnRhbFN0YXRlQmFnXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBpZiBzZWxmLnRleHRfZGVjb2RlciBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgImBkZWNvZGUoKWAgcmVxdWlyZXMgYSB0ZXh0IGRlY29kZXIsIGJ1dCB0aGUgY3VycmVudCBVbml0WSBtb2RlbCBkb2VzIG5vdCBoYXZlIG9uZS4iCiAgICAgICAgICAgICkKCiAgICAgICAgYXNzZXJ0IHNlbGYudGV4dF9kZWNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lCgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYudGV4dF9kZWNvZGVyX2Zyb250ZW5kKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIHN0YXRlX2JhZz1zdGF0ZV9iYWcKICAgICAgICApCgogICAgICAgIHJldHVybiBzZWxmLnRleHRfZGVjb2RlciggICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICBzdGF0ZV9iYWc9c3RhdGVfYmFnLAogICAgICAgICkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIHByb2plY3QoCiAgICAgICAgc2VsZiwgZGVjb2Rlcl9vdXRwdXQ6IFRlbnNvciwgZGVjb2Rlcl9wYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXQogICAgKSAtPiBTZXF1ZW5jZU1vZGVsT3V0cHV0OgogICAgICAgIGlmIHNlbGYuZmluYWxfcHJvaiBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgImBwcm9qZWN0KClgIHJlcXVpcmVzIGEgZmluYWxfcHJvaiBsYXllciwgYnV0IHRoZSBjdXJyZW50IFVuaXRZIG1vZGVsIGRvZXMgbm90IGhhdmUgb25lLiIKICAgICAgICAgICAgKQoKICAgICAgICBsb2dpdHMgPSBzZWxmLmZpbmFsX3Byb2ooZGVjb2Rlcl9vdXRwdXQpCgogICAgICAgIHJldHVybiBTZXF1ZW5jZU1vZGVsT3V0cHV0KGxvZ2l0cywgc2VsZi50YXJnZXRfdm9jYWJfaW5mbykKCgpAZmluYWwKY2xhc3MgVW5pdFlYMlRNb2RlbChFbmNvZGVyRGVjb2Rlck1vZGVsKToKICAgIG1vZGVsX2RpbTogaW50CiAgICBlbmNvZGVyX2Zyb250ZW5kOiBUcmFuc2Zvcm1lckZyb250ZW5kCiAgICBlbmNvZGVyOiBUcmFuc2Zvcm1lckVuY29kZXIKICAgIGRlY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQKICAgIGRlY29kZXI6IFRyYW5zZm9ybWVyRGVjb2RlcgogICAgZmluYWxfcHJvajogUHJvamVjdGlvbgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGVuY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQsCiAgICAgICAgZW5jb2RlcjogVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgICAgIGRlY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQsCiAgICAgICAgZGVjb2RlcjogVHJhbnNmb3JtZXJEZWNvZGVyLAogICAgICAgIGZpbmFsX3Byb2o6IFByb2plY3Rpb24sCiAgICAgICAgdGFyZ2V0X3ZvY2FiX2luZm86IFZvY2FidWxhcnlJbmZvLAogICAgKSAtPiBOb25lOgogICAgICAgIG1vZGVsX2RpbSA9IGVuY29kZXIubW9kZWxfZGltCgogICAgICAgIHN1cGVyKCkuX19pbml0X18obW9kZWxfZGltLCB0YXJnZXRfdm9jYWJfaW5mbykKCiAgICAgICAgc2VsZi5lbmNvZGVyX2Zyb250ZW5kID0gZW5jb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuZW5jb2RlciA9IGVuY29kZXIKICAgICAgICBzZWxmLmRlY29kZXJfZnJvbnRlbmQgPSBkZWNvZGVyX2Zyb250ZW5kCiAgICAgICAgc2VsZi5kZWNvZGVyID0gZGVjb2RlcgogICAgICAgIHNlbGYuZmluYWxfcHJvaiA9IGZpbmFsX3Byb2oKICAgICAgICBzZWxmLnRhcmdldF92b2NhYl9pbmZvID0gdGFyZ2V0X3ZvY2FiX2luZm8KCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGVuY29kZSgKICAgICAgICBzZWxmLCBzZXFzOiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBzZWxmLmVuY29kZXJfZnJvbnRlbmQoc2VxcywgcGFkZGluZ19tYXNrKQogICAgICAgIHJldHVybiBzZWxmLmVuY29kZXIoc2VxcywgcGFkZGluZ19tYXNrKSAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0KCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGRlY29kZSgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBlbmNvZGVyX291dHB1dDogVGVuc29yLAogICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgKiwKICAgICAgICBzdGF0ZV9iYWc6IE9wdGlvbmFsW0luY3JlbWVudGFsU3RhdGVCYWddID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza11dOgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYuZGVjb2Rlcl9mcm9udGVuZCgKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBzdGF0ZV9iYWc9c3RhdGVfYmFnCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gc2VsZi5kZWNvZGVyKCAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0KICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBlbmNvZGVyX291dHB1dCwKICAgICAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgIHN0YXRlX2JhZz1zdGF0ZV9iYWcsCiAgICAgICAgKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgcHJvamVjdCgKICAgICAgICBzZWxmLCBkZWNvZGVyX291dHB1dDogVGVuc29yLCBkZWNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdCiAgICApIC0+IFNlcXVlbmNlTW9kZWxPdXRwdXQ6CiAgICAgICAgbG9naXRzID0gc2VsZi5maW5hbF9wcm9qKGRlY29kZXJfb3V0cHV0KQoKICAgICAgICByZXR1cm4gU2VxdWVuY2VNb2RlbE91dHB1dChsb2dpdHMsIHNlbGYudGFyZ2V0X3ZvY2FiX2luZm8pCgoKQGZpbmFsCmNsYXNzIFVuaXRZVDJVTW9kZWwoRW5jb2RlckRlY29kZXJNb2RlbCk6CiAgICAiIiJSZXByZXNlbnRzIGEgVW5pdFkgVDJVIG1vZGVsIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIxMi4wODA1NWAuIiIiCgogICAgZW5jb2RlcjogT3B0aW9uYWxbVHJhbnNmb3JtZXJFbmNvZGVyXQogICAgZGVjb2Rlcl9mcm9udGVuZDogVHJhbnNmb3JtZXJGcm9udGVuZAogICAgZGVjb2RlcjogVHJhbnNmb3JtZXJEZWNvZGVyCiAgICBmaW5hbF9wcm9qOiBQcm9qZWN0aW9uCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgZW5jb2RlcjogT3B0aW9uYWxbVHJhbnNmb3JtZXJFbmNvZGVyXSwKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kOiBUcmFuc2Zvcm1lckZyb250ZW5kLAogICAgICAgIGRlY29kZXI6IFRyYW5zZm9ybWVyRGVjb2RlciwKICAgICAgICBmaW5hbF9wcm9qOiBQcm9qZWN0aW9uLAogICAgICAgIHRhcmdldF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbywKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGRlY29kZXIubW9kZWxfZGltLCB0YXJnZXRfdm9jYWJfaW5mbykKCiAgICAgICAgaWYgZW5jb2RlciBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5lbmNvZGVyID0gZW5jb2RlcgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJlbmNvZGVyIiwgTm9uZSkKCiAgICAgICAgc2VsZi5kZWNvZGVyX2Zyb250ZW5kID0gZGVjb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuZGVjb2RlciA9IGRlY29kZXIKCiAgICAgICAgc2VsZi5maW5hbF9wcm9qID0gZmluYWxfcHJvagoKICAgIGRlZiBlbmNvZGUoCiAgICAgICAgc2VsZiwgc2VxczogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXQogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXV06CiAgICAgICAgaWYgc2VsZi5lbmNvZGVyIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBzZXFzLCBwYWRkaW5nX21hc2sKCiAgICAgICAgcmV0dXJuIHNlbGYuZW5jb2RlcihzZXFzLCBwYWRkaW5nX21hc2spICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQoKICAgIGRlZiBkZWNvZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IFRlbnNvciwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgICosCiAgICAgICAgc3RhdGVfYmFnOiBPcHRpb25hbFtJbmNyZW1lbnRhbFN0YXRlQmFnXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBzZWxmLmRlY29kZXJfZnJvbnRlbmQoCiAgICAgICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzaywgc3RhdGVfYmFnPXN0YXRlX2JhZwogICAgICAgICkKCiAgICAgICAgcmV0dXJuIHNlbGYuZGVjb2RlciggICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICBzdGF0ZV9iYWc9c3RhdGVfYmFnLAogICAgICAgICkKCiAgICBkZWYgcHJvamVjdCgKICAgICAgICBzZWxmLCBkZWNvZGVyX291dHB1dDogVGVuc29yLCBkZWNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdCiAgICApIC0+IFNlcXVlbmNlTW9kZWxPdXRwdXQ6CiAgICAgICAgbG9naXRzID0gc2VsZi5maW5hbF9wcm9qKGRlY29kZXJfb3V0cHV0KQoKICAgICAgICByZXR1cm4gU2VxdWVuY2VNb2RlbE91dHB1dChsb2dpdHMsIHNlbGYudGFyZ2V0X3ZvY2FiX2luZm8pCgoKQGZpbmFsCmNsYXNzIFVuaXRZTkFSVDJVTW9kZWwoTW9kdWxlKToKICAgICIiIlJlcHJlc2VudHMgYSBub24tYXV0b3JlZ3Jlc3NpdmUgVW5pdFkgVDJVIG1vZGVsLiIiIgoKICAgIG1vZGVsX2RpbTogaW50CiAgICBlbmNvZGVyOiBPcHRpb25hbFtUcmFuc2Zvcm1lckVuY29kZXJdCiAgICBkZWNvZGVyX2Zyb250ZW5kOiBOQVJEZWNvZGVyRnJvbnRlbmQKICAgIGRlY29kZXI6IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIKICAgIGZpbmFsX3Byb2o6IFByb2plY3Rpb24KICAgIHRhcmdldF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbwogICAgcHJvc29keV9wcm9qOiBPcHRpb25hbFtQcm9qZWN0aW9uXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGVuY29kZXI6IE9wdGlvbmFsW1RyYW5zZm9ybWVyRW5jb2Rlcl0sCiAgICAgICAgZGVjb2Rlcl9mcm9udGVuZDogTkFSRGVjb2RlckZyb250ZW5kLAogICAgICAgIGRlY29kZXI6IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIsCiAgICAgICAgZmluYWxfcHJvajogUHJvamVjdGlvbiwKICAgICAgICB0YXJnZXRfdm9jYWJfaW5mbzogVm9jYWJ1bGFyeUluZm8sCiAgICAgICAgcHJvc29keV9wcm9qOiBPcHRpb25hbFtQcm9qZWN0aW9uXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYubW9kZWxfZGltID0gZGVjb2Rlci5tb2RlbF9kaW0KCiAgICAgICAgaWYgZW5jb2RlciBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgZW5jb2Rlci5tb2RlbF9kaW0gIT0gc2VsZi5tb2RlbF9kaW06CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgIGYiYG1vZGVsX2RpbWAgb2YgYGVuY29kZXJgIGFuZCBgbW9kZWxfZGltYCBvZiBgZGVjb2RlcmAgbXVzdCBiZSBlcXVhbCwgYnV0IGFyZSB7ZW5jb2Rlci5tb2RlbF9kaW19IGFuZCB7c2VsZi5tb2RlbF9kaW19IGluc3RlYWQuIgogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi5lbmNvZGVyID0gZW5jb2RlcgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJlbmNvZGVyIiwgTm9uZSkKCiAgICAgICAgaWYgZGVjb2Rlcl9mcm9udGVuZC5tb2RlbF9kaW0gIT0gc2VsZi5tb2RlbF9kaW06CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICBmImBtb2RlbF9kaW1gIG9mIGBkZWNvZGVyX2Zyb250ZW5kYCBhbmQgYG1vZGVsX2RpbWAgb2YgYGRlY29kZXJgIG11c3QgYmUgZXF1YWwsIGJ1dCBhcmUge2RlY29kZXJfZnJvbnRlbmQubW9kZWxfZGltfSBhbmQge3NlbGYubW9kZWxfZGltfSBpbnN0ZWFkLiIKICAgICAgICAgICAgKQoKICAgICAgICBzZWxmLmRlY29kZXJfZnJvbnRlbmQgPSBkZWNvZGVyX2Zyb250ZW5kCiAgICAgICAgc2VsZi5kZWNvZGVyID0gZGVjb2RlcgoKICAgICAgICBzZWxmLmZpbmFsX3Byb2ogPSBmaW5hbF9wcm9qCgogICAgICAgIHNlbGYudGFyZ2V0X3ZvY2FiX2luZm8gPSB0YXJnZXRfdm9jYWJfaW5mbwoKICAgICAgICBzZWxmLnByb3NvZHlfcHJvaiA9IHByb3NvZHlfcHJvagoKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgdGV4dF9kZWNvZGVyX291dHB1dDogVGVuc29yLAogICAgICAgIHRleHRfZGVjb2Rlcl9wYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICB0ZXh0X3NlcXM6IE9wdGlvbmFsW1RlbnNvcl0sCiAgICAgICAgZHVyYXRpb25fZmFjdG9yOiBmbG9hdCA9IDEuMCwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbU2VxdWVuY2VNb2RlbE91dHB1dCwgT3B0aW9uYWxbUGFkZGluZ01hc2tdLCBUZW5zb3JdOgogICAgICAgIGVuY29kZXJfb3V0cHV0LCBlbmNvZGVyX3BhZGRpbmdfbWFzayA9IHNlbGYuZW5jb2RlKAogICAgICAgICAgICB0ZXh0X2RlY29kZXJfb3V0cHV0LCB0ZXh0X2RlY29kZXJfcGFkZGluZ19tYXNrCiAgICAgICAgKQoKICAgICAgICBpZiBzZWxmLnByb3NvZHlfcHJvaiBpcyBub3QgTm9uZSBhbmQgZmlsbV9jb25kX2VtYiBpcyBub3QgTm9uZToKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQgPSBlbmNvZGVyX291dHB1dCArIHNlbGYucHJvc29keV9wcm9qKGZpbG1fY29uZF9lbWIpCgogICAgICAgIGRlY29kZXJfb3V0cHV0LCBkZWNvZGVyX3BhZGRpbmdfbWFzaywgZHVyYXRpb25zID0gc2VsZi5kZWNvZGUoCiAgICAgICAgICAgIGVuY29kZXJfb3V0cHV0LAogICAgICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgdGV4dF9zZXFzLAogICAgICAgICAgICBkdXJhdGlvbl9mYWN0b3IsCiAgICAgICAgICAgIGZpbG1fY29uZF9lbWIsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gc2VsZi5wcm9qZWN0KGRlY29kZXJfb3V0cHV0KSwgZGVjb2Rlcl9wYWRkaW5nX21hc2ssIGR1cmF0aW9ucwoKICAgIGRlZiBlbmNvZGUoCiAgICAgICAgc2VsZiwKICAgICAgICB0ZXh0X2RlY29kZXJfb3V0cHV0OiBUZW5zb3IsCiAgICAgICAgdGV4dF9kZWNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXV06CiAgICAgICAgaWYgc2VsZi5lbmNvZGVyIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiB0ZXh0X2RlY29kZXJfb3V0cHV0LCB0ZXh0X2RlY29kZXJfcGFkZGluZ19tYXNrCgogICAgICAgIHJldHVybiBzZWxmLmVuY29kZXIodGV4dF9kZWNvZGVyX291dHB1dCwgdGV4dF9kZWNvZGVyX3BhZGRpbmdfbWFzaykgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgogICAgZGVmIGRlY29kZSgKICAgICAgICBzZWxmLAogICAgICAgIGVuY29kZXJfb3V0cHV0OiBUZW5zb3IsCiAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICB0ZXh0X3NlcXM6IE9wdGlvbmFsW1RlbnNvcl0sCiAgICAgICAgZHVyYXRpb25fZmFjdG9yOiBmbG9hdCA9IDEuMCwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza10sIFRlbnNvcl06CiAgICAgICAgIyBlbmNvZGVyX291dHB1dDogKE4sIFMsIE0pCiAgICAgICAgIyB0ZXh0X3NlcXM6IChOLCBTKQogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzaywgZHVyYXRpb25zID0gc2VsZi5kZWNvZGVyX2Zyb250ZW5kKAogICAgICAgICAgICBlbmNvZGVyX291dHB1dCwKICAgICAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgIHRleHRfc2VxcywKICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yLAogICAgICAgICAgICBmaWxtX2NvbmRfZW1iLAogICAgICAgICkKCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5kZWNvZGVyKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIGZpbG1fY29uZF9lbWI9ZmlsbV9jb25kX2VtYgogICAgICAgICkKCiAgICAgICAgcmV0dXJuIHNlcXMsIHBhZGRpbmdfbWFzaywgZHVyYXRpb25zICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQoKICAgIGRlZiBwcm9qZWN0KHNlbGYsIGRlY29kZXJfb3V0cHV0OiBUZW5zb3IpIC0+IFNlcXVlbmNlTW9kZWxPdXRwdXQ6CiAgICAgICAgbG9naXRzID0gc2VsZi5maW5hbF9wcm9qKGRlY29kZXJfb3V0cHV0KQoKICAgICAgICByZXR1cm4gU2VxdWVuY2VNb2RlbE91dHB1dChsb2dpdHMsIHNlbGYudGFyZ2V0X3ZvY2FiX2luZm8pCgoKQGRhdGFjbGFzcwpjbGFzcyBVbml0WU91dHB1dDoKICAgICIiIkhvbGRzIHRoZSBvdXRwdXQgb2YgYSBVbml0WSBtb2RlbC4iIiIKCiAgICBzMnRfb3V0cHV0OiBTZXF1ZW5jZU1vZGVsT3V0cHV0CiAgICAiIiJUaGUgUzJUIG91dHB1dCBvZiB0aGUgbXVsdGl0YXNrIG1vZGVsLiIiIgoKICAgIG10X291dHB1dDogU2VxdWVuY2VNb2RlbE91dHB1dAogICAgIiIiVGhlIE1UIG91dHB1dCBvZiB0aGUgbXVsdGl0YXNrIG1vZGVsLiIiIgoKICAgIHQydV9vdXRwdXQ6IFNlcXVlbmNlTW9kZWxPdXRwdXQKICAgICIiIlRoZSBvdXRwdXQgb2YgdGhlIFQyVSBtb2RlbC4iIiIKCiAgICBkZWYgY29tcHV0ZV9sb3NzKAogICAgICAgIHNlbGYsIHRhcmdldHM6IFRlbnNvciwgaWdub3JlX3ByZWZpeF9zaXplOiBpbnQgPSAwLCBsYWJlbF9zbW9vdGhpbmc6IGZsb2F0ID0gMC4wCiAgICApIC0+IE5vbmU6CiAgICAgICAgIyBUT0RPOiBJbXBsZW1lbnQgUi1Ecm9wIGJhc2VkIGxvc3MKICAgICAgICBwYXNzCg=='),
    ('seamless/src/seamless_communication/models/unity/film.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBMaW5lYXIKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IE1vZHVsZSwgUGFyYW1ldGVyCgoKY2xhc3MgRmlMTShNb2R1bGUpOgogICAgIiIiCiAgICBBIEZlYXR1cmUtd2lzZSBMaW5lYXIgTW9kdWxhdGlvbiBMYXllciBmcm9tCiAgICAnRmlMTTogVmlzdWFsIFJlYXNvbmluZyB3aXRoIGEgR2VuZXJhbCBDb25kaXRpb25pbmcgTGF5ZXInCiAgICAiIiIKCiAgICBwcm9qOiBMaW5lYXIKICAgIHNfZ2FtbWE6IFBhcmFtZXRlcgogICAgc19iZXRhOiBQYXJhbWV0ZXIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25kX2RpbTogaW50LAogICAgICAgIGVtYmVkX2RpbTogaW50LAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBzZWxmLnByb2ogPSBMaW5lYXIoCiAgICAgICAgICAgIGNvbmRfZGltLCAyICogZW1iZWRfZGltLCBiaWFzPVRydWUsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgKQoKICAgICAgICBzZWxmLnNfZ2FtbWEgPSBQYXJhbWV0ZXIoCiAgICAgICAgICAgIHRvcmNoLm9uZXMoCiAgICAgICAgICAgICAgICAxLAogICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICApLAogICAgICAgICAgICByZXF1aXJlc19ncmFkPVRydWUsCiAgICAgICAgKQoKICAgICAgICBzZWxmLnNfYmV0YSA9IFBhcmFtZXRlcigKICAgICAgICAgICAgdG9yY2gub25lcygKICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHJlcXVpcmVzX2dyYWQ9VHJ1ZSwKICAgICAgICApCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yLCBjb25kX2VtYnM6IFRlbnNvcikgLT4gVGVuc29yOgogICAgICAgICIiIgogICAgICAgIHggLS0gW0IsIFQsIEhdCiAgICAgICAgY29uZF9lbWIgLS0gW0IsIDEsIENdCiAgICAgICAgIiIiCiAgICAgICAgIyBnZXQgdHJhaW5hYmxlIGdhbW1hLCBiZXRhCiAgICAgICAgZ2FtbWFzLCBiZXRhcyA9IHNlbGYucHJvaihjb25kX2VtYnMpLmNodW5rKDIsIGRpbT0tMSkgICMgQiB4IDEgeCBICgogICAgICAgICMgYXBwbHkgZmlsbQogICAgICAgIGdhbW1hcyA9IHNlbGYuc19nYW1tYSAqIGdhbW1hcy5leHBhbmRfYXMoeCkKICAgICAgICBiZXRhcyA9IHNlbGYuc19iZXRhICogYmV0YXMuZXhwYW5kX2FzKHgpCgogICAgICAgIHJldHVybiAoZ2FtbWFzICsgMS4wKSAqIHggKyBiZXRhcyAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0K'),
    ('seamless/src/seamless_communication/models/unity/t2u_builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gdHlwaW5nIGltcG9ydCBMaXRlcmFsLCBPcHRpb25hbCwgVW5pb24KCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcgpmcm9tIGZhaXJzZXEyLmFzc2V0cy5jYXJkIGltcG9ydCBBc3NldENhcmQKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBWb2NhYnVsYXJ5SW5mbwpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiLmxvYWRlciBpbXBvcnQgTmxsYlRva2VuaXplckxvYWRlcgpmcm9tIGZhaXJzZXEyLm1vZGVscy50cmFuc2Zvcm1lciBpbXBvcnQgKAogICAgVHJhbnNmb3JtZXJFbWJlZGRpbmdGcm9udGVuZCwKICAgIFRyYW5zZm9ybWVyRnJvbnRlbmQsCikKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMuYXJjaF9yZWdpc3RyeSBpbXBvcnQgQXJjaGl0ZWN0dXJlUmVnaXN0cnkKZnJvbSBmYWlyc2VxMi5ubi5lbWJlZGRpbmcgaW1wb3J0IEVtYmVkZGluZywgU3RhbmRhcmRFbWJlZGRpbmcsIGluaXRfc2NhbGVkX2VtYmVkZGluZwpmcm9tIGZhaXJzZXEyLm5uLnBvc2l0aW9uX2VuY29kZXIgaW1wb3J0IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBMaW5lYXIsIFByb2plY3Rpb24sIFRpZWRQcm9qZWN0aW9uCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIEZlZWRGb3J3YXJkTmV0d29yaywKICAgIE11bHRpaGVhZEF0dGVudGlvbiwKICAgIFN0YW5kYXJkRmVlZEZvcndhcmROZXR3b3JrLAogICAgU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24sCiAgICBTdGFuZGFyZFRyYW5zZm9ybWVyRGVjb2RlciwKICAgIFN0YW5kYXJkVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIsCiAgICBTdGFuZGFyZFRyYW5zZm9ybWVyRW5jb2RlciwKICAgIFN0YW5kYXJkVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIsCiAgICBUcmFuc2Zvcm1lckRlY29kZXIsCiAgICBUcmFuc2Zvcm1lckRlY29kZXJMYXllciwKICAgIFRyYW5zZm9ybWVyRW5jb2RlciwKICAgIFRyYW5zZm9ybWVyRW5jb2RlckxheWVyLAogICAgVHJhbnNmb3JtZXJOb3JtT3JkZXIsCiAgICBjcmVhdGVfZGVmYXVsdF9zZHBhLAopCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2gubm4gaW1wb3J0IEdFTFUsIFJlTFUKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuY2hhcl90b2tlbml6ZXIgaW1wb3J0IGxvYWRfdW5pdHlfY2hhcl90b2tlbml6ZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5mZnRfZGVjb2RlciBpbXBvcnQgRmVlZEZvcndhcmRUcmFuc2Zvcm1lcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmZmdF9kZWNvZGVyX2xheWVyIGltcG9ydCAoCiAgICBDb252MWRCbG9jaywKICAgIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXJMYXllciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5Lmxlbmd0aF9yZWd1bGF0b3IgaW1wb3J0ICgKICAgIFZhcmlhbmNlQWRhcHRvciwKICAgIFZhcmlhbmNlUHJlZGljdG9yLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0IFVuaXRZTkFSVDJVTW9kZWwsIFVuaXRZVDJVTW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5uYXJfZGVjb2Rlcl9mcm9udGVuZCBpbXBvcnQgTkFSRGVjb2RlckZyb250ZW5kCgoKQGRhdGFjbGFzcwpjbGFzcyBWYXJpYW5jZVByZWRpY3RvckNvbmZpZzoKICAgIHZhcl9wcmVkX2hpZGRlbl9kaW06IGludAogICAgdmFyX3ByZWRfa2VybmVsX3NpemU6IGludAogICAgdmFyX3ByZWRfZHJvcG91dDogZmxvYXQKICAgIHVzZV9maWxtOiBib29sCiAgICBmaWxtX2NvbmRfZGltOiBpbnQKCgpAZGF0YWNsYXNzCmNsYXNzIE5BUkRlY29kZXJGcm9udGVuZENvbmZpZzoKICAgIHN1YndvcmRfdG9fdW5pdF91cHNhbXBsaW5nX3R5cGU6IExpdGVyYWxbImdhdXNzaWFuIiwgImhhcmQiXQogICAgZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZzogVmFyaWFuY2VQcmVkaWN0b3JDb25maWcKICAgIHBpdGNoX3ByZWRpY3Rvcl9jb25maWc6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yQ29uZmlnXQogICAgZW5lcmd5X3ByZWRpY3Rvcl9jb25maWc6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yQ29uZmlnXQoKCkBkYXRhY2xhc3MKY2xhc3MgTkFSRGVjb2RlckNvbmZpZzoKICAgIG1vZGVsX25hbWVfb3JfY2FyZDogVW5pb25bc3RyLCBBc3NldENhcmRdCiAgICBjaGFyX3ZvY2FidWxhcnlfc2l6ZTogaW50CiAgICBjaGFyX21heF9zZXFfbGVuOiBpbnQKICAgIGNvbnYxZF9rZXJuZWxfc2l6ZTogaW50CiAgICBjb252MWRfaW5uZXJfZGltOiBpbnQKICAgIGNvbnYxZF9kcm9wb3V0X3A6IGZsb2F0CiAgICB1c2VfZmlsbTogYm9vbAogICAgZmlsbV9jb25kX2RpbTogaW50CgoKQGRhdGFjbGFzcwpjbGFzcyBVbml0WVQyVUNvbmZpZzoKICAgICIiIkhvbGRzIHRoZSBjb25maWd1cmF0aW9uIG9mIGEgVW5pdFkgVDJVIG1vZGVsIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIxMi4wODA1NWAiIiIKCiAgICBtb2RlbF9kaW06IGludAogICAgIiIiVGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBtb2RlbC4iIiIKCiAgICB1bml0X21heF9zZXFfbGVuOiBpbnQKICAgICIiIlRoZSBleHBlY3RlZCBtYXhpbXVtIHVuaXQgc2VxdWVuY2UgbGVuZ3RoLiIiIgoKICAgIHRhcmdldF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbwogICAgIiIiVGhlIHRhcmdldCB2b2NhYnVsYXJ5IGluZm9ybWF0aW9uLiIiIgoKICAgIG51bV9lbmNvZGVyX2xheWVyczogaW50CiAgICAiIiJUaGUgbnVtYmVyIG9mIFRyYW5zZm9ybWVyIGVuY29kZXIgbGF5ZXJzLiIiIgoKICAgIG51bV9kZWNvZGVyX2xheWVyczogaW50CiAgICAiIiJUaGUgbnVtYmVyIG9mIFRyYW5zZm9ybWVyIGRlY29kZXIgbGF5ZXJzLiIiIgoKICAgIG5hcl9kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZzogT3B0aW9uYWxbTkFSRGVjb2RlckZyb250ZW5kQ29uZmlnXQogICAgIiIiTm9uLWF1dG9yZWdyZXNzaXZlIGRlY29kZXIgZnJvbnQtZW5kIGNvbmZpZy4iIiIKCiAgICBuYXJfZGVjb2Rlcl9jb25maWc6IE9wdGlvbmFsW05BUkRlY29kZXJDb25maWddCiAgICAiIiJOb24tYXV0b3JlZ3Jlc3NpdmUgZGVjb2RlciBjb25maWcuIiIiCgogICAgbnVtX2VuY29kZXJfYXR0bl9oZWFkczogaW50CiAgICAiIiJUaGUgbnVtYmVyIG9mIGF0dGVudGlvbiBoZWFkcyBpbiBUcmFuc2Zvcm1lciBlbmNvZGVyIGxheWVycy4iIiIKCiAgICBudW1fZGVjb2Rlcl9hdHRuX2hlYWRzOiBpbnQKICAgICIiIlRoZSBudW1iZXIgb2YgYXR0ZW50aW9uIGhlYWRzIGluIFRyYW5zZm9ybWVyIGRlY29kZXIgbGF5ZXJzLiIiIgoKICAgIGZmbl9pbm5lcl9kaW06IGludAogICAgIiIiVGhlIGlubmVyIGRpbWVuc2lvbmFsaXR5IG9mIFRyYW5zZm9ybWVyIGZlZWQtZm9yd2FyZCBuZXR3b3Jrcy4iIiIKCiAgICBkcm9wb3V0X3A6IGZsb2F0CiAgICAiIiJUaGUgZHJvcG91dCBwcm9iYWJpbGl0eSBpbiBUcmFuc2Zvcm1lciBsYXllcnMuIiIiCgogICAgdXNlX2dlbHU6IGJvb2wKICAgICIiIklmIGBgVHJ1ZWBgLCB1c2VzIEdFTFUgYWN0aXZhdGlvbiBmdW5jdGlvbiBpbiBmZWVkLWZvcndhcmQgbmV0d29ya3MuIiIiCgogICAgY2hhcl9wYWRfaWR4OiBpbnQKICAgICIiIlRoZSBpbmRleCBvZiB0aGUgcGFkIHN5bWJvbCBpbiB0aGUgY2hhciB2b2NhYnVsYXJ5LiIiIgoKICAgIHVzZV9wcm9zb2R5X3Byb2o6IGJvb2wKICAgICIiIklmIGBgVHJ1ZWBgLCB1c2VzIGEgcHJvc29keSBwcm9qZWN0aW9uIGxheWVyLiIiIgoKICAgIHByb3NvZHlfZW5jb2Rlcl9kaW06IGludAogICAgIiIiVGhlIGRpbWVuc2lvbmFsaXR5IG9mIHByb3NvZHkgZW5jb2RlciAoZS5nLiBFQ0FQQV9URE5OKSBvdXRwdXQiIiIKCgp1bml0eV90MnVfYXJjaHMgPSBBcmNoaXRlY3R1cmVSZWdpc3RyeVtVbml0WVQyVUNvbmZpZ10oInVuaXR5X3QydSIpCgoKdW5pdHlfdDJ1X2FyY2ggPSB1bml0eV90MnVfYXJjaHMuZGVjb3JhdG9yCgoKQHVuaXR5X3QydV9hcmNoKCJiYXNlIikKZGVmIF9iYXNlX3QydSgpIC0+IFVuaXRZVDJVQ29uZmlnOgogICAgcmV0dXJuIFVuaXRZVDJVQ29uZmlnKAogICAgICAgIG1vZGVsX2RpbT0xMDI0LAogICAgICAgIHVuaXRfbWF4X3NlcV9sZW49MjA0OCwKICAgICAgICB0YXJnZXRfdm9jYWJfaW5mbz1Wb2NhYnVsYXJ5SW5mbygKICAgICAgICAgICAgc2l6ZT0xMDA4MiwgdW5rX2lkeD0zLCBib3NfaWR4PTAsIGVvc19pZHg9MiwgcGFkX2lkeD0xCiAgICAgICAgKSwKICAgICAgICBudW1fZW5jb2Rlcl9sYXllcnM9NiwKICAgICAgICBudW1fZGVjb2Rlcl9sYXllcnM9NiwKICAgICAgICBuYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWc9Tm9uZSwKICAgICAgICBuYXJfZGVjb2Rlcl9jb25maWc9Tm9uZSwKICAgICAgICBudW1fZW5jb2Rlcl9hdHRuX2hlYWRzPTE2LAogICAgICAgIG51bV9kZWNvZGVyX2F0dG5faGVhZHM9MTYsCiAgICAgICAgZmZuX2lubmVyX2RpbT0xMDI0ICogOCwKICAgICAgICBkcm9wb3V0X3A9MC4xLAogICAgICAgIHVzZV9nZWx1PUZhbHNlLAogICAgICAgIGNoYXJfcGFkX2lkeD0xLAogICAgICAgIHVzZV9wcm9zb2R5X3Byb2o9RmFsc2UsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2RpbT0wLAogICAgKQoKCkB1bml0eV90MnVfYXJjaCgibWVkaXVtIikKZGVmIF9tZWRpdW1fdDJ1KCkgLT4gVW5pdFlUMlVDb25maWc6CiAgICByZXR1cm4gVW5pdFlUMlVDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgdW5pdF9tYXhfc2VxX2xlbj0yMDQ4LAogICAgICAgIHRhcmdldF92b2NhYl9pbmZvPVZvY2FidWxhcnlJbmZvKAogICAgICAgICAgICBzaXplPTEwMDgyLCB1bmtfaWR4PTMsIGJvc19pZHg9MCwgZW9zX2lkeD0yLCBwYWRfaWR4PTEKICAgICAgICApLAogICAgICAgIG51bV9lbmNvZGVyX2xheWVycz00LAogICAgICAgIG51bV9kZWNvZGVyX2xheWVycz00LAogICAgICAgIG5hcl9kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZz1Ob25lLAogICAgICAgIG5hcl9kZWNvZGVyX2NvbmZpZz1Ob25lLAogICAgICAgIG51bV9lbmNvZGVyX2F0dG5faGVhZHM9MTYsCiAgICAgICAgbnVtX2RlY29kZXJfYXR0bl9oZWFkcz0xNiwKICAgICAgICBmZm5faW5uZXJfZGltPTEwMjQgKiA4LAogICAgICAgIGRyb3BvdXRfcD0wLjEsCiAgICAgICAgdXNlX2dlbHU9RmFsc2UsCiAgICAgICAgY2hhcl9wYWRfaWR4PTEsCiAgICAgICAgdXNlX3Byb3NvZHlfcHJvaj1GYWxzZSwKICAgICAgICBwcm9zb2R5X2VuY29kZXJfZGltPTAsCiAgICApCgoKQHVuaXR5X3QydV9hcmNoKCJiYXNlX25hciIpCmRlZiBfYmFzZV9uYXIoKSAtPiBVbml0WVQyVUNvbmZpZzoKICAgIGR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWcgPSBWYXJpYW5jZVByZWRpY3RvckNvbmZpZygKICAgICAgICB2YXJfcHJlZF9oaWRkZW5fZGltPTI1NiwKICAgICAgICB2YXJfcHJlZF9rZXJuZWxfc2l6ZT0zLAogICAgICAgIHZhcl9wcmVkX2Ryb3BvdXQ9MC41LAogICAgICAgIHVzZV9maWxtPUZhbHNlLAogICAgICAgIGZpbG1fY29uZF9kaW09MCwKICAgICkKCiAgICBuYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWcgPSBOQVJEZWNvZGVyRnJvbnRlbmRDb25maWcoCiAgICAgICAgc3Vid29yZF90b191bml0X3Vwc2FtcGxpbmdfdHlwZT0iaGFyZCIsCiAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZz1kdXJhdGlvbl9wcmVkaWN0b3JfY29uZmlnLAogICAgICAgIHBpdGNoX3ByZWRpY3Rvcl9jb25maWc9Tm9uZSwKICAgICAgICBlbmVyZ3lfcHJlZGljdG9yX2NvbmZpZz1Ob25lLAogICAgKQoKICAgIG5hcl9kZWNvZGVyX2NvbmZpZyA9IE5BUkRlY29kZXJDb25maWcoCiAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkPSJzZWFtbGVzc000VF92Ml9sYXJnZSIsCiAgICAgICAgY2hhcl92b2NhYnVsYXJ5X3NpemU9MTA5NDMsCiAgICAgICAgY2hhcl9tYXhfc2VxX2xlbj00MDk2LAogICAgICAgIGNvbnYxZF9rZXJuZWxfc2l6ZT03LAogICAgICAgIGNvbnYxZF9pbm5lcl9kaW09MTAyNCwKICAgICAgICBjb252MWRfZHJvcG91dF9wPTAuMSwKICAgICAgICB1c2VfZmlsbT1GYWxzZSwKICAgICAgICBmaWxtX2NvbmRfZGltPTAsCiAgICApCgogICAgcmV0dXJuIFVuaXRZVDJVQ29uZmlnKAogICAgICAgIG1vZGVsX2RpbT0xMDI0LAogICAgICAgIHVuaXRfbWF4X3NlcV9sZW49NDA5NiwKICAgICAgICB0YXJnZXRfdm9jYWJfaW5mbz1Wb2NhYnVsYXJ5SW5mbygKICAgICAgICAgICAgc2l6ZT0xMDA4MiwgdW5rX2lkeD0zLCBib3NfaWR4PTAsIGVvc19pZHg9MiwgcGFkX2lkeD0xCiAgICAgICAgKSwKICAgICAgICBudW1fZW5jb2Rlcl9sYXllcnM9NiwKICAgICAgICBudW1fZGVjb2Rlcl9sYXllcnM9NiwKICAgICAgICBuYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWc9bmFyX2RlY29kZXJfZnJvbnRlbmRfY29uZmlnLAogICAgICAgIG5hcl9kZWNvZGVyX2NvbmZpZz1uYXJfZGVjb2Rlcl9jb25maWcsCiAgICAgICAgbnVtX2VuY29kZXJfYXR0bl9oZWFkcz0xNiwKICAgICAgICBudW1fZGVjb2Rlcl9hdHRuX2hlYWRzPTE2LAogICAgICAgIGZmbl9pbm5lcl9kaW09MTAyNCAqIDgsCiAgICAgICAgZHJvcG91dF9wPTAuMCwKICAgICAgICB1c2VfZ2VsdT1GYWxzZSwKICAgICAgICBjaGFyX3BhZF9pZHg9MSwKICAgICAgICB1c2VfcHJvc29keV9wcm9qPUZhbHNlLAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9kaW09MCwKICAgICkKCgpAdW5pdHlfdDJ1X2FyY2goImV4cHJlc3Npdml0eV9uYXIiKQpkZWYgX2V4cHJlc3Npdml0eV9uYXIoKSAtPiBVbml0WVQyVUNvbmZpZzoKICAgIGR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWcgPSBWYXJpYW5jZVByZWRpY3RvckNvbmZpZygKICAgICAgICB2YXJfcHJlZF9oaWRkZW5fZGltPTI1NiwKICAgICAgICB2YXJfcHJlZF9rZXJuZWxfc2l6ZT0zLAogICAgICAgIHZhcl9wcmVkX2Ryb3BvdXQ9MC41LAogICAgICAgIHVzZV9maWxtPVRydWUsCiAgICAgICAgZmlsbV9jb25kX2RpbT01MTIsCiAgICApCgogICAgbmFyX2RlY29kZXJfZnJvbnRlbmRfY29uZmlnID0gTkFSRGVjb2RlckZyb250ZW5kQ29uZmlnKAogICAgICAgIHN1YndvcmRfdG9fdW5pdF91cHNhbXBsaW5nX3R5cGU9ImhhcmQiLAogICAgICAgIGR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWc9ZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZywKICAgICAgICBwaXRjaF9wcmVkaWN0b3JfY29uZmlnPU5vbmUsCiAgICAgICAgZW5lcmd5X3ByZWRpY3Rvcl9jb25maWc9Tm9uZSwKICAgICkKCiAgICBuYXJfZGVjb2Rlcl9jb25maWcgPSBOQVJEZWNvZGVyQ29uZmlnKAogICAgICAgIG1vZGVsX25hbWVfb3JfY2FyZD0ic2VhbWxlc3NfZXhwcmVzc2l2aXR5IiwKICAgICAgICBjaGFyX3ZvY2FidWxhcnlfc2l6ZT0xMDkwNCwKICAgICAgICBjaGFyX21heF9zZXFfbGVuPTEwMDAwLAogICAgICAgIGNvbnYxZF9rZXJuZWxfc2l6ZT03LAogICAgICAgIGNvbnYxZF9pbm5lcl9kaW09MTAyNCwKICAgICAgICBjb252MWRfZHJvcG91dF9wPTAuMSwKICAgICAgICB1c2VfZmlsbT1UcnVlLAogICAgICAgIGZpbG1fY29uZF9kaW09NTEyLAogICAgKQoKICAgIHJldHVybiBVbml0WVQyVUNvbmZpZygKICAgICAgICBtb2RlbF9kaW09MTAyNCwKICAgICAgICB1bml0X21heF9zZXFfbGVuPTEwMDAwLAogICAgICAgIHRhcmdldF92b2NhYl9pbmZvPVZvY2FidWxhcnlJbmZvKAogICAgICAgICAgICBzaXplPTEwMDA1LCB1bmtfaWR4PTMsIGJvc19pZHg9MCwgZW9zX2lkeD0yLCBwYWRfaWR4PTEKICAgICAgICApLAogICAgICAgIG51bV9lbmNvZGVyX2xheWVycz00LAogICAgICAgIG51bV9kZWNvZGVyX2xheWVycz00LAogICAgICAgIG5hcl9kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZz1uYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWcsCiAgICAgICAgbmFyX2RlY29kZXJfY29uZmlnPW5hcl9kZWNvZGVyX2NvbmZpZywKICAgICAgICBudW1fZW5jb2Rlcl9hdHRuX2hlYWRzPTE2LAogICAgICAgIG51bV9kZWNvZGVyX2F0dG5faGVhZHM9MTYsCiAgICAgICAgZmZuX2lubmVyX2RpbT0xMDI0ICogOCwKICAgICAgICBkcm9wb3V0X3A9MC4wLAogICAgICAgIHVzZV9nZWx1PVRydWUsCiAgICAgICAgY2hhcl9wYWRfaWR4PTEsCiAgICAgICAgdXNlX3Byb3NvZHlfcHJvaj1UcnVlLAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9kaW09NTEyLAogICAgKQoKCmNsYXNzIFVuaXRZVDJVQnVpbGRlcjoKICAgICIiIkJ1aWxkcyBtb2R1bGVzIG9mIGFuIGF1dG9yZWdyZXNzaXZlIFVuaXRZIFQyVSBtb2RlbC4KCiAgICBUbyB0d2VhayB0aGUgYXJjaGl0ZWN0dXJlLCB5b3UgY2FuIGRlcml2ZSBmcm9tIHRoaXMgY2xhc3MgYW5kIG92ZXJyaWRlIHRoZQogICAgY29ycmVzcG9uZGluZyBtZXRob2RzLgogICAgIiIiCgogICAgY29uZmlnOiBVbml0WVQyVUNvbmZpZwogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdCiAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY29uZmlnOiBVbml0WVQyVUNvbmZpZywKICAgICAgICAqLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgICAgIDpwYXJhbSBkZXZpY2U6CiAgICAgICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgICAgIDpwYXJhbSBkdHlwZToKICAgICAgICAgICAgVGhlIGRhdGEgdHlwZSBvZiBtb2R1bGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycy4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmNvbmZpZyA9IGNvbmZpZwoKICAgICAgICBzZWxmLmRldmljZSwgc2VsZi5kdHlwZSA9IGRldmljZSwgZHR5cGUKCiAgICBkZWYgYnVpbGRfbW9kZWwoc2VsZikgLT4gVW5pdFlUMlVNb2RlbDoKICAgICAgICAiIiJCdWlsZCBhbiBhdXRvcmVncmVzc2l2ZSBVbml0WVQyVSBtb2RlbC4iIiIKCiAgICAgICAgZW1iZWRfdW5pdCA9IHNlbGYuYnVpbGRfdW5pdF9lbWJlZGRpbmcoKQoKICAgICAgICBlbmNvZGVyID0gc2VsZi5idWlsZF9lbmNvZGVyKCkKCiAgICAgICAgZGVjb2RlciA9IHNlbGYuYnVpbGRfZGVjb2RlcigpCgogICAgICAgIGZpbmFsX3Byb2ogPSBUaWVkUHJvamVjdGlvbihlbWJlZF91bml0LndlaWdodCwgYmlhcz1Ob25lKQoKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kID0gc2VsZi5idWlsZF9kZWNvZGVyX2Zyb250ZW5kKGVtYmVkX3VuaXQpCgogICAgICAgIHJldHVybiBVbml0WVQyVU1vZGVsKAogICAgICAgICAgICBlbmNvZGVyLAogICAgICAgICAgICBkZWNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICBkZWNvZGVyLAogICAgICAgICAgICBmaW5hbF9wcm9qLAogICAgICAgICAgICBzZWxmLmNvbmZpZy50YXJnZXRfdm9jYWJfaW5mbywKICAgICAgICApCgogICAgZGVmIGJ1aWxkX3VuaXRfZW1iZWRkaW5nKHNlbGYpIC0+IFN0YW5kYXJkRW1iZWRkaW5nOgogICAgICAgICIiIkJ1aWxkIGEgdW5pdCBlbWJlZGRpbmcgdGFibGUuIiIiCgogICAgICAgIHJldHVybiBTdGFuZGFyZEVtYmVkZGluZygKICAgICAgICAgICAgbnVtX2VtYmVkZGluZ3M9c2VsZi5jb25maWcudGFyZ2V0X3ZvY2FiX2luZm8uc2l6ZSwKICAgICAgICAgICAgZW1iZWRkaW5nX2RpbT1zZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHBhZF9pZHg9c2VsZi5jb25maWcudGFyZ2V0X3ZvY2FiX2luZm8ucGFkX2lkeCwKICAgICAgICAgICAgaW5pdF9mbj1pbml0X3NjYWxlZF9lbWJlZGRpbmcsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2VuY29kZXIoc2VsZikgLT4gT3B0aW9uYWxbVHJhbnNmb3JtZXJFbmNvZGVyXToKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGVuY29kZXIuIiIiCgogICAgICAgIG51bV9sYXllcnMgPSBzZWxmLmNvbmZpZy5udW1fZW5jb2Rlcl9sYXllcnMKICAgICAgICBpZiBudW1fbGF5ZXJzID09IDA6CiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgICAgIGxheWVycyA9IFtzZWxmLmJ1aWxkX2VuY29kZXJfbGF5ZXIoKSBmb3IgXyBpbiByYW5nZShudW1fbGF5ZXJzKV0KCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkVHJhbnNmb3JtZXJFbmNvZGVyKAogICAgICAgICAgICBsYXllcnMsCiAgICAgICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9lbmNvZGVyX2xheWVyKHNlbGYpIC0+IFRyYW5zZm9ybWVyRW5jb2RlckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgZW5jb2RlciBsYXllci4iIiIKCiAgICAgICAgc2VsZl9hdHRuID0gc2VsZi5idWlsZF9hdHRlbnRpb24oc2VsZi5jb25maWcubnVtX2VuY29kZXJfYXR0bl9oZWFkcykKCiAgICAgICAgZmZuID0gc2VsZi5idWlsZF9mZm4oKQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRUcmFuc2Zvcm1lckVuY29kZXJMYXllcigKICAgICAgICAgICAgc2VsZl9hdHRuLAogICAgICAgICAgICBmZm4sCiAgICAgICAgICAgIGRyb3BvdXRfcD1zZWxmLmNvbmZpZy5kcm9wb3V0X3AsCiAgICAgICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9kZWNvZGVyX2Zyb250ZW5kKHNlbGYsIGVtYmVkX3VuaXQ6IEVtYmVkZGluZykgLT4gVHJhbnNmb3JtZXJGcm9udGVuZDoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGRlY29kZXIgZnJvbnQtZW5kLiIiIgoKICAgICAgICBwb3NfZW5jb2RlciA9IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcudW5pdF9tYXhfc2VxX2xlbiwKICAgICAgICAgICAgX2xlZ2FjeV9wYWRfaWR4PXNlbGYuY29uZmlnLnRhcmdldF92b2NhYl9pbmZvLnBhZF9pZHgsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICApCiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybWVyRW1iZWRkaW5nRnJvbnRlbmQoCiAgICAgICAgICAgIGVtYmVkX3VuaXQsCiAgICAgICAgICAgIHBvc19lbmNvZGVyLAogICAgICAgICAgICBkcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9kZWNvZGVyKHNlbGYpIC0+IFRyYW5zZm9ybWVyRGVjb2RlcjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGRlY29kZXIuIiIiCgogICAgICAgIG51bV9sYXllcnMgPSBzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9sYXllcnMKCiAgICAgICAgbGF5ZXJzID0gW3NlbGYuYnVpbGRfZGVjb2Rlcl9sYXllcigpIGZvciBfIGluIHJhbmdlKG51bV9sYXllcnMpXQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRUcmFuc2Zvcm1lckRlY29kZXIoCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QUkUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2RlY29kZXJfbGF5ZXIoc2VsZikgLT4gVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXI6CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBkZWNvZGVyIGxheWVyLiIiIgoKICAgICAgICBzZWxmX2F0dG4gPSBzZWxmLmJ1aWxkX2F0dGVudGlvbihzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9hdHRuX2hlYWRzKQoKICAgICAgICBlbmNvZGVyX2RlY29kZXJfYXR0biA9IHNlbGYuYnVpbGRfYXR0ZW50aW9uKHNlbGYuY29uZmlnLm51bV9kZWNvZGVyX2F0dG5faGVhZHMpCgogICAgICAgIGZmbiA9IHNlbGYuYnVpbGRfZmZuKCkKCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIoCiAgICAgICAgICAgIHNlbGZfYXR0biwKICAgICAgICAgICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG4sCiAgICAgICAgICAgIGZmbiwKICAgICAgICAgICAgZHJvcG91dF9wPXNlbGYuY29uZmlnLmRyb3BvdXRfcCwKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QUkUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2F0dGVudGlvbihzZWxmLCBudW1faGVhZHM6IGludCkgLT4gTXVsdGloZWFkQXR0ZW50aW9uOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgbXVsdGktaGVhZCBhdHRlbnRpb24gbGF5ZXIuIiIiCgogICAgICAgIHNkcGEgPSBjcmVhdGVfZGVmYXVsdF9zZHBhKGF0dG5fZHJvcG91dF9wPXNlbGYuY29uZmlnLmRyb3BvdXRfcCkKCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkTXVsdGloZWFkQXR0ZW50aW9uKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIG51bV9oZWFkcywKICAgICAgICAgICAgc2RwYT1zZHBhLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9mZm4oc2VsZikgLT4gRmVlZEZvcndhcmROZXR3b3JrOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgZmVlZC1mb3J3YXJkIG5ldHdvcmsuIiIiCgogICAgICAgIHJldHVybiBTdGFuZGFyZEZlZWRGb3J3YXJkTmV0d29yaygKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5mZm5faW5uZXJfZGltLAogICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKCmNsYXNzIFVuaXRZTkFSVDJVQnVpbGRlcjoKICAgICIiIkJ1aWxkcyBtb2R1bGVzIG9mIGFuIE5BUiBVbml0WSBUMlUgbW9kZWwuCgogICAgVG8gdHdlYWsgdGhlIGFyY2hpdGVjdHVyZSwgeW91IGNhbiBkZXJpdmUgZnJvbSB0aGlzIGNsYXNzIGFuZCBvdmVycmlkZSB0aGUKICAgIGNvcnJlc3BvbmRpbmcgbWV0aG9kcy4KICAgICIiIgoKICAgIGNvbmZpZzogVW5pdFlUMlVDb25maWcKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXQogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvbmZpZzogVW5pdFlUMlVDb25maWcsCiAgICAgICAgKiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgICAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgICAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5jb25maWcgPSBjb25maWcKCiAgICAgICAgc2VsZi5kZXZpY2UsIHNlbGYuZHR5cGUgPSBkZXZpY2UsIGR0eXBlCgogICAgZGVmIGJ1aWxkX21vZGVsKHNlbGYpIC0+IFVuaXRZTkFSVDJVTW9kZWw6CiAgICAgICAgIiIiQnVpbGQgYSBub24tYXV0b3JlZ3Jlc3NpdmUgVW5pdFkgVDJVIG1vZGVsLiIiIgoKICAgICAgICBlbWJlZF91bml0ID0gc2VsZi5idWlsZF91bml0X2VtYmVkZGluZygpCgogICAgICAgIGVuY29kZXIgPSBzZWxmLmJ1aWxkX2VuY29kZXIoKQoKICAgICAgICBkZWNvZGVyID0gc2VsZi5idWlsZF9kZWNvZGVyKCkKCiAgICAgICAgZmluYWxfcHJvaiA9IFRpZWRQcm9qZWN0aW9uKGVtYmVkX3VuaXQud2VpZ2h0LCBiaWFzPU5vbmUpCgogICAgICAgIGRlY29kZXJfZnJvbnRlbmQgPSBzZWxmLmJ1aWxkX2RlY29kZXJfZnJvbnRlbmQoZW1iZWRfdW5pdCkKCiAgICAgICAgcHJvc29keV9wcm9qID0gc2VsZi5idWlsZF9wcm9zb2R5X3Byb2ooKQoKICAgICAgICByZXR1cm4gVW5pdFlOQVJUMlVNb2RlbCgKICAgICAgICAgICAgZW5jb2RlciwKICAgICAgICAgICAgZGVjb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgZGVjb2RlciwKICAgICAgICAgICAgZmluYWxfcHJvaiwKICAgICAgICAgICAgc2VsZi5jb25maWcudGFyZ2V0X3ZvY2FiX2luZm8sCiAgICAgICAgICAgIHByb3NvZHlfcHJvaj1wcm9zb2R5X3Byb2osCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF91bml0X2VtYmVkZGluZyhzZWxmKSAtPiBTdGFuZGFyZEVtYmVkZGluZzoKICAgICAgICAiIiJCdWlsZCBhIHVuaXQgZW1iZWRkaW5nIHRhYmxlLiIiIgoKICAgICAgICByZXR1cm4gU3RhbmRhcmRFbWJlZGRpbmcoCiAgICAgICAgICAgIG51bV9lbWJlZGRpbmdzPXNlbGYuY29uZmlnLnRhcmdldF92b2NhYl9pbmZvLnNpemUsCiAgICAgICAgICAgIGVtYmVkZGluZ19kaW09c2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBwYWRfaWR4PXNlbGYuY29uZmlnLnRhcmdldF92b2NhYl9pbmZvLnBhZF9pZHgsCiAgICAgICAgICAgIGluaXRfZm49aW5pdF9zY2FsZWRfZW1iZWRkaW5nLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9lbmNvZGVyKHNlbGYpIC0+IE9wdGlvbmFsW1RyYW5zZm9ybWVyRW5jb2Rlcl06CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBlbmNvZGVyLiIiIgoKICAgICAgICBudW1fbGF5ZXJzID0gc2VsZi5jb25maWcubnVtX2VuY29kZXJfbGF5ZXJzCiAgICAgICAgaWYgbnVtX2xheWVycyA9PSAwOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICBsYXllcnMgPSBbc2VsZi5idWlsZF9lbmNvZGVyX2xheWVyKCkgZm9yIF8gaW4gcmFuZ2UobnVtX2xheWVycyldCgogICAgICAgIHJldHVybiBTdGFuZGFyZFRyYW5zZm9ybWVyRW5jb2RlcigKICAgICAgICAgICAgbGF5ZXJzLAogICAgICAgICAgICBub3JtX29yZGVyPVRyYW5zZm9ybWVyTm9ybU9yZGVyLlBSRSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfZW5jb2Rlcl9sYXllcihzZWxmKSAtPiBUcmFuc2Zvcm1lckVuY29kZXJMYXllcjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGVuY29kZXIgbGF5ZXIuIiIiCgogICAgICAgIHNlbGZfYXR0biA9IHNlbGYuYnVpbGRfYXR0ZW50aW9uKHNlbGYuY29uZmlnLm51bV9lbmNvZGVyX2F0dG5faGVhZHMpCgogICAgICAgIGZmbiA9IHNlbGYuYnVpbGRfZmZuKCkKCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIoCiAgICAgICAgICAgIHNlbGZfYXR0biwKICAgICAgICAgICAgZmZuLAogICAgICAgICAgICBkcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wLAogICAgICAgICAgICBub3JtX29yZGVyPVRyYW5zZm9ybWVyTm9ybU9yZGVyLlBSRSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfdmFyaWFuY2VfYWRhcHRvcigKICAgICAgICBzZWxmLCBuYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWc6IE5BUkRlY29kZXJGcm9udGVuZENvbmZpZwogICAgKSAtPiBWYXJpYW5jZUFkYXB0b3I6CiAgICAgICAgIiIiQnVpbGQgYSB2YXJpYW5jZSBhZGFwdG9yIG1vZHVsZS4iIiIKCiAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZyA9ICgKICAgICAgICAgICAgbmFyX2RlY29kZXJfZnJvbnRlbmRfY29uZmlnLmR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWcKICAgICAgICApCiAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yID0gVmFyaWFuY2VQcmVkaWN0b3IoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9oaWRkZW5fZGltLAogICAgICAgICAgICBkdXJhdGlvbl9wcmVkaWN0b3JfY29uZmlnLnZhcl9wcmVkX2tlcm5lbF9zaXplLAogICAgICAgICAgICBkdXJhdGlvbl9wcmVkaWN0b3JfY29uZmlnLnZhcl9wcmVkX2Ryb3BvdXQsCiAgICAgICAgICAgIHVzZV9maWxtPWR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWcudXNlX2ZpbG0sCiAgICAgICAgICAgIGZpbG1fY29uZF9kaW09ZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZy5maWxtX2NvbmRfZGltLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICB2YXJpYW5jZV9hZGFwdG9yID0gVmFyaWFuY2VBZGFwdG9yKAogICAgICAgICAgICBkdXJhdGlvbl9wcmVkaWN0b3IsCiAgICAgICAgICAgIHBpdGNoX3ByZWRpY3Rvcj1Ob25lLAogICAgICAgICAgICBlbmVyZ3lfcHJlZGljdG9yPU5vbmUsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gdmFyaWFuY2VfYWRhcHRvcgoKICAgIGRlZiBidWlsZF9kZWNvZGVyX2Zyb250ZW5kKHNlbGYsIGVtYmVkX3VuaXQ6IEVtYmVkZGluZykgLT4gTkFSRGVjb2RlckZyb250ZW5kOgogICAgICAgICIiIkJ1aWxkIGEgbm9uLWF1dG9yZWdyZXNzaXZlIGRlY29kZXIgZnJvbnQtZW5kLiIiIgoKICAgICAgICBhc3NlcnQgc2VsZi5jb25maWcubmFyX2RlY29kZXJfY29uZmlnIGlzIG5vdCBOb25lCiAgICAgICAgYXNzZXJ0IHNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZyBpcyBub3QgTm9uZQoKICAgICAgICB1bml0X3Bvc19lbmNvZGVyID0gU2ludXNvaWRhbFBvc2l0aW9uRW5jb2RlcigKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy51bml0X21heF9zZXFfbGVuLAogICAgICAgICAgICBfbGVnYWN5X3BhZF9pZHg9c2VsZi5jb25maWcudGFyZ2V0X3ZvY2FiX2luZm8ucGFkX2lkeCwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICkKCiAgICAgICAgY2hhcl90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5uYXJfZGVjb2Rlcl9jb25maWcubW9kZWxfbmFtZV9vcl9jYXJkCiAgICAgICAgKQoKICAgICAgICB2YXJpYW5jZV9hZGFwdG9yID0gc2VsZi5idWlsZF92YXJpYW5jZV9hZGFwdG9yKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5uYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWcKICAgICAgICApCgogICAgICAgIG5sbGJfdG9rZW5pemVyID0gTmxsYlRva2VuaXplckxvYWRlcihhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcikoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZy5tb2RlbF9uYW1lX29yX2NhcmQKICAgICAgICApCgogICAgICAgICMgVGhlIGxlZ2FjeSBwYWQgaWR4IHNob3VsZCBiZSB0aGUgc2FtZSBhcyB0aGF0IG9mIHRoZSB1bml0X3Bvc19lbmNvZGVyLAogICAgICAgICMgc2luY2UgaW4gZmFpcnNlcTEgdGhlIHBvcyBlbmNvZGVyIGlzIHNoYXJlZCBiZXR3ZWVuIGJvdGggY2hhciwgdW5pdHMuCiAgICAgICAgY2hhcl9wb3NfZW5jb2RlciA9IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubmFyX2RlY29kZXJfY29uZmlnLmNoYXJfbWF4X3NlcV9sZW4sCiAgICAgICAgICAgIF9sZWdhY3lfcGFkX2lkeD1zZWxmLmNvbmZpZy50YXJnZXRfdm9jYWJfaW5mby5wYWRfaWR4LAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgKQoKICAgICAgICBlbWJlZF9jaGFyID0gU3RhbmRhcmRFbWJlZGRpbmcoCiAgICAgICAgICAgIG51bV9lbWJlZGRpbmdzPXNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZy5jaGFyX3ZvY2FidWxhcnlfc2l6ZSwKICAgICAgICAgICAgZW1iZWRkaW5nX2RpbT1zZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHBhZF9pZHg9c2VsZi5jb25maWcuY2hhcl9wYWRfaWR4LAogICAgICAgICAgICBpbml0X2ZuPWluaXRfc2NhbGVkX2VtYmVkZGluZywKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgcmV0dXJuIE5BUkRlY29kZXJGcm9udGVuZCgKICAgICAgICAgICAgZW1iZWRfdW5pdCwKICAgICAgICAgICAgZW1iZWRfY2hhciwKICAgICAgICAgICAgbmxsYl90b2tlbml6ZXIsCiAgICAgICAgICAgIGNoYXJfdG9rZW5pemVyLAogICAgICAgICAgICB1bml0X3Bvc19lbmNvZGVyLAogICAgICAgICAgICBjaGFyX3Bvc19lbmNvZGVyLAogICAgICAgICAgICB2YXJpYW5jZV9hZGFwdG9yLAogICAgICAgICAgICBkcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9kZWNvZGVyKHNlbGYpIC0+IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXI6CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBkZWNvZGVyLiIiIgoKICAgICAgICBudW1fbGF5ZXJzID0gc2VsZi5jb25maWcubnVtX2RlY29kZXJfbGF5ZXJzCgogICAgICAgIGxheWVycyA9IFtzZWxmLmJ1aWxkX2RlY29kZXJfbGF5ZXIoKSBmb3IgXyBpbiByYW5nZShudW1fbGF5ZXJzKV0KCiAgICAgICAgcmV0dXJuIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIoCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QUkUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2RlY29kZXJfbGF5ZXIoc2VsZikgLT4gRmVlZEZvcndhcmRUcmFuc2Zvcm1lckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgZGVjb2RlciBsYXllci4iIiIKCiAgICAgICAgYXNzZXJ0IHNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZyBpcyBub3QgTm9uZQoKICAgICAgICBzZWxmX2F0dG4gPSBzZWxmLmJ1aWxkX2F0dGVudGlvbihzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9hdHRuX2hlYWRzKQoKICAgICAgICBjb252MWQgPSBDb252MWRCbG9jaygKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5uYXJfZGVjb2Rlcl9jb25maWcuY29udjFkX2lubmVyX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubmFyX2RlY29kZXJfY29uZmlnLmNvbnYxZF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgYmlhcz1UcnVlLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gRmVlZEZvcndhcmRUcmFuc2Zvcm1lckxheWVyKAogICAgICAgICAgICBzZWxmX2F0dG4sCiAgICAgICAgICAgIGNvbnYxZCwKICAgICAgICAgICAgZHJvcG91dF9wPXNlbGYuY29uZmlnLmRyb3BvdXRfcCwKICAgICAgICAgICAgY29udjFkX2Ryb3BvdXRfcD1zZWxmLmNvbmZpZy5uYXJfZGVjb2Rlcl9jb25maWcuY29udjFkX2Ryb3BvdXRfcCwKICAgICAgICAgICAgdXNlX2ZpbG09c2VsZi5jb25maWcubmFyX2RlY29kZXJfY29uZmlnLnVzZV9maWxtLAogICAgICAgICAgICBmaWxtX2NvbmRfZGltPXNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZy5maWxtX2NvbmRfZGltLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9hdHRlbnRpb24oc2VsZiwgbnVtX2hlYWRzOiBpbnQpIC0+IE11bHRpaGVhZEF0dGVudGlvbjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIG11bHRpLWhlYWQgYXR0ZW50aW9uIGxheWVyLiIiIgoKICAgICAgICBzZHBhID0gY3JlYXRlX2RlZmF1bHRfc2RwYShhdHRuX2Ryb3BvdXRfcD1zZWxmLmNvbmZpZy5kcm9wb3V0X3ApCgogICAgICAgIHJldHVybiBTdGFuZGFyZE11bHRpaGVhZEF0dGVudGlvbigKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBudW1faGVhZHMsCiAgICAgICAgICAgIHNkcGE9c2RwYSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfZmZuKHNlbGYpIC0+IEZlZWRGb3J3YXJkTmV0d29yazoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGZlZWQtZm9yd2FyZCBuZXR3b3JrLiIiIgoKICAgICAgICByZXR1cm4gU3RhbmRhcmRGZWVkRm9yd2FyZE5ldHdvcmsoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcuZmZuX2lubmVyX2RpbSwKICAgICAgICAgICAgYmlhcz1UcnVlLAogICAgICAgICAgICBpbm5lcl9hY3RpdmF0aW9uPUdFTFUoKSBpZiBzZWxmLmNvbmZpZy51c2VfZ2VsdSBlbHNlIFJlTFUoKSwKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QUkUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX3Byb3NvZHlfcHJvaihzZWxmKSAtPiBPcHRpb25hbFtQcm9qZWN0aW9uXToKICAgICAgICAiIiJCdWlsZCBhIHByb3NvZHkgcHJvamVjdGlvbiBsYXllciBpZiBuZWVkZWQiIiIKCiAgICAgICAgaWYgc2VsZi5jb25maWcudXNlX3Byb3NvZHlfcHJvajoKICAgICAgICAgICAgcmV0dXJuIExpbmVhcigKICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9kaW0sCiAgICAgICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCgpkZWYgY3JlYXRlX3VuaXR5X3QydV9tb2RlbCgKICAgIGNvbmZpZzogVW5pdFlUMlVDb25maWcsCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCikgLT4gVW5pb25bVW5pdFlUMlVNb2RlbCwgVW5pdFlOQVJUMlVNb2RlbF06CiAgICAiIiJDcmVhdGUgYSBVbml0WSBUMlUgbW9kZWwuCgogICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgOnBhcmFtIGR0eXBlOgogICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAiIiIKICAgIGlmIGNvbmZpZy5uYXJfZGVjb2Rlcl9jb25maWcgaXMgTm9uZToKICAgICAgICByZXR1cm4gVW5pdFlUMlVCdWlsZGVyKGNvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpLmJ1aWxkX21vZGVsKCkKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIFVuaXRZTkFSVDJVQnVpbGRlcihjb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKS5idWlsZF9tb2RlbCgpCg=='),
    ('seamless/src/seamless_communication/models/unity/fft_decoder_layer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbCwgVHVwbGUsIGZpbmFsCgpmcm9tIGZhaXJzZXEyLm5uLm5vcm1hbGl6YXRpb24gaW1wb3J0IExheWVyTm9ybQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrLCBhcHBseV9wYWRkaW5nX21hc2sKZnJvbSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lciBpbXBvcnQgTXVsdGloZWFkQXR0ZW50aW9uLCBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZSwgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgQ29udjFkLCBEcm9wb3V0LCBNb2R1bGUsIFJlTFUKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuZmlsbSBpbXBvcnQgRmlMTQoKCkBmaW5hbApjbGFzcyBDb252MWRCbG9jayhNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyB0aGUgQ29udjFkIGJsb2NrIHdpdGhpbiB0aGUgRkZUIEJsb2NrIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dDpgaHR0cHM6Ly9hcnhpdi5vcmcvcGRmLzE5MDUuMDkyNjMucGRmYC4iIiIKCiAgICBjb252MTogQ29udjFkCiAgICBhY3RpdmF0aW9uOiBSZUxVCiAgICBjb252MjogQ29udjFkCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWxfZGltOiBpbnQsCiAgICAgICAgaW5uZXJfZGltOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBiaWFzOiBib29sID0gVHJ1ZSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBtb2RlbF9kaW06CiAgICAgICAgICAgIFRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgbW9kZWwuCiAgICAgICAgOnBhcmFtIGlubmVyX2RpbToKICAgICAgICAgICAgVGhlIGlubmVyIGRpbWVuc2lvbmFsaXR5IGJldHdlZW4gdGhlIHR3byBjb252b2x1dGlvbmFsIGxheWVycy4KICAgICAgICA6cGFyYW0ga2VybmVsX3NpemU6CiAgICAgICAgICAgIFRoZSBrZXJuZWwgc2l6ZSBvZiB0aGUgQ29udjFkIGxheWVycy4KICAgICAgICA6cGFyYW0gYmlhczoKICAgICAgICAgICAgSWYgYGBUcnVlYGAsIGJvdGggdGhlIGlubmVyIGFuZCBvdXRwdXQgcHJvamVjdGlvbnMgbGVhcm4gYW4gYWRkaXRpdmUKICAgICAgICAgICAgYmlhcy4KICAgICAgICAiIiIKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5jb252MSA9IENvbnYxZCgKICAgICAgICAgICAgbW9kZWxfZGltLAogICAgICAgICAgICBpbm5lcl9kaW0sCiAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICBzdHJpZGU9MSwKICAgICAgICAgICAgcGFkZGluZz0ic2FtZSIsCiAgICAgICAgICAgIGJpYXM9YmlhcywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBzZWxmLmFjdGl2YXRpb24gPSBSZUxVKCkKCiAgICAgICAgc2VsZi5jb252MiA9IENvbnYxZCgKICAgICAgICAgICAgaW5uZXJfZGltLAogICAgICAgICAgICBtb2RlbF9kaW0sCiAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICBzdHJpZGU9MSwKICAgICAgICAgICAgcGFkZGluZz0ic2FtZSIsCiAgICAgICAgICAgIGJpYXM9YmlhcywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgZm9yd2FyZChzZWxmLCBzZXFzOiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdKSAtPiBUZW5zb3I6CiAgICAgICAgIyBFbnN1cmUgdGhhdCB3ZSBkbyBub3QgbGVhayBwYWRkZWQgcG9zaXRpb25zIGluIHRoZSBjb252b2x1dGlvbiBsYXllci4KICAgICAgICBzZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgIyAoTiwgUywgTSkgLT4gKE4sIE0sIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgICMgKE4sIE0sIFMpIC0+IChOLCBpbm5lcl9kaW0sIFMpCiAgICAgICAgc2VxcyA9IHNlbGYuY29udjEoc2VxcykKCiAgICAgICAgIyAoTiwgaW5uZXJfZGltLCBTKSAtPiAoTiwgUywgaW5uZXJfZGltKQogICAgICAgIHNlcXMgPSBzZXFzLnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICBzZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgc2VxcyA9IHNlbGYuYWN0aXZhdGlvbihzZXFzKQoKICAgICAgICAjIChOLCBTLCBpbm5lcl9kaW0pIC0+IChOLCBpbm5lcl9kaW0sIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgICMgKE4sIGlubmVyX2RpbSwgUykgLT4gKE4sIE0sIFMpCiAgICAgICAgc2VxcyA9IHNlbGYuY29udjIoc2VxcykKCiAgICAgICAgIyAoTiwgTSwgUykgLT4gKE4sIFMsIE0pCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHJldHVybiBzZXFzCgoKQGZpbmFsCmNsYXNzIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXJMYXllcihNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyB0aGUgRkZUIEJsb2NrIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dDpgaHR0cHM6Ly9hcnhpdi5vcmcvcGRmLzE5MDUuMDkyNjMucGRmYC4iIiIKCiAgICBtb2RlbF9kaW06IGludAogICAgc2VsZl9hdHRuOiBNdWx0aWhlYWRBdHRlbnRpb24KICAgIHNlbGZfYXR0bl9kcm9wb3V0OiBPcHRpb25hbFtEcm9wb3V0XQogICAgc2VsZl9hdHRuX2xheWVyX25vcm06IExheWVyTm9ybQogICAgY29udjFkOiBDb252MWRCbG9jawogICAgY29udjFkX2Ryb3BvdXQ6IE9wdGlvbmFsW0Ryb3BvdXRdCiAgICBjb252MWRfbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCiAgICBmaWxtOiBPcHRpb25hbFtGaUxNXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHNlbGZfYXR0bjogTXVsdGloZWFkQXR0ZW50aW9uLAogICAgICAgIGNvbnYxZDogQ29udjFkQmxvY2ssCiAgICAgICAgZHJvcG91dF9wOiBmbG9hdCA9IDAuMSwKICAgICAgICBjb252MWRfZHJvcG91dF9wOiBmbG9hdCA9IDAuMSwKICAgICAgICB1c2VfZmlsbTogYm9vbCA9IEZhbHNlLAogICAgICAgIGZpbG1fY29uZF9kaW06IGludCA9IDUxMiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBzZWxmX2F0dG46CiAgICAgICAgICAgIFRoZSBzZWxmIGF0dGVudGlvbiBsYXllci4KICAgICAgICA6cGFyYW0gY29udjFkOgogICAgICAgICAgICBUaGUgY29udjFkIGJsb2NrLgogICAgICAgIDpwYXJhbSBkcm9wb3V0X3A6CiAgICAgICAgICAgIFRoZSBkcm9wb3V0IHByb2JhYmlsaXR5IG9uIHRoZSBvdXRwdXRzIG9mIHRoZSBzZWxmIGF0dGVudGlvbiBsYXllci4KICAgICAgICA6cGFyYW0gY29udjFkX2Ryb3BvdXRfcDoKICAgICAgICAgICAgVGhlIGRyb3BvdXQgcHJvYmFiaWxpdHkgb24gdGhlIG91dHB1dHMgb2YgdGhlIGNvbnYxZCBibG9jay4KICAgICAgICA6cGFyYW0gdXNlX2ZpbG06CiAgICAgICAgICAgIFdoZXRoZXIgdG8gY29uZGl0aW9uIG9uIGEgZml4ZWQtc2l6ZSB2ZWN0b3IgdGhyb3VnaCBGaUxNLgogICAgICAgIDpwYXJhbSBmaWxtX2NvbmRfZGltOgogICAgICAgICAgICBUaGUgZGltIG9mIGZpeGVkLXNpemUgdmVjdG9yIGNvbmRpdGlvbmVkIG9uIGR1cmluZyBtb2RlbCBmb3J3YXJkLgogICAgICAgICIiIgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBzZWxmLm1vZGVsX2RpbSA9IHNlbGZfYXR0bi5tb2RlbF9kaW0KCiAgICAgICAgc2VsZi5zZWxmX2F0dG4gPSBzZWxmX2F0dG4KCiAgICAgICAgaWYgZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLnNlbGZfYXR0bl9kcm9wb3V0ID0gRHJvcG91dChkcm9wb3V0X3ApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoInNlbGZfYXR0bl9kcm9wb3V0IiwgTm9uZSkKCiAgICAgICAgbGF5ZXJfbm9ybV9mYWN0b3J5ID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0KCiAgICAgICAgc2VsZi5zZWxmX2F0dG5fbGF5ZXJfbm9ybSA9IGxheWVyX25vcm1fZmFjdG9yeSgKICAgICAgICAgICAgc2VsZi5tb2RlbF9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgKQoKICAgICAgICBzZWxmLmNvbnYxZCA9IGNvbnYxZAoKICAgICAgICBpZiBjb252MWRfZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLmNvbnYxZF9kcm9wb3V0ID0gRHJvcG91dChjb252MWRfZHJvcG91dF9wKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJjb252MWRfZHJvcG91dCIsIE5vbmUpCgogICAgICAgIHNlbGYuY29udjFkX2xheWVyX25vcm0gPSBsYXllcl9ub3JtX2ZhY3RvcnkoCiAgICAgICAgICAgIHNlbGYubW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgaWYgdXNlX2ZpbG06CiAgICAgICAgICAgIHNlbGYuZmlsbSA9IEZpTE0oZmlsbV9jb25kX2RpbSwgc2VsZi5tb2RlbF9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJmaWxtIiwgTm9uZSkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZmlsbV9jb25kX2VtYjogT3B0aW9uYWxbVGVuc29yXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBzZXFzID0gc2VsZi5fZm9yd2FyZF9zZWxmX2F0dG4oc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBzZXFzID0gc2VsZi5fZm9yd2FyZF9jb252MWQoc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBpZiBzZWxmLmZpbG0gaXMgbm90IE5vbmUgYW5kIGZpbG1fY29uZF9lbWIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLmZpbG0oc2VxcywgZmlsbV9jb25kX2VtYikKICAgICAgICAgICAgc2VxcyA9IGFwcGx5X3BhZGRpbmdfbWFzayhzZXFzLCBwYWRkaW5nX21hc2spCgogICAgICAgIHJldHVybiBzZXFzLCBwYWRkaW5nX21hc2sKCiAgICBkZWYgX2ZvcndhcmRfc2VsZl9hdHRuKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgcmVzaWR1YWwgPSBzZXFzCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bigKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBrZXlzPXNlcXMsCiAgICAgICAgICAgIGtleV9wYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrLAogICAgICAgICAgICB2YWx1ZXM9c2VxcywKICAgICAgICApCgogICAgICAgIGlmIHNlbGYuc2VsZl9hdHRuX2Ryb3BvdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bl9kcm9wb3V0KHNlcXMpCgogICAgICAgIHNlcXMgPSBzZXFzICsgcmVzaWR1YWwKCiAgICAgICAgc2VxcyA9IHNlbGYuc2VsZl9hdHRuX2xheWVyX25vcm0oc2VxcykKCiAgICAgICAgcmV0dXJuIHNlcXMKCiAgICBkZWYgX2ZvcndhcmRfY29udjFkKAogICAgICAgIHNlbGYsIHNlcXM6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10KICAgICkgLT4gVGVuc29yOgogICAgICAgIHJlc2lkdWFsID0gc2VxcwoKICAgICAgICBzZXFzID0gc2VsZi5jb252MWQoc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBpZiBzZWxmLmNvbnYxZF9kcm9wb3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZXFzID0gc2VsZi5jb252MWRfZHJvcG91dChzZXFzKQoKICAgICAgICBzZXFzID0gc2VxcyArIHJlc2lkdWFsCgogICAgICAgIHNlcXMgPSBzZWxmLmNvbnYxZF9sYXllcl9ub3JtKHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzCg=='),
    ('seamless/src/seamless_communication/models/monotonic_decoder/p_choose.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIGZpbmFsCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBMaW5lYXIKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UsIGZpbmFsb3ZlcnJpZGUKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IEF2Z1Bvb2wxZCwgTW9kdWxlLCBNb2R1bGVMaXN0LCBSZUxVCmZyb20gdG9yY2gubm4ucGFyYW1ldGVyIGltcG9ydCBQYXJhbWV0ZXIKCgpjbGFzcyBFbmVyZ3lQcm9qZWN0aW9uKE1vZHVsZSk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBtb2RlbF9kaW06IGludCwKICAgICAgICBudW1fbGF5ZXJzOiBpbnQsCiAgICAgICAgYmlhczogYm9vbCA9IFRydWUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgaWYgbnVtX2xheWVycyA8IDE6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICBmIkludmFsaWQgYG51bV9sYXllcnNgOiB7bnVtX2xheWVyc30gZm9yIEVuZXJneVByb2plY3Rpb25MYXllci4iCiAgICAgICAgICAgICkKCiAgICAgICAgc2VsZi5sYXllcnMgPSBNb2R1bGVMaXN0KCkKCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UobnVtX2xheWVycyk6CiAgICAgICAgICAgIHNlbGYubGF5ZXJzLmFwcGVuZCgKICAgICAgICAgICAgICAgIExpbmVhcihtb2RlbF9kaW0sIG1vZGVsX2RpbSwgYmlhcywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICAgICAgICAgICkKICAgICAgICAgICAgc2VsZi5sYXllcnMuYXBwZW5kKFJlTFUoKSkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCBzZXFzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICBmb3IgbGF5ZXIgaW4gc2VsZi5sYXllcnM6CiAgICAgICAgICAgIHNlcXMgPSBsYXllcihzZXFzKQogICAgICAgIHJldHVybiBzZXFzCgoKQGZpbmFsCmNsYXNzIFBDaG9vc2VMYXllcihNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyBhIFBDaG9vc2UgbGF5ZXIuIiIiCgogICAgbW9kZWxfZGltOiBpbnQKICAgIG51bV9oZWFkczogaW50CiAgICBlbmVyZ3lfYmlhczogUGFyYW1ldGVyCiAgICBtb25vdG9uaWNfdGVtcGVyYXR1cmU6IGZsb2F0CiAgICBxX2VuZXJneV9wcm9qOiBFbmVyZ3lQcm9qZWN0aW9uCiAgICBrX2VuZXJneV9wcm9qOiBFbmVyZ3lQcm9qZWN0aW9uCiAgICBrZXlzX3Bvb2xpbmc6IEF2Z1Bvb2wxZAoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG1vZGVsX2RpbTogaW50LAogICAgICAgIG51bV9oZWFkczogaW50LAogICAgICAgIGVuZXJneV9iaWFzX3ZhbHVlOiBmbG9hdCwKICAgICAgICBtb25vdG9uaWNfdGVtcGVyYXR1cmU6IGZsb2F0LAogICAgICAgIG51bV9tb25vdG9uaWNfZW5lcmd5X2xheWVyczogaW50LAogICAgICAgIHByZV9kZWNpc2lvbl9yYXRpbzogaW50LAogICAgICAgICosCiAgICAgICAgYmlhczogYm9vbCA9IFRydWUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbW9kZWxfZGltOgogICAgICAgICAgICBUaGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIG1vZGVsLgogICAgICAgIDpwYXJhbSBudW1faGVhZHM6CiAgICAgICAgICAgIFRoZSBudW1iZXIgb2YgYXR0ZW50aW9uIGhlYWRzLgogICAgICAgIDpwYXJhbSBiaWFzOgogICAgICAgICAgICBJZiBgYFRydWVgYCwgcXVlcnksIGtleSBlbmVyZ3kgcHJvamVjdGlvbiBsYXllcnMgbGVhcm4gYW4KICAgICAgICAgICAgYWRkaXRpdmUgYmlhcy4KICAgICAgICAiIiIKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5tb2RlbF9kaW0gPSBtb2RlbF9kaW0KICAgICAgICBzZWxmLm51bV9oZWFkcyA9IG51bV9oZWFkcwoKICAgICAgICBpZiBlbmVyZ3lfYmlhc192YWx1ZSAhPSAwLjA6CiAgICAgICAgICAgIHNlbGYuZW5lcmd5X2JpYXMgPSBQYXJhbWV0ZXIoCiAgICAgICAgICAgICAgICB0b3JjaC5mdWxsKFsxXSwgZW5lcmd5X2JpYXNfdmFsdWUsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoImVuZXJneV9iaWFzIiwgTm9uZSkKCiAgICAgICAgc2VsZi5tb25vdG9uaWNfdGVtcGVyYXR1cmUgPSBtb25vdG9uaWNfdGVtcGVyYXR1cmUKCiAgICAgICAgaWYgbnVtX21vbm90b25pY19lbmVyZ3lfbGF5ZXJzIDw9IDA6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIk51bWJlciBvZiBtb25vdG9uaWMgZW5lcmd5IGxheWVycyBtdXN0IGJlID4gMC4iKQoKICAgICAgICBzZWxmLnFfZW5lcmd5X3Byb2ogPSBFbmVyZ3lQcm9qZWN0aW9uKAogICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX21vbm90b25pY19lbmVyZ3lfbGF5ZXJzLAogICAgICAgICAgICBiaWFzLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCiAgICAgICAgc2VsZi5rX2VuZXJneV9wcm9qID0gRW5lcmd5UHJvamVjdGlvbigKICAgICAgICAgICAgc2VsZi5tb2RlbF9kaW0sCiAgICAgICAgICAgIG51bV9tb25vdG9uaWNfZW5lcmd5X2xheWVycywKICAgICAgICAgICAgYmlhcywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBzZWxmLmtleXNfcG9vbGluZyA9IEF2Z1Bvb2wxZCgKICAgICAgICAgICAga2VybmVsX3NpemU9cHJlX2RlY2lzaW9uX3JhdGlvLAogICAgICAgICAgICBzdHJpZGU9cHJlX2RlY2lzaW9uX3JhdGlvLAogICAgICAgICAgICBjZWlsX21vZGU9VHJ1ZSwKICAgICAgICApCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHNlcXM6IFRlbnNvciwga2V5czogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgcSA9IHNlbGYucV9lbmVyZ3lfcHJvaihzZXFzKQoKICAgICAgICAjIChOLCBTLCBNKSAtPiAoTiwgSCwgUywgSykKICAgICAgICBxID0gcS51bmZsYXR0ZW4oLTEsIChzZWxmLm51bV9oZWFkcywgLTEpKS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyAoTiwgU19rdiwgTSkgLT4gKE4sIE0sIFNfa3YpIC0+IChOLCBNLCBTX3ApCiAgICAgICAgcG9vbGVkX2tleXMgPSBzZWxmLmtleXNfcG9vbGluZyhrZXlzLnRyYW5zcG9zZSgxLCAyKSkKCiAgICAgICAgIyAoTiwgTSwgU19wKSAtPiAoTiwgU19wLCBNKQogICAgICAgIHBvb2xlZF9rZXlzID0gcG9vbGVkX2tleXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIGsgPSBzZWxmLmtfZW5lcmd5X3Byb2oocG9vbGVkX2tleXMpCgogICAgICAgICMgKE4sIFNfcCwgTSkgLT4gKE4sIEgsIFNfcCwgSykKICAgICAgICBrID0gay51bmZsYXR0ZW4oLTEsIChzZWxmLm51bV9oZWFkcywgLTEpKS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyAoTiwgSCwgUywgSykgQCAoTiwgSCwgSywgU19wKSA9IChOLCBILCBTLCBTX3ApCiAgICAgICAgbW9ub3RvbmljX2VuZXJneSA9IHRvcmNoLm1hdG11bChxLCBrLnRyYW5zcG9zZSgtMSwgLTIpKQoKICAgICAgICBtb25vdG9uaWNfZW5lcmd5ID0gbW9ub3RvbmljX2VuZXJneSAqIChxLnNpemUoLTEpICoqIC0wLjUpCgogICAgICAgIGlmIHNlbGYuZW5lcmd5X2JpYXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1vbm90b25pY19lbmVyZ3kgKz0gc2VsZi5lbmVyZ3lfYmlhcwoKICAgICAgICAjIHBfY2hvb3NlOiAoTiwgSCwgUywgU19wKQogICAgICAgIHBfY2hvb3NlID0gdG9yY2guc2lnbW9pZChtb25vdG9uaWNfZW5lcmd5IC8gc2VsZi5tb25vdG9uaWNfdGVtcGVyYXR1cmUpCgogICAgICAgIHJldHVybiBwX2Nob29zZQo='),
    ('seamless/src/seamless_communication/models/monotonic_decoder/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMubW9ub3RvbmljX2RlY29kZXIuYnVpbGRlciBpbXBvcnQgKAogICAgTW9ub3RvbmljRGVjb2RlckJ1aWxkZXIgYXMgTW9ub3RvbmljRGVjb2RlckJ1aWxkZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5idWlsZGVyIGltcG9ydCAoCiAgICBNb25vdG9uaWNEZWNvZGVyQ29uZmlnIGFzIE1vbm90b25pY0RlY29kZXJDb25maWcsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5tb2RlbCBpbXBvcnQgKAogICAgTW9ub3RvbmljRGVjb2Rlck1vZGVsIGFzIE1vbm90b25pY0RlY29kZXJNb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLmJ1aWxkZXIgaW1wb3J0ICgKICAgIGNyZWF0ZV9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCBhcyBjcmVhdGVfbW9ub3RvbmljX2RlY29kZXJfbW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5idWlsZGVyIGltcG9ydCAoCiAgICBtb25vdG9uaWNfZGVjb2Rlcl9hcmNocyBhcyBtb25vdG9uaWNfZGVjb2Rlcl9hcmNocywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLmxvYWRlciBpbXBvcnQgKAogICAgbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9jb25maWcgYXMgbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9jb25maWcsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5sb2FkZXIgaW1wb3J0ICgKICAgIGxvYWRfbW9ub3RvbmljX2RlY29kZXJfbW9kZWwgYXMgbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCwKKQo='),
    ('seamless/src/seamless_communication/models/monotonic_decoder/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBNYXBwaW5nCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzIGltcG9ydCBDb25maWdMb2FkZXIsIE1vZGVsTG9hZGVyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzLmNoZWNrcG9pbnQgaW1wb3J0IGNvbnZlcnRfZmFpcnNlcV9jaGVja3BvaW50Cgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLmJ1aWxkZXIgaW1wb3J0ICgKICAgIE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICBjcmVhdGVfbW9ub3RvbmljX2RlY29kZXJfbW9kZWwsCiAgICBtb25vdG9uaWNfZGVjb2Rlcl9hcmNocywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLm1vZGVsIGltcG9ydCBNb25vdG9uaWNEZWNvZGVyTW9kZWwKCgpkZWYgY29udmVydF9tb25vdG9uaWNfY2hlY2twb2ludCgKICAgIGNoZWNrcG9pbnQ6IE1hcHBpbmdbc3RyLCBBbnldLCBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcKKSAtPiBNYXBwaW5nW3N0ciwgQW55XToKICAgIHN0YXRlX2RpY3QgPSBjaGVja3BvaW50WyJtb2RlbCJdCgogICAgIyBDaGVjayBpZiB3ZSBoYXZlIGEgZmFpcnNlcTIgY2hlY2twb2ludC4KICAgIGlmICJ0ZXh0X2RlY29kZXIubGF5ZXJzLjAuc2VsZl9hdHRuLmtfcHJvai53ZWlnaHQiIGluIHN0YXRlX2RpY3Q6CiAgICAgICAgcmV0dXJuIGNoZWNrcG9pbnQKCiAgICBrZXlfbWFwID0gewogICAgICAgICMgZm10OiBvZmYKICAgICAgICByIl5kZWNvZGVyXC5lbWJlZF90b2tlbnNcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgIHIiXmRlY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwub3V0X3Byb2pcLiI6ICAgICAgICAgICAgICAgICAgIHIidGV4dF9kZWNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuX2xheWVyX25vcm1cLiI6ICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuXC5vdXRfcHJvalwuIjogICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuXC5lbmVyZ3lfYmlhcyI6ICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLnBfY2hvb3NlX2xheWVyLmVuZXJneV9iaWFzIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLnNvdXJjZV9lbmVyZ3lfbGF5ZXJcLiI6ICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEucF9jaG9vc2VfbGF5ZXIua19lbmVyZ3lfcHJvai4iLAogICAgICAgIHIiXmRlY29kZXJcLmxheWVyc1wuKFswLTldKylcLmVuY29kZXJfYXR0blwudGFyZ2V0X2VuZXJneV9sYXllclwuIjogICAgIHIidGV4dF9kZWNvZGVyLmxheWVycy5cMS5wX2Nob29zZV9sYXllci5xX2VuZXJneV9wcm9qLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuX2xheWVyX25vcm1cLiI6ICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5mYzFcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuZmZuLmlubmVyX3Byb2ouIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5mYzJcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuZmZuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJfbm9ybS4iLAogICAgICAgIHIiXmRlY29kZXJcLm91dHB1dF9wcm9qZWN0aW9uXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIiZmluYWxfcHJvai4iLAogICAgICAgICMgZm10OiBvbgogICAgfQoKICAgICMgQ29udmVydCB0byBmYWlyc2VxMi4KICAgIGNoZWNrcG9pbnQgPSBjb252ZXJ0X2ZhaXJzZXFfY2hlY2twb2ludChjaGVja3BvaW50LCBrZXlfbWFwKQoKICAgIHN0YXRlX2RpY3QgPSBjaGVja3BvaW50WyJtb2RlbCJdCgogICAgZW1iZWRzID0gc3RhdGVfZGljdFsiZmluYWxfcHJvai53ZWlnaHQiXQoKICAgICMgZmFpcnNlcSBoYWQgYSBidWcgdGhhdCBhY2NpZGVudGFsbHkgaW50cm9kdWNlZCBhIGR1bW15IHRva2VuIGluIHRoZQogICAgIyBlbWJlZGRpbmcgdGFibGUgb2YgTkxMQi0xMDAuIFdlIGp1c3QgZGlzY2FyZCBpdC4KICAgIGlmIGVtYmVkcy5zaXplKDApID09IDI1NjEwMzogICMgbWVhbnMgTkxMQi0xMDAKICAgICAgICBlbWJlZHMgPSBlbWJlZHNbOi0xXQoKICAgICAgICBzdGF0ZV9kaWN0WyJmaW5hbF9wcm9qLndlaWdodCJdID0gZW1iZWRzCgogICAgIyBmYWlyc2VxIGNoZWNrcG9pbnRzIGhhdmUgZHVwbGljYXRlIGVtYmVkZGluZyB3ZWlnaHRzLiBFbnN1cmUgdGhhdCB3ZQogICAgIyB1c2UgYSBzaW5nbGUgZW1iZWRkaW5nIHRhYmxlIGluIGZhaXJzZXEyLgogICAgc3RhdGVfZGljdFsidGV4dF9kZWNvZGVyX2Zyb250ZW5kLmVtYmVkLndlaWdodCJdID0gZW1iZWRzCgogICAgIyBUaGUgZW1iZWRkaW5nIHBvc2l0aW9ucyBvZiB0aGUgY29udHJvbCBzeW1ib2xzIGluIGZhaXJzZXEncyBkaWN0IGRvCiAgICAjIG5vdCBtYXRjaCB0aGUgU2VudGVuY2VQaWVjZSBtb2RlbCBvZiB0aGUgdG9rZW5pemVyLgogICAgd2l0aCB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpOgogICAgICAgICMgKEJPUywgUEFELCBFT1MsIFVOSykgLT4gKFBBRCwgVU5LLCBCT1MsIEVPUykKICAgICAgICBlbWJlZHNbWzAsIDEsIDIsIDNdXSA9IGVtYmVkc1tbMSwgMywgMCwgMl1dCgogICAgcmV0dXJuIGNoZWNrcG9pbnQKCgpsb2FkX21vbm90b25pY19kZWNvZGVyX2NvbmZpZyA9IENvbmZpZ0xvYWRlcltNb25vdG9uaWNEZWNvZGVyQ29uZmlnXSgKICAgIGFzc2V0X3N0b3JlLCBtb25vdG9uaWNfZGVjb2Rlcl9hcmNocwopCgoKbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCA9IE1vZGVsTG9hZGVyWwogICAgTW9ub3RvbmljRGVjb2Rlck1vZGVsLCBNb25vdG9uaWNEZWNvZGVyQ29uZmlnCl0oCiAgICBhc3NldF9zdG9yZSwKICAgIGRvd25sb2FkX21hbmFnZXIsCiAgICBsb2FkX21vbm90b25pY19kZWNvZGVyX2NvbmZpZywKICAgIGNyZWF0ZV9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCwKICAgIGNvbnZlcnRfbW9ub3RvbmljX2NoZWNrcG9pbnQsCiAgICByZXN0cmljdF9jaGVja3BvaW50cz1GYWxzZSwKKQo='),
    ('seamless/src/seamless_communication/models/monotonic_decoder/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFZvY2FidWxhcnlJbmZvCmZyb20gZmFpcnNlcTIubW9kZWxzLnRyYW5zZm9ybWVyIGltcG9ydCAoCiAgICBUcmFuc2Zvcm1lckVtYmVkZGluZ0Zyb250ZW5kLAogICAgVHJhbnNmb3JtZXJGcm9udGVuZCwKKQpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscy5hcmNoX3JlZ2lzdHJ5IGltcG9ydCBBcmNoaXRlY3R1cmVSZWdpc3RyeQpmcm9tIGZhaXJzZXEyLm5uLmVtYmVkZGluZyBpbXBvcnQgRW1iZWRkaW5nLCBTdGFuZGFyZEVtYmVkZGluZywgaW5pdF9zY2FsZWRfZW1iZWRkaW5nCmZyb20gZmFpcnNlcTIubm4ucG9zaXRpb25fZW5jb2RlciBpbXBvcnQgU2ludXNvaWRhbFBvc2l0aW9uRW5jb2Rlcgpmcm9tIGZhaXJzZXEyLm5uLnByb2plY3Rpb24gaW1wb3J0IFRpZWRQcm9qZWN0aW9uCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIEZlZWRGb3J3YXJkTmV0d29yaywKICAgIE11bHRpaGVhZEF0dGVudGlvbiwKICAgIFN0YW5kYXJkRmVlZEZvcndhcmROZXR3b3JrLAogICAgU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24sCiAgICBUcmFuc2Zvcm1lck5vcm1PcmRlciwKICAgIGNyZWF0ZV9kZWZhdWx0X3NkcGEsCikKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMubW9ub3RvbmljX2RlY29kZXIubW9kZWwgaW1wb3J0IE1vbm90b25pY0RlY29kZXJNb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLm1vbm90b25pY19kZWNvZGVyIGltcG9ydCAoCiAgICBNb25vdG9uaWNUcmFuc2Zvcm1lckRlY29kZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5tb25vdG9uaWNfZGVjb2Rlcl9sYXllciBpbXBvcnQgKAogICAgTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5wX2Nob29zZSBpbXBvcnQgUENob29zZUxheWVyCgoKQGRhdGFjbGFzcwpjbGFzcyBNb25vdG9uaWNEZWNvZGVyQ29uZmlnOgogICAgIiIiSG9sZHMgdGhlIGNvbmZpZ3VyYXRpb24gb2YgYW4gTW9ub3RvbmljIERlY29kZXIgbW9kZWwuIiIiCgogICAgbW9kZWxfZGltOiBpbnQKICAgICIiIlRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgbW9kZWwuIiIiCgogICAgbWF4X3NlcV9sZW46IGludAogICAgIiIiVGhlIGV4cGVjdGVkIG1heGltdW0gc2VxdWVuY2UgbGVuZ3RoLiIiIgoKICAgIHZvY2FiX2luZm86IFZvY2FidWxhcnlJbmZvCiAgICAiIiJUaGUgdm9jYWJ1bGFyeSBpbmZvcm1hdGlvbi4iIiIKCiAgICBudW1fZGVjb2Rlcl9sYXllcnM6IGludAogICAgIiIiVGhlIG51bWJlciBvZiBUcmFuc2Zvcm1lciBkZWNvZGVyIGxheWVycy4iIiIKCiAgICBudW1fZGVjb2Rlcl9hdHRuX2hlYWRzOiBpbnQKICAgICIiIlRoZSBudW1iZXIgb2YgYXR0ZW50aW9uIGhlYWRzIGluIFRyYW5zZm9ybWVyIGRlY29kZXIgbGF5ZXJzLiIiIgoKICAgIGZmbl9pbm5lcl9kaW06IGludAogICAgIiIiVGhlIGlubmVyIGRpbWVuc2lvbmFsaXR5IG9mIFRyYW5zZm9ybWVyIGZlZWQtZm9yd2FyZCBuZXR3b3Jrcy4iIiIKCiAgICBkcm9wb3V0X3A6IGZsb2F0CiAgICAiIiJUaGUgZHJvcG91dCBwcm9iYWJpbGl0eSBpbiBUcmFuc2Zvcm1lciBsYXllcnMuIiIiCgogICAgZW5lcmd5X2JpYXNfdmFsdWU6IGZsb2F0CiAgICAiIiJUaGUgdmFsdWUgb2YgdGhlIGVuZXJneSBiaWFzIHBhcmFtZXRlciB0byBiZSBhZGRlZCB0byB0aGUKICAgIG1vbm90b25pYyBlbmVyZ3kgaW4gdGhlIFBDaG9vc2VMYXllci4iIiIKCiAgICBtb25vdG9uaWNfdGVtcGVyYXR1cmU6IGZsb2F0CiAgICAiIiJUaGUgcGFyYW1ldGVyIHdpdGggd2hpY2ggdG8gZGl2aWRlIHRoZSBtb25vdG9uaWMgZW5lcmd5CiAgICB0byBjb21wdXRlIHBfY2hvb3NlLiIiIgoKICAgIG51bV9tb25vdG9uaWNfZW5lcmd5X2xheWVyczogaW50CiAgICAiIiJUaGUgbnVtYmVyIG9mIGxheWVycyBpbiB0aGUgRW5lcmd5UHJvamVjdGlvbiBtb2R1bGUuIiIiCgogICAgcHJlX2RlY2lzaW9uX3JhdGlvOiBpbnQKICAgICIiIlRoZSBrZXJuZWwgc2l6ZSBhbmQgc3RyaWRlIG9mIHRoZSBhdmVyYWdlIHBvb2xpbmcKICAgIGluIHRoZSBQQ2hvb3NlTGF5ZXIuIiIiCgoKbW9ub3RvbmljX2RlY29kZXJfYXJjaHMgPSBBcmNoaXRlY3R1cmVSZWdpc3RyeVtNb25vdG9uaWNEZWNvZGVyQ29uZmlnXSgKICAgICJtb25vdG9uaWNfZGVjb2RlciIKKQoKbW9ub3RvbmljX2RlY29kZXJfYXJjaCA9IG1vbm90b25pY19kZWNvZGVyX2FyY2hzLmRlY29yYXRvcgoKCkBtb25vdG9uaWNfZGVjb2Rlcl9hcmNoKCJkZW5zZV8xYiIpCmRlZiBfZGVuc2VfMWIoKSAtPiBNb25vdG9uaWNEZWNvZGVyQ29uZmlnOgogICAgcmV0dXJuIE1vbm90b25pY0RlY29kZXJDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgbWF4X3NlcV9sZW49NDA5NiwKICAgICAgICB2b2NhYl9pbmZvPVZvY2FidWxhcnlJbmZvKAogICAgICAgICAgICBzaXplPTI1NjEwMiwgdW5rX2lkeD0xLCBib3NfaWR4PTIsIGVvc19pZHg9MywgcGFkX2lkeD0wCiAgICAgICAgKSwKICAgICAgICBudW1fZGVjb2Rlcl9sYXllcnM9MjQsCiAgICAgICAgbnVtX2RlY29kZXJfYXR0bl9oZWFkcz0xNiwKICAgICAgICBmZm5faW5uZXJfZGltPTEwMjQgKiA4LAogICAgICAgIGRyb3BvdXRfcD0wLjEsCiAgICAgICAgZW5lcmd5X2JpYXNfdmFsdWU9LTAuNSwKICAgICAgICBtb25vdG9uaWNfdGVtcGVyYXR1cmU9MC4yLAogICAgICAgIG51bV9tb25vdG9uaWNfZW5lcmd5X2xheWVycz00LAogICAgICAgIHByZV9kZWNpc2lvbl9yYXRpbz0yLAogICAgKQoKCmNsYXNzIE1vbm90b25pY0RlY29kZXJCdWlsZGVyOgogICAgIiIiQnVpbGRzIG1vZHVsZXMgb2YgYSBNb25vdG9uaWMgRGVjb2Rlci4KCiAgICBUbyB0d2VhayB0aGUgYXJjaGl0ZWN0dXJlLCB5b3UgY2FuIGRlcml2ZSBmcm9tIHRoaXMgY2xhc3MgYW5kIG92ZXJyaWRlIHRoZQogICAgY29ycmVzcG9uZGluZyBtZXRob2RzLgogICAgIiIiCgogICAgY29uZmlnOiBNb25vdG9uaWNEZWNvZGVyQ29uZmlnCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0KICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICAgICAgKiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgICAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgICAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5jb25maWcgPSBjb25maWcKCiAgICAgICAgc2VsZi5kZXZpY2UsIHNlbGYuZHR5cGUgPSBkZXZpY2UsIGR0eXBlCgogICAgZGVmIGJ1aWxkX21vZGVsKHNlbGYpIC0+IE1vbm90b25pY0RlY29kZXJNb2RlbDoKICAgICAgICB0ZXh0X2VtYmVkID0gc2VsZi5idWlsZF9lbWJlZGRpbmcoKQoKICAgICAgICB0ZXh0X2RlY29kZXJfZnJvbnRlbmQgPSBzZWxmLmJ1aWxkX2Zyb250ZW5kKHRleHRfZW1iZWQpCgogICAgICAgIHRleHRfZGVjb2RlciA9IHNlbGYuYnVpbGRfZGVjb2RlcigpCgogICAgICAgIGZpbmFsX3Byb2ogPSBUaWVkUHJvamVjdGlvbih0ZXh0X2VtYmVkLndlaWdodCwgYmlhcz1Ob25lKQoKICAgICAgICByZXR1cm4gTW9ub3RvbmljRGVjb2Rlck1vZGVsKAogICAgICAgICAgICB0ZXh0X2RlY29kZXJfZnJvbnRlbmQsCiAgICAgICAgICAgIHRleHRfZGVjb2RlciwKICAgICAgICAgICAgZmluYWxfcHJvaiwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2VtYmVkZGluZyhzZWxmKSAtPiBTdGFuZGFyZEVtYmVkZGluZzoKICAgICAgICAiIiJCdWlsZCBhbiBlbWJlZGRpbmcgdGFibGUuIiIiCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkRW1iZWRkaW5nKAogICAgICAgICAgICBudW1fZW1iZWRkaW5ncz1zZWxmLmNvbmZpZy52b2NhYl9pbmZvLnNpemUsCiAgICAgICAgICAgIGVtYmVkZGluZ19kaW09c2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBwYWRfaWR4PXNlbGYuY29uZmlnLnZvY2FiX2luZm8ucGFkX2lkeCwKICAgICAgICAgICAgaW5pdF9mbj1pbml0X3NjYWxlZF9lbWJlZGRpbmcsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2Zyb250ZW5kKHNlbGYsIGVtYmVkOiBFbWJlZGRpbmcpIC0+IFRyYW5zZm9ybWVyRnJvbnRlbmQ6CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBkZWNvZGVyIGZyb250LWVuZC4iIiIKICAgICAgICBwb3NfZW5jb2RlciA9IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubWF4X3NlcV9sZW4sCiAgICAgICAgICAgIF9sZWdhY3lfcGFkX2lkeD0xLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gVHJhbnNmb3JtZXJFbWJlZGRpbmdGcm9udGVuZCgKICAgICAgICAgICAgZW1iZWQsCiAgICAgICAgICAgIHBvc19lbmNvZGVyLAogICAgICAgICAgICBkcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9kZWNvZGVyKHNlbGYpIC0+IE1vbm90b25pY1RyYW5zZm9ybWVyRGVjb2RlcjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGRlY29kZXIuIiIiCiAgICAgICAgbnVtX2xheWVycyA9IHNlbGYuY29uZmlnLm51bV9kZWNvZGVyX2xheWVycwoKICAgICAgICBsYXllcnMgPSBbc2VsZi5idWlsZF9kZWNvZGVyX2xheWVyKCkgZm9yIF8gaW4gcmFuZ2UobnVtX2xheWVycyldCgogICAgICAgIHJldHVybiBNb25vdG9uaWNUcmFuc2Zvcm1lckRlY29kZXIoCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfZGVjb2Rlcl9sYXllcihzZWxmKSAtPiBNb25vdG9uaWNUcmFuc2Zvcm1lckRlY29kZXJMYXllcjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGRlY29kZXIgbGF5ZXIuIiIiCiAgICAgICAgc2VsZl9hdHRuID0gc2VsZi5idWlsZF9hdHRlbnRpb24oc2VsZi5jb25maWcubnVtX2RlY29kZXJfYXR0bl9oZWFkcykKCiAgICAgICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG4gPSBzZWxmLmJ1aWxkX2F0dGVudGlvbihzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9hdHRuX2hlYWRzKQoKICAgICAgICBwX2Nob29zZV9sYXllciA9IHNlbGYuYnVpbGRfcF9jaG9vc2VfbGF5ZXIoc2VsZi5jb25maWcubnVtX2RlY29kZXJfYXR0bl9oZWFkcykKCiAgICAgICAgZmZuID0gc2VsZi5idWlsZF9mZm4oKQoKICAgICAgICByZXR1cm4gTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIoCiAgICAgICAgICAgIHNlbGZfYXR0biwKICAgICAgICAgICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG4sCiAgICAgICAgICAgIHBfY2hvb3NlX2xheWVyLAogICAgICAgICAgICBmZm4sCiAgICAgICAgICAgIGRyb3BvdXRfcD1zZWxmLmNvbmZpZy5kcm9wb3V0X3AsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2F0dGVudGlvbihzZWxmLCBudW1faGVhZHM6IGludCkgLT4gTXVsdGloZWFkQXR0ZW50aW9uOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgbXVsdGktaGVhZCBhdHRlbnRpb24gbGF5ZXIuIiIiCiAgICAgICAgc2RwYSA9IGNyZWF0ZV9kZWZhdWx0X3NkcGEoYXR0bl9kcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wKQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX2hlYWRzLAogICAgICAgICAgICBzZHBhPXNkcGEsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX3BfY2hvb3NlX2xheWVyKHNlbGYsIG51bV9oZWFkczogaW50KSAtPiBQQ2hvb3NlTGF5ZXI6CiAgICAgICAgIiIiQnVpbGQgYSBQQ2hvb3NlIGxheWVyLiIiIgogICAgICAgIHJldHVybiBQQ2hvb3NlTGF5ZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX2hlYWRzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5lbmVyZ3lfYmlhc192YWx1ZSwKICAgICAgICAgICAgc2VsZi5jb25maWcubW9ub3RvbmljX3RlbXBlcmF0dXJlLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5udW1fbW9ub3RvbmljX2VuZXJneV9sYXllcnMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnByZV9kZWNpc2lvbl9yYXRpbywKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfZmZuKHNlbGYpIC0+IEZlZWRGb3J3YXJkTmV0d29yazoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGZlZWQtZm9yd2FyZCBuZXR3b3JrLiIiIgogICAgICAgIHJldHVybiBTdGFuZGFyZEZlZWRGb3J3YXJkTmV0d29yaygKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5mZm5faW5uZXJfZGltLAogICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKCmRlZiBjcmVhdGVfbW9ub3RvbmljX2RlY29kZXJfbW9kZWwoCiAgICBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICAqLAogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAopIC0+IE1vbm90b25pY0RlY29kZXJNb2RlbDoKICAgICIiIkNyZWF0ZSBhbiBNb25vdG9uaWMgRGVjb2RlciBtb2RlbC4KCiAgICA6cGFyYW0gY29uZmlnOgogICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgIDpwYXJhbSBkZXZpY2U6CiAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBpbml0aWFsaXplIG1vZHVsZXMuCiAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgVGhlIGRhdGEgdHlwZSBvZiBtb2R1bGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycy4KICAgICIiIgogICAgcmV0dXJuIE1vbm90b25pY0RlY29kZXJCdWlsZGVyKGNvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpLmJ1aWxkX21vZGVsKCkK'),
    ('seamless/src/seamless_communication/models/monotonic_decoder/monotonic_decoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgSXRlcmFibGUsIExpc3QsIE9wdGlvbmFsLCBUdXBsZSwgZmluYWwKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLm5uLmluY3JlbWVudGFsX3N0YXRlIGltcG9ydCBJbmNyZW1lbnRhbFN0YXRlQmFnCmZyb20gZmFpcnNlcTIubm4ubW9kdWxlX2xpc3QgaW1wb3J0IE1vZHVsZUxpc3QKZnJvbSBmYWlyc2VxMi5ubi5ub3JtYWxpemF0aW9uIGltcG9ydCBMYXllck5vcm0KZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBQYWRkaW5nTWFzawpmcm9tIGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyIGltcG9ydCAoCiAgICBBdHRlbnRpb25NYXNrRmFjdG9yeSwKICAgIENhdXNhbEF0dGVudGlvbk1hc2tGYWN0b3J5LAogICAgY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0sCikKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UsIGZpbmFsb3ZlcnJpZGUKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IE1vZHVsZQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5tb25vdG9uaWNfZGVjb2Rlcl9sYXllciBpbXBvcnQgKAogICAgTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIsCikKCgpAZmluYWwKY2xhc3MgTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyKE1vZHVsZSk6CiAgICAiIiJSZXByZXNlbnRzIGEgTW9ub3RvbmljIFRyYW5zZm9ybWVyIGRlY29kZXIuIiIiCgogICAgbW9kZWxfZGltOiBpbnQKICAgIHNlbGZfYXR0bl9tYXNrX2ZhY3Rvcnk6IEF0dGVudGlvbk1hc2tGYWN0b3J5CiAgICBsYXllcnM6IE1vZHVsZUxpc3QKICAgIGxheWVyX25vcm06IExheWVyTm9ybQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGxheWVyczogSXRlcmFibGVbTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXJdLAogICAgICAgICosCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbGF5ZXJzOgogICAgICAgICAgICBUaGUgZGVjb2RlciBsYXllcnMuCiAgICAgICAgIiIiCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIGxheWVyX2xpc3QgPSBNb2R1bGVMaXN0KGxheWVycykKCiAgICAgICAgaWYgbm90IGxheWVyX2xpc3Q6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImBsYXllcnNgIG11c3QgYmUgbm9uLWVtcHR5LiIpCgogICAgICAgIHNlbGYubW9kZWxfZGltID0gbGF5ZXJfbGlzdFswXS5tb2RlbF9kaW0KCiAgICAgICAgc2VsZi5zZWxmX2F0dG5fbWFza19mYWN0b3J5ID0gQ2F1c2FsQXR0ZW50aW9uTWFza0ZhY3RvcnkoKQoKICAgICAgICBzZWxmLmxheWVycyA9IGxheWVyX2xpc3QKCiAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0oCiAgICAgICAgICAgIHNlbGYubW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IE9wdGlvbmFsW1RlbnNvcl0gPSBOb25lLAogICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgICAgICosCiAgICAgICAgc3RhdGVfYmFnOiBPcHRpb25hbFtJbmNyZW1lbnRhbFN0YXRlQmFnXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdLCBUZW5zb3JdOgogICAgICAgIHNlbGZfYXR0bl9tYXNrID0gc2VsZi5zZWxmX2F0dG5fbWFza19mYWN0b3J5KAogICAgICAgICAgICBzZXFzLCBrZXlzPXNlcXMsIHRyYWluaW5nPXNlbGYudHJhaW5pbmcsIHN0YXRlX2JhZz1zdGF0ZV9iYWcKICAgICAgICApCgogICAgICAgIHBfY2hvb3NlX2xpc3Q6IExpc3RbVGVuc29yXSA9IFtdCgogICAgICAgIGZvciBsYXllciBpbiBzZWxmLmxheWVycy5kcm9wX2l0ZXIoKToKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBwX2Nob29zZSA9IGxheWVyKAogICAgICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgICAgIHNlbGZfYXR0bl9tYXNrLAogICAgICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgICAgIHN0YXRlX2JhZz1zdGF0ZV9iYWcsCiAgICAgICAgICAgICkKICAgICAgICAgICAgcF9jaG9vc2VfbGlzdC5hcHBlbmQocF9jaG9vc2UpCgogICAgICAgIHNlcXMgPSBzZWxmLmxheWVyX25vcm0oc2VxcykKCiAgICAgICAgcF9jaG9vc2UgPSB0b3JjaC5jYXQocF9jaG9vc2VfbGlzdCwgZGltPTApCgogICAgICAgIHBfY2hvb3NlID0gcF9jaG9vc2UuZmxhdHRlbigwLCAxKQoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrLCBwX2Nob29zZQo='),
    ('seamless/src/seamless_communication/models/monotonic_decoder/model.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR1cGxlLCBmaW5hbAoKZnJvbSBmYWlyc2VxMi5tb2RlbHMudHJhbnNmb3JtZXIuZnJvbnRlbmQgaW1wb3J0IFRyYW5zZm9ybWVyRnJvbnRlbmQKZnJvbSBmYWlyc2VxMi5ubi5pbmNyZW1lbnRhbF9zdGF0ZSBpbXBvcnQgSW5jcmVtZW50YWxTdGF0ZUJhZwpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrCmZyb20gZmFpcnNlcTIubm4ucHJvamVjdGlvbiBpbXBvcnQgUHJvamVjdGlvbgpmcm9tIG92ZXJyaWRlcyBpbXBvcnQgZmluYWwgYXMgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgTW9kdWxlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLm1vbm90b25pY19kZWNvZGVyIGltcG9ydCAoCiAgICBNb25vdG9uaWNUcmFuc2Zvcm1lckRlY29kZXIsCikKCgpAZmluYWwKY2xhc3MgTW9ub3RvbmljRGVjb2Rlck1vZGVsKE1vZHVsZSk6CiAgICB0ZXh0X2RlY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQKICAgIHRleHRfZGVjb2RlcjogTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyCiAgICBmaW5hbF9wcm9qOiBQcm9qZWN0aW9uCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgdGV4dF9kZWNvZGVyX2Zyb250ZW5kOiBUcmFuc2Zvcm1lckZyb250ZW5kLAogICAgICAgIHRleHRfZGVjb2RlcjogTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyLAogICAgICAgIGZpbmFsX3Byb2o6IFByb2plY3Rpb24sCiAgICApIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYudGV4dF9kZWNvZGVyX2Zyb250ZW5kID0gdGV4dF9kZWNvZGVyX2Zyb250ZW5kCiAgICAgICAgc2VsZi50ZXh0X2RlY29kZXIgPSB0ZXh0X2RlY29kZXIKICAgICAgICBzZWxmLmZpbmFsX3Byb2ogPSBmaW5hbF9wcm9qCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBkZWNvZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IFRlbnNvciwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgICosCiAgICAgICAgc3RhdGVfYmFnOiBPcHRpb25hbFtJbmNyZW1lbnRhbFN0YXRlQmFnXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdLCBUZW5zb3JdOgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYudGV4dF9kZWNvZGVyX2Zyb250ZW5kKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIHN0YXRlX2JhZz1zdGF0ZV9iYWcKICAgICAgICApCgogICAgICAgIHJldHVybiBzZWxmLnRleHRfZGVjb2RlciggICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICBzdGF0ZV9iYWc9c3RhdGVfYmFnLAogICAgICAgICkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIHByb2plY3Qoc2VsZiwgZGVjb2Rlcl9vdXRwdXQ6IFRlbnNvcikgLT4gVGVuc29yOgogICAgICAgIGxvZ2l0cyA9IHNlbGYuZmluYWxfcHJvaihkZWNvZGVyX291dHB1dCkKCiAgICAgICAgcmV0dXJuIGxvZ2l0cyAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0K'),
    ('seamless/src/seamless_communication/models/monotonic_decoder/monotonic_decoder_layer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR1cGxlLCBmaW5hbAoKZnJvbSBmYWlyc2VxMi5ubi5pbmNyZW1lbnRhbF9zdGF0ZSBpbXBvcnQgSW5jcmVtZW50YWxTdGF0ZUJhZwpmcm9tIGZhaXJzZXEyLm5uLm5vcm1hbGl6YXRpb24gaW1wb3J0IExheWVyTm9ybQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIEF0dGVudGlvbk1hc2ssCiAgICBGZWVkRm9yd2FyZE5ldHdvcmssCiAgICBNdWx0aWhlYWRBdHRlbnRpb24sCiAgICBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybSwKKQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZSwgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgRHJvcG91dCwgTW9kdWxlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLnBfY2hvb3NlIGltcG9ydCBQQ2hvb3NlTGF5ZXIKCgpAZmluYWwKY2xhc3MgTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIoTW9kdWxlKToKICAgICIiIlJlcHJlc2VudHMgYSBNb25vdG9uaWMgVHJhbnNmb3JtZXIgZGVjb2RlciBsYXllci4iIiIKCiAgICBzZWxmX2F0dG46IE11bHRpaGVhZEF0dGVudGlvbgogICAgc2VsZl9hdHRuX2Ryb3BvdXQ6IE9wdGlvbmFsW0Ryb3BvdXRdCiAgICBzZWxmX2F0dG5fbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCiAgICBlbmNvZGVyX2RlY29kZXJfYXR0bjogTXVsdGloZWFkQXR0ZW50aW9uCiAgICBlbmNvZGVyX2RlY29kZXJfYXR0bl9kcm9wb3V0OiBPcHRpb25hbFtEcm9wb3V0XQogICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG5fbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCiAgICBwX2Nob29zZV9sYXllcjogUENob29zZUxheWVyCiAgICBmZm46IEZlZWRGb3J3YXJkTmV0d29yawogICAgZmZuX2Ryb3BvdXQ6IE9wdGlvbmFsW0Ryb3BvdXRdCiAgICBmZm5fbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VsZl9hdHRuOiBNdWx0aWhlYWRBdHRlbnRpb24sCiAgICAgICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG46IE11bHRpaGVhZEF0dGVudGlvbiwKICAgICAgICBwX2Nob29zZV9sYXllcjogUENob29zZUxheWVyLAogICAgICAgIGZmbjogRmVlZEZvcndhcmROZXR3b3JrLAogICAgICAgICosCiAgICAgICAgZHJvcG91dF9wOiBmbG9hdCA9IDAuMSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBzZWxmX2F0dG46CiAgICAgICAgICAgIFRoZSBzZWxmIGF0dGVudGlvbiBsYXllci4KICAgICAgICA6cGFyYW0gZW5jb2Rlcl9kZWNvZGVyX2F0dG46CiAgICAgICAgICAgIFRoZSBlbmNvZGVyLWRlY29kZXIgYXR0ZW50aW9uIGxheWVyLgogICAgICAgIDpwYXJhbSBmZm46CiAgICAgICAgICAgIFRoZSBmZWVkLWZvcndhcmQgbmV0d29yay4KICAgICAgICA6cGFyYW0gZHJvcG91dF9wOgogICAgICAgICAgICBUaGUgZHJvcG91dCBwcm9iYWJpbGl0eSBvbiBvdXRwdXRzIG9mIHRoZSBhdHRlbnRpb24gbGF5ZXJzIGFuZCB0aGUKICAgICAgICAgICAgZmVlZC1mb3J3YXJkIG5ldHdvcmsuCiAgICAgICAgIiIiCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYubW9kZWxfZGltID0gc2VsZl9hdHRuLm1vZGVsX2RpbQoKICAgICAgICBzZWxmX2F0dG5fbGF5ZXJfbm9ybSA9IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtKAogICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgICAgIHNlbGYuc2VsZl9hdHRuX2xheWVyX25vcm0gPSBzZWxmX2F0dG5fbGF5ZXJfbm9ybQoKICAgICAgICBzZWxmLnNlbGZfYXR0biA9IHNlbGZfYXR0bgoKICAgICAgICBpZiBkcm9wb3V0X3AgPiAwLjA6CiAgICAgICAgICAgIHNlbGYuc2VsZl9hdHRuX2Ryb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgic2VsZl9hdHRuX2Ryb3BvdXQiLCBOb25lKQoKICAgICAgICBlbmNvZGVyX2RlY29kZXJfYXR0bl9sYXllcl9ub3JtID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0oCiAgICAgICAgICAgIHNlbGYubW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgc2VsZi5lbmNvZGVyX2RlY29kZXJfYXR0bl9sYXllcl9ub3JtID0gZW5jb2Rlcl9kZWNvZGVyX2F0dG5fbGF5ZXJfbm9ybQoKICAgICAgICBzZWxmLmVuY29kZXJfZGVjb2Rlcl9hdHRuID0gZW5jb2Rlcl9kZWNvZGVyX2F0dG4KCiAgICAgICAgaWYgZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2Ryb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZW5jb2Rlcl9kZWNvZGVyX2F0dG5fZHJvcG91dCIsIE5vbmUpCgogICAgICAgIHNlbGYucF9jaG9vc2VfbGF5ZXIgPSBwX2Nob29zZV9sYXllcgoKICAgICAgICBmZm5fbGF5ZXJfbm9ybSA9IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtKAogICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgICAgIHNlbGYuZmZuX2xheWVyX25vcm0gPSBmZm5fbGF5ZXJfbm9ybQoKICAgICAgICBzZWxmLmZmbiA9IGZmbgoKICAgICAgICBpZiBkcm9wb3V0X3AgPiAwLjA6CiAgICAgICAgICAgIHNlbGYuZmZuX2Ryb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZmZuX2Ryb3BvdXQiLCBOb25lKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBzZWxmX2F0dG5fbWFzazogT3B0aW9uYWxbQXR0ZW50aW9uTWFza10gPSBOb25lLAogICAgICAgIGVuY29kZXJfb3V0cHV0OiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdID0gTm9uZSwKICAgICAgICAqLAogICAgICAgIHN0YXRlX2JhZzogT3B0aW9uYWxbSW5jcmVtZW50YWxTdGF0ZUJhZ10gPSBOb25lLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwgVGVuc29yXToKICAgICAgICBzZXFzID0gc2VsZi5fZm9yd2FyZF9zZWxmX2F0dG4oc2VxcywgcGFkZGluZ19tYXNrLCBzZWxmX2F0dG5fbWFzaywgc3RhdGVfYmFnKQoKICAgICAgICBzZXFzLCBwX2Nob29zZSA9IHNlbGYuX2ZvcndhcmRfZW5jb2Rlcl9kZWNvZGVyX2F0dG4oCiAgICAgICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzaywgZW5jb2Rlcl9vdXRwdXQsIGVuY29kZXJfcGFkZGluZ19tYXNrCiAgICAgICAgKQoKICAgICAgICBzZXFzID0gc2VsZi5fZm9yd2FyZF9mZm4oc2VxcykKCiAgICAgICAgcmV0dXJuIHNlcXMsIHBhZGRpbmdfbWFzaywgcF9jaG9vc2UKCiAgICBkZWYgX2ZvcndhcmRfc2VsZl9hdHRuKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIHNlbGZfYXR0bl9tYXNrOiBPcHRpb25hbFtBdHRlbnRpb25NYXNrXSwKICAgICAgICBzdGF0ZV9iYWc6IE9wdGlvbmFsW0luY3JlbWVudGFsU3RhdGVCYWddLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgcmVzaWR1YWwgPSBzZXFzCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bl9sYXllcl9ub3JtKHNlcXMpCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bigKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBrZXlzPXNlcXMsCiAgICAgICAgICAgIGtleV9wYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrLAogICAgICAgICAgICB2YWx1ZXM9c2VxcywKICAgICAgICAgICAgYXR0bl9tYXNrPXNlbGZfYXR0bl9tYXNrLAogICAgICAgICAgICBzdGF0ZV9iYWc9c3RhdGVfYmFnLAogICAgICAgICkKCiAgICAgICAgaWYgc2VsZi5zZWxmX2F0dG5fZHJvcG91dCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYuc2VsZl9hdHRuX2Ryb3BvdXQoc2VxcykKCiAgICAgICAgc2VxcyA9IHNlcXMgKyByZXNpZHVhbAoKICAgICAgICByZXR1cm4gc2VxcwoKICAgIGRlZiBfZm9yd2FyZF9lbmNvZGVyX2RlY29kZXJfYXR0bigKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBlbmNvZGVyX291dHB1dDogT3B0aW9uYWxbVGVuc29yXSwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIFRlbnNvcl06CiAgICAgICAgaWYgZW5jb2Rlcl9vdXRwdXQgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJgZW5jb2Rlcl9vdXRwdXRgIG11c3Qgbm90IGJlIGBOb25lYCBmb3IgZW5jb2Rlci1kZWNvZGVyIGF0dGVudGlvbi4iCiAgICAgICAgICAgICkKCiAgICAgICAgcmVzaWR1YWwgPSBzZXFzCgogICAgICAgIHNlcXMgPSBzZWxmLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0oc2VxcykKCiAgICAgICAgcF9jaG9vc2UgPSBzZWxmLnBfY2hvb3NlX2xheWVyKHNlcXMsIGVuY29kZXJfb3V0cHV0KQoKICAgICAgICBzZXFzID0gc2VsZi5lbmNvZGVyX2RlY29kZXJfYXR0bigKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBlbmNvZGVyX291dHB1dCwKICAgICAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgIGVuY29kZXJfb3V0cHV0LAogICAgICAgICkKCiAgICAgICAgaWYgc2VsZi5lbmNvZGVyX2RlY29kZXJfYXR0bl9kcm9wb3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZXFzID0gc2VsZi5lbmNvZGVyX2RlY29kZXJfYXR0bl9kcm9wb3V0KHNlcXMpCgogICAgICAgIHNlcXMgPSBzZXFzICsgcmVzaWR1YWwKCiAgICAgICAgcmV0dXJuIHNlcXMsIHBfY2hvb3NlCgogICAgZGVmIF9mb3J3YXJkX2ZmbihzZWxmLCBzZXFzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICByZXNpZHVhbCA9IHNlcXMKCiAgICAgICAgc2VxcyA9IHNlbGYuZmZuX2xheWVyX25vcm0oc2VxcykKCiAgICAgICAgc2VxcyA9IHNlbGYuZmZuKHNlcXMpCgogICAgICAgIGlmIHNlbGYuZmZuX2Ryb3BvdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLmZmbl9kcm9wb3V0KHNlcXMpCgogICAgICAgIHNlcXMgPSBzZXFzICsgcmVzaWR1YWwKCiAgICAgICAgcmV0dXJuIHNlcXMK'),
    ('seamless/src/seamless_communication/models/conformer_shaw/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmNvbmZvcm1lcl9zaGF3LmJ1aWxkZXIgaW1wb3J0ICgKICAgIENvbmZvcm1lclNoYXdFbmNvZGVyQnVpbGRlciBhcyBDb25mb3JtZXJTaGF3RW5jb2RlckJ1aWxkZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5jb25mb3JtZXJfc2hhdy5idWlsZGVyIGltcG9ydCAoCiAgICBDb25mb3JtZXJTaGF3RW5jb2RlckNvbmZpZyBhcyBDb25mb3JtZXJTaGF3RW5jb2RlckNvbmZpZywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmNvbmZvcm1lcl9zaGF3LmJ1aWxkZXIgaW1wb3J0ICgKICAgIGNvbmZvcm1lcl9zaGF3X2FyY2hzIGFzIGNvbmZvcm1lcl9zaGF3X2FyY2hzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuY29uZm9ybWVyX3NoYXcuYnVpbGRlciBpbXBvcnQgKAogICAgY3JlYXRlX2NvbmZvcm1lcl9zaGF3X21vZGVsIGFzIGNyZWF0ZV9jb25mb3JtZXJfc2hhd19tb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmNvbmZvcm1lcl9zaGF3LmxvYWRlciBpbXBvcnQgKAogICAgbG9hZF9jb25mb3JtZXJfc2hhd19tb2RlbCBhcyBsb2FkX2NvbmZvcm1lcl9zaGF3X21vZGVsLAopCg=='),
    ('seamless/src/seamless_communication/models/conformer_shaw/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBNYXBwaW5nCgppbXBvcnQgdG9yY2gKCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcgpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscyBpbXBvcnQgTW9kZWxMb2FkZXIKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMuY2hlY2twb2ludCBpbXBvcnQgY29udmVydF9mYWlyc2VxX2NoZWNrcG9pbnQKZnJvbSBmYWlyc2VxMi5tb2RlbHMud2F2MnZlYzIuYnVpbGRlciBpbXBvcnQgV2F2MlZlYzJDb25maWcKZnJvbSBmYWlyc2VxMi5tb2RlbHMud2F2MnZlYzIubG9hZGVyIGltcG9ydCBsb2FkX3dhdjJ2ZWMyX2NvbmZpZwpmcm9tIGZhaXJzZXEyLm1vZGVscy53YXYydmVjMi5tb2RlbCBpbXBvcnQgV2F2MlZlYzJNb2RlbAoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5jb25mb3JtZXJfc2hhdy5idWlsZGVyIGltcG9ydCAoCiAgICBjcmVhdGVfY29uZm9ybWVyX3NoYXdfbW9kZWwsCikKCgpkZWYgY29udmVydF9jb25mb3JtZXJfc2hhd19jaGVja3BvaW50KAogICAgY2hlY2twb2ludDogTWFwcGluZ1tzdHIsIEFueV0sIGNvbmZpZzogV2F2MlZlYzJDb25maWcKKSAtPiBNYXBwaW5nW3N0ciwgQW55XToKICAgICIiIkNvbnZlcnQgYSBmYWlyc2VxIGNvbmZvcm1lciBzaGF3IGNoZWNrcG9pbnQgdG8gZmFpcnNlcTIuIiIiCiAgICBzdGF0ZV9kaWN0ID0gY2hlY2twb2ludFsibW9kZWwiXQoKICAgICMgQ2hlY2sgaWYgd2UgaGF2ZSBhIGZhaXJzZXEyIGNoZWNrcG9pbnQuCiAgICBpZiAiZmluYWxfdGFyZ2V0X3Byb2oud2VpZ2h0IiBpbiBzdGF0ZV9kaWN0OgogICAgICAgIHJldHVybiBjaGVja3BvaW50CgogICAgZm9yIGtleSBpbiAoCiAgICAgICAgIm1sbV9wcm9qLndlaWdodCIsCiAgICAgICAgIm1sbV9wcm9qLmJpYXMiLAogICAgICAgICJlbmNvZGVyLmxheWVyX25vcm0ud2VpZ2h0IiwKICAgICAgICAiZW5jb2Rlci5sYXllcl9ub3JtLmJpYXMiLAogICAgKToKICAgICAgICBpZiBrZXkgaW4gc3RhdGVfZGljdDoKICAgICAgICAgICAgZGVsIHN0YXRlX2RpY3Rba2V5XQoKICAgIHN0YXRlX2RpY3RbInF1YW50aXplci5udW1fdXBkYXRlcyJdID0gdG9yY2guemVyb3MoKCksIGRldmljZT0iY3B1IikKCiAgICBrZXlfbWFwID0gewogICAgICAgICMgZm10OiBvZmYKICAgICAgICByIl5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLm91dF9wcm9qXC4iOiAgICAgICAgICAgIHIiZW5jb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5yZWxfa19lbWJlZGRpbmdcLiI6ICAgICByImVuY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5zZHBhLnJlbF9rX2VtYmVkLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9tb2R1bGVcLmRlcHRod2lzZV9jb252XC4iOiAgICByImVuY29kZXIubGF5ZXJzLlwxLmNvbnYuZGVwdGh3aXNlX2NvbnYuIiwKICAgICAgICByIl5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwubGF5ZXJfbm9ybVwuIjogICAgICAgIHIiZW5jb2Rlci5sYXllcnMuXDEuY29udl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9tb2R1bGVcLmxheWVyX25vcm0yXC4iOiAgICAgICByImVuY29kZXIubGF5ZXJzLlwxLmNvbnYubGF5ZXJfbm9ybS4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5wb2ludHdpc2VfY29udjFcLiI6ICAgciJlbmNvZGVyLmxheWVycy5cMS5jb252LnBvaW50d2lzZV9jb252MS4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5wb2ludHdpc2VfY29udjJcLiI6ICAgciJlbmNvZGVyLmxheWVycy5cMS5jb252LnBvaW50d2lzZV9jb252Mi4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZjMVwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgciJlbmNvZGVyLmxheWVycy5cMS5mZm4uaW5uZXJfcHJvai4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgciJlbmNvZGVyLmxheWVycy5cMS5mZm4ub3V0cHV0X3Byb2ouIiwKICAgICAgICByIl5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgIHIiZW5jb2Rlci5sYXllcnMuXDEuZmZuXDJfbGF5ZXJfbm9ybS4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZmbigxfDIpXC53XzFcLiI6ICAgICAgICAgICAgICAgICAgciJlbmNvZGVyLmxheWVycy5cMS5mZm5cMi5pbm5lcl9wcm9qLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmZuKDF8MilcLndfMlwuIjogICAgICAgICAgICAgICAgICByImVuY29kZXIubGF5ZXJzLlwxLmZmblwyLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICByImVuY29kZXIubGF5ZXJzLlwxLmxheWVyX25vcm0uIiwKICAgICAgICByIl5lbmNvZGVyXC5lbWJlZF90b2tlbnNcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIiZW5jb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgIHIiXmVuY29kZXJcLnBvc19jb252XC4wXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJlbmNvZGVyX2Zyb250ZW5kLnBvc19lbmNvZGVyLmNvbnYuIiwKICAgICAgICByIl5mZWF0dXJlX2V4dHJhY3RvclwuY29udl9sYXllcnNcLihbMC05XSspXC4wXC4iOiAgICAgICAgICAgICAgIHIiZW5jb2Rlcl9mcm9udGVuZC5mZWF0dXJlX2V4dHJhY3Rvci5sYXllcnMuXDEuY29udi4iLAogICAgICAgIHIiXmZlYXR1cmVfZXh0cmFjdG9yXC5jb252X2xheWVyc1wuKFswLTldKylcLjJcLjFcLiI6ICAgICAgICAgICAgciJlbmNvZGVyX2Zyb250ZW5kLmZlYXR1cmVfZXh0cmFjdG9yLmxheWVycy5cMS5sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZmVhdHVyZV9leHRyYWN0b3JcLmNvbnZfbGF5ZXJzXC4wXC4yXC4iOiAgICAgICAgICAgICAgICAgICAgICByImVuY29kZXJfZnJvbnRlbmQuZmVhdHVyZV9leHRyYWN0b3IubGF5ZXJzLjAuZ3JvdXBfbm9ybS4iLAogICAgICAgIHIiXmxheWVyX25vcm1cLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJlbmNvZGVyX2Zyb250ZW5kLnBvc3RfZXh0cmFjdF9sYXllcl9ub3JtLiIsCiAgICAgICAgciJecG9zdF9leHRyYWN0X3Byb2pcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByImVuY29kZXJfZnJvbnRlbmQubW9kZWxfZGltX3Byb2ouIiwKICAgICAgICByIl5tYXNrX2VtYiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIibWFza2VyLnRlbXBvcmFsX21hc2tfZW1iZWQiLAogICAgICAgIHIiXnF1YW50aXplclwudmFycyI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJxdWFudGl6ZXIuZW50cmllcyIsCiAgICAgICAgciJecXVhbnRpemVyXC53ZWlnaHRfcHJvalwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInF1YW50aXplci5lbnRyeV9wcm9qLiIsCiAgICAgICAgciJecHJvamVjdF9xXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByImZpbmFsX3RhcmdldF9wcm9qLiIsCiAgICAgICAgIyBmbXQ6IG9uCiAgICB9CgogICAgcmV0dXJuIGNvbnZlcnRfZmFpcnNlcV9jaGVja3BvaW50KGNoZWNrcG9pbnQsIGtleV9tYXApCgoKbG9hZF9jb25mb3JtZXJfc2hhd19tb2RlbCA9IE1vZGVsTG9hZGVyW1dhdjJWZWMyTW9kZWwsIFdhdjJWZWMyQ29uZmlnXSgKICAgIGFzc2V0X3N0b3JlLAogICAgZG93bmxvYWRfbWFuYWdlciwKICAgIGxvYWRfd2F2MnZlYzJfY29uZmlnLAogICAgY3JlYXRlX2NvbmZvcm1lcl9zaGF3X21vZGVsLAogICAgY29udmVydF9jb25mb3JtZXJfc2hhd19jaGVja3BvaW50LAopCg=='),
    ('seamless/src/seamless_communication/models/conformer_shaw/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBhc2RpY3QsIGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwKCmZyb20gZmFpcnNlcTIubW9kZWxzLmNvbmZvcm1lciBpbXBvcnQgQ29uZm9ybWVyQ29udm9sdXRpb24KZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMuYXJjaF9yZWdpc3RyeSBpbXBvcnQgQXJjaGl0ZWN0dXJlUmVnaXN0cnkKZnJvbSBmYWlyc2VxMi5tb2RlbHMudzJ2YmVydCBpbXBvcnQgdzJ2YmVydF9hcmNocwpmcm9tIGZhaXJzZXEyLm1vZGVscy53YXYydmVjMi5idWlsZGVyIGltcG9ydCAoCiAgICBXYXYyVmVjMkJ1aWxkZXIsCiAgICBXYXYyVmVjMkNvbmZpZywKICAgIFdhdjJWZWMyRW5jb2RlckJ1aWxkZXIsCiAgICBXYXYyVmVjMkVuY29kZXJDb25maWcsCiAgICB3YXYydmVjMl9hcmNoLAopCmZyb20gZmFpcnNlcTIubW9kZWxzLndhdjJ2ZWMyLm1vZGVsIGltcG9ydCBXYXYyVmVjMk1vZGVsCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0IFNEUEEsIFNoYXdSZWxhdGl2ZVBvc2l0aW9uU0RQQSwgY3JlYXRlX2RlZmF1bHRfc2RwYQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQoKCkBkYXRhY2xhc3MKY2xhc3MgU2hhd1JlbGF0aXZlUG9zaXRpb25TRFBBQ29uZmlnOgogICAgIiIiSG9sZHMgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIDpjbGFzczpTaGF3UmVsYXRpdmVQb3NpdGlvblNEUEEgbW9kdWxlLiIiIgoKICAgIG1heF9sZWZ0X3JlbF9wb3M6IGludAogICAgIiIiVGhlIGxlZnQgY2xpcHBpbmcgdmFsdWUgZm9yIHJlbGF0aXZlIHBvc2l0aW9ucy4iIiIKCiAgICBtYXhfcmlnaHRfcmVsX3BvczogT3B0aW9uYWxbaW50XQogICAgIiIiVGhlIHJpZ2h0IGNsaXBwaW5nIHZhbHVlIGZvciByZWxhdGl2ZSBwb3NpdGlvbnMuIiIiCgogICAgdXNlX3JlbF9wb3NfdmFsdWVzOiBib29sID0gRmFsc2UKICAgICIiIklmIFRydWUsIGFsc28gdXNlcyByZWxhdGl2ZSBwb3NpdGlvbiB2YWx1ZXMgdG8gY29tcHV0ZSByZWxhdGl2ZSBhdHRlbnRpb24uIiIiCgoKQGRhdGFjbGFzcwpjbGFzcyBDb25mb3JtZXJTaGF3RW5jb2RlckNvbmZpZyhXYXYyVmVjMkVuY29kZXJDb25maWcpOgogICAgIiIiSG9sZHMgdGhlIGNvbmZpZ3VyYXRpb24gb2YgYSBjb25mb3JtZXIgc2hhdyBlbmNvZGVyLiIiIgoKICAgIHNoYXdfcmVsX3Bvc19zZHBhX2NvbmZpZzogT3B0aW9uYWxbU2hhd1JlbGF0aXZlUG9zaXRpb25TRFBBQ29uZmlnXQogICAgIiIiVGhlIHBhcmFtZXRlcnMgZm9yIFNoYXdSZWxhdGl2ZVBvc2l0aW9uU0RQQS4iIiIKCgpjb25mb3JtZXJfc2hhd19hcmNocyA9IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5W0NvbmZvcm1lclNoYXdFbmNvZGVyQ29uZmlnXSgKICAgICJjb25mb3JtZXJfc2hhdyIKKQoKY29uZm9ybWVyX3NoYXdfYXJjaCA9IGNvbmZvcm1lcl9zaGF3X2FyY2hzLmRlY29yYXRvcgoKCkBjb25mb3JtZXJfc2hhd19hcmNoKCI2MDBtIikKZGVmIF9jb25mb3JtZXJfc2hhd182MDBtX2VuY29kZXIoKSAtPiBDb25mb3JtZXJTaGF3RW5jb2RlckNvbmZpZzoKICAgIHcydmJlcnRfY29uZmlnID0gdzJ2YmVydF9hcmNocy5nZXRfY29uZmlnKCI2MDBtIikKICAgIHcydjJfZW5jb2Rlcl9jb25maWcgPSB3MnZiZXJ0X2NvbmZpZy53MnYyX2NvbmZpZy5lbmNvZGVyX2NvbmZpZwogICAgc2RwYV9jb25maWcgPSBTaGF3UmVsYXRpdmVQb3NpdGlvblNEUEFDb25maWcoCiAgICAgICAgbWF4X2xlZnRfcmVsX3Bvcz02NCwKICAgICAgICBtYXhfcmlnaHRfcmVsX3Bvcz04LAogICAgICAgIHVzZV9yZWxfcG9zX3ZhbHVlcz1GYWxzZSwKICAgICkKICAgIGNvbmZvcm1lcl9zaGF3X2VuY29kZXJfY29uZmlnID0gQ29uZm9ybWVyU2hhd0VuY29kZXJDb25maWcoCiAgICAgICAgKiphc2RpY3QodzJ2Ml9lbmNvZGVyX2NvbmZpZyksCiAgICAgICAgc2hhd19yZWxfcG9zX3NkcGFfY29uZmlnPXNkcGFfY29uZmlnLAogICAgKQogICAgY29uZm9ybWVyX3NoYXdfZW5jb2Rlcl9jb25maWcucG9zX2VuY29kZXJfdHlwZSA9ICJzaGF3X3JlbGF0aXZlIgogICAgcmV0dXJuIGNvbmZvcm1lcl9zaGF3X2VuY29kZXJfY29uZmlnCgoKQHdhdjJ2ZWMyX2FyY2goImNvbmZvcm1lcl9zaGF3XzYwMG0iKQpkZWYgX2NvbmZvcm1lcl9zaGF3XzYwMG0oKSAtPiBXYXYyVmVjMkNvbmZpZzoKICAgIGVuY29kZXJfY29uZmlnID0gX2NvbmZvcm1lcl9zaGF3XzYwMG1fZW5jb2RlcigpCgogICAgcmV0dXJuIFdhdjJWZWMyQ29uZmlnKAogICAgICAgIGVuY29kZXJfY29uZmlnLAogICAgICAgIGZpbmFsX2RpbT03NjgsCiAgICAgICAgZmluYWxfcHJval9iaWFzPVRydWUsCiAgICAgICAgdGVtcG9yYWxfbWFza19zcGFuX2xlbj0xMCwKICAgICAgICBtYXhfdGVtcG9yYWxfbWFza19wcm9iPTAuNjUsCiAgICAgICAgc3BhdGlhbF9tYXNrX3NwYW5fbGVuPTEwLAogICAgICAgIG1heF9zcGF0aWFsX21hc2tfcHJvYj0wLjAsCiAgICAgICAgcXVhbnRpemVkX2RpbT03NjgsCiAgICAgICAgbnVtX2NvZGVib29rcz0yLAogICAgICAgIG51bV9jb2RlYm9va19lbnRyaWVzPTMyMCwKICAgICAgICBjb2RlYm9va19zYW1wbGluZ190ZW1wZXJhdHVyZT0oMi4wLCAwLjEsIDAuOTk5OTk1KSwKICAgICAgICBudW1fZGlzdHJhY3RvcnM9MTAwLAogICAgICAgIGxvZ2l0X3RlbXA9MC4xLAogICAgICAgIGRpdmVyc2l0eV9sb3NzX3dlaWdodD0wLjIsCiAgICApCgoKY2xhc3MgQ29uZm9ybWVyU2hhd0VuY29kZXJCdWlsZGVyKFdhdjJWZWMyRW5jb2RlckJ1aWxkZXIpOgogICAgIiIiCiAgICBCdWlsZHMgbW9kdWxlcyBvZiBhIGBDb25mb3JtZXJTaGF3RW5jb2RlckJ1aWxkZXJgLgoKICAgIFRoaXMgaXMgYSBDb25mb3JtZXIgYXJjaGl0ZWN0dXJlIHdpdGggdGhlc2UgZGlmZmVyZW5jZXM6CiAgICAtIFNoYXdSZWxhdGl2ZVBvc2l0aW9uU0RQQSBhcyB0aGUgU0RQQS4KICAgIC0gQ29uZm9ybWVyQ29udm9sdXRpb24gd2l0aCBjYXVzYWwgZGVwdGh3aXNlIGNvbnZvbHV0aW9uCiAgICBhbmQgbm9ybV90eXBlICJsYXllcl9ub3JtIi4KICAgICIiIgoKICAgIGNvbmZpZzogQ29uZm9ybWVyU2hhd0VuY29kZXJDb25maWcKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IENvbmZvcm1lclNoYXdFbmNvZGVyQ29uZmlnLAogICAgICAgICosCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gY29uZmlnOgogICAgICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICAgICAgOnBhcmFtIGRldmljZToKICAgICAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBpbml0aWFsaXplIG1vZHVsZXMuCiAgICAgICAgOnBhcmFtIGR0eXBlOgogICAgICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgICAgICIiIgogICAgICAgIHN1cGVyKCkuX19pbml0X18oY29uZmlnLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKCiAgICAgICAgYXNzZXJ0IHNlbGYuY29uZmlnLnVzZV9jb25mb3JtZXIsICJUaGlzIGFyY2hpdGVjdHVyZSBvbmx5IHN1cHBvcnRzIGEgQ29uZm9ybWVyLiIKICAgICAgICBhc3NlcnQgKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5wb3NfZW5jb2Rlcl90eXBlID09ICJzaGF3X3JlbGF0aXZlIgogICAgICAgICksICJUaGlzIGFyY2hpdGVjdHVyZSBvbmx5IHN1cHBvcnRzIFNoYXdSZWxhdGl2ZVBvc2l0aW9uU0RQQS4iCgogICAgZGVmIGJ1aWxkX3NkcGEoc2VsZikgLT4gU0RQQToKICAgICAgICBpZiBzZWxmLmNvbmZpZy5zaGF3X3JlbF9wb3Nfc2RwYV9jb25maWcgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJgc2hhd19yZWxfcG9zX3NkcGFfY29uZmlnYCBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGBwb3NfZW5jb2Rlcl90eXBlYCBpcyAnc2hhd19yZWxhdGl2ZScuIgogICAgICAgICAgICApCgogICAgICAgIHNkcGEgPSBjcmVhdGVfZGVmYXVsdF9zZHBhKGF0dG5fZHJvcG91dF9wPXNlbGYuY29uZmlnLmF0dG5fZHJvcG91dF9wKQoKICAgICAgICBzZHBhX2NvbmZpZyA9IHNlbGYuY29uZmlnLnNoYXdfcmVsX3Bvc19zZHBhX2NvbmZpZwoKICAgICAgICByZXR1cm4gU2hhd1JlbGF0aXZlUG9zaXRpb25TRFBBKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm51bV9lbmNvZGVyX2F0dG5faGVhZHMsCiAgICAgICAgICAgIHNkcGFfY29uZmlnLm1heF9sZWZ0X3JlbF9wb3MsCiAgICAgICAgICAgIG1heF9yaWdodF9yZWxfcG9zPXNkcGFfY29uZmlnLm1heF9yaWdodF9yZWxfcG9zLAogICAgICAgICAgICB1c2VfcmVsX3Bvc192YWx1ZXM9c2RwYV9jb25maWcudXNlX3JlbF9wb3NfdmFsdWVzLAogICAgICAgICAgICBpbm5lcl9zZHBhPXNkcGEsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2NvbmZvcm1lcl9jb252KHNlbGYpIC0+IENvbmZvcm1lckNvbnZvbHV0aW9uOgogICAgICAgIHJldHVybiBDb25mb3JtZXJDb252b2x1dGlvbigKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5kZXB0aHdpc2VfY29udl9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgY2F1c2FsX2RlcHRod2lzZV9jb252PVRydWUsCiAgICAgICAgICAgIG5vcm1fdHlwZT0ibGF5ZXJfbm9ybSIsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgoKZGVmIGNyZWF0ZV9jb25mb3JtZXJfc2hhd19tb2RlbCgKICAgIGNvbmZpZzogV2F2MlZlYzJDb25maWcsCiAgICAqLAogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAopIC0+IFdhdjJWZWMyTW9kZWw6CiAgICAiIiJDcmVhdGUgYSBjb25mb3JtZXIgc2hhdyBtb2RlbC4KCiAgICA6cGFyYW0gY29uZmlnOgogICAgICAgIFRoZSBjb25maWd1cmF0aW9uLgogICAgOnBhcmFtIGRldmljZToKICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgIDpwYXJhbSBkdHlwZToKICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgIiIiCiAgICBhc3NlcnQgaXNpbnN0YW5jZShjb25maWcuZW5jb2Rlcl9jb25maWcsIENvbmZvcm1lclNoYXdFbmNvZGVyQ29uZmlnKQoKICAgIGVuY29kZXJfYnVpbGRlciA9IENvbmZvcm1lclNoYXdFbmNvZGVyQnVpbGRlcigKICAgICAgICBjb25maWcuZW5jb2Rlcl9jb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICApCgogICAgYnVpbGRlciA9IFdhdjJWZWMyQnVpbGRlcihjb25maWcsIGVuY29kZXJfYnVpbGRlciwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCgogICAgcmV0dXJuIGJ1aWxkZXIuYnVpbGRfbW9kZWwoKQo='),
    ('seamless/src/seamless_communication/models/generator/streamable.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgppbXBvcnQgbWF0aAppbXBvcnQgd2FybmluZ3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgTGlzdCwgTGl0ZXJhbCwgT3B0aW9uYWwsIFR1cGxlLCBUeXBlVmFyCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UKZnJvbSB0b3JjaC5ubiBpbXBvcnQgKAogICAgRUxVLAogICAgTFNUTSwKICAgIENvbnYxZCwKICAgIENvbnZUcmFuc3Bvc2UxZCwKICAgIEdyb3VwTm9ybSwKICAgIElkZW50aXR5LAogICAgTW9kdWxlLAogICAgU2VxdWVudGlhbCwKKQpmcm9tIHRvcmNoLm5uIGltcG9ydCBmdW5jdGlvbmFsIGFzIEYKZnJvbSB0b3JjaC5ubi51dGlscyBpbXBvcnQgc3BlY3RyYWxfbm9ybSwgd2VpZ2h0X25vcm0gICMgdHlwZTogaWdub3JlW2F0dHItZGVmaW5lZF0KCkNPTlZfTk9STUFMSVpBVElPTlMgPSBmcm96ZW5zZXQoCiAgICBbIm5vbmUiLCAid2VpZ2h0X25vcm0iLCAic3BlY3RyYWxfbm9ybSIsICJ0aW1lX2dyb3VwX25vcm0iXQopCgoKZGVmIGFwcGx5X3BhcmFtZXRyaXphdGlvbl9ub3JtKAogICAgbW9kdWxlOiBNb2R1bGUsCiAgICBub3JtOiBMaXRlcmFsWyJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIl0gPSAibm9uZSIsCikgLT4gTW9kdWxlOgogICAgaWYgbm9ybSA9PSAid2VpZ2h0X25vcm0iOgogICAgICAgIHJldHVybiB3ZWlnaHRfbm9ybShtb2R1bGUpCiAgICBlbGlmIG5vcm0gPT0gInNwZWN0cmFsX25vcm0iOgogICAgICAgIHJldHVybiBzcGVjdHJhbF9ub3JtKG1vZHVsZSkKICAgIGVsc2U6CiAgICAgICAgIyBXZSBhbHJlYWR5IGNoZWNrIHdhcyBpbiBDT05WX05PUk1BTElaQVRJT04sIHNvIGFueSBvdGhlciBjaG9pY2UKICAgICAgICAjIGRvZXNuJ3QgbmVlZCByZXBhcmFtZXRyaXphdGlvbi4KICAgICAgICByZXR1cm4gbW9kdWxlCgoKZGVmIGdldF9ub3JtX21vZHVsZSggICMgdHlwZTogaWdub3JlW25vLXVudHlwZWQtZGVmXQogICAgbW9kdWxlOiBNb2R1bGUsCiAgICBjYXVzYWw6IGJvb2wgPSBGYWxzZSwKICAgIG5vcm06IExpdGVyYWxbIm5vbmUiLCAid2VpZ2h0X25vcm0iLCAic3BlY3RyYWxfbm9ybSIsICJ0aW1lX2dyb3VwX25vcm0iXSA9ICJub25lIiwKICAgICoqbm9ybV9rd2FyZ3MsCikgLT4gTW9kdWxlOgogICAgIiIiUmV0dXJuIHRoZSBwcm9wZXIgbm9ybWFsaXphdGlvbiBtb2R1bGUuIElmIGNhdXNhbCBpcyBUcnVlLCB0aGlzIHdpbGwgZW5zdXJlIHRoZSByZXR1cm5lZAogICAgbW9kdWxlIGlzIGNhdXNhbCwgb3IgcmV0dXJuIGFuIGVycm9yIGlmIHRoZSBub3JtYWxpemF0aW9uIGRvZXNuJ3Qgc3VwcG9ydCBjYXVzYWwgZXZhbHVhdGlvbi4KICAgICIiIgogICAgYXNzZXJ0IG5vcm0gaW4gQ09OVl9OT1JNQUxJWkFUSU9OUwogICAgaWYgbm9ybSA9PSAidGltZV9ncm91cF9ub3JtIjoKICAgICAgICBpZiBjYXVzYWw6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkdyb3VwTm9ybSBkb2Vzbid0IHN1cHBvcnQgY2F1c2FsIGV2YWx1YXRpb24uIikKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShtb2R1bGUsIHRvcmNoLm5uLm1vZHVsZXMuY29udi5fQ29udk5kKQogICAgICAgIHJldHVybiBHcm91cE5vcm0oMSwgbW9kdWxlLm91dF9jaGFubmVscywgKipub3JtX2t3YXJncykKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIElkZW50aXR5KCkKCgpkZWYgZ2V0X2V4dHJhX3BhZGRpbmdfZm9yX2NvbnYxZCgKICAgIHg6IHRvcmNoLlRlbnNvciwga2VybmVsX3NpemU6IGludCwgc3RyaWRlOiBpbnQsIHBhZGRpbmdfdG90YWw6IGludCA9IDAKKSAtPiBpbnQ6CiAgICAiIiJTZWUgYHBhZF9mb3JfY29udjFkYC4iIiIKICAgIGxlbmd0aCA9IHguc2hhcGVbLTFdCiAgICBuX2ZyYW1lcyA9IChsZW5ndGggLSBrZXJuZWxfc2l6ZSArIHBhZGRpbmdfdG90YWwpIC8gc3RyaWRlICsgMQogICAgaWRlYWxfbGVuZ3RoID0gKG1hdGguY2VpbChuX2ZyYW1lcykgLSAxKSAqIHN0cmlkZSArIChrZXJuZWxfc2l6ZSAtIHBhZGRpbmdfdG90YWwpCiAgICByZXR1cm4gaWRlYWxfbGVuZ3RoIC0gbGVuZ3RoCgoKZGVmIHBhZF9mb3JfY29udjFkKAogICAgeDogdG9yY2guVGVuc29yLCBrZXJuZWxfc2l6ZTogaW50LCBzdHJpZGU6IGludCwgcGFkZGluZ190b3RhbDogaW50ID0gMAopIC0+IHRvcmNoLlRlbnNvcjoKICAgICIiIlBhZCBmb3IgYSBjb252b2x1dGlvbiB0byBtYWtlIHN1cmUgdGhhdCB0aGUgbGFzdCB3aW5kb3cgaXMgZnVsbC4KICAgIEV4dHJhIHBhZGRpbmcgaXMgYWRkZWQgYXQgdGhlIGVuZC4gVGhpcyBpcyByZXF1aXJlZCB0byBlbnN1cmUgdGhhdCB3ZSBjYW4gcmVidWlsZAogICAgYW4gb3V0cHV0IG9mIHRoZSBzYW1lIGxlbmd0aCwgYXMgb3RoZXJ3aXNlLCBldmVuIHdpdGggcGFkZGluZywgc29tZSB0aW1lIHN0ZXBzCiAgICBtaWdodCBnZXQgcmVtb3ZlZC4KICAgIEZvciBpbnN0YW5jZSwgd2l0aCB0b3RhbCBwYWRkaW5nID0gNCwga2VybmVsIHNpemUgPSA0LCBzdHJpZGUgPSAyOgogICAgICAgIDAgMCAxIDIgMyA0IDUgMCAwICAgIyAoMHMgYXJlIHBhZGRpbmcpCiAgICAgICAgMSAgIDIgICAzICAgICAgICAgICAjIChvdXRwdXQgZnJhbWVzIG9mIGEgY29udm9sdXRpb24sIGxhc3QgMCBpcyBuZXZlciB1c2VkKQogICAgICAgIDAgMCAxIDIgMyA0IDUgMCAgICAgIyAob3V0cHV0IG9mIHRyLiBjb252LiwgYnV0IHBvcy4gNSBpcyBnb2luZyB0byBnZXQgcmVtb3ZlZCBhcyBwYWRkaW5nKQogICAgICAgICAgICAxIDIgMyA0ICAgICAgICAgIyBvbmNlIHlvdSByZW1vdmVkIHBhZGRpbmcsIHdlIGFyZSBtaXNzaW5nIG9uZSB0aW1lIHN0ZXAgIQogICAgIiIiCiAgICBleHRyYV9wYWRkaW5nID0gZ2V0X2V4dHJhX3BhZGRpbmdfZm9yX2NvbnYxZCh4LCBrZXJuZWxfc2l6ZSwgc3RyaWRlLCBwYWRkaW5nX3RvdGFsKQogICAgcmV0dXJuIEYucGFkKHgsICgwLCBleHRyYV9wYWRkaW5nKSkgICMgbm9xYQoKCmRlZiBwYWQxZCgKICAgIHg6IHRvcmNoLlRlbnNvciwKICAgIHBhZGRpbmdzOiBUdXBsZVtpbnQsIGludF0sCiAgICBtb2RlOiBzdHIgPSAiY29uc3RhbnQiLAogICAgdmFsdWU6IGZsb2F0ID0gMC4wLAopIC0+IHRvcmNoLlRlbnNvcjoKICAgICIiIlRpbnkgd3JhcHBlciBhcm91bmQgRi5wYWQsIGp1c3QgdG8gYWxsb3cgZm9yIHJlZmxlY3QgcGFkZGluZyBvbiBzbWFsbCBpbnB1dC4KICAgIElmIHRoaXMgaXMgdGhlIGNhc2UsIHdlIGluc2VydCBleHRyYSAwIHBhZGRpbmcgdG8gdGhlIHJpZ2h0IGJlZm9yZSB0aGUgcmVmbGVjdGlvbiBoYXBwZW4uCiAgICAiIiIKICAgIGxlbmd0aCA9IHguc2hhcGVbLTFdCiAgICBwYWRkaW5nX2xlZnQsIHBhZGRpbmdfcmlnaHQgPSBwYWRkaW5ncwogICAgYXNzZXJ0IHBhZGRpbmdfbGVmdCA+PSAwIGFuZCBwYWRkaW5nX3JpZ2h0ID49IDAsIChwYWRkaW5nX2xlZnQsIHBhZGRpbmdfcmlnaHQpCiAgICBpZiBtb2RlID09ICJyZWZsZWN0IjoKICAgICAgICBtYXhfcGFkID0gbWF4KHBhZGRpbmdfbGVmdCwgcGFkZGluZ19yaWdodCkKICAgICAgICBleHRyYV9wYWQgPSAwCiAgICAgICAgaWYgbGVuZ3RoIDw9IG1heF9wYWQ6CiAgICAgICAgICAgIGV4dHJhX3BhZCA9IG1heF9wYWQgLSBsZW5ndGggKyAxCiAgICAgICAgICAgIHggPSBGLnBhZCh4LCAoMCwgZXh0cmFfcGFkKSkKICAgICAgICBwYWRkZWQgPSBGLnBhZCh4LCBwYWRkaW5ncywgbW9kZSwgdmFsdWUpCiAgICAgICAgZW5kID0gcGFkZGVkLnNoYXBlWy0xXSAtIGV4dHJhX3BhZAogICAgICAgIHJldHVybiBwYWRkZWRbLi4uLCA6ZW5kXQogICAgZWxzZToKICAgICAgICByZXR1cm4gRi5wYWQoeCwgcGFkZGluZ3MsIG1vZGUsIHZhbHVlKQoKCmRlZiB1bnBhZDFkKHg6IHRvcmNoLlRlbnNvciwgcGFkZGluZ3M6IFR1cGxlW2ludCwgaW50XSkgLT4gdG9yY2guVGVuc29yOgogICAgIiIiUmVtb3ZlIHBhZGRpbmcgZnJvbSB4LCBoYW5kbGluZyBwcm9wZXJseSB6ZXJvIHBhZGRpbmcuIE9ubHkgZm9yIDFkISIiIgogICAgcGFkZGluZ19sZWZ0LCBwYWRkaW5nX3JpZ2h0ID0gcGFkZGluZ3MKICAgIGFzc2VydCBwYWRkaW5nX2xlZnQgPj0gMCBhbmQgcGFkZGluZ19yaWdodCA+PSAwLCAocGFkZGluZ19sZWZ0LCBwYWRkaW5nX3JpZ2h0KQogICAgYXNzZXJ0IChwYWRkaW5nX2xlZnQgKyBwYWRkaW5nX3JpZ2h0KSA8PSB4LnNoYXBlWy0xXQogICAgZW5kID0geC5zaGFwZVstMV0gLSBwYWRkaW5nX3JpZ2h0CiAgICByZXR1cm4geFsuLi4sIHBhZGRpbmdfbGVmdDplbmRdCgoKY2xhc3MgTm9ybUNvbnYxZChNb2R1bGUpOgogICAgIiIiV3JhcHBlciBhcm91bmQgQ29udjFkIGFuZCBub3JtYWxpemF0aW9uIGFwcGxpZWQgdG8gdGhpcyBjb252CiAgICB0byBwcm92aWRlIGEgdW5pZm9ybSBpbnRlcmZhY2UgYWNyb3NzIG5vcm1hbGl6YXRpb24gYXBwcm9hY2hlcy4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBzdHJpZGU6IGludCA9IDEsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICAgICAgZ3JvdXBzOiBpbnQgPSAxLAogICAgICAgIGJpYXM6IGJvb2wgPSBUcnVlLAogICAgICAgIGNhdXNhbDogYm9vbCA9IEZhbHNlLAogICAgICAgIG5vcm06IExpdGVyYWxbCiAgICAgICAgICAgICJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIgogICAgICAgIF0gPSAibm9uZSIsCiAgICAgICAgbm9ybV9rd2FyZ3M6IERpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb252OiBNb2R1bGUgPSBhcHBseV9wYXJhbWV0cml6YXRpb25fbm9ybSgKICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgaW5fY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBvdXRfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uLAogICAgICAgICAgICAgICAgZ3JvdXBzPWdyb3VwcywKICAgICAgICAgICAgICAgIGJpYXM9YmlhcywKICAgICAgICAgICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgbm9ybSwKICAgICAgICApCiAgICAgICAgc2VsZi5ub3JtOiBNb2R1bGUgPSBnZXRfbm9ybV9tb2R1bGUoc2VsZi5jb252LCBjYXVzYWwsIG5vcm0sICoqbm9ybV9rd2FyZ3MpCiAgICAgICAgc2VsZi5ub3JtX3R5cGUgPSBub3JtCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogdG9yY2guVGVuc29yKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAgICAgeCA9IHNlbGYuY29udih4KQogICAgICAgIHggPSBzZWxmLm5vcm0oeCkKICAgICAgICByZXR1cm4geAoKCmNsYXNzIE5vcm1Db252VHJhbnNwb3NlMWQoTW9kdWxlKToKICAgICIiIldyYXBwZXIgYXJvdW5kIENvbnZUcmFuc3Bvc2UxZCBhbmQgbm9ybWFsaXphdGlvbiBhcHBsaWVkIHRvIHRoaXMgY29udgogICAgdG8gcHJvdmlkZSBhIHVuaWZvcm0gaW50ZXJmYWNlIGFjcm9zcyBub3JtYWxpemF0aW9uIGFwcHJvYWNoZXMuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oICAjIHR5cGU6IGlnbm9yZVtuby11bnR5cGVkLWRlZl0KICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBzdHJpZGU6IGludCA9IDEsCiAgICAgICAgY2F1c2FsOiBib29sID0gRmFsc2UsCiAgICAgICAgbm9ybTogTGl0ZXJhbFsKICAgICAgICAgICAgIm5vbmUiLCAid2VpZ2h0X25vcm0iLCAic3BlY3RyYWxfbm9ybSIsICJ0aW1lX2dyb3VwX25vcm0iCiAgICAgICAgXSA9ICJub25lIiwKICAgICAgICBub3JtX2t3YXJnczogRGljdFtzdHIsIEFueV0gPSB7fSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmNvbnZ0ciA9IGFwcGx5X3BhcmFtZXRyaXphdGlvbl9ub3JtKAogICAgICAgICAgICBDb252VHJhbnNwb3NlMWQoCiAgICAgICAgICAgICAgICBpbl9jaGFubmVscz1pbl9jaGFubmVscywKICAgICAgICAgICAgICAgIG91dF9jaGFubmVscz1vdXRfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT1rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgIHN0cmlkZT1zdHJpZGUsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIG5vcm0sCiAgICAgICAgKQogICAgICAgIHNlbGYubm9ybSA9IGdldF9ub3JtX21vZHVsZShzZWxmLmNvbnZ0ciwgY2F1c2FsLCBub3JtLCAqKm5vcm1fa3dhcmdzKQogICAgICAgIHNlbGYubm9ybV90eXBlID0gbm9ybQoKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHg6IHRvcmNoLlRlbnNvcikgLT4gdG9yY2guVGVuc29yOgogICAgICAgIHggPSBzZWxmLmNvbnZ0cih4KQogICAgICAgIHggPSBzZWxmLm5vcm0oeCkKICAgICAgICByZXR1cm4geAoKCmNsYXNzIFN0cmVhbWFibGVDb252MWQoTW9kdWxlKToKICAgICIiIkNvbnYxZCB3aXRoIHNvbWUgYnVpbHRpbiBoYW5kbGluZyBvZiBhc3ltbWV0cmljIG9yIGNhdXNhbCBwYWRkaW5nCiAgICBhbmQgbm9ybWFsaXphdGlvbi4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBzdHJpZGU6IGludCA9IDEsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICAgICAgZ3JvdXBzOiBpbnQgPSAxLAogICAgICAgIGJpYXM6IGJvb2wgPSBUcnVlLAogICAgICAgIGNhdXNhbDogYm9vbCA9IEZhbHNlLAogICAgICAgIG5vcm06IExpdGVyYWxbCiAgICAgICAgICAgICJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIgogICAgICAgIF0gPSAibm9uZSIsCiAgICAgICAgbm9ybV9rd2FyZ3M6IERpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgcGFkX21vZGU6IHN0ciA9ICJyZWZsZWN0IiwKICAgICAgICBhY3RpdmF0aW9uOiBPcHRpb25hbFtNb2R1bGVdID0gTm9uZSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICAjIHdhcm4gdXNlciBvbiB1bnVzdWFsIHNldHVwIGJldHdlZW4gZGlsYXRpb24gYW5kIHN0cmlkZQogICAgICAgIGlmIHN0cmlkZSA+IDEgYW5kIGRpbGF0aW9uID4gMToKICAgICAgICAgICAgd2FybmluZ3Mud2FybigKICAgICAgICAgICAgICAgICJTdHJlYW1hYmxlQ29udjFkIGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGggc3RyaWRlID4gMSBhbmQgZGlsYXRpb24gPiAxIgogICAgICAgICAgICAgICAgZiIgKGtlcm5lbF9zaXplPXtrZXJuZWxfc2l6ZX0gc3RyaWRlPXtzdHJpZGV9LCBkaWxhdGlvbj17ZGlsYXRpb259KS4iCiAgICAgICAgICAgICkKICAgICAgICBzZWxmLmFjdGl2YXRpb24gPSBhY3RpdmF0aW9uCiAgICAgICAgc2VsZi5jb252ID0gTm9ybUNvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHMsCiAgICAgICAgICAgIG91dF9jaGFubmVscywKICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgZGlsYXRpb249ZGlsYXRpb24sCiAgICAgICAgICAgIGdyb3Vwcz1ncm91cHMsCiAgICAgICAgICAgIGJpYXM9YmlhcywKICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgbm9ybT1ub3JtLAogICAgICAgICAgICBub3JtX2t3YXJncz1ub3JtX2t3YXJncywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQogICAgICAgIHNlbGYuY2F1c2FsID0gY2F1c2FsCiAgICAgICAgc2VsZi5wYWRfbW9kZSA9IHBhZF9tb2RlCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogdG9yY2guVGVuc29yKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAgICAgaWYgc2VsZi5hY3RpdmF0aW9uOgogICAgICAgICAgICB4ID0gc2VsZi5hY3RpdmF0aW9uKHgpCiAgICAgICAga2VybmVsX3NpemU6IGludCA9IHNlbGYuY29udi5jb252Lmtlcm5lbF9zaXplWzBdICAjIHR5cGU6IGlnbm9yZVtpbmRleCxhc3NpZ25tZW50XQogICAgICAgIHN0cmlkZTogaW50ID0gc2VsZi5jb252LmNvbnYuc3RyaWRlWzBdICAjIHR5cGU6IGlnbm9yZVtpbmRleCxhc3NpZ25tZW50XQogICAgICAgIGRpbGF0aW9uID0gc2VsZi5jb252LmNvbnYuZGlsYXRpb25bMF0gICMgdHlwZTogaWdub3JlW2luZGV4XQogICAgICAgIGtlcm5lbF9zaXplID0gKCAgIyB0eXBlOiBpZ25vcmVbYXNzaWdubWVudF0KICAgICAgICAgICAga2VybmVsX3NpemUgLSAxCiAgICAgICAgKSAqIGRpbGF0aW9uICsgMSAgIyBlZmZlY3RpdmUga2VybmVsIHNpemUgd2l0aCBkaWxhdGlvbnMKICAgICAgICBwYWRkaW5nX3RvdGFsID0ga2VybmVsX3NpemUgLSBzdHJpZGUKICAgICAgICBleHRyYV9wYWRkaW5nID0gZ2V0X2V4dHJhX3BhZGRpbmdfZm9yX2NvbnYxZCgKICAgICAgICAgICAgeCwga2VybmVsX3NpemUsIHN0cmlkZSwgcGFkZGluZ190b3RhbAogICAgICAgICkKICAgICAgICBpZiBzZWxmLmNhdXNhbDoKICAgICAgICAgICAgIyBMZWZ0IHBhZGRpbmcgZm9yIGNhdXNhbAogICAgICAgICAgICB4ID0gcGFkMWQoeCwgKHBhZGRpbmdfdG90YWwsIGV4dHJhX3BhZGRpbmcpLCBtb2RlPXNlbGYucGFkX21vZGUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBBc3ltbWV0cmljIHBhZGRpbmcgcmVxdWlyZWQgZm9yIG9kZCBzdHJpZGVzCiAgICAgICAgICAgIHBhZGRpbmdfcmlnaHQgPSBwYWRkaW5nX3RvdGFsIC8vIDIKICAgICAgICAgICAgcGFkZGluZ19sZWZ0ID0gcGFkZGluZ190b3RhbCAtIHBhZGRpbmdfcmlnaHQKICAgICAgICAgICAgeCA9IHBhZDFkKAogICAgICAgICAgICAgICAgeCwgKHBhZGRpbmdfbGVmdCwgcGFkZGluZ19yaWdodCArIGV4dHJhX3BhZGRpbmcpLCBtb2RlPXNlbGYucGFkX21vZGUKICAgICAgICAgICAgKQogICAgICAgIHJldHVybiBzZWxmLmNvbnYoeCkgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgoKY2xhc3MgU3RyZWFtYWJsZUNvbnZUcmFuc3Bvc2UxZChNb2R1bGUpOgogICAgIiIiQ29udlRyYW5zcG9zZTFkIHdpdGggc29tZSBidWlsdGluIGhhbmRsaW5nIG9mIGFzeW1tZXRyaWMgb3IgY2F1c2FsIHBhZGRpbmcKICAgIGFuZCBub3JtYWxpemF0aW9uLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaW5fY2hhbm5lbHM6IGludCwKICAgICAgICBvdXRfY2hhbm5lbHM6IGludCwKICAgICAgICBrZXJuZWxfc2l6ZTogaW50LAogICAgICAgIHN0cmlkZTogaW50ID0gMSwKICAgICAgICBjYXVzYWw6IGJvb2wgPSBGYWxzZSwKICAgICAgICBub3JtOiBMaXRlcmFsWwogICAgICAgICAgICAibm9uZSIsICJ3ZWlnaHRfbm9ybSIsICJzcGVjdHJhbF9ub3JtIiwgInRpbWVfZ3JvdXBfbm9ybSIKICAgICAgICBdID0gIm5vbmUiLAogICAgICAgIHRyaW1fcmlnaHRfcmF0aW86IGZsb2F0ID0gMS4wLAogICAgICAgIG5vcm1fa3dhcmdzOiBEaWN0W3N0ciwgQW55XSA9IHt9LAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYuY29udnRyID0gTm9ybUNvbnZUcmFuc3Bvc2UxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHMsCiAgICAgICAgICAgIG91dF9jaGFubmVscywKICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgbm9ybT1ub3JtLAogICAgICAgICAgICBub3JtX2t3YXJncz1ub3JtX2t3YXJncywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQogICAgICAgIHNlbGYuY2F1c2FsID0gY2F1c2FsCiAgICAgICAgc2VsZi50cmltX3JpZ2h0X3JhdGlvID0gdHJpbV9yaWdodF9yYXRpbwogICAgICAgIGFzc2VydCAoCiAgICAgICAgICAgIHNlbGYuY2F1c2FsIG9yIHNlbGYudHJpbV9yaWdodF9yYXRpbyA9PSAxLjAKICAgICAgICApLCAiYHRyaW1fcmlnaHRfcmF0aW9gICE9IDEuMCBvbmx5IG1ha2VzIHNlbnNlIGZvciBjYXVzYWwgY29udm9sdXRpb25zIgogICAgICAgIGFzc2VydCBzZWxmLnRyaW1fcmlnaHRfcmF0aW8gPj0gMC4wIGFuZCBzZWxmLnRyaW1fcmlnaHRfcmF0aW8gPD0gMS4wCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogdG9yY2guVGVuc29yKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAgICAga2VybmVsX3NpemU6IGludCA9IHNlbGYuY29udnRyLmNvbnZ0ci5rZXJuZWxfc2l6ZVswXSAgIyB0eXBlOiBpZ25vcmVbaW5kZXgsYXNzaWdubWVudF0KICAgICAgICBzdHJpZGU6IGludCA9IHNlbGYuY29udnRyLmNvbnZ0ci5zdHJpZGVbMF0gICMgdHlwZTogaWdub3JlW2luZGV4LGFzc2lnbm1lbnRdCiAgICAgICAgcGFkZGluZ190b3RhbCA9IGtlcm5lbF9zaXplIC0gc3RyaWRlCgogICAgICAgIHk6IHRvcmNoLlRlbnNvciA9IHNlbGYuY29udnRyKHgpCgogICAgICAgICMgV2Ugd2lsbCBvbmx5IHRyaW0gZml4ZWQgcGFkZGluZy4gRXh0cmEgcGFkZGluZyBmcm9tIGBwYWRfZm9yX2NvbnYxZGAgd291bGQgYmUKICAgICAgICAjIHJlbW92ZWQgYXQgdGhlIHZlcnkgZW5kLCB3aGVuIGtlZXBpbmcgb25seSB0aGUgcmlnaHQgbGVuZ3RoIGZvciB0aGUgb3V0cHV0LAogICAgICAgICMgYXMgcmVtb3ZpbmcgaXQgaGVyZSB3b3VsZCByZXF1aXJlIGFsc28gcGFzc2luZyB0aGUgbGVuZ3RoIGF0IHRoZSBtYXRjaGluZyBsYXllcgogICAgICAgICMgaW4gdGhlIGVuY29kZXIuCiAgICAgICAgaWYgc2VsZi5jYXVzYWw6CiAgICAgICAgICAgICMgVHJpbSB0aGUgcGFkZGluZyBvbiB0aGUgcmlnaHQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgcmF0aW8KICAgICAgICAgICAgIyBpZiB0cmltX3JpZ2h0X3JhdGlvID0gMS4wLCB0cmltIGV2ZXJ5dGhpbmcgZnJvbSByaWdodAogICAgICAgICAgICBwYWRkaW5nX3JpZ2h0ID0gbWF0aC5jZWlsKHBhZGRpbmdfdG90YWwgKiBzZWxmLnRyaW1fcmlnaHRfcmF0aW8pCiAgICAgICAgICAgIHBhZGRpbmdfbGVmdCA9IHBhZGRpbmdfdG90YWwgLSBwYWRkaW5nX3JpZ2h0CiAgICAgICAgICAgIHkgPSB1bnBhZDFkKHksIChwYWRkaW5nX2xlZnQsIHBhZGRpbmdfcmlnaHQpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgQXN5bW1ldHJpYyBwYWRkaW5nIHJlcXVpcmVkIGZvciBvZGQgc3RyaWRlcwogICAgICAgICAgICBwYWRkaW5nX3JpZ2h0ID0gcGFkZGluZ190b3RhbCAvLyAyCiAgICAgICAgICAgIHBhZGRpbmdfbGVmdCA9IHBhZGRpbmdfdG90YWwgLSBwYWRkaW5nX3JpZ2h0CiAgICAgICAgICAgIHkgPSB1bnBhZDFkKHksIChwYWRkaW5nX2xlZnQsIHBhZGRpbmdfcmlnaHQpKQogICAgICAgIHJldHVybiB5CgoKY2xhc3MgU3RyZWFtYWJsZUxTVE0oTW9kdWxlKToKICAgICIiIkxTVE0gd2l0aG91dCB3b3JyeWluZyBhYm91dCB0aGUgaGlkZGVuIHN0YXRlLCBub3IgdGhlIGxheW91dCBvZiB0aGUgZGF0YS4KICAgIEV4cGVjdHMgaW5wdXQgYXMgY29udm9sdXRpb25hbCBsYXlvdXQuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBkaW1lbnNpb246IGludCwKICAgICAgICBudW1fbGF5ZXJzOiBpbnQgPSAyLAogICAgICAgIHNraXA6IGJvb2wgPSBUcnVlLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYuc2tpcCA9IHNraXAKICAgICAgICBzZWxmLmxzdG0gPSBMU1RNKGRpbWVuc2lvbiwgZGltZW5zaW9uLCBudW1fbGF5ZXJzLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiB0b3JjaC5UZW5zb3IpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICB4ID0geC5wZXJtdXRlKDIsIDAsIDEpCiAgICAgICAgeSwgXyA9IHNlbGYubHN0bSh4KQogICAgICAgIGlmIHNlbGYuc2tpcDoKICAgICAgICAgICAgeSA9IHkgKyB4CiAgICAgICAgeSA9IHkucGVybXV0ZSgxLCAyLCAwKQogICAgICAgIHJldHVybiB5ICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQoKCmNsYXNzIFN0cmVhbWFibGVSZXNuZXRCbG9jayhNb2R1bGUpOgogICAgIiIiY3VzdG9tIFJlc2lkdWFsIGJsb2NrIG1vZGVsIHdpdGggc3RyZWFtYWJsZSBjb252bmV0LgoKICAgIEFyZ3M6CiAgICAgICAgZGltIChpbnQpOiBEaW1lbnNpb24gb2YgdGhlIGlucHV0L291dHB1dC4KICAgICAgICBrZXJuZWxfc2l6ZXMgKGxpc3QpOiBMaXN0IG9mIGtlcm5lbCBzaXplcyBmb3IgdGhlIGNvbnZvbHV0aW9ucy4KICAgICAgICBkaWxhdGlvbnMgKGxpc3QpOiBMaXN0IG9mIGRpbGF0aW9ucyBmb3IgdGhlIGNvbnZvbHV0aW9ucy4KICAgICAgICBhY3RpdmF0aW9uX3BhcmFtcyAoZGljdCk6IFBhcmFtZXRlcnMgdG8gcHJvdmlkZSB0byB0aGUgKEVMVSkgYWN0aXZhdGlvbiBmdW5jdGlvbi4KICAgICAgICBub3JtIChzdHIpOiBOb3JtYWxpemF0aW9uIG1ldGhvZC4KICAgICAgICBub3JtX3BhcmFtcyAoZGljdCk6IFBhcmFtZXRlcnMgdG8gcHJvdmlkZSB0byB0aGUgdW5kZXJseWluZyBub3JtYWxpemF0aW9uIHVzZWQgYWxvbmcgd2l0aCB0aGUgY29udm9sdXRpb24uCiAgICAgICAgY2F1c2FsIChib29sKTogV2hldGhlciB0byB1c2UgZnVsbHkgY2F1c2FsIGNvbnZvbHV0aW9uLgogICAgICAgIHBhZF9tb2RlIChzdHIpOiBQYWRkaW5nIG1vZGUgZm9yIHRoZSBjb252b2x1dGlvbnMuCiAgICAgICAgY29tcHJlc3MgKGludCk6IFJlZHVjZWQgZGltZW5zaW9uYWxpdHkgaW4gcmVzaWR1YWwgYnJhbmNoZXMgKGZyb20gRGVtdWNzIHYzKS4KICAgICAgICB0cnVlX3NraXAgKGJvb2wpOiBXaGV0aGVyIHRvIHVzZSB0cnVlIHNraXAgY29ubmVjdGlvbiBvciBhIHNpbXBsZQogICAgICAgICAgICAoc3RyZWFtYWJsZSkgY29udm9sdXRpb24gYXMgdGhlIHNraXAgY29ubmVjdGlvbi4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGRpbTogaW50LAogICAgICAgIGtlcm5lbF9zaXplczogTGlzdFtpbnRdID0gWzMsIDFdLAogICAgICAgIGRpbGF0aW9uczogTGlzdFtpbnRdID0gWzEsIDFdLAogICAgICAgIGFjdGl2YXRpb25fcGFyYW1zOiBEaWN0W3N0ciwgQW55XSA9IHsiYWxwaGEiOiAxLjB9LAogICAgICAgIG5vcm06IExpdGVyYWxbCiAgICAgICAgICAgICJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIgogICAgICAgIF0gPSAibm9uZSIsCiAgICAgICAgbm9ybV9wYXJhbXM6IERpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgY2F1c2FsOiBib29sID0gRmFsc2UsCiAgICAgICAgcGFkX21vZGU6IHN0ciA9ICJyZWZsZWN0IiwKICAgICAgICBjb21wcmVzczogaW50ID0gMiwKICAgICAgICB0cnVlX3NraXA6IGJvb2wgPSBUcnVlLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIGFzc2VydCBsZW4oa2VybmVsX3NpemVzKSA9PSBsZW4oCiAgICAgICAgICAgIGRpbGF0aW9ucwogICAgICAgICksICJOdW1iZXIgb2Yga2VybmVsIHNpemVzIHNob3VsZCBtYXRjaCBudW1iZXIgb2YgZGlsYXRpb25zIgogICAgICAgIGhpZGRlbiA9IGRpbSAvLyBjb21wcmVzcwogICAgICAgIGJsb2NrID0gW10KICAgICAgICBmb3IgaSwgKGtlcm5lbF9zaXplLCBkaWxhdGlvbikgaW4gZW51bWVyYXRlKHppcChrZXJuZWxfc2l6ZXMsIGRpbGF0aW9ucykpOgogICAgICAgICAgICBpbl9jaHMgPSBkaW0gaWYgaSA9PSAwIGVsc2UgaGlkZGVuCiAgICAgICAgICAgIG91dF9jaHMgPSBkaW0gaWYgaSA9PSBsZW4oa2VybmVsX3NpemVzKSAtIDEgZWxzZSBoaWRkZW4KICAgICAgICAgICAgYmxvY2sgKz0gWwogICAgICAgICAgICAgICAgRUxVKCoqYWN0aXZhdGlvbl9wYXJhbXMpLAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZUNvbnYxZCgKICAgICAgICAgICAgICAgICAgICBpbl9jaHMsCiAgICAgICAgICAgICAgICAgICAgb3V0X2NocywKICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT1rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICBkaWxhdGlvbj1kaWxhdGlvbiwKICAgICAgICAgICAgICAgICAgICBub3JtPW5vcm0sCiAgICAgICAgICAgICAgICAgICAgbm9ybV9rd2FyZ3M9bm9ybV9wYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgICAgICAgICBwYWRfbW9kZT1wYWRfbW9kZSwKICAgICAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgXQogICAgICAgIHNlbGYuYmxvY2sgPSBTZXF1ZW50aWFsKCpibG9jaykKICAgICAgICBzZWxmLnNob3J0Y3V0OiBNb2R1bGUKICAgICAgICBpZiB0cnVlX3NraXA6CiAgICAgICAgICAgIHNlbGYuc2hvcnRjdXQgPSBJZGVudGl0eSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5zaG9ydGN1dCA9IFN0cmVhbWFibGVDb252MWQoCiAgICAgICAgICAgICAgICBkaW0sCiAgICAgICAgICAgICAgICBkaW0sCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT0xLAogICAgICAgICAgICAgICAgbm9ybT1ub3JtLAogICAgICAgICAgICAgICAgbm9ybV9rd2FyZ3M9bm9ybV9wYXJhbXMsCiAgICAgICAgICAgICAgICBjYXVzYWw9Y2F1c2FsLAogICAgICAgICAgICAgICAgcGFkX21vZGU9cGFkX21vZGUsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiB0b3JjaC5UZW5zb3IpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICByZXR1cm4gc2VsZi5zaG9ydGN1dCh4KSArIHNlbGYuYmxvY2soeCkgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCg=='),
    ('seamless/src/seamless_communication/models/generator/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCg=='),
    ('seamless/src/seamless_communication/models/generator/ecapa_tdnn.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2ssIHRvX3BhZGRpbmdfbWFzawpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgQ29udjFkLCBMYXllck5vcm0sIE1vZHVsZSwgTW9kdWxlTGlzdCwgUmVMVSwgU2lnbW9pZCwgVGFuaCwgaW5pdAoKCmNsYXNzIEVDQVBBX1RETk4oTW9kdWxlKToKICAgICIiIgogICAgUmVwcmVzZW50cyB0aGUgRUNBUEEtVEROTiBtb2RlbCBkZXNjcmliZWQgaW4gcGFwZXI6CiAgICA6Y2l0ZTp0YGh0dHBzOi8vZG9pLm9yZy8xMC40ODU1MC9hcnhpdi4yMDA1LjA3MTQzYC4KCiAgICBBcmd1bWVudHMKICAgIC0tLS0tLS0tLQogICAgOnBhcmFtIGNoYW5uZWxzOgogICAgICAgIE91dHB1dCBjaGFubmVscyBmb3IgVEROTi9TRVJlczJOZXQgbGF5ZXIuCiAgICA6cGFyYW0ga2VybmVsX3NpemVzOgogICAgICAgIExpc3Qgb2Yga2VybmVsIHNpemVzIGZvciBlYWNoIGxheWVyLgogICAgOnBhcmFtIGRpbGF0aW9uczoKICAgICAgICBMaXN0IG9mIGRpbGF0aW9ucyBmb3Iga2VybmVscyBpbiBlYWNoIGxheWVyLgogICAgOnBhcmFtIGdyb3VwczoKICAgICAgICBMaXN0IG9mIGdyb3VwcyBmb3Iga2VybmVscyBpbiBlYWNoIGxheWVyLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY2hhbm5lbHM6IExpc3RbaW50XSwKICAgICAgICBrZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICBkaWxhdGlvbnM6IExpc3RbaW50XSwKICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM6IGludCwKICAgICAgICByZXMybmV0X3NjYWxlOiBpbnQsCiAgICAgICAgc2VfY2hhbm5lbHM6IGludCwKICAgICAgICBnbG9iYWxfY29udGV4dDogYm9vbCwKICAgICAgICBncm91cHM6IExpc3RbaW50XSwKICAgICAgICBlbWJlZF9kaW06IGludCwKICAgICAgICBpbnB1dF9kaW06IGludCwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgYXNzZXJ0IGxlbihjaGFubmVscykgPT0gbGVuKGtlcm5lbF9zaXplcykgPT0gbGVuKGRpbGF0aW9ucykKICAgICAgICBzZWxmLmNoYW5uZWxzID0gY2hhbm5lbHMKICAgICAgICBzZWxmLmVtYmVkX2RpbSA9IGVtYmVkX2RpbQogICAgICAgIHNlbGYuYmxvY2tzID0gTW9kdWxlTGlzdCgpCgogICAgICAgIHNlbGYuYmxvY2tzLmFwcGVuZCgKICAgICAgICAgICAgVEROTkJsb2NrKAogICAgICAgICAgICAgICAgaW5wdXRfZGltLAogICAgICAgICAgICAgICAgY2hhbm5lbHNbMF0sCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZXNbMF0sCiAgICAgICAgICAgICAgICBkaWxhdGlvbnNbMF0sCiAgICAgICAgICAgICAgICBncm91cHNbMF0sCiAgICAgICAgICAgICkKICAgICAgICApCgogICAgICAgICMgU0UtUmVzMk5ldCBsYXllcnMKICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCBsZW4oY2hhbm5lbHMpIC0gMSk6CiAgICAgICAgICAgIHNlbGYuYmxvY2tzLmFwcGVuZCgKICAgICAgICAgICAgICAgIFNFUmVzMk5ldEJsb2NrKAogICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzW2kgLSAxXSwKICAgICAgICAgICAgICAgICAgICBjaGFubmVsc1tpXSwKICAgICAgICAgICAgICAgICAgICByZXMybmV0X3NjYWxlPXJlczJuZXRfc2NhbGUsCiAgICAgICAgICAgICAgICAgICAgc2VfY2hhbm5lbHM9c2VfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemVzW2ldLAogICAgICAgICAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uc1tpXSwKICAgICAgICAgICAgICAgICAgICBncm91cHM9Z3JvdXBzW2ldLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCgogICAgICAgICMgTXVsdGktbGF5ZXIgZmVhdHVyZSBhZ2dyZWdhdGlvbgogICAgICAgIHNlbGYubWZhID0gVEROTkJsb2NrKAogICAgICAgICAgICBjaGFubmVsc1stMV0sCiAgICAgICAgICAgIGNoYW5uZWxzWy0xXSwKICAgICAgICAgICAga2VybmVsX3NpemVzWy0xXSwKICAgICAgICAgICAgZGlsYXRpb25zWy0xXSwKICAgICAgICAgICAgZ3JvdXBzPWdyb3Vwc1stMV0sCiAgICAgICAgKQoKICAgICAgICAjIEF0dGVudGl2ZSBTdGF0aXN0aWNhbCBQb29saW5nCiAgICAgICAgc2VsZi5hc3AgPSBBdHRlbnRpdmVTdGF0aXN0aWNzUG9vbGluZygKICAgICAgICAgICAgY2hhbm5lbHNbLTFdLAogICAgICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM9YXR0ZW50aW9uX2NoYW5uZWxzLAogICAgICAgICAgICBnbG9iYWxfY29udGV4dD1nbG9iYWxfY29udGV4dCwKICAgICAgICApCiAgICAgICAgc2VsZi5hc3Bfbm9ybSA9IExheWVyTm9ybShjaGFubmVsc1stMV0gKiAyLCBlcHM9MWUtMTIpCgogICAgICAgICMgRmluYWwgbGluZWFyIHRyYW5zZm9ybWF0aW9uCiAgICAgICAgc2VsZi5mYyA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9Y2hhbm5lbHNbLTFdICogMiwKICAgICAgICAgICAgb3V0X2NoYW5uZWxzPWVtYmVkX2RpbSwKICAgICAgICAgICAga2VybmVsX3NpemU9MSwKICAgICAgICApCgogICAgICAgIHNlbGYucmVzZXRfcGFyYW1ldGVycygpCgogICAgZGVmIHJlc2V0X3BhcmFtZXRlcnMoc2VsZikgLT4gTm9uZToKICAgICAgICAiIiJSZXNldCB0aGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycyBvZiB0aGUgbW9kdWxlLiIiIgoKICAgICAgICBkZWYgZW5jb2Rlcl9pbml0KG06IE1vZHVsZSkgLT4gTm9uZToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShtLCBDb252MWQpOgogICAgICAgICAgICAgICAgaW5pdC54YXZpZXJfdW5pZm9ybV8obS53ZWlnaHQsIGluaXQuY2FsY3VsYXRlX2dhaW4oInJlbHUiKSkKCiAgICAgICAgc2VsZi5hcHBseShlbmNvZGVyX2luaXQpCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICB4OiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUmV0dXJucyB0aGUgZW1iZWRkaW5nIHZlY3Rvci4KCiAgICAgICAgQXJndW1lbnRzCiAgICAgICAgLS0tLS0tLS0tCiAgICAgICAgeCA6IHRvcmNoLlRlbnNvcgogICAgICAgICAgICBUZW5zb3Igb2Ygc2hhcGUgKGJhdGNoLCB0aW1lLCBjaGFubmVsKS4KICAgICAgICAiIiIKICAgICAgICAjIE1pbmltaXplIHRyYW5zcG9zZSBmb3IgZWZmaWNpZW5jeQogICAgICAgIHggPSB4LnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICB4bCA9IFtdCiAgICAgICAgZm9yIGxheWVyIGluIHNlbGYuYmxvY2tzOgogICAgICAgICAgICB4ID0gbGF5ZXIoeCwgcGFkZGluZ19tYXNrPXBhZGRpbmdfbWFzaykKICAgICAgICAgICAgeGwuYXBwZW5kKHgpCgogICAgICAgICMgTXVsdGktbGF5ZXIgZmVhdHVyZSBhZ2dyZWdhdGlvbgogICAgICAgIHggPSB0b3JjaC5jYXQoeGxbMTpdLCBkaW09MSkKICAgICAgICB4ID0gc2VsZi5tZmEoeCkKCiAgICAgICAgIyBBdHRlbnRpdmUgU3RhdGlzdGljYWwgUG9vbGluZwogICAgICAgIHggPSBzZWxmLmFzcCh4LCBwYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrKQogICAgICAgIHggPSBzZWxmLmFzcF9ub3JtKHgudHJhbnNwb3NlKDEsIDIpKS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyBGaW5hbCBsaW5lYXIgdHJhbnNmb3JtYXRpb24KICAgICAgICB4ID0gc2VsZi5mYyh4KQoKICAgICAgICB4ID0geC50cmFuc3Bvc2UoMSwgMikuc3F1ZWV6ZSgxKSAgIyBCIHggQwogICAgICAgIHJldHVybiBGLm5vcm1hbGl6ZSh4LCBkaW09LTEpCgoKY2xhc3MgVEROTkJsb2NrKE1vZHVsZSk6CiAgICAiIiJBbiBpbXBsZW1lbnRhdGlvbiBvZiBURE5OLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tLQogICAgOnBhcmFtIGluX2NoYW5uZWxzIDogaW50CiAgICAgICAgTnVtYmVyIG9mIGlucHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIGtlcm5lbF9zaXplIDogaW50CiAgICAgICAgVGhlIGtlcm5lbCBzaXplIG9mIHRoZSBURE5OIGJsb2Nrcy4KICAgIDpwYXJhbSBkaWxhdGlvbiA6IGludAogICAgICAgIFRoZSBkaWxhdGlvbiBvZiB0aGUgVEROTiBibG9jay4KICAgIDpwYXJhbSBncm91cHM6IGludAogICAgICAgIFRoZSBncm91cHMgc2l6ZSBvZiB0aGUgVEROTiBibG9ja3MuCgogICAgRXhhbXBsZQogICAgLS0tLS0tLQogICAgPj4+IGlucF90ZW5zb3IgPSB0b3JjaC5yYW5kKFs4LCAxMjAsIDY0XSkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gbGF5ZXIgPSBURE5OQmxvY2soNjQsIDY0LCBrZXJuZWxfc2l6ZT0zLCBkaWxhdGlvbj0xKQogICAgPj4+IG91dF90ZW5zb3IgPSBsYXllcihpbnBfdGVuc29yKS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXRfdGVuc29yLnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBkaWxhdGlvbjogaW50LAogICAgICAgIGdyb3VwczogaW50ID0gMSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb252ID0gQ29udjFkKAogICAgICAgICAgICBpbl9jaGFubmVscz1pbl9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzPW91dF9jaGFubmVscywKICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemUsCiAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uLAogICAgICAgICAgICBwYWRkaW5nPWRpbGF0aW9uICogKGtlcm5lbF9zaXplIC0gMSkgLy8gMiwKICAgICAgICAgICAgZ3JvdXBzPWdyb3VwcywKICAgICAgICApCiAgICAgICAgc2VsZi5hY3RpdmF0aW9uID0gUmVMVSgpCiAgICAgICAgc2VsZi5ub3JtID0gTGF5ZXJOb3JtKG91dF9jaGFubmVscywgZXBzPTFlLTEyKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHg6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHggPSBzZWxmLmFjdGl2YXRpb24oc2VsZi5jb252KHgpKQoKICAgICAgICByZXR1cm4gc2VsZi5ub3JtKHgudHJhbnNwb3NlKDEsIDIpKS50cmFuc3Bvc2UoMSwgMikgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgoKY2xhc3MgUmVzMk5ldEJsb2NrKE1vZHVsZSk6CiAgICAiIiJBbiBpbXBsZW1lbnRhdGlvbiBvZiBSZXMyTmV0QmxvY2sgdy8gZGlsYXRpb24uCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0KICAgIDpwYXJhbSBpbl9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2YgY2hhbm5lbHMgZXhwZWN0ZWQgaW4gdGhlIGlucHV0LgogICAgOnBhcmFtIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIHNjYWxlIDogaW50CiAgICAgICAgVGhlIHNjYWxlIG9mIHRoZSBSZXMyTmV0IGJsb2NrLgogICAgOnBhcmFtIGtlcm5lbF9zaXplOiBpbnQKICAgICAgICBUaGUga2VybmVsIHNpemUgb2YgdGhlIFJlczJOZXQgYmxvY2suCiAgICA6cGFyYW0gZGlsYXRpb24gOiBpbnQKICAgICAgICBUaGUgZGlsYXRpb24gb2YgdGhlIFJlczJOZXQgYmxvY2suCgogICAgRXhhbXBsZQogICAgLS0tLS0tLQogICAgPj4+IGlucF90ZW5zb3IgPSB0b3JjaC5yYW5kKFs4LCAxMjAsIDY0XSkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gbGF5ZXIgPSBSZXMyTmV0QmxvY2soNjQsIDY0LCBzY2FsZT00LCBkaWxhdGlvbj0zKQogICAgPj4+IG91dF90ZW5zb3IgPSBsYXllcihpbnBfdGVuc29yKS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXRfdGVuc29yLnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAgc2NhbGU6IGludCA9IDgsCiAgICAgICAga2VybmVsX3NpemU6IGludCA9IDMsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIGFzc2VydCBpbl9jaGFubmVscyAlIHNjYWxlID09IDAKICAgICAgICBhc3NlcnQgb3V0X2NoYW5uZWxzICUgc2NhbGUgPT0gMAoKICAgICAgICBpbl9jaGFubmVsID0gaW5fY2hhbm5lbHMgLy8gc2NhbGUKICAgICAgICBoaWRkZW5fY2hhbm5lbCA9IG91dF9jaGFubmVscyAvLyBzY2FsZQogICAgICAgIHNlbGYuYmxvY2tzID0gTW9kdWxlTGlzdCgKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgVEROTkJsb2NrKAogICAgICAgICAgICAgICAgICAgIGluX2NoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAgaGlkZGVuX2NoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249ZGlsYXRpb24sCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShzY2FsZSAtIDEpCiAgICAgICAgICAgIF0KICAgICAgICApCiAgICAgICAgc2VsZi5zY2FsZSA9IHNjYWxlCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHkgPSBbXQogICAgICAgIGZvciBpLCB4X2kgaW4gZW51bWVyYXRlKHRvcmNoLmNodW5rKHgsIHNlbGYuc2NhbGUsIGRpbT0xKSk6CiAgICAgICAgICAgIGlmIGkgPT0gMDoKICAgICAgICAgICAgICAgIHlfaSA9IHhfaQogICAgICAgICAgICBlbGlmIGkgPT0gMToKICAgICAgICAgICAgICAgIHlfaSA9IHNlbGYuYmxvY2tzW2kgLSAxXSh4X2kpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB5X2kgPSBzZWxmLmJsb2Nrc1tpIC0gMV0oeF9pICsgeV9pKQogICAgICAgICAgICB5LmFwcGVuZCh5X2kpCgogICAgICAgIHlfdGVuc29yID0gdG9yY2guY2F0KHksIGRpbT0xKQogICAgICAgIHJldHVybiB5X3RlbnNvcgoKCmNsYXNzIFNFQmxvY2soTW9kdWxlKToKICAgICIiIkFuIGltcGxlbWVudGF0aW9uIG9mIHNxdWVlemUtYW5kLWV4Y2l0YXRpb24gYmxvY2suCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0KICAgIGluX2NoYW5uZWxzIDogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBpbnB1dCBjaGFubmVscy4KICAgIHNlX2NoYW5uZWxzIDogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBvdXRwdXQgY2hhbm5lbHMgYWZ0ZXIgc3F1ZWV6ZS4KICAgIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaW5fY2hhbm5lbHM6IGludCwKICAgICAgICBzZV9jaGFubmVsczogaW50LAogICAgICAgIG91dF9jaGFubmVsczogaW50LAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5jb252MSA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9aW5fY2hhbm5lbHMsIG91dF9jaGFubmVscz1zZV9jaGFubmVscywga2VybmVsX3NpemU9MQogICAgICAgICkKICAgICAgICBzZWxmLnJlbHUgPSBSZUxVKGlucGxhY2U9VHJ1ZSkKICAgICAgICBzZWxmLmNvbnYyID0gQ29udjFkKAogICAgICAgICAgICBpbl9jaGFubmVscz1zZV9jaGFubmVscywgb3V0X2NoYW5uZWxzPW91dF9jaGFubmVscywga2VybmVsX3NpemU9MQogICAgICAgICkKICAgICAgICBzZWxmLnNpZ21vaWQgPSBTaWdtb2lkKCkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdID0gTm9uZSkgLT4gVGVuc29yOgogICAgICAgICIiIlByb2Nlc3NlcyB0aGUgaW5wdXQgdGVuc29yIHggYW5kIHJldHVybnMgYW4gb3V0cHV0IHRlbnNvci4iIiIKICAgICAgICBpZiBwYWRkaW5nX21hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1hc2sgPSBwYWRkaW5nX21hc2subWF0ZXJpYWxpemUoKS51bnNxdWVlemUoMSkKICAgICAgICAgICAgcyA9ICh4ICogbWFzaykuc3VtKGRpbT0yLCBrZWVwZGltPVRydWUpIC8gcGFkZGluZ19tYXNrLnNlcV9sZW5zWwogICAgICAgICAgICAgICAgOiwgTm9uZSwgTm9uZQogICAgICAgICAgICBdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcyA9IHgubWVhbihkaW09Miwga2VlcGRpbT1UcnVlKQoKICAgICAgICBzID0gc2VsZi5yZWx1KHNlbGYuY29udjEocykpCiAgICAgICAgcyA9IHNlbGYuc2lnbW9pZChzZWxmLmNvbnYyKHMpKQoKICAgICAgICByZXR1cm4gcyAqIHgKCgpjbGFzcyBBdHRlbnRpdmVTdGF0aXN0aWNzUG9vbGluZyhNb2R1bGUpOgogICAgIiIiVGhpcyBjbGFzcyBpbXBsZW1lbnRzIGFuIGF0dGVudGl2ZSBzdGF0aXN0aWMgcG9vbGluZyBsYXllciBmb3IgZWFjaCBjaGFubmVsLgogICAgSXQgcmV0dXJucyB0aGUgY29uY2F0ZW5hdGVkIG1lYW4gYW5kIHN0ZCBvZiB0aGUgaW5wdXQgdGVuc29yLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tCiAgICBjaGFubmVsczogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBpbnB1dCBjaGFubmVscy4KICAgIGF0dGVudGlvbl9jaGFubmVsczogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBhdHRlbnRpb24gY2hhbm5lbHMuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgY2hhbm5lbHM6IGludCwgYXR0ZW50aW9uX2NoYW5uZWxzOiBpbnQgPSAxMjgsIGdsb2JhbF9jb250ZXh0OiBib29sID0gVHJ1ZQogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5lcHMgPSAxZS0xMgogICAgICAgIHNlbGYuZ2xvYmFsX2NvbnRleHQgPSBnbG9iYWxfY29udGV4dAogICAgICAgIGlmIGdsb2JhbF9jb250ZXh0OgogICAgICAgICAgICBzZWxmLnRkbm4gPSBURE5OQmxvY2soY2hhbm5lbHMgKiAzLCBhdHRlbnRpb25fY2hhbm5lbHMsIDEsIDEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi50ZG5uID0gVEROTkJsb2NrKGNoYW5uZWxzLCBhdHRlbnRpb25fY2hhbm5lbHMsIDEsIDEpCgogICAgICAgIHNlbGYudGFuaCA9IFRhbmgoKQogICAgICAgIHNlbGYuY29udiA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9YXR0ZW50aW9uX2NoYW5uZWxzLCBvdXRfY2hhbm5lbHM9Y2hhbm5lbHMsIGtlcm5lbF9zaXplPTEKICAgICAgICApCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUpIC0+IFRlbnNvcjoKICAgICAgICAiIiJDYWxjdWxhdGVzIG1lYW4gYW5kIHN0ZCBmb3IgYSBiYXRjaCAoaW5wdXQgdGVuc29yKS4KCiAgICAgICAgQXJndW1lbnRzCiAgICAgICAgLS0tLS0tLS0tCiAgICAgICAgeCA6IHRvcmNoLlRlbnNvcgogICAgICAgICAgICBUZW5zb3Igb2Ygc2hhcGUgW04sIEMsIExdLgogICAgICAgICIiIgogICAgICAgIEwgPSB4LnNoYXBlWy0xXQoKICAgICAgICBkZWYgX2NvbXB1dGVfc3RhdGlzdGljcygKICAgICAgICAgICAgeDogVGVuc29yLCBtOiBUZW5zb3IsIGRpbTogaW50ID0gMiwgZXBzOiBmbG9hdCA9IHNlbGYuZXBzCiAgICAgICAgKSAtPiBUdXBsZVtUZW5zb3IsIFRlbnNvcl06CiAgICAgICAgICAgIG1lYW4gPSAobSAqIHgpLnN1bShkaW0pCiAgICAgICAgICAgIHN0ZCA9IHRvcmNoLnNxcnQoKG0gKiAoeCAtIG1lYW4udW5zcXVlZXplKGRpbSkpLnBvdygyKSkuc3VtKGRpbSkuY2xhbXAoZXBzKSkKICAgICAgICAgICAgcmV0dXJuIG1lYW4sIHN0ZAoKICAgICAgICAjIE1ha2UgYmluYXJ5IG1hc2sgb2Ygc2hhcGUgW04sIDEsIExdCiAgICAgICAgIyBtYXNrID0gdG9fcGFkZGluZ19tYXNrKGxlbmd0aHMsIG1heChsZW5ndGhzKSkKICAgICAgICBpZiBwYWRkaW5nX21hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1hc2sgPSBwYWRkaW5nX21hc2subWF0ZXJpYWxpemUoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG1hc2sgPSB0b19wYWRkaW5nX21hc2sodG9yY2guSW50VGVuc29yKFtMXSksIEwpLnJlcGVhdCh4LnNoYXBlWzBdLCAxKS50byh4KQogICAgICAgIG1hc2sgPSBtYXNrLnVuc3F1ZWV6ZSgxKQoKICAgICAgICAjIEV4cGFuZCB0aGUgdGVtcG9yYWwgY29udGV4dCBvZiB0aGUgcG9vbGluZyBsYXllciBieSBhbGxvd2luZyB0aGUKICAgICAgICAjIHNlbGYtYXR0ZW50aW9uIHRvIGxvb2sgYXQgZ2xvYmFsIHByb3BlcnRpZXMgb2YgdGhlIHV0dGVyYW5jZS4KICAgICAgICBpZiBzZWxmLmdsb2JhbF9jb250ZXh0OgogICAgICAgICAgICAjIHRvcmNoLnN0ZCBpcyB1bnN0YWJsZSBmb3IgYmFja3dhcmQgY29tcHV0YXRpb24KICAgICAgICAgICAgIyBodHRwczovL2dpdGh1Yi5jb20vcHl0b3JjaC9weXRvcmNoL2lzc3Vlcy80MzIwCiAgICAgICAgICAgIHRvdGFsID0gbWFzay5zdW0oZGltPTIsIGtlZXBkaW09VHJ1ZSkudG8oeCkKICAgICAgICAgICAgbWVhbiwgc3RkID0gX2NvbXB1dGVfc3RhdGlzdGljcyh4LCBtYXNrIC8gdG90YWwpCiAgICAgICAgICAgIG1lYW4gPSBtZWFuLnVuc3F1ZWV6ZSgyKS5yZXBlYXQoMSwgMSwgTCkKICAgICAgICAgICAgc3RkID0gc3RkLnVuc3F1ZWV6ZSgyKS5yZXBlYXQoMSwgMSwgTCkKICAgICAgICAgICAgYXR0biA9IHRvcmNoLmNhdChbeCwgbWVhbiwgc3RkXSwgZGltPTEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYXR0biA9IHgKCiAgICAgICAgIyBBcHBseSBsYXllcnMKICAgICAgICBhdHRuID0gc2VsZi5jb252KHNlbGYudGFuaChzZWxmLnRkbm4oYXR0bikpKQoKICAgICAgICAjIEZpbHRlciBvdXQgemVyby1wYWRkaW5ncwogICAgICAgIGF0dG4gPSBhdHRuLm1hc2tlZF9maWxsKG1hc2sgPT0gMCwgZmxvYXQoIi1pbmYiKSkKCiAgICAgICAgYXR0biA9IEYuc29mdG1heChhdHRuLCBkaW09MikKICAgICAgICBtZWFuLCBzdGQgPSBfY29tcHV0ZV9zdGF0aXN0aWNzKHgsIGF0dG4pCiAgICAgICAgIyBBcHBlbmQgbWVhbiBhbmQgc3RkIG9mIHRoZSBiYXRjaAogICAgICAgIHBvb2xlZF9zdGF0cyA9IHRvcmNoLmNhdCgobWVhbiwgc3RkKSwgZGltPTEpCiAgICAgICAgcG9vbGVkX3N0YXRzID0gcG9vbGVkX3N0YXRzLnVuc3F1ZWV6ZSgyKQoKICAgICAgICByZXR1cm4gcG9vbGVkX3N0YXRzCgoKY2xhc3MgU0VSZXMyTmV0QmxvY2soTW9kdWxlKToKICAgICIiIkFuIGltcGxlbWVudGF0aW9uIG9mIGJ1aWxkaW5nIGJsb2NrIGluIEVDQVBBLVRETk4sIGkuZS4sCiAgICBURE5OLVJlczJOZXQtVEROTi1TRUJsb2NrLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tLQogICAgb3V0X2NoYW5uZWxzOiBpbnQKICAgICAgICBUaGUgbnVtYmVyIG9mIG91dHB1dCBjaGFubmVscy4KICAgIHJlczJuZXRfc2NhbGU6IGludAogICAgICAgIFRoZSBzY2FsZSBvZiB0aGUgUmVzMk5ldCBibG9jay4KICAgIGtlcm5lbF9zaXplOiBpbnQKICAgICAgICBUaGUga2VybmVsIHNpemUgb2YgdGhlIFRETk4gYmxvY2tzLgogICAgZGlsYXRpb246IGludAogICAgICAgIFRoZSBkaWxhdGlvbiBvZiB0aGUgUmVzMk5ldCBibG9jay4KICAgIGdyb3VwczogaW50CiAgICBOdW1iZXIgb2YgYmxvY2tlZCBjb25uZWN0aW9ucyBmcm9tIGlucHV0IGNoYW5uZWxzIHRvIG91dHB1dCBjaGFubmVscy4KCiAgICBFeGFtcGxlCiAgICAtLS0tLS0tCiAgICA+Pj4geCA9IHRvcmNoLnJhbmQoOCwgMTIwLCA2NCkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gY29udiA9IFNFUmVzMk5ldEJsb2NrKDY0LCA2NCwgcmVzMm5ldF9zY2FsZT00KQogICAgPj4+IG91dCA9IGNvbnYoeCkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gb3V0LnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAgcmVzMm5ldF9zY2FsZTogaW50ID0gOCwKICAgICAgICBzZV9jaGFubmVsczogaW50ID0gMTI4LAogICAgICAgIGtlcm5lbF9zaXplOiBpbnQgPSAxLAogICAgICAgIGRpbGF0aW9uOiBpbnQgPSAxLAogICAgICAgIGdyb3VwczogaW50ID0gMSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5vdXRfY2hhbm5lbHMgPSBvdXRfY2hhbm5lbHMKICAgICAgICBzZWxmLnRkbm4xID0gVEROTkJsb2NrKAogICAgICAgICAgICBpbl9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICBrZXJuZWxfc2l6ZT0xLAogICAgICAgICAgICBkaWxhdGlvbj0xLAogICAgICAgICAgICBncm91cHM9Z3JvdXBzLAogICAgICAgICkKICAgICAgICBzZWxmLnJlczJuZXRfYmxvY2sgPSBSZXMyTmV0QmxvY2soCiAgICAgICAgICAgIG91dF9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICByZXMybmV0X3NjYWxlLAogICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgZGlsYXRpb24sCiAgICAgICAgKQogICAgICAgIHNlbGYudGRubjIgPSBURE5OQmxvY2soCiAgICAgICAgICAgIG91dF9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICBrZXJuZWxfc2l6ZT0xLAogICAgICAgICAgICBkaWxhdGlvbj0xLAogICAgICAgICAgICBncm91cHM9Z3JvdXBzLAogICAgICAgICkKICAgICAgICBzZWxmLnNlX2Jsb2NrID0gU0VCbG9jayhvdXRfY2hhbm5lbHMsIHNlX2NoYW5uZWxzLCBvdXRfY2hhbm5lbHMpCgogICAgICAgIHNlbGYuc2hvcnRjdXQgPSBOb25lCiAgICAgICAgaWYgaW5fY2hhbm5lbHMgIT0gb3V0X2NoYW5uZWxzOgogICAgICAgICAgICBzZWxmLnNob3J0Y3V0ID0gQ29udjFkKAogICAgICAgICAgICAgICAgaW5fY2hhbm5lbHM9aW5fY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBvdXRfY2hhbm5lbHM9b3V0X2NoYW5uZWxzLAogICAgICAgICAgICAgICAga2VybmVsX3NpemU9MSwKICAgICAgICAgICAgKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHg6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHJlc2lkdWFsID0geAogICAgICAgIGlmIHNlbGYuc2hvcnRjdXQ6CiAgICAgICAgICAgIHJlc2lkdWFsID0gc2VsZi5zaG9ydGN1dCh4KQoKICAgICAgICB4ID0gc2VsZi50ZG5uMSh4KQogICAgICAgIHggPSBzZWxmLnJlczJuZXRfYmxvY2soeCkKICAgICAgICB4ID0gc2VsZi50ZG5uMih4KQogICAgICAgIHggPSBzZWxmLnNlX2Jsb2NrKHgsIHBhZGRpbmdfbWFzaz1wYWRkaW5nX21hc2spCgogICAgICAgIHJldHVybiB4ICsgcmVzaWR1YWwK'),
    ('seamless/src/seamless_communication/models/generator/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgoKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgTWFwcGluZwoKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzIGltcG9ydCBDb25maWdMb2FkZXIsIE1vZGVsTG9hZGVyCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci5idWlsZGVyIGltcG9ydCAoCiAgICBWb2NvZGVyQ29uZmlnLAogICAgY3JlYXRlX3ZvY29kZXJfbW9kZWwsCiAgICB2b2NvZGVyX2FyY2hzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuZ2VuZXJhdG9yLnZvY29kZXIgaW1wb3J0IFByZXRzc2VsVm9jb2RlcgoKbG9hZF9wcmV0c3NlbF92b2NvZGVyX2NvbmZpZyA9IENvbmZpZ0xvYWRlcltWb2NvZGVyQ29uZmlnXShhc3NldF9zdG9yZSwgdm9jb2Rlcl9hcmNocykKCgpsb2FkX3ByZXRzc2VsX3ZvY29kZXJfbW9kZWwgPSBNb2RlbExvYWRlcltQcmV0c3NlbFZvY29kZXIsIFZvY29kZXJDb25maWddKAogICAgYXNzZXRfc3RvcmUsCiAgICBkb3dubG9hZF9tYW5hZ2VyLAogICAgbG9hZF9wcmV0c3NlbF92b2NvZGVyX2NvbmZpZywKICAgIGNyZWF0ZV92b2NvZGVyX21vZGVsLAogICAgcmVzdHJpY3RfY2hlY2twb2ludHM9RmFsc2UsCikK'),
    ('seamless/src/seamless_communication/models/generator/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBMaXN0LCBMaXRlcmFsLCBPcHRpb25hbCwgVHVwbGUKCmZyb20gZmFpcnNlcTIuZGF0YSBpbXBvcnQgVm9jYWJ1bGFyeUluZm8KZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMuYXJjaF9yZWdpc3RyeSBpbXBvcnQgQXJjaGl0ZWN0dXJlUmVnaXN0cnkKZnJvbSBmYWlyc2VxMi5ubi5lbWJlZGRpbmcgaW1wb3J0IFN0YW5kYXJkRW1iZWRkaW5nLCBpbml0X3NjYWxlZF9lbWJlZGRpbmcKZnJvbSBmYWlyc2VxMi5ubi5wb3NpdGlvbl9lbmNvZGVyIGltcG9ydCBTaW51c29pZGFsUG9zaXRpb25FbmNvZGVyCmZyb20gZmFpcnNlcTIubm4ucHJvamVjdGlvbiBpbXBvcnQgTGluZWFyCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIE11bHRpaGVhZEF0dGVudGlvbiwKICAgIFN0YW5kYXJkTXVsdGloZWFkQXR0ZW50aW9uLAogICAgVHJhbnNmb3JtZXJOb3JtT3JkZXIsCiAgICBjcmVhdGVfZGVmYXVsdF9zZHBhLAopCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2gubm4gaW1wb3J0IENvbnYxZAoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5nZW5lcmF0b3IuZWNhcGFfdGRubl9idWlsZGVyIGltcG9ydCAoCiAgICBFY2FwYVRETk5CdWlsZGVyLAogICAgRWNhcGFURE5OQ29uZmlnLAogICAgZWNhcGFfdGRubl9hcmNocywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci52b2NvZGVyIGltcG9ydCAoCiAgICBQcmV0c3NlbERlY29kZXJGcm9udGVuZCwKICAgIFByZXRzc2VsRW5jb2RlckZyb250ZW5kLAogICAgUHJldHNzZWxWb2NvZGVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuZmZ0X2RlY29kZXIgaW1wb3J0IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5mZnRfZGVjb2Rlcl9sYXllciBpbXBvcnQgKAogICAgQ29udjFkQmxvY2ssCiAgICBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyTGF5ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sZW5ndGhfcmVndWxhdG9yIGltcG9ydCAoCiAgICBWYXJpYW5jZUFkYXB0b3IsCiAgICBWYXJpYW5jZVByZWRpY3RvciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnQydV9idWlsZGVyIGltcG9ydCBWYXJpYW5jZVByZWRpY3RvckNvbmZpZwoKCkBkYXRhY2xhc3MKY2xhc3MgUHJldHNzZWxFbmNvZGVyRnJvbnRlbmRDb25maWc6CiAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnOiBFY2FwYVRETk5Db25maWcKICAgIGRyb3BvdXQ6IGZsb2F0CiAgICBsYW5nX2VtYmVkX2RpbTogT3B0aW9uYWxbaW50XSA9IE5vbmUKCgpAZGF0YWNsYXNzCmNsYXNzIEZGVExheWVyQ29uZmlnOgogICAgYXR0ZW50aW9uX2hlYWRzOiBpbnQKICAgIGhpZGRlbl9kaW06IGludAogICAga2VybmVsX3NpemU6IGludAogICAgZHJvcG91dDogZmxvYXQKICAgIGNvbnYxZF9kcm9wb3V0OiBmbG9hdAogICAgZmlsbV9jb25kX2RpbTogaW50CiAgICB1c2VfZmlsbTogYm9vbCA9IEZhbHNlCgoKQGRhdGFjbGFzcwpjbGFzcyBQcmV0c3NlbERlY29kZXJGcm9udGVuZENvbmZpZzoKICAgIHVwc2FtcGxpbmdfdHlwZTogTGl0ZXJhbFsiZ2F1c3NpYW4iLCAiaGFyZCJdCiAgICB2YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnOiBWYXJpYW5jZVByZWRpY3RvckNvbmZpZwogICAgYWRkX3ZhcmlhbmNlX3BhcmFsbGVsOiBib29sCgoKQGRhdGFjbGFzcwpjbGFzcyBWb2NvZGVyQ29uZmlnOgogICAgIiIiSG9sZHMgdGhlIGNvbmZpZ3VyYXRpb24gb2YgYSBWb2NvZGVyIG1vZGVsLiIiIgoKICAgIGVuY29kZXJfZnJvbnRlbmRfY29uZmlnOiBQcmV0c3NlbEVuY29kZXJGcm9udGVuZENvbmZpZwogICAgZmZ0X2xheWVyX2NvbmZpZzogRkZUTGF5ZXJDb25maWcKICAgIGRlY29kZXJfZnJvbnRlbmRfY29uZmlnOiBQcmV0c3NlbERlY29kZXJGcm9udGVuZENvbmZpZwogICAgcG5fY29udl9kaW06IGludAogICAgcG5fbGF5ZXJzOiBpbnQKICAgIHBuX2NvbnZfa2VybmVsX3NpemU6IGludAogICAgcG5fZHJvcG91dDogZmxvYXQKICAgIHZvY2FiX2luZm86IFZvY2FidWxhcnlJbmZvCiAgICBtb2RlbF9kaW06IGludAogICAgbWF4X3NlcV9sZW46IGludAogICAgZW5jb2Rlcl9sYXllcnM6IGludAogICAgZGVjb2Rlcl9sYXllcnM6IGludAogICAgbWVsX2RpbTogaW50CiAgICBsYW5nczogTGlzdCAgIyB0eXBlOiBpZ25vcmVbdHlwZS1hcmddCiAgICB1cHNhbXBsZV9yYXRlczogTGlzdFtpbnRdCiAgICB1cHNhbXBsZV9rZXJuZWxfc2l6ZXM6IExpc3RbaW50XQogICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsOiBpbnQKICAgIHJlc2Jsb2NrX2tlcm5lbF9zaXplczogTGlzdFtpbnRdCiAgICByZXNibG9ja19kaWxhdGlvbl9zaXplczogTGlzdFtMaXN0W2ludF1dCiAgICBjaGFubmVsczogaW50CiAgICBkaW1lbnNpb246IGludAogICAgbl9maWx0ZXJzOiBpbnQKICAgIHJhdGlvczogTGlzdFtpbnRdCiAgICBub3JtOiBMaXRlcmFsWyJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIl0KICAgIG5vcm1fcGFyYW1zOiBEaWN0W3N0ciwgQW55XQogICAga2VybmVsX3NpemU6IGludAogICAgbGFzdF9rZXJuZWxfc2l6ZTogaW50CiAgICByZXNpZHVhbF9rZXJuZWxfc2l6ZTogaW50CiAgICBjYXVzYWw6IGJvb2wKICAgIHBhZF9tb2RlOiBzdHIKICAgIHRydWVfc2tpcDogYm9vbAogICAgY29tcHJlc3M6IGludAogICAgbHN0bTogaW50CiAgICBkaXNhYmxlX25vcm1fb3V0ZXJfYmxvY2tzOiBpbnQKICAgIHRyaW1fcmlnaHRfcmF0aW86IGZsb2F0CiAgICBnY212bl9zdGF0czogRGljdFtzdHIsIExpc3RdICAjIHR5cGU6IGlnbm9yZVt0eXBlLWFyZ10KCgp2b2NvZGVyX2FyY2hzID0gQXJjaGl0ZWN0dXJlUmVnaXN0cnlbVm9jb2RlckNvbmZpZ10oInZvY29kZXJfcHJldHNzZWwiKQoKCnZvY29kZXJfYXJjaCA9IHZvY29kZXJfYXJjaHMuZGVjb3JhdG9yCgoKZGVmIHByZXRzc2VsX2NvbmZpZygpIC0+ICgKICAgIFR1cGxlW1ByZXRzc2VsRW5jb2RlckZyb250ZW5kQ29uZmlnLCBGRlRMYXllckNvbmZpZywgUHJldHNzZWxEZWNvZGVyRnJvbnRlbmRDb25maWddCik6CiAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnID0gZWNhcGFfdGRubl9hcmNocy5nZXRfY29uZmlnKCJiYXNlIikKCiAgICBlbmNvZGVyX2Zyb250ZW5kX2NvbmZpZyA9IFByZXRzc2VsRW5jb2RlckZyb250ZW5kQ29uZmlnKAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9jb25maWc9cHJvc29keV9lbmNvZGVyX2NvbmZpZywKICAgICAgICBkcm9wb3V0PTAuMiwKICAgICAgICBsYW5nX2VtYmVkX2RpbT02NCwKICAgICkKCiAgICBmZnRfbGF5ZXJfY29uZmlnID0gRkZUTGF5ZXJDb25maWcoCiAgICAgICAgYXR0ZW50aW9uX2hlYWRzPTIsCiAgICAgICAgaGlkZGVuX2RpbT0xMDI0LAogICAgICAgIGtlcm5lbF9zaXplPTksCiAgICAgICAgZHJvcG91dD0wLjAsCiAgICAgICAgY29udjFkX2Ryb3BvdXQ9MC4yLAogICAgICAgIHVzZV9maWxtPVRydWUsCiAgICAgICAgZmlsbV9jb25kX2RpbT01NzYsCiAgICApCgogICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZyA9IFZhcmlhbmNlUHJlZGljdG9yQ29uZmlnKAogICAgICAgIHZhcl9wcmVkX2hpZGRlbl9kaW09NTEyLAogICAgICAgIHZhcl9wcmVkX2tlcm5lbF9zaXplPTUsCiAgICAgICAgdmFyX3ByZWRfZHJvcG91dD0wLjUsCiAgICAgICAgdXNlX2ZpbG09VHJ1ZSwKICAgICAgICBmaWxtX2NvbmRfZGltPTU3NiwKICAgICkKCiAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZyA9IFByZXRzc2VsRGVjb2RlckZyb250ZW5kQ29uZmlnKAogICAgICAgIHVwc2FtcGxpbmdfdHlwZT0iZ2F1c3NpYW4iLAogICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWc9dmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZywKICAgICAgICBhZGRfdmFyaWFuY2VfcGFyYWxsZWw9VHJ1ZSwKICAgICkKICAgIHJldHVybiAoCiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZF9jb25maWcsCiAgICAgICAgZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICkKCgpAdm9jb2Rlcl9hcmNoKCIxNmtoeiIpCmRlZiBfMTZraHpfdm9jb2RlcigpIC0+IFZvY29kZXJDb25maWc6CiAgICAoCiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZF9jb25maWcsCiAgICAgICAgZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICkgPSBwcmV0c3NlbF9jb25maWcoKQoKICAgIHJldHVybiBWb2NvZGVyQ29uZmlnKAogICAgICAgIGVuY29kZXJfZnJvbnRlbmRfY29uZmlnPWVuY29kZXJfZnJvbnRlbmRfY29uZmlnLAogICAgICAgIGZmdF9sYXllcl9jb25maWc9ZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZz1kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICAgICBwbl9jb252X2RpbT01MTIsCiAgICAgICAgcG5fbGF5ZXJzPTUsCiAgICAgICAgcG5fY29udl9rZXJuZWxfc2l6ZT01LAogICAgICAgIHBuX2Ryb3BvdXQ9MC41LAogICAgICAgIHZvY2FiX2luZm89Vm9jYWJ1bGFyeUluZm8oCiAgICAgICAgICAgIHNpemU9MTAwMDQsIHVua19pZHg9MywgYm9zX2lkeD0wLCBlb3NfaWR4PTIsIHBhZF9pZHg9MQogICAgICAgICksCiAgICAgICAgbW9kZWxfZGltPTI1NiwKICAgICAgICBtYXhfc2VxX2xlbj0xMDAwMCwKICAgICAgICBlbmNvZGVyX2xheWVycz00LAogICAgICAgIGRlY29kZXJfbGF5ZXJzPTQsCiAgICAgICAgbWVsX2RpbT04MCwKICAgICAgICBsYW5ncz1bXSwKICAgICAgICB1cHNhbXBsZV9yYXRlcz1bNSwgNCwgNCwgMl0sCiAgICAgICAgdXBzYW1wbGVfa2VybmVsX3NpemVzPVsxMCwgOCwgOCwgNF0sCiAgICAgICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsPTUxMiwKICAgICAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM9WzMsIDcsIDExXSwKICAgICAgICByZXNibG9ja19kaWxhdGlvbl9zaXplcz1bWzEsIDMsIDVdLCBbMSwgMywgNV0sIFsxLCAzLCA1XV0sCiAgICAgICAgY2hhbm5lbHM9MSwKICAgICAgICBkaW1lbnNpb249MTI4LAogICAgICAgIG5fZmlsdGVycz0zMiwKICAgICAgICByYXRpb3M9WzgsIDUsIDQsIDJdLAogICAgICAgIG5vcm09IndlaWdodF9ub3JtIiwKICAgICAgICBub3JtX3BhcmFtcz17fSwKICAgICAgICBrZXJuZWxfc2l6ZT03LAogICAgICAgIGxhc3Rfa2VybmVsX3NpemU9NywKICAgICAgICByZXNpZHVhbF9rZXJuZWxfc2l6ZT0zLAogICAgICAgIGNhdXNhbD1GYWxzZSwKICAgICAgICBwYWRfbW9kZT0iY29uc3RhbnQiLAogICAgICAgIHRydWVfc2tpcD1UcnVlLAogICAgICAgIGNvbXByZXNzPTIsCiAgICAgICAgbHN0bT0yLAogICAgICAgIGRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3M9MCwKICAgICAgICB0cmltX3JpZ2h0X3JhdGlvPTEuMCwKICAgICAgICBnY212bl9zdGF0cz17fSwKICAgICkKCgpAdm9jb2Rlcl9hcmNoKCIyNGtoeiIpCmRlZiBfMjRraHpfdm9jb2RlcigpIC0+IFZvY29kZXJDb25maWc6CiAgICAoCiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZF9jb25maWcsCiAgICAgICAgZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICkgPSBwcmV0c3NlbF9jb25maWcoKQoKICAgIHJldHVybiBWb2NvZGVyQ29uZmlnKAogICAgICAgIGVuY29kZXJfZnJvbnRlbmRfY29uZmlnPWVuY29kZXJfZnJvbnRlbmRfY29uZmlnLAogICAgICAgIGZmdF9sYXllcl9jb25maWc9ZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZz1kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICAgICBwbl9jb252X2RpbT01MTIsCiAgICAgICAgcG5fbGF5ZXJzPTUsCiAgICAgICAgcG5fY29udl9rZXJuZWxfc2l6ZT01LAogICAgICAgIHBuX2Ryb3BvdXQ9MC41LAogICAgICAgIHZvY2FiX2luZm89Vm9jYWJ1bGFyeUluZm8oCiAgICAgICAgICAgIHNpemU9MTAwMDQsIHVua19pZHg9MywgYm9zX2lkeD0wLCBlb3NfaWR4PTIsIHBhZF9pZHg9MQogICAgICAgICksCiAgICAgICAgbW9kZWxfZGltPTI1NiwKICAgICAgICBtYXhfc2VxX2xlbj0xMDAwMCwKICAgICAgICBlbmNvZGVyX2xheWVycz00LAogICAgICAgIGRlY29kZXJfbGF5ZXJzPTQsCiAgICAgICAgbWVsX2RpbT04MCwKICAgICAgICBsYW5ncz1bXSwKICAgICAgICB1cHNhbXBsZV9yYXRlcz1bNSwgNCwgNCwgM10sCiAgICAgICAgdXBzYW1wbGVfa2VybmVsX3NpemVzPVsxMCwgOCwgOCwgNl0sCiAgICAgICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsPTUxMiwKICAgICAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM9WzMsIDcsIDExXSwKICAgICAgICByZXNibG9ja19kaWxhdGlvbl9zaXplcz1bWzEsIDMsIDVdLCBbMSwgMywgNV0sIFsxLCAzLCA1XV0sCiAgICAgICAgY2hhbm5lbHM9MSwKICAgICAgICBkaW1lbnNpb249MTI4LAogICAgICAgIG5fZmlsdGVycz0zMiwKICAgICAgICByYXRpb3M9WzgsIDUsIDQsIDJdLAogICAgICAgIG5vcm09IndlaWdodF9ub3JtIiwKICAgICAgICBub3JtX3BhcmFtcz17fSwKICAgICAgICBrZXJuZWxfc2l6ZT03LAogICAgICAgIGxhc3Rfa2VybmVsX3NpemU9NywKICAgICAgICByZXNpZHVhbF9rZXJuZWxfc2l6ZT0zLAogICAgICAgIGNhdXNhbD1GYWxzZSwKICAgICAgICBwYWRfbW9kZT0iY29uc3RhbnQiLAogICAgICAgIHRydWVfc2tpcD1UcnVlLAogICAgICAgIGNvbXByZXNzPTIsCiAgICAgICAgbHN0bT0yLAogICAgICAgIGRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3M9MCwKICAgICAgICB0cmltX3JpZ2h0X3JhdGlvPTEuMCwKICAgICAgICBnY212bl9zdGF0cz17fSwKICAgICkKCgpjbGFzcyBQcmV0c3NlbFZvY29kZXJCdWlsZGVyOgogICAgY29uZmlnOiBWb2NvZGVyQ29uZmlnCiAgICBwcm9zb2R5X2VuY29kZXJfYnVpbGRlcjogRWNhcGFURE5OQnVpbGRlcgogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZQogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IFZvY29kZXJDb25maWcsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2J1aWxkZXI6IEVjYXBhVEROTkJ1aWxkZXIsCiAgICAgICAgKiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgICAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgICAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5jb25maWcgPSBjb25maWcKICAgICAgICBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyID0gcHJvc29keV9lbmNvZGVyX2J1aWxkZXIKICAgICAgICBzZWxmLmRldmljZSwgc2VsZi5kdHlwZSA9IGRldmljZSwgZHR5cGUKCiAgICBkZWYgYnVpbGRfZW1iZWRfdG9rZW5zKHNlbGYpIC0+IFN0YW5kYXJkRW1iZWRkaW5nOgogICAgICAgICIiIkJ1aWxkIGEgdW5pdCBlbWJlZGRpbmcgdGFibGUuIiIiCgogICAgICAgIHJldHVybiBTdGFuZGFyZEVtYmVkZGluZygKICAgICAgICAgICAgbnVtX2VtYmVkZGluZ3M9c2VsZi5jb25maWcudm9jYWJfaW5mby5zaXplLAogICAgICAgICAgICBlbWJlZGRpbmdfZGltPXNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgaW5pdF9mbj1pbml0X3NjYWxlZF9lbWJlZGRpbmcsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2ZmdChzZWxmLCBudW1fbGF5ZXJzOiBpbnQpIC0+IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXI6CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBlbmNvZGVyLiIiIgoKICAgICAgICBsYXllcnMgPSBbc2VsZi5idWlsZF9mZnRfbGF5ZXIoKSBmb3IgXyBpbiByYW5nZShudW1fbGF5ZXJzKV0KCiAgICAgICAgcmV0dXJuIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIoCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QT1NULAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9mZnRfbGF5ZXIoc2VsZikgLT4gRmVlZEZvcndhcmRUcmFuc2Zvcm1lckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgZGVjb2RlciBsYXllci4iIiIKCiAgICAgICAgc2VsZl9hdHRuID0gc2VsZi5idWlsZF9hdHRlbnRpb24oc2VsZi5jb25maWcuZmZ0X2xheWVyX2NvbmZpZy5hdHRlbnRpb25faGVhZHMpCgogICAgICAgIGNvbnYxZCA9IENvbnYxZEJsb2NrKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmZmdF9sYXllcl9jb25maWcuaGlkZGVuX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcuZmZ0X2xheWVyX2NvbmZpZy5rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgYmlhcz1UcnVlLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gRmVlZEZvcndhcmRUcmFuc2Zvcm1lckxheWVyKAogICAgICAgICAgICBzZWxmX2F0dG4sCiAgICAgICAgICAgIGNvbnYxZCwKICAgICAgICAgICAgZHJvcG91dF9wPTAuMCwgICMgZmFpcnNlcTEgZG9lc24ndCBoYXZlIHRoaXMKICAgICAgICAgICAgY29udjFkX2Ryb3BvdXRfcD1zZWxmLmNvbmZpZy5mZnRfbGF5ZXJfY29uZmlnLmNvbnYxZF9kcm9wb3V0LAogICAgICAgICAgICB1c2VfZmlsbT1zZWxmLmNvbmZpZy5mZnRfbGF5ZXJfY29uZmlnLnVzZV9maWxtLAogICAgICAgICAgICBmaWxtX2NvbmRfZGltPXNlbGYuY29uZmlnLmZmdF9sYXllcl9jb25maWcuZmlsbV9jb25kX2RpbSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfYXR0ZW50aW9uKHNlbGYsIG51bV9oZWFkczogaW50KSAtPiBNdWx0aWhlYWRBdHRlbnRpb246CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBtdWx0aS1oZWFkIGF0dGVudGlvbiBsYXllci4iIiIKCiAgICAgICAgc2RwYSA9IGNyZWF0ZV9kZWZhdWx0X3NkcGEoYXR0bl9kcm9wb3V0X3A9c2VsZi5jb25maWcuZmZ0X2xheWVyX2NvbmZpZy5kcm9wb3V0KQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX2hlYWRzLAogICAgICAgICAgICBzZHBhPXNkcGEsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX3ZhcmlhbmNlX2FkYXB0b3IoCiAgICAgICAgc2VsZiwKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZzogUHJldHNzZWxEZWNvZGVyRnJvbnRlbmRDb25maWcsCiAgICApIC0+IFZhcmlhbmNlQWRhcHRvcjoKICAgICAgICAiIiJCdWlsZCBhIHZhcmlhbmNlIGFkYXB0b3IgbW9kdWxlLiIiIgoKICAgICAgICB2YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnID0gZGVjb2Rlcl9mcm9udGVuZF9jb25maWcudmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZwoKICAgICAgICBwaXRjaF9wcmVkaWN0b3IgPSBWYXJpYW5jZVByZWRpY3RvcigKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICB2YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnLnZhcl9wcmVkX2hpZGRlbl9kaW0sCiAgICAgICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcudmFyX3ByZWRfa2VybmVsX3NpemUsCiAgICAgICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcudmFyX3ByZWRfZHJvcG91dCwKICAgICAgICAgICAgdXNlX2ZpbG09dmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy51c2VfZmlsbSwKICAgICAgICAgICAgZmlsbV9jb25kX2RpbT12YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnLmZpbG1fY29uZF9kaW0sCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgICAgIGVtYmVkX3BpdGNoID0gQ29udjFkKDEsIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwga2VybmVsX3NpemU9MSkKCiAgICAgICAgdnV2X3ByZWRpY3RvciA9IFZhcmlhbmNlUHJlZGljdG9yKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcudmFyX3ByZWRfaGlkZGVuX2RpbSwKICAgICAgICAgICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9kcm9wb3V0LAogICAgICAgICAgICB1c2VfZmlsbT12YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnLnVzZV9maWxtLAogICAgICAgICAgICBmaWxtX2NvbmRfZGltPXZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcuZmlsbV9jb25kX2RpbSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgZW5lcmd5X3ByZWRpY3RvciA9IFZhcmlhbmNlUHJlZGljdG9yKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcudmFyX3ByZWRfaGlkZGVuX2RpbSwKICAgICAgICAgICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9kcm9wb3V0LAogICAgICAgICAgICB1c2VfZmlsbT12YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnLnVzZV9maWxtLAogICAgICAgICAgICBmaWxtX2NvbmRfZGltPXZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcuZmlsbV9jb25kX2RpbSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgZW1iZWRfZW5lcmd5ID0gQ29udjFkKDEsIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwga2VybmVsX3NpemU9MSkKCiAgICAgICAgdmFyaWFuY2VfYWRhcHRvciA9IFZhcmlhbmNlQWRhcHRvcigKICAgICAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yPU5vbmUsCiAgICAgICAgICAgIHBpdGNoX3ByZWRpY3Rvcj1waXRjaF9wcmVkaWN0b3IsCiAgICAgICAgICAgIGVtYmVkX3BpdGNoPWVtYmVkX3BpdGNoLAogICAgICAgICAgICB2dXZfcHJlZGljdG9yPXZ1dl9wcmVkaWN0b3IsCiAgICAgICAgICAgIGVuZXJneV9wcmVkaWN0b3I9ZW5lcmd5X3ByZWRpY3RvciwKICAgICAgICAgICAgZW1iZWRfZW5lcmd5PWVtYmVkX2VuZXJneSwKICAgICAgICAgICAgYWRkX3ZhcmlhbmNlX3BhcmFsbGVsPWRlY29kZXJfZnJvbnRlbmRfY29uZmlnLmFkZF92YXJpYW5jZV9wYXJhbGxlbCwKICAgICAgICAgICAgdXBzYW1wbGluZ190eXBlPWRlY29kZXJfZnJvbnRlbmRfY29uZmlnLnVwc2FtcGxpbmdfdHlwZSwKICAgICAgICApCgogICAgICAgIHJldHVybiB2YXJpYW5jZV9hZGFwdG9yCgogICAgZGVmIGJ1aWxkX21vZGVsKHNlbGYpIC0+IFByZXRzc2VsVm9jb2RlcjoKICAgICAgICAiIiJidWlsZCB0aGUgcHJldHNzZWwgdm9jb2Rlci4iIiIKICAgICAgICBwcm9zb2R5X2VuY29kZXIgPSBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyLmJ1aWxkX21vZGVsKCkKICAgICAgICBlbWJlZF90b2tlbnMgPSBzZWxmLmJ1aWxkX2VtYmVkX3Rva2VucygpCgogICAgICAgIGVtYmVkX3Bvc2l0aW9ucyA9IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubWF4X3NlcV9sZW4sCiAgICAgICAgICAgIF9sZWdhY3lfcGFkX2lkeD1zZWxmLmNvbmZpZy52b2NhYl9pbmZvLnBhZF9pZHgsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICApCiAgICAgICAgbGFuZ190b19pbmRleCA9IHtsOiBpIGZvciBpLCBsIGluIGVudW1lcmF0ZShzZWxmLmNvbmZpZy5sYW5ncyl9CiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZCA9IFByZXRzc2VsRW5jb2RlckZyb250ZW5kKAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXIsCiAgICAgICAgICAgIGVtYmVkX3Rva2VucywKICAgICAgICAgICAgZW1iZWRfcG9zaXRpb25zLAogICAgICAgICAgICBsYW5nX3RvX2luZGV4LAogICAgICAgICAgICBsYW5nX2VtYmVkX2RpbT1zZWxmLmNvbmZpZy5lbmNvZGVyX2Zyb250ZW5kX2NvbmZpZy5sYW5nX2VtYmVkX2RpbSwKICAgICAgICAgICAgZHJvcG91dF9wPXNlbGYuY29uZmlnLmVuY29kZXJfZnJvbnRlbmRfY29uZmlnLmRyb3BvdXQsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgICAgIGVuY29kZXIgPSBzZWxmLmJ1aWxkX2ZmdChzZWxmLmNvbmZpZy5lbmNvZGVyX2xheWVycykKCiAgICAgICAgdmFyaWFuY2VfYWRhcHRvciA9IHNlbGYuYnVpbGRfdmFyaWFuY2VfYWRhcHRvcigKICAgICAgICAgICAgc2VsZi5jb25maWcuZGVjb2Rlcl9mcm9udGVuZF9jb25maWcKICAgICAgICApCgogICAgICAgIGRlY29kZXJfZnJvbnRlbmQgPSBQcmV0c3NlbERlY29kZXJGcm9udGVuZCgKICAgICAgICAgICAgdmFyaWFuY2VfYWRhcHRvciwKICAgICAgICAgICAgZW1iZWRfcG9zaXRpb25zLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBkZWNvZGVyID0gc2VsZi5idWlsZF9mZnQoc2VsZi5jb25maWcuZGVjb2Rlcl9sYXllcnMpCgogICAgICAgIGZpbmFsX3Byb2ogPSBMaW5lYXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubWVsX2RpbSwKICAgICAgICAgICAgYmlhcz1UcnVlLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBnY212bl9tZWFuID0gZ2Ntdm5fc3RkID0gTm9uZQogICAgICAgIGlmIHNlbGYuY29uZmlnLmdjbXZuX3N0YXRzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBnY212bl9tZWFuID0gc2VsZi5jb25maWcuZ2Ntdm5fc3RhdHNbIm1lYW4iXQogICAgICAgICAgICBnY212bl9zdGQgPSBzZWxmLmNvbmZpZy5nY212bl9zdGF0c1sic3RkIl0KCiAgICAgICAgdm9jb2RlciA9IFByZXRzc2VsVm9jb2RlcigKICAgICAgICAgICAgZW5jb2Rlcl9mcm9udGVuZD1lbmNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICBlbmNvZGVyPWVuY29kZXIsCiAgICAgICAgICAgIGRlY29kZXJfZnJvbnRlbmQ9ZGVjb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgZGVjb2Rlcj1kZWNvZGVyLAogICAgICAgICAgICBmaW5hbF9wcm9qPWZpbmFsX3Byb2osCiAgICAgICAgICAgIHBuX25fY2hhbm5lbHM9c2VsZi5jb25maWcucG5fY29udl9kaW0sCiAgICAgICAgICAgIHBuX2tlcm5lbF9zaXplPXNlbGYuY29uZmlnLnBuX2NvbnZfa2VybmVsX3NpemUsCiAgICAgICAgICAgIHBuX2xheWVycz1zZWxmLmNvbmZpZy5wbl9sYXllcnMsCiAgICAgICAgICAgIHBuX2Ryb3BvdXQ9c2VsZi5jb25maWcucG5fZHJvcG91dCwKICAgICAgICAgICAgdXBzYW1wbGVfcmF0ZXM9c2VsZi5jb25maWcudXBzYW1wbGVfcmF0ZXMsCiAgICAgICAgICAgIHVwc2FtcGxlX2tlcm5lbF9zaXplcz1zZWxmLmNvbmZpZy51cHNhbXBsZV9rZXJuZWxfc2l6ZXMsCiAgICAgICAgICAgIHVwc2FtcGxlX2luaXRpYWxfY2hhbm5lbD1zZWxmLmNvbmZpZy51cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwsCiAgICAgICAgICAgIHJlc2Jsb2NrX2tlcm5lbF9zaXplcz1zZWxmLmNvbmZpZy5yZXNibG9ja19rZXJuZWxfc2l6ZXMsCiAgICAgICAgICAgIHJlc2Jsb2NrX2RpbGF0aW9uX3NpemVzPXNlbGYuY29uZmlnLnJlc2Jsb2NrX2RpbGF0aW9uX3NpemVzLAogICAgICAgICAgICBjaGFubmVscz1zZWxmLmNvbmZpZy5jaGFubmVscywKICAgICAgICAgICAgZGltZW5zaW9uPXNlbGYuY29uZmlnLmRpbWVuc2lvbiwKICAgICAgICAgICAgbl9maWx0ZXJzPXNlbGYuY29uZmlnLm5fZmlsdGVycywKICAgICAgICAgICAgcmF0aW9zPXNlbGYuY29uZmlnLnJhdGlvcywKICAgICAgICAgICAgbm9ybT1zZWxmLmNvbmZpZy5ub3JtLAogICAgICAgICAgICBub3JtX3BhcmFtcz1zZWxmLmNvbmZpZy5ub3JtX3BhcmFtcywKICAgICAgICAgICAga2VybmVsX3NpemU9c2VsZi5jb25maWcua2VybmVsX3NpemUsCiAgICAgICAgICAgIGxhc3Rfa2VybmVsX3NpemU9c2VsZi5jb25maWcubGFzdF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgcmVzaWR1YWxfa2VybmVsX3NpemU9c2VsZi5jb25maWcucmVzaWR1YWxfa2VybmVsX3NpemUsCiAgICAgICAgICAgIGNhdXNhbD1zZWxmLmNvbmZpZy5jYXVzYWwsCiAgICAgICAgICAgIHBhZF9tb2RlPXNlbGYuY29uZmlnLnBhZF9tb2RlLAogICAgICAgICAgICB0cnVlX3NraXA9c2VsZi5jb25maWcudHJ1ZV9za2lwLAogICAgICAgICAgICBjb21wcmVzcz1zZWxmLmNvbmZpZy5jb21wcmVzcywKICAgICAgICAgICAgbHN0bT1zZWxmLmNvbmZpZy5sc3RtLAogICAgICAgICAgICBkaXNhYmxlX25vcm1fb3V0ZXJfYmxvY2tzPXNlbGYuY29uZmlnLmRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3MsCiAgICAgICAgICAgIHRyaW1fcmlnaHRfcmF0aW89c2VsZi5jb25maWcudHJpbV9yaWdodF9yYXRpbywKICAgICAgICAgICAgZ2Ntdm5fbWVhbj1nY212bl9tZWFuLAogICAgICAgICAgICBnY212bl9zdGQ9Z2Ntdm5fc3RkLAogICAgICAgICkKICAgICAgICB2b2NvZGVyLnRvKGR0eXBlPXNlbGYuZHR5cGUsIGRldmljZT1zZWxmLmRldmljZSkKICAgICAgICByZXR1cm4gdm9jb2RlcgoKCmRlZiBjcmVhdGVfdm9jb2Rlcl9tb2RlbCgKICAgIGNvbmZpZzogVm9jb2RlckNvbmZpZywKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKKSAtPiBQcmV0c3NlbFZvY29kZXI6CiAgICBwcm9zb2R5X2VuY29kZXJfYnVpbGRlciA9IEVjYXBhVEROTkJ1aWxkZXIoCiAgICAgICAgY29uZmlnLmVuY29kZXJfZnJvbnRlbmRfY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcsCiAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICBkdHlwZT1kdHlwZSwKICAgICkKICAgIHJldHVybiBQcmV0c3NlbFZvY29kZXJCdWlsZGVyKAogICAgICAgIGNvbmZpZywgcHJvc29keV9lbmNvZGVyX2J1aWxkZXIsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICApLmJ1aWxkX21vZGVsKCkK'),
    ('seamless/src/seamless_communication/models/generator/ecapa_tdnn_builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIE9wdGlvbmFsCgpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscy5hcmNoX3JlZ2lzdHJ5IGltcG9ydCBBcmNoaXRlY3R1cmVSZWdpc3RyeQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5nZW5lcmF0b3IuZWNhcGFfdGRubiBpbXBvcnQgRUNBUEFfVEROTgoKCkBkYXRhY2xhc3MKY2xhc3MgRWNhcGFURE5OQ29uZmlnOgogICAgY2hhbm5lbHM6IExpc3RbaW50XQogICAga2VybmVsX3NpemVzOiBMaXN0W2ludF0KICAgIGRpbGF0aW9uczogTGlzdFtpbnRdCiAgICBhdHRlbnRpb25fY2hhbm5lbHM6IGludAogICAgcmVzMm5ldF9zY2FsZTogaW50CiAgICBzZV9jaGFubmVsczogaW50CiAgICBnbG9iYWxfY29udGV4dDogYm9vbAogICAgZ3JvdXBzOiBMaXN0W2ludF0KICAgIGVtYmVkX2RpbTogaW50CiAgICBpbnB1dF9kaW06IGludAoKCmVjYXBhX3Rkbm5fYXJjaHMgPSBBcmNoaXRlY3R1cmVSZWdpc3RyeVtFY2FwYVRETk5Db25maWddKCJlY2FwYV90ZG5uIikKCmVjYXBhX3Rkbm5fYXJjaCA9IGVjYXBhX3Rkbm5fYXJjaHMuZGVjb3JhdG9yCgoKQGVjYXBhX3Rkbm5fYXJjaCgiYmFzZSIpCmRlZiBfYmFzZV9lY2FwYV90ZG5uKCkgLT4gRWNhcGFURE5OQ29uZmlnOgogICAgcmV0dXJuIEVjYXBhVEROTkNvbmZpZygKICAgICAgICBjaGFubmVscz1bNTEyLCA1MTIsIDUxMiwgNTEyLCAxNTM2XSwKICAgICAgICBrZXJuZWxfc2l6ZXM9WzUsIDMsIDMsIDMsIDFdLAogICAgICAgIGRpbGF0aW9ucz1bMSwgMiwgMywgNCwgMV0sCiAgICAgICAgYXR0ZW50aW9uX2NoYW5uZWxzPTEyOCwKICAgICAgICByZXMybmV0X3NjYWxlPTgsCiAgICAgICAgc2VfY2hhbm5lbHM9MTI4LAogICAgICAgIGdsb2JhbF9jb250ZXh0PVRydWUsCiAgICAgICAgZ3JvdXBzPVsxLCAxLCAxLCAxLCAxXSwKICAgICAgICBlbWJlZF9kaW09NTEyLAogICAgICAgIGlucHV0X2RpbT04MCwKICAgICkKCgpjbGFzcyBFY2FwYVRETk5CdWlsZGVyOgogICAgIiIiCiAgICBCdWlsZGVyIG1vZHVsZSBmb3IgRUNBUEFfVEROTiBtb2RlbAogICAgIiIiCgogICAgY29uZmlnOiBFY2FwYVRETk5Db25maWcKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXQogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvbmZpZzogRWNhcGFURE5OQ29uZmlnLAogICAgICAgICosCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gY29uZmlnOgogICAgICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICAgICAgOnBhcmFtIGRldmljZXY6CiAgICAgICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgICAgIDpwYXJhbSBkdHlwZToKICAgICAgICAgICAgVGhlIGRhdGEgdHlwZSBvZiBtb2R1bGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycy4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmNvbmZpZyA9IGNvbmZpZwoKICAgICAgICBzZWxmLmRldmljZSwgc2VsZi5kdHlwZSA9IGRldmljZSwgZHR5cGUKCiAgICBkZWYgYnVpbGRfbW9kZWwoc2VsZikgLT4gRUNBUEFfVEROTjoKICAgICAgICAiIiJCdWlsZCBhIG1vZGVsLiIiIgogICAgICAgIG1vZGVsID0gRUNBUEFfVEROTigKICAgICAgICAgICAgc2VsZi5jb25maWcuY2hhbm5lbHMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmtlcm5lbF9zaXplcywKICAgICAgICAgICAgc2VsZi5jb25maWcuZGlsYXRpb25zLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5hdHRlbnRpb25fY2hhbm5lbHMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnJlczJuZXRfc2NhbGUsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnNlX2NoYW5uZWxzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5nbG9iYWxfY29udGV4dCwKICAgICAgICAgICAgc2VsZi5jb25maWcuZ3JvdXBzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5lbWJlZF9kaW0sCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmlucHV0X2RpbSwKICAgICAgICApCiAgICAgICAgbW9kZWwudG8oZGV2aWNlPXNlbGYuZGV2aWNlLCBkdHlwZT1zZWxmLmR0eXBlKQogICAgICAgIHJldHVybiBtb2RlbAoKCmRlZiBjcmVhdGVfZWNhcGFfdGRubl9tb2RlbCgKICAgIGNvbmZpZzogRWNhcGFURE5OQ29uZmlnLAogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAopIC0+IEVDQVBBX1RETk46CiAgICAiIiJDcmVhdGUgYSBFQ0FQQV9URE5OIG1vZGVsLgoKICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgOnBhcmFtIGRldmljZToKICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgIDpwYXJhbSBkdHlwZToKICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgIiIiCgogICAgcmV0dXJuIEVjYXBhVEROTkJ1aWxkZXIoY29uZmlnLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkuYnVpbGRfbW9kZWwoKQo='),
    ('seamless/src/seamless_communication/models/generator/vocoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBMaXN0LCBMaXRlcmFsLCBPcHRpb25hbCwgVHVwbGUKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIubm4uZW1iZWRkaW5nIGltcG9ydCBFbWJlZGRpbmcsIFN0YW5kYXJkRW1iZWRkaW5nCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2sKZnJvbSBmYWlyc2VxMi5ubi5wb3NpdGlvbl9lbmNvZGVyIGltcG9ydCBQb3NpdGlvbkVuY29kZXIKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBQcm9qZWN0aW9uCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2gubm4gaW1wb3J0ICgKICAgIEVMVSwKICAgIEJhdGNoTm9ybTFkLAogICAgQ29udjFkLAogICAgQ29udlRyYW5zcG9zZTFkLAogICAgRHJvcG91dCwKICAgIE1vZHVsZSwKICAgIE1vZHVsZUxpc3QsCiAgICBQYXJhbWV0ZXIsCiAgICBTZXF1ZW50aWFsLAogICAgVGFuaCwKICAgIGluaXQsCikKZnJvbSB0b3JjaC5ubi51dGlscy53ZWlnaHRfbm9ybSBpbXBvcnQgcmVtb3ZlX3dlaWdodF9ub3JtLCB3ZWlnaHRfbm9ybQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5nZW5lcmF0b3IuZWNhcGFfdGRubiBpbXBvcnQgRUNBUEFfVEROTgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmZmdF9kZWNvZGVyIGltcG9ydCBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubGVuZ3RoX3JlZ3VsYXRvciBpbXBvcnQgVmFyaWFuY2VBZGFwdG9yCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5oaWZpZ2FuIGltcG9ydCAoCiAgICBMUkVMVV9TTE9QRSwKICAgIFJlc0Jsb2NrLAogICAgaW5pdF93ZWlnaHRzLAopCgpmcm9tIC5zdHJlYW1hYmxlIGltcG9ydCAoCiAgICBTdHJlYW1hYmxlQ29udjFkLAogICAgU3RyZWFtYWJsZUNvbnZUcmFuc3Bvc2UxZCwKICAgIFN0cmVhbWFibGVMU1RNLAogICAgU3RyZWFtYWJsZVJlc25ldEJsb2NrLAopCgpFTFVfUEFSQU1TOiBEaWN0W3N0ciwgQW55XSA9IHsiYWxwaGEiOiAxLjB9CgoKY2xhc3MgUHJldHNzZWxFbmNvZGVyRnJvbnRlbmQoTW9kdWxlKToKICAgICIiIgogICAgUmVwcmVzZW50IEVuY29kZXIgZnJvbnRlbmQsIGluY2x1ZGluZyB0aGUgcHJvc29keSBlbmNvZGVyIGFuZCBsYW5ndWFnZSBlbWJlZGRpbmcKICAgICIiIgoKICAgIHByb3NvZHlfZW5jb2RlcjogRUNBUEFfVEROTgogICAgZW1iZWRfdG9rZW5zOiBFbWJlZGRpbmcKICAgIGVtYmVkX3Bvc2l0aW9uczogUG9zaXRpb25FbmNvZGVyCiAgICBwb3NfZW1iX2FscGhhOiBQYXJhbWV0ZXIKICAgIGVtYmVkX2xhbmc6IEVtYmVkZGluZwogICAgZHJvcG91dDogRHJvcG91dAoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHByb3NvZHlfZW5jb2RlcjogRUNBUEFfVEROTiwKICAgICAgICBlbWJlZF90b2tlbnM6IEVtYmVkZGluZywKICAgICAgICBlbWJlZF9wb3NpdGlvbnM6IFBvc2l0aW9uRW5jb2RlciwKICAgICAgICBsYW5nX3RvX2luZGV4OiBEaWN0W3N0ciwgaW50XSwKICAgICAgICBsYW5nX2VtYmVkX2RpbTogT3B0aW9uYWxbaW50XSwKICAgICAgICBkcm9wb3V0X3A6IGZsb2F0LAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBzZWxmLnByb3NvZHlfZW5jb2RlciA9IHByb3NvZHlfZW5jb2RlcgoKICAgICAgICBzZWxmLmVtYmVkX3Rva2VucyA9IGVtYmVkX3Rva2VucwoKICAgICAgICBzZWxmLmVtYmVkX3Bvc2l0aW9ucyA9IGVtYmVkX3Bvc2l0aW9ucwogICAgICAgIHNlbGYucG9zX2VtYl9hbHBoYSA9IFBhcmFtZXRlcih0b3JjaC5vbmVzKDEsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKSkKCiAgICAgICAgc2VsZi5sYW5nX3RvX2luZGV4ID0gbGFuZ190b19pbmRleAoKICAgICAgICBpZiBsYW5nX2VtYmVkX2RpbSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5lbWJlZF9sYW5nID0gU3RhbmRhcmRFbWJlZGRpbmcoCiAgICAgICAgICAgICAgICBsZW4obGFuZ190b19pbmRleCksIGxhbmdfZW1iZWRfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoImVtYmVkX2xhbmciLCBOb25lKQoKICAgICAgICBzZWxmLmRyb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKICAgICAgICBzZWxmLmR0eXBlID0gZHR5cGUKCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IHRvcmNoLlRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBwcm9zb2R5X2lucHV0X3NlcXM6IHRvcmNoLlRlbnNvciwKICAgICAgICBwcm9zb2R5X3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIHRndF9sYW5nOiBzdHIsCiAgICApIC0+IFR1cGxlW3RvcmNoLlRlbnNvciwgdG9yY2guVGVuc29yXToKICAgICAgICBwcm9zb2R5X2VtYnMgPSBzZWxmLnByb3NvZHlfZW5jb2RlcigKICAgICAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzLAogICAgICAgICAgICBwcm9zb2R5X3BhZGRpbmdfbWFzaywKICAgICAgICApLnVuc3F1ZWV6ZSgxKQoKICAgICAgICBpZiBzZWxmLmVtYmVkX2xhbmcgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGxhbmdfaW5kZXggPSBzZWxmLmxhbmdfdG9faW5kZXhbdGd0X2xhbmddCiAgICAgICAgICAgIGxhbmdfaW5kZXhfdGVuc29yID0gKAogICAgICAgICAgICAgICAgdG9yY2guVGVuc29yKFtsYW5nX2luZGV4XSkudG8oc2VxcykucmVwZWF0KHNlcXMuc2l6ZSgwKSwgMSkKICAgICAgICAgICAgKQogICAgICAgICAgICBsYW5nX2VtYmVkcyA9IHNlbGYuZW1iZWRfbGFuZyhsYW5nX2luZGV4X3RlbnNvcikKICAgICAgICAgICAgcHJvc29keV9lbWJzID0gdG9yY2guY2F0KFtwcm9zb2R5X2VtYnMsIGxhbmdfZW1iZWRzXSwgZGltPS0xKQoKICAgICAgICBzZXFzID0gc2VsZi5lbWJlZF90b2tlbnMoc2VxcykKICAgICAgICBzZXFzICs9IHNlbGYucG9zX2VtYl9hbHBoYSAqIChzZWxmLmVtYmVkX3Bvc2l0aW9ucyhzZXFzLCBwYWRkaW5nX21hc2spIC0gc2VxcykKICAgICAgICBzZXFzID0gc2VsZi5kcm9wb3V0KHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzLCBwcm9zb2R5X2VtYnMKCgpjbGFzcyBQcmV0c3NlbERlY29kZXJGcm9udGVuZChNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50IERlY29kZXIgZnJvbnRlbmQsIGluY2x1ZGluZyBWYXJpYW5jZUFkYXB0b3IgJiBQb3NpdGlvbmFsIGVtYmVkZGluZyIiIgoKICAgIHZhcmlhbmNlX2FkYXB0b3I6IFZhcmlhbmNlQWRhcHRvcgogICAgZW1iZWRfcG9zaXRpb25zOiBQb3NpdGlvbkVuY29kZXIKICAgIHBvc19lbWJfYWxwaGE6IFBhcmFtZXRlcgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHZhcmlhbmNlX2FkYXB0b3I6IFZhcmlhbmNlQWRhcHRvciwKICAgICAgICBlbWJlZF9wb3NpdGlvbnM6IFBvc2l0aW9uRW5jb2RlciwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi52YXJpYW5jZV9hZGFwdG9yID0gdmFyaWFuY2VfYWRhcHRvcgogICAgICAgIHNlbGYuZW1iZWRfcG9zaXRpb25zID0gZW1iZWRfcG9zaXRpb25zCiAgICAgICAgc2VsZi5wb3NfZW1iX2FscGhhID0gUGFyYW1ldGVyKHRvcmNoLm9uZXMoMSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpKQoKICAgICAgICBzZWxmLmRldmljZSA9IGRldmljZQogICAgICAgIHNlbGYuZHR5cGUgPSBkdHlwZQoKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogdG9yY2guVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogUGFkZGluZ01hc2ssCiAgICAgICAgZHVyYXRpb25zOiBPcHRpb25hbFt0b3JjaC5UZW5zb3JdID0gTm9uZSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIG1pbl9kdXJhdGlvbjogaW50ID0gMCwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFt0b3JjaC5UZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbdG9yY2guVGVuc29yLCBQYWRkaW5nTWFza106CiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBfID0gc2VsZi52YXJpYW5jZV9hZGFwdG9yKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIGR1cmF0aW9ucywgZHVyYXRpb25fZmFjdG9yLCBtaW5fZHVyYXRpb24sIGZpbG1fY29uZF9lbWIKICAgICAgICApCgogICAgICAgIHNlcXMgKz0gc2VsZi5wb3NfZW1iX2FscGhhICogKHNlbGYuZW1iZWRfcG9zaXRpb25zKHNlcXMsIHBhZGRpbmdfbWFzaykgLSBzZXFzKQoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrCgoKY2xhc3MgUHJldHNzZWxWb2NvZGVyKE1vZHVsZSk6CiAgICAiIiJUaGUgZXhwcmVzc2l2aXR5LXByZXNlcnZpbmcgdm9jb2RlciIiIgoKICAgIGVuY29kZXJfZnJvbnRlbmQ6IFByZXRzc2VsRW5jb2RlckZyb250ZW5kCiAgICBlbmNvZGVyOiBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyCiAgICBkZWNvZGVyX2Zyb250ZW5kOiBQcmV0c3NlbERlY29kZXJGcm9udGVuZAogICAgZGVjb2RlcjogRmVlZEZvcndhcmRUcmFuc2Zvcm1lcgogICAgZmluYWxfcHJvajogUHJvamVjdGlvbgoKICAgIGRlZiBfX2luaXRfXyggICMgdHlwZTogaWdub3JlW25vLXVudHlwZWQtZGVmXQogICAgICAgIHNlbGYsCiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZDogUHJldHNzZWxFbmNvZGVyRnJvbnRlbmQsCiAgICAgICAgZW5jb2RlcjogRmVlZEZvcndhcmRUcmFuc2Zvcm1lciwKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kOiBQcmV0c3NlbERlY29kZXJGcm9udGVuZCwKICAgICAgICBkZWNvZGVyOiBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyLAogICAgICAgIGZpbmFsX3Byb2o6IFByb2plY3Rpb24sCiAgICAgICAgcG5fbl9jaGFubmVsczogaW50LAogICAgICAgIHBuX2tlcm5lbF9zaXplOiBpbnQsCiAgICAgICAgcG5fbGF5ZXJzOiBpbnQsCiAgICAgICAgcG5fZHJvcG91dDogZmxvYXQsCiAgICAgICAgdXBzYW1wbGVfcmF0ZXM6IExpc3RbaW50XSwKICAgICAgICB1cHNhbXBsZV9rZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWw6IGludCwKICAgICAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICByZXNibG9ja19kaWxhdGlvbl9zaXplczogTGlzdFtMaXN0W2ludF1dLAogICAgICAgIG1lbF9kaW06IGludCA9IDgwLAogICAgICAgIGFkZF91cHNfb3V0X3BhZDogYm9vbCA9IFRydWUsCiAgICAgICAgY2hhbm5lbHM6IGludCA9IDEsCiAgICAgICAgZGltZW5zaW9uOiBpbnQgPSAxMjgsCiAgICAgICAgbl9maWx0ZXJzOiBpbnQgPSAzMiwKICAgICAgICByYXRpb3M6IExpc3RbaW50XSA9IFs4LCA1LCA0LCAyXSwKICAgICAgICBub3JtOiBMaXRlcmFsWwogICAgICAgICAgICAibm9uZSIsICJ3ZWlnaHRfbm9ybSIsICJzcGVjdHJhbF9ub3JtIiwgInRpbWVfZ3JvdXBfbm9ybSIKICAgICAgICBdID0gIm5vbmUiLAogICAgICAgIG5vcm1fcGFyYW1zOiBEaWN0W3N0ciwgQW55XSA9IHt9LAogICAgICAgIGtlcm5lbF9zaXplOiBpbnQgPSA3LAogICAgICAgIGxhc3Rfa2VybmVsX3NpemU6IGludCA9IDcsCiAgICAgICAgcmVzaWR1YWxfa2VybmVsX3NpemU6IGludCA9IDMsCiAgICAgICAgY2F1c2FsOiBib29sID0gRmFsc2UsCiAgICAgICAgcGFkX21vZGU6IHN0ciA9ICJjb25zdGFudCIsCiAgICAgICAgdHJ1ZV9za2lwOiBib29sID0gVHJ1ZSwKICAgICAgICBjb21wcmVzczogaW50ID0gMiwKICAgICAgICBsc3RtOiBpbnQgPSAwLAogICAgICAgIGRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3M6IGludCA9IDAsCiAgICAgICAgdHJpbV9yaWdodF9yYXRpbzogZmxvYXQgPSAxLjAsCiAgICAgICAgZ2Ntdm5fbWVhbjogT3B0aW9uYWxbTGlzdFtmbG9hdF1dID0gTm9uZSwKICAgICAgICBnY212bl9zdGQ6IE9wdGlvbmFsW0xpc3RbZmxvYXRdXSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5lbmNvZGVyX2Zyb250ZW5kID0gZW5jb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuZW5jb2RlciA9IGVuY29kZXIKICAgICAgICBzZWxmLmRlY29kZXJfZnJvbnRlbmQgPSBkZWNvZGVyX2Zyb250ZW5kCiAgICAgICAgc2VsZi5kZWNvZGVyID0gZGVjb2RlcgogICAgICAgIHNlbGYuZmluYWxfcHJvaiA9IGZpbmFsX3Byb2oKICAgICAgICBtdWx0ID0gMQogICAgICAgIHN0cmVhbV9sYXllcnM6IExpc3RbTW9kdWxlXSA9IFsKICAgICAgICAgICAgU3RyZWFtYWJsZUNvbnYxZCgKICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgbXVsdCAqIG5fZmlsdGVycywKICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICAgICAgbm9ybT0ibm9uZSIgaWYgZGlzYWJsZV9ub3JtX291dGVyX2Jsb2NrcyA+PSAxIGVsc2Ugbm9ybSwKICAgICAgICAgICAgICAgIG5vcm1fa3dhcmdzPW5vcm1fcGFyYW1zLAogICAgICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgICAgIHBhZF9tb2RlPXBhZF9tb2RlLAogICAgICAgICAgICAgICAgYWN0aXZhdGlvbj1UYW5oKCksCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICkKICAgICAgICBdCiAgICAgICAgIyBEb3duc2FtcGxlIHRvIGZyb20gYXVkaW8gc2NhbGUKICAgICAgICBmb3IgaSwgcmF0aW8gaW4gZW51bWVyYXRlKGxpc3QocmV2ZXJzZWQocmF0aW9zKSkpOgogICAgICAgICAgICBibG9ja19ub3JtID0gIm5vbmUiIGlmIGRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3MgPj0gaSArIDIgZWxzZSBub3JtCiAgICAgICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZVJlc25ldEJsb2NrKAogICAgICAgICAgICAgICAgICAgIG11bHQgKiBuX2ZpbHRlcnMsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemVzPVtyZXNpZHVhbF9rZXJuZWxfc2l6ZSwgMV0sCiAgICAgICAgICAgICAgICAgICAgZGlsYXRpb25zPVsxLCAxXSwKICAgICAgICAgICAgICAgICAgICBub3JtPWJsb2NrX25vcm0sCiAgICAgICAgICAgICAgICAgICAgbm9ybV9wYXJhbXM9bm9ybV9wYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgICAgICAgICBwYWRfbW9kZT1wYWRfbW9kZSwKICAgICAgICAgICAgICAgICAgICBjb21wcmVzcz1jb21wcmVzcywKICAgICAgICAgICAgICAgICAgICB0cnVlX3NraXA9dHJ1ZV9za2lwLAogICAgICAgICAgICAgICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoRUxVKCoqRUxVX1BBUkFNUykpCiAgICAgICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZUNvbnYxZCgKICAgICAgICAgICAgICAgICAgICBtdWx0ICogbl9maWx0ZXJzLAogICAgICAgICAgICAgICAgICAgIG11bHQgKiBuX2ZpbHRlcnMgKiAyLAogICAgICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplPXJhdGlvICogMiwKICAgICAgICAgICAgICAgICAgICBzdHJpZGU9cmF0aW8sCiAgICAgICAgICAgICAgICAgICAgbm9ybT1ibG9ja19ub3JtLAogICAgICAgICAgICAgICAgICAgIG5vcm1fa3dhcmdzPW5vcm1fcGFyYW1zLAogICAgICAgICAgICAgICAgICAgIGNhdXNhbD1jYXVzYWwsCiAgICAgICAgICAgICAgICAgICAgcGFkX21vZGU9cGFkX21vZGUsCiAgICAgICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBtdWx0ICo9IDIKCiAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoU3RyZWFtYWJsZUxTVE0obXVsdCAqIG5fZmlsdGVycywgbnVtX2xheWVycz1sc3RtKSkKICAgICAgICBzdHJlYW1fbGF5ZXJzLmFwcGVuZChFTFUoKipFTFVfUEFSQU1TKSkKICAgICAgICBuX2Jsb2NrcyA9IGxlbihyYXRpb3MpICsgMgogICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICBTdHJlYW1hYmxlQ29udjFkKAogICAgICAgICAgICAgICAgbXVsdCAqIG5fZmlsdGVycywKICAgICAgICAgICAgICAgIGRpbWVuc2lvbiwKICAgICAgICAgICAgICAgIGxhc3Rfa2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICBub3JtPSJub25lIiBpZiBkaXNhYmxlX25vcm1fb3V0ZXJfYmxvY2tzID09IG5fYmxvY2tzIGVsc2Ugbm9ybSwKICAgICAgICAgICAgICAgIG5vcm1fa3dhcmdzPW5vcm1fcGFyYW1zLAogICAgICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgICAgIHBhZF9tb2RlPXBhZF9tb2RlLAogICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICApCiAgICAgICAgKQogICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICBTdHJlYW1hYmxlQ29udjFkKAogICAgICAgICAgICAgICAgZGltZW5zaW9uLAogICAgICAgICAgICAgICAgbXVsdCAqIG5fZmlsdGVycywKICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICAgICAgbm9ybT0ibm9uZSIgaWYgZGlzYWJsZV9ub3JtX291dGVyX2Jsb2NrcyA9PSBuX2Jsb2NrcyBlbHNlIG5vcm0sCiAgICAgICAgICAgICAgICBub3JtX2t3YXJncz1ub3JtX3BhcmFtcywKICAgICAgICAgICAgICAgIGNhdXNhbD1jYXVzYWwsCiAgICAgICAgICAgICAgICBwYWRfbW9kZT1wYWRfbW9kZSwKICAgICAgICAgICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICBzdHJlYW1fbGF5ZXJzLmFwcGVuZCgKICAgICAgICAgICAgU3RyZWFtYWJsZUxTVE0oCiAgICAgICAgICAgICAgICBtdWx0ICogbl9maWx0ZXJzLCBudW1fbGF5ZXJzPWxzdG0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgICAgICkKICAgICAgICApCgogICAgICAgICMgcmVzYW1wbGUgYmFjayB0byByYXcgYXVkaW8gc2NhbGUKICAgICAgICBmb3IgaSwgcmF0aW8gaW4gZW51bWVyYXRlKHJhdGlvcyk6CiAgICAgICAgICAgIGJsb2NrX25vcm0gPSAoCiAgICAgICAgICAgICAgICAibm9uZSIgaWYgZGlzYWJsZV9ub3JtX291dGVyX2Jsb2NrcyA+PSBuX2Jsb2NrcyAtIChpICsgMSkgZWxzZSBub3JtCiAgICAgICAgICAgICkKICAgICAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoRUxVKCoqRUxVX1BBUkFNUykpCiAgICAgICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZUNvbnZUcmFuc3Bvc2UxZCgKICAgICAgICAgICAgICAgICAgICBtdWx0ICogbl9maWx0ZXJzLAogICAgICAgICAgICAgICAgICAgIG11bHQgKiBuX2ZpbHRlcnMgLy8gMiwKICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT1yYXRpbyAqIDIsCiAgICAgICAgICAgICAgICAgICAgc3RyaWRlPXJhdGlvLAogICAgICAgICAgICAgICAgICAgIG5vcm09YmxvY2tfbm9ybSwKICAgICAgICAgICAgICAgICAgICBub3JtX2t3YXJncz1ub3JtX3BhcmFtcywKICAgICAgICAgICAgICAgICAgICBjYXVzYWw9Y2F1c2FsLAogICAgICAgICAgICAgICAgICAgIHRyaW1fcmlnaHRfcmF0aW89dHJpbV9yaWdodF9yYXRpbywKICAgICAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZVJlc25ldEJsb2NrKAogICAgICAgICAgICAgICAgICAgIG11bHQgKiBuX2ZpbHRlcnMgLy8gMiwKICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZXM9W3Jlc2lkdWFsX2tlcm5lbF9zaXplLCAxXSwKICAgICAgICAgICAgICAgICAgICBkaWxhdGlvbnM9WzEsIDFdLAogICAgICAgICAgICAgICAgICAgIG5vcm09YmxvY2tfbm9ybSwKICAgICAgICAgICAgICAgICAgICBub3JtX3BhcmFtcz1ub3JtX3BhcmFtcywKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0aW9uX3BhcmFtcz1FTFVfUEFSQU1TLAogICAgICAgICAgICAgICAgICAgIGNhdXNhbD1jYXVzYWwsCiAgICAgICAgICAgICAgICAgICAgcGFkX21vZGU9cGFkX21vZGUsCiAgICAgICAgICAgICAgICAgICAgY29tcHJlc3M9Y29tcHJlc3MsCiAgICAgICAgICAgICAgICAgICAgdHJ1ZV9za2lwPXRydWVfc2tpcCwKICAgICAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIG11bHQgLy89IDIKCiAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoRUxVKCoqRUxVX1BBUkFNUykpCiAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoCiAgICAgICAgICAgIFN0cmVhbWFibGVDb252MWQoCiAgICAgICAgICAgICAgICBuX2ZpbHRlcnMsCiAgICAgICAgICAgICAgICBjaGFubmVscywKICAgICAgICAgICAgICAgIGxhc3Rfa2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICBub3JtPSJub25lIiBpZiBkaXNhYmxlX25vcm1fb3V0ZXJfYmxvY2tzID49IDEgZWxzZSBub3JtLAogICAgICAgICAgICAgICAgbm9ybV9rd2FyZ3M9bm9ybV9wYXJhbXMsCiAgICAgICAgICAgICAgICBjYXVzYWw9Y2F1c2FsLAogICAgICAgICAgICAgICAgcGFkX21vZGU9cGFkX21vZGUsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICkKICAgICAgICApCiAgICAgICAgc2VsZi5uX3N0cmVhbXMgPSBsZW4oc3RyZWFtX2xheWVycykKICAgICAgICBjaHVua19zaXplID0gc2VsZi5uX3N0cmVhbXMgLy8gNAogICAgICAgIHN0cmVhbV9pZHggPSAwCgogICAgICAgIHNlbGYucG5fbGF5ZXJzID0gcG5fbGF5ZXJzCiAgICAgICAgc2VsZi5sYXllcnMgPSBNb2R1bGVMaXN0KCkKICAgICAgICBhc3NlcnQgcG5fa2VybmVsX3NpemUgJSAyID09IDEKICAgICAgICBmb3IgaSBpbiByYW5nZShwbl9sYXllcnMpOgogICAgICAgICAgICBjdXJfbGF5ZXJzID0gKAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgbWVsX2RpbSBpZiBpID09IDAgZWxzZSBwbl9uX2NoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBwbl9uX2NoYW5uZWxzIGlmIGkgPCBwbl9sYXllcnMgLSAxIGVsc2UgbWVsX2RpbSwKICAgICAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9cG5fa2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9InNhbWUiLAogICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIEJhdGNoTm9ybTFkKAogICAgICAgICAgICAgICAgICAgICAgICBwbl9uX2NoYW5uZWxzIGlmIGkgPCBwbl9sYXllcnMgLSAxIGVsc2UgbWVsX2RpbSwKICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICsgKFtUYW5oKCldIGlmIGkgPCBwbl9sYXllcnMgLSAxIGVsc2UgW10pCiAgICAgICAgICAgICAgICArIFtEcm9wb3V0KHBuX2Ryb3BvdXQpXQogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYubGF5ZXJzLmFwcGVuZChTZXF1ZW50aWFsKCpjdXJfbGF5ZXJzKSkKICAgICAgICBzZWxmLnJlc2V0X3BhcmFtZXRlcnMoKQogICAgICAgIHNlbGYubGF5ZXJzLmV4dGVuZChzdHJlYW1fbGF5ZXJzWzpjaHVua19zaXplXSkKICAgICAgICBzdHJlYW1faWR4ICs9IGNodW5rX3NpemUKICAgICAgICBzZWxmLmxheWVycy5hcHBlbmQoCiAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgICAgIG1lbF9kaW0gaWYgbWVsX2RpbSBpcyBub3QgTm9uZSBlbHNlIDgwLAogICAgICAgICAgICAgICAgICAgIHVwc2FtcGxlX2luaXRpYWxfY2hhbm5lbCwKICAgICAgICAgICAgICAgICAgICA3LAogICAgICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZz0ic2FtZSIsCiAgICAgICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICBzZWxmLmxheWVycy5leHRlbmQoc3RyZWFtX2xheWVyc1tzdHJlYW1faWR4IDogc3RyZWFtX2lkeCArIGNodW5rX3NpemVdKSAgIyBub3FhCiAgICAgICAgc3RyZWFtX2lkeCArPSBjaHVua19zaXplCgogICAgICAgIHNlbGYubnVtX2tlcm5lbHMgPSBsZW4ocmVzYmxvY2tfa2VybmVsX3NpemVzKQogICAgICAgIHNlbGYubnVtX3Vwc2FtcGxlcyA9IGxlbih1cHNhbXBsZV9yYXRlcykKICAgICAgICB1cHMgPSBNb2R1bGVMaXN0KCkKICAgICAgICBmb3IgaSwgKHUsIGspIGluIGVudW1lcmF0ZSh6aXAodXBzYW1wbGVfcmF0ZXMsIHVwc2FtcGxlX2tlcm5lbF9zaXplcykpOgogICAgICAgICAgICBvdXRfcGFkID0gdSAlIDIgaWYgYWRkX3Vwc19vdXRfcGFkIGVsc2UgMAogICAgICAgICAgICB1cHMuYXBwZW5kKAogICAgICAgICAgICAgICAgd2VpZ2h0X25vcm0oCiAgICAgICAgICAgICAgICAgICAgQ29udlRyYW5zcG9zZTFkKAogICAgICAgICAgICAgICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIqKmkpLAogICAgICAgICAgICAgICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIgKiogKGkgKyAxKSksCiAgICAgICAgICAgICAgICAgICAgICAgIGssCiAgICAgICAgICAgICAgICAgICAgICAgIHUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9KGsgLSB1KSAvLyAyICsgb3V0X3BhZCwKICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhZGRpbmc9b3V0X3BhZCwKICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgdXBzLmFwcGx5KGluaXRfd2VpZ2h0cykKICAgICAgICBzZWxmLmxheWVycy5leHRlbmQodXBzKQogICAgICAgIHNlbGYubGF5ZXJzLmV4dGVuZChzdHJlYW1fbGF5ZXJzW3N0cmVhbV9pZHggOiBzdHJlYW1faWR4ICsgY2h1bmtfc2l6ZV0pICAjIG5vcWEKICAgICAgICBzdHJlYW1faWR4ICs9IGNodW5rX3NpemUKCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5udW1fdXBzYW1wbGVzKToKICAgICAgICAgICAgY2ggPSB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIgKiogKGkgKyAxKSkKICAgICAgICAgICAgZm9yIGssIGQgaW4gemlwKHJlc2Jsb2NrX2tlcm5lbF9zaXplcywgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXMpOgogICAgICAgICAgICAgICAgc2VsZi5sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIFJlc0Jsb2NrKAogICAgICAgICAgICAgICAgICAgICAgICBjaCwKICAgICAgICAgICAgICAgICAgICAgICAgaywKICAgICAgICAgICAgICAgICAgICAgICAgZCwKICAgICAgICAgICAgICAgICAgICApLnRvKGRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICAgICAgICAgICAgICApCiAgICAgICAgc2VsZi5sYXllcnMuZXh0ZW5kKHN0cmVhbV9sYXllcnNbc3RyZWFtX2lkeDpdKQoKICAgICAgICBjb252X3Bvc3QgPSB3ZWlnaHRfbm9ybShDb252MWQoY2gsIDEsIDcsIDEsIHBhZGRpbmc9MykpCiAgICAgICAgY29udl9wb3N0LmFwcGx5KGluaXRfd2VpZ2h0cykKICAgICAgICBzZWxmLmxheWVycy5hcHBlbmQoY29udl9wb3N0KQogICAgICAgIGZvciB1LCBrIGluIHppcCh1cHNhbXBsZV9yYXRlcywgdXBzYW1wbGVfa2VybmVsX3NpemVzKToKICAgICAgICAgICAgYXNzZXJ0IGsgPT0gMiAqIHUsIChrLCB1KQoKICAgICAgICBtZWFuID0gdG9yY2guemVyb3MoKG1lbF9kaW0sKSwgZHR5cGU9dG9yY2guZmxvYXQpCiAgICAgICAgc2NhbGUgPSB0b3JjaC56ZXJvcygobWVsX2RpbSwpLCBkdHlwZT10b3JjaC5mbG9hdCkKICAgICAgICBzZWxmLnJlZ2lzdGVyX2J1ZmZlcigibWVhbiIsIG1lYW4pCiAgICAgICAgc2VsZi5yZWdpc3Rlcl9idWZmZXIoInNjYWxlIiwgc2NhbGUpCgogICAgICAgIHNlbGYuZ2Ntdm5fbWVhbiA9IHRvcmNoLnRlbnNvcihnY212bl9tZWFuLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKICAgICAgICBzZWxmLmdjbXZuX3N0ZCA9IHRvcmNoLnRlbnNvcihnY212bl9zdGQsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQoKICAgIGRlZiByZXNldF9wYXJhbWV0ZXJzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5wbl9sYXllcnMpOgogICAgICAgICAgICBpbml0Lnhhdmllcl91bmlmb3JtXygKICAgICAgICAgICAgICAgIHNlbGYubGF5ZXJzW2ldWzBdLndlaWdodCwKICAgICAgICAgICAgICAgIGluaXQuY2FsY3VsYXRlX2dhaW4oInRhbmgiIGlmIGkgPCBzZWxmLnBuX2xheWVycyAtIDEgZWxzZSAibGluZWFyIiksCiAgICAgICAgICAgICkKCiAgICBkZWYgZ2Ntdm5fZGVub3JtYWxpemUoc2VsZiwgeDogdG9yY2guVGVuc29yKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAgICAgaWYgc2VsZi5nY212bl9tZWFuIGlzIE5vbmUgb3Igc2VsZi5nY212bl9zdGQgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZ2Ntdm5fbWVhbiBpcyBub3Qgc2V0IikKCiAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgeC5uZGltID09IDMKICAgICAgICAgICAgYW5kIHguc2hhcGVbMl0gPT0gc2VsZi5nY212bl9tZWFuLnNoYXBlWzBdCiAgICAgICAgICAgIGFuZCB4LnNoYXBlWzJdID09IHNlbGYuZ2Ntdm5fc3RkLnNoYXBlWzBdCiAgICAgICAgKQogICAgICAgIGdjbXZuX21lYW4gPSBzZWxmLmdjbXZuX21lYW4udG8oeCkKICAgICAgICBnY212bl9zdGQgPSBzZWxmLmdjbXZuX3N0ZC50byh4KQogICAgICAgIHggPSB4ICogZ2Ntdm5fc3RkLnZpZXcoMSwgMSwgLTEpLmV4cGFuZF9hcyh4KSAgIyB0eXBlOiBpZ25vcmVbYXR0ci1kZWZpbmVkXQogICAgICAgIHJldHVybiB4ICsgZ2Ntdm5fbWVhbi52aWV3KDEsIDEsIC0xKS5leHBhbmRfYXMoeCkgICMgdHlwZTogaWdub3JlW2F0dHItZGVmaW5lZCxuby1hbnktcmV0dXJuXQoKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogdG9yY2guVGVuc29yLAogICAgICAgIHRndF9sYW5nOiBzdHIsCiAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzOiB0b3JjaC5UZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgICAgIHByb3NvZHlfcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgICAgIGR1cmF0aW9uczogT3B0aW9uYWxbdG9yY2guVGVuc29yXSA9IE5vbmUsCiAgICAgICAgZHVyYXRpb25fZmFjdG9yOiBmbG9hdCA9IDEuMCwKICAgICAgICBtaW5fZHVyYXRpb246IGludCA9IDAsCiAgICAgICAgbm9ybWFsaXplX2JlZm9yZTogYm9vbCA9IFRydWUsCiAgICApIC0+IExpc3RbdG9yY2guVGVuc29yXToKICAgICAgICAjIEhlcmUgd2UgYXJlIGFkZGluZyBiYXRjaCBkaW1lbnNpb24gZm9yIHRoZSBwcmV0c3NlbAogICAgICAgIGlmIHNlcXMubmRpbSA8IDI6CiAgICAgICAgICAgIHNlcXMgPSBzZXFzLnVuc3F1ZWV6ZSgwKQogICAgICAgIGlmIHByb3NvZHlfaW5wdXRfc2Vxcy5uZGltIDwgMzoKICAgICAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzID0gcHJvc29keV9pbnB1dF9zZXFzLnVuc3F1ZWV6ZSgwKQogICAgICAgIHNlcXMsIGNvbmRfZW1icyA9IHNlbGYuZW5jb2Rlcl9mcm9udGVuZCgKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBwcm9zb2R5X2lucHV0X3NlcXMsCiAgICAgICAgICAgIHByb3NvZHlfcGFkZGluZ19tYXNrLAogICAgICAgICAgICB0Z3RfbGFuZywKICAgICAgICApCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5lbmNvZGVyKHNlcXMsIHBhZGRpbmdfbWFzaywgY29uZF9lbWJzKQogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYuZGVjb2Rlcl9mcm9udGVuZCgKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBkdXJhdGlvbnMsIGR1cmF0aW9uX2ZhY3RvciwgbWluX2R1cmF0aW9uLCBjb25kX2VtYnMKICAgICAgICApCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5kZWNvZGVyKHNlcXMsIHBhZGRpbmdfbWFzaywgY29uZF9lbWJzKQogICAgICAgIHNlcXMgPSBzZWxmLmZpbmFsX3Byb2ooc2VxcykKCiAgICAgICAgcG4gPSBzZXFzLnRyYW5zcG9zZSgxLCAyKSAgIyBCIHggVCB4IEMgLT4gQiB4IEMgeCBUCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5wbl9sYXllcnMpOgogICAgICAgICAgICBwbiA9IHNlbGYubGF5ZXJzW2ldKHBuKQogICAgICAgIHBuID0gcG4udHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHggPSBzZXFzICsgcG4KICAgICAgICB4ID0gc2VsZi5nY212bl9kZW5vcm1hbGl6ZSh4KQoKICAgICAgICB3YXZzID0gW10KICAgICAgICBmb3IgaWR4LCBfeCBpbiBlbnVtZXJhdGUoeCk6CiAgICAgICAgICAgIF94ID0gX3hbOiBkdXJhdGlvbnNbaWR4XS5zdW0oKV0gICMgdHlwZTogaWdub3JlW2luZGV4XQogICAgICAgICAgICBpZiBub3JtYWxpemVfYmVmb3JlOgogICAgICAgICAgICAgICAgX3ggPSAoX3ggLSBzZWxmLm1lYW4pIC8gc2VsZi5zY2FsZQoKICAgICAgICAgICAgX3ggPSBfeC50cmFuc3Bvc2UoMSwgMCkudW5zcXVlZXplKDApCiAgICAgICAgICAgIGNodW5rX3NpemUgPSBzZWxmLm5fc3RyZWFtcyAvLyA0CiAgICAgICAgICAgIF94ID0gc2VsZi5sYXllcnNbc2VsZi5wbl9sYXllcnMgKyBjaHVua19zaXplXShfeCkKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5udW1fdXBzYW1wbGVzKToKICAgICAgICAgICAgICAgIF94ID0gRi5sZWFreV9yZWx1KF94LCBMUkVMVV9TTE9QRSkKICAgICAgICAgICAgICAgIF94ID0gc2VsZi5sYXllcnNbaSArIHNlbGYucG5fbGF5ZXJzICsgMSArIDIgKiBjaHVua19zaXplXShfeCkKICAgICAgICAgICAgICAgIHhzID0gTm9uZQogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2Uoc2VsZi5udW1fa2VybmVscyk6CiAgICAgICAgICAgICAgICAgICAgaWYgeHMgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgeHMgPSBzZWxmLmxheWVyc1sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKiBzZWxmLm51bV9rZXJuZWxzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc2VsZi5wbl9sYXllcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgMyAqIGNodW5rX3NpemUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc2VsZi5udW1fdXBzYW1wbGVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIDEKICAgICAgICAgICAgICAgICAgICAgICAgXShfeCkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICB4cyArPSBzZWxmLmxheWVyc1sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKiBzZWxmLm51bV9rZXJuZWxzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc2VsZi5wbl9sYXllcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgMyAqIGNodW5rX3NpemUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc2VsZi5udW1fdXBzYW1wbGVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIDEKICAgICAgICAgICAgICAgICAgICAgICAgXShfeCkKICAgICAgICAgICAgICAgIF94ID0geHMgLyBzZWxmLm51bV9rZXJuZWxzICAjIHR5cGU6IGlnbm9yZQogICAgICAgICAgICBfeCA9IEYubGVha3lfcmVsdShfeCkKICAgICAgICAgICAgX3ggPSBzZWxmLmxheWVyc1sKICAgICAgICAgICAgICAgIHNlbGYucG5fbGF5ZXJzCiAgICAgICAgICAgICAgICArIHNlbGYubl9zdHJlYW1zCiAgICAgICAgICAgICAgICArIHNlbGYubnVtX3Vwc2FtcGxlcyAqICgxICsgc2VsZi5udW1fa2VybmVscykKICAgICAgICAgICAgICAgICsgMQogICAgICAgICAgICBdKF94KQogICAgICAgICAgICBza2lwX291dHB1dCA9IF94CiAgICAgICAgICAgIGggPSBza2lwX291dHB1dAoKICAgICAgICAgICAgZm9yIGkxIGluIHJhbmdlKHNlbGYucG5fbGF5ZXJzLCBzZWxmLnBuX2xheWVycyArIGNodW5rX3NpemUpOgogICAgICAgICAgICAgICAgaCA9IHNlbGYubGF5ZXJzW2kxXShoKQogICAgICAgICAgICBpMSArPSAyCiAgICAgICAgICAgIGZvciBpMiBpbiByYW5nZShpMSwgaTEgKyBjaHVua19zaXplKToKICAgICAgICAgICAgICAgIGggPSBzZWxmLmxheWVyc1tpMl0oaCkKICAgICAgICAgICAgaTIgPSBpMiArIHNlbGYubnVtX3Vwc2FtcGxlcyArIDEKCiAgICAgICAgICAgIGZvciBpMyBpbiByYW5nZShpMiwgaTIgKyBjaHVua19zaXplKToKICAgICAgICAgICAgICAgIGggPSBzZWxmLmxheWVyc1tpM10oaCkKICAgICAgICAgICAgaTMgPSBpMyArIChzZWxmLm51bV91cHNhbXBsZXMgKiBzZWxmLm51bV9rZXJuZWxzKSArIDEKICAgICAgICAgICAgZm9yIGk0IGluIHJhbmdlKGkzLCBpMyArIGNodW5rX3NpemUpOgogICAgICAgICAgICAgICAgaCA9IHNlbGYubGF5ZXJzW2k0XShoKQogICAgICAgICAgICBoID0gaFs6LCA6LCA6IF94LnNpemUoLTEpXQoKICAgICAgICAgICAgd2F2cy5hcHBlbmQoMC44ICogaCArIHRvcmNoLnRhbmgoc2tpcF9vdXRwdXQpLnNxdWVlemUoMCkpCiAgICAgICAgcmV0dXJuIHdhdnMKCiAgICBkZWYgcmVtb3ZlX3dlaWdodF9ub3JtKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaSA9IHNlbGYucG5fbGF5ZXJzICsgMQogICAgICAgIGZvciBqIGluIHJhbmdlKHNlbGYubnVtX3Vwc2FtcGxlcyk6CiAgICAgICAgICAgIHJlbW92ZV93ZWlnaHRfbm9ybShzZWxmLmxheWVyc1tpICsgal0pCiAgICAgICAgZm9yIGsgaW4gcmFuZ2Uoc2VsZi5udW1fdXBzYW1wbGVzICogc2VsZi5udW1fa2VybmVscyk6CiAgICAgICAgICAgIHNlbGYubGF5ZXJzW2kgKyBqICsgayArIDFdLnJlbW92ZV93ZWlnaHRfbm9ybSgpCiAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKHNlbGYubGF5ZXJzW3NlbGYucG5fbGF5ZXJzXSkKICAgICAgICByZW1vdmVfd2VpZ2h0X25vcm0oCiAgICAgICAgICAgIHNlbGYubGF5ZXJzWwogICAgICAgICAgICAgICAgc2VsZi5wbl9sYXllcnMgKyAxICsgc2VsZi5udW1fdXBzYW1wbGVzICogKDEgKyBzZWxmLm51bV9rZXJuZWxzKQogICAgICAgICAgICBdCiAgICAgICAgKQo='),
    ('seamless/src/seamless_communication/models/aligner/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuYWxpZ25lci5tb2RlbCBpbXBvcnQgKAogICAgVW5pdFkyQWxpZ25tZW50RW5jb2RlciBhcyBVbml0WTJBbGlnbm1lbnRFbmNvZGVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuYWxpZ25lci5tb2RlbCBpbXBvcnQgKAogICAgVW5pdFkyQWxpZ25tZW50RnJvbnRlbmQgYXMgVW5pdFkyQWxpZ25tZW50RnJvbnRlbmQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5hbGlnbmVyLm1vZGVsIGltcG9ydCAoCiAgICBVbml0WTJBbGlnbm1lbnRNb2RlbCBhcyBVbml0WTJBbGlnbm1lbnRNb2RlbCwKKQo='),
    ('seamless/src/seamless_communication/models/aligner/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIExpc3QsIE1hcHBpbmcKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUsIGRvd25sb2FkX21hbmFnZXIKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMgaW1wb3J0IENvbmZpZ0xvYWRlciwgTW9kZWxMb2FkZXIKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuYWxpZ25lci5idWlsZGVyIGltcG9ydCAoCiAgICBVbml0WTJBbGlnbm1lbnRDb25maWcsCiAgICBhbGlnbmVyX2FyY2hzLAogICAgY3JlYXRlX3VuaXR5Ml9hbGlnbm1lbnRfbW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5hbGlnbmVyLm1vZGVsIGltcG9ydCBVbml0WTJBbGlnbm1lbnRNb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyCgoKZGVmIGNvbnZlcnRfdW5pdHkyX2FsaWduZXJfY2hlY2twb2ludCgKICAgIGNoZWNrcG9pbnQ6IE1hcHBpbmdbc3RyLCBBbnldLCBjb25maWc6IFVuaXRZMkFsaWdubWVudENvbmZpZwopIC0+IE1hcHBpbmdbc3RyLCBBbnldOgogICAgaWYgKAogICAgICAgICJtb2RlbCIgaW4gY2hlY2twb2ludAogICAgICAgIGFuZCAiYWxpZ25tZW50X2VuY29kZXIudF9jb252LjEud2VpZ2h0IiBpbiBjaGVja3BvaW50WyJtb2RlbCJdCiAgICApOgogICAgICAgIHJldHVybiBjaGVja3BvaW50CgogICAgYWxpZ25tZW50X2Zyb250ZW5kX3N0YXRlZGljdCA9IHt9CiAgICB0ZXh0X2VtYl9zdGF0ZV9rZXltYXAgPSB7IndlaWdodCI6ICJhbGlnbm1lbnRfZnJvbnRlbmQuZW1iZWRfdGV4dC53ZWlnaHQifQogICAgZm9yIGssIHYgaW4gY2hlY2twb2ludFsidGV4dF9lbWJfc3RhdGUiXS5pdGVtcygpOgogICAgICAgIGFsaWdubWVudF9mcm9udGVuZF9zdGF0ZWRpY3RbdGV4dF9lbWJfc3RhdGVfa2V5bWFwW2tdXSA9IHYKCiAgICB1bml0X2VtYl9zdGF0ZV9rZXltYXAgPSB7IndlaWdodCI6ICJhbGlnbm1lbnRfZnJvbnRlbmQuZW1iZWRfdW5pdC53ZWlnaHQifQogICAgZm9yIGssIHYgaW4gY2hlY2twb2ludFsidW5pdF9lbWJfc3RhdGUiXS5pdGVtcygpOgogICAgICAgIGFsaWdubWVudF9mcm9udGVuZF9zdGF0ZWRpY3RbdW5pdF9lbWJfc3RhdGVfa2V5bWFwW2tdXSA9IHYKCiAgICBhbGlnbm1lbnRfZW5jb2Rlcl9zdGF0ZV9kaWN0ID0ge30KICAgIGZvciBrLCB2IGluIGNoZWNrcG9pbnRbImFsaWduZXJfc3RhdGUiXS5pdGVtcygpOgogICAgICAgIGFsaWdubWVudF9lbmNvZGVyX3N0YXRlX2RpY3RbZiJhbGlnbm1lbnRfZW5jb2Rlci57a30iXSA9IHYKCiAgICBtb2RlbF9zdGF0ZSA9IHsKICAgICAgICAqKmFsaWdubWVudF9lbmNvZGVyX3N0YXRlX2RpY3QsCiAgICAgICAgKiphbGlnbm1lbnRfZnJvbnRlbmRfc3RhdGVkaWN0LAogICAgfQoKICAgIGNoYXJfZW1iZWRzID0gbW9kZWxfc3RhdGVbImFsaWdubWVudF9mcm9udGVuZC5lbWJlZF90ZXh0LndlaWdodCJdCgogICAgaW5kZXhfbWFwcGluZyA9IF9nZXRfY2hhcl9pbmRleF9tYXBwaW5nKGNvbmZpZykKICAgIHZvY2FiX3NpemUgPSBsZW4oaW5kZXhfbWFwcGluZykKICAgIGNoYXJfZW1iZWRzW3RvcmNoLmFyYW5nZSh2b2NhYl9zaXplKV0gPSBjaGFyX2VtYmVkc1tpbmRleF9tYXBwaW5nXQoKICAgIGNoZWNrcG9pbnRbIm1vZGVsIl0gPSBtb2RlbF9zdGF0ZQoKICAgIHJldHVybiBjaGVja3BvaW50CgoKZGVmIF9nZXRfY2hhcl9pbmRleF9tYXBwaW5nKGNvbmZpZzogVW5pdFkyQWxpZ25tZW50Q29uZmlnKSAtPiBMaXN0W2ludF06CiAgICBjaGFyX3Rva2VuaXplciA9IGxvYWRfdW5pdHlfY2hhcl90b2tlbml6ZXIoY29uZmlnLm1vZGVsX25hbWVfb3JfY2FyZCkKICAgIHNwbV9vcmRlciA9IFsKICAgICAgICBjaGFyX3Rva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbihpKQogICAgICAgIGZvciBpIGluIHJhbmdlKGNoYXJfdG9rZW5pemVyLm1vZGVsLnZvY2FidWxhcnlfc2l6ZSkKICAgIF1bNDpdCiAgICBzcG1fdG9fZGljdF9tYXBwaW5nID0gewogICAgICAgIGNoOiBpZHgKICAgICAgICBmb3IgKGlkeCwgY2gpIGluIHppcCgKICAgICAgICAgICAgcmFuZ2UoNCwgY2hhcl90b2tlbml6ZXIubW9kZWwudm9jYWJ1bGFyeV9zaXplKSwKICAgICAgICAgICAgc29ydGVkKHNwbV9vcmRlciksCiAgICAgICAgKQogICAgfQogICAgbW9kZWxfdG9fZGljdF9tYXBwaW5nID0gWzAsIDEsIDIsIDNdICsgW3NwbV90b19kaWN0X21hcHBpbmdbY2hdIGZvciBjaCBpbiBzcG1fb3JkZXJdCiAgICByZXR1cm4gbW9kZWxfdG9fZGljdF9tYXBwaW5nCgoKbG9hZF91bml0eTJfYWxpZ25tZW50X2NvbmZpZyA9IENvbmZpZ0xvYWRlcltVbml0WTJBbGlnbm1lbnRDb25maWddKAogICAgYXNzZXRfc3RvcmUsIGFsaWduZXJfYXJjaHMKKQoKbG9hZF91bml0eTJfYWxpZ25tZW50X21vZGVsID0gTW9kZWxMb2FkZXJbVW5pdFkyQWxpZ25tZW50TW9kZWwsIFVuaXRZMkFsaWdubWVudENvbmZpZ10oCiAgICBhc3NldF9zdG9yZSwKICAgIGRvd25sb2FkX21hbmFnZXIsCiAgICBsb2FkX3VuaXR5Ml9hbGlnbm1lbnRfY29uZmlnLAogICAgY3JlYXRlX3VuaXR5Ml9hbGlnbm1lbnRfbW9kZWwsCiAgICBjb252ZXJ0X3VuaXR5Ml9hbGlnbmVyX2NoZWNrcG9pbnQsCiAgICByZXN0cmljdF9jaGVja3BvaW50cz1GYWxzZSwKKQo='),
    ('seamless/src/seamless_communication/models/aligner/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFVuaW9uCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5hc3NldHMuY2FyZCBpbXBvcnQgQXNzZXRDYXJkCmZyb20gZmFpcnNlcTIuZGF0YS52b2NhYnVsYXJ5X2luZm8gaW1wb3J0IFZvY2FidWxhcnlJbmZvCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzLmFyY2hfcmVnaXN0cnkgaW1wb3J0IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5CmZyb20gZmFpcnNlcTIubm4uZW1iZWRkaW5nIGltcG9ydCBTdGFuZGFyZEVtYmVkZGluZywgaW5pdF9zY2FsZWRfZW1iZWRkaW5nCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmFsaWduZXIubW9kZWwgaW1wb3J0ICgKICAgIFVuaXRZMkFsaWdubWVudEVuY29kZXIsCiAgICBVbml0WTJBbGlnbm1lbnRGcm9udGVuZCwKICAgIFVuaXRZMkFsaWdubWVudE1vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuY2hhcl90b2tlbml6ZXIgaW1wb3J0IGxvYWRfdW5pdHlfY2hhcl90b2tlbml6ZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sb2FkZXIgaW1wb3J0IGxvYWRfdW5pdHlfdW5pdF90b2tlbml6ZXIKCgpAZGF0YWNsYXNzCmNsYXNzIEFsaWdubWVudEVuY29kZXJDb25maWc6CiAgICBtb2RlbF9kaW06IGludAoKICAgIGZlYXRfZGltOiBpbnQKCiAgICBudW1fdGV4dF9sYXllcnM6IGludAoKICAgIG51bV9mZWF0X2xheWVyczogaW50CgogICAgZHJvcG91dDogZmxvYXQKCiAgICB0ZW1wZXJhdHVyZTogZmxvYXQKCiAgICByZWR1Y3Rpb25fZmFjdG9yOiBpbnQKCgpAZGF0YWNsYXNzCmNsYXNzIFVuaXRZMkFsaWdubWVudEZyb250ZW5kQ29uZmlnOgogICAgdW5pdF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbwoKICAgIHRleHRfdm9jYWJfc2l6ZTogaW50CgoKQGRhdGFjbGFzcwpjbGFzcyBVbml0WTJBbGlnbm1lbnRDb25maWc6CiAgICBtb2RlbF9uYW1lX29yX2NhcmQ6IFVuaW9uW3N0ciwgQXNzZXRDYXJkXQoKICAgIGFsaWdubWVudF9lbmNvZGVyX2NvbmZpZzogQWxpZ25tZW50RW5jb2RlckNvbmZpZwoKICAgIGFsaWdubWVudF9mcm9udGVuZF9jb25maWc6IFVuaXRZMkFsaWdubWVudEZyb250ZW5kQ29uZmlnCgoKYWxpZ25lcl9hcmNocyA9IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5W1VuaXRZMkFsaWdubWVudENvbmZpZ10oInVuaXR5Ml9hbGlnbmVyIikKCmFsaWduZXJfYXJjaCA9IGFsaWduZXJfYXJjaHMuZGVjb3JhdG9yCgoKQGFsaWduZXJfYXJjaCgibmFyX3QydV9hbGlnbmVyIikKZGVmIF9hbGlnbmVyX25hcl90MnUoKSAtPiBVbml0WTJBbGlnbm1lbnRDb25maWc6CiAgICBlbmNvZGVyX2NvbmZpZyA9IEFsaWdubWVudEVuY29kZXJDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgZmVhdF9kaW09MTAyNCwKICAgICAgICBudW1fdGV4dF9sYXllcnM9MiwKICAgICAgICBudW1fZmVhdF9sYXllcnM9MywKICAgICAgICBkcm9wb3V0PTAuMSwKICAgICAgICB0ZW1wZXJhdHVyZT0xLjAsCiAgICAgICAgcmVkdWN0aW9uX2ZhY3Rvcj0xLAogICAgKQoKICAgIGZyb250ZW5kX2NvbmZpZyA9IFVuaXRZMkFsaWdubWVudEZyb250ZW5kQ29uZmlnKAogICAgICAgIHVuaXRfdm9jYWJfaW5mbz1Wb2NhYnVsYXJ5SW5mbygKICAgICAgICAgICAgc2l6ZT0xMDA4MiwgdW5rX2lkeD0zLCBib3NfaWR4PTAsIGVvc19pZHg9MiwgcGFkX2lkeD0xCiAgICAgICAgKSwKICAgICAgICB0ZXh0X3ZvY2FiX3NpemU9MTA5NDMsCiAgICApCgogICAgcmV0dXJuIFVuaXRZMkFsaWdubWVudENvbmZpZygKICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQ9Im5hcl90MnVfYWxpZ25lciIsCiAgICAgICAgYWxpZ25tZW50X2VuY29kZXJfY29uZmlnPWVuY29kZXJfY29uZmlnLAogICAgICAgIGFsaWdubWVudF9mcm9udGVuZF9jb25maWc9ZnJvbnRlbmRfY29uZmlnLAogICAgKQoKCmNsYXNzIFVuaXRZMkFsaWdubWVudEJ1aWxkZXI6CiAgICBjb25maWc6IFVuaXRZMkFsaWdubWVudENvbmZpZwogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdCiAgICBkdHlwZTogRGF0YVR5cGUKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IFVuaXRZMkFsaWdubWVudENvbmZpZywKICAgICAgICAqLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IERhdGFUeXBlID0gdG9yY2guZmxvYXQzMiwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gY29uZmlnOgogICAgICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICAgICAgOnBhcmFtIGRldmljZToKICAgICAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBpbml0aWFsaXplIG1vZHVsZXMuCiAgICAgICAgOnBhcmFtIGR0eXBlOgogICAgICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgICAgICIiIgogICAgICAgIHNlbGYuY29uZmlnID0gY29uZmlnCgogICAgICAgIHNlbGYuZGV2aWNlLCBzZWxmLmR0eXBlID0gZGV2aWNlLCBkdHlwZQoKICAgIGRlZiBidWlsZF9tb2RlbChzZWxmKSAtPiBVbml0WTJBbGlnbm1lbnRNb2RlbDoKICAgICAgICBhbGlnbm1lbnRfZnJvbnRlbmQgPSBzZWxmLmJ1aWxkX2FsaWdubWVudF9mcm9udGVuZCgpCgogICAgICAgIGFsaWdubWVudF9lbmNvZGVyID0gc2VsZi5idWlsZF9hbGlnbm1lbnRfZW5jb2RlcigpCgogICAgICAgIHJldHVybiBVbml0WTJBbGlnbm1lbnRNb2RlbChhbGlnbm1lbnRfZnJvbnRlbmQsIGFsaWdubWVudF9lbmNvZGVyKQoKICAgIGRlZiBidWlsZF9hbGlnbm1lbnRfZnJvbnRlbmQoc2VsZikgLT4gVW5pdFkyQWxpZ25tZW50RnJvbnRlbmQ6CiAgICAgICAgdGV4dF90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyKHNlbGYuY29uZmlnLm1vZGVsX25hbWVfb3JfY2FyZCkKCiAgICAgICAgdW5pdF90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyKHNlbGYuY29uZmlnLm1vZGVsX25hbWVfb3JfY2FyZCkKCiAgICAgICAgZW1iZWRfdGV4dCA9IFN0YW5kYXJkRW1iZWRkaW5nKAogICAgICAgICAgICBudW1fZW1iZWRkaW5ncz1zZWxmLmNvbmZpZy5hbGlnbm1lbnRfZnJvbnRlbmRfY29uZmlnLnRleHRfdm9jYWJfc2l6ZSwKICAgICAgICAgICAgZW1iZWRkaW5nX2RpbT1zZWxmLmNvbmZpZy5hbGlnbm1lbnRfZW5jb2Rlcl9jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBwYWRfaWR4PXNlbGYuY29uZmlnLmFsaWdubWVudF9mcm9udGVuZF9jb25maWcudW5pdF92b2NhYl9pbmZvLnBhZF9pZHgsCiAgICAgICAgICAgIGluaXRfZm49aW5pdF9zY2FsZWRfZW1iZWRkaW5nLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBlbWJlZF91bml0ID0gU3RhbmRhcmRFbWJlZGRpbmcoCiAgICAgICAgICAgIG51bV9lbWJlZGRpbmdzPXNlbGYuY29uZmlnLmFsaWdubWVudF9mcm9udGVuZF9jb25maWcudW5pdF92b2NhYl9pbmZvLnNpemUsCiAgICAgICAgICAgIGVtYmVkZGluZ19kaW09c2VsZi5jb25maWcuYWxpZ25tZW50X2VuY29kZXJfY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgcGFkX2lkeD1zZWxmLmNvbmZpZy5hbGlnbm1lbnRfZnJvbnRlbmRfY29uZmlnLnVuaXRfdm9jYWJfaW5mby5wYWRfaWR4LAogICAgICAgICAgICBpbml0X2ZuPWluaXRfc2NhbGVkX2VtYmVkZGluZywKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgcmV0dXJuIFVuaXRZMkFsaWdubWVudEZyb250ZW5kKAogICAgICAgICAgICBlbWJlZF90ZXh0LCBlbWJlZF91bml0LCB0ZXh0X3Rva2VuaXplciwgdW5pdF90b2tlbml6ZXIKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2FsaWdubWVudF9lbmNvZGVyKHNlbGYsIHRyYWluaW5nOiBib29sID0gRmFsc2UpIC0+IFVuaXRZMkFsaWdubWVudEVuY29kZXI6CiAgICAgICAgY2ZnID0gc2VsZi5jb25maWcuYWxpZ25tZW50X2VuY29kZXJfY29uZmlnCiAgICAgICAgYWxpZ25tZW50X2VuY29kZXIgPSBVbml0WTJBbGlnbm1lbnRFbmNvZGVyKAogICAgICAgICAgICBlbWJlZF9kaW09Y2ZnLm1vZGVsX2RpbSwKICAgICAgICAgICAgZmVhdF9kaW09Y2ZnLmZlYXRfZGltLAogICAgICAgICAgICB0ZXh0X2xheWVycz1jZmcubnVtX3RleHRfbGF5ZXJzLAogICAgICAgICAgICBmZWF0X2xheWVycz1jZmcubnVtX2ZlYXRfbGF5ZXJzLAogICAgICAgICAgICBkcm9wb3V0PWNmZy5kcm9wb3V0LAogICAgICAgICAgICB0ZW1wZXJhdHVyZT1jZmcudGVtcGVyYXR1cmUsCiAgICAgICAgICAgIHJlZHVjdGlvbl9mYWN0b3I9Y2ZnLnJlZHVjdGlvbl9mYWN0b3IsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQogICAgICAgIGFsaWdubWVudF9lbmNvZGVyLnRyYWluaW5nID0gdHJhaW5pbmcKCiAgICAgICAgcmV0dXJuIGFsaWdubWVudF9lbmNvZGVyCgoKZGVmIGNyZWF0ZV91bml0eTJfYWxpZ25tZW50X21vZGVsKAogICAgY29uZmlnOiBVbml0WTJBbGlnbm1lbnRDb25maWcsCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgZHR5cGU6IERhdGFUeXBlID0gdG9yY2guZmxvYXQzMiwKKSAtPiBVbml0WTJBbGlnbm1lbnRNb2RlbDoKICAgICIiIkNyZWF0ZSBhIFVuaXRZIG1vZGVsLgoKICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgOnBhcmFtIGRldmljZToKICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgIDpwYXJhbSBkdHlwZToKICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgIiIiCgogICAgdW5pdHkyX2FsaWduZXJfYnVpbGRlciA9IFVuaXRZMkFsaWdubWVudEJ1aWxkZXIoCiAgICAgICAgY29uZmlnLAogICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICApCgogICAgcmV0dXJuIHVuaXR5Ml9hbGlnbmVyX2J1aWxkZXIuYnVpbGRfbW9kZWwoKQo='),
    ('seamless/src/seamless_communication/models/aligner/alignment_extractor.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBvcwpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBMaXN0LCBUdXBsZSwgVW5pb24KCmltcG9ydCBudW1weQppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoLm5uIGFzIG5uCmltcG9ydCB0b3JjaGF1ZGlvCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gZmFpcnNlcTIuZGF0YS50eXBpbmcgaW1wb3J0IFN0cmluZ0xpa2UKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmFsaWduZXIubG9hZGVyIGltcG9ydCBsb2FkX3VuaXR5Ml9hbGlnbm1lbnRfbW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0X2V4dHJhY3RvciBpbXBvcnQgVW5pdEV4dHJhY3RvcgoKdHJ5OgogICAgaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdAoKICAgIG1hdHBsb3RsaWJfYXZhaWxhYmxlID0gVHJ1ZQpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBtYXRwbG90bGliX2F2YWlsYWJsZSA9IEZhbHNlCgoKY2xhc3MgQWxpZ25tZW50RXh0cmFjdG9yKG5uLk1vZHVsZSk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBhbGlnbmVyX21vZGVsX25hbWVfb3JfY2FyZDogc3RyLAogICAgICAgIHVuaXRfZXh0cmFjdG9yX21vZGVsX25hbWVfb3JfY2FyZDogVW5pb25bQW55LCBzdHJdID0gTm9uZSwKICAgICAgICB1bml0X2V4dHJhY3Rvcl9vdXRwdXRfbGF5ZXI6IFVuaW9uW0FueSwgaW50XSA9IE5vbmUsCiAgICAgICAgdW5pdF9leHRyYWN0b3Jfa21lYW5zX21vZGVsX3VyaTogVW5pb25bQW55LCBzdHJdID0gTm9uZSwKICAgICAgICBkZXZpY2U6IERldmljZSA9IERldmljZSgiY3B1IiksCiAgICAgICAgZHR5cGU6IERhdGFUeXBlID0gdG9yY2guZmxvYXQzMiwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKICAgICAgICBzZWxmLmR0eXBlID0gZHR5cGUKCiAgICAgICAgaWYgc2VsZi5kdHlwZSA9PSB0b3JjaC5mbG9hdDE2IGFuZCBzZWxmLmRldmljZSA9PSBEZXZpY2UoImNwdSIpOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIkZQMTYgb25seSB3b3JrcyBvbiBHUFUsIHNldCBhcmdzIGFjY29yZGluZ2x5IikKCiAgICAgICAgc2VsZi5hbGlnbm1lbnRfbW9kZWwgPSBsb2FkX3VuaXR5Ml9hbGlnbm1lbnRfbW9kZWwoCiAgICAgICAgICAgIGFsaWduZXJfbW9kZWxfbmFtZV9vcl9jYXJkLCBkZXZpY2U9c2VsZi5kZXZpY2UsIGR0eXBlPXNlbGYuZHR5cGUKICAgICAgICApCiAgICAgICAgc2VsZi5hbGlnbm1lbnRfbW9kZWwuZXZhbCgpCgogICAgICAgIHNlbGYudW5pdF9leHRyYWN0b3IgPSBOb25lCiAgICAgICAgc2VsZi51bml0X2V4dHJhY3Rvcl9vdXRwdXRfbGF5ZXIgPSAwCgogICAgICAgIGlmIHVuaXRfZXh0cmFjdG9yX21vZGVsX25hbWVfb3JfY2FyZCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi51bml0X2V4dHJhY3RvciA9IFVuaXRFeHRyYWN0b3IoCiAgICAgICAgICAgICAgICB1bml0X2V4dHJhY3Rvcl9tb2RlbF9uYW1lX29yX2NhcmQsCiAgICAgICAgICAgICAgICB1bml0X2V4dHJhY3Rvcl9rbWVhbnNfbW9kZWxfdXJpLAogICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYudW5pdF9leHRyYWN0b3Jfb3V0cHV0X2xheWVyID0gdW5pdF9leHRyYWN0b3Jfb3V0cHV0X2xheWVyCgogICAgZGVmIGxvYWRfYXVkaW8oCiAgICAgICAgc2VsZiwgYXVkaW9fcGF0aDogc3RyLCBzYW1wbGluZ19yYXRlOiBpbnQgPSAxNl8wMDAKICAgICkgLT4gVHVwbGVbVGVuc29yLCBpbnRdOgogICAgICAgIGFzc2VydCBvcy5wYXRoLmV4aXN0cyhhdWRpb19wYXRoKQogICAgICAgIGF1ZGlvLCByYXRlID0gdG9yY2hhdWRpby5sb2FkKGF1ZGlvX3BhdGgpCiAgICAgICAgaWYgcmF0ZSAhPSBzYW1wbGluZ19yYXRlOgogICAgICAgICAgICBhdWRpbyA9IHRvcmNoYXVkaW8uZnVuY3Rpb25hbC5yZXNhbXBsZShhdWRpbywgcmF0ZSwgc2FtcGxpbmdfcmF0ZSkKICAgICAgICAgICAgcmF0ZSA9IHNhbXBsaW5nX3JhdGUKICAgICAgICByZXR1cm4gYXVkaW8sIHJhdGUKCiAgICBkZWYgcHJlcGFyZV9hdWRpbyhzZWxmLCBhdWRpbzogVW5pb25bc3RyLCBUZW5zb3JdKSAtPiBUZW5zb3I6CiAgICAgICAgIyBUT0RPOiBzd2l0Y2ggdG8gZmFpcnNlcTIgZGF0YSBwaXBlbGluZSBvbmNlIGl0IHN1cHBvcnRzIHJlc2FtcGxpbmcKICAgICAgICBpZiBpc2luc3RhbmNlKGF1ZGlvLCBzdHIpOgogICAgICAgICAgICBhdWRpbywgXyA9IHNlbGYubG9hZF9hdWRpbyhhdWRpbywgc2FtcGxpbmdfcmF0ZT0xNl8wMDApCiAgICAgICAgaWYgYXVkaW8ubmRpbSA+IDE6CiAgICAgICAgICAgICMgYXZlcmFnaW5nIG92ZXIgY2hhbm5lbHMKICAgICAgICAgICAgYXNzZXJ0IGF1ZGlvLnNpemUoMCkgPCBhdWRpby5zaXplKAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICApLCAiRXhwZWN0ZWQgW0NoYW5uZWwsVGltZV0gc2hhcGUsIGJ1dCBDaGFubmVsID4gVGltZSIKICAgICAgICAgICAgYXVkaW8gPSBhdWRpby5tZWFuKDApCiAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgYXVkaW8ubmRpbSA9PSAxCiAgICAgICAgKSwgZiJBZnRlciBjaGFubmVsIGF2ZXJhZ2luZyBhdWRpbyBzaGFwZSBleHBlY3RlZCB0byBiZSBbVGltZV0gaS5lLiBtb25vIGF1ZGlvIgogICAgICAgIGF1ZGlvID0gYXVkaW8udG8oc2VsZi5kZXZpY2UsIHNlbGYuZHR5cGUpCgogICAgICAgIHJldHVybiBhdWRpbwoKICAgIGRlZiBleHRyYWN0X3VuaXRzKHNlbGYsIGF1ZGlvOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZSgKICAgICAgICAgICAgc2VsZi51bml0X2V4dHJhY3RvciwgVW5pdEV4dHJhY3RvcgogICAgICAgICksICJVbml0IGV4dHJhY3RvciBpcyByZXF1aXJlZCB0byBnZXQgdW5pdHMgZnJvbSBhdWRpbyB0ZW5zb3IiCiAgICAgICAgdW5pdHMgPSBzZWxmLnVuaXRfZXh0cmFjdG9yLnByZWRpY3QoYXVkaW8sIHNlbGYudW5pdF9leHRyYWN0b3Jfb3V0cHV0X2xheWVyIC0gMSkKICAgICAgICByZXR1cm4gdW5pdHMKCiAgICBAdG9yY2guaW5mZXJlbmNlX21vZGUoKQogICAgZGVmIGV4dHJhY3RfYWxpZ25tZW50KAogICAgICAgIHNlbGYsCiAgICAgICAgYXVkaW86IFVuaW9uW3N0ciwgVGVuc29yXSwKICAgICAgICB0ZXh0OiBzdHIsCiAgICAgICAgcGxvdDogYm9vbCA9IEZhbHNlLAogICAgICAgIGFkZF90cmFpbGluZ19zaWxlbmNlOiBib29sID0gRmFsc2UsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgVGVuc29yLCBMaXN0W1N0cmluZ0xpa2VdXToKICAgICAgICBpZiBpc2luc3RhbmNlKGF1ZGlvLCBUZW5zb3IpIGFuZCBub3QgdG9yY2guaXNfZmxvYXRpbmdfcG9pbnQoYXVkaW8pOgogICAgICAgICAgICAjIHdlIGdvdCB1bml0cyBhcyBhdWRpbyBhcmcKICAgICAgICAgICAgdW5pdHMgPSBhdWRpbwogICAgICAgICAgICB1bml0cyA9IHVuaXRzLnRvKHNlbGYuZGV2aWNlKQogICAgICAgICAgICBhdWRpb190ZW5zb3IgPSBOb25lCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYXVkaW9fdGVuc29yID0gc2VsZi5wcmVwYXJlX2F1ZGlvKGF1ZGlvKQogICAgICAgICAgICB1bml0cyA9IHNlbGYuZXh0cmFjdF91bml0cyhhdWRpb190ZW5zb3IpCgogICAgICAgIHRva2VuaXplZF91bml0X2lkcyA9IHNlbGYuYWxpZ25tZW50X21vZGVsLmFsaWdubWVudF9mcm9udGVuZC50b2tlbml6ZV91bml0KAogICAgICAgICAgICB1bml0cwogICAgICAgICkudW5zcXVlZXplKDApCiAgICAgICAgdG9rZW5pemVkX3RleHRfaWRzID0gKAogICAgICAgICAgICBzZWxmLmFsaWdubWVudF9tb2RlbC5hbGlnbm1lbnRfZnJvbnRlbmQudG9rZW5pemVfdGV4dCgKICAgICAgICAgICAgICAgIHRleHQsIGFkZF90cmFpbGluZ19zaWxlbmNlPWFkZF90cmFpbGluZ19zaWxlbmNlCiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRvKHNlbGYuZGV2aWNlKQogICAgICAgICAgICAudW5zcXVlZXplKDApCiAgICAgICAgKQogICAgICAgIHRva2VuaXplZF90ZXh0X3Rva2VucyA9ICgKICAgICAgICAgICAgc2VsZi5hbGlnbm1lbnRfbW9kZWwuYWxpZ25tZW50X2Zyb250ZW5kLnRva2VuaXplX3RleHRfdG9fdG9rZW5zKAogICAgICAgICAgICAgICAgdGV4dCwgYWRkX3RyYWlsaW5nX3NpbGVuY2U9YWRkX3RyYWlsaW5nX3NpbGVuY2UKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICBfLCBhbGlnbm1lbnRfZHVyYXRpb25zID0gc2VsZi5hbGlnbm1lbnRfbW9kZWwoCiAgICAgICAgICAgIHRva2VuaXplZF90ZXh0X2lkcywgdG9rZW5pemVkX3VuaXRfaWRzCiAgICAgICAgKQoKICAgICAgICBpZiBwbG90IGFuZCAoYXVkaW9fdGVuc29yIGlzIG5vdCBOb25lKToKICAgICAgICAgICAgc2VsZi5wbG90X2FsaWdubWVudCgKICAgICAgICAgICAgICAgIGF1ZGlvX3RlbnNvci5jcHUoKSwgdG9rZW5pemVkX3RleHRfdG9rZW5zLCBhbGlnbm1lbnRfZHVyYXRpb25zLmNwdSgpCiAgICAgICAgICAgICkKCiAgICAgICAgcmV0dXJuIGFsaWdubWVudF9kdXJhdGlvbnMsIHRva2VuaXplZF90ZXh0X2lkcywgdG9rZW5pemVkX3RleHRfdG9rZW5zCgogICAgZGVmIGRldG9rZW5pemVfdGV4dChzZWxmLCB0b2tlbml6ZWRfdGV4dF9pZHM6IFRlbnNvcikgLT4gU3RyaW5nTGlrZToKICAgICAgICByZXR1cm4gc2VsZi5hbGlnbm1lbnRfbW9kZWwuYWxpZ25tZW50X2Zyb250ZW5kLmRlY29kZV90ZXh0KHRva2VuaXplZF90ZXh0X2lkcykKCiAgICBkZWYgcGxvdF9hbGlnbm1lbnQoCiAgICAgICAgc2VsZiwgYXVkaW86IFRlbnNvciwgdGV4dF90b2tlbnM6IExpc3RbU3RyaW5nTGlrZV0sIGR1cmF0aW9uczogVGVuc29yCiAgICApIC0+IE5vbmU6CiAgICAgICAgaWYgbm90IG1hdHBsb3RsaWJfYXZhaWxhYmxlOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoCiAgICAgICAgICAgICAgICAiUGxlYXNlIGBwaXAgaW5zdGFsbCBtYXRwbG90bGliYCBpbiBvcmRlciB0byB1c2UgcGxvdCBhbGlnbm1lbnQuIgogICAgICAgICAgICApCiAgICAgICAgXywgYXggPSBwbHQuc3VicGxvdHMoZmlnc2l6ZT0oMjIsIDMuNSkpCiAgICAgICAgYXgucGxvdChhdWRpbywgY29sb3I9ImdyYXkiLCBsaW5ld2lkdGg9MC4zKQogICAgICAgIGR1cmF0aW9uc19jdW11bCA9IG51bXB5LmNvbmNhdGVuYXRlKFtudW1weS5hcnJheShbMF0pLCBudW1weS5jdW1zdW0oZHVyYXRpb25zKV0pCiAgICAgICAgYWxpZ25tZW50X3RpY2tzID0gZHVyYXRpb25zX2N1bXVsICogMzIwICAjIDMyMCBpcyBoYXJkY29kZWQgZm9yIDIwbXMgcmF0ZSBoZXJlCgogICAgICAgIGF4LnZsaW5lcygKICAgICAgICAgICAgYWxpZ25tZW50X3RpY2tzLAogICAgICAgICAgICB5bWF4PTEsCiAgICAgICAgICAgIHltaW49LTEsCiAgICAgICAgICAgIGNvbG9yPSJpbmRpZ28iLAogICAgICAgICAgICBsaW5lc3R5bGVzPSJkYXNoZWQiLAogICAgICAgICAgICBsdz0wLjUsCiAgICAgICAgKQoKICAgICAgICBtaWRkbGVfdGlja19wb3NpdGlvbnMgPSAoCiAgICAgICAgICAgIGR1cmF0aW9uc19jdW11bFs6LTFdICsgKGR1cmF0aW9uc19jdW11bFsxOl0gLSBkdXJhdGlvbnNfY3VtdWxbOi0xXSkgLyAyCiAgICAgICAgKQogICAgICAgIGF4LnNldF94dGlja3MobWlkZGxlX3RpY2tfcG9zaXRpb25zICogMzIwKQogICAgICAgIGF4LnNldF94dGlja2xhYmVscyh0ZXh0X3Rva2VucywgZm9udHNpemU9MTMpCiAgICAgICAgYXguc2V0X3hsaW0oMCwgbGVuKGF1ZGlvKSkKCiAgICAgICAgYXguc2V0X3lsaW0oYXVkaW8ubWluKCksIGF1ZGlvLm1heCgpKQogICAgICAgIGF4LnNldF95dGlja3MoW10pCiAgICAgICAgcGx0LnRpZ2h0X2xheW91dCgpCiAgICAgICAgcGx0LnNob3coKQo='),
    ('seamless/src/seamless_communication/models/aligner/model.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIExpc3QsIFR1cGxlLCBVbmlvbgoKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBudW1weS50eXBpbmcgYXMgbnB0CmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4gYXMgbm4KaW1wb3J0IHRvcmNoLm5uLmZ1bmN0aW9uYWwgYXMgRgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IENTdHJpbmcKZnJvbSBmYWlyc2VxMi5ubi5lbWJlZGRpbmcgaW1wb3J0IFN0YW5kYXJkRW1iZWRkaW5nCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgdG9fcGFkZGluZ19tYXNrCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgTW9kdWxlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCBDaGFyVG9rZW5pemVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudW5pdF90b2tlbml6ZXIgaW1wb3J0IFVuaXRUb2tlbml6ZXIKCgpjbGFzcyBVbml0WTJBbGlnbm1lbnRGcm9udGVuZChNb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgZW1iZWRfdGV4dDogU3RhbmRhcmRFbWJlZGRpbmcsCiAgICAgICAgZW1iZWRfdW5pdDogU3RhbmRhcmRFbWJlZGRpbmcsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IENoYXJUb2tlbml6ZXIsCiAgICAgICAgdW5pdF90b2tlbml6ZXI6IFVuaXRUb2tlbml6ZXIsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYuZW1iZWRfdGV4dCA9IGVtYmVkX3RleHQKICAgICAgICBzZWxmLmVtYmVkX3VuaXQgPSBlbWJlZF91bml0CiAgICAgICAgc2VsZi50ZXh0X3Rva2VuaXplciA9IHRleHRfdG9rZW5pemVyCiAgICAgICAgc2VsZi51bml0X3Rva2VuaXplciA9IHVuaXRfdG9rZW5pemVyCiAgICAgICAgdW5pdF90b2tlbml6ZXIuaXNfbmFyX2RlY29kZXIgPSBUcnVlCgogICAgICAgIHNlbGYuZW5jb2RlX3RleHQgPSBzZWxmLnRleHRfdG9rZW5pemVyLmNyZWF0ZV9yYXdfZW5jb2RlcigpCiAgICAgICAgIyB0ZXh0IGRlY29kZXIgY2FuIGJlIHVzZWQgdG8gbWFwIGFsaWduZWQgY2hhcmFjdGVycyB0byB3b3JkcwogICAgICAgIHNlbGYuZGVjb2RlX3RleHQgPSBzZWxmLnRleHRfdG9rZW5pemVyLmNyZWF0ZV9kZWNvZGVyKCkKICAgICAgICBzZWxmLmVuY29kZV91bml0ID0gc2VsZi51bml0X3Rva2VuaXplci5jcmVhdGVfZW5jb2RlcihsYW5nPSJlbmciKQoKICAgIGRlZiB0b2tlbml6ZV90ZXh0KAogICAgICAgIHNlbGYsIHRleHQ6IHN0ciwgcmV0dXJuX3Rva2VuczogYm9vbCA9IEZhbHNlLCBhZGRfdHJhaWxpbmdfc2lsZW5jZTogYm9vbCA9IEZhbHNlCiAgICApIC0+IFRlbnNvcjoKICAgICAgICB0b2tlbml6ZWQgPSBzZWxmLmVuY29kZV90ZXh0KHRleHQpCiAgICAgICAgaWYgYWRkX3RyYWlsaW5nX3NpbGVuY2U6CiAgICAgICAgICAgIHRva2VuaXplZCA9IHRvcmNoLmNhdChbdG9rZW5pemVkLCB0b2tlbml6ZWRbMDoxXV0pCgogICAgICAgIHJldHVybiB0b2tlbml6ZWQKCiAgICBkZWYgdG9rZW5pemVfdGV4dF90b190b2tlbnMoCiAgICAgICAgc2VsZiwgdGV4dDogc3RyLCBhZGRfdHJhaWxpbmdfc2lsZW5jZTogYm9vbCA9IEZhbHNlCiAgICApIC0+IExpc3RbVW5pb25bQ1N0cmluZywgc3RyXV06CiAgICAgICAgdG9rZW5pemVkID0gc2VsZi5lbmNvZGVfdGV4dC5lbmNvZGVfYXNfdG9rZW5zKHRleHQpCiAgICAgICAgaWYgYWRkX3RyYWlsaW5nX3NpbGVuY2U6CiAgICAgICAgICAgIHRva2VuaXplZCA9IHRva2VuaXplZCArIFt0b2tlbml6ZWRbMF1dCgogICAgICAgIHJldHVybiB0b2tlbml6ZWQKCiAgICBkZWYgdG9rZW5pemVfdW5pdChzZWxmLCB1bml0czogVW5pb25bc3RyLCBUZW5zb3JdKSAtPiBUZW5zb3I6CiAgICAgICAgaWYgaXNpbnN0YW5jZSh1bml0cywgc3RyKToKICAgICAgICAgICAgdW5pdHMgPSB0b3JjaC50ZW5zb3IoW2ludCh1KSBmb3IgdSBpbiB1bml0cy5zcGxpdCgiICIpXSkKICAgICAgICByZXR1cm4gc2VsZi5lbmNvZGVfdW5pdCh1bml0cykKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB0ZXh0OiBUZW5zb3IsIHVuaXQ6IFRlbnNvcikgLT4gVHVwbGVbQW55LCBBbnldOgogICAgICAgIGVtYnNfdW5pdCA9IHNlbGYuZW1iZWRfdW5pdCh1bml0KQogICAgICAgIGVtYnNfdGV4dCA9IHNlbGYuZW1iZWRfdGV4dCh0ZXh0KQogICAgICAgIHJldHVybiBlbWJzX3RleHQsIGVtYnNfdW5pdAoKCmNsYXNzIFBlcm11dGUxMihubi5Nb2R1bGUpOgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgcmV0dXJuIHgudHJhbnNwb3NlKDEsIDIpCgoKY2xhc3MgVW5pdFkyQWxpZ25tZW50RW5jb2RlcihNb2R1bGUpOgogICAgIiIiCiAgICBVbml0WTIgQWxpZ25lciBjb21wb25lbnQKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGVtYmVkX2RpbTogaW50LAogICAgICAgIGZlYXRfZGltOiBpbnQsCiAgICAgICAgdGV4dF9sYXllcnM6IGludCwKICAgICAgICBmZWF0X2xheWVyczogaW50LAogICAgICAgIGRyb3BvdXQ6IGZsb2F0LAogICAgICAgIHRlbXBlcmF0dXJlOiBmbG9hdCwKICAgICAgICByZWR1Y3Rpb25fZmFjdG9yOiBpbnQsCiAgICAgICAgZHR5cGU6IERhdGFUeXBlLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLnRlbXBlcmF0dXJlID0gdGVtcGVyYXR1cmUKICAgICAgICBzZWxmLnJlZHVjdGlvbl9mYWN0b3IgPSByZWR1Y3Rpb25fZmFjdG9yICAjIGZvciB1bml0CgogICAgICAgIGxheWVyczogTGlzdFtNb2R1bGVdID0gW1Blcm11dGUxMigpXQogICAgICAgIGZvciBpIGluIHJhbmdlKHRleHRfbGF5ZXJzKToKICAgICAgICAgICAgaWYgaSA8IHRleHRfbGF5ZXJzIC0gMToKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgbm4uQ29udjFkKAogICAgICAgICAgICAgICAgICAgICAgICBlbWJlZF9kaW0sIGVtYmVkX2RpbSwga2VybmVsX3NpemU9MywgcGFkZGluZz0xLCBkdHlwZT1kdHlwZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQobm4uUmVMVSgpKQogICAgICAgICAgICAgICAgbGF5ZXJzLmFwcGVuZChubi5Ecm9wb3V0KHA9ZHJvcG91dCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBsYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIG5uLkNvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgZW1iZWRfZGltLCBlbWJlZF9kaW0sIGtlcm5lbF9zaXplPTEsIHBhZGRpbmc9MCwgZHR5cGU9ZHR5cGUKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBsYXllcnMuYXBwZW5kKG5uLkRyb3BvdXQocD1kcm9wb3V0KSkKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQoUGVybXV0ZTEyKCkpCiAgICAgICAgc2VsZi50X2NvbnYgPSBubi5TZXF1ZW50aWFsKCpsYXllcnMpCgogICAgICAgIGxheWVycyA9IFtQZXJtdXRlMTIoKV0KICAgICAgICBpbnB1dF9kaW0gPSBmZWF0X2RpbQogICAgICAgIGZvciBpIGluIHJhbmdlKGZlYXRfbGF5ZXJzKToKICAgICAgICAgICAgaWYgaSA8IGZlYXRfbGF5ZXJzIC0gMToKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgbm4uQ29udjFkKAogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9kaW0sIGVtYmVkX2RpbSwga2VybmVsX3NpemU9MywgcGFkZGluZz0xLCBkdHlwZT1kdHlwZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQobm4uUmVMVSgpKQogICAgICAgICAgICAgICAgbGF5ZXJzLmFwcGVuZChubi5Ecm9wb3V0KHA9ZHJvcG91dCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBsYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIG5uLkNvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRfZGltLAogICAgICAgICAgICAgICAgICAgICAgICBlbWJlZF9kaW0sCiAgICAgICAgICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplPTEsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9MCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWRlPXJlZHVjdGlvbl9mYWN0b3IsCiAgICAgICAgICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQobm4uRHJvcG91dChwPWRyb3BvdXQpKQogICAgICAgICAgICAgICAgbGF5ZXJzLmFwcGVuZChQZXJtdXRlMTIoKSkKICAgICAgICAgICAgaW5wdXRfZGltID0gZW1iZWRfZGltCiAgICAgICAgc2VsZi5mX2NvbnYgPSBubi5TZXF1ZW50aWFsKCpsYXllcnMpCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICB0ZXh0X2VtYjogVGVuc29yLAogICAgICAgIGZlYXRfZW1iOiBUZW5zb3IsCiAgICAgICAgdGV4dF9sZW5ndGhzOiBUZW5zb3IsCiAgICAgICAgZmVhdF9sZW5ndGhzOiBUZW5zb3IsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgVGVuc29yXToKICAgICAgICAiIiJDb21wdXRlIGFsaWdubWVudCBiZXR3ZWVuIHNlcXVlbmNlIG9mIHRleHQgYW5kIGZlYXR1cmUgZW1iZWRkaW5ncwoKICAgICAgICBBcmdzOgogICAgICAgICAgICB0ZXh0X2VtYiAoVGVuc29yKTogQmF0Y2hlZCB0ZXh0IGVtYmVkZGluZyAoQiwgVF90ZXh0LCBDKS4KICAgICAgICAgICAgZmVhdF9lbWIgKFRlbnNvcik6IEJhdGNoZWQgYWNvdXN0aWMgZmVhdHVyZSAoQiwgVF9mZWF0LCBmZWF0X2RpbSkuCiAgICAgICAgICAgIHRleHRfbGVuZ3RocyAoVGVuc29yKTogU291cmNlIHRleHQgbGVuZ3RoIChCLCkuCiAgICAgICAgICAgIGZlYXRfbGVuZ3RocyAoVGVuc29yKTogVGFyZ2V0IGZlYXR1cmUgbGVuZ3RoIChCLCkuCgogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIFRlbnNvcjogTG9nIHByb2JhYmlsaXR5IG9mIGF0dGVudGlvbiBtYXRyaXggKEIsIFRfZmVhdCwgVF90ZXh0KQogICAgICAgICAgICBUZW5zb3I6IFVuaXQgZHVyYXRpb25zIG9mIGV2ZXJ5IHRleHQgdG9rZW4gKEIsIFRfdGV4dCkKCiAgICAgICAgIiIiCiAgICAgICAgX2ZlYXRfbGVuZ3RocyA9IGZlYXRfbGVuZ3Rocy5jbG9uZSgpCiAgICAgICAgaWYgc2VsZi5yZWR1Y3Rpb25fZmFjdG9yID4gMToKICAgICAgICAgICAgZmVhdF9sZW5ndGhzID0gdG9yY2guY2VpbChmZWF0X2xlbmd0aHMgLyBzZWxmLnJlZHVjdGlvbl9mYWN0b3IpLmxvbmcoKQoKICAgICAgICB0ZXh0X2VtYiA9IHNlbGYudF9jb252KHRleHRfZW1iKQogICAgICAgIGZlYXRfZW1iID0gc2VsZi5mX2NvbnYoZmVhdF9lbWIpCgogICAgICAgIGRpc3QgPSBmZWF0X2VtYi51bnNxdWVlemUoMikgLSB0ZXh0X2VtYi51bnNxdWVlemUoMSkKICAgICAgICBkaXN0ID0gdG9yY2gubm9ybShkaXN0LCBwPTIsIGRpbT0zKQogICAgICAgIHNjb3JlID0gLXNlbGYudGVtcGVyYXR1cmUgKiBkaXN0CgogICAgICAgIHBhZGRpbmdfbWFzayA9IH4odG9fcGFkZGluZ19tYXNrKHRleHRfbGVuZ3RocywgbWF4KHRleHRfbGVuZ3RocykpKQogICAgICAgIHBhZGRpbmdfbWFzayA9IHBhZGRpbmdfbWFzay51bnNxdWVlemUoLTIpCiAgICAgICAgc2NvcmUgPSBzY29yZS5tYXNrZWRfZmlsbChwYWRkaW5nX21hc2ssIC1ucC5pbmYpCgogICAgICAgIGF0dG5fbHByb2IgPSBGLmxvZ19zb2Z0bWF4KHNjb3JlLCBkaW09LTEpCgogICAgICAgIGF0dG5faGFyZF9kdXIgPSB2aXRlcmJpX2RlY29kZShhdHRuX2xwcm9iLCB0ZXh0X2xlbmd0aHMsIGZlYXRfbGVuZ3RocykKCiAgICAgICAgaWYgc2VsZi5yZWR1Y3Rpb25fZmFjdG9yID4gMToKICAgICAgICAgICAgYXR0bl9oYXJkX2R1ciA9IHNlbGYucG9zdHByb2Nlc3NfYWxpZ25tZW50KAogICAgICAgICAgICAgICAgYXR0bl9oYXJkX2R1ciwgdGV4dF9sZW5ndGhzLCBfZmVhdF9sZW5ndGhzCiAgICAgICAgICAgICkKCiAgICAgICAgcmV0dXJuIGF0dG5fbHByb2IsIGF0dG5faGFyZF9kdXIKCiAgICBkZWYgcG9zdHByb2Nlc3NfYWxpZ25tZW50KAogICAgICAgIHNlbGYsIGF0dG5faGFyZF9kdXI6IFRlbnNvciwgdGV4dF9sZW5ndGhzOiBUZW5zb3IsIGZlYXRfbGVuZ3RoczogVGVuc29yCiAgICApIC0+IFRlbnNvcjoKICAgICAgICBhdHRuX2hhcmRfZHVyID0gYXR0bl9oYXJkX2R1ciAqIHNlbGYucmVkdWN0aW9uX2ZhY3RvcgogICAgICAgIEIsIFQgPSBhdHRuX2hhcmRfZHVyLnNpemUoKSAgIyBCIHggVF90ZXh0CiAgICAgICAgZHVyX2N1bXN1bSA9IHRvcmNoLmN1bXN1bShhdHRuX2hhcmRfZHVyLCBkaW09MSkKICAgICAgICBmb3IgYiBpbiByYW5nZShCKToKICAgICAgICAgICAgZm9yIHQgaW4gcmFuZ2UodGV4dF9sZW5ndGhzW2JdKToKICAgICAgICAgICAgICAgICMgdHJ1bmNhdGUgdGhlIHJpZ2h0IGZyYW1lcwogICAgICAgICAgICAgICAgaWYgZHVyX2N1bXN1bVtiLCB0XSA+PSBmZWF0X2xlbmd0aHNbYl06CiAgICAgICAgICAgICAgICAgICAgaWYgdCA9PSAwOgogICAgICAgICAgICAgICAgICAgICAgICBhdHRuX2hhcmRfZHVyW2IsIHRdID0gZmVhdF9sZW5ndGhzW2JdCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgYXR0bl9oYXJkX2R1cltiLCB0XSA9IGZlYXRfbGVuZ3Roc1tiXSAtIGR1cl9jdW1zdW1bYiwgdCAtIDFdCiAgICAgICAgICAgICAgICAgICAgaWYgdCA8IHRleHRfbGVuZ3Roc1tiXSAtIDE6CiAgICAgICAgICAgICAgICAgICAgICAgIGF0dG5faGFyZF9kdXJbYiwgdCArIDEgOl0gPSAwCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICByZXR1cm4gYXR0bl9oYXJkX2R1cgoKCmRlZiBfbW9ub3RvbmljX2FsaWdubWVudF9zZWFyY2goCiAgICBhdHRuX2xwcm9iOiBucHQuTkRBcnJheVtucC5mbG9hdDY0XSwKKSAtPiBucHQuTkRBcnJheVtucC5mbG9hdDY0XToKICAgICMgaHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzIwMDUuMTExMjkKICAgIFRfZmVhdCA9IGF0dG5fbHByb2Iuc2hhcGVbMF0KICAgIFRfdGV4dCA9IGF0dG5fbHByb2Iuc2hhcGVbMV0KICAgIFEgPSBucC5mdWxsKChUX3RleHQsIFRfZmVhdCksIGZpbGxfdmFsdWU9LW5wLmluZikKCiAgICBsb2dfcHJvYiA9IGF0dG5fbHByb2IudHJhbnNwb3NlKDEsIDApICAjIC0+IChUX3RleHQsIFRfZmVhdCkKICAgICMgMS4gIFEgPC0gaW5pdCBmaXJzdCByb3cgZm9yIGFsbCBqCiAgICBmb3IgaiBpbiByYW5nZShUX2ZlYXQpOgogICAgICAgIFFbMCwgal0gPSBsb2dfcHJvYlswLCA6IGogKyAxXS5zdW0oKQoKICAgICMgMi4KICAgIGZvciBqIGluIHJhbmdlKDEsIFRfZmVhdCk6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMSwgbWluKGogKyAxLCBUX3RleHQpKToKICAgICAgICAgICAgUVtpLCBqXSA9IG1heChRW2kgLSAxLCBqIC0gMV0sIFFbaSwgaiAtIDFdKSArIGxvZ19wcm9iW2ksIGpdCgogICAgIyAzLgogICAgQSA9IG5wLmZ1bGwoKFRfZmVhdCwpLCBmaWxsX3ZhbHVlPVRfdGV4dCAtIDEpCiAgICBmb3IgaiBpbiByYW5nZShUX2ZlYXQgLSAyLCAtMSwgLTEpOiAgIyBUX2ZlYXQtMiwgLi4uLCAwCiAgICAgICAgIyAnaScgaW4ge0FbaisxXS0xLCBBW2orMV19CiAgICAgICAgaV9hID0gQVtqICsgMV0gLSAxCiAgICAgICAgaV9iID0gQVtqICsgMV0KICAgICAgICBpZiBpX2IgPT0gMDoKICAgICAgICAgICAgYXJnbWF4X2kgPSAwCiAgICAgICAgZWxpZiBRW2lfYSwgal0gPj0gUVtpX2IsIGpdOgogICAgICAgICAgICBhcmdtYXhfaSA9IGlfYQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFyZ21heF9pID0gaV9iCiAgICAgICAgQVtqXSA9IGFyZ21heF9pCiAgICByZXR1cm4gQQoKCmRlZiB2aXRlcmJpX2RlY29kZSgKICAgIGF0dG5fbHByb2I6IFRlbnNvciwgdGV4dF9sZW5ndGhzOiBUZW5zb3IsIGZlYXRfbGVuZ3RoczogVGVuc29yCikgLT4gVGVuc29yOgogICAgIiIiRXh0cmFjdCBkdXJhdGlvbiBmcm9tIGFuIGF0dGVudGlvbiBwcm9iYWJpbGl0eSBtYXRyaXgKCiAgICBBcmdzOgogICAgICAgIGF0dG5fbHByb2IgKFRlbnNvcik6IEJhdGNoZWQgbG9nIHByb2JhYmlsaXR5IG9mIGF0dGVudGlvbgogICAgICAgICAgICBtYXRyaXggKEIsIFRfZmVhdCwgVF90ZXh0KS4KICAgICAgICB0ZXh0X2xlbmd0aHMgKFRlbnNvcik6IFRleHQgbGVuZ3RoIHRlbnNvciAoQiwpLgogICAgICAgIGZlYXRfbGVuZ3RocyAoVGVuc29yKTogRmVhdHVyZSBsZW5ndGggdGVuc29yIChCLCkuCgogICAgUmV0dXJuczoKICAgICAgICBUZW5zb3I6IEJhdGNoZWQgdG9rZW4gZHVyYXRpb24gZXh0cmFjdGVkIGZyb20gYGF0dG5fbHByb2JgIChCLCBUX3RleHQpLgogICAgICAgIFRlbnNvcjogQmluYXJpemF0aW9uIGxvc3MgdGVuc29yICgpLgoKICAgICIiIgogICAgQiA9IGF0dG5fbHByb2Iuc2l6ZSgwKQogICAgVF90ZXh0ID0gYXR0bl9scHJvYi5zaXplKDIpCiAgICBkZXZpY2UgPSBhdHRuX2xwcm9iLmRldmljZQoKICAgIGR1cmF0aW9ucyA9IHRvcmNoLnplcm9zKChCLCBUX3RleHQpLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT10b3JjaC5sb25nKQogICAgZm9yIGIgaW4gcmFuZ2UoQik6CiAgICAgICAgYXNzZXJ0IGZlYXRfbGVuZ3Roc1tiXSA+IDAKICAgICAgICBhc3NlcnQgdGV4dF9sZW5ndGhzW2JdID4gMAogICAgICAgIGN1cl9sb2dfcF9hdHRuID0gYXR0bl9scHJvYltiLCA6IGZlYXRfbGVuZ3Roc1tiXSwgOiB0ZXh0X2xlbmd0aHNbYl1dCiAgICAgICAgdml0ZXJiaSA9IF9tb25vdG9uaWNfYWxpZ25tZW50X3NlYXJjaCgKICAgICAgICAgICAgY3VyX2xvZ19wX2F0dG4uZmxvYXQoKS5kZXRhY2goKS5jcHUoKS5udW1weSgpCiAgICAgICAgKQogICAgICAgIF9kdXJhdGlvbnMgPSBucC5iaW5jb3VudCh2aXRlcmJpKQogICAgICAgIGR1cmF0aW9uc1tiLCA6IGxlbihfZHVyYXRpb25zKV0gPSB0b3JjaC5mcm9tX251bXB5KF9kdXJhdGlvbnMpLnRvKGRldmljZSkKCiAgICByZXR1cm4gZHVyYXRpb25zCgoKY2xhc3MgVW5pdFkyQWxpZ25tZW50TW9kZWwoTW9kdWxlKToKICAgIGFsaWdubWVudF9lbmNvZGVyOiBVbml0WTJBbGlnbm1lbnRFbmNvZGVyCiAgICBhbGlnbm1lbnRfZnJvbnRlbmQ6IFVuaXRZMkFsaWdubWVudEZyb250ZW5kCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgYWxpZ25tZW50X2Zyb250ZW5kOiBVbml0WTJBbGlnbm1lbnRGcm9udGVuZCwKICAgICAgICBhbGlnbm1lbnRfZW5jb2RlcjogVW5pdFkyQWxpZ25tZW50RW5jb2RlciwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5hbGlnbm1lbnRfZnJvbnRlbmQgPSBhbGlnbm1lbnRfZnJvbnRlbmQKICAgICAgICBzZWxmLmFsaWdubWVudF9lbmNvZGVyID0gYWxpZ25tZW50X2VuY29kZXIKCiAgICBkZWYgZm9yd2FyZChzZWxmLCBpbnB1dF90ZXh0OiBUZW5zb3IsIGlucHV0X3VuaXQ6IFRlbnNvcikgLT4gVHVwbGVbVGVuc29yLCBUZW5zb3JdOgogICAgICAgIGFzc2VydCBpbnB1dF90ZXh0Lm5kaW0gPT0gMgogICAgICAgIGFzc2VydCBpbnB1dF91bml0Lm5kaW0gPT0gMgogICAgICAgIGVtYnNfdGV4dCwgZW1ic191bml0ID0gc2VsZi5hbGlnbm1lbnRfZnJvbnRlbmQoaW5wdXRfdGV4dCwgaW5wdXRfdW5pdCkKICAgICAgICBhdHRuX2xwcm9iLCBhdHRuX2hhcmRfZHVyID0gc2VsZi5hbGlnbm1lbnRfZW5jb2RlcigKICAgICAgICAgICAgZW1ic190ZXh0LAogICAgICAgICAgICBlbWJzX3VuaXQsCiAgICAgICAgICAgIHRvcmNoLnRlbnNvcihbZW1ic190ZXh0LnNpemUoMSldKS50byhlbWJzX3RleHQpLmludCgpLAogICAgICAgICAgICB0b3JjaC50ZW5zb3IoW2VtYnNfdW5pdC5zaXplKDEpXSkudG8oZW1ic191bml0KS5pbnQoKSwKICAgICAgICApCgogICAgICAgIHJldHVybiBhdHRuX2xwcm9iLCBhdHRuX2hhcmRfZHVyCg=='),
    ('seamless/src/seamless_communication/denoise/__init__.py', ''),
    ('seamless/src/seamless_communication/denoise/demucs.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAppbXBvcnQgc3VicHJvY2VzcyBhcyBzcAppbXBvcnQgdGVtcGZpbGUKZnJvbSB0eXBpbmcgaW1wb3J0IFVuaW9uCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgppbXBvcnQgdG9yY2hhdWRpbwpmcm9tIGZhaXJzZXEyLm1lbW9yeSBpbXBvcnQgTWVtb3J5QmxvY2sKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbAppbXBvcnQgb3MKaW1wb3J0IGxvZ2dpbmcKClNBTVBMSU5HX1JBVEUgPSAxNjAwMAoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcigiZGVtdWNzIikKCkBkYXRhY2xhc3MKY2xhc3MgRGVub2lzaW5nQ29uZmlnOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgICAgICBzZWxmLAogICAgICAgICAgICBmaWx0ZXJfd2lkdGg6IGludCA9IDMsCiAgICAgICAgICAgIG1vZGVsPSJodGRlbXVjcyIsIAogICAgICAgICAgICBzYW1wbGVfcmF0ZT1TQU1QTElOR19SQVRFLAogICAgICAgICAgICB0d29fc3RlbXM9Tm9uZSwKICAgICAgICAgICAgZmxvYXQzMj1GYWxzZSwKICAgICAgICAgICAgaW50MjQ9RmFsc2UpOgogICAgICAgIHNlbGYuZmlsdGVyX3dpZHRoID0gZmlsdGVyX3dpZHRoCiAgICAgICAgc2VsZi5tb2RlbCA9IG1vZGVsCiAgICAgICAgc2VsZi5zYW1wbGVfcmF0ZSA9IHNhbXBsZV9yYXRlCiAgICAgICAgc2VsZi50d29fc3RlbXMgPSB0d29fc3RlbXMKICAgICAgICBzZWxmLmZsb2F0MzIgPSBmbG9hdDMyCiAgICAgICAgc2VsZi5pbnQyNCA9IGludDI0CgpjbGFzcyBEZW11Y3MoKToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICAgICAgc2VsZiwgCiAgICAgICAgICAgIGRlbm9pc2VfY29uZmlnOiBPcHRpb25hbFtEZW5vaXNpbmdDb25maWddKToKICAgICAgICBzZWxmLmRlbm9pc2VfY29uZmlnID0gZGVub2lzZV9jb25maWcKICAgICAgICBzZWxmLnRlbXBfZmlsZXMgPSBbXQoKICAgIGRlZiBydW5fY29tbWFuZF93aXRoX3RlbXBfZmlsZShzZWxmLCBjbWQpOgogICAgICAgIHdpdGggdGVtcGZpbGUuTmFtZWRUZW1wb3JhcnlGaWxlKG1vZGU9J3crJywgZGVsZXRlPUZhbHNlKSBhcyB0ZW1wOgogICAgICAgICAgICBzZWxmLnRlbXBfZmlsZXMuYXBwZW5kKHRlbXAubmFtZSkKICAgICAgICAgICAgcmVzdWx0ID0gc3AucnVuKGNtZCwgc3Rkb3V0PXRlbXAsIHN0ZGVycj10ZW1wLCB0ZXh0PVRydWUpCiAgICAgICAgICAgICMgSWYgdGhlcmUgd2FzIGFuIGVycm9yLCBsb2cgdGhlIGNvbnRlbnQgb2YgdGhlIGZpbGUKICAgICAgICAgICAgaWYgcmVzdWx0LnJldHVybmNvZGUgIT0gMDoKICAgICAgICAgICAgICAgIHRlbXAuc2VlaygwKQogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8odGVtcC5yZWFkKCkpCgogICAgZGVmIGNsZWFudXBfdGVtcF9maWxlcyhzZWxmKToKICAgICAgICBmb3IgdGVtcF9maWxlIGluIHNlbGYudGVtcF9maWxlczoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgb3MucmVtb3ZlKHRlbXBfZmlsZSkgIAogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhmIkZhaWxlZCB0byByZW1vdmUgdGVtcG9yYXJ5IGZpbGU6IHt0ZW1wX2ZpbGV9LiBFcnJvcjoge2V9IikKCiAgICBkZWYgZGVub2lzZShzZWxmLCBhdWRpbzogVW5pb25bc3RyLCBUZW5zb3JdKToKCiAgICAgICAgaWYgc2VsZi5kZW5vaXNlX2NvbmZpZyBpcyBOb25lOgogICAgICAgICAgc2VsZi5kZW5vaXNlX2NvbmZpZyA9IERlbm9pc2luZ0NvbmZpZygpCgogICAgICAgIGlmIGlzaW5zdGFuY2UoYXVkaW8sIFRlbnNvcik6CiAgICAgICAgICAgIHdpdGggdGVtcGZpbGUuTmFtZWRUZW1wb3JhcnlGaWxlKHN1ZmZpeD0iLndhdiIsIGRlbGV0ZT1GYWxzZSkgYXMgdGVtcF93YXY6CiAgICAgICAgICAgICAgICBzZWxmLnRlbXBfZmlsZXMuYXBwZW5kKHRlbXBfd2F2Lm5hbWUpCiAgICAgICAgICAgICAgICB0b3JjaGF1ZGlvLnNhdmUodGVtcF93YXYubmFtZSwgYXVkaW8sIHNlbGYuZGVub2lzZV9jb25maWcuc2FtcGxlX3JhdGUpCiAgICAgICAgICAgICAgICBhdWRpbyA9IHRlbXBfd2F2Lm5hbWUKCiAgICAgICAgaWYgbm90IFBhdGgoYXVkaW8pLmV4aXN0cygpOgogICAgICAgICAgICBsb2dnZXIuaW5mbygiSW5wdXQgZmlsZSBkb2VzIG5vdCBleGlzdC4iKQogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICB3aXRoIHRlbXBmaWxlLlRlbXBvcmFyeURpcmVjdG9yeSgpIGFzIHRlbXBfZGlyOgogICAgICAgICAgICBjbWQgPSBbInB5dGhvbjMiLCAiLW0iLCAiZGVtdWNzLnNlcGFyYXRlIiwgIi1vIiwgdGVtcF9kaXIsICItbiIsIHNlbGYuZGVub2lzZV9jb25maWcubW9kZWxdCiAgICAgICAgICAgIGlmIHNlbGYuZGVub2lzZV9jb25maWcuZmxvYXQzMjoKICAgICAgICAgICAgICAgIGNtZCArPSBbIi0tZmxvYXQzMiJdCiAgICAgICAgICAgIGlmIHNlbGYuZGVub2lzZV9jb25maWcuaW50MjQ6CiAgICAgICAgICAgICAgICBjbWQgKz0gWyItLWludDI0Il0KICAgICAgICAgICAgaWYgc2VsZi5kZW5vaXNlX2NvbmZpZy50d29fc3RlbXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBjbWQgKz0gW2YiLS10d28tc3RlbXM9e3NlbGYuZGVub2lzZV9jb25maWcudHdvX3N0ZW1zfSJdCgogICAgICAgICAgICBhdWRpb19wYXRoID0gUGF0aChhdWRpbykKICAgICAgICAgICAgYXVkaW9fbmFtZSA9IGF1ZGlvX3BhdGguc3RlbQogICAgICAgICAgICBhdWRpbyA9IFtzdHIoYXVkaW8pXQoKICAgICAgICAgICAgbG9nZ2VyLmluZm8oIkV4ZWN1dGluZyBjb21tYW5kOiIsICIgIi5qb2luKGNtZCkpCiAgICAgICAgICAgIHNlbGYucnVuX2NvbW1hbmRfd2l0aF90ZW1wX2ZpbGUoY21kICsgYXVkaW8pCgogICAgICAgICAgICBzZXBhcmF0ZWRfZmlsZXMgPSBsaXN0KFBhdGgodGVtcF9kaXIgKyAiL2h0ZGVtdWNzLyIgKyBhdWRpb19uYW1lKS5nbG9iKCIqdm9jYWxzLndhdioiKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG5vdCBzZXBhcmF0ZWRfZmlsZXM6CiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygiU2VwYXJhdGVkIHZvY2FscyBmaWxlIG5vdCBmb3VuZC4iKQogICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgICAgIHdhdmVmb3JtLCBzYW1wbGVfcmF0ZSA9IHRvcmNoYXVkaW8ubG9hZChzZXBhcmF0ZWRfZmlsZXNbMF0pCgogICAgICAgICAgICBpZiB3YXZlZm9ybS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgICAgICB3YXZlZm9ybSA9IHdhdmVmb3JtLm1lYW4oZGltPTAsIGtlZXBkaW09VHJ1ZSkKICAgICAgICAgICAgaWYgc2FtcGxlX3JhdGUgIT0gMTYwMDA6CiAgICAgICAgICAgICAgICByZXNhbXBsZXIgPSB0b3JjaGF1ZGlvLnRyYW5zZm9ybXMuUmVzYW1wbGUob3JpZ19mcmVxPXNhbXBsZV9yYXRlLCBuZXdfZnJlcT0xNjAwMCkKICAgICAgICAgICAgICAgIHdhdmVmb3JtID0gcmVzYW1wbGVyKHdhdmVmb3JtKQogICAgICAgICAgICAgICAgc2FtcGxlX3JhdGUgPSAxNjAwMAoKICAgICAgICAgICAgd2l0aCB0ZW1wZmlsZS5OYW1lZFRlbXBvcmFyeUZpbGUoc3VmZml4PSIud2F2IiwgZGVsZXRlPVRydWUpIGFzIHRlbXBfd2F2MjoKICAgICAgICAgICAgICAgIHRvcmNoYXVkaW8uc2F2ZSh0ZW1wX3dhdjIubmFtZSwgd2F2ZWZvcm0sIHNhbXBsZV9yYXRlPXNhbXBsZV9yYXRlKQogICAgICAgICAgICAgICAgYmxvY2sgPSBNZW1vcnlCbG9jayh0ZW1wX3dhdjIucmVhZCgpKQoKICAgICAgICAgICAgc2VsZi5jbGVhbnVwX3RlbXBfZmlsZXMoKQoKICAgICAgICAgICAgcmV0dXJuIGJsb2NrCiAgICAgICAg'),
    ('seamless/src/seamless_communication/datasets/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/src/seamless_communication/datasets/huggingface.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQgbG9nZ2luZwppbXBvcnQgb3MKZnJvbSBhYmMgaW1wb3J0IGFic3RyYWN0bWV0aG9kCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBJdGVyYWJsZSwgT3B0aW9uYWwKCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgdG9yY2gKZnJvbSBkYXRhc2V0cyBpbXBvcnQgbG9hZF9kYXRhc2V0Cgpmcm9tIC5kYXRhdHlwZXMgaW1wb3J0IExhbmdQYWlyU2FtcGxlLCBNdWx0aW1vZGFsU2FtcGxlCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpjbGFzcyBTcGVlY2hUb2tlbml6ZXI6CiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBlbmNvZGUoc2VsZiwgd2F2OiB0b3JjaC5UZW5zb3IsIHNhbXBsZV9yYXRlOiBpbnQpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICAuLi4KCgpjbGFzcyBTcGVlY2gyU3BlZWNoRmxldXJzRGF0YXNldEJ1aWxkZXI6CiAgICAiIiJBc3NlbWJsZXMgc3BlZWNoMnNwZWVjaCBkYXRhc2V0IGZyb20gZ29vZ2xlL2ZsZXVycyBvbiBIdWdnaW5nRmFjZSIiIgoKICAgIERBVEFTRVRfTkFNRSA9ICJnb29nbGUvZmxldXJzIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHNvdXJjZV9sYW5nOiBzdHIsCiAgICAgICAgdGFyZ2V0X2xhbmc6IHN0ciwKICAgICAgICBzcGxpdDogc3RyID0gInRlc3QiLAogICAgICAgIHNraXBfc291cmNlX2F1ZGlvOiBib29sID0gVHJ1ZSwKICAgICAgICBza2lwX3RhcmdldF9hdWRpbzogYm9vbCA9IFRydWUsCiAgICAgICAgYXVkaW9fZHR5cGU6IHRvcmNoLmR0eXBlID0gdG9yY2guZmxvYXQzMiwKICAgICAgICBkYXRhc2V0X2NhY2hlX2RpcjogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgc3BlZWNoX3Rva2VuaXplcjogT3B0aW9uYWxbU3BlZWNoVG9rZW5pemVyXSA9IE5vbmUsCiAgICApOgogICAgICAgIHNlbGYuc291cmNlX2xhbmcgPSBzb3VyY2VfbGFuZwogICAgICAgIHNlbGYudGFyZ2V0X2xhbmcgPSB0YXJnZXRfbGFuZwogICAgICAgIHNlbGYuc3BsaXQgPSBzcGxpdAogICAgICAgIHNlbGYuZGF0YXNldF9jYWNoZV9kaXIgPSBkYXRhc2V0X2NhY2hlX2RpcgogICAgICAgIHNlbGYuYXVkaW9fZHR5cGUgPSBhdWRpb19kdHlwZQogICAgICAgIHNlbGYuc2tpcF9zb3VyY2VfYXVkaW8gPSBza2lwX3NvdXJjZV9hdWRpbwogICAgICAgIHNlbGYuc2tpcF90YXJnZXRfYXVkaW8gPSBza2lwX3RhcmdldF9hdWRpbwogICAgICAgIHNlbGYuc3BlZWNoX3Rva2VuaXplciA9IHNwZWVjaF90b2tlbml6ZXIKCiAgICBkZWYgX3ByZXBhcmVfc2FtcGxlKAogICAgICAgIHNlbGYsCiAgICAgICAgc2FtcGxlX2lkOiBpbnQsCiAgICAgICAgbGFuZzogc3RyLAogICAgICAgIHRleHQ6IHN0ciwKICAgICAgICBhdWRpb19sb2NhbF9wYXRoOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICB3YXZlZm9ybV9ucHk6IE9wdGlvbmFsW25wLm5kYXJyYXldID0gTm9uZSwKICAgICAgICBzYW1wbGluZ19yYXRlOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICkgLT4gTXVsdGltb2RhbFNhbXBsZToKICAgICAgICBzaG91bGRfc2tpcF9hdWRpbyA9ICgKICAgICAgICAgICAgbGFuZyA9PSBzZWxmLnRhcmdldF9sYW5nCiAgICAgICAgICAgIGFuZCBzZWxmLnNraXBfdGFyZ2V0X2F1ZGlvCiAgICAgICAgICAgIG9yIGxhbmcgPT0gc2VsZi5zb3VyY2VfbGFuZwogICAgICAgICAgICBhbmQgc2VsZi5za2lwX3NvdXJjZV9hdWRpbwogICAgICAgICAgICBvciB3YXZlZm9ybV9ucHkgaXMgTm9uZQogICAgICAgICkKICAgICAgICBpZiBub3Qgc2hvdWxkX3NraXBfYXVkaW86CiAgICAgICAgICAgIHdhdmVmb3JtID0gdG9yY2guZnJvbV9udW1weSh3YXZlZm9ybV9ucHkpLnRvKHNlbGYuYXVkaW9fZHR5cGUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgd2F2ZWZvcm0gPSBOb25lCiAgICAgICAgaWYgc2VsZi5zcGVlY2hfdG9rZW5pemVyIGlzIG5vdCBOb25lIGFuZCBub3Qgc2hvdWxkX3NraXBfYXVkaW86CiAgICAgICAgICAgIGFzc2VydCB3YXZlZm9ybSBpcyBub3QgTm9uZQogICAgICAgICAgICBhc3NlcnQgc2FtcGxpbmdfcmF0ZSBpcyBub3QgTm9uZQogICAgICAgICAgICB1bml0c190ZW5zb3IgPSBzZWxmLnNwZWVjaF90b2tlbml6ZXIuZW5jb2RlKAogICAgICAgICAgICAgICAgd2F2ZWZvcm0sIHNhbXBsaW5nX3JhdGUKICAgICAgICAgICAgKS5yZXNoYXBlKC0xKQogICAgICAgICAgICB1bml0cyA9IHVuaXRzX3RlbnNvci50b2xpc3QoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHVuaXRzID0gTm9uZQogICAgICAgIHJldHVybiBNdWx0aW1vZGFsU2FtcGxlKAogICAgICAgICAgICBpZD1zYW1wbGVfaWQsCiAgICAgICAgICAgIGxhbmc9bGFuZywKICAgICAgICAgICAgdGV4dD10ZXh0LnN0cmlwKCksCiAgICAgICAgICAgIGF1ZGlvX2xvY2FsX3BhdGg9YXVkaW9fbG9jYWxfcGF0aCwKICAgICAgICAgICAgd2F2ZWZvcm09d2F2ZWZvcm0sCiAgICAgICAgICAgIHNhbXBsaW5nX3JhdGU9c2FtcGxpbmdfcmF0ZSwKICAgICAgICAgICAgdW5pdHM9dW5pdHMsCiAgICAgICAgKQoKICAgIGRlZiBpdGVyYXRlX2xhbmdfYXVkaW9fc2FtcGxlcyhzZWxmLCBsYW5nOiBzdHIpIC0+IEl0ZXJhYmxlW011bHRpbW9kYWxTYW1wbGVdOgogICAgICAgIGRzID0gbG9hZF9kYXRhc2V0KAogICAgICAgICAgICBzZWxmLkRBVEFTRVRfTkFNRSwKICAgICAgICAgICAgbGFuZywKICAgICAgICAgICAgc3BsaXQ9c2VsZi5zcGxpdCwKICAgICAgICAgICAgY2FjaGVfZGlyPXNlbGYuZGF0YXNldF9jYWNoZV9kaXIsCiAgICAgICAgICAgIHN0cmVhbWluZz1GYWxzZSwKICAgICAgICAgICAgdHJ1c3RfcmVtb3RlX2NvZGU9VHJ1ZSwKICAgICAgICApCiAgICAgICAgZm9yIGl0ZW0gaW4gZHM6CiAgICAgICAgICAgIGF1ZGlvX3BhdGggPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgICAgICBvcy5wYXRoLmRpcm5hbWUoaXRlbVsicGF0aCJdKSwgaXRlbVsiYXVkaW8iXVsicGF0aCJdCiAgICAgICAgICAgICkKICAgICAgICAgICAgKHNhbXBsZV9pZCwgYXVkaW9fbG9jYWxfcGF0aCwgd2F2ZWZvcm0sIHNhbXBsaW5nX3JhdGUsIHRleHQpID0gKAogICAgICAgICAgICAgICAgaXRlbVsiaWQiXSwKICAgICAgICAgICAgICAgIGF1ZGlvX3BhdGgsCiAgICAgICAgICAgICAgICBpdGVtWyJhdWRpbyJdWyJhcnJheSJdLAogICAgICAgICAgICAgICAgaXRlbVsiYXVkaW8iXVsic2FtcGxpbmdfcmF0ZSJdLAogICAgICAgICAgICAgICAgaXRlbVsidHJhbnNjcmlwdGlvbiJdLAogICAgICAgICAgICApCiAgICAgICAgICAgIHlpZWxkIHNlbGYuX3ByZXBhcmVfc2FtcGxlKAogICAgICAgICAgICAgICAgc2FtcGxlX2lkPXNhbXBsZV9pZCwKICAgICAgICAgICAgICAgIGF1ZGlvX2xvY2FsX3BhdGg9YXVkaW9fbG9jYWxfcGF0aCwKICAgICAgICAgICAgICAgIHdhdmVmb3JtX25weT13YXZlZm9ybSwKICAgICAgICAgICAgICAgIHNhbXBsaW5nX3JhdGU9c2FtcGxpbmdfcmF0ZSwKICAgICAgICAgICAgICAgIHRleHQ9dGV4dCwKICAgICAgICAgICAgICAgIGxhbmc9bGFuZywKICAgICAgICAgICAgKQoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKSAtPiBJdGVyYWJsZVtMYW5nUGFpclNhbXBsZV06CiAgICAgICAgbG9nZ2VyLmluZm8oZiJMb2FkaW5nIHtzZWxmLnRhcmdldF9sYW5nfSBzYW1wbGVzIikKICAgICAgICB0YXJnZXRfc2FtcGxlczogRGljdFtpbnQsIE11bHRpbW9kYWxTYW1wbGVdID0ge30KICAgICAgICBmb3IgaWR4LCBzYW1wbGUgaW4gZW51bWVyYXRlKAogICAgICAgICAgICBzZWxmLml0ZXJhdGVfbGFuZ19hdWRpb19zYW1wbGVzKGxhbmc9c2VsZi50YXJnZXRfbGFuZykKICAgICAgICApOgogICAgICAgICAgICBpZiBpZHggYW5kIGlkeCAlIDEwMCA9PSAwOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiIuLmxvYWRlZCB7aWR4fSB0YXJnZXQgc2FtcGxlcyIpCiAgICAgICAgICAgIHRhcmdldF9zYW1wbGVzW3NhbXBsZS5pZF0gPSBzYW1wbGUKCiAgICAgICAgbG9nZ2VyLmluZm8oZiJMb2FkaW5nIHtzZWxmLnNvdXJjZV9sYW5nfSBzYW1wbGVzIikKICAgICAgICBmb3IgaWR4LCBzYW1wbGUgaW4gZW51bWVyYXRlKAogICAgICAgICAgICBzZWxmLml0ZXJhdGVfbGFuZ19hdWRpb19zYW1wbGVzKGxhbmc9c2VsZi5zb3VyY2VfbGFuZykKICAgICAgICApOgogICAgICAgICAgICBpZiBpZHggYW5kIGlkeCAlIDEwMCA9PSAwOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiIuLmxvYWRlZCB7aWR4fSBzb3VyY2Ugc2FtcGxlcyIpCiAgICAgICAgICAgIGlmIHNhbXBsZS5pZCBpbiB0YXJnZXRfc2FtcGxlczoKICAgICAgICAgICAgICAgIHlpZWxkIExhbmdQYWlyU2FtcGxlKHNvdXJjZT1zYW1wbGUsIHRhcmdldD10YXJnZXRfc2FtcGxlc1tzYW1wbGUuaWRdKQoKCmNsYXNzIFNwZWVjaDJUZXh0R2lnYXNwZWVjaERhdGFzZXRCdWlsZGVyOgogICAgIiIiIEFzc2VtYmxlcyBzcGVlY2gyc3BlZWNoIGRhdGFzZXQgZnJvbSBnb29nbGUvZmxldXJzIG9uIEh1Z2dpbmdGYWNlLgogICAgICAgIFRoaXMgZGF0YXNldCByZXF1aXJlcyBzaWduaW5nIGFuIGxpY2Vuc2UgYWdyZWVtZW50IGFuZCB1c2luZyBhbiBhdXRoIHRva2VuLgogICAgIiIiCgogICAgREFUQVNFVF9OQU1FID0gInNwZWVjaGNvbGFiL2dpZ2FzcGVlY2giCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgYXV0aF90b2tlbjogc3RyLAogICAgICAgIHNwbGl0OiBzdHIgPSAidGVzdCIsCiAgICAgICAgc2tpcF9zb3VyY2VfYXVkaW86IGJvb2wgPSBUcnVlLAogICAgICAgIHNraXBfdGFyZ2V0X2F1ZGlvOiBib29sID0gVHJ1ZSwKICAgICAgICBhdWRpb19kdHlwZTogdG9yY2guZHR5cGUgPSB0b3JjaC5mbG9hdDMyLAogICAgICAgIGRhdGFzZXRfY2FjaGVfZGlyOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBzcGVlY2hfdG9rZW5pemVyOiBPcHRpb25hbFtTcGVlY2hUb2tlbml6ZXJdID0gTm9uZSwKICAgICk6CiAgICAgICAgc2VsZi5hdXRoX3Rva2VuID0gYXV0aF90b2tlbgogICAgICAgIHNlbGYuc3BsaXQgPSBzcGxpdAogICAgICAgIHNlbGYuZGF0YXNldF9jYWNoZV9kaXIgPSBkYXRhc2V0X2NhY2hlX2RpcgogICAgICAgIHNlbGYuYXVkaW9fZHR5cGUgPSBhdWRpb19kdHlwZQogICAgICAgIHNlbGYuc2tpcF9zb3VyY2VfYXVkaW8gPSBza2lwX3NvdXJjZV9hdWRpbwogICAgICAgIHNlbGYuc2tpcF90YXJnZXRfYXVkaW8gPSBza2lwX3RhcmdldF9hdWRpbwogICAgICAgIHNlbGYuc3BlZWNoX3Rva2VuaXplciA9IHNwZWVjaF90b2tlbml6ZXIKCiAgICBkZWYgX3ByZXBhcmVfc2FtcGxlKAogICAgICAgIHNlbGYsCiAgICAgICAgc2FtcGxlX2lkOiBpbnQsCiAgICAgICAgbGFuZzogc3RyLAogICAgICAgIHRleHQ6IHN0ciwKICAgICAgICBhdWRpb19sb2NhbF9wYXRoOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICB3YXZlZm9ybV9ucHk6IE9wdGlvbmFsW25wLm5kYXJyYXldID0gTm9uZSwKICAgICAgICBzYW1wbGluZ19yYXRlOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICkgLT4gTXVsdGltb2RhbFNhbXBsZToKICAgICAgICBpZiB3YXZlZm9ybV9ucHkgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHdhdmVmb3JtID0gdG9yY2guZnJvbV9udW1weSh3YXZlZm9ybV9ucHkpLnRvKHNlbGYuYXVkaW9fZHR5cGUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgd2F2ZWZvcm0gPSBOb25lCiAgICAgICAgaWYgc2VsZi5zcGVlY2hfdG9rZW5pemVyIGlzIG5vdCBOb25lIGFuZCB3YXZlZm9ybV9ucHkgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGFzc2VydCB3YXZlZm9ybSBpcyBub3QgTm9uZQogICAgICAgICAgICBhc3NlcnQgc2FtcGxpbmdfcmF0ZSBpcyBub3QgTm9uZQogICAgICAgICAgICB1bml0c190ZW5zb3IgPSBzZWxmLnNwZWVjaF90b2tlbml6ZXIuZW5jb2RlKAogICAgICAgICAgICAgICAgd2F2ZWZvcm0sIHNhbXBsaW5nX3JhdGUKICAgICAgICAgICAgKS5yZXNoYXBlKC0xKQogICAgICAgICAgICB1bml0cyA9IHVuaXRzX3RlbnNvci50b2xpc3QoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHVuaXRzID0gTm9uZQogICAgICAgIHJldHVybiBNdWx0aW1vZGFsU2FtcGxlKAogICAgICAgICAgICBpZD1zYW1wbGVfaWQsCiAgICAgICAgICAgIGxhbmc9bGFuZywKICAgICAgICAgICAgdGV4dD10ZXh0LnN0cmlwKCksCiAgICAgICAgICAgIGF1ZGlvX2xvY2FsX3BhdGg9YXVkaW9fbG9jYWxfcGF0aCwKICAgICAgICAgICAgd2F2ZWZvcm09d2F2ZWZvcm0sCiAgICAgICAgICAgIHNhbXBsaW5nX3JhdGU9c2FtcGxpbmdfcmF0ZSwKICAgICAgICAgICAgdW5pdHM9dW5pdHMsCiAgICAgICAgKQoKICAgIGRlZiBpdGVyYXRlX2xhbmdfYXVkaW9fc2FtcGxlcyhzZWxmLCBsYW5nOiBzdHIpIC0+IEl0ZXJhYmxlW011bHRpbW9kYWxTYW1wbGVdOgogICAgICAgIGRzID0gbG9hZF9kYXRhc2V0KAogICAgICAgICAgICBzZWxmLkRBVEFTRVRfTkFNRSwKICAgICAgICAgICAgbGFuZywKICAgICAgICAgICAgc3BsaXQ9c2VsZi5zcGxpdCwKICAgICAgICAgICAgY2FjaGVfZGlyPXNlbGYuZGF0YXNldF9jYWNoZV9kaXIsCiAgICAgICAgICAgIHN0cmVhbWluZz1GYWxzZSwKICAgICAgICAgICAgdHJ1c3RfcmVtb3RlX2NvZGU9VHJ1ZSwKICAgICAgICApCiAgICAgICAgZm9yIGl0ZW0gaW4gZHM6CiAgICAgICAgICAgIGF1ZGlvX3BhdGggPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgICAgICBvcy5wYXRoLmRpcm5hbWUoaXRlbVsicGF0aCJdKSwgaXRlbVsiYXVkaW8iXVsicGF0aCJdCiAgICAgICAgICAgICkKICAgICAgICAgICAgKHNhbXBsZV9pZCwgYXVkaW9fbG9jYWxfcGF0aCwgd2F2ZWZvcm0sIHNhbXBsaW5nX3JhdGUsIHRleHQpID0gKAogICAgICAgICAgICAgICAgaXRlbVsiaWQiXSwKICAgICAgICAgICAgICAgIGF1ZGlvX3BhdGgsCiAgICAgICAgICAgICAgICBpdGVtWyJhdWRpbyJdWyJhcnJheSJdLAogICAgICAgICAgICAgICAgaXRlbVsiYXVkaW8iXVsic2FtcGxpbmdfcmF0ZSJdLAogICAgICAgICAgICAgICAgaXRlbVsidHJhbnNjcmlwdGlvbiJdLAogICAgICAgICAgICApCiAgICAgICAgICAgIHlpZWxkIHNlbGYuX3ByZXBhcmVfc2FtcGxlKAogICAgICAgICAgICAgICAgc2FtcGxlX2lkPXNhbXBsZV9pZCwKICAgICAgICAgICAgICAgIGF1ZGlvX2xvY2FsX3BhdGg9YXVkaW9fbG9jYWxfcGF0aCwKICAgICAgICAgICAgICAgIHdhdmVmb3JtX25weT13YXZlZm9ybSwKICAgICAgICAgICAgICAgIHNhbXBsaW5nX3JhdGU9c2FtcGxpbmdfcmF0ZSwKICAgICAgICAgICAgICAgIHRleHQ9dGV4dCwKICAgICAgICAgICAgICAgIGxhbmc9bGFuZywKICAgICAgICAgICAgKQoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKSAtPiBJdGVyYWJsZVtMYW5nUGFpclNhbXBsZV06CiAgICAgICAgbG9nZ2VyLmluZm8oZiJMb2FkaW5nIHtzZWxmLnRhcmdldF9sYW5nfSBzYW1wbGVzIikKICAgICAgICB0YXJnZXRfc2FtcGxlczogRGljdFtpbnQsIE11bHRpbW9kYWxTYW1wbGVdID0ge30KICAgICAgICBmb3IgaWR4LCBzYW1wbGUgaW4gZW51bWVyYXRlKAogICAgICAgICAgICBzZWxmLml0ZXJhdGVfbGFuZ19hdWRpb19zYW1wbGVzKGxhbmc9c2VsZi50YXJnZXRfbGFuZykKICAgICAgICApOgogICAgICAgICAgICBpZiBpZHggYW5kIGlkeCAlIDEwMCA9PSAwOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiIuLmxvYWRlZCB7aWR4fSB0YXJnZXQgc2FtcGxlcyIpCiAgICAgICAgICAgIHRhcmdldF9zYW1wbGVzW3NhbXBsZS5pZF0gPSBzYW1wbGUKCiAgICAgICAgbG9nZ2VyLmluZm8oZiJMb2FkaW5nIHtzZWxmLnNvdXJjZV9sYW5nfSBzYW1wbGVzIikKICAgICAgICBmb3IgaWR4LCBzYW1wbGUgaW4gZW51bWVyYXRlKAogICAgICAgICAgICBzZWxmLml0ZXJhdGVfbGFuZ19hdWRpb19zYW1wbGVzKGxhbmc9c2VsZi5zb3VyY2VfbGFuZykKICAgICAgICApOgogICAgICAgICAgICBpZiBpZHggYW5kIGlkeCAlIDEwMCA9PSAwOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiIuLmxvYWRlZCB7aWR4fSBzb3VyY2Ugc2FtcGxlcyIpCiAgICAgICAgICAgIGlmIHNhbXBsZS5pZCBpbiB0YXJnZXRfc2FtcGxlczoKICAgICAgICAgICAgICAgIHlpZWxkIExhbmdQYWlyU2FtcGxlKHNvdXJjZT1zYW1wbGUsIHRhcmdldD10YXJnZXRfc2FtcGxlc1tzYW1wbGUuaWRdKQo='),
    ('seamless/src/seamless_communication/datasets/datatypes.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgTGlzdCwgT3B0aW9uYWwKCmltcG9ydCB0b3JjaAoKCkBkYXRhY2xhc3MKY2xhc3MgTXVsdGltb2RhbFNhbXBsZToKICAgIGlkOiBpbnQKICAgIGxhbmc6IHN0cgogICAgdGV4dDogc3RyCiAgICBhdWRpb19sb2NhbF9wYXRoOiBPcHRpb25hbFtzdHJdID0gTm9uZQogICAgd2F2ZWZvcm06IE9wdGlvbmFsW3RvcmNoLlRlbnNvcl0gPSBOb25lCiAgICBzYW1wbGluZ19yYXRlOiBPcHRpb25hbFtpbnRdID0gTm9uZQogICAgdW5pdHM6IE9wdGlvbmFsW0xpc3RbaW50XV0gPSBOb25lCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9qc29uKGNscywganM6IERpY3Rbc3RyLCBBbnldKSAtPiAiTXVsdGltb2RhbFNhbXBsZSI6CiAgICAgICAgcmV0dXJuIGNscygKICAgICAgICAgICAgaWQ9anNbImlkIl0sCiAgICAgICAgICAgIGxhbmc9anNbImxhbmciXSwKICAgICAgICAgICAgdGV4dD1qc1sidGV4dCJdLAogICAgICAgICAgICBhdWRpb19sb2NhbF9wYXRoPWpzLmdldCgiYXVkaW9fbG9jYWxfcGF0aCIpLAogICAgICAgICAgICB3YXZlZm9ybT1Ob25lLCAgIyBkb24ndCBzZXJpYWxpemUKICAgICAgICAgICAgc2FtcGxpbmdfcmF0ZT1qcy5nZXQoInNhbXBsaW5nX3JhdGUiKSwKICAgICAgICAgICAgdW5pdHM9anMuZ2V0KCJ1bml0cyIpLAogICAgICAgICkKCgpAZGF0YWNsYXNzCmNsYXNzIExhbmdQYWlyU2FtcGxlOgogICAgc291cmNlOiBNdWx0aW1vZGFsU2FtcGxlCiAgICB0YXJnZXQ6IE11bHRpbW9kYWxTYW1wbGUKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2pzb24oY2xzLCBqczogRGljdFtzdHIsIEFueV0pIC0+ICJMYW5nUGFpclNhbXBsZSI6CiAgICAgICAgcmV0dXJuIGNscygKICAgICAgICAgICAgc291cmNlPU11bHRpbW9kYWxTYW1wbGUuZnJvbV9qc29uKGpzWyJzb3VyY2UiXSksCiAgICAgICAgICAgIHRhcmdldD1NdWx0aW1vZGFsU2FtcGxlLmZyb21fanNvbihqc1sidGFyZ2V0Il0pLAogICAgICAgICkK'),
    ('seamless/build/lib/seamless_communication/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IEZpbGVBc3NldE1ldGFkYXRhUHJvdmlkZXIsIGFzc2V0X3N0b3JlCgpfX3ZlcnNpb25fXyA9ICIwLjEuMCIKCgpkZWYgX3VwZGF0ZV9hc3NldF9zdG9yZSgpIC0+IE5vbmU6CiAgICBjYXJkc19kaXIgPSBQYXRoKF9fZmlsZV9fKS5wYXJlbnQuam9pbnBhdGgoImNhcmRzIikKCiAgICBhc3NldF9zdG9yZS5tZXRhZGF0YV9wcm92aWRlcnMuYXBwZW5kKEZpbGVBc3NldE1ldGFkYXRhUHJvdmlkZXIoY2FyZHNfZGlyKSkKCgpfdXBkYXRlX2Fzc2V0X3N0b3JlKCkK'),
    ('seamless/build/lib/seamless_communication/store.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgSW5Qcm9jQXNzZXRNZXRhZGF0YVByb3ZpZGVyLCBhc3NldF9zdG9yZQoKCmRlZiBhZGRfZ2F0ZWRfYXNzZXRzKG1vZGVsX2RpcjogUGF0aCkgLT4gTm9uZToKICAgIGFzc2V0X3N0b3JlLmVudl9yZXNvbHZlcnMuYXBwZW5kKGxhbWJkYTogImdhdGVkIikKCiAgICBtb2RlbF9kaXIgPSBtb2RlbF9kaXIucmVzb2x2ZSgpCgogICAgZ2F0ZWRfbWV0YWRhdGEgPSBbCiAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJzZWFtbGVzc19leHByZXNzaXZpdHlAZ2F0ZWQiLAogICAgICAgICAgICAiY2hlY2twb2ludCI6IG1vZGVsX2Rpci5qb2lucGF0aCgibTJtX2V4cHJlc3NpdmVfdW5pdHkucHQiKSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAidm9jb2Rlcl9wcmV0c3NlbEBnYXRlZCIsCiAgICAgICAgICAgICJjaGVja3BvaW50IjogbW9kZWxfZGlyLmpvaW5wYXRoKCJwcmV0c3NlbF9tZWxoaWZpZ2FuX3dtLnB0IiksCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogInZvY29kZXJfcHJldHNzZWxfMTZraHpAZ2F0ZWQiLAogICAgICAgICAgICAiY2hlY2twb2ludCI6IG1vZGVsX2Rpci5qb2lucGF0aCgicHJldHNzZWxfbWVsaGlmaWdhbl93bS0xNmtoei5wdCIpLAogICAgICAgIH0sCiAgICBdCgogICAgYXNzZXRfc3RvcmUubWV0YWRhdGFfcHJvdmlkZXJzLmFwcGVuZChJblByb2NBc3NldE1ldGFkYXRhUHJvdmlkZXIoZ2F0ZWRfbWV0YWRhdGEpKQo='),
    ('seamless/build/lib/seamless_communication/inference/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLmdlbmVyYXRvciBpbXBvcnQgKAogICAgU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zIGFzIFNlcXVlbmNlR2VuZXJhdG9yT3B0aW9ucywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLmdlbmVyYXRvciBpbXBvcnQgVW5pdFlHZW5lcmF0b3IgYXMgVW5pdFlHZW5lcmF0b3IKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZS50cmFuc2xhdG9yIGltcG9ydCAoCiAgICBCYXRjaGVkU3BlZWNoT3V0cHV0IGFzIEJhdGNoZWRTcGVlY2hPdXRwdXQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZS50cmFuc2xhdG9yIGltcG9ydCBNb2RhbGl0eSBhcyBNb2RhbGl0eQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLnRyYW5zbGF0b3IgaW1wb3J0IFRhc2sgYXMgVGFzawpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlLnRyYW5zbGF0b3IgaW1wb3J0IFRyYW5zbGF0b3IgYXMgVHJhbnNsYXRvcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZS50cmFuc2NyaWJlciBpbXBvcnQgVHJhbnNjcmliZXIgYXMgVHJhbnNjcmliZXIK'),
    ('seamless/build/lib/seamless_communication/inference/transcriber.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIENhbGxhYmxlLCBEaWN0LCBMaXN0LCBUdXBsZSwgVW5pb24sIE9wdGlvbmFsCgpmcm9tIGZhaXJzZXEyLmFzc2V0cy5jYXJkIGltcG9ydCBBc3NldENhcmQKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBDb2xsYXRlcgpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IEF1ZGlvRGVjb2RlciwgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyCmZyb20gZmFpcnNlcTIuZ2VuZXJhdGlvbiBpbXBvcnQgKAogICAgQmVhbVNlYXJjaFNlcTJTZXFHZW5lcmF0b3IsCiAgICBTZXF1ZW5jZUdlbmVyYXRvck91dHB1dCwKKQpmcm9tIGZhaXJzZXEyLm1lbW9yeSBpbXBvcnQgTWVtb3J5QmxvY2sKZnJvbSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lci5tdWx0aWhlYWRfYXR0ZW50aW9uIGltcG9ydCBBdHRlbnRpb25XZWlnaHRIb29rCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCgppbXBvcnQgbnVtcHkgYXMgbnAKZnJvbSBzY2lweS5zaWduYWwgaW1wb3J0IG1lZGZpbHQyZApmcm9tIGFyZ3BhcnNlIGltcG9ydCBOYW1lc3BhY2UKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4gYXMgbm4KZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5IGltcG9ydCAoCiAgICBVbml0WVgyVE1vZGVsLAogICAgbG9hZF91bml0eV9tb2RlbCwKICAgIGxvYWRfdW5pdHlfdGV4dF90b2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmRlbm9pc2UuZGVtdWNzIGltcG9ydCBEZW11Y3MsIERlbm9pc2luZ0NvbmZpZwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc2VnbWVudC5zaWxlcm9fdmFkIGltcG9ydCBTaWxlcm9WQURTZWdtZW50ZXIKCgpjbGFzcyBFbmNEZWNBdHRlbnRpb25zQ29sbGVjdChBdHRlbnRpb25XZWlnaHRIb29rKToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmF0dG5fc2NvcmVzID0gW10KCiAgICBkZWYgX19jYWxsX18oc2VsZiwgbSwgYXR0biwgYXR0bl93ZWlnaHRzKSAtPiBOb25lOgogICAgICAgIGlmIGF0dG5fd2VpZ2h0cy5zaGFwZVstMl0gPiAxOgogICAgICAgICAgICB2YWwgPSB0b3JjaC5jbG9uZShhdHRuX3dlaWdodHMpLmRldGFjaCgpLnN1bShkaW09MCkuc3F1ZWV6ZSgwKS50b2xpc3QoKQogICAgICAgICAgICBzZWxmLmF0dG5fc2NvcmVzLmV4dGVuZCh2YWwpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmFsID0gKAogICAgICAgICAgICAgICAgdG9yY2guY2xvbmUoYXR0bl93ZWlnaHRzKQogICAgICAgICAgICAgICAgLmRldGFjaCgpCiAgICAgICAgICAgICAgICAuc3VtKGRpbT0wKQogICAgICAgICAgICAgICAgLnN1bShkaW09MCkKICAgICAgICAgICAgICAgIC5zcXVlZXplKDApCiAgICAgICAgICAgICAgICAudG9saXN0KCkKICAgICAgICAgICAgKQogICAgICAgICAgICBzZWxmLmF0dG5fc2NvcmVzLmFwcGVuZCh2YWwpCgogICAgZGVmIHJlc2V0KHNlbGYpOgogICAgICAgIHNlbGYuYXR0bl9zY29yZXMgPSBbXQoKCmNsYXNzIFRyYW5zY3JpcHRpb25Ub2tlbjoKICAgIHRleHQ6IHN0cgogICAgdGltZV9zOiBmbG9hdAogICAgcHJvYjogZmxvYXQKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdGV4dDogc3RyLCB0aW1lX3M6IGZsb2F0LCBwcm9iOiBmbG9hdCk6CiAgICAgICAgc2VsZi50ZXh0ID0gdGV4dAogICAgICAgIHNlbGYudGltZV9zID0gdGltZV9zCiAgICAgICAgc2VsZi5wcm9iID0gcHJvYgoKCmNsYXNzIFRyYW5zY3JpcHRpb246CiAgICB0ZXh0OiBzdHIKICAgIHRva2VuczogTGlzdFtUcmFuc2NyaXB0aW9uVG9rZW5dCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHRva2VuczogTGlzdFtUcmFuc2NyaXB0aW9uVG9rZW5dKToKICAgICAgICBzZWxmLnRleHQgPSAiICIuam9pbihbdC50ZXh0IGZvciB0IGluIHRva2Vuc10pCiAgICAgICAgc2VsZi50b2tlbnMgPSB0b2tlbnMKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi50ZXh0CgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnRleHQKCgpjbGFzcyBUcmFuc2NyaWJlcihubi5Nb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkOiBVbmlvbltzdHIsIEFzc2V0Q2FyZF0sCiAgICAgICAgZGV2aWNlOiB0b3JjaC5kZXZpY2UgPSB0b3JjaC5kZXZpY2UoImNwdSIpLAogICAgICAgIGR0eXBlOiB0b3JjaC5kdHlwZSA9IHRvcmNoLmZsb2F0MzIsCiAgICAgICAgZW5jb2Rlcl9sYXllcnM6IGludCA9IDYsCiAgICAgICAgZGVjb2Rlcl9sYXllcnM6IGludCA9IDMsCiAgICAgICAgZW1iZWRfZGltOiBpbnQgPSA1MTIsCiAgICAgICAgZGVwdGh3aXNlX2NvbnZfa2VybmVsX3NpemU6IGludCA9IDMxLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmRldmljZSA9IGRldmljZQogICAgICAgIHNlbGYuZHR5cGUgPSBkdHlwZQogICAgICAgIHNlbGYuZW1iZWRfZGltID0gZW1iZWRfZGltCiAgICAgICAgc2VsZi5lbmNvZGVyX2xheWVycyA9IGVuY29kZXJfbGF5ZXJzCiAgICAgICAgc2VsZi5kZWNvZGVyX2xheWVycyA9IGRlY29kZXJfbGF5ZXJzCiAgICAgICAgc2VsZi5kZXB0aHdpc2VfY29udl9rZXJuZWxfc2l6ZSA9IGRlcHRod2lzZV9jb252X2tlcm5lbF9zaXplCiAgICAgICAgc2VsZi50b2tlbml6ZXIgPSBsb2FkX3VuaXR5X3RleHRfdG9rZW5pemVyKG1vZGVsX25hbWVfb3JfY2FyZCkKICAgICAgICBzZWxmLmRlY29kZXJfdm9jYWJfaW5mbyA9IHNlbGYudG9rZW5pemVyLnZvY2FiX2luZm8KICAgICAgICBzZWxmLmxhbmdzID0gc2VsZi50b2tlbml6ZXIubGFuZ3MKCiAgICAgICAgbW9kZWwgPSBzZWxmLmxvYWRfbW9kZWxfZm9yX2luZmVyZW5jZSgKICAgICAgICAgICAgbG9hZF91bml0eV9tb2RlbCwgbW9kZWxfbmFtZV9vcl9jYXJkLCBkZXZpY2UsIGR0eXBlCiAgICAgICAgKQogICAgICAgIHNlbGYuczJ0ID0gVW5pdFlYMlRNb2RlbCgKICAgICAgICAgICAgZW5jb2Rlcl9mcm9udGVuZD1tb2RlbC5zcGVlY2hfZW5jb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgZW5jb2Rlcj1tb2RlbC5zcGVlY2hfZW5jb2RlciwKICAgICAgICAgICAgZGVjb2Rlcl9mcm9udGVuZD1tb2RlbC50ZXh0X2RlY29kZXJfZnJvbnRlbmQsCiAgICAgICAgICAgIGRlY29kZXI9bW9kZWwudGV4dF9kZWNvZGVyLAogICAgICAgICAgICBmaW5hbF9wcm9qPW1vZGVsLmZpbmFsX3Byb2osCiAgICAgICAgICAgIHRhcmdldF92b2NhYl9pbmZvPXNlbGYuZGVjb2Rlcl92b2NhYl9pbmZvLAogICAgICAgICkKICAgICAgICBzZWxmLmVuY19kZWNfYXR0bl9jb2xsZWN0b3IgPSBFbmNEZWNBdHRlbnRpb25zQ29sbGVjdCgpCiAgICAgICAgc2VsZi5zMnQuZGVjb2Rlci5sYXllcnNbLTFdLmVuY29kZXJfZGVjb2Rlcl9hdHRuLnJlZ2lzdGVyX2F0dG5fd2VpZ2h0X2hvb2soCiAgICAgICAgICAgIHNlbGYuZW5jX2RlY19hdHRuX2NvbGxlY3RvcgogICAgICAgICkKCiAgICAgICAgc2VsZi5kZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWRldmljZSkKICAgICAgICBzZWxmLmNvbnZlcnRfdG9fZmJhbmsgPSBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoCiAgICAgICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgICAgIGNoYW5uZWxfbGFzdD1UcnVlLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1UcnVlLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCiAgICAgICAgc2VsZi5jb2xsYXRlID0gQ29sbGF0ZXIoCiAgICAgICAgICAgIHBhZF92YWx1ZT1zZWxmLnRva2VuaXplci52b2NhYl9pbmZvLnBhZF9pZHgsIHBhZF90b19tdWx0aXBsZT0yCiAgICAgICAgKQoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBsb2FkX21vZGVsX2Zvcl9pbmZlcmVuY2UoCiAgICAgICAgbG9hZF9tb2RlbF9mbjogQ2FsbGFibGVbLi4uLCBubi5Nb2R1bGVdLAogICAgICAgIG1vZGVsX25hbWVfb3JfY2FyZDogVW5pb25bc3RyLCBBc3NldENhcmRdLAogICAgICAgIGRldmljZTogRGV2aWNlLAogICAgICAgIGR0eXBlOiBEYXRhVHlwZSwKICAgICkgLT4gbm4uTW9kdWxlOgogICAgICAgIG1vZGVsID0gbG9hZF9tb2RlbF9mbihtb2RlbF9uYW1lX29yX2NhcmQsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgICAgIG1vZGVsLmV2YWwoKQogICAgICAgIHJldHVybiBtb2RlbAoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBnZW5lcmF0ZV9saXMoYXJyOiBMaXN0W1R1cGxlW2ludCwgaW50XV0pIC0+IFR1cGxlW2ludCwgTGlzdFtUdXBsZVtpbnQsIGludF1dXToKICAgICAgICBuID0gbGVuKGFycikKICAgICAgICBsaXMgPSBbMV0gKiBuCiAgICAgICAgcHJldiA9IFswXSAqIG4KICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBuKToKICAgICAgICAgICAgcHJldltpXSA9IGkKICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCBuKToKICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UoMCwgaSk6CiAgICAgICAgICAgICAgICBpZiBhcnJbaV0gPiBhcnJbal0gYW5kIGxpc1tpXSA8IGxpc1tqXSArIDE6CiAgICAgICAgICAgICAgICAgICAgbGlzW2ldID0gbGlzW2pdICsgMQogICAgICAgICAgICAgICAgICAgIHByZXZbaV0gPSBqCiAgICAgICAgbWF4aW11bSA9IDAKICAgICAgICBpZHggPSAwCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uobik6CiAgICAgICAgICAgIGlmIG1heGltdW0gPCBsaXNbaV06CiAgICAgICAgICAgICAgICBtYXhpbXVtID0gbGlzW2ldCiAgICAgICAgICAgICAgICBpZHggPSBpCiAgICAgICAgc2VxID0gW2FycltpZHhdXQogICAgICAgIHdoaWxlIGlkeCAhPSBwcmV2W2lkeF06CiAgICAgICAgICAgIGlkeCA9IHByZXZbaWR4XQogICAgICAgICAgICBzZXEuYXBwZW5kKGFycltpZHhdKQogICAgICAgIHJldHVybiAobWF4aW11bSwgcmV2ZXJzZWQoc2VxKSkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZXh0cmFjdF90aW1lc3RhbXBzKAogICAgICAgIGNscywKICAgICAgICBhdHRuX3dlaWdodHMsCiAgICAgICAgYXVkaW9fbGVuLAogICAgICAgIGZpbHRlcl93aWR0aCwKICAgICkgLT4gTGlzdFtmbG9hdF06CiAgICAgICAgYXR0bl93ZWlnaHRzID0gW2F0dG5fbGluZVsxOi0xXSBmb3IgYXR0bl9saW5lIGluIGF0dG5fd2VpZ2h0c11bMTpdCgogICAgICAgIG51bV9vdXRfdG9rZW5zID0gbGVuKGF0dG5fd2VpZ2h0cykKICAgICAgICBudW1fZW5jb2Rlcl9zdGVwcyA9IGxlbihhdHRuX3dlaWdodHNbMF0pCiAgICAgICAgYXR0bl93ZWlnaHRzID0gbnAuYXJyYXkoYXR0bl93ZWlnaHRzKQogICAgICAgIGF0dG5fd2VpZ2h0cyA9IGF0dG5fd2VpZ2h0cyAvIGF0dG5fd2VpZ2h0cy5zdW0oYXhpcz0wLCBrZWVwZGltcz0xKSAgIyBub3JtYWxpemUKICAgICAgICBhdHRuX3dlaWdodHMgPSBtZWRmaWx0MmQoYXR0bl93ZWlnaHRzLCBrZXJuZWxfc2l6ZT0oZmlsdGVyX3dpZHRoLCBmaWx0ZXJfd2lkdGgpKQoKICAgICAgICAjIGZpbmQgdGltZXN0YW1wcyB1c2luZyBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UgYWxnbwogICAgICAgIGNvbF9tYXhlcyA9IG5wLmFyZ21heChhdHRuX3dlaWdodHMsIGF4aXM9MCkKICAgICAgICBsaXNfaW5wdXQgPSBbCiAgICAgICAgICAgIChvdXRfdG9rX2lkeCwgLWVuY19iaW5faWR4KQogICAgICAgICAgICBmb3IgZW5jX2Jpbl9pZHgsIG91dF90b2tfaWR4IGluIGVudW1lcmF0ZShjb2xfbWF4ZXMpCiAgICAgICAgXQogICAgICAgIHRva19pZHhfdG9fc3RhcnRfZW5jX2Jpbl9pZHggPSB7CiAgICAgICAgICAgIG91dF90b2tfaWR4OiAtZW5jX2Jpbl9pZHgKICAgICAgICAgICAgZm9yIG91dF90b2tfaWR4LCBlbmNfYmluX2lkeCBpbiBjbHMuZ2VuZXJhdGVfbGlzKGxpc19pbnB1dClbMV0KICAgICAgICB9CiAgICAgICAgcHJldl9zdGFydCA9IDAKICAgICAgICBzdGFydHMgPSBbXQogICAgICAgIGZvciB0b2tfaWR4IGluIHJhbmdlKG51bV9vdXRfdG9rZW5zKToKICAgICAgICAgICAgc3RhcnRfZW5jX2Jpbl9pZHggPSB0b2tfaWR4X3RvX3N0YXJ0X2VuY19iaW5faWR4LmdldCh0b2tfaWR4LCBwcmV2X3N0YXJ0KQogICAgICAgICAgICBzdGFydHMuYXBwZW5kKHN0YXJ0X2VuY19iaW5faWR4KQogICAgICAgICAgICBwcmV2X3N0YXJ0ID0gc3RhcnRfZW5jX2Jpbl9pZHgKICAgICAgICBzZWNvbmRzX3Blcl9lbmNfcG9zID0gYXVkaW9fbGVuIC8gbnVtX2VuY29kZXJfc3RlcHMKICAgICAgICBzdGFydF90aW1lcyA9IFtzZWNvbmRzX3Blcl9lbmNfcG9zICogc3RhcnRfcG9zIGZvciBzdGFydF9wb3MgaW4gc3RhcnRzXQogICAgICAgIHJldHVybiBzdGFydF90aW1lcwoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9jb2xsZWN0X3dvcmRfbGV2ZWxfc3RhdHMoCiAgICAgICAgY2xzLCBwaWVjZXM6IExpc3Rbc3RyXSwgdG9rZW5fdGltZXN0YW1wczogTGlzdFtmbG9hdF0sIHN0ZXBfc2NvcmVzOiBMaXN0W2Zsb2F0XQogICAgKSAtPiBMaXN0W1RyYW5zY3JpcHRpb25Ub2tlbl06CiAgICAgICAgYXNzZXJ0IGxlbihwaWVjZXMpID09IGxlbih0b2tlbl90aW1lc3RhbXBzKSBhbmQgbGVuKHRva2VuX3RpbWVzdGFtcHMpID09IGxlbigKICAgICAgICAgICAgc3RlcF9zY29yZXMKICAgICAgICApCiAgICAgICAgd29yZF9zdGF0czogTGlzdFtMaXN0W0FueV1dID0gW10KICAgICAgICBmb3IgKAogICAgICAgICAgICB0aW1lX3MsCiAgICAgICAgICAgIHRva2VuLAogICAgICAgICAgICBzY29yZSwKICAgICAgICApIGluIHppcCh0b2tlbl90aW1lc3RhbXBzLCBwaWVjZXMsIHN0ZXBfc2NvcmVzKToKICAgICAgICAgICAgaWYgbm90IHdvcmRfc3RhdHMgb3IgdG9rZW4uc3RhcnRzd2l0aCgi4paBIikgYW5kIHRpbWVfcyA+IHdvcmRfc3RhdHNbLTFdWzFdOgogICAgICAgICAgICAgICAgd29yZF9zdGF0cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgW3Rva2VuLnJlcGxhY2UoIuKWgSIsICIgIikuc3RyaXAoKSwgdGltZV9zLCBbbnAuZXhwKHNjb3JlKV1dCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB3b3JkX3N0YXRzWy0xXVswXSArPSB0b2tlbi5yZXBsYWNlKCLiloEiLCAiICIpCiAgICAgICAgICAgICAgICB3b3JkX3N0YXRzWy0xXVsyXS5hcHBlbmQobnAuZXhwKHNjb3JlKSkKICAgICAgICB3b3JkX3N0YXRzID0gWwogICAgICAgICAgICBUcmFuc2NyaXB0aW9uVG9rZW4od29yZCwgc3RhcnQsIG5wLm1lYW4ocHJvYnMpKQogICAgICAgICAgICBmb3Igd29yZCwgc3RhcnQsIHByb2JzIGluIHdvcmRfc3RhdHMKICAgICAgICBdCiAgICAgICAgcmV0dXJuIHdvcmRfc3RhdHMKCiAgICBkZWYgcnVuX2luZmVyZW5jZSgKICAgICAgICBzZWxmLAogICAgICAgIGZiYW5rczogdG9yY2guVGVuc29yLAogICAgICAgIHNyY19sYW5nOiBzdHIsCiAgICAgICAgbGVuZ3RoX3NlY29uZHM6IGZsb2F0LAogICAgICAgIGZpbHRlcl93aWR0aDogaW50LAogICAgICAgIGdlbl9vcHRzOiBEaWN0LAogICAgKSAtPiBUcmFuc2NyaXB0aW9uOgogICAgICAgIHByZWZpeCA9IHNlbGYudG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKAogICAgICAgICAgICBtb2RlPSJ0YXJnZXQiLCBsYW5nPXNyY19sYW5nCiAgICAgICAgKS5wcmVmaXhfaW5kaWNlcwogICAgICAgIGJlYW1fc2l6ZSA9IGdlbl9vcHRzLmdldCgiYmVhbV9zaXplIikgb3IgMSAgIyBzZXQgdG8gMSBieSBkZWZhdWx0CiAgICAgICAgZ2VuX29wdHMucG9wKCJiZWFtX3NpemUiLCBOb25lKQogICAgICAgIGdlbmVyYXRvciA9IEJlYW1TZWFyY2hTZXEyU2VxR2VuZXJhdG9yKAogICAgICAgICAgICBtb2RlbD1zZWxmLnMydCwKICAgICAgICAgICAgYmVhbV9zaXplPWJlYW1fc2l6ZSwKICAgICAgICAgICAgKipnZW5fb3B0cywKICAgICAgICApCgogICAgICAgIHNlbGYuZW5jX2RlY19hdHRuX2NvbGxlY3Rvci5yZXNldCgpCiAgICAgICAgb3V0cHV0OiBTZXF1ZW5jZUdlbmVyYXRvck91dHB1dCA9IGdlbmVyYXRvcigKICAgICAgICAgICAgc291cmNlX3NlcXM9ZmJhbmtzLnVuc3F1ZWV6ZSgwKSwKICAgICAgICAgICAgc291cmNlX3BhZGRpbmdfbWFzaz1Ob25lLAogICAgICAgICAgICBwcm9tcHRfc2Vxcz1wcmVmaXgudW5zcXVlZXplKDApLAogICAgICAgICAgICBwcm9tcHRfcGFkZGluZ19tYXNrPU5vbmUsCiAgICAgICAgKQoKICAgICAgICB0b2tlbl9pZHMgPSBvdXRwdXQuaHlwb3RoZXNlc1swXVswXS5zZXEuc3F1ZWV6ZSgwKS50b2xpc3QoKVs6LTFdCiAgICAgICAgc3RlcF9zY29yZXMgPSBvdXRwdXQuaHlwb3RoZXNlc1swXVswXS5zdGVwX3Njb3Jlcy50b2xpc3QoKVs6LTFdCiAgICAgICAgZW5jX2RlY19hdHRuX3Njb3JlcyA9IHNlbGYuZW5jX2RlY19hdHRuX2NvbGxlY3Rvci5hdHRuX3Njb3Jlc1s6LTFdCiAgICAgICAgdG9rZW5fdGltZXN0YW1wcyA9IHNlbGYuX2V4dHJhY3RfdGltZXN0YW1wcygKICAgICAgICAgICAgZW5jX2RlY19hdHRuX3Njb3JlcywKICAgICAgICAgICAgbGVuZ3RoX3NlY29uZHMsCiAgICAgICAgICAgIGZpbHRlcl93aWR0aCwKICAgICAgICApCiAgICAgICAgcGllY2VzID0gWwogICAgICAgICAgICBzZWxmLnRva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbih0b2tlbl9pZCkgZm9yIHRva2VuX2lkIGluIHRva2VuX2lkcwogICAgICAgIF0KICAgICAgICBzdGF0cyA9IHNlbGYuX2NvbGxlY3Rfd29yZF9sZXZlbF9zdGF0cygKICAgICAgICAgICAgcGllY2VzPXBpZWNlcywKICAgICAgICAgICAgdG9rZW5fdGltZXN0YW1wcz10b2tlbl90aW1lc3RhbXBzLAogICAgICAgICAgICBzdGVwX3Njb3Jlcz1zdGVwX3Njb3JlcywKICAgICAgICApCiAgICAgICAgcmV0dXJuIFRyYW5zY3JpcHRpb24oc3RhdHMpCiAgICAKICAgIGRlZiBkZW5vaXNlX2F1ZGlvKAogICAgICAgICAgICBzZWxmLCAKICAgICAgICAgICAgYXVkaW86IFVuaW9uW3N0ciwgVGVuc29yXSwgCiAgICAgICAgICAgIGRlbm9pc2VfY29uZmlnOiBPcHRpb25hbFtEZW5vaXNpbmdDb25maWddCiAgICAgICAgICAgICkgLT4gRGljdDoKICAgICAgICBkZW11Y3MgPSBEZW11Y3MoCiAgICAgICAgICAgIGRlbm9pc2VfY29uZmlnPWRlbm9pc2VfY29uZmlnKQogICAgICAgIGF1ZGlvID0gZGVtdWNzLmRlbm9pc2UoYXVkaW8pCiAgICAgICAgcmV0dXJuIHNlbGYuZGVjb2RlX2F1ZGlvKGF1ZGlvKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgdHJhbnNjcmliZSgKICAgICAgICBzZWxmLAogICAgICAgIGF1ZGlvOiBVbmlvbltzdHIsIFRlbnNvcl0sCiAgICAgICAgc3JjX2xhbmc6IHN0ciwKICAgICAgICBmaWx0ZXJfd2lkdGg6IGludCA9IDMsCiAgICAgICAgc2FtcGxlX3JhdGU6IGludCA9IDE2MDAwLAogICAgICAgIGRlbm9pc2U6IGJvb2wgPSBGYWxzZSwKICAgICAgICBkZW5vaXNlX2NvbmZpZzogT3B0aW9uYWxbRGVub2lzaW5nQ29uZmlnXSA9IE5vbmUsCiAgICAgICAgY2h1bmtfc2l6ZV9zZWM6IGludCA9IDIwLAogICAgICAgIHBhdXNlX2xlbmd0aF9zZWM6IGZsb2F0ID0gMSwKICAgICAgICAqKnNlcXVlbmNlX2dlbmVyYXRvcl9vcHRpb25zOiBEaWN0LAogICAgKSAtPiBUcmFuc2NyaXB0aW9uOgogICAgICAgICIiIgogICAgICAgIFRoZSBtYWluIG1ldGhvZCB1c2VkIHRvIHBlcmZvcm0gdHJhbnNjcmlwdGlvbi4KCiAgICAgICAgOnBhcmFtIGF1ZGlvOgogICAgICAgICAgICBFaXRoZXIgcGF0aCB0byBhdWRpbyBvciBhdWRpbyBUZW5zb3IuCiAgICAgICAgOnBhcmFtIHNyY19sYW5nOgogICAgICAgICAgICBTb3VyY2UgbGFuZ3VhZ2Ugb2YgYXVkaW8uCiAgICAgICAgOnBhcmFtIHNhbXBsZV9yYXRlOgogICAgICAgICAgICBTYW1wbGUgcmF0ZSBvZiB0aGUgYXVkaW8gVGVuc29yLgogICAgICAgIDpwYXJhbSBmaWx0ZXJfd2lkdGg6CiAgICAgICAgICAgIFdpbmRvdyBzaXplIHRvIHBhZCB3ZWlnaHRzIHRlbnNvci4KICAgICAgICA6cGFyYW0gY2h1bmtfc2l6ZV9zZWM6CiAgICAgICAgICAgIExlbmd0aCBvZiBhdWRpbyBjaHVua3MgaW4gc2Vjb25kcy4KICAgICAgICAgICAgRm9yIHNlZ21lbnRpbmcgYXVkaW8uCiAgICAgICAgOnBhcmFtIHBhdXNlX2xlbmd0aF9zZWM6CiAgICAgICAgICAgIExlbmd0aCBvZiBwYXVzZSBiZXR3ZWVuIGF1ZGlvIGNodW5rcyBpbiBzZWNvbmRzLgogICAgICAgICAgICBGb3Igc2VnbWVudGluZyBhdWRpby4KICAgICAgICA6cGFyYW1zICoqc2VxdWVuY2VfZ2VuZXJhdG9yX29wdGlvbnM6CiAgICAgICAgICAgIFNlZSBCZWFtU2VhcmNoU2VxMlNlcUdlbmVyYXRvci4KICAgICAgICA6cGFyYW1zIGRlbm9pc2U6CiAgICAgICAgICAgIFdoZXRoZXIgdG8gZGVub2lzZSB0aGUgYXVkaW8uCiAgICAgICAgOnBhcmFtcyBkZW5vaXNlX2NvbmZpZzoKICAgICAgICAgICAgQ29uZmlndXJhdGlvbiBmb3IgZGVub2lzaW5nLgoKICAgICAgICA6cmV0dXJuczoKICAgICAgICAgICAgLSBMaXN0IG9mIFRva2VucyB3aXRoIHRpbWVzdGFtcHMuCiAgICAgICAgIiIiCgogICAgICAgIGlmIGRlbm9pc2U6CiAgICAgICAgICAgIGRlY29kZWRfYXVkaW8gPSBzZWxmLmRlbm9pc2VfYXVkaW8oYXVkaW8sIGRlbm9pc2VfY29uZmlnKQogICAgICAgIGVsc2U6ICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoYXVkaW8sIHN0cik6CiAgICAgICAgICAgICAgICAgICAgd2l0aCBQYXRoKGF1ZGlvKS5vcGVuKCJyYiIpIGFzIGZiOgogICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IE1lbW9yeUJsb2NrKGZiLnJlYWQoKSkKICAgICAgICAgICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gc2VsZi5kZWNvZGVfYXVkaW8oYmxvY2spCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gewogICAgICAgICAgICAgICAgICAgICJ3YXZlZm9ybSI6IGF1ZGlvLAogICAgICAgICAgICAgICAgICAgICJzYW1wbGVfcmF0ZSI6IHNhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAtMSwKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxlbmd0aF9zZWNvbmRzID0gKAogICAgICAgICAgICAgICAgZGVjb2RlZF9hdWRpb1sid2F2ZWZvcm0iXS5zaXplKDApIC8gZGVjb2RlZF9hdWRpb1sic2FtcGxlX3JhdGUiXQogICAgICAgICAgICApCgogICAgICAgICAgICB3YXZlZm9ybV8yZCA9IGRlY29kZWRfYXVkaW8uZ2V0KCJ3YXZlZm9ybSIpCiAgICAgICAgICAgIHdhdmVmb3JtXzFkID0gZGVjb2RlZF9hdWRpby5nZXQoIndhdmVmb3JtIikudmlldygtMSkKICAgICAgICAgICAgc2VnbWVudGVyID0gU2lsZXJvVkFEU2VnbWVudGVyKAogICAgICAgICAgICAgICAgc2FtcGxlX3JhdGU9c2FtcGxlX3JhdGUsCiAgICAgICAgICAgICAgICBjaHVua19zaXplX3NlYz1jaHVua19zaXplX3NlYywKICAgICAgICAgICAgICAgIHBhdXNlX2xlbmd0aD1wYXVzZV9sZW5ndGhfc2VjLAogICAgICAgICAgICApCgogICAgICAgICAgICBpZiBsZW5ndGhfc2Vjb25kcyA+IGNodW5rX3NpemVfc2VjOgogICAgICAgICAgICAgICAgc3JjX3NlZ21lbnRzID0gc2VnbWVudGVyLnNlZ21lbnRfbG9uZ19pbnB1dCh3YXZlZm9ybV8xZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNyY19zZWdtZW50cyA9IFsoMCwgd2F2ZWZvcm1fMWQuc2l6ZSgwKSldCgogICAgICAgICAgICB0cmFuc2NyaXB0aW9ucyA9IFtdCiAgICAgICAgICAgIGZvciBzdGFydCwgZW5kIGluIHNyY19zZWdtZW50czoKICAgICAgICAgICAgICAgIHNlZ21lbnQgPSB3YXZlZm9ybV8yZFtzdGFydDplbmQsIDpdCiAgICAgICAgICAgICAgICBzcmNfc2VnbWVudCA9IHNlbGYuY29udmVydF90b19mYmFuaygKICAgICAgICAgICAgICAgICAgICB7IndhdmVmb3JtIjogc2VnbWVudCwgInNhbXBsZV9yYXRlIjogZGVjb2RlZF9hdWRpby5nZXQoInNhbXBsZV9yYXRlIiksIAogICAgICAgICAgICAgICAgICAgICAiZm9ybWF0IjogZGVjb2RlZF9hdWRpby5nZXQoImZvcm1hdCIpfSlbImZiYW5rIl0KICAgICAgICAgICAgICAgIGxlbmd0aF9zZWNvbmRzX3NlZ21lbnQgPSBzZWdtZW50LnNpemUoMCkgLyBzYW1wbGVfcmF0ZQogICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbl9zZWdtZW50ID0gc2VsZi5ydW5faW5mZXJlbmNlKAogICAgICAgICAgICAgICAgICAgIHNyY19zZWdtZW50LAogICAgICAgICAgICAgICAgICAgIHNyY19sYW5nLAogICAgICAgICAgICAgICAgICAgIGxlbmd0aF9zZWNvbmRzX3NlZ21lbnQsCiAgICAgICAgICAgICAgICAgICAgZmlsdGVyX3dpZHRoLAogICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlX2dlbmVyYXRvcl9vcHRpb25zLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbnMuYXBwZW5kKHN0cih0cmFuc2NyaXB0aW9uX3NlZ21lbnQpKQoKICAgICAgICAgICAgcmV0dXJuICIgIi5qb2luKHRyYW5zY3JpcHRpb25zKQo='),
    ('seamless/build/lib/seamless_communication/inference/generator.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgT3B0aW9uYWwsIFR1cGxlCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBTZXF1ZW5jZURhdGEsIFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi5kYXRhLnRleHQgaW1wb3J0IFRleHRUb2tlbml6ZXIKZnJvbSBmYWlyc2VxMi5nZW5lcmF0aW9uIGltcG9ydCAoCiAgICBCZWFtU2VhcmNoU2VxMlNlcUdlbmVyYXRvciwKICAgIFNlcTJTZXFHZW5lcmF0b3IsCiAgICBTZXF1ZW5jZVRvVGV4dENvbnZlcnRlciwKICAgIFN0ZXBQcm9jZXNzb3IsCikKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCAoCiAgICBQYWRkaW5nTWFzaywKICAgIGFwcGx5X3BhZGRpbmdfbWFzaywKICAgIGdldF9zZXFzX2FuZF9wYWRkaW5nX21hc2ssCiAgICBwYWRfc2VxcywKKQpmcm9tIGZhaXJzZXEyLm5uLnV0aWxzLm1vZHVsZSBpbXBvcnQgaW5mZXJfZGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5tb2RlbCBpbXBvcnQgKAogICAgVW5pdFlNb2RlbCwKICAgIFVuaXRZVDJVTW9kZWwsCiAgICBVbml0WVgyVE1vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudW5pdF90b2tlbml6ZXIgaW1wb3J0ICgKICAgIFVuaXRUb2tlbkRlY29kZXIsCiAgICBVbml0VG9rZW5pemVyLAopCgoKZGVmIHJlbW92ZV9jb25zZWN1dGl2ZV9yZXBlYXRlZF9uZ3JhbXMoCiAgICBzZXF1ZW5jZTogTGlzdFtpbnRdLCBtaW5fc2l6ZTogaW50ID0gMSwgbWF4X3NpemU6IGludCA9IDQwCikgLT4gTGlzdFtpbnRdOgogICAgYXNzZXJ0IDEgPD0gbWluX3NpemUgPD0gbWF4X3NpemUKICAgIGRyb3BfaWR4ID0gc2V0KCkgICMgaW5kaWNlcyB0aGF0IHdpbGwgYmUgZHJvcHBlZCBmcm9tIHRoZSBzZXF1ZW5jZQoKICAgICMgc3RhcnQgZnJvbSB0aGUgYmVnaW5uaW5nLCBjaGVjayBpZiBhbiBuZ3JhbSBvZiBzaXplIGsgKGZvciBrPW1heC4ubWluKSBpcwogICAgIyBmb2xsb3dlZCBieSBpdHMgY29weSwgaWYgc28gZGVsZXRlIHRoZSBmaXJzdCBvbmUsIGFuZCBzdGFydCBvdmVyIGFmdGVyCiAgICAjIHRoZSBkZWxldGVkIG5ncmFtLgogICAgc3RhcnQgPSAwCiAgICB3aGlsZSBzdGFydCA8IGxlbihzZXF1ZW5jZSk6CiAgICAgICAgZm9yIGsgaW4gcmFuZ2UobWF4X3NpemUsIG1pbl9zaXplIC0gMSwgLTEpOgogICAgICAgICAgICBpZiBzZXF1ZW5jZVtzdGFydCA6IHN0YXJ0ICsga10gPT0gc2VxdWVuY2Vbc3RhcnQgKyBrIDogc3RhcnQgKyBrICsga106CiAgICAgICAgICAgICAgICBkcm9wX2lkeCB8PSBzZXQocmFuZ2Uoc3RhcnQsIHN0YXJ0ICsgaykpCiAgICAgICAgICAgICAgICBzdGFydCArPSBrIC0gMSAgIyBhc3N1bWVzIHJlcGVhdGluZyBzdWJzZXF1ZW5jZXMgZG9uJ3Qgb3ZlcmxhcAogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICBzdGFydCArPSAxCiAgICByZXR1cm4gW3Rva2VuIGZvciBpZHgsIHRva2VuIGluIGVudW1lcmF0ZShzZXF1ZW5jZSkgaWYgaWR4IG5vdCBpbiBkcm9wX2lkeF0KCgpAZGF0YWNsYXNzCmNsYXNzIFNlcXVlbmNlR2VuZXJhdG9yT3B0aW9uczoKICAgICIiIkhvbGRzIHRoZSBvcHRpb25zIHRvIHBhc3MgdG8gYSBzZXF1ZW5jZSBnZW5lcmF0b3IuIiIiCgogICAgYmVhbV9zaXplOiBpbnQgPSA1CiAgICAiIiJUaGUgYmVhbSBzaXplLiIiIgoKICAgIHNvZnRfbWF4X3NlcV9sZW46IFR1cGxlW2ludCwgaW50XSA9ICgxLCAyMDApCiAgICAiIiJUaGUgdGVybXMgYGBhYGAgYW5kIGBgYmBgIG9mIGBgYXggKyBiYGAgd2hlcmUgYGB4YGAgaXMgdGhlIHNvdXJjZQogICAgc2VxdWVuY2UgbGVuZ3RoLiBUaGUgZ2VuZXJhdGVkIHNlcXVlbmNlcyAoaW5jbHVkaW5nIHByZWZpeCBzZXF1ZW5jZSkgd2lsbAogICAgaGF2ZSB0aGUgbWF4aW11bSBsZW5ndGggb2YgYGBtaW4oaGFyZF9tYXhfc2VxX2xlbiwgYXggKyBiKWBgLiBTZWUgYWxzbwogICAgYGBoYXJkX21heF9zZXFfbGVuYGAuIiIiCgogICAgaGFyZF9tYXhfc2VxX2xlbjogaW50ID0gMTAyNAogICAgIiIiVGhlIGhhcmQgbGltaXQgb24gbWF4aW11bSBsZW5ndGggb2YgZ2VuZXJhdGVkIHNlcXVlbmNlcy4iIiIKCiAgICBzdGVwX3Byb2Nlc3NvcjogT3B0aW9uYWxbU3RlcFByb2Nlc3Nvcl0gPSBOb25lCiAgICAiIiJUaGUgcHJvY2Vzc29yIGNhbGxlZCBhdCBlYWNoIGdlbmVyYXRpb24gc3RlcC4iIiIKCiAgICB1bmtfcGVuYWx0eTogZmxvYXQgPSAwLjAKICAgICIiIlRoZSBVTksgc3ltYm9sIHBlbmFsdHksIHdoZXJlIHZhbHVlcyBsZXNzIHRoYW4gMCBwcm9kdWNlIG1vcmUgVU5LczsKICAgIHZhbHVlcyBncmVhdGVyIHRoYW4gMCBwcm9kdWNlIGZld2VyIFVOS3MuIiIiCgogICAgbGVuX3BlbmFsdHk6IGZsb2F0ID0gMS4wCiAgICAiIiJUaGUgbGVuZ3RoIHBlbmFsdHksIHdoZXJlIHZhbHVlcyBsZXNzIHRoYW4gMS4wIGZhdm9yIHNob3J0ZXIKICAgIHNlcXVlbmNlczsgdmFsdWVzIGdyZWF0ZXIgdGhhbiAxLjAgZmF2b3IgbG9uZ2VyIHNlcXVlbmNlcy4iIiIKCgpjbGFzcyBVbml0WUdlbmVyYXRvcjoKICAgICIiIkdlbmVyYXRlcyB0ZXh0IHRyYW5zbGF0aW9ucyBhbmQgc3BlZWNoIHVuaXRzIGZyb20gYSBVbml0WSBtb2RlbC4iIiIKCiAgICBtb2RlbDogVW5pdFlNb2RlbAogICAgczJ0X2NvbnZlcnRlcjogU2VxdWVuY2VUb1RleHRDb252ZXJ0ZXIKICAgIHQydF9jb252ZXJ0ZXI6IE9wdGlvbmFsW1NlcXVlbmNlVG9UZXh0Q29udmVydGVyXQogICAgdW5pdF9kZWNvZGVyOiBPcHRpb25hbFtVbml0VG9rZW5EZWNvZGVyXQogICAgdW5pdF9wcmVmaXhfaW5kaWNlczogT3B0aW9uYWxbVGVuc29yXQogICAgdW5pdF9nZW5lcmF0b3I6IE9wdGlvbmFsW1NlcTJTZXFHZW5lcmF0b3JdCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWw6IFVuaXRZTW9kZWwsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIsCiAgICAgICAgdGFyZ2V0X2xhbmc6IHN0ciwKICAgICAgICB1bml0X3Rva2VuaXplcjogT3B0aW9uYWxbVW5pdFRva2VuaXplcl0gPSBOb25lLAogICAgICAgIHRleHRfb3B0czogT3B0aW9uYWxbU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zXSA9IE5vbmUsCiAgICAgICAgdW5pdF9vcHRzOiBPcHRpb25hbFtTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbW9kZWw6CiAgICAgICAgICAgIFRoZSBVbml0WSBtb2RlbCB0byB1c2UgZm9yIGdlbmVyYXRpb24uCiAgICAgICAgOnBhcmFtIHRleHRfdG9rZW5pemVyOgogICAgICAgICAgICBUaGUgdGV4dCB0b2tlbml6ZXIgdG8gdXNlLgogICAgICAgIDpwYXJhbSB1bml0X3Rva2VuaXplcjoKICAgICAgICAgICAgVGhlIHVuaXQgdG9rZW5pemVyIHRvIHVzZS4KICAgICAgICA6cGFyYW0gdGFyZ2V0X2xhbmc6CiAgICAgICAgICAgIFRoZSB0YXJnZXQgbGFuZ3VhZ2UuCiAgICAgICAgOnBhcmFtIHRleHRfZ2VuZXJhdG9yX29wdHM6CiAgICAgICAgICAgIFRoZSBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIHVuZGVybHlpbmcgdGV4dCA6Y2xhc3M6YFNlcTJTZXFHZW5lcmF0b3JgLgogICAgICAgIDpwYXJhbSB1bml0X2dlbmVyYXRvcl9vcHRzOgogICAgICAgICAgICBUaGUgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSB1bmRlcmx5aW5nIHVuaXQgOmNsYXNzOmBTZXEyU2VxR2VuZXJhdG9yYC4KICAgICAgICAiIiIKICAgICAgICBtb2RlbC5ldmFsKCkKCiAgICAgICAgc2VsZi5tb2RlbCA9IG1vZGVsCgogICAgICAgIGlmIHRleHRfb3B0cyBpcyBOb25lOgogICAgICAgICAgICB0ZXh0X29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoKQoKICAgICAgICBpZiBtb2RlbC50ZXh0X2RlY29kZXIgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJgVW5pdFlHZW5lcmF0b3JgIHJlcXVpcmVzIGEgdGV4dCBkZWNvZGVyLCBidXQgdGhlIGN1cnJlbnQgVW5pdFkgbW9kZWwgZG9lcyBub3QgaGF2ZSBvbmUuIgogICAgICAgICAgICApCiAgICAgICAgYXNzZXJ0IG1vZGVsLnRleHRfZGVjb2Rlcl9mcm9udGVuZCBpcyBub3QgTm9uZQogICAgICAgIGFzc2VydCBtb2RlbC5maW5hbF9wcm9qIGlzIG5vdCBOb25lCgogICAgICAgIHMydF9tb2RlbCA9IFVuaXRZWDJUTW9kZWwoCiAgICAgICAgICAgIGVuY29kZXJfZnJvbnRlbmQ9bW9kZWwuc3BlZWNoX2VuY29kZXJfZnJvbnRlbmQsCiAgICAgICAgICAgIGVuY29kZXI9bW9kZWwuc3BlZWNoX2VuY29kZXIsCiAgICAgICAgICAgIGRlY29kZXJfZnJvbnRlbmQ9bW9kZWwudGV4dF9kZWNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICBkZWNvZGVyPW1vZGVsLnRleHRfZGVjb2RlciwKICAgICAgICAgICAgZmluYWxfcHJvaj1tb2RlbC5maW5hbF9wcm9qLAogICAgICAgICAgICB0YXJnZXRfdm9jYWJfaW5mbz1tb2RlbC50YXJnZXRfdm9jYWJfaW5mbywKICAgICAgICApCgogICAgICAgIHN0ZXBfcHJvY2Vzc29ycyA9IFtdCiAgICAgICAgaWYgdGV4dF9vcHRzLnN0ZXBfcHJvY2Vzc29yIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzdGVwX3Byb2Nlc3NvcnMuYXBwZW5kKHRleHRfb3B0cy5zdGVwX3Byb2Nlc3NvcikKCiAgICAgICAgZ2VuZXJhdG9yID0gQmVhbVNlYXJjaFNlcTJTZXFHZW5lcmF0b3IoCiAgICAgICAgICAgIHMydF9tb2RlbCwKICAgICAgICAgICAgYmVhbV9zaXplPXRleHRfb3B0cy5iZWFtX3NpemUsCiAgICAgICAgICAgIG1heF9nZW5fbGVuPXRleHRfb3B0cy5zb2Z0X21heF9zZXFfbGVuLAogICAgICAgICAgICBtYXhfc2VxX2xlbj10ZXh0X29wdHMuaGFyZF9tYXhfc2VxX2xlbiwKICAgICAgICAgICAgZWNob19wcm9tcHQ9VHJ1ZSwKICAgICAgICAgICAgc3RlcF9wcm9jZXNzb3JzPXN0ZXBfcHJvY2Vzc29ycywKICAgICAgICAgICAgdW5rX3BlbmFsdHk9dGV4dF9vcHRzLnVua19wZW5hbHR5LAogICAgICAgICAgICBsZW5fcGVuYWx0eT10ZXh0X29wdHMubGVuX3BlbmFsdHksCiAgICAgICAgKQogICAgICAgIHNlbGYuczJ0X2NvbnZlcnRlciA9IFNlcXVlbmNlVG9UZXh0Q29udmVydGVyKAogICAgICAgICAgICBnZW5lcmF0b3IsIHRleHRfdG9rZW5pemVyLCAidHJhbnNsYXRpb24iLCB0YXJnZXRfbGFuZwogICAgICAgICkKCiAgICAgICAgaWYgbW9kZWwudGV4dF9lbmNvZGVyIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYudDJ0X2dlbmVyYXRvciA9IE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICBhc3NlcnQgbW9kZWwudGV4dF9lbmNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lCiAgICAgICAgICAgIGFzc2VydCBtb2RlbC50ZXh0X2VuY29kZXIgaXMgbm90IE5vbmUKICAgICAgICAgICAgdDJ0X21vZGVsID0gVW5pdFlYMlRNb2RlbCgKICAgICAgICAgICAgICAgIGVuY29kZXJfZnJvbnRlbmQ9bW9kZWwudGV4dF9lbmNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICAgICAgZW5jb2Rlcj1tb2RlbC50ZXh0X2VuY29kZXIsCiAgICAgICAgICAgICAgICBkZWNvZGVyX2Zyb250ZW5kPW1vZGVsLnRleHRfZGVjb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgICAgIGRlY29kZXI9bW9kZWwudGV4dF9kZWNvZGVyLAogICAgICAgICAgICAgICAgZmluYWxfcHJvaj1tb2RlbC5maW5hbF9wcm9qLAogICAgICAgICAgICAgICAgdGFyZ2V0X3ZvY2FiX2luZm89bW9kZWwudGFyZ2V0X3ZvY2FiX2luZm8sCiAgICAgICAgICAgICkKICAgICAgICAgICAgZ2VuZXJhdG9yID0gQmVhbVNlYXJjaFNlcTJTZXFHZW5lcmF0b3IoCiAgICAgICAgICAgICAgICB0MnRfbW9kZWwsCiAgICAgICAgICAgICAgICBiZWFtX3NpemU9dGV4dF9vcHRzLmJlYW1fc2l6ZSwKICAgICAgICAgICAgICAgIG1heF9nZW5fbGVuPXRleHRfb3B0cy5zb2Z0X21heF9zZXFfbGVuLAogICAgICAgICAgICAgICAgbWF4X3NlcV9sZW49dGV4dF9vcHRzLmhhcmRfbWF4X3NlcV9sZW4sCiAgICAgICAgICAgICAgICBlY2hvX3Byb21wdD1UcnVlLAogICAgICAgICAgICAgICAgc3RlcF9wcm9jZXNzb3JzPXN0ZXBfcHJvY2Vzc29ycywKICAgICAgICAgICAgICAgIHVua19wZW5hbHR5PXRleHRfb3B0cy51bmtfcGVuYWx0eSwKICAgICAgICAgICAgICAgIGxlbl9wZW5hbHR5PXRleHRfb3B0cy5sZW5fcGVuYWx0eSwKICAgICAgICAgICAgKQogICAgICAgICAgICBzZWxmLnQydF9jb252ZXJ0ZXIgPSBTZXF1ZW5jZVRvVGV4dENvbnZlcnRlcigKICAgICAgICAgICAgICAgIGdlbmVyYXRvciwgdGV4dF90b2tlbml6ZXIsICJ0cmFuc2xhdGlvbiIsIHRhcmdldF9sYW5nCiAgICAgICAgICAgICkKCiAgICAgICAgc2VsZi51bml0X2dlbmVyYXRvciA9IE5vbmUKICAgICAgICBzZWxmLnVuaXRfZGVjb2RlciA9IE5vbmUKICAgICAgICAjIFNldCB1cCB1bml0IGdlbmVyYXRvci4KICAgICAgICBpZiB1bml0X3Rva2VuaXplciBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgbW9kZWwudDJ1X21vZGVsIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgICJgbW9kZWxgIGRvZXMgbm90IGhhdmUgYSBUMlUgc3ViLW1vZGVsIHdoZW4gYHVuaXRfdG9rZW5pemVyYCBpcyBub3QgTm9uZS4iCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLnVuaXRfZGVjb2RlciA9IHVuaXRfdG9rZW5pemVyLmNyZWF0ZV9kZWNvZGVyKCkKCiAgICAgICAgICAgIHVuaXRfZW5jb2RlciA9IHVuaXRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKAogICAgICAgICAgICAgICAgbGFuZz10YXJnZXRfbGFuZywgZGV2aWNlPWluZmVyX2RldmljZShtb2RlbC50MnVfbW9kZWwpCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYudW5pdF9wcmVmaXhfaW5kaWNlcyA9IHVuaXRfZW5jb2Rlci5wcmVmaXhfaW5kaWNlcwoKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLm1vZGVsLnQydV9tb2RlbCwgVW5pdFlUMlVNb2RlbCk6CiAgICAgICAgICAgICAgICBpZiB1bml0X29wdHMgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAjIFNwZWVjaCBzZXF1ZW5jZXMgYXJlIHR5cGljYWxseSBtdWNoIGxvbmdlciB0aGFuIHRleHQgc2VxdWVuY2VzLgogICAgICAgICAgICAgICAgICAgIHVuaXRfb3B0cyA9IFNlcXVlbmNlR2VuZXJhdG9yT3B0aW9ucygKICAgICAgICAgICAgICAgICAgICAgICAgc29mdF9tYXhfc2VxX2xlbj0oMjUsIDUwKSwgaGFyZF9tYXhfc2VxX2xlbj01MDAwCiAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIHN0ZXBfcHJvY2Vzc29ycyA9IFtdCiAgICAgICAgICAgICAgICBpZiB1bml0X29wdHMuc3RlcF9wcm9jZXNzb3IgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgc3RlcF9wcm9jZXNzb3JzLmFwcGVuZCh1bml0X29wdHMuc3RlcF9wcm9jZXNzb3IpCgogICAgICAgICAgICAgICAgc2VsZi51bml0X2dlbmVyYXRvciA9IEJlYW1TZWFyY2hTZXEyU2VxR2VuZXJhdG9yKAogICAgICAgICAgICAgICAgICAgIHNlbGYubW9kZWwudDJ1X21vZGVsLAogICAgICAgICAgICAgICAgICAgIGJlYW1fc2l6ZT11bml0X29wdHMuYmVhbV9zaXplLAogICAgICAgICAgICAgICAgICAgIG1heF9nZW5fbGVuPXVuaXRfb3B0cy5zb2Z0X21heF9zZXFfbGVuLAogICAgICAgICAgICAgICAgICAgIG1heF9zZXFfbGVuPXVuaXRfb3B0cy5oYXJkX21heF9zZXFfbGVuLAogICAgICAgICAgICAgICAgICAgIGVjaG9fcHJvbXB0PVRydWUsCiAgICAgICAgICAgICAgICAgICAgc3RlcF9wcm9jZXNzb3JzPXN0ZXBfcHJvY2Vzc29ycywKICAgICAgICAgICAgICAgICAgICB1bmtfcGVuYWx0eT11bml0X29wdHMudW5rX3BlbmFsdHksCiAgICAgICAgICAgICAgICAgICAgbGVuX3BlbmFsdHk9dW5pdF9vcHRzLmxlbl9wZW5hbHR5LAogICAgICAgICAgICAgICAgKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgX19jYWxsX18oCiAgICAgICAgc2VsZiwKICAgICAgICBzb3VyY2Vfc2VxczogVGVuc29yLAogICAgICAgIHNvdXJjZV9wYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBpbnB1dF9tb2RhbGl0eTogc3RyID0gInNwZWVjaCIsCiAgICAgICAgb3V0cHV0X21vZGFsaXR5OiBzdHIgPSAic3BlZWNoIiwKICAgICAgICBuZ3JhbV9maWx0ZXJpbmc6IGJvb2wgPSBGYWxzZSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dDogT3B0aW9uYWxbU2VxdWVuY2VEYXRhXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW0xpc3RbU3RyaW5nTGlrZV0sIE9wdGlvbmFsW1RlbnNvcl1dOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBzb3VyY2Vfc2VxczoKICAgICAgICAgICAgVGhlIHNvdXJjZSBzZXF1ZW5jZXMgdG8gdXNlIGZvciBnZW5lcmF0aW9uLiAqU2hhcGU6KiA6bWF0aDpgKE4sUywqKWAsCiAgICAgICAgICAgIHdoZXJlIDptYXRoOmBOYCBpcyB0aGUgYmF0Y2ggc2l6ZSwgOm1hdGg6YFNgIGlzIHRoZSBzZXF1ZW5jZSBsZW5ndGgsCiAgICAgICAgICAgIGFuZCA6bWF0aDpgKmAgaXMgYW55IG51bWJlciBvZiBzZXF1ZW5jZS1zcGVjaWZpYyBkaW1lbnNpb25zCiAgICAgICAgICAgIGluY2x1ZGluZyBub25lLgogICAgICAgIDpwYXJhbSBzb3VyY2VfcGFkZGluZ19tYXNrOgogICAgICAgICAgICBUaGUgcGFkZGluZyBtYXNrIG9mIGBgc291cmNlX3NlcXNgYC4gKlNoYXBlOiogOm1hdGg6YChOLFMpYCwgd2hlcmUKICAgICAgICAgICAgOm1hdGg6YE5gIGlzIHRoZSBiYXRjaCBzaXplIGFuZCA6bWF0aDpgU2AgaXMgdGhlIHNlcXVlbmNlIGxlbmd0aC4KICAgICAgICA6cGFyYW0gaW5wdXRfbW9kYWxpdHk6CiAgICAgICAgICAgIFRoZSB0eXBlIG9mIG1vZGFsaXR5IHRvIGVuY29kZS4KICAgICAgICA6cGFyYW0gb3V0cHV0X21vZGFsaXR5OgogICAgICAgICAgICBUaGUgdHlwZSBvZiBtb2RhbGl0eSB0byBkZWNvZGUuCiAgICAgICAgOnBhcmFtIG5ncmFtX2ZpbHRlcmluZzoKICAgICAgICAgICAgSWYgVHJ1ZSwgcmVtb3ZlcyBjb25zZWN1dGl2ZSByZXBlYXRlZCBuZ3JhbXMKICAgICAgICAgICAgZnJvbSB0aGUgZGVjb2RlZCB1bml0IG91dHB1dC4KCiAgICAgICAgOnJldHVybnM6CiAgICAgICAgICAgIC0gVGhlIG91dHB1dCBvZiB0aGUgdGV4dCBnZW5lcmF0b3IuCiAgICAgICAgICAgIC0gVGhlIG91dHB1dCBvZiB0aGUgdW5pdCBnZW5lcmF0b3IuCiAgICAgICAgIiIiCgogICAgICAgIGlmIGlucHV0X21vZGFsaXR5ID09ICJzcGVlY2giOgogICAgICAgICAgICB0ZXh0cywgdGV4dF9nZW5fb3V0cHV0ID0gc2VsZi5zMnRfY29udmVydGVyLmJhdGNoX2NvbnZlcnQoCiAgICAgICAgICAgICAgICBzb3VyY2Vfc2Vxcywgc291cmNlX3BhZGRpbmdfbWFzawogICAgICAgICAgICApCiAgICAgICAgZWxpZiBpbnB1dF9tb2RhbGl0eSA9PSAidGV4dCI6CiAgICAgICAgICAgIGlmIHNlbGYudDJ0X2NvbnZlcnRlciBpcyBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICAgICAiUGxlYXNlIHNldCBgdXNlX3RleHRfZW5jb2RlcmAgdG8gYFRydWVgIGluIHlvdXIgbW9kZWwgY29uZmlnIHRvIGVuY29kZSB0ZXh0LiIKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgdGV4dHMsIHRleHRfZ2VuX291dHB1dCA9IHNlbGYudDJ0X2NvbnZlcnRlci5iYXRjaF9jb252ZXJ0KAogICAgICAgICAgICAgICAgc291cmNlX3NlcXMsIHNvdXJjZV9wYWRkaW5nX21hc2sKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJVbnN1cHBvcnRlZCBpbnB1dF9tb2RhbGl0eToge2lucHV0X21vZGFsaXR5fSIpCgogICAgICAgICMgV2Ugc2tpcCBUMlUgd2hlbiB3ZSBvbmx5IG5lZWQgdG8gb3V0cHV0IHRleHQuCiAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09ICJ0ZXh0IjoKICAgICAgICAgICAgcmV0dXJuIHRleHRzLCBOb25lCgogICAgICAgIGFzc2VydCBzZWxmLm1vZGVsLnRhcmdldF92b2NhYl9pbmZvLnBhZF9pZHggaXMgbm90IE5vbmUKCiAgICAgICAgdGV4dF9zZXFfbGlzdCA9IFtoWzBdLnNlcSBmb3IgaCBpbiB0ZXh0X2dlbl9vdXRwdXQuaHlwb3RoZXNlc10KCiAgICAgICAgdGV4dF9zZXFzLCB0ZXh0X3BhZGRpbmdfbWFzayA9IHBhZF9zZXFzKAogICAgICAgICAgICB0ZXh0X3NlcV9saXN0LCBzZWxmLm1vZGVsLnRhcmdldF92b2NhYl9pbmZvLnBhZF9pZHgKICAgICAgICApCgogICAgICAgICMgTWFudWFsbHkgdHJpbSB0aGUgZmluYWwgRU9TIHRva2VuIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBmYWlyc2VxLgogICAgICAgIHRleHRfc2VxcyA9IHRleHRfc2Vxc1s6LCA6LTFdCgogICAgICAgIGlmIHRleHRfcGFkZGluZ19tYXNrIGlzIG5vdCBOb25lOgogICAgICAgICAgICB0ZXh0X3BhZGRpbmdfbWFzayA9IHRleHRfcGFkZGluZ19tYXNrLnRyaW0oMSkKCiAgICAgICAgIyBVc2UgdGhlIG91dHB1dCBvZiB0aGUgdGV4dCBnZW5lcmF0b3IgdG8gY29tcHV0ZSB0aGUgZGVjb2RlciBvdXRwdXQuCiAgICAgICAgZGVjb2Rlcl9vdXRwdXQsIGRlY29kZXJfcGFkZGluZ19tYXNrID0gc2VsZi5tb2RlbC5kZWNvZGUoCiAgICAgICAgICAgIHRleHRfc2VxcywKICAgICAgICAgICAgdGV4dF9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgIHRleHRfZ2VuX291dHB1dC5lbmNvZGVyX291dHB1dCwKICAgICAgICAgICAgdGV4dF9nZW5fb3V0cHV0LmVuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICkKCiAgICAgICAgYXNzZXJ0IHNlbGYubW9kZWwudDJ1X21vZGVsIGlzIG5vdCBOb25lCiAgICAgICAgYXNzZXJ0IHNlbGYudW5pdF9kZWNvZGVyIGlzIG5vdCBOb25lCgogICAgICAgIHVuaXRfZ2VuX291dHB1dCA9IE5vbmUKICAgICAgICBwcm9zb2R5X2VuY29kZXJfb3V0ID0gTm9uZQogICAgICAgIGlmIHNlbGYubW9kZWwucHJvc29keV9lbmNvZGVyX21vZGVsIGlzIG5vdCBOb25lOgogICAgICAgICAgICBhc3NlcnQgcHJvc29keV9lbmNvZGVyX2lucHV0IGlzIG5vdCBOb25lCiAgICAgICAgICAgIHByb3NvZHlfaW5wdXRfc2VxcywgcHJvc29keV9wYWRkaW5nX21hc2sgPSBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrKAogICAgICAgICAgICAgICAgcHJvc29keV9lbmNvZGVyX2lucHV0CiAgICAgICAgICAgICkKICAgICAgICAgICAgcHJvc29keV9lbmNvZGVyX291dCA9IHNlbGYubW9kZWwucHJvc29keV9lbmNvZGVyX21vZGVsKAogICAgICAgICAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzLAogICAgICAgICAgICAgICAgcHJvc29keV9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgICkudW5zcXVlZXplKDEpCgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5tb2RlbC50MnVfbW9kZWwsIFVuaXRZVDJVTW9kZWwpOgogICAgICAgICAgICBhc3NlcnQgc2VsZi51bml0X2dlbmVyYXRvciBpcyBub3QgTm9uZQogICAgICAgICAgICBhc3NlcnQgc2VsZi51bml0X3ByZWZpeF9pbmRpY2VzIGlzIG5vdCBOb25lCgogICAgICAgICAgICAjIChTX3ByZSkgLT4gKE4sIFNfcHJlKQogICAgICAgICAgICBwcmVmaXhfc2VxcyA9IHNlbGYudW5pdF9wcmVmaXhfaW5kaWNlcy5leHBhbmQoZGVjb2Rlcl9vdXRwdXQuc2l6ZSgwKSwgLTEpCgogICAgICAgICAgICB1bml0X2dlbl9vdXRwdXQgPSBzZWxmLnVuaXRfZ2VuZXJhdG9yKAogICAgICAgICAgICAgICAgc291cmNlX3NlcXM9ZGVjb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgICAgICBzb3VyY2VfcGFkZGluZ19tYXNrPWRlY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICAgICAgcHJvbXB0X3NlcXM9cHJlZml4X3NlcXMsCiAgICAgICAgICAgICAgICBwcm9tcHRfcGFkZGluZ19tYXNrPU5vbmUsCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGFzc2VydCBzZWxmLm1vZGVsLnQydV9tb2RlbC50YXJnZXRfdm9jYWJfaW5mby5wYWRfaWR4IGlzIG5vdCBOb25lCgogICAgICAgICAgICB1bml0X3NlcV9saXN0ID0gW2hbMF0uc2VxIGZvciBoIGluIHVuaXRfZ2VuX291dHB1dC5oeXBvdGhlc2VzXQoKICAgICAgICAgICAgdW5pdF9zZXFzLCBfID0gcGFkX3NlcXMoCiAgICAgICAgICAgICAgICB1bml0X3NlcV9saXN0LCBzZWxmLm1vZGVsLnQydV9tb2RlbC50YXJnZXRfdm9jYWJfaW5mby5wYWRfaWR4CiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICB0MnVfbW9kZWxfb3V0cHV0LCBkZWNvZGVyX3BhZGRpbmdfbWFzaywgXyA9IHNlbGYubW9kZWwudDJ1X21vZGVsKAogICAgICAgICAgICAgICAgdGV4dF9kZWNvZGVyX291dHB1dD1kZWNvZGVyX291dHB1dCwKICAgICAgICAgICAgICAgIHRleHRfZGVjb2Rlcl9wYWRkaW5nX21hc2s9ZGVjb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgICAgICB0ZXh0X3NlcXM9dGV4dF9zZXFzLAogICAgICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yPWR1cmF0aW9uX2ZhY3RvciwKICAgICAgICAgICAgICAgIGZpbG1fY29uZF9lbWI9cHJvc29keV9lbmNvZGVyX291dCwKICAgICAgICAgICAgKQogICAgICAgICAgICAjIChCLCBTX3VuaXQsIFZfdW5pdCkKICAgICAgICAgICAgdW5pdF9zZXFzID0gdDJ1X21vZGVsX291dHB1dC5sb2dpdHMuYXJnbWF4KGRpbT0yKQogICAgICAgICAgICAjIEFwcGx5IHRoZSBwYWRkaW5nIG1hc2sgdG8gdGhlIGdlbmVyYXRlZCB1bml0cy4KICAgICAgICAgICAgdW5pdF9zZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKAogICAgICAgICAgICAgICAgdW5pdF9zZXFzLCBkZWNvZGVyX3BhZGRpbmdfbWFzaywgdDJ1X21vZGVsX291dHB1dC52b2NhYl9pbmZvLnBhZF9pZHgKICAgICAgICAgICAgKQoKICAgICAgICAjIENvbnZlcnQgdG8gc3BlZWNoIHVuaXRzLgogICAgICAgIHVuaXRzID0gc2VsZi51bml0X2RlY29kZXIodW5pdF9zZXFzKQoKICAgICAgICAjIG5ncmFtLWZpbHRlcmluZyBkb2Vzbid0IGFwcGx5IHRvIE5BUiB1bml0IGRlY29kaW5nLgogICAgICAgIGlmIG5ncmFtX2ZpbHRlcmluZyBhbmQgaXNpbnN0YW5jZShzZWxmLm1vZGVsLnQydV9tb2RlbCwgVW5pdFlUMlVNb2RlbCk6CiAgICAgICAgICAgIGlmIHVuaXRzLnNpemUoMCkgPiAxOgogICAgICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigKICAgICAgICAgICAgICAgICAgICAidW5pdCBuZ3JhbV9maWx0ZXJpbmcgaXMgbm90IGltcGxlbWVudGVkIGZvciBiYXRjaF9zaXplID4gMS4iCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGFyciA9IHJlbW92ZV9jb25zZWN1dGl2ZV9yZXBlYXRlZF9uZ3JhbXModW5pdHNbMF0udG9saXN0KCkpCiAgICAgICAgICAgIHVuaXRzID0gdG9yY2gudGVuc29yKGFycikudG8odW5pdHMpLnVuc3F1ZWV6ZSgwKQoKICAgICAgICByZXR1cm4gdGV4dHMsIHVuaXRzCg=='),
    ('seamless/build/lib/seamless_communication/inference/translator.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKaW1wb3J0IGxvZ2dpbmcKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZW51bSBpbXBvcnQgRW51bSwgYXV0bwpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIE9wdGlvbmFsLCBUdXBsZSwgVW5pb24sIGNhc3QKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4gYXMgbm4KZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IGFzc2V0X3N0b3JlCmZyb20gZmFpcnNlcTIuYXNzZXRzLmNhcmQgaW1wb3J0IEFzc2V0Q2FyZApmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IENvbGxhdGVyLCBTZXF1ZW5jZURhdGEsIFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi5kYXRhLmF1ZGlvIGltcG9ydCBBdWRpb0RlY29kZXIsIFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlcgpmcm9tIGZhaXJzZXEyLmRhdGEudGV4dCBpbXBvcnQgVGV4dFRva2VuaXplcgpmcm9tIGZhaXJzZXEyLm1lbW9yeSBpbXBvcnQgTWVtb3J5QmxvY2sKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBQYWRkaW5nTWFzaywgZ2V0X3NlcXNfYW5kX3BhZGRpbmdfbWFzawpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5pbmZlcmVuY2UuZ2VuZXJhdG9yIGltcG9ydCAoCiAgICBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMsCiAgICBVbml0WUdlbmVyYXRvciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5IGltcG9ydCAoCiAgICBVbml0VG9rZW5pemVyLAogICAgVW5pdFlNb2RlbCwKICAgIFVuaXRZTkFSVDJVTW9kZWwsCiAgICBVbml0WVQyVU1vZGVsLAogICAgbG9hZF91bml0eV9tb2RlbCwKICAgIGxvYWRfdW5pdHlfdGV4dF90b2tlbml6ZXIsCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyLAogICAgdW5pdHlfYXJjaHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy52b2NvZGVyIGltcG9ydCBsb2FkX3ZvY29kZXJfbW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5IGltcG9ydCAoCiAgICBFVE9YQmFkV29yZENoZWNrZXIsCiAgICBsb2FkX2V0b3hfYmFkX3dvcmRfY2hlY2tlciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24udG94aWNpdHkubWludG94IGltcG9ydCBtaW50b3hfcGlwZWxpbmUKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgVGFzayhFbnVtKToKICAgIFMyU1QgPSBhdXRvKCkKICAgIFMyVFQgPSBhdXRvKCkKICAgIFQyU1QgPSBhdXRvKCkKICAgIFQyVFQgPSBhdXRvKCkKICAgIEFTUiA9IGF1dG8oKQoKCmNsYXNzIE1vZGFsaXR5KEVudW0pOgogICAgU1BFRUNIID0gInNwZWVjaCIKICAgIFRFWFQgPSAidGV4dCIKCgpAZGF0YWNsYXNzCmNsYXNzIEJhdGNoZWRTcGVlY2hPdXRwdXQ6CiAgICB1bml0czogTGlzdFtMaXN0W2ludF1dCiAgICAiIiJUaGUgYmF0Y2hlZCBsaXN0IG9mIGdlbmVyYXRlZCB1bml0cy4iIiIKCiAgICBhdWRpb193YXZzOiBMaXN0W1RlbnNvcl0KICAgICIiIlRoZSBiYXRjaGVkIGxpc3Qgb2YgYXVkaW8gd2F2ZWZvcm1zLiIiIgoKICAgIHNhbXBsZV9yYXRlOiBpbnQgPSAxNjAwMAogICAgIiIiU2FtcGxlIHJhdGUgb2YgdGhlIGF1ZGlvIHdhdmVmb3Jtcy4iIiIKCgpjbGFzcyBUcmFuc2xhdG9yKG5uLk1vZHVsZSk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQ6IFVuaW9uW3N0ciwgQXNzZXRDYXJkXSwKICAgICAgICB2b2NvZGVyX25hbWVfb3JfY2FyZDogVW5pb25bc3RyLCBBc3NldENhcmQsIE5vbmVdLAogICAgICAgIGRldmljZTogRGV2aWNlLAogICAgICAgIHRleHRfdG9rZW5pemVyOiBPcHRpb25hbFtUZXh0VG9rZW5pemVyXSA9IE5vbmUsCiAgICAgICAgYXBwbHlfbWludG94OiBib29sID0gRmFsc2UsCiAgICAgICAgZHR5cGU6IERhdGFUeXBlID0gdG9yY2guZmxvYXQxNiwKICAgICAgICBpbnB1dF9tb2RhbGl0eTogT3B0aW9uYWxbTW9kYWxpdHldID0gTm9uZSwKICAgICAgICBvdXRwdXRfbW9kYWxpdHk6IE9wdGlvbmFsW01vZGFsaXR5XSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBpZiBpc2luc3RhbmNlKG1vZGVsX25hbWVfb3JfY2FyZCwgc3RyKToKICAgICAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkID0gYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChtb2RlbF9uYW1lX29yX2NhcmQpCgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG1vZGVsX25hbWVfb3JfY2FyZCwgQXNzZXRDYXJkKQoKICAgICAgICBpZiBpbnB1dF9tb2RhbGl0eSBvciBvdXRwdXRfbW9kYWxpdHk6CiAgICAgICAgICAgIHVuaXR5X2NvbmZpZyA9IHVuaXR5X2FyY2hzLmdldF9jb25maWcoCiAgICAgICAgICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQuZmllbGQoIm1vZGVsX2FyY2giKS5hc18oc3RyKQogICAgICAgICAgICApCiAgICAgICAgICAgICMgU2tpcCBsb2FkaW5nIHRoZSB0ZXh0IGVuY29kZXIuCiAgICAgICAgICAgIGlmIGlucHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICAgICAgICAgIHVuaXR5X2NvbmZpZy51c2VfdGV4dF9lbmNvZGVyID0gRmFsc2UKICAgICAgICAgICAgIyBTa2lwIGxvYWRpbmcgdGhlIFQyVSBtb2RlbC4KICAgICAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlRFWFQ6CiAgICAgICAgICAgICAgICB1bml0eV9jb25maWcudDJ1X2NvbmZpZyA9IE5vbmUKICAgICAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkLmZpZWxkKCJtb2RlbF9jb25maWciKS5zZXQodW5pdHlfY29uZmlnKQoKICAgICAgICAjIExvYWQgdGhlIG1vZGVsLgogICAgICAgIGlmIGRldmljZSA9PSB0b3JjaC5kZXZpY2UoImNwdSIpOgogICAgICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MzIKCiAgICAgICAgc2VsZi5tb2RlbCA9IGxvYWRfdW5pdHlfbW9kZWwobW9kZWxfbmFtZV9vcl9jYXJkLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKICAgICAgICBzZWxmLm1vZGVsLmV2YWwoKQogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHNlbGYubW9kZWwsIFVuaXRZTW9kZWwpCgogICAgICAgIGlmIHRleHRfdG9rZW5pemVyIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYudGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIgPSBsb2FkX3VuaXR5X3RleHRfdG9rZW5pemVyKAogICAgICAgICAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnRleHRfdG9rZW5pemVyID0gdGV4dF90b2tlbml6ZXIKCiAgICAgICAgc2VsZi51bml0X3Rva2VuaXplcjogT3B0aW9uYWxbVW5pdFRva2VuaXplcl0gPSBOb25lCiAgICAgICAgaWYgc2VsZi5tb2RlbC50MnVfbW9kZWwgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYudW5pdF90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyKG1vZGVsX25hbWVfb3JfY2FyZCkKCiAgICAgICAgc2VsZi5iYWRfd29yZF9jaGVja2VyOiBPcHRpb25hbFtFVE9YQmFkV29yZENoZWNrZXJdID0gTm9uZQogICAgICAgIGlmIGFwcGx5X21pbnRveDoKICAgICAgICAgICAgc2VsZi5iYWRfd29yZF9jaGVja2VyID0gbG9hZF9ldG94X2JhZF93b3JkX2NoZWNrZXIoIm1pbnRveCIpCgogICAgICAgIHNlbGYuYXBwbHlfbWludG94ID0gYXBwbHlfbWludG94CgogICAgICAgIHNlbGYuZGV2aWNlID0gZGV2aWNlCiAgICAgICAgc2VsZi5kZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWRldmljZSkKICAgICAgICBzZWxmLmNvbnZlcnRfdG9fZmJhbmsgPSBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoCiAgICAgICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgICAgIGNoYW5uZWxfbGFzdD1UcnVlLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1UcnVlLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCiAgICAgICAgc2VsZi5jb2xsYXRlID0gQ29sbGF0ZXIoCiAgICAgICAgICAgIHBhZF92YWx1ZT1zZWxmLnRleHRfdG9rZW5pemVyLnZvY2FiX2luZm8ucGFkX2lkeCBvciAwLCBwYWRfdG9fbXVsdGlwbGU9MgogICAgICAgICkKICAgICAgICBzZWxmLnZvY29kZXIgPSBOb25lCiAgICAgICAgaWYgdm9jb2Rlcl9uYW1lX29yX2NhcmQgaXMgbm90IE5vbmUgYW5kICgKICAgICAgICAgICAgb3V0cHV0X21vZGFsaXR5IGlzIE5vbmUgb3Igb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSAogICAgICAgICk6CiAgICAgICAgICAgIHNlbGYudm9jb2RlciA9IGxvYWRfdm9jb2Rlcl9tb2RlbCgKICAgICAgICAgICAgICAgIHZvY29kZXJfbmFtZV9vcl9jYXJkLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYudm9jb2Rlci5ldmFsKCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBnZXRfcHJlZGljdGlvbigKICAgICAgICBjbHMsCiAgICAgICAgbW9kZWw6IFVuaXRZTW9kZWwsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIsCiAgICAgICAgdW5pdF90b2tlbml6ZXI6IE9wdGlvbmFsW1VuaXRUb2tlbml6ZXJdLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBpbnB1dF9tb2RhbGl0eTogTW9kYWxpdHksCiAgICAgICAgb3V0cHV0X21vZGFsaXR5OiBNb2RhbGl0eSwKICAgICAgICB0Z3RfbGFuZzogc3RyLAogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzOiBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMsCiAgICAgICAgdW5pdF9nZW5lcmF0aW9uX29wdHM6IE9wdGlvbmFsW1NlcXVlbmNlR2VuZXJhdG9yT3B0aW9uc10sCiAgICAgICAgdW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZzogYm9vbCA9IEZhbHNlLAogICAgICAgIGR1cmF0aW9uX2ZhY3RvcjogZmxvYXQgPSAxLjAsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2lucHV0OiBPcHRpb25hbFtTZXF1ZW5jZURhdGFdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbTGlzdFtTdHJpbmdMaWtlXSwgT3B0aW9uYWxbVGVuc29yXV06CiAgICAgICAgIyBXZSBkaXNyZWdhcmQgdW5pdCBnZW5lcmF0aW9ucyBvcHRzIGZvciB0aGUgTkFSIFQyVSBkZWNvZGVyLgogICAgICAgIGlmIG91dHB1dF9tb2RhbGl0eSAhPSBNb2RhbGl0eS5TUEVFQ0ggb3IgaXNpbnN0YW5jZSgKICAgICAgICAgICAgbW9kZWwudDJ1X21vZGVsLCBVbml0WU5BUlQyVU1vZGVsCiAgICAgICAgKToKICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBOb25lCgogICAgICAgIGdlbmVyYXRvciA9IFVuaXRZR2VuZXJhdG9yKAogICAgICAgICAgICBtb2RlbCwKICAgICAgICAgICAgdGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgIHRndF9sYW5nLAogICAgICAgICAgICB1bml0X3Rva2VuaXplciBpZiBvdXRwdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIIGVsc2UgTm9uZSwKICAgICAgICAgICAgdGV4dF9vcHRzPXRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICB1bml0X29wdHM9dW5pdF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gZ2VuZXJhdG9yKAogICAgICAgICAgICBzZXFzLAogICAgICAgICAgICBwYWRkaW5nX21hc2ssCiAgICAgICAgICAgIGlucHV0X21vZGFsaXR5LnZhbHVlLAogICAgICAgICAgICBvdXRwdXRfbW9kYWxpdHkudmFsdWUsCiAgICAgICAgICAgIG5ncmFtX2ZpbHRlcmluZz11bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgICAgICBkdXJhdGlvbl9mYWN0b3I9ZHVyYXRpb25fZmFjdG9yLAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9cHJvc29keV9lbmNvZGVyX2lucHV0LAogICAgICAgICkKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgZ2V0X21vZGFsaXRpZXNfZnJvbV90YXNrX3N0cih0YXNrX3N0cjogc3RyKSAtPiBUdXBsZVtNb2RhbGl0eSwgTW9kYWxpdHldOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGFzayA9IFRhc2tbdGFza19zdHIudXBwZXIoKV0KICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJVbnN1cHBvcnRlZCB0YXNrOiB7dGFza19zdHJ9IikKCiAgICAgICAgaWYgdGFzayA9PSBUYXNrLlMyU1Q6CiAgICAgICAgICAgIHJldHVybiBNb2RhbGl0eS5TUEVFQ0gsIE1vZGFsaXR5LlNQRUVDSAogICAgICAgICMgQVNSIGlzIHRyZWF0ZWQgYXMgUzJUVCB3aXRoIHNyY19sYW5nID09IHRndF9sYW5nCiAgICAgICAgZWxpZiB0YXNrID09IFRhc2suUzJUVCBvciB0YXNrID09IFRhc2suQVNSOgogICAgICAgICAgICByZXR1cm4gTW9kYWxpdHkuU1BFRUNILCBNb2RhbGl0eS5URVhUCiAgICAgICAgZWxpZiB0YXNrID09IFRhc2suVDJUVDoKICAgICAgICAgICAgcmV0dXJuIE1vZGFsaXR5LlRFWFQsIE1vZGFsaXR5LlRFWFQKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gTW9kYWxpdHkuVEVYVCwgTW9kYWxpdHkuU1BFRUNICgogICAgQHRvcmNoLmluZmVyZW5jZV9tb2RlKCkKICAgIGRlZiBwcmVkaWN0KAogICAgICAgIHNlbGYsCiAgICAgICAgaW5wdXQ6IFVuaW9uW3N0ciwgVGVuc29yLCBTZXF1ZW5jZURhdGFdLAogICAgICAgIHRhc2tfc3RyOiBzdHIsCiAgICAgICAgdGd0X2xhbmc6IHN0ciwKICAgICAgICBzcmNfbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHM6IE9wdGlvbmFsW1NlcXVlbmNlR2VuZXJhdG9yT3B0aW9uc10gPSBOb25lLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzOiBPcHRpb25hbFtTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdID0gTm9uZSwKICAgICAgICBzcGtyOiBPcHRpb25hbFtpbnRdID0gLTEsCiAgICAgICAgc2FtcGxlX3JhdGU6IGludCA9IDE2MDAwLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc6IGJvb2wgPSBGYWxzZSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dDogT3B0aW9uYWxbU2VxdWVuY2VEYXRhXSA9IE5vbmUsCiAgICAgICAgc3JjX3RleHQ6IE9wdGlvbmFsW1N0cmluZ0xpa2VdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbTGlzdFtTdHJpbmdMaWtlXSwgT3B0aW9uYWxbQmF0Y2hlZFNwZWVjaE91dHB1dF1dOgogICAgICAgICIiIgogICAgICAgIFRoZSBtYWluIG1ldGhvZCB1c2VkIHRvIHBlcmZvcm0gaW5mZXJlbmNlIG9uIGFsbCB0YXNrcy4KCiAgICAgICAgOnBhcmFtIGlucHV0OgogICAgICAgICAgICBFaXRoZXIgdGV4dCBvciBwYXRoIHRvIGF1ZGlvIG9yIGF1ZGlvIFRlbnNvci4KICAgICAgICA6cGFyYW0gdGFza19zdHI6CiAgICAgICAgICAgIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHRhc2suCiAgICAgICAgICAgIFZhbGlkIGNob2ljZXMgYXJlICJTMlNUIiwgIlMyVFQiLCAiVDJTVCIsICJUMlRUIiwgIkFTUiIKICAgICAgICA6cGFyYW0gdGd0X2xhbmc6CiAgICAgICAgICAgIFRhcmdldCBsYW5ndWFnZSB0byBkZWNvZGUgaW50by4KICAgICAgICA6cGFyYW0gc3JjX2xhbmc6CiAgICAgICAgICAgIFNvdXJjZSBsYW5ndWFnZSBvZiBpbnB1dCwgb25seSByZXF1aXJlZCBmb3IgVDJTVCwgVDJUVCB0YXNrcy4KICAgICAgICA6cGFyYW0gdGV4dF9nZW5lcmF0aW9uX29wdHM6CiAgICAgICAgICAgIFRleHQgZ2VuZXJhdGlvbiBoeXBlcnBhcmFtZXRlcnMgZm9yIGluY3JlbWVudGFsIGRlY29kaW5nLgogICAgICAgIDpwYXJhbSB1bml0X2dlbmVyYXRpb25fb3B0czoKICAgICAgICAgICAgVW5pdCBnZW5lcmF0aW9uIGh5cGVycGFyYW1ldGVycyBmb3IgaW5jcmVtZW50YWwgZGVjb2RpbmcuCiAgICAgICAgOnBhcmFtIHNwa3I6CiAgICAgICAgICAgIFNwZWFrZXIgaWQgZm9yIHZvY29kZXIuCiAgICAgICAgOnBhcmFtIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc6CiAgICAgICAgICAgIElmIFRydWUsIHJlbW92ZXMgY29uc2VjdXRpdmUgcmVwZWF0ZWQgbmdyYW1zCiAgICAgICAgICAgIGZyb20gdGhlIGRlY29kZWQgdW5pdCBvdXRwdXQuCiAgICAgICAgOnBhcmFtIHNyY190ZXh0OgogICAgICAgICAgICBPcHRpb25hbCBzb3VyY2UgdHJhbnNjcmlwdCAob2J0YWluZWQgYnkgQVNSIGZvciBpbnN0YW5jZSkuIFRoaXMgaXMgdXNlZCBmb3IKICAgICAgICAgICAgYXBwbHlpbmcgbWludG94IHRveGljaXR5IG1pdGlnYXRpb24uIElmIHRoaXMgaXMgbm90IHNwZWNpZnkgYW5kIGFwcGx5X21pbnRveD1UcnVlCiAgICAgICAgICAgIHRoZW4gc3JjX2xhbmcgbXVzdCBiZSBzcGVjaWZpZWQgYW5kIEFTUiB3aWxsIGJlIHJ1biBvbiB0aGUgYXVkaW8gc291cmNlLgoKICAgICAgICA6cmV0dXJuczoKICAgICAgICAgICAgLSBCYXRjaGVkIGxpc3Qgb2YgVHJhbnNsYXRlZCB0ZXh0LgogICAgICAgICAgICAtIFRyYW5zbGF0ZWQgQmF0Y2hlZFNwZWVjaE91dHB1dC4KICAgICAgICAiIiIKICAgICAgICBpbnB1dF9tb2RhbGl0eSwgb3V0cHV0X21vZGFsaXR5ID0gc2VsZi5nZXRfbW9kYWxpdGllc19mcm9tX3Rhc2tfc3RyKHRhc2tfc3RyKQoKICAgICAgICBpZiBzZWxmLmFwcGx5X21pbnRveCBhbmQgbm90IChzcmNfbGFuZyBpcyBub3QgTm9uZSBvciBzcmNfdGV4dCBpcyBub3QgTm9uZSk6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICAiYHNyY19sYW5nYCBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGBhcHBseV9taW50b3hgIGlzIGBUcnVlYCBvciB5b3UgbmVlZCB0byBzcGVjaWZ5IHNyY190ZXh0LiIKICAgICAgICAgICAgKQoKICAgICAgICBpZiBpc2luc3RhbmNlKGlucHV0LCBkaWN0KToKICAgICAgICAgICAgc3JjID0gY2FzdChTZXF1ZW5jZURhdGEsIGlucHV0KQogICAgICAgIGVsaWYgaW5wdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgICAgICBhdWRpbyA9IGlucHV0CiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoYXVkaW8sIHN0cik6CiAgICAgICAgICAgICAgICB3aXRoIFBhdGgoYXVkaW8pLm9wZW4oInJiIikgYXMgZmI6CiAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSBNZW1vcnlCbG9jayhmYi5yZWFkKCkpCiAgICAgICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gc2VsZi5kZWNvZGVfYXVkaW8oYmxvY2spCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhc3NlcnQgKAogICAgICAgICAgICAgICAgICAgIGF1ZGlvLmRpbSgpIDw9IDIKICAgICAgICAgICAgICAgICksICJUaGUgYXVkaW8gdGVuc29yIGNhbid0IGJlIG1vcmUgdGhhbiAyIGRpbWVuc2lvbnMuIgogICAgICAgICAgICAgICAgaWYgYXVkaW8uZGltKCkgPT0gMToKICAgICAgICAgICAgICAgICAgICBhdWRpbyA9IGF1ZGlvLnVuc3F1ZWV6ZSgxKQogICAgICAgICAgICAgICAgZWxpZiBhdWRpby5kaW0oKSA9PSAyIGFuZCBhdWRpby5zaXplKDApIDwgYXVkaW8uc2l6ZSgxKToKICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybmluZygKICAgICAgICAgICAgICAgICAgICAgICAgIlRyYW5zcG9zaW5nIGF1ZGlvIHRlbnNvciBmcm9tIChic3osIHNlcV9sZW4pIC0+IChzZXFfbGVuLCBic3opLiIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgYXVkaW8gPSBhdWRpby50cmFuc3Bvc2UoMCwgMSkKCiAgICAgICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gewogICAgICAgICAgICAgICAgICAgICJ3YXZlZm9ybSI6IGF1ZGlvLAogICAgICAgICAgICAgICAgICAgICJzYW1wbGVfcmF0ZSI6IHNhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAtMSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgc3JjID0gc2VsZi5jb2xsYXRlKHNlbGYuY29udmVydF90b19mYmFuayhkZWNvZGVkX2F1ZGlvKSlbImZiYW5rIl0KICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBzcmNfbGFuZyBpcyBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigic3JjX2xhbmcgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIFQyU1QsIFQyVFQgdGFza3MuIikKCiAgICAgICAgICAgIHRleHQgPSBpbnB1dAogICAgICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZSh0ZXh0LCBzdHIpCgogICAgICAgICAgICBzZWxmLnRva2VuX2VuY29kZXIgPSBzZWxmLnRleHRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKAogICAgICAgICAgICAgICAgdGFzaz0idHJhbnNsYXRpb24iLCBsYW5nPXNyY19sYW5nLCBtb2RlPSJzb3VyY2UiLCBkZXZpY2U9c2VsZi5kZXZpY2UKICAgICAgICAgICAgKQogICAgICAgICAgICBzcmMgPSBzZWxmLmNvbGxhdGUoc2VsZi50b2tlbl9lbmNvZGVyKHRleHQpKQoKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShzZWxmLm1vZGVsLCBVbml0WU1vZGVsKQoKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrKHNyYykKCiAgICAgICAgaWYgdGV4dF9nZW5lcmF0aW9uX29wdHMgaXMgTm9uZToKICAgICAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICAgICAgICAgICAgICBiZWFtX3NpemU9NSwgc29mdF9tYXhfc2VxX2xlbj0oMSwgMjAwKQogICAgICAgICAgICApCiAgICAgICAgaWYgdW5pdF9nZW5lcmF0aW9uX29wdHMgaXMgTm9uZToKICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICAgICAgICAgICAgICBiZWFtX3NpemU9NSwgc29mdF9tYXhfc2VxX2xlbj0oMjUsIDUwKQogICAgICAgICAgICApCgogICAgICAgIHRleHRzLCB1bml0cyA9IHNlbGYuZ2V0X3ByZWRpY3Rpb24oCiAgICAgICAgICAgIHNlbGYubW9kZWwsCiAgICAgICAgICAgIHNlbGYudGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgIHNlbGYudW5pdF90b2tlbml6ZXIsCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgaW5wdXRfbW9kYWxpdHksCiAgICAgICAgICAgIG91dHB1dF9tb2RhbGl0eSwKICAgICAgICAgICAgdGd0X2xhbmcsCiAgICAgICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICB1bml0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZz11bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgICAgICBkdXJhdGlvbl9mYWN0b3I9ZHVyYXRpb25fZmFjdG9yLAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9cHJvc29keV9lbmNvZGVyX2lucHV0LAogICAgICAgICkKCiAgICAgICAgaWYgc2VsZi5hcHBseV9taW50b3ggYW5kIHRhc2tfc3RyICE9IFRhc2suQVNSLm5hbWU6CiAgICAgICAgICAgIGlmIGlucHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICAgICAgICAgIGlmIHNyY190ZXh0IGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIHNyY190ZXh0cyA9IFtzcmNfdGV4dF0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgc3JjX3RleHRzLCBfLCA9IHNlbGYucHJlZGljdCgKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ9aW5wdXQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tfc3RyPVRhc2suQVNSLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRndF9sYW5nPXRndF9sYW5nLAogICAgICAgICAgICAgICAgICAgICAgICBzcmNfbGFuZz1zcmNfbGFuZywKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHM9dGV4dF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICAgICAgICAgICAgICBzcGtyPXNwa3IsCiAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgICAgICAgICB1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPXVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmcsCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UoaW5wdXQsIHN0cikKCiAgICAgICAgICAgICAgICBzcmNfdGV4dHMgPSBbaW5wdXRdCgogICAgICAgICAgICBhc3NlcnQgc3JjX2xhbmcgaXMgbm90IE5vbmUKICAgICAgICAgICAgYXNzZXJ0IHNlbGYudW5pdF90b2tlbml6ZXIgaXMgbm90IE5vbmUKICAgICAgICAgICAgYXNzZXJ0IHNlbGYuYmFkX3dvcmRfY2hlY2tlciBpcyBub3QgTm9uZQoKICAgICAgICAgICAgdGV4dHMsIHVuaXRzID0gbWludG94X3BpcGVsaW5lKAogICAgICAgICAgICAgICAgbW9kZWw9c2VsZi5tb2RlbCwKICAgICAgICAgICAgICAgIHRleHRfdG9rZW5pemVyPXNlbGYudGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgICAgICB1bml0X3Rva2VuaXplcj1zZWxmLnVuaXRfdG9rZW5pemVyLAogICAgICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICAgICAgc3JjX2xhbmc9c3JjX2xhbmcsCiAgICAgICAgICAgICAgICB0Z3RfbGFuZz10Z3RfbGFuZywKICAgICAgICAgICAgICAgIG1vZGVsX2lucHV0PXNyYywKICAgICAgICAgICAgICAgIGlucHV0X21vZGFsaXR5PWlucHV0X21vZGFsaXR5LAogICAgICAgICAgICAgICAgb3V0cHV0X21vZGFsaXR5PW91dHB1dF9tb2RhbGl0eSwKICAgICAgICAgICAgICAgIHNyY190ZXh0cz1zcmNfdGV4dHMsCiAgICAgICAgICAgICAgICBvcmlnaW5hbF90ZXh0cz10ZXh0cywKICAgICAgICAgICAgICAgIG9yaWdpbmFsX3VuaXRzPXVuaXRzLAogICAgICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZz11bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgICAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHM9dGV4dF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgICAgICAgICB1bml0X2dlbmVyYXRpb25fb3B0cz11bml0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICAgICAgICAgIGJhZF93b3JkX2NoZWNrZXI9c2VsZi5iYWRfd29yZF9jaGVja2VyLAogICAgICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yPWR1cmF0aW9uX2ZhY3RvciwKICAgICAgICAgICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dD1wcm9zb2R5X2VuY29kZXJfaW5wdXQsCiAgICAgICAgICAgICkKCiAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlRFWFQ6CiAgICAgICAgICAgIHJldHVybiB0ZXh0cywgTm9uZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFzc2VydCB1bml0cyBpcyBub3QgTm9uZQoKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLm1vZGVsLnQydV9tb2RlbCwgVW5pdFlUMlVNb2RlbCk6CiAgICAgICAgICAgICAgICAjIFJlbW92ZSB0aGUgbGFuZyB0b2tlbiBmb3IgQVIgVW5pdFkgc2luY2UgdGhlIHZvY29kZXIgZG9lc24ndCBuZWVkIGl0CiAgICAgICAgICAgICAgICAjIGluIHRoZSB1bml0IHNlcXVlbmNlLiB0Z3RfbGFuZyBpcyBmZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHZvY29kZXIuCiAgICAgICAgICAgICAgICB1bml0cyA9IHVuaXRzWzosIDE6XQogICAgICAgICAgICAgICAgZHVyYXRpb25fcHJlZGljdGlvbiA9IFRydWUKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICMgVm9jb2RlciBkdXJhdGlvbiBwcmVkaWN0aW9ucyBub3QgcmVxdWlyZWQgc2luY2UgdGhlIE5BUgogICAgICAgICAgICAgICAgIyBUMlUgbW9kZWwgYWxyZWFkeSBwcmVkaWN0cyBkdXJhdGlvbiBpbiB0aGUgdW5pdHMuCiAgICAgICAgICAgICAgICBkdXJhdGlvbl9wcmVkaWN0aW9uID0gRmFsc2UKCiAgICAgICAgICAgIGF1ZGlvX3dhdnMgPSBbXQogICAgICAgICAgICBzcGVlY2hfdW5pdHMgPSBbXQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4odW5pdHMpKToKICAgICAgICAgICAgICAgIGFzc2VydCBzZWxmLm1vZGVsLnQydV9tb2RlbCBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgdW5pdF9wYWRkaW5nX21hc2sgPSAoCiAgICAgICAgICAgICAgICAgICAgdW5pdHNbaV0gIT0gc2VsZi5tb2RlbC50MnVfbW9kZWwudGFyZ2V0X3ZvY2FiX2luZm8ucGFkX2lkeAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdSA9IHVuaXRzW2ldW3VuaXRfcGFkZGluZ19tYXNrXQogICAgICAgICAgICAgICAgc3BlZWNoX3VuaXRzLmFwcGVuZCh1LnRvbGlzdCgpKQoKICAgICAgICAgICAgaWYgc2VsZi52b2NvZGVyIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgdHJhbnNsYXRlZF9hdWRpb193YXYgPSBzZWxmLnZvY29kZXIoCiAgICAgICAgICAgICAgICAgICAgdW5pdHMsIHRndF9sYW5nLCBzcGtyLCBkdXJfcHJlZGljdGlvbj1kdXJhdGlvbl9wcmVkaWN0aW9uCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4odW5pdHMpKToKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nX3JlbW92ZWRfYXVkaW9fd2F2ID0gdHJhbnNsYXRlZF9hdWRpb193YXZbCiAgICAgICAgICAgICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgICAgICAgICAgIDosCiAgICAgICAgICAgICAgICAgICAgICAgIDogaW50KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlZF9hdWRpb193YXYuc2l6ZSgtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGVuKHNwZWVjaF91bml0c1tpXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gbGVuKHVuaXRzW2ldKQogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIF0udW5zcXVlZXplKDApCiAgICAgICAgICAgICAgICAgICAgYXVkaW9fd2F2cy5hcHBlbmQocGFkZGluZ19yZW1vdmVkX2F1ZGlvX3dhdikKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIHRleHRzLAogICAgICAgICAgICAgICAgQmF0Y2hlZFNwZWVjaE91dHB1dCgKICAgICAgICAgICAgICAgICAgICB1bml0cz1zcGVlY2hfdW5pdHMsCiAgICAgICAgICAgICAgICAgICAgYXVkaW9fd2F2cz1hdWRpb193YXZzLAogICAgICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKQo='),
    ('seamless/build/lib/seamless_communication/cli/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/build/lib/seamless_communication/cli/expressivity/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUu'),
    ('seamless/build/lib/seamless_communication/cli/expressivity/data/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUu'),
    ('seamless/build/lib/seamless_communication/cli/expressivity/data/prepare_mexpresso.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCiIiIgpTY3JpcHQgdG8gY3JlYXRlIG1FeHByZXNzbyBFbmctWFhYIFMyVCBkYXRhc2V0LgoiIiIKCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgbXVsdGlwcm9jZXNzaW5nIGFzIG1wCmltcG9ydCBvcwppbXBvcnQgcGFuZGFzIGFzIHBkCmltcG9ydCBwYXRobGliCmltcG9ydCByZQppbXBvcnQgc2VhbWxlc3NfY29tbXVuaWNhdGlvbiAgIyBuZWVkIHRoaXMgdG8gbG9hZCBkYXRhc2V0IGNhcmRzCmltcG9ydCB0b3JjaGF1ZGlvCgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0cWRtIGltcG9ydCB0cWRtCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcgoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgbXVsdGlwcm9jZXNzX21hcCgKICAgIGFfbGlzdDogbGlzdCwKICAgIGZ1bmM6IGNhbGxhYmxlLAogICAgbl93b3JrZXJzOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgIGNodW5rc2l6ZTogaW50ID0gMSwKICAgIGRlc2M9Tm9uZSwKKToKICAgIGlmIG5fd29ya2VycyBpcyBOb25lOgogICAgICAgIG5fd29ya2VycyA9IG1wLmNwdV9jb3VudCgpCiAgICBuX3dvcmtlcnMgPSBtaW4obl93b3JrZXJzLCBtcC5jcHVfY291bnQoKSkKICAgIHdpdGggbXAuZ2V0X2NvbnRleHQoInNwYXduIikuUG9vbChwcm9jZXNzZXM9bl93b3JrZXJzKSBhcyBwb29sOgogICAgICAgIHJlc3VsdHMgPSBsaXN0KAogICAgICAgICAgICB0cWRtKAogICAgICAgICAgICAgICAgcG9vbC5pbWFwKGZ1bmMsIGFfbGlzdCwgY2h1bmtzaXplPWNodW5rc2l6ZSksCiAgICAgICAgICAgICAgICB0b3RhbD1sZW4oYV9saXN0KSwKICAgICAgICAgICAgICAgIGRlc2M9ZGVzYywKICAgICAgICAgICAgKQogICAgICAgICkKICAgIHJldHVybiByZXN1bHRzCgoKZGVmIGNvbnZlcnRfdG9fMTZraHpfd2F2KGNvbmZpZzogVHVwbGVbc3RyLCBzdHJdKSAtPiBzdHI6CiAgICBpbnB1dF9hdWRpbywgb3V0cHV0X2F1ZGlvID0gY29uZmlnCiAgICBpbnB1dF93YXYsIGlucHV0X3NyID0gdG9yY2hhdWRpby5sb2FkKGlucHV0X2F1ZGlvKQogICAgZWZmZWN0cyA9IFsKICAgICAgICBbInJhdGUiLCAiMTYwMDAiXSwKICAgICAgICBbImNoYW5uZWxzIiwgIjEiXSwKICAgIF0KICAgIHdhdiwgXyA9IHRvcmNoYXVkaW8uc294X2VmZmVjdHMuYXBwbHlfZWZmZWN0c190ZW5zb3IoCiAgICAgICAgaW5wdXRfd2F2LCBpbnB1dF9zciwgZWZmZWN0cz1lZmZlY3RzCiAgICApCiAgICBvcy5tYWtlZGlycyhQYXRoKG91dHB1dF9hdWRpbykucGFyZW50LCBleGlzdF9vaz1UcnVlKQogICAgdG9yY2hhdWRpby5zYXZlKAogICAgICAgIG91dHB1dF9hdWRpbywgd2F2LCBzYW1wbGVfcmF0ZT0xNjAwMCwgZW5jb2Rpbmc9IlBDTV9TIiwgYml0c19wZXJfc2FtcGxlPTE2CiAgICApCiAgICByZXR1cm4gb3V0cHV0X2F1ZGlvCgoKZGVmIGJ1aWxkX2VuX21hbmlmZXN0X2Zyb21fb3NzKG9zc19yb290OiBQYXRoLCBvdXRwdXRfZm9sZGVyOiBQYXRoKSAtPiBwZC5EYXRhRnJhbWU6CiAgICAjIFdlIG9ubHkgb3BlbiBzb3VyY2UgdGhlIGZvbGxvd2luZyBzdHlsZXMKICAgIFdISVRFTElTVF9TVFlMRSA9IFsKICAgICAgICAiZGVmYXVsdCIsCiAgICAgICAgImRlZmF1bHRfZW1waGFzaXMiLAogICAgICAgICJkZWZhdWx0X2Vzc2VudGlhbHMiLAogICAgICAgICJjb25mdXNlZCIsCiAgICAgICAgImhhcHB5IiwKICAgICAgICAic2FkIiwKICAgICAgICAiZW51bmNpYXRlZCIsCiAgICAgICAgIndoaXNwZXIiLAogICAgICAgICJsYXVnaGluZyIsCiAgICBdCgogICAgcmVzdWx0cyA9IFtdCiAgICB3aXRoIG9wZW4ob3NzX3Jvb3QgLyAicmVhZF90cmFuc2NyaXB0aW9ucy50eHQiKSBhcyBmaW46CiAgICAgICAgZm9yIGxpbmUgaW4gZmluOgogICAgICAgICAgICB1aWQsIHRleHQgPSBsaW5lLnN0cmlwKCkuc3BsaXQoIlx0IikKICAgICAgICAgICAgc3BzID0gdWlkLnNwbGl0KCJfIikKICAgICAgICAgICAgb3NzX3NwZWFrZXIgPSBzcHNbMF0KICAgICAgICAgICAgc3R5bGUgPSAiXyIuam9pbihzcHNbMTotMV0pCiAgICAgICAgICAgIGJhc2Vfc3R5bGUgPSBzdHlsZS5zcGxpdCgiXyIpWzBdCiAgICAgICAgICAgIGlmIHN0eWxlIG5vdCBpbiBXSElURUxJU1RfU1RZTEU6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAjIE5vcm1hbGl6ZSB0aGUgdGV4dCB0byByZW1vdmUgPGxhdWdoPiBhbmQgPGJyZWF0aD4gZXRjCiAgICAgICAgICAgIHRleHQgPSByZS5zdWIociIgPC4qPz4iLCAiIiwgdGV4dCkKICAgICAgICAgICAgdGV4dCA9IHJlLnN1YihyIjwuKj8+ICIsICIiLCB0ZXh0KQogICAgICAgICAgICByZXN1bHRzLmFwcGVuZCgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiaWQiOiB1aWQsCiAgICAgICAgICAgICAgICAgICAgInNwZWFrZXIiOiBvc3Nfc3BlYWtlciwKICAgICAgICAgICAgICAgICAgICAidGV4dCI6IHRleHQsCiAgICAgICAgICAgICAgICAgICAgIm9yaWdfYXVkaW8iOiAoCiAgICAgICAgICAgICAgICAgICAgICAgIG9zc19yb290CiAgICAgICAgICAgICAgICAgICAgICAgIC8gImF1ZGlvXzQ4a2h6IgogICAgICAgICAgICAgICAgICAgICAgICAvICJyZWFkIgogICAgICAgICAgICAgICAgICAgICAgICAvIG9zc19zcGVha2VyCiAgICAgICAgICAgICAgICAgICAgICAgIC8gYmFzZV9zdHlsZQogICAgICAgICAgICAgICAgICAgICAgICAvICJiYXNlIgogICAgICAgICAgICAgICAgICAgICAgICAvIGYie3VpZH0ud2F2IgogICAgICAgICAgICAgICAgICAgICkuYXNfcG9zaXgoKSwKICAgICAgICAgICAgICAgICAgICAibGFiZWwiOiBzdHlsZSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQoKICAgIGRmID0gcGQuRGF0YUZyYW1lKHJlc3VsdHMpCgogICAgIyBTYW5pdHkgY2hlY2tzCiAgICAjIENoZWNrIDE6IGF1ZGlvIGZpbGVzIGV4aXN0cwogICAgb3JpZ19hdWRpb19leGlzdHMgPSBkZlsib3JpZ19hdWRpbyJdLmFwcGx5KGxhbWJkYSB4OiBvcy5wYXRoLmlzZmlsZSh4KSkKICAgIGFzc2VydCBhbGwob3JpZ19hdWRpb19leGlzdHMpLCBkZlt+b3JpZ19hdWRpb19leGlzdHNdLmlsb2NbMF1bIm9yaWdfYXVkaW8iXQoKICAgICMgQ29udmVydCA0OGtIeiAtPiAxNmtIegogICAgdGFyZ2V0X2F1ZGlvX3Jvb3QgPSBvdXRwdXRfZm9sZGVyIC8gImF1ZGlvXzE2a2h6X3dhdiIKICAgIG9zLm1ha2VkaXJzKHRhcmdldF9hdWRpb19yb290LCBleGlzdF9vaz1UcnVlKQogICAgaW5wdXRfb3V0cHV0X2F1ZGlvcyA9IFsKICAgICAgICAoCiAgICAgICAgICAgIHJvd1sib3JpZ19hdWRpbyJdLAogICAgICAgICAgICAodGFyZ2V0X2F1ZGlvX3Jvb3QgLyByb3dbInNwZWFrZXIiXSAvIChyb3dbImlkIl0gKyAiLndhdiIpKS5hc19wb3NpeCgpLAogICAgICAgICkKICAgICAgICBmb3IgaSwgcm93IGluIGRmLml0ZXJyb3dzKCkKICAgIF0KICAgIGxvZ2dlci5pbmZvKCJjb252ZXJ0aW5nIGZyb20gNDhraHogdG8gbW9ubyAxNmtoeiIpCiAgICBtdWx0aXByb2Nlc3NfbWFwKGlucHV0X291dHB1dF9hdWRpb3MsIGNvbnZlcnRfdG9fMTZraHpfd2F2LCBjaHVua3NpemU9NTApCiAgICBkZi5sb2NbOiwgImF1ZGlvIl0gPSBbb3V0cHV0X2F1ZGlvIGZvciBfLCBvdXRwdXRfYXVkaW8gaW4gaW5wdXRfb3V0cHV0X2F1ZGlvc10KICAgIGF1ZGlvX2V4aXN0cyA9IGRmWyJhdWRpbyJdLmFwcGx5KGxhbWJkYSB4OiBvcy5wYXRoLmlzZmlsZSh4KSkKICAgIGFzc2VydCBhbGwoYXVkaW9fZXhpc3RzKSwgZGZbfmF1ZGlvX2V4aXN0c10uaWxvY1swXVsiYXVkaW8iXQogICAgb3V0cHV0X21hbmlmZXN0ID0gZiJ7b3V0cHV0X2ZvbGRlcn0vZW5fbWFuaWZlc3QudHN2IgogICAgZGYudG9fY3N2KG91dHB1dF9tYW5pZmVzdCwgc2VwPSJcdCIsIHF1b3Rpbmc9MywgaW5kZXg9Tm9uZSkKICAgIGxvZ2dlci5pbmZvKGYiT3V0cHV0IHtsZW4oZGYpfSByb3dzIHRvIHtvdXRwdXRfbWFuaWZlc3R9IikKICAgIHJldHVybiBkZgoKCmRlZiBtYWluKCkgLT4gTm9uZToKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgICAgIGRlc2NyaXB0aW9uPSJQcmVwYXJlIG1FeHByZXNzbyBFbmctWFhYIFMyVCBtYW5pZmVzdCIKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIm91dHB1dF9mb2xkZXIiLAogICAgICAgIHR5cGU9bGFtYmRhIHA6IHBhdGhsaWIuUGF0aChwKS5yZXNvbHZlKCksICAjIGFsd2F5cyBjb252ZXJ0IHRvIGFic29sdXRlIHBhdGgKICAgICAgICBoZWxwPSJPdXRwdXQgZm9sZGVyIGZvciB0aGUgZG93bnNhbXBsZWQgRXhwcmVzc28gRW4gYXVkaW9zIGFuZCBjb21iaW5lZCBtYW5pZmVzdC4gIgogICAgICAgICJUaGUgb3V0cHV0IGZvbGRlciBwYXRoIHdpbGwgYmUgZXhwYW5kZWQgdG8gYWJzb2x1dGUgcGF0aC4iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1leGlzdGluZy1leHByZXNzby1yb290IiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJFeGlzdGluZyByb290IGZvbGRlciBpZiB5b3UgaGF2ZSBkb3dubG9hZGVkIEV4cHJlc3NvIGRhdGFzZXQuICIKICAgICAgICAiVGhlIGZvbGRlciBwYXRoIHNob3VsZCBpbmNsdWRlICdyZWFkX3RyYW5zY3JpcHRpb25zLnR4dCcgYW5kICdhdWRpb180OGtoeiciLAogICAgKQogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKCiAgICBtZXhwcmVzc29fY2FyZCA9IGFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQoIm1leHByZXNzb190ZXh0IikKICAgIG1leHByZXNzb19yb290X3BhdGggPSBkb3dubG9hZF9tYW5hZ2VyLmRvd25sb2FkX2RhdGFzZXQoCiAgICAgICAgbWV4cHJlc3NvX2NhcmQuZmllbGQoInVyaSIpLmFzX3VyaSgpLAogICAgICAgICJtRXhwcmVzc29fdGV4dCIsCiAgICApCiAgICBsb2dnZXIuaW5mbyhmIlRoZSBtRXhwcmVzc28gZGF0YXNldCBpcyBkb3dubG9hZGVkIHRvIHttZXhwcmVzc29fcm9vdF9wYXRofSIpCiAgICBtZXhwcmVzc29fcGF0aCA9IG1leHByZXNzb19yb290X3BhdGggLyAibWV4cHJlc3NvX3RleHQiCgogICAgIyBkb3duc2FtcGxlIGFsbCBFbmdsaXNoIHNwZWVjaAogICAgaWYgYXJncy5leGlzdGluZ19leHByZXNzb19yb290IGlzIG5vdCBOb25lOgogICAgICAgIGxvZ2dlci5pbmZvKAogICAgICAgICAgICBmIlJlLXVzZSB1c2VyIG1hbnVhbGx5IGRvd25sb2FkZWQgRXhwcmVzc28gZnJvbSB7YXJncy5leGlzdGluZ19leHByZXNzb19yb290fSIKICAgICAgICApCiAgICAgICAgZW5fZXhwcmVzc29fcGF0aCA9IFBhdGgoYXJncy5leGlzdGluZ19leHByZXNzb19yb290KQogICAgZWxzZToKICAgICAgICBlbl9leHByZXNzb19jYXJkID0gYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZCgiZXhwcmVzc28iKQogICAgICAgIGVuX2V4cHJlc3NvX3Jvb3RfcGF0aCA9IGRvd25sb2FkX21hbmFnZXIuZG93bmxvYWRfZGF0YXNldCgKICAgICAgICAgICAgZW5fZXhwcmVzc29fY2FyZC5maWVsZCgidXJpIikuYXNfdXJpKCksCiAgICAgICAgICAgICJFeHByZXNzbyIsCiAgICAgICAgKQogICAgICAgIGxvZ2dlci5pbmZvKAogICAgICAgICAgICBmIlRoZSBFbmdsaXNoIEV4cHJlc3NvIGRhdGFzZXQgaXMgZG93bmxvYWRlZCB0byB7ZW5fZXhwcmVzc29fcm9vdF9wYXRofSIKICAgICAgICApCiAgICAgICAgZW5fZXhwcmVzc29fcGF0aCA9IGVuX2V4cHJlc3NvX3Jvb3RfcGF0aCAvICJleHByZXNzbyIKICAgIGVuX2V4cHJlc3NvX2ZvbGRlciA9IGFyZ3Mub3V0cHV0X2ZvbGRlciAvICJFbl9FeHByZXNzbyIKICAgIGVuX2V4cHJlc3NvX2RmID0gYnVpbGRfZW5fbWFuaWZlc3RfZnJvbV9vc3MoCiAgICAgICAgUGF0aChlbl9leHByZXNzb19wYXRoKSwgZW5fZXhwcmVzc29fZm9sZGVyCiAgICApCgogICAgZm9yIHN1YnNldCBpbiBbImRldiIsICJ0ZXN0Il06CiAgICAgICAgZm9yIGxhbmcgaW4gWyJzcGEiLCAiZnJhIiwgIml0YSIsICJjbW4iLCAiZGV1Il06CiAgICAgICAgICAgIGRmID0gcGQucmVhZF9jc3YoCiAgICAgICAgICAgICAgICBmInttZXhwcmVzc29fcGF0aH0ve3N1YnNldH1fbWV4cHJlc3NvX3tsYW5nfS50c3YiLCBzZXA9Ilx0IiwgcXVvdGluZz0zCiAgICAgICAgICAgICkucmVuYW1lKGNvbHVtbnM9eyJ0ZXh0IjogInRndF90ZXh0In0pCiAgICAgICAgICAgIG51bV9yZWxlYXNlZF9pdGVtcyA9IGxlbihkZikKICAgICAgICAgICAgZGYgPSBkZi5tZXJnZSgKICAgICAgICAgICAgICAgIGVuX2V4cHJlc3NvX2RmLnJlbmFtZSgKICAgICAgICAgICAgICAgICAgICBjb2x1bW5zPXsKICAgICAgICAgICAgICAgICAgICAgICAgInRleHQiOiAic3JjX3RleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAiYXVkaW8iOiAic3JjX2F1ZGlvIiwKICAgICAgICAgICAgICAgICAgICAgICAgInNwZWFrZXIiOiAic3JjX3NwZWFrZXIiLAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBvbj0iaWQiLAogICAgICAgICAgICAgICAgaG93PSJpbm5lciIsCiAgICAgICAgICAgICkKICAgICAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgICAgIGxlbihkZikgPT0gbnVtX3JlbGVhc2VkX2l0ZW1zCiAgICAgICAgICAgICksIGYiTWlzc2luZyBpdGVtcyBmcm9tIGRvd25sb2FkZWQgRW4gRXhwcmVzc28iCiAgICAgICAgICAgIGRmWyJzcmNfbGFuZyJdID0gImVuZyIKICAgICAgICAgICAgZGZbInRndF9sYW5nIl0gPSBsYW5nCiAgICAgICAgICAgICMgQ2hlY2sgYWxsIHRoZSBhdWRpbyBmaWxlcyBleGlzdAogICAgICAgICAgICBhc3NlcnQgYWxsKG9zLnBhdGguaXNmaWxlKGF1ZGlvKSBmb3IgYXVkaW8gaW4gZGZbInNyY19hdWRpbyJdLnRvbGlzdCgpKQogICAgICAgICAgICBvdXRwdXRfbWFuaWZlc3RfcGF0aCA9IGFyZ3Mub3V0cHV0X2ZvbGRlciAvIGYie3N1YnNldH1fbWV4cHJlc3NvX2VuZ197bGFuZ30udHN2IgogICAgICAgICAgICBkZlsKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICAiaWQiLAogICAgICAgICAgICAgICAgICAgICJzcmNfYXVkaW8iLCAgIyBjb252ZXJ0ZWQgMTZrSHogYXVkaW8gcGF0aAogICAgICAgICAgICAgICAgICAgICJzcmNfc3BlYWtlciIsICAjIHNvdXJjZSBzcGVha2VyCiAgICAgICAgICAgICAgICAgICAgInNyY190ZXh0IiwgICMgc291cmNlIHRleHQKICAgICAgICAgICAgICAgICAgICAic3JjX2xhbmciLCAgIyBzb3VyY2UgbGFuZ3VhZ2UgaWQKICAgICAgICAgICAgICAgICAgICAidGd0X3RleHQiLCAgIyB0YXJnZXQgdGV4dAogICAgICAgICAgICAgICAgICAgICJ0Z3RfbGFuZyIsICAjIHRhcmdldCBsYW5ndWFnZSBpZAogICAgICAgICAgICAgICAgICAgICJsYWJlbCIsICAjIHN0eWxlIG9mIHV0dGVyYW5jZQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICBdLnRvX2NzdihvdXRwdXRfbWFuaWZlc3RfcGF0aCwgc2VwPSJcdCIsIHF1b3Rpbmc9MywgaW5kZXg9Tm9uZSkKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJPdXRwdXQge2xlbihkZil9IHJvd3MgdG8ge291dHB1dF9tYW5pZmVzdF9wYXRofSIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo='),
    ('seamless/build/lib/seamless_communication/cli/expressivity/evaluate/__init__.py', ''),
    ('seamless/build/lib/seamless_communication/cli/expressivity/evaluate/post_process_pauserate.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBwYW5kYXMgYXMgcGQKaW1wb3J0IGNzdgppbXBvcnQgc2NpcHkKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QKCgpkZWYgZ2V0X3BhdXNlKHBhdXNlX2RhdGFfdHN2OiBzdHIpIC0+IERpY3Rbc3RyLCBmbG9hdF06CiAgICB1dHRfcGF1c2VfYWxpZ25fZGF0YSA9IHBkLnJlYWRfY3N2KAogICAgICAgIHBhdXNlX2RhdGFfdHN2LAogICAgICAgIHNlcD0iXHQiLAogICAgICAgIHF1b3Rpbmc9Y3N2LlFVT1RFX01JTklNQUwsCiAgICApCiAgICBtZXRyaWNzID0ge30KICAgIHBhdXNlX2R1cmF0aW9uX3dlaWdodCA9ICgKICAgICAgICB1dHRfcGF1c2VfYWxpZ25fZGF0YS50b3RhbF93ZWlnaHQgLyB1dHRfcGF1c2VfYWxpZ25fZGF0YS50b3RhbF93ZWlnaHQuc3VtKCkKICAgICkKICAgIGZvciBzY29yZV9uYW1lIGluIFsKICAgICAgICAid21lYW5fZHVyYXRpb25fc2NvcmUiLAogICAgICAgICJ3bWVhbl9hbGlnbm1lbnRfc2NvcmUiLAogICAgICAgICJ3bWVhbl9qb2ludF9zY29yZSIsCiAgICBdOgogICAgICAgIG1ldHJpY3Nbc2NvcmVfbmFtZV0gPSAoCiAgICAgICAgICAgIHV0dF9wYXVzZV9hbGlnbl9kYXRhW2Yie3Njb3JlX25hbWV9Il0gKiBwYXVzZV9kdXJhdGlvbl93ZWlnaHQKICAgICAgICApLnN1bSgpCiAgICByZXR1cm4gbWV0cmljcwoKCmRlZiBnZXRfcmF0ZSh0YXJnZXRfc3BlZWNoX3Rzdjogc3RyLCBzb3VyY2Vfc3BlZWNoX3Rzdjogc3RyKSAtPiBmbG9hdDoKICAgIHNwZWVjaF91bml0ID0gInN5bGxhYmxlIgoKICAgIHRhcmdldF9zcGVlY2hfZGYgPSBwZC5yZWFkX2NzdigKICAgICAgICB0YXJnZXRfc3BlZWNoX3Rzdiwgc2VwPSJcdCIsIHF1b3Rpbmc9Y3N2LlFVT1RFX01JTklNQUwKICAgICkuc2V0X2luZGV4KCJpZCIpCiAgICBzb3VyY2Vfc3BlZWNoX2RmID0gcGQucmVhZF9jc3YoCiAgICAgICAgc291cmNlX3NwZWVjaF90c3YsIHNlcD0iXHQiLCBxdW90aW5nPWNzdi5RVU9URV9NSU5JTUFMCiAgICApLnNldF9pbmRleCgiaWQiKQoKICAgICMgdXNpbmcgInN5bGxhYmxlIiBzcGVlY2ggdW5pdCBmb3IgcmF0ZSBjb21wdXRhdGlvbgogICAgc3JjX3NwZWVjaF9yYXRlID0gc291cmNlX3NwZWVjaF9kZltmInNwZWVjaF9yYXRlX3tzcGVlY2hfdW5pdH0iXS50b19udW1weSgpCiAgICB0Z3Rfc3BlZWNoX3JhdGUgPSB0YXJnZXRfc3BlZWNoX2RmW2Yic3BlZWNoX3JhdGVfe3NwZWVjaF91bml0fSJdLnRvX251bXB5KCkKICAgIHNyY190Z3Rfc3BlYXJtYW4gPSBzY2lweS5zdGF0cy5zcGVhcm1hbnIoc3JjX3NwZWVjaF9yYXRlLCB0Z3Rfc3BlZWNoX3JhdGUpCiAgICByZXR1cm4gc3JjX3RndF9zcGVhcm1hbi5jb3JyZWxhdGlvbiAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0K'),
    ('seamless/build/lib/seamless_communication/cli/expressivity/evaluate/evaluate.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgY29udGV4dGxpYgppbXBvcnQgbG9nZ2luZwpmcm9tIGFyZ3BhcnNlIGltcG9ydCBOYW1lc3BhY2UKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbAoKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoYXVkaW8KZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBDb2xsYXRlciwgRGF0YVBpcGVsaW5lLCBGaWxlTWFwcGVyCmZyb20gZmFpcnNlcTIuZGF0YS5hdWRpbyBpbXBvcnQgKAogICAgQXVkaW9EZWNvZGVyLAogICAgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyLAogICAgV2F2ZWZvcm1Ub0ZiYW5rT3V0cHV0LAopCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0IGltcG9ydCBTdHJTcGxpdHRlciwgcmVhZF90ZXh0CmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgpmcm9tIHRxZG0gaW1wb3J0IHRxZG0KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXhwcmVzc2l2aXR5LnByZWRpY3QucHJldHNzZWxfZ2VuZXJhdG9yIGltcG9ydCAoCiAgICBQcmV0c3NlbEdlbmVyYXRvciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5ldmFsdWF0ZS5ldmFsdWF0ZSBpbXBvcnQgKAogICAgYWRqdXN0X291dHB1dF9mb3JfY29ycnVwdGVkX2lucHV0cywKICAgIGNvdW50X2xpbmVzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkubTR0LnByZWRpY3QgaW1wb3J0ICgKICAgIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzLAogICAgc2V0X2dlbmVyYXRpb25fb3B0cywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlIGltcG9ydCBCYXRjaGVkU3BlZWNoT3V0cHV0LCBUcmFuc2xhdG9yCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0ICgKICAgIGxvYWRfZ2Ntdm5fc3RhdHMsCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdG9yZSBpbXBvcnQgYWRkX2dhdGVkX2Fzc2V0cwoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgYnVpbGRfZGF0YV9waXBlbGluZSgKICAgIGFyZ3M6IE5hbWVzcGFjZSwKICAgIGRldmljZTogRGV2aWNlLAogICAgZHR5cGU6IERhdGFUeXBlLAogICAgZ2Ntdm5fbWVhbjogVGVuc29yLAogICAgZ2Ntdm5fc3RkOiBUZW5zb3IsCikgLT4gRGF0YVBpcGVsaW5lOgogICAgd2l0aCBvcGVuKGFyZ3MuZGF0YV9maWxlLCAiciIpIGFzIGY6CiAgICAgICAgaGVhZGVyID0gZi5yZWFkbGluZSgpLnN0cmlwKCJcbiIpLnNwbGl0KCJcdCIpCiAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgYXJncy5hdWRpb19maWVsZCBpbiBoZWFkZXIKICAgICAgICApLCBmIklucHV0IGZpbGUgZG9lcyBub3QgY29udGFpbiB7YXJncy5hdWRpb19maWVsZH0gZmllbGQiCgogICAgbl9wYXJhbGxlbCA9IDQKCiAgICBzcGxpdF90c3YgPSBTdHJTcGxpdHRlcihuYW1lcz1oZWFkZXIpCgogICAgcGlwZWxpbmVfYnVpbGRlciA9IHJlYWRfdGV4dChhcmdzLmRhdGFfZmlsZSwgcnRyaW09VHJ1ZSkuc2tpcCgxKS5tYXAoc3BsaXRfdHN2KQoKICAgIGFzc2VydCBhcmdzLmF1ZGlvX3Jvb3RfZGlyIGlzIG5vdCBOb25lCgogICAgbWFwX2ZpbGUgPSBGaWxlTWFwcGVyKHJvb3RfZGlyPWFyZ3MuYXVkaW9fcm9vdF9kaXIsIGNhY2hlZF9mZF9jb3VudD0xMCkKCiAgICBwaXBlbGluZV9idWlsZGVyLm1hcCgKICAgICAgICBtYXBfZmlsZSwgc2VsZWN0b3I9YXJncy5hdWRpb19maWVsZCwgbnVtX3BhcmFsbGVsX2NhbGxzPW5fcGFyYWxsZWwKICAgICkKCiAgICBkZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWRldmljZSkKCiAgICBjb252ZXJ0X3RvX2ZiYW5rID0gV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyKAogICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICB3YXZlZm9ybV9zY2FsZT0yKioxNSwKICAgICAgICBjaGFubmVsX2xhc3Q9VHJ1ZSwKICAgICAgICBzdGFuZGFyZGl6ZT1GYWxzZSwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIGRlZiBub3JtYWxpemVfZmJhbmsoZGF0YTogV2F2ZWZvcm1Ub0ZiYW5rT3V0cHV0KSAtPiBXYXZlZm9ybVRvRmJhbmtPdXRwdXQ6CiAgICAgICAgZmJhbmsgPSBkYXRhWyJmYmFuayJdCiAgICAgICAgc3RkLCBtZWFuID0gdG9yY2guc3RkX21lYW4oZmJhbmssIGRpbT0wKQogICAgICAgIGRhdGFbImZiYW5rIl0gPSBmYmFuay5zdWJ0cmFjdChtZWFuKS5kaXZpZGUoc3RkKQogICAgICAgIGRhdGFbImdjbXZuX2ZiYW5rIl0gPSBmYmFuay5zdWJ0cmFjdChnY212bl9tZWFuKS5kaXZpZGUoZ2Ntdm5fc3RkKQogICAgICAgIHJldHVybiBkYXRhCgogICAgcGlwZWxpbmVfYnVpbGRlci5tYXAoCiAgICAgICAgW2RlY29kZV9hdWRpbywgY29udmVydF90b19mYmFuaywgbm9ybWFsaXplX2ZiYW5rXSwKICAgICAgICBzZWxlY3Rvcj1mInthcmdzLmF1ZGlvX2ZpZWxkfS5kYXRhIiwKICAgICAgICBudW1fcGFyYWxsZWxfY2FsbHM9bl9wYXJhbGxlbCwKICAgICkKCiAgICBwaXBlbGluZV9idWlsZGVyLmJ1Y2tldChidWNrZXRfc2l6ZT1hcmdzLmJhdGNoX3NpemUpCgogICAgY29sbGF0ZSA9IENvbGxhdGVyKHBhZF92YWx1ZT0wLCBwYWRfdG9fbXVsdGlwbGU9MSkKCiAgICBwaXBlbGluZV9idWlsZGVyLm1hcChjb2xsYXRlLCBudW1fcGFyYWxsZWxfY2FsbHM9bl9wYXJhbGxlbCkKCiAgICBwaXBlbGluZV9idWlsZGVyLnByZWZldGNoKDQpCgogICAgcmV0dXJuIHBpcGVsaW5lX2J1aWxkZXIuYW5kX3JldHVybigpCgoKZGVmIG1haW4oKSAtPiBOb25lOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoZGVzY3JpcHRpb249IlJ1bm5pbmcgU2VhbWxlc3NFeHByZXNzaXZlIGluZmVyZW5jZSIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICJkYXRhX2ZpbGUiLCB0eXBlPVBhdGgsIGhlbHA9IkRhdGEgZmlsZSAoLnRzdikgdG8gYmUgZXZhbHVhdGVkLiIKICAgICkKCiAgICBwYXJzZXIgPSBhZGRfaW5mZXJlbmNlX2FyZ3VtZW50cyhwYXJzZXIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWdhdGVkLW1vZGVsLWRpciIsCiAgICAgICAgdHlwZT1QYXRoLAogICAgICAgIHJlcXVpcmVkPUZhbHNlLAogICAgICAgIGhlbHA9IlNlYW1sZXNzRXhwcmVzc2l2ZSBtb2RlbCBkaXJlY3RvcnkuIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tYmF0Y2hfc2l6ZSIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iSW5mZXJlbmNlIGJhdGNoIHNpemUuIiwKICAgICAgICBkZWZhdWx0PTQsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWF1ZGlvX3Jvb3RfZGlyIiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgaGVscD0iUm9vdCBkaXJlY3RvcnkgZm9yIHRoZSBhdWRpbyBmaWxlbmFtZXMgaW4gdGhlIGRhdGEgZmlsZS4iLAogICAgICAgIGRlZmF1bHQ9IiIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWF1ZGlvX2ZpZWxkIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJGaWVsZCB0aGF0IGluY2x1ZGVzIHRoZSBpbnB1dCBhdWRpbyBmaWxlIHBhdGhzLiIsCiAgICAgICAgZGVmYXVsdD0ic3JjX2F1ZGlvIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tcmVmX2ZpZWxkIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJSZWZlcmVuY2UgdGFyZ2V0IHRleHQgZmllbGQgdG8gY29tcHV0ZSB0aGUgQkxFVSBzY29yZSBhZ2FpbnN0LiIsCiAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1kdXJhdGlvbl9mYWN0b3IiLAogICAgICAgIHR5cGU9ZmxvYXQsCiAgICAgICAgaGVscD0iVGhlIGR1cmF0aW9uIGZhY3RvciBmb3IgTkFSIFQyVSBtb2RlbC4iLAogICAgICAgIGRlZmF1bHQ9MS4wLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1vdXRwdXRfcmVzdWx0X3RzdiIsCiAgICAgICAgdHlwZT1ib29sLAogICAgICAgIGhlbHA9IldoZXRoZXIgdG8gb3V0cHV0IHJlc3VsdHMgaW4gdHN2IGZvcm1hdCAoZm9yIGZ1bGwtYmxvd24gZXZhbHVhdGlvbikiLAogICAgICAgIGRlZmF1bHQ9VHJ1ZSwKICAgICkKICAgIGFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncygpCgogICAgaWYgYXJncy5nYXRlZF9tb2RlbF9kaXI6CiAgICAgICAgYWRkX2dhdGVkX2Fzc2V0cyhhcmdzLmdhdGVkX21vZGVsX2RpcikKCiAgICBpZiB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpOgogICAgICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3VkYTowIikKICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MTYKICAgIGVsc2U6CiAgICAgICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjcHUiKQogICAgICAgIGR0eXBlID0gdG9yY2guZmxvYXQzMgoKICAgIHVuaXRfdG9rZW5pemVyID0gbG9hZF91bml0eV91bml0X3Rva2VuaXplcihhcmdzLm1vZGVsX25hbWUpCgogICAgX2djbXZuX21lYW4sIF9nY212bl9zdGQgPSBsb2FkX2djbXZuX3N0YXRzKGFyZ3Mudm9jb2Rlcl9uYW1lKQogICAgZ2Ntdm5fbWVhbiA9IHRvcmNoLnRlbnNvcihfZ2Ntdm5fbWVhbiwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICBnY212bl9zdGQgPSB0b3JjaC50ZW5zb3IoX2djbXZuX3N0ZCwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCgogICAgcGlwZWxpbmUgPSBidWlsZF9kYXRhX3BpcGVsaW5lKGFyZ3MsIGRldmljZSwgZHR5cGUsIGdjbXZuX21lYW4sIGdjbXZuX3N0ZCkKCiAgICB0cmFuc2xhdG9yID0gVHJhbnNsYXRvcigKICAgICAgICBhcmdzLm1vZGVsX25hbWUsCiAgICAgICAgdm9jb2Rlcl9uYW1lX29yX2NhcmQ9Tm9uZSwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLCB1bml0X2dlbmVyYXRpb25fb3B0cyA9IHNldF9nZW5lcmF0aW9uX29wdHMoYXJncykKCiAgICBsb2dnZXIuaW5mbyhmInt0ZXh0X2dlbmVyYXRpb25fb3B0cz19IikKICAgIGxvZ2dlci5pbmZvKGYie3VuaXRfZ2VuZXJhdGlvbl9vcHRzPX0iKQogICAgbG9nZ2VyLmluZm8oCiAgICAgICAgZiJ1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPXthcmdzLnVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmd9IgogICAgKQoKICAgIHByZXRzc2VsX2dlbmVyYXRvciA9IFByZXRzc2VsR2VuZXJhdG9yKAogICAgICAgIGFyZ3Mudm9jb2Rlcl9uYW1lLAogICAgICAgIHZvY2FiX2luZm89dW5pdF90b2tlbml6ZXIudm9jYWJfaW5mbywKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIHRvdGFsX3N0ZXBzID0gY291bnRfbGluZXMoYXJncy5kYXRhX2ZpbGUpIC0gMQogICAgcHJvZ3Jlc3NfYmFyID0gdHFkbSh0b3RhbD10b3RhbF9zdGVwcykKCiAgICBvdXRwdXRfcGF0aCA9IGFyZ3Mub3V0cHV0X3BhdGggLyBhcmdzLmRhdGFfZmlsZS5zdGVtCiAgICBvdXRwdXRfcGF0aC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgd2F2ZWZvcm1zX2RpciA9IG91dHB1dF9wYXRoIC8gIndhdmVmb3JtIgogICAgd2F2ZWZvcm1zX2Rpci5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgaHlwcyA9IFtdCiAgICByZWZzID0gW10KICAgIGF1ZGlvX2h5cHMgPSBbXQoKICAgIHdpdGggY29udGV4dGxpYi5FeGl0U3RhY2soKSBhcyBzdGFjazoKICAgICAgICBoeXBfZmlsZSA9IHN0YWNrLmVudGVyX2NvbnRleHQoCiAgICAgICAgICAgIG9wZW4ob3V0cHV0X3BhdGggLyBmInRleHRfb3V0cHV0LXthcmdzLmRhdGFfZmlsZS5zdGVtfS50eHQiLCAidyIpCiAgICAgICAgKQogICAgICAgIHVuaXRfZmlsZSA9IHN0YWNrLmVudGVyX2NvbnRleHQoCiAgICAgICAgICAgIG9wZW4ob3V0cHV0X3BhdGggLyBmInVuaXRfb3V0cHV0LXthcmdzLmRhdGFfZmlsZS5zdGVtfS50eHQiLCAidyIpCiAgICAgICAgKQoKICAgICAgICBzYW1wbGVfaWQgPSAwCiAgICAgICAgZm9yIGV4YW1wbGUgaW4gcGlwZWxpbmU6CiAgICAgICAgICAgIHZhbGlkX3NlcXVlbmNlczogT3B0aW9uYWxbVGVuc29yXSA9IE5vbmUKICAgICAgICAgICAgc3JjID0gZXhhbXBsZVthcmdzLmF1ZGlvX2ZpZWxkXVsiZGF0YSJdWyJmYmFuayJdCiAgICAgICAgICAgICMgU2tpcCBjb3JydXB0ZWQgYXVkaW8gdGVuc29ycy4KICAgICAgICAgICAgdmFsaWRfc2VxdWVuY2VzID0gfnRvcmNoLmFueSgKICAgICAgICAgICAgICAgIHRvcmNoLmFueSh0b3JjaC5pc25hbihzcmNbInNlcXMiXSksIGRpbT0xKSwgZGltPTEKICAgICAgICAgICAgKQogICAgICAgICAgICBpZiBub3QgdmFsaWRfc2VxdWVuY2VzLmFsbCgpOgogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoCiAgICAgICAgICAgICAgICAgICAgZiJTYW1wbGUgSURzIHtzYW1wbGVfaWR9IHRvIHtzYW1wbGVfaWQgKyBhcmdzLmJhdGNoX3NpemV9IGhhcyBzb21lIGNvcnJ1cHRlZCBpbnB1dC4iCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBzcmNbInNlcXMiXSA9IHNyY1sic2VxcyJdW3ZhbGlkX3NlcXVlbmNlc10KICAgICAgICAgICAgICAgIHNyY1sic2VxX2xlbnMiXSA9IHNyY1sic2VxX2xlbnMiXVt2YWxpZF9zZXF1ZW5jZXNdCgogICAgICAgICAgICAjIFNraXAgcGVyZm9ybWluZyBpbmZlcmVuY2Ugd2hlbiB0aGUgaW5wdXQgaXMgZW50aXJlbHkgY29ycnVwdGVkLgogICAgICAgICAgICBpZiBzcmNbInNlcXMiXS5udW1lbCgpID4gMDoKICAgICAgICAgICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dCA9IGV4YW1wbGVbYXJncy5hdWRpb19maWVsZF1bImRhdGEiXVsiZ2Ntdm5fZmJhbmsiXQogICAgICAgICAgICAgICAgdGV4dF9vdXRwdXQsIHVuaXRfb3V0cHV0ID0gdHJhbnNsYXRvci5wcmVkaWN0KAogICAgICAgICAgICAgICAgICAgIHNyYywKICAgICAgICAgICAgICAgICAgICAiczJzdCIsCiAgICAgICAgICAgICAgICAgICAgYXJncy50Z3RfbGFuZywKICAgICAgICAgICAgICAgICAgICBzcmNfbGFuZz1hcmdzLnNyY19sYW5nLAogICAgICAgICAgICAgICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzPXRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc9YXJncy51bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uX2ZhY3Rvcj1hcmdzLmR1cmF0aW9uX2ZhY3RvciwKICAgICAgICAgICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9cHJvc29keV9lbmNvZGVyX2lucHV0LAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIGFzc2VydCB1bml0X291dHB1dCBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgc3BlZWNoX291dHB1dCA9IHByZXRzc2VsX2dlbmVyYXRvci5wcmVkaWN0KAogICAgICAgICAgICAgICAgICAgIHVuaXRfb3V0cHV0LnVuaXRzLAogICAgICAgICAgICAgICAgICAgIHRndF9sYW5nPWFyZ3MudGd0X2xhbmcsCiAgICAgICAgICAgICAgICAgICAgcHJvc29keV9lbmNvZGVyX2lucHV0PXByb3NvZHlfZW5jb2Rlcl9pbnB1dCwKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB0ZXh0X291dHB1dCA9IFtdCiAgICAgICAgICAgICAgICBzcGVlY2hfb3V0cHV0ID0gQmF0Y2hlZFNwZWVjaE91dHB1dCh1bml0cz1bXSwgYXVkaW9fd2F2cz1bXSkKCiAgICAgICAgICAgIGlmIHZhbGlkX3NlcXVlbmNlcyBpcyBub3QgTm9uZSBhbmQgbm90IHZhbGlkX3NlcXVlbmNlcy5hbGwoKToKICAgICAgICAgICAgICAgIHRleHRfb3V0cHV0LCBzcGVlY2hfb3V0cHV0ID0gYWRqdXN0X291dHB1dF9mb3JfY29ycnVwdGVkX2lucHV0cyggICMgdHlwZTogaWdub3JlW2Fzc2lnbm1lbnRdCiAgICAgICAgICAgICAgICAgICAgdmFsaWRfc2VxdWVuY2VzLAogICAgICAgICAgICAgICAgICAgIHRleHRfb3V0cHV0LAogICAgICAgICAgICAgICAgICAgIHNwZWVjaF9vdXRwdXQsCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICBoeXBzICs9IFtzdHIocykgZm9yIHMgaW4gdGV4dF9vdXRwdXRdCiAgICAgICAgICAgIGlmIGFyZ3MucmVmX2ZpZWxkIGlzIG5vdCBOb25lIGFuZCBhcmdzLnJlZl9maWVsZCBpbiBleGFtcGxlOgogICAgICAgICAgICAgICAgcmVmcyArPSBbc3RyKHMpIGZvciBzIGluIGV4YW1wbGVbYXJncy5yZWZfZmllbGRdXQoKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHRleHRfb3V0cHV0KSk6CiAgICAgICAgICAgICAgICB0ID0gdGV4dF9vdXRwdXRbaV0KICAgICAgICAgICAgICAgIGlkeCA9IHN0cihleGFtcGxlWyJpZCJdW2ldKQogICAgICAgICAgICAgICAgaHlwX2ZpbGUud3JpdGUoZiJ7dH1cbiIpCgogICAgICAgICAgICAgICAgdSA9IHNwZWVjaF9vdXRwdXQudW5pdHNbaV0KICAgICAgICAgICAgICAgIHN0cl91bml0cyA9IFtzdHIoaSkgZm9yIGkgaW4gdV0KICAgICAgICAgICAgICAgIHVuaXRfZmlsZS53cml0ZSgiICIuam9pbihzdHJfdW5pdHMpICsgIlxuIikKICAgICAgICAgICAgICAgIHRvcmNoYXVkaW8uc2F2ZSgKICAgICAgICAgICAgICAgICAgICB3YXZlZm9ybXNfZGlyIC8gZiJ7aWR4fV9wcmVkLndhdiIsCiAgICAgICAgICAgICAgICAgICAgc3BlZWNoX291dHB1dC5hdWRpb193YXZzW2ldWzBdLnRvKHRvcmNoLmZsb2F0MzIpLmNwdSgpLAogICAgICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNwZWVjaF9vdXRwdXQuc2FtcGxlX3JhdGUsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBhdWRpb19oeXBzLmFwcGVuZCgod2F2ZWZvcm1zX2RpciAvIGYie2lkeH1fcHJlZC53YXYiKS5hc19wb3NpeCgpKQoKICAgICAgICAgICAgICAgIHNhbXBsZV9pZCArPSAxCiAgICAgICAgICAgICAgICBwcm9ncmVzc19iYXIudXBkYXRlKDEpCgogICAgcHJvZ3Jlc3NfYmFyLmNsb3NlKCkKICAgIGxvZ2dlci5pbmZvKGYiUHJvY2Vzc2VkIHtsZW4oaHlwcyl9IGh5cHMsIHtsZW4ocmVmcyl9IHJlZnMiKQoKICAgIGlmIGFyZ3Mub3V0cHV0X3Jlc3VsdF90c3Y6CiAgICAgICAgb3V0cHV0X3Rzdl9maWxlID0gb3V0cHV0X3BhdGggLyBmImdlbmVyYXRlLXthcmdzLmRhdGFfZmlsZS5zdGVtfS50c3YiCiAgICAgICAgb3V0cHV0X3RzdiA9IHBkLnJlYWRfY3N2KGFyZ3MuZGF0YV9maWxlLCBxdW90aW5nPTMsIHNlcD0iXHQiKQogICAgICAgIHRleHRfb3V0ID0gW10KICAgICAgICB3aXRoIG9wZW4oaHlwX2ZpbGUubmFtZSkgYXMgZmlsZToKICAgICAgICAgICAgZm9yIGxpbmUgaW4gZmlsZToKICAgICAgICAgICAgICAgIHRleHRfb3V0LmFwcGVuZChsaW5lLnN0cmlwKCkpCgogICAgICAgIHVuaXRfb3V0ID0gW10KICAgICAgICB3aXRoIG9wZW4odW5pdF9maWxlLm5hbWUpIGFzIGZpbGU6CiAgICAgICAgICAgIGZvciBsaW5lIGluIGZpbGU6CiAgICAgICAgICAgICAgICB1bml0X291dC5hcHBlbmQobGluZS5zdHJpcCgpKQoKICAgICAgICBvdXRwdXRfdHN2WyJoeXBvX2F1ZGlvIl0gPSBhdWRpb19oeXBzCiAgICAgICAgb3V0cHV0X3RzdlsiczJ0X291dCJdID0gdGV4dF9vdXQKICAgICAgICBvdXRwdXRfdHN2WyJvcmlnX3VuaXQiXSA9IHVuaXRfb3V0CiAgICAgICAgb3V0cHV0X3Rzdi50b19jc3Yob3V0cHV0X3Rzdl9maWxlLCBxdW90aW5nPTMsIHNlcD0iXHQiLCBpbmRleD1GYWxzZSkKICAgICAgICBsb2dnZXIuaW5mbyhmIk91dHB1dCByZXN1bHRzIGluIHtvdXRwdXRfdHN2X2ZpbGV9IikKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=='),
    ('seamless/build/lib/seamless_communication/cli/expressivity/evaluate/run_asr_bleu.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZmlyZSBpbXBvcnQgRmlyZQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLmV2YWxfdXRpbHMuY29tcHV0ZV9tZXRyaWNzIGltcG9ydCAoCiAgICBjb21wdXRlX3F1YWxpdHlfbWV0cmljcywKKQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKCmRlZiBydW5fYXNyX2JsZXVfZXhwcmVzc2l2ZV9tb2RlbCgKICAgIGdlbmVyYXRpb25fZGlyX3BhdGg6IHN0ciwKICAgIGdlbmVyYXRlX3Rzdl9maWxlbmFtZTogc3RyLAogICAgdGd0X2xhbmc6IHN0ciwKKToKICAgIGNvbXB1dGVfcXVhbGl0eV9tZXRyaWNzKAogICAgICAgIGYie2dlbmVyYXRpb25fZGlyX3BhdGh9L3tnZW5lcmF0ZV90c3ZfZmlsZW5hbWV9IiwKICAgICAgICBQYXRoKGdlbmVyYXRpb25fZGlyX3BhdGgpLAogICAgICAgIHRndF9sYW5nLAogICAgICAgICJTMlNUIiwKICAgICAgICBkZXZpY2U9RGV2aWNlKCJjdWRhIiksCiAgICAgICAgcmVmX3RleHRfY29sX25hbWU9InRndF90ZXh0IiwKICAgICAgICBwcmVkX3RleHRfY29sX25hbWU9InMydF9vdXQiLAogICAgICAgIHByZWRfYXVkaW9fY29sX25hbWU9Imh5cG9fYXVkaW8iLAogICAgKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBGaXJlKHJ1bl9hc3JfYmxldV9leHByZXNzaXZlX21vZGVsKQo='),
    ('seamless/build/lib/seamless_communication/cli/expressivity/predict/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUu'),
    ('seamless/build/lib/seamless_communication/cli/expressivity/predict/pretssel_generator.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QKCmltcG9ydCB0b3JjaApmcm9tIHRvcmNoLm5uIGltcG9ydCBNb2R1bGUKCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCgpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCAoCiAgICBDb2xsYXRlciwKICAgIFNlcXVlbmNlRGF0YSwKICAgIFZvY2FidWxhcnlJbmZvLAopCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgZ2V0X3NlcXNfYW5kX3BhZGRpbmdfbWFzawoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZSBpbXBvcnQgQmF0Y2hlZFNwZWVjaE91dHB1dApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci5sb2FkZXIgaW1wb3J0IGxvYWRfcHJldHNzZWxfdm9jb2Rlcl9tb2RlbAoKCmNsYXNzIFByZXRzc2VsR2VuZXJhdG9yKE1vZHVsZSk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBwcmV0c3NlbF9uYW1lX29yX2NhcmQ6IHN0ciwKICAgICAgICB2b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbywKICAgICAgICBkZXZpY2U6IERldmljZSwKICAgICAgICBkdHlwZTogRGF0YVR5cGUgPSB0b3JjaC5mbG9hdDE2LAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICAjIExvYWQgdGhlIG1vZGVsLgogICAgICAgIGlmIGRldmljZSA9PSB0b3JjaC5kZXZpY2UoImNwdSIpOgogICAgICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MzIKCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKICAgICAgICBzZWxmLmR0eXBlID0gZHR5cGUKCiAgICAgICAgc2VsZi5wcmV0c3NlbF9tb2RlbCA9IGxvYWRfcHJldHNzZWxfdm9jb2Rlcl9tb2RlbCgKICAgICAgICAgICAgcHJldHNzZWxfbmFtZV9vcl9jYXJkLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCiAgICAgICAgc2VsZi5wcmV0c3NlbF9tb2RlbC5ldmFsKCkKCiAgICAgICAgdm9jb2Rlcl9tb2RlbF9jYXJkID0gYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChwcmV0c3NlbF9uYW1lX29yX2NhcmQpCiAgICAgICAgc2VsZi5vdXRwdXRfc2FtcGxlX3JhdGUgPSB2b2NvZGVyX21vZGVsX2NhcmQuZmllbGQoInNhbXBsZV9yYXRlIikuYXNfKGludCkKCiAgICAgICAgc2VsZi52b2NhYl9pbmZvID0gdm9jYWJfaW5mbwogICAgICAgIHNlbGYudW5pdF9jb2xsYXRlID0gQ29sbGF0ZXIocGFkX3ZhbHVlPXZvY2FiX2luZm8ucGFkX2lkeCkKICAgICAgICBzZWxmLmR1cmF0aW9uX2NvbGxhdGUgPSBDb2xsYXRlcihwYWRfdmFsdWU9MCkKICAgICAgICBzZWxmLnVuaXRfZW9zX3Rva2VuID0gdG9yY2gudGVuc29yKFt2b2NhYl9pbmZvLmVvc19pZHhdLCBkZXZpY2U9ZGV2aWNlKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgcHJlZGljdCgKICAgICAgICBzZWxmLAogICAgICAgIHVuaXRzOiBMaXN0W0xpc3RbaW50XV0sCiAgICAgICAgdGd0X2xhbmc6IHN0ciwKICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ6IFNlcXVlbmNlRGF0YSwKICAgICkgLT4gQmF0Y2hlZFNwZWVjaE91dHB1dDoKCiAgICAgICAgdW5pdHNfYmF0Y2gsIGR1cmF0aW9ucyA9IFtdLCBbXQogICAgICAgIGZvciB1IGluIHVuaXRzOgogICAgICAgICAgICB1bml0ID0gdG9yY2gudGVuc29yKHUpLnRvKHNlbGYudW5pdF9lb3NfdG9rZW4pCgogICAgICAgICAgICAjIGFkanVzdCB0aGUgY29udHJvbCBzeW1ib2xzIGZvciB0aGUgZW1iZWRkaW5nCiAgICAgICAgICAgIHVuaXQgKz0gNAogICAgICAgICAgICB1bml0ID0gdG9yY2guY2F0KFt1bml0LCBzZWxmLnVuaXRfZW9zX3Rva2VuXSwgZGltPTApCgogICAgICAgICAgICB1bml0LCBkdXJhdGlvbiA9IHRvcmNoLnVuaXF1ZV9jb25zZWN1dGl2ZSh1bml0LCByZXR1cm5fY291bnRzPVRydWUpCgogICAgICAgICAgICAjIGFkanVzdCBmb3IgdGhlIGxhc3QgZW9zIHRva2VuCiAgICAgICAgICAgIGR1cmF0aW9uWy0xXSA9IDAKCiAgICAgICAgICAgIHVuaXRzX2JhdGNoLmFwcGVuZCh1bml0KQogICAgICAgICAgICBkdXJhdGlvbnMuYXBwZW5kKGR1cmF0aW9uICogMikKCiAgICAgICAgc3BlZWNoX3VuaXRzID0gc2VsZi51bml0X2NvbGxhdGUodW5pdHNfYmF0Y2gpCiAgICAgICAgZHVyYXRpb25zID0gc2VsZi5kdXJhdGlvbl9jb2xsYXRlKGR1cmF0aW9ucylbInNlcXMiXQoKICAgICAgICB1bml0c190ZW5zb3IsIHVuaXRfcGFkZGluZ19tYXNrID0gZ2V0X3NlcXNfYW5kX3BhZGRpbmdfbWFzayhzcGVlY2hfdW5pdHMpCiAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzLCBwcm9zb2R5X3BhZGRpbmdfbWFzayA9IGdldF9zZXFzX2FuZF9wYWRkaW5nX21hc2soCiAgICAgICAgICAgIHByb3NvZHlfZW5jb2Rlcl9pbnB1dAogICAgICAgICkKCiAgICAgICAgYXVkaW9fd2F2cyA9IHNlbGYucHJldHNzZWxfbW9kZWwoCiAgICAgICAgICAgIHVuaXRzX3RlbnNvciwKICAgICAgICAgICAgdGd0X2xhbmcsCiAgICAgICAgICAgIHByb3NvZHlfaW5wdXRfc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrPXVuaXRfcGFkZGluZ19tYXNrLAogICAgICAgICAgICBwcm9zb2R5X3BhZGRpbmdfbWFzaz1wcm9zb2R5X3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgZHVyYXRpb25zPWR1cmF0aW9ucywKICAgICAgICApCiAgICAgICAgcmV0dXJuIEJhdGNoZWRTcGVlY2hPdXRwdXQoCiAgICAgICAgICAgIHVuaXRzPXVuaXRzLAogICAgICAgICAgICBhdWRpb193YXZzPWF1ZGlvX3dhdnMsCiAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNlbGYub3V0cHV0X3NhbXBsZV9yYXRlLAogICAgICAgICkK'),
    ('seamless/build/lib/seamless_communication/cli/expressivity/predict/predict.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoYXVkaW8KZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFNlcXVlbmNlRGF0YQpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5leHByZXNzaXZpdHkucHJlZGljdC5wcmV0c3NlbF9nZW5lcmF0b3IgaW1wb3J0ICgKICAgIFByZXRzc2VsR2VuZXJhdG9yLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkubTR0LnByZWRpY3QgaW1wb3J0ICgKICAgIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzLAogICAgc2V0X2dlbmVyYXRpb25fb3B0cywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlIGltcG9ydCBUcmFuc2xhdG9yCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0ICgKICAgIGxvYWRfZ2Ntdm5fc3RhdHMsCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdG9yZSBpbXBvcnQgYWRkX2dhdGVkX2Fzc2V0cwoKCkFVRElPX1NBTVBMRV9SQVRFID0gMTYwMDAKCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmRlZiByZW1vdmVfcHJvc29keV90b2tlbnNfZnJvbV90ZXh0KHRleHQ6IHN0cikgLT4gc3RyOgogICAgIyBmaWx0ZXIgb3V0IHByb3NvZHkgdG9rZW5zLCB0aGVyZSBpcyBvbmx5IGVtcGhhc2lzICcqJywgYW5kIHBhdXNlICc9JwogICAgdGV4dCA9IHRleHQucmVwbGFjZSgiKiIsICIiKS5yZXBsYWNlKCI9IiwgIiIpCiAgICB0ZXh0ID0gIiAiLmpvaW4odGV4dC5zcGxpdCgpKQogICAgcmV0dXJuIHRleHQKCgpkZWYgbWFpbigpIC0+IE5vbmU6CiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihkZXNjcmlwdGlvbj0iUnVubmluZyBTZWFtbGVzc0V4cHJlc3NpdmUgaW5mZXJlbmNlLiIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCJpbnB1dCIsIHR5cGU9c3RyLCBoZWxwPSJBdWRpbyBXQVYgZmlsZSBwYXRoLiIpCgogICAgcGFyc2VyID0gYWRkX2luZmVyZW5jZV9hcmd1bWVudHMocGFyc2VyKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1nYXRlZC1tb2RlbC1kaXIiLAogICAgICAgIHR5cGU9UGF0aCwKICAgICAgICByZXF1aXJlZD1GYWxzZSwKICAgICAgICBoZWxwPSJTZWFtbGVzc0V4cHJlc3NpdmUgbW9kZWwgZGlyZWN0b3J5LiIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWR1cmF0aW9uX2ZhY3RvciIsCiAgICAgICAgdHlwZT1mbG9hdCwKICAgICAgICBoZWxwPSJUaGUgZHVyYXRpb24gZmFjdG9yIGZvciBOQVIgVDJVIG1vZGVsLiIsCiAgICAgICAgZGVmYXVsdD0xLjAsCiAgICApCiAgICBhcmdzID0gcGFyc2VyLnBhcnNlX2FyZ3MoKQoKICAgIGlmIG5vdCBhcmdzLnRndF9sYW5nIG9yIGFyZ3Mub3V0cHV0X3BhdGggaXMgTm9uZToKICAgICAgICByYWlzZSBFeGNlcHRpb24oCiAgICAgICAgICAgICItLXRndF9sYW5nLCAtLW91dHB1dF9wYXRoIG11c3QgYmUgcHJvdmlkZWQgZm9yIFNlYW1sZXNzRXhwcmVzc2l2ZSBpbmZlcmVuY2UuIgogICAgICAgICkKICAgICAgICAKICAgIGlmIGFyZ3MuZ2F0ZWRfbW9kZWxfZGlyOgogICAgICAgIGFkZF9nYXRlZF9hc3NldHMoYXJncy5nYXRlZF9tb2RlbF9kaXIpCiAgICAKICAgIGlmIHRvcmNoLmN1ZGEuaXNfYXZhaWxhYmxlKCk6CiAgICAgICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjdWRhOjAiKQogICAgICAgIGR0eXBlID0gdG9yY2guZmxvYXQxNgogICAgZWxzZToKICAgICAgICBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoImNwdSIpCiAgICAgICAgZHR5cGUgPSB0b3JjaC5mbG9hdDMyCgogICAgbG9nZ2VyLmluZm8oZiJSdW5uaW5nIGluZmVyZW5jZSBvbiB7ZGV2aWNlPX0gd2l0aCB7ZHR5cGU9fS4iKQoKICAgIHVuaXRfdG9rZW5pemVyID0gbG9hZF91bml0eV91bml0X3Rva2VuaXplcihhcmdzLm1vZGVsX25hbWUpCiAgICAKICAgIHRyYW5zbGF0b3IgPSBUcmFuc2xhdG9yKAogICAgICAgIGFyZ3MubW9kZWxfbmFtZSwKICAgICAgICB2b2NvZGVyX25hbWVfb3JfY2FyZD1Ob25lLAogICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICApCgogICAgcHJldHNzZWxfZ2VuZXJhdG9yID0gUHJldHNzZWxHZW5lcmF0b3IoCiAgICAgICAgYXJncy52b2NvZGVyX25hbWUsCiAgICAgICAgdm9jYWJfaW5mbz11bml0X3Rva2VuaXplci52b2NhYl9pbmZvLAogICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICApCgogICAgZmJhbmtfZXh0cmFjdG9yID0gV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyKAogICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICB3YXZlZm9ybV9zY2FsZT0yKioxNSwKICAgICAgICBjaGFubmVsX2xhc3Q9VHJ1ZSwKICAgICAgICBzdGFuZGFyZGl6ZT1GYWxzZSwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIF9nY212bl9tZWFuLCBfZ2Ntdm5fc3RkID0gbG9hZF9nY212bl9zdGF0cyhhcmdzLnZvY29kZXJfbmFtZSkKICAgIGdjbXZuX21lYW4gPSB0b3JjaC50ZW5zb3IoX2djbXZuX21lYW4sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgZ2Ntdm5fc3RkID0gdG9yY2gudGVuc29yKF9nY212bl9zdGQsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQoKICAgIHdhdiwgc2FtcGxlX3JhdGUgPSB0b3JjaGF1ZGlvLmxvYWQoYXJncy5pbnB1dCkKICAgIHdhdiA9IHRvcmNoYXVkaW8uZnVuY3Rpb25hbC5yZXNhbXBsZSh3YXYsIG9yaWdfZnJlcT1zYW1wbGVfcmF0ZSwgbmV3X2ZyZXE9MTZfMDAwKQogICAgd2F2ID0gd2F2LnRyYW5zcG9zZSgwLCAxKQoKICAgIGRhdGEgPSBmYmFua19leHRyYWN0b3IoCiAgICAgICAgewogICAgICAgICAgICAid2F2ZWZvcm0iOiB3YXYsCiAgICAgICAgICAgICJzYW1wbGVfcmF0ZSI6IDE2MDAwLAogICAgICAgIH0KICAgICkKICAgIGZiYW5rID0gZGF0YVsiZmJhbmsiXQogICAgZ2Ntdm5fZmJhbmsgPSBmYmFuay5zdWJ0cmFjdChnY212bl9tZWFuKS5kaXZpZGUoZ2Ntdm5fc3RkKQogICAgc3RkLCBtZWFuID0gdG9yY2guc3RkX21lYW4oZmJhbmssIGRpbT0wKQogICAgZmJhbmsgPSBmYmFuay5zdWJ0cmFjdChtZWFuKS5kaXZpZGUoc3RkKQoKICAgIHNyYyA9IFNlcXVlbmNlRGF0YSgKICAgICAgICBzZXFzPWZiYW5rLnVuc3F1ZWV6ZSgwKSwKICAgICAgICBzZXFfbGVucz10b3JjaC5Mb25nVGVuc29yKFtmYmFuay5zaGFwZVswXV0pLAogICAgICAgIGlzX3JhZ2dlZD1GYWxzZSwKICAgICkKICAgIHNyY19nY212biA9IFNlcXVlbmNlRGF0YSgKICAgICAgICBzZXFzPWdjbXZuX2ZiYW5rLnVuc3F1ZWV6ZSgwKSwKICAgICAgICBzZXFfbGVucz10b3JjaC5Mb25nVGVuc29yKFtnY212bl9mYmFuay5zaGFwZVswXV0pLAogICAgICAgIGlzX3JhZ2dlZD1GYWxzZSwKICAgICkKCiAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cywgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBzZXRfZ2VuZXJhdGlvbl9vcHRzKGFyZ3MpCgogICAgbG9nZ2VyLmluZm8oZiJ7dGV4dF9nZW5lcmF0aW9uX29wdHM9fSIpCiAgICBsb2dnZXIuaW5mbyhmInt1bml0X2dlbmVyYXRpb25fb3B0cz19IikKICAgIGxvZ2dlci5pbmZvKAogICAgICAgIGYidW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZz17YXJncy51bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nfSIKICAgICkKCiAgICB0ZXh0X291dHB1dCwgdW5pdF9vdXRwdXQgPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgc3JjLAogICAgICAgICJzMnN0IiwKICAgICAgICBhcmdzLnRndF9sYW5nLAogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzPXRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc9YXJncy51bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgICAgIGR1cmF0aW9uX2ZhY3Rvcj1hcmdzLmR1cmF0aW9uX2ZhY3RvciwKICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9c3JjX2djbXZuLAogICAgKQoKICAgIGFzc2VydCB1bml0X291dHB1dCBpcyBub3QgTm9uZQogICAgc3BlZWNoX291dHB1dCA9IHByZXRzc2VsX2dlbmVyYXRvci5wcmVkaWN0KAogICAgICAgIHVuaXRfb3V0cHV0LnVuaXRzLAogICAgICAgIHRndF9sYW5nPWFyZ3MudGd0X2xhbmcsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2lucHV0PXNyY19nY212biwKICAgICkKCiAgICBsb2dnZXIuaW5mbyhmIlNhdmluZyBleHByZXNzaXZlIHRyYW5zbGF0ZWQgYXVkaW8gaW4ge2FyZ3MudGd0X2xhbmd9IikKICAgIHRvcmNoYXVkaW8uc2F2ZSgKICAgICAgICBhcmdzLm91dHB1dF9wYXRoLAogICAgICAgIHNwZWVjaF9vdXRwdXQuYXVkaW9fd2F2c1swXVswXS50byh0b3JjaC5mbG9hdDMyKS5jcHUoKSwKICAgICAgICBzYW1wbGVfcmF0ZT1zcGVlY2hfb3V0cHV0LnNhbXBsZV9yYXRlLAogICAgKQoKICAgIHRleHRfb3V0ID0gcmVtb3ZlX3Byb3NvZHlfdG9rZW5zX2Zyb21fdGV4dChzdHIodGV4dF9vdXRwdXRbMF0pKQoKICAgIGxvZ2dlci5pbmZvKGYiVHJhbnNsYXRlZCB0ZXh0IGluIHthcmdzLnRndF9sYW5nfToge3RleHRfb3V0fSIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo='),
    ('seamless/build/lib/seamless_communication/cli/eval_utils/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLmV2YWxfdXRpbHMuY29tcHV0ZV9tZXRyaWNzIGltcG9ydCAoCiAgICBjb21wdXRlX3F1YWxpdHlfbWV0cmljcyBhcyBjb21wdXRlX3F1YWxpdHlfbWV0cmljcywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLmV2YWxfdXRpbHMuY29tcHV0ZV9tZXRyaWNzIGltcG9ydCAoCiAgICBnZXRfdG9rZW5pemVyIGFzIGdldF90b2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5ldmFsX3V0aWxzLmxhbmdfbWFwcGluZyBpbXBvcnQgKAogICAgTEFORzJfTEFORzMgYXMgTEFORzJfTEFORzMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5ldmFsX3V0aWxzLmxhbmdfbWFwcGluZyBpbXBvcnQgKAogICAgTEFORzNfTEFORzIgYXMgTEFORzNfTEFORzIsCikK'),
    ('seamless/build/lib/seamless_communication/cli/eval_utils/compute_metrics.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBqc29uCmltcG9ydCBsb2dnaW5nCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR1cGxlLCBVbmlvbgoKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgd2hpc3Blcgpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlCmZyb20gaml3ZXIgaW1wb3J0IGNlciwgd2VyCmZyb20gc2FjcmVibGV1Lm1ldHJpY3MuYmFzZSBpbXBvcnQgU2NvcmUsIFNpZ25hdHVyZQpmcm9tIHNhY3JlYmxldS5tZXRyaWNzLmJsZXUgaW1wb3J0IEJMRVUKZnJvbSBzYWNyZWJsZXUubWV0cmljcy5jaHJmIGltcG9ydCBDSFJGCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXZhbF91dGlscy5sYW5nX21hcHBpbmcgaW1wb3J0IExBTkczX0xBTkcyCmZyb20gdHFkbSBpbXBvcnQgdHFkbQpmcm9tIHdoaXNwZXIgaW1wb3J0IFdoaXNwZXIKZnJvbSB3aGlzcGVyLm5vcm1hbGl6ZXJzIGltcG9ydCBCYXNpY1RleHROb3JtYWxpemVyLCBFbmdsaXNoVGV4dE5vcm1hbGl6ZXIKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKZGVmIGluaXRfd2hpc3Blcl9tb2RlbCgKICAgIGRldmljZTogRGV2aWNlLAogICAgd2hpc3Blcl9tb2RlbF9uYW1lOiBzdHIgPSAibGFyZ2UiLAopIC0+IFdoaXNwZXI6CiAgICByZXR1cm4gd2hpc3Blci5sb2FkX21vZGVsKG5hbWU9d2hpc3Blcl9tb2RlbF9uYW1lLCBkZXZpY2U9ZGV2aWNlKQoKCmRlZiB0cmFuc2NyaWJlX3NlcmllcygKICAgIGF1ZGlvX3BhdGhzX3NlcmllczogcGQuU2VyaWVzLAogICAgYXNyX21vZGVsOiBXaGlzcGVyLAogICAgYXVkaW9fbGFuZzogc3RyLAogICAgYmVhbV9zaXplOiBpbnQgPSAxLAogICAgdGVtcGVyYXR1cmU6IGZsb2F0ID0gMC4wLAopIC0+IHBkLlNlcmllczoKICAgICIiIlRyYW5zY3JpYmVzIGVhY2ggYXVkaW8gZmlsZXBhdGggZnJvbSBzZXJpZXMgYW5kIHJldHVybnMgc2VyaWVzIG9mIHRyYW5zY3JpcHRpb25zCiAgICBBcmdzOgogICAgICAgIGF1ZGlvX3BhdGhzX3NlcmllcyAocGQuU2VyaWVzKTogZWFjaCBsaW5lIGNvbnRhaW5zIHBhdGggdG8gYXVkaW8gZmlsZS4KICAgICAgICBhc3JfbW9kZWw6IEFTUiBtb2RlbCB0byBkbyB0aGUgdHJhbnNjcmliaW5nIHByb2Nlc3MgZS5nLiBXaGlzcGVyCiAgICAgICAgYXVkaW9fbGFuZyAoc3RyKTogd2hhdCBsYW5ndWFnZSBpcyB1c2VkIGluIHRoZSBnaXZlbiBhdWRpbywgdXNlZCBieSBBU1IgbW9kZWwKICAgICAgICBiZWFtX3NpemUgKGludCk6IHdoaXNwZXIgYmVhbSBzaXplLiBEZWZhdWx0cyB0byAxCiAgICAgICAgdGVtcGVyYXR1cmUgKGZsb2F0KTogd2hpc3BlciB0ZW1wZXJhdHVyZS4gRGVmYXVsdHMgdG8gMC4wIHRvIGF2b2lkIGZhbGxiYWNrIGRlY29kaW5nIChzZWUgZGV0YWlscyBiZWxvdykuCiAgICBSZXR1cm5zOgogICAgICAgIHBkLlNlcmllczogU2VyaWVzIHdoZXJlIGVhY2ggbGluZSBoYXMgYSB0cmFuc2NyaXB0aW9uIG9mIGNvcnJlc3BvbmRpbmcgYXVkaW8gZnJvbSBhdWRpb19wYXRoc19zZXJpZXMKICAgIFdoaXNwZXIgbW9kZWwgaW1wbGVtZW50cyBkZWNvZGluZyB3aXRoIGZhbGxiYWNrOiBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFpL3doaXNwZXIvYmxvYi9tYWluL3doaXNwZXIvdHJhbnNjcmliZS5weSNMMTQ3CiAgICBUaGUgY29yZSBpZGVhIGlzIHRoYXQgZGVjb2RpbmcgYXQgZWFjaCB0aW1lIHN0ZXAgbWlnaHQgaGFwcGVuIG11bHRpcGxlIHRpbWVzIGlmIGF0IGxlYXN0IG9uZSBjcml0ZXJpb24gdG8gImZhbGwgYmFjayIgaS5lLgogICAgc3RhcnQgb3ZlciBpcyBmaXJlZC4gTnVtYmVyIG9mIGZhbGxiYWNrIGl0ZXJhdGlvbnMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgc2NoZWR1bGUgb2YgdGVtcGVyYXR1cmUgdmFsdWVzOgogICAgaHR0cHM6Ly9naXRodWIuY29tL29wZW5haS93aGlzcGVyL2Jsb2IvbWFpbi93aGlzcGVyL3RyYW5zY3JpYmUucHkjTDQxCiAgICBCeSBkZWZhdWx0IHRoaXMgc2NoZWR1bGUgaXMgYWN0aXZlIGFuZCB0ZW1wZXJhdHVyZT0oMC4wLCAwLjIsIDAuNCwgMC42LCAwLjgsIDEuMCkgaS5lLiBldmVuIHdpdGggYmVhbV9zaXplIDUgaXQgbWlnaHQgZmVsbCBiYWNrIGFuZAogICAgdHVybiBvbiBzYW1wbGluZyBieSB1c2luZyB0ZW1wZXJhdHVyZSA+IDAsIGluIHRoaXMgY2FzZSB0aGUgYmVhbSBzZWFyY2ggaXMgbm90IHVzZWQgaW4gdGhlIGZhbGwgYmFjayBpdGVyYXRpb24uCiAgICBFeHBsaWNpdCBzZXR0aW5nIG9mIHRlbXBlcmF0dXJlPTAuMCBvdmVyd3JpdGVzIHRoZSBzY2hlZHVsZSBhbmQgZmFsbCBiYWNrIGRlY29kaW5nIGhhcyBvbmx5IG9uZSBmb3IgbG9vcCBpdGVyYXRpb24gaS5lLiBubyBmYWxsIGJhY2tzLgogICAgVGhpcyBhbGxvd3MgdXMgdG8gZG8gcmVwcm9kdWNpYmxlIGV2YWx1YXRpb24gd2l0aG91dCBzYW1wbGUgdmFyaWF0aW9ucy4gQmV3YXJlIHRoYXQgdGhpcyBtaWdodCBpbnRyb2R1Y2UgdGhlIHJlcGV0aXRpb24gbG9vcHMgaW4KICAgIHRoZSB0cmFuc2NyaXB0aW9ucyBhbmQgbGVhZCB0byB3b3JzZSBBU1ItQkxFVSBzY29yZSBpbiB0aGUgZW5kLgogICAgIiIiCgogICAgaWYgbGVuKGF1ZGlvX2xhbmcpID09IDM6CiAgICAgICAgIyB0byBtYWtlIGl0IHdvcmsgd2l0aCB3aGlzcGVyCiAgICAgICAgYXVkaW9fbGFuZyA9IExBTkczX0xBTkcyW2F1ZGlvX2xhbmddCgogICAgdHJhbnNjcmlwdGlvbnMgPSB7fQoKICAgIGZvciBpZHgsIGF1ZGlvX3BhdGggaW4gdHFkbSgKICAgICAgICBhdWRpb19wYXRoc19zZXJpZXMuaXRlbXMoKSwKICAgICAgICBkZXNjPWYiVHJhbnNjcmliaW5nIHthdWRpb19wYXRoc19zZXJpZXMubmFtZX0gY29sdW1uIiwKICAgICAgICB0b3RhbD1sZW4oYXVkaW9fcGF0aHNfc2VyaWVzKSwKICAgICk6CiAgICAgICAgaHlwbyA9IGFzcl9tb2RlbC50cmFuc2NyaWJlKAogICAgICAgICAgICBhdWRpb19wYXRoLAogICAgICAgICAgICB0ZW1wZXJhdHVyZT10ZW1wZXJhdHVyZSwKICAgICAgICAgICAgYmVhbV9zaXplPWJlYW1fc2l6ZSwKICAgICAgICAgICAgbGFuZ3VhZ2U9YXVkaW9fbGFuZywKICAgICAgICApWyJ0ZXh0Il0uc3RyaXAoKQogICAgICAgIHRyYW5zY3JpcHRpb25zW2lkeF0gPSBoeXBvCgogICAgdHJhbnNjcmlwdGlvbnNfc2VyaWVzID0gcGQuU2VyaWVzKHRyYW5zY3JpcHRpb25zKQogICAgdHJhbnNjcmlwdGlvbnNfc2VyaWVzLm5hbWUgPSBmInthdWRpb19wYXRoc19zZXJpZXMubmFtZX1fdHJhbnNjcmliZWQiCgogICAgcmV0dXJuIHRyYW5zY3JpcHRpb25zX3NlcmllcwoKCmRlZiB3aGlzcGVyX25vcm1hbGl6ZV9zZXJpZXMoCiAgICB0cmFuc2NyaXB0aW9uX3NlcmllczogcGQuU2VyaWVzLCB0ZXh0X2xhbmc6IHN0cgopIC0+IHBkLlNlcmllczoKICAgICIiIk5vcm1hbGl6ZXMgdGhlIHRleHQgc2VyaWVzIHVzaW5nIHdoaXNwZXIgbm9yYW1saXplci4gRW5nbGlzaCBoYXMgYSBzcGVjaWZpYyBvbmUgaW4gd2hpc3BlciBwYWNrYWdlLgogICAgQXJnczoKICAgICAgICB0cmFuc2NyaXB0aW9uX3NlcmllcyAocGQuU2VyaWVzKTogRWFjaCBsaW5lIGNvbnRhaW5zIGFyYml0cmFyeSB0ZXh0IHdyaXR0ZW4gaW4gdGV4dF9sYW5nCiAgICAgICAgdGV4dF9sYW5nIChzdHIpOiBMYW5ndWFnZSBvZiB0aGUgdGV4dCBpbiBzZXJpZXMKICAgIFJldHVybnM6CiAgICAgICAgcGQuU2VyaWVzOiBTZXJpZXMgd2l0aCBub3JtYWxpemVkIHRleHQKICAgICIiIgogICAgaWYgdGV4dF9sYW5nID09ICJlbmciOgogICAgICAgIG5vcm1hbGl6ZXIgPSBFbmdsaXNoVGV4dE5vcm1hbGl6ZXIoKQogICAgZWxzZToKICAgICAgICBub3JtYWxpemVyID0gQmFzaWNUZXh0Tm9ybWFsaXplcigpCgogICAgbm9ybV90cmFuc2NyaXB0aW9ucyA9IHt9CgogICAgZm9yIGlkeCwgdGV4dCBpbiB0cmFuc2NyaXB0aW9uX3Nlcmllcy5pdGVtcygpOgogICAgICAgIG5vcm1fdHJhbnNjcmlwdGlvbnNbaWR4XSA9IG5vcm1hbGl6ZXIodGV4dCkKCiAgICBub3JtX3RyYW5zY3JpcHRpb25zX3NlcmllcyA9IHBkLlNlcmllcyhub3JtX3RyYW5zY3JpcHRpb25zKQogICAgbm9ybV90cmFuc2NyaXB0aW9uc19zZXJpZXMubmFtZSA9IHRyYW5zY3JpcHRpb25fc2VyaWVzLm5hbWUKCiAgICByZXR1cm4gbm9ybV90cmFuc2NyaXB0aW9uc19zZXJpZXMKCgpkZWYgY29tcHV0ZV9hc3JfYmxldSgKICAgIGF1ZGlvX3BhdGhzX3NlcmllczogcGQuU2VyaWVzLAogICAgcmVmX3RleHRfc2VyaWVzOiBwZC5TZXJpZXMsCiAgICBsYW5nOiBzdHIsCiAgICBhc3JfbW9kZWw6IFdoaXNwZXIsCiAgICB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0OiBib29sID0gVHJ1ZSwKICAgIGJlYW1fc2l6ZTogaW50ID0gMSwKICAgIHRlbXBlcmF0dXJlOiBmbG9hdCA9IDAuMCwKICAgIHJldHVybl90cmFuc2NyaXB0aW9uczogYm9vbCA9IFRydWUsCikgLT4gVHVwbGVbU2NvcmUsIFNpZ25hdHVyZSwgcGQuRGF0YUZyYW1lXToKICAgICIiIldyYXBzIGZ1bmN0aW9ucyBhYm92ZSB0byBjb21wdXRlIGNvcnB1cy1sZXZlbCBBU1ItQkxFVQogICAgQVNSIGRlY29kaW5nIGh5cGVyLXBhcmFtZXRlcnMgYXJlIGhhcmQgY29kZWQgdG8gZW5zdXJlIHJlcHJvZHVjaWJpbGl0eSBhY3Jvc3MgZXZhbHVhdGlvbnMKICAgIEFyZ3M6CiAgICAgICAgYXVkaW9fcGF0aHNfc2VyaWVzIChwZC5TZXJpZXMpOiBlYWNoIGxpbmUgY29udGFpbnMgcGF0aCB0byBhdWRpbwogICAgICAgIHJlZl90ZXh0X3NlcmllcyAocGQuU2VyaWVzKTogZWFjaCBsaW5lIGNvbnRhaW5zIHRoZSB0ZXh0IHJlZmVyZW5jZSB0byBjb21wYXJlIGF1ZGlvIHdpdGgKICAgICAgICBsYW5nIChzdHIpOiB0aGUgbGFuZ3VhZ2Ugb2YgYm90aCBhdWRpbyBhbmQgcmVmX3RleHQKICAgICAgICBhc3JfbW9kZWw6IHdoaXNwZXIgQVNSIG1vZGVsCiAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dCAoYm9vbCk6IG5vcm1hbGl6ZSBib3RoIHRleHQgaHlwb3RoZXNlcyBhbmQgcmVmZXJlbmNlIGlmIFRydWUuIERlZmF1bHRzIHRvIFRydWUuCiAgICAgICAgYmVhbV9zaXplIChpbnQpOiBiZWFtX3NpemUgZm9yIHdoaXNwZXIgZ2VuZXJhdGlvbgogICAgICAgIHRlbXBlcmF0dXJlIChmbG9hdCk6IFRlbXBlcmF0dXJlIHNhbXBsaW5nIHZhbHVlIGZvciB3aGlzcGVyIGdlbmVyYXRpb24KICAgICAgICByZXR1cm5fdHJhbnNjcmlwdGlvbnMgKGJvb2wpCiAgICAiIiIKCiAgICBhdWRpb190cmFuc2NyaXB0aW9ucyA9IHRyYW5zY3JpYmVfc2VyaWVzKAogICAgICAgIGF1ZGlvX3BhdGhzX3NlcmllcywKICAgICAgICBhc3JfbW9kZWwsCiAgICAgICAgYXVkaW9fbGFuZz1sYW5nLAogICAgICAgIGJlYW1fc2l6ZT1iZWFtX3NpemUsCiAgICAgICAgdGVtcGVyYXR1cmU9dGVtcGVyYXR1cmUsCiAgICApCiAgICBhc3JfYmxldSwgYXNyX2JsZXVfc2lnbmF0dXJlID0gY29tcHV0ZV9jb3JwdXNfbWV0cmljX3Njb3JlKAogICAgICAgIGF1ZGlvX3RyYW5zY3JpcHRpb25zLCByZWZfdGV4dF9zZXJpZXMsIGxhbmcsIHdoaXNwZXJfbm9ybWFsaXplX3RleHQKICAgICkKICAgIGFzcl9ibGV1X3NpZ25hdHVyZS5pbmZvWyJ3aGlzcGVyX2Fzcl9iZWFtX3NpemUiXSA9IGJlYW1fc2l6ZQogICAgYXNyX2JsZXVfc2lnbmF0dXJlLmluZm9bIndoaXNwZXJfYXNyX3RlbXBlcmF0dXJlIl0gPSB0ZW1wZXJhdHVyZQogICAgYXNyX2JsZXVfc2lnbmF0dXJlLmluZm9bIndoaXNwZXJfYXNyX2xhbmd1YWdlIl0gPSBsYW5nCgogICAgdHJhbnNjcmlwdF9kZiA9IE5vbmUKICAgIGlmIHJldHVybl90cmFuc2NyaXB0aW9uczoKICAgICAgICB0cmFuc2NyaXB0X2RmID0gcGQuY29uY2F0KAogICAgICAgICAgICBbCiAgICAgICAgICAgICAgICBhdWRpb19wYXRoc19zZXJpZXMsCiAgICAgICAgICAgICAgICBhdWRpb190cmFuc2NyaXB0aW9ucywKICAgICAgICAgICAgICAgIHJlZl90ZXh0X3NlcmllcywKICAgICAgICAgICAgXSwKICAgICAgICAgICAgYXhpcz0xLAogICAgICAgICAgICBrZXlzPVsiYXVkaW8iLCAidHJhbnNjcmlwdCIsICJyZWZlcmVuY2UiXSwKICAgICAgICApCiAgICByZXR1cm4gYXNyX2JsZXUsIGFzcl9ibGV1X3NpZ25hdHVyZSwgdHJhbnNjcmlwdF9kZgoKCmRlZiBnZXRfdG9rZW5pemVyKGxhbmc6IHN0ciwgbWV0cmljOiBzdHIgPSAiYmxldSIpIC0+IHN0cjoKICAgICIiIkdldCB0b2tlbml6ZXIgZm9yIGxhbmd1YWdlCiAgICBBcmdzOgogICAgICAgIGxhbmcgKHN0cik6IFRocmVlIGxldHRlciBjb2RlIG9mIHRoZSBsYW5ndWFnZQogICAgICAgIG1ldHJpYyAoc3RyKTogTWV0cmljIGJlaW5nIGNvbXB1dGVkLiBWYWxpZCB2YWx1ZXMgYXJlICJibGV1IiBhbmQgImFzciIKICAgICIiIgogICAgbGFuZ190b2tfbWFwID0gewogICAgICAgICJjbW4iOiAiY2hhciIsCiAgICAgICAgImpwbiI6ICJjaGFyIiwKICAgICAgICAidGhhIjogImNoYXIiLAogICAgICAgICJsYW8iOiAiY2hhciIsCiAgICAgICAgIm15YSI6ICJjaGFyIiwKICAgIH0KICAgIGRlZmF1bHQgPSAoCiAgICAgICAgIjEzYSIgaWYgbWV0cmljID09ICJibGV1IiBlbHNlICJ3b3JkIgogICAgKSAgIyAxM2EgaXMgdGhlIGRlZmF1bHQgdG9rZW5pemVyIGZvciBibGV1IGFuZCB3ZXIgZm9yIGFzcgogICAgdG9rID0gbGFuZ190b2tfbWFwLmdldChsYW5nLCBkZWZhdWx0KQogICAgcmV0dXJuIHRvawoKCmRlZiBjb21wdXRlX2Fzcl9lcnJvcl9yYXRlKAogICAgaHlwX3RleHRfc2VyaWVzOiBwZC5TZXJpZXMsCiAgICByZWZfdGV4dF9zZXJpZXM6IHBkLlNlcmllcywKICAgIGxhbmc6IHN0ciwKICAgIHdoaXNwZXJfbm9ybWFsaXplX3RleHQ6IGJvb2wgPSBUcnVlLAopIC0+IFR1cGxlW2Zsb2F0LCBzdHJdOgogICAgIiIiV3JhcHMgbm9ybWFsaXphdGlvbiBmdW5jdGlvbnMgYW5kIGNvbXB1dGVzIEFTUiBXRVIvQ0VSIHNjb3JlCiAgICBBcmdzOgogICAgICAgIGh5cF90ZXh0X3NlcmllcyAocGQuU2VyaWVzKTogZWFjaCBsaW5lIGNvbnRhaW5zIHMydCBtb2RlbCBwcmVkaWN0aW9uIG9yIGZpcnN0IHBhc3MgcHJlZGljdGlvbgogICAgICAgIHJlZl90ZXh0X3NlcmllcyAocGQuU2VyaWVzKTogX2Rlc2NyaXB0aW9uXwogICAgICAgIGxhbmcgKHN0cik6IF9kZXNjcmlwdGlvbl8KICAgICAgICB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0IChib29sLCBvcHRpb25hbCk6IG5vcm1hbGl6ZSBib3RoIHRleHQgaHlwb3RoZXNlcyBhbmQgcmVmZXJlbmNlIGlmIFRydWUuIERlZmF1bHRzIHRvIFRydWUuCiAgICBSZXR1cm5zOgogICAgICAgIChNZXRyaWNTY29yZSwgTWV0cmljU2NvcmVTaWduYXR1cmUpCiAgICAiIiIKICAgIGlmIHdoaXNwZXJfbm9ybWFsaXplX3RleHQ6CiAgICAgICAgaHlwX3RleHRfc2VyaWVzID0gd2hpc3Blcl9ub3JtYWxpemVfc2VyaWVzKGh5cF90ZXh0X3NlcmllcywgbGFuZykKICAgICAgICByZWZfdGV4dF9zZXJpZXMgPSB3aGlzcGVyX25vcm1hbGl6ZV9zZXJpZXMocmVmX3RleHRfc2VyaWVzLCBsYW5nKQoKICAgIHRva2VuaXplcl9uYW1lID0gZ2V0X3Rva2VuaXplcihsYW5nLCBtZXRyaWM9ImVycm9yX3JhdGUiKQogICAgbWV0cmljX25hbWUgPSB3ZXIgaWYgdG9rZW5pemVyX25hbWUgPT0gIndvcmQiIGVsc2UgY2VyCiAgICBtZXRyaWNfc2NvcmUgPSBtZXRyaWNfbmFtZShoeXBfdGV4dF9zZXJpZXMudG9fbGlzdCgpLCByZWZfdGV4dF9zZXJpZXMudG9fbGlzdCgpKQogICAgcmV0dXJuIG1ldHJpY19zY29yZSwgZiJ7bWV0cmljX25hbWUuX19uYW1lX199IGlzIHttZXRyaWNfc2NvcmV9IgoKCmRlZiBjb21wdXRlX2NvcnB1c19tZXRyaWNfc2NvcmUoCiAgICBoeXBfdGV4dF9zZXJpZXM6IHBkLlNlcmllcywKICAgIHJlZl90ZXh0X3NlcmllczogcGQuU2VyaWVzLAogICAgbGFuZzogc3RyLAogICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dDogYm9vbCA9IFRydWUsCiAgICBtZXRyaWM6IHN0ciA9ICJibGV1IiwKKSAtPiBUdXBsZVtTY29yZSwgU2lnbmF0dXJlXToKICAgICIiIldyYXBzIG5vcm1hbGl6YXRpb24gZnVuY3Rpb25zIGFuZCBjb21wdXRlIGNvcnB1cy1sZXZlbCBCTEVVL2NockYrKyBzY29yZQogICAgQXJnczoKICAgICAgICBoeXBfdGV4dF9zZXJpZXMgKHBkLlNlcmllcyk6IGVhY2ggbGluZSBjb250YWlucyBzMnQgbW9kZWwgcHJlZGljdGlvbiBvciBmaXJzdCBwYXNzIHByZWRpY3Rpb24KICAgICAgICByZWZfdGV4dF9zZXJpZXMgKHBkLlNlcmllcyk6IF9kZXNjcmlwdGlvbl8KICAgICAgICBsYW5nIChzdHIpOiBfZGVzY3JpcHRpb25fCiAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dCAoYm9vbCwgb3B0aW9uYWwpOiBub3JtYWxpemUgYm90aCB0ZXh0IGh5cG90aGVzZXMgYW5kIHJlZmVyZW5jZSBpZiBUcnVlLiBEZWZhdWx0cyB0byBUcnVlLgogICAgUmV0dXJuczoKICAgICAgICAoTWV0cmljU2NvcmUsIE1ldHJpY1Njb3JlU2lnbmF0dXJlKQogICAgIiIiCiAgICBpZiB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0OgogICAgICAgIGh5cF90ZXh0X3NlcmllcyA9IHdoaXNwZXJfbm9ybWFsaXplX3NlcmllcyhoeXBfdGV4dF9zZXJpZXMsIGxhbmcpCiAgICAgICAgcmVmX3RleHRfc2VyaWVzID0gd2hpc3Blcl9ub3JtYWxpemVfc2VyaWVzKHJlZl90ZXh0X3NlcmllcywgbGFuZykKCiAgICB0b2tlbml6ZXJfbmFtZSA9IGdldF90b2tlbml6ZXIobGFuZykKICAgIGNvcnB1c19tZXRyaWNfc2NvcmVfbWV0cmljOiBVbmlvbltCTEVVLCBDSFJGXQogICAgaWYgbWV0cmljID09ICJibGV1IjoKICAgICAgICBjb3JwdXNfbWV0cmljX3Njb3JlX21ldHJpYyA9IEJMRVUoCiAgICAgICAgICAgIGxvd2VyY2FzZT13aGlzcGVyX25vcm1hbGl6ZV90ZXh0LCB0b2tlbml6ZT10b2tlbml6ZXJfbmFtZQogICAgICAgICkgICMgbG93ZXJjYXNlIGFwcGxpZWQgaWYgd2UgdXNlIHdoaXNwZXJfbm9ybWFsaXplX3RleHQKICAgIGVsaWYgbWV0cmljID09ICJjaHJGKysiOgogICAgICAgIGNvcnB1c19tZXRyaWNfc2NvcmVfbWV0cmljID0gQ0hSRih3b3JkX29yZGVyPTIpCgogICAgY29ycHVzX21ldHJpY19zY29yZSA9IGNvcnB1c19tZXRyaWNfc2NvcmVfbWV0cmljLmNvcnB1c19zY29yZSgKICAgICAgICBoeXBfdGV4dF9zZXJpZXMudG9fbGlzdCgpLCBbcmVmX3RleHRfc2VyaWVzLnRvX2xpc3QoKV0KICAgICkKICAgIGNvcnB1c19tZXRyaWNfc2NvcmVfc2lnbmF0dXJlID0gY29ycHVzX21ldHJpY19zY29yZV9tZXRyaWMuZ2V0X3NpZ25hdHVyZSgpCiAgICBjb3JwdXNfbWV0cmljX3Njb3JlX3NpZ25hdHVyZS5pbmZvWyJ3aGlzcGVyX25vcm1hbGl6ZSJdID0gd2hpc3Blcl9ub3JtYWxpemVfdGV4dAoKICAgIHJldHVybiBjb3JwdXNfbWV0cmljX3Njb3JlLCBjb3JwdXNfbWV0cmljX3Njb3JlX3NpZ25hdHVyZQoKCmRlZiBjb21wdXRlX3F1YWxpdHlfbWV0cmljcygKICAgIG91dHB1dF9tYW5pZmVzdF90c3ZfcGF0aDogUGF0aCwKICAgIG91dHB1dF9wYXRoOiBQYXRoLAogICAgdGd0X2xhbmc6IHN0ciwKICAgIHRhc2s6IHN0ciwKICAgIGRldmljZTogRGV2aWNlLAogICAgd2hpc3Blcl9tb2RlbF9uYW1lOiBzdHIgPSAibGFyZ2UiLAogICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQ6IGJvb2wgPSBGYWxzZSwKICAgIHJlZl90ZXh0X2NvbF9uYW1lOiBzdHIgPSAicmVmX3RndF90ZXh0IiwKICAgIHByZWRfdGV4dF9jb2xfbmFtZTogT3B0aW9uYWxbc3RyXSA9ICJwcmVkX3RndF90ZXh0IiwKICAgIHByZWRfYXVkaW9fY29sX25hbWU6IHN0ciA9ICJwcmVkX3RndF9hdWRpbyIsCikgLT4gc3RyOgogICAgIiIiV3JhcHMgYXNyIGFuZCBzMnQgYmxldSBmdW5jdGlvbnMgdG8gY2FsbCBpdCB3aXRoIFRTViBtYW5pZmVzdCBjb21wb3NlZCBvbiBleHByZXNzaXZpdHkgc2lkZQogICAgQXJnczoKICAgICAgICBvdXRwdXRfbWFuaWZlc3RfdHN2X3BhdGggKFBhdGgpOiBvdXRwdXQgbWFuaWZlc3Qgd2hpY2ggaGFzICJyZWZfdGV4dCIsICJoeXBvX2F1ZGlvIiwgInMydF9vdXQiIGNvbHVtbiBuYW1lcwogICAgICAgIG91dHB1dF9wYXRoIChQYXRoKTogRGlyZWN0b3J5IHRvIHdyaXRlIGZpbGVzIHdpdGggbWV0cmljcwogICAgICAgIHRndF9sYW5nIChzdHIpOiB3aGF0IGxhbmd1YWdlIHdlIGV2YWx1YXRlIG9uCiAgICAgICAgdGFzayAoc3RyKTogVGFzayB3ZSBhcmUgY3VycmVudGx5IGV2YWx1YXRpbmcgZm9yCiAgICAgICAgZGV2aWNlIChEZXZpY2UpOiBEZXZpY2UgdG8gdXNlIGZvciBpbmZlcmVuY2UKICAgICAgICB3aGlzcGVyX21vZGVsX25hbWUgKHN0cik6IFdoaXNwZXIgbW9kZWwgbmFtZS4gRGVmYXVsdHMgdG8gImxhcmdlIi4KICAgICAgICB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dCAoYm9vbCk6IE5vcm1hbGl6ZXMgdGV4dCBvdXRwdXQgdXNpbmcgd2hpc3Blcl9ub3JtYWxpemVyIGlmIHNldCB0byB0cnVlCiAgICAgICAgcmVmX3RleHRfY29sX25hbWUgKHN0cik6IENvbHVtbiBuYW1lIGluIHRoZSB0c3YgY29ycmVzcG9uZGluZyB0byByZWZlcmVuY2UgdGFyZ2V0IHRleHQKICAgICAgICBwcmVkX3RleHRfY29sX25hbWUgKHN0cik6IENvbHVtbiBuYW1lIGluIHRoZSB0c3YgY29ycmVzcG9uZGluZyB0byBwcmVkaWN0ZWQgdGFyZ2V0IHRleHQKICAgICAgICBwcmVkX2F1ZGlvX2NvbF9uYW1lIChzdHIpOiBDb2x1bW4gbmFtZSBpbiB0aGUgdHN2IGNvcnJlc3BvbmRpbmcgdG8gcHJlZGljdGVkIHRhcmdldCBhdWRpby4KICAgICAgICAgICAgU2V0dGluZyB0aGlzIHZhbHVlIHRvIG5vbmUgd2lsbCBza2lwIHNwZWVjaCBtZXRyaWNzCiAgICAiIiIKICAgIGRmID0gcGQucmVhZF9jc3YoCiAgICAgICAgb3V0cHV0X21hbmlmZXN0X3Rzdl9wYXRoLCBzZXA9Ilx0IiwgcXVvdGluZz0zLCBlbmNvZGluZz0idXRmLTgiLCBlc2NhcGVjaGFyPSJcXCIKICAgICkKICAgIHRhc2sgPSB0YXNrLnVwcGVyKCkKCiAgICBpZiBub3Qgb3V0cHV0X3BhdGguZXhpc3RzKCk6CiAgICAgICAgb3V0cHV0X3BhdGgubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQoKICAgIGlmIHRhc2sgaW4gWyJTMlRUIiwgIlMyU1QiLCAiVDJUVCJdIGFuZCBwcmVkX3RleHRfY29sX25hbWU6CiAgICAgICAgbWV0cmljID0gImNockYrKyIgaWYgdGFzayA9PSAiVDJUVCIgZWxzZSAiYmxldSIKICAgICAgICB0ZXh0X21ldHJpYywgdGV4dF9tZXRyaWNfc2lnbmF0dXJlID0gY29tcHV0ZV9jb3JwdXNfbWV0cmljX3Njb3JlKAogICAgICAgICAgICBoeXBfdGV4dF9zZXJpZXM9ZGZbcHJlZF90ZXh0X2NvbF9uYW1lXSwKICAgICAgICAgICAgcmVmX3RleHRfc2VyaWVzPWRmW3JlZl90ZXh0X2NvbF9uYW1lXSwKICAgICAgICAgICAgbGFuZz10Z3RfbGFuZywKICAgICAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dD13aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dCwKICAgICAgICAgICAgbWV0cmljPW1ldHJpYywKICAgICAgICApCiAgICAgICAgdGV4dF9tZXRyaWNfanNvbiA9IHRleHRfbWV0cmljLmZvcm1hdCgKICAgICAgICAgICAgc2lnbmF0dXJlPXRleHRfbWV0cmljX3NpZ25hdHVyZS5mb3JtYXQoKSwgaXNfanNvbj1UcnVlCiAgICAgICAgKQoKICAgICAgICBpZiB0YXNrID09ICJUMlRUIjoKICAgICAgICAgICAgZmlsZW5hbWUgPSAidDJ0dF9jaHJmLmpzb24iCiAgICAgICAgICAgIGN1cl90YXNrID0gIlQyVFQiCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZmlsZW5hbWUgPSAoCiAgICAgICAgICAgICAgICAiczJ0dF9ibGV1X25vcm1hbGl6ZWQuanNvbiIKICAgICAgICAgICAgICAgIGlmIHdoaXNwZXJfbm9ybWFsaXplX3RleHRfb3V0cHV0CiAgICAgICAgICAgICAgICBlbHNlICJzMnR0X2JsZXUuanNvbiIKICAgICAgICAgICAgKQogICAgICAgICAgICBjdXJfdGFzayA9ICJTMlRUIgoKICAgICAgICB3aXRoIG9wZW4ob3V0cHV0X3BhdGggLyBmaWxlbmFtZSwgInciKSBhcyBmOgogICAgICAgICAgICBmLndyaXRlKHRleHRfbWV0cmljX2pzb24pCgogICAgICAgIGxvZ2dlci5pbmZvKGYie2N1cl90YXNrfSB7bWV0cmljfTpcbnt0ZXh0X21ldHJpY19qc29ufSIpCgogICAgaWYgdGFzayBpbiBbIlQyU1QiLCAiUzJTVCJdOgogICAgICAgIHdoaXNwZXJfbW9kZWwgPSBpbml0X3doaXNwZXJfbW9kZWwoZGV2aWNlLCB3aGlzcGVyX21vZGVsX25hbWUpCiAgICAgICAgKAogICAgICAgICAgICBhc3JfYmxldV9ub3JtYWxpemVkLAogICAgICAgICAgICBhc3JfYmxldV9ub3JtYWxpemVkX3NpZ25hdHVyZSwKICAgICAgICAgICAgdHJhbnNjcmlwdHNfZGYsCiAgICAgICAgKSA9IGNvbXB1dGVfYXNyX2JsZXUoCiAgICAgICAgICAgIGF1ZGlvX3BhdGhzX3Nlcmllcz1kZltwcmVkX2F1ZGlvX2NvbF9uYW1lXSwKICAgICAgICAgICAgcmVmX3RleHRfc2VyaWVzPWRmW3JlZl90ZXh0X2NvbF9uYW1lXSwKICAgICAgICAgICAgbGFuZz10Z3RfbGFuZywKICAgICAgICAgICAgYXNyX21vZGVsPXdoaXNwZXJfbW9kZWwsCiAgICAgICAgICAgIHdoaXNwZXJfbm9ybWFsaXplX3RleHQ9VHJ1ZSwKICAgICAgICApCiAgICAgICAgdHJhbnNjcmlwdHNfZGYudG9fY3N2KAogICAgICAgICAgICAob3V0cHV0X3BhdGggLyAid2hpc3Blcl9hdWRpb190cmFuc2NyaXB0aW9ucy50c3YiKSwKICAgICAgICAgICAgc2VwPSJcdCIsCiAgICAgICAgICAgIGluZGV4PUZhbHNlLAogICAgICAgICAgICBlbmNvZGluZz0idXRmLTgiLAogICAgICAgICAgICBlc2NhcGVjaGFyPSJcXCIsCiAgICAgICAgKQoKICAgICAgICBhc3JfYmxldV9ub3JtYWxpemVkX3NpZ25hdHVyZS5pbmZvWyJ3aGlzcGVyX2Fzcl9tb2RlbCJdID0gd2hpc3Blcl9tb2RlbF9uYW1lCgogICAgICAgIGFzcl9ibGV1X25vcm1hbGl6ZWRfanNvbiA9IGFzcl9ibGV1X25vcm1hbGl6ZWQuZm9ybWF0KAogICAgICAgICAgICBzaWduYXR1cmU9YXNyX2JsZXVfbm9ybWFsaXplZF9zaWduYXR1cmUuZm9ybWF0KCksIGlzX2pzb249VHJ1ZQogICAgICAgICkKICAgICAgICBmaWxlbmFtZSA9IGYie3Rhc2subG93ZXIoKX1fYXNyX2JsZXVfbm9ybWFsaXplZC5qc29uIgoKICAgICAgICB3aXRoIG9wZW4oCiAgICAgICAgICAgIG91dHB1dF9wYXRoIC8gZmlsZW5hbWUsCiAgICAgICAgICAgICJ3IiwKICAgICAgICApIGFzIGY6CiAgICAgICAgICAgIGYud3JpdGUoYXNyX2JsZXVfbm9ybWFsaXplZF9qc29uKQoKICAgICAgICBsb2dnZXIuaW5mbyhmInt0YXNrfSBBU1IgTm9ybWFsaXplZCBCTEVVOlxue2Fzcl9ibGV1X25vcm1hbGl6ZWRfanNvbn0iKQoKICAgIGlmIHRhc2sgPT0gIkFTUiI6CiAgICAgICAgYXNyX2Vycm9yX3JhdGUsIGFzcl9lcnJvcl9yYXRlX3NpZ25hdHVyZSA9IGNvbXB1dGVfYXNyX2Vycm9yX3JhdGUoCiAgICAgICAgICAgIGh5cF90ZXh0X3Nlcmllcz1kZltwcmVkX3RleHRfY29sX25hbWVdLAogICAgICAgICAgICByZWZfdGV4dF9zZXJpZXM9ZGZbcmVmX3RleHRfY29sX25hbWVdLAogICAgICAgICAgICBsYW5nPXRndF9sYW5nLAogICAgICAgICAgICB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0PXdoaXNwZXJfbm9ybWFsaXplX3RleHRfb3V0cHV0LAogICAgICAgICkKICAgICAgICBkID0gewogICAgICAgICAgICAibmFtZSI6ICJXRVIiLAogICAgICAgICAgICAic2NvcmUiOiBhc3JfZXJyb3JfcmF0ZSwKICAgICAgICAgICAgInNpZ25hdHVyZSI6IGFzcl9lcnJvcl9yYXRlX3NpZ25hdHVyZSwKICAgICAgICB9CiAgICAgICAgYXNyX2Vycm9yX3JhdGVfanNvbiA9IGpzb24uZHVtcHMoZCwgaW5kZW50PTEsIGVuc3VyZV9hc2NpaT1GYWxzZSkKCiAgICAgICAgZmlsZW5hbWUgPSAiYXNyX2Vycm9yX3JhdGUuanNvbiIKCiAgICAgICAgd2l0aCBvcGVuKG91dHB1dF9wYXRoIC8gZmlsZW5hbWUsICJ3IikgYXMgZjoKICAgICAgICAgICAgZi53cml0ZShhc3JfZXJyb3JfcmF0ZV9qc29uKQoKICAgICAgICBsb2dnZXIuaW5mbyhmIkFTUiA6IHthc3JfZXJyb3JfcmF0ZV9qc29ufSIpCgogICAgcmV0dXJuIGZpbGVuYW1lCg=='),
    ('seamless/build/lib/seamless_communication/cli/eval_utils/lang_mapping.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCkxBTkcyX0xBTkczID0gewogICAgImVuIjogImVuZyIsCiAgICAiYXIiOiAiYXJiIiwKICAgICJhcyI6ICJhc20iLAogICAgImJlIjogImJlbCIsCiAgICAiYmciOiAiYnVsIiwKICAgICJibiI6ICJiZW4iLAogICAgImNhIjogImNhdCIsCiAgICAiY2tiIjogImNrYiIsCiAgICAiY3MiOiAiY2VzIiwKICAgICJjeSI6ICJjeW0iLAogICAgImRhIjogImRhbiIsCiAgICAiZGUiOiAiZGV1IiwKICAgICJlbCI6ICJlbGwiLAogICAgImVzIjogInNwYSIsCiAgICAiZXQiOiAiZXN0IiwKICAgICJmYSI6ICJwZXMiLAogICAgImZpIjogImZpbiIsCiAgICAiZnIiOiAiZnJhIiwKICAgICJnYSI6ICJnbGUiLAogICAgImhpIjogImhpbiIsCiAgICAiaHUiOiAiaHVuIiwKICAgICJpZCI6ICJpbmQiLAogICAgIml0IjogIml0YSIsCiAgICAiamEiOiAianBuIiwKICAgICJrYSI6ICJrYXQiLAogICAgImt5IjogImtpciIsCiAgICAibGciOiAibHVnIiwKICAgICJsdCI6ICJsaXQiLAogICAgImx2IjogImx2cyIsCiAgICAibW4iOiAia2hrIiwKICAgICJtciI6ICJtYXIiLAogICAgIm10IjogIm1sdCIsCiAgICAibmwiOiAibmxkIiwKICAgICJwYSI6ICJwYW4iLAogICAgInBsIjogInBvbCIsCiAgICAicHQiOiAicG9yIiwKICAgICJybyI6ICJyb24iLAogICAgInJ1IjogInJ1cyIsCiAgICAic2siOiAic2xrIiwKICAgICJzbCI6ICJzbHYiLAogICAgInN2IjogInN3ZSIsCiAgICAic3ciOiAic3doIiwKICAgICJ0YSI6ICJ0YW0iLAogICAgInRoIjogInRoYSIsCiAgICAidHIiOiAidHVyIiwKICAgICJ1ayI6ICJ1a3IiLAogICAgInVyIjogInVyZCIsCiAgICAidXoiOiAidXpuIiwKICAgICJ2aSI6ICJ2aWUiLAogICAgInl1ZSI6ICJ5dWUiLAogICAgImFmIjogImFmciIsCiAgICAiaXMiOiAiaXNsIiwKICAgICJsYiI6ICJsdHoiLAogICAgIm5vIjogIm5vYiIsCiAgICAiZ2wiOiAiZ2xnIiwKICAgICJrZWEiOiAia2VhIiwKICAgICJicyI6ICJib3MiLAogICAgImhyIjogImhydiIsCiAgICAibWsiOiAibWtkIiwKICAgICJzciI6ICJzcnAiLAogICAgImh5IjogImh5ZSIsCiAgICAiYXoiOiAiYXpqIiwKICAgICJrayI6ICJrYXoiLAogICAgImtvIjogImtvciIsCiAgICAiZ3UiOiAiZ3VqIiwKICAgICJrbiI6ICJrYW4iLAogICAgIm5lIjogIm5waSIsCiAgICAib3IiOiAib3J5IiwKICAgICJzZCI6ICJzbmQiLAogICAgInRlIjogInRlbCIsCiAgICAiY2ViIjogImNlYiIsCiAgICAianYiOiAiamF2IiwKICAgICJtcyI6ICJ6bG0iLAogICAgIm1sIjogIm1hbCIsCiAgICAidGwiOiAidGdsIiwKICAgICJ0bCI6ICJmaWwiLAogICAgIm15IjogIm15YSIsCiAgICAia20iOiAia2htIiwKICAgICJsbyI6ICJsYW8iLAogICAgImhlIjogImhlYiIsCiAgICAicHMiOiAicGJ0IiwKICAgICJ0ZyI6ICJ0Z2siLAogICAgImFtIjogImFtaCIsCiAgICAiaWciOiAiaWJvIiwKICAgICJsbiI6ICJsaW4iLAogICAgIm5zbyI6ICJuc28iLAogICAgInNvIjogInNvbSIsCiAgICAieGgiOiAieGhvIiwKICAgICJ5byI6ICJ5b3IiLAogICAgInp1IjogInp1bCIsCiAgICAia2FtIjogImthbSIsCiAgICAibHVvIjogImx1byIsCiAgICAibnkiOiAibnlhIiwKICAgICJvbSI6ICJnYXoiLAogICAgInNuIjogInNuYSIsCiAgICAidW1iIjogInVtYiIsCiAgICAiZ2EtSUUiOiAiZ2xlIiwKICAgICJwYSI6ICJwYW4iLAogICAgInN2IjogInN3ZSIsCiAgICAiYXN0IjogImFzdCIsCiAgICAiZmYiOiAiZnVsIiwKICAgICJtaSI6ICJtcmkiLAogICAgImhhIjogImhhdSIsCiAgICAid28iOiAid29sIiwKICAgICJvYyI6ICJvY2kiLAogICAgImlsbyI6ICJpbG8iLAogICAgImJhIjogImJhayIsCiAgICAiYnIiOiAiYnJlIiwKICAgICJmeSI6ICJmcnkiLAogICAgInlpIjogInlpZCIsCiAgICAidG4iOiAidHNuIiwKICAgICJnZCI6ICJnbGEiLAogICAgImh0IjogImhhdCIsCiAgICAibWciOiAibWxnIiwKICAgICJucyI6ICJuc28iLAogICAgInNpIjogInNpbiIsCiAgICAic3EiOiAic3FpIiwKICAgICJzcyI6ICJzc3ciLAogICAgInN1IjogInN1biIsCiAgICAiemgiOiAiY21uIiwKICAgICJhYiI6ICJhYmsiLAogICAgImJhcyI6ICJiYXMiLAogICAgImNuaCI6ICJjbmgiLAogICAgImN2IjogImNodiIsCiAgICAiZHYiOiAiZGl2IiwKICAgICJlbyI6ICJlcG8iLAogICAgImV1IjogImV1cyIsCiAgICAiZnktTkwiOiAiZnJ5IiwKICAgICJnbiI6ICJncm4iLAogICAgImhzYiI6ICJoc2IiLAogICAgImh5IjogImh5ZSIsCiAgICAiaWEiOiAiaW5hIiwKICAgICJrYWIiOiAia2FiIiwKICAgICJrbXIiOiAia21yIiwKICAgICJtZGYiOiAibWRmIiwKICAgICJtaHIiOiAibWhyIiwKICAgICJteXYiOiAibXl2IiwKICAgICJuYW4tdHciOiAiaGJsIiwKICAgICJuZSI6ICJucGkiLAogICAgIm5uLU5PIjogIm5ubyIsCiAgICAicm0tc3Vyc2lsdiI6ICJybS1zdXJzaWx2IiwKICAgICJybS12YWxsYWRlciI6ICJybS12YWxsYWRlciIsCiAgICAicnciOiAia2luIiwKICAgICJzYWgiOiAic2FoIiwKICAgICJzYXQiOiAic2F0IiwKICAgICJzYyI6ICJzcmQiLAogICAgInRpZyI6ICJ0aWciLAogICAgInRvayI6ICJ0b2siLAogICAgInR0IjogInRhdCIsCiAgICAidWciOiAidWlnIiwKICAgICJ2b3QiOiAidm90IiwKICAgICJtcmoiOiAibXJqIiwKICAgICJza3IiOiAic2tyIiwKICAgICJ0aSI6ICJ0aXIiLAogICAgInR3IjogInR3aSIsCiAgICAiYm8iOiAiYm9kIiwKICAgICJmbyI6ICJmYW8iLAogICAgImd2IjogImdsdiIsCiAgICAiaGF3IjogImhhdyIsCiAgICAibGEiOiAibGF0IiwKICAgICJzYSI6ICJzYW4iLAogICAgInNjbyI6ICJzY28iLAogICAgIndhciI6ICJ3YXIiLAogICAgImhlIjogImhlYiIsCiAgICAianciOiAiamF2IiwKICAgICJubiI6ICJubm8iLAogICAgInRrIjogInR1ayIsCn0KTEFORzNfTEFORzIgPSB7djogayBmb3IgaywgdiBpbiBMQU5HMl9MQU5HMy5pdGVtcygpfQo='),
    ('seamless/build/lib/seamless_communication/cli/m4t/__init__.py', ''),
    ('seamless/build/lib/seamless_communication/cli/m4t/audio_to_units/audio_to_units.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKaW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBsb2dnaW5nCgppbXBvcnQgdG9yY2gKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdF9leHRyYWN0b3IgaW1wb3J0IFVuaXRFeHRyYWN0b3IKCmxvZ2dpbmcuYmFzaWNDb25maWcobGV2ZWw9bG9nZ2luZy5JTkZPKQpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgbWFpbigpOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoCiAgICAgICAgZGVzY3JpcHRpb249IkNvbnZlcnQgcmF3IGF1ZGlvIHRvIHVuaXRzIChhbmQgb3B0aW9uYWxseSBhdWRpbykgdXNpbmcgVW5pdEV4dHJhY3Rvci4iCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCJhdWRpbyIsIHR5cGU9c3RyLCBoZWxwPSJBdWRpbyBXQVYgZmlsZSBwYXRoLiIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWttZWFuc191cmkiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IlVSTCBwYXRoIHRvIHRoZSBLLU1lYW5zIG1vZGVsLiIsCiAgICAgICAgZGVmYXVsdD0iaHR0cHM6Ly9kbC5mYmFpcHVibGljZmlsZXMuY29tL3NlYW1sZXNzTTRUL21vZGVscy91bml0X2V4dHJhY3Rpb24va21lYW5zXzEway5ucHkiLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1tb2RlbF9uYW1lIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJGZWF0dXJlIGV4dHJhY3Rpb24gbW9kZWwgbmFtZSAoYHhsc3IyXzFiX3YyYCkiLAogICAgICAgIGRlZmF1bHQ9Inhsc3IyXzFiX3YyIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tb3V0X2xheWVyX251bWJlciIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iTGF5ZXIgbnVtYmVyIG9mIHRoZSBmZWF0dXJlIGV4dHJhY3Rpb24gbW9kZWwgdG8gcHVsbCBvdXQgZmVhdHVyZXMgZnJvbS4iLAogICAgICAgIGRlZmF1bHQ9MzUsCiAgICApCgogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKCiAgICBpZiB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpOgogICAgICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3VkYTowIikKICAgICAgICBsb2dnZXIuaW5mbygiUnVubmluZyB1bml0X2V4dHJhY3Rpb24gb24gdGhlIEdQVS4iKQogICAgZWxzZToKICAgICAgICBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoImNwdSIpCiAgICAgICAgbG9nZ2VyLmluZm8oIlJ1bm5pbmcgdW5pdF9leHRyYWN0aW9uIG9uIHRoZSBDUFUuIikKCiAgICB1bml0X2V4dHJhY3RvciA9IFVuaXRFeHRyYWN0b3IoYXJncy5tb2RlbF9uYW1lLCBhcmdzLmttZWFuc191cmksIGRldmljZT1kZXZpY2UpCiAgICB1bml0cyA9IHVuaXRfZXh0cmFjdG9yLnByZWRpY3QoYXJncy5hdWRpbywgYXJncy5vdXRfbGF5ZXJfbnVtYmVyIC0gMSkKICAgIGxvZ2dlci5pbmZvKGYiQ29udmVydGVkIHRvIHVuaXRzOiB7dW5pdHN9IikKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=='),
    ('seamless/build/lib/seamless_communication/cli/m4t/audio_to_units/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCg=='),
    ('seamless/build/lib/seamless_communication/cli/m4t/evaluate/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCg=='),
    ('seamless/build/lib/seamless_communication/cli/m4t/evaluate/evaluate.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgY29udGV4dGxpYgppbXBvcnQgaXRlcnRvb2xzCmltcG9ydCBsb2dnaW5nCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCBqc29uCmZyb20gYXJncGFyc2UgaW1wb3J0IE5hbWVzcGFjZQpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QsIE9wdGlvbmFsLCBUdXBsZQoKaW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaGF1ZGlvCmZyb20gZmFpcnNlcTIuZGF0YSBpbXBvcnQgQ29sbGF0ZXIsIERhdGFQaXBlbGluZSwgRmlsZU1hcHBlcgpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IEF1ZGlvRGVjb2RlciwgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0IGltcG9ydCBTdHJTcGxpdHRlciwgVGV4dFRva2VuaXplciwgcmVhZF90ZXh0CmZyb20gZmFpcnNlcTIuZGF0YS50eXBpbmcgaW1wb3J0IFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdHFkbSBpbXBvcnQgdHFkbQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmNsaS5ldmFsX3V0aWxzIGltcG9ydCAoCiAgICBjb21wdXRlX3F1YWxpdHlfbWV0cmljcywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5wcmVkaWN0IGltcG9ydCAoCiAgICBhZGRfaW5mZXJlbmNlX2FyZ3VtZW50cywKICAgIHNldF9nZW5lcmF0aW9uX29wdHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eSBpbXBvcnQgVW5pdFlNb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlIGltcG9ydCAoCiAgICBCYXRjaGVkU3BlZWNoT3V0cHV0LAogICAgTW9kYWxpdHksCiAgICBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMsCiAgICBUcmFuc2xhdG9yLAopCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBkYXRhY2xhc3MKY2xhc3MgRXZhbENvbnRleHQ6CiAgICB0YXNrOiBzdHIKICAgICIiIlN0cmluZyByZXByZXNlbnRpbmcgdGhlIHRhc2suIFZhbGlkIGNob2ljZXMgYXJlCiAgICAiUzJTVCIsICJTMlRUIiwgIlQyU1QiLCAiVDJUVCIsICJBU1IiLiIiIgoKICAgIGlucHV0X21vZGFsaXR5OiBNb2RhbGl0eQogICAgIiIiVGhlIGlucHV0IG1vZGFsaXR5IG9mIHRoZSB0YXNrLiIiIgoKICAgIG91dHB1dF9tb2RhbGl0eTogTW9kYWxpdHkKICAgICIiIlRoZSBvdXRwdXQgbW9kYWxpdHkgb2YgdGhlIHRhc2suIiIiCgogICAgbW9kZWxfbmFtZTogc3RyCiAgICAiIiJUaGUgbmFtZSBvZiB0aGUgUzJUIFVuaXRZIG1vZGVsLiIiIgoKICAgIGRhdGFfZmlsZTogUGF0aAogICAgIiIiVGhlIHBhdGhuYW1lIG9mIHRoZSB0ZXN0IGRhdGEgZmlsZSwgVFNWIG9yIG1hbmlmZXN0IEpTT04uIiIiCiAgICAKICAgIGRhdGFfZmlsZV90eXBlOiBzdHIKICAgICIiIlR5cGUgb2YgZGF0YSBmaWxlLCBUU1Ygb3IgbWFuaWZlc3QgSlNPTi4iIiIKCiAgICBhdWRpb19yb290X2RpcjogT3B0aW9uYWxbUGF0aF0KICAgICIiIlRoZSBwYXRobmFtZSBvZiB0aGUgZGlyZWN0b3J5IHVuZGVyIHdoaWNoCiAgICBhdWRpbyBmaWxlcyBhcmUgc3RvcmVkLiIiIgoKICAgIHRhcmdldF9sYW5nOiBzdHIKICAgICIiIlRoZSB0YXJnZXQgdHJhbnNsYXRpb24gbGFuZ3VhZ2UuIiIiCgogICAgc291cmNlX2xhbmc6IE9wdGlvbmFsW3N0cl0KICAgICIiIlRoZSBzb3VyY2UgbGFuZ3VhZ2UuIiIiCgogICAgYmF0Y2hfc2l6ZTogaW50CiAgICAiIiJUaGUgYmF0Y2ggc2l6ZSBmb3IgbW9kZWwgaW5wdXQuIiIiCgogICAgZGV2aWNlOiBEZXZpY2UKICAgICIiIlRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gcnVuIGluZmVyZW5jZS4iIiIKCiAgICBkdHlwZTogRGF0YVR5cGUKICAgICIiIlRoZSBkYXRhIHR5cGUgd2l0aCB3aGljaCB0byBydW4gaW5mZXJlbmNlLiIiIgoKICAgIG91dHB1dF9wYXRoOiBQYXRoCiAgICAiIiJUaGUgcGF0aG5hbWUgb2YgdGhlIG91dHB1dCBkaXJlY3RvcnkgdG8gc2F2ZQogICAgdGhlIGV2YWx1YXRpb24gcmVzdWx0cy4iIiIKCiAgICByZWZfZmllbGQ6IHN0cgogICAgIiIiVGhlIHJlZmVyZW5jZSB0YXJnZXQgdGV4dCBmaWVsZCB0byBjb21wdXRlCiAgICB0aGUgQkxFVSBzY29yZSBhZ2FpbnN0LiIiIgoKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzOiBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMKICAgICIiIlRleHQgZ2VuZXJhdGlvbiBoeXBlcnBhcmFtZXRlcnMuIiIiCgogICAgdW5pdF9nZW5lcmF0aW9uX29wdHM6IE9wdGlvbmFsW1NlcXVlbmNlR2VuZXJhdG9yT3B0aW9uc10KICAgICIiIlVuaXQgZ2VuZXJhdGlvbiBoeXBlcnBhcmFtZXRlcnMsIG5vdCBhcHBsaWNhYmxlCiAgICBmb3IgdGhlIE5BUiBUMlUgZGVjb2Rlci4iIiIKCiAgICB1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nOiBib29sCiAgICAiIiJJZiBUcnVlLCByZW1vdmVzIGNvbnNlY3V0aXZlIHJlcGVhdGluZyBuZ3JhbXMKICAgIGZyb20gdGhlIGRlY29kZWQgdW5pdCBvdXRwdXQuIiIiCgoKZGVmIGNvdW50X2xpbmVzKGZpbGVuYW1lOiBQYXRoKSAtPiBpbnQ6CiAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bihbIndjIiwgIi1sIiwgZmlsZW5hbWVdLCBzdGRvdXQ9c3VicHJvY2Vzcy5QSVBFKQogICAgcmV0dXJuIGludChyZXN1bHQuc3Rkb3V0LmRlY29kZSgpLnNwbGl0KClbMF0pCgoKZGVmIGJ1aWxkX2RhdGFfcGlwZWxpbmUoCiAgICBjdHg6IEV2YWxDb250ZXh0LAogICAgdGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIsCikgLT4gRGF0YVBpcGVsaW5lOgogICAgCiAgICBpZiBjdHguZGF0YV9maWxlX3R5cGUgPT0gIlRTViI6CiAgICAgICAgd2l0aCBvcGVuKGN0eC5kYXRhX2ZpbGUsICJyIikgYXMgZjoKICAgICAgICAgICAgaGVhZGVyID0gZi5yZWFkbGluZSgpLnN0cmlwKCJcbiIpLnNwbGl0KCJcdCIpCiAgICAgICAgICAgIGZpcnN0X2V4YW1wbGUgPSBmLnJlYWRsaW5lKCkuc3RyaXAoIlxuIikuc3BsaXQoIlx0IikKCiAgICAgICAgZm9ybWF0X3RzdiA9IFN0clNwbGl0dGVyKG5hbWVzPWhlYWRlcikKICAgICAgICBwaXBlbGluZV9idWlsZGVyID0gcmVhZF90ZXh0KGN0eC5kYXRhX2ZpbGUsIHJ0cmltPVRydWUpLnNraXAoMSkubWFwKGZvcm1hdF90c3YpCiAgICAgICAgCiAgICBlbGlmIGN0eC5kYXRhX2ZpbGVfdHlwZSA9PSAiSlNPTiI6CiAgICAgICAgZGVmIGZvcm1hdF9qc29uKGxpbmU6IHN0cik6CiAgICAgICAgICAgIGV4YW1wbGUgPSBqc29uLmxvYWRzKHN0cihsaW5lKSkKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICJzcmNfdGV4dCI6IGV4YW1wbGVbInNvdXJjZSJdWyJ0ZXh0Il0sCiAgICAgICAgICAgICAgICAic3JjX2xhbmciOiBleGFtcGxlWyJzb3VyY2UiXVsibGFuZyJdLAogICAgICAgICAgICAgICAgImF1ZGlvIjogZXhhbXBsZVsic291cmNlIl1bImF1ZGlvX2xvY2FsX3BhdGgiXSwKICAgICAgICAgICAgICAgICJ0Z3RfdGV4dCI6IGV4YW1wbGVbInRhcmdldCJdWyJ0ZXh0Il0sCiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICB3aXRoIG9wZW4oY3R4LmRhdGFfZmlsZSwgInIiKSBhcyBmOgogICAgICAgICAgICBoZWFkZXIgPSBsaXN0KGZvcm1hdF9qc29uKGYucmVhZGxpbmUoKSkua2V5cygpKQogICAgICAgICAgICBmaXJzdF9leGFtcGxlID0gbGlzdChmb3JtYXRfanNvbihmLnJlYWRsaW5lKCkpLnZhbHVlcygpKQogICAgICAgICAgICAKICAgICAgICBwaXBlbGluZV9idWlsZGVyID0gcmVhZF90ZXh0KGN0eC5kYXRhX2ZpbGUsIHJ0cmltPVRydWUpLm1hcChmb3JtYXRfanNvbikKICAgICAgICAKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcgoKICAgICMgVE9ETzogVGhpcyB3aWxsIGJlIHNvb24gYXV0by10dW5lZC4gUmlnaHQgbm93IGhhbmQtdHVuZWQgZm9yIGRldmZhaXIuCiAgICBuX3BhcmFsbGVsID0gNAogICAgaWYgY3R4LmlucHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICBhc3NlcnQgY3R4LmF1ZGlvX3Jvb3RfZGlyIGlzIG5vdCBOb25lCgogICAgICAgIG1hcF9maWxlID0gRmlsZU1hcHBlcihyb290X2Rpcj1jdHguYXVkaW9fcm9vdF9kaXIsIGNhY2hlZF9mZF9jb3VudD0xMCkKCiAgICAgICAgcGlwZWxpbmVfYnVpbGRlci5tYXAobWFwX2ZpbGUsIHNlbGVjdG9yPSJhdWRpbyIsIG51bV9wYXJhbGxlbF9jYWxscz1uX3BhcmFsbGVsKQoKICAgICAgICBkZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWN0eC5kZXZpY2UpCgogICAgICAgIGNvbnZlcnRfdG9fZmJhbmsgPSBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoCiAgICAgICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgICAgIGNoYW5uZWxfbGFzdD1UcnVlLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1UcnVlLAogICAgICAgICAgICBkZXZpY2U9Y3R4LmRldmljZSwKICAgICAgICAgICAgZHR5cGU9Y3R4LmR0eXBlLAogICAgICAgICkKCiAgICAgICAgcGlwZWxpbmVfYnVpbGRlci5tYXAoCiAgICAgICAgICAgIFtkZWNvZGVfYXVkaW8sIGNvbnZlcnRfdG9fZmJhbmtdLAogICAgICAgICAgICBzZWxlY3Rvcj0iYXVkaW8uZGF0YSIsCiAgICAgICAgICAgIG51bV9wYXJhbGxlbF9jYWxscz1uX3BhcmFsbGVsLAogICAgICAgICkKICAgIGVsc2U6CiAgICAgICAgaWYgInNyY19sYW5nIiBpbiBoZWFkZXI6CiAgICAgICAgICAgIHNvdXJjZV9sYW5nID0gZmlyc3RfZXhhbXBsZVtoZWFkZXIuaW5kZXgoInNyY19sYW5nIildCiAgICAgICAgICAgIGN0eC5zb3VyY2VfbGFuZyA9IHNvdXJjZV9sYW5nCiAgICAgICAgZWxpZiBjdHguc291cmNlX2xhbmcgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICAiJ3NyY19sYW5nJyBpcyBtaXNzaW5nIGluIHRoZSBkYXRhX2ZpbGUiCiAgICAgICAgICAgICAgICAgICAgImhlYWRlciBhbmQgaW4gdGhlIGFyZ3VtZW50cy4iCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKCiAgICAgICAgdG9rZW5fZW5jb2RlciA9IHRleHRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKAogICAgICAgICAgICB0YXNrPSJ0cmFuc2xhdGlvbiIsIGxhbmc9c291cmNlX2xhbmcsIG1vZGU9InNvdXJjZSIsIGRldmljZT1jdHguZGV2aWNlCiAgICAgICAgKQogICAgICAgIHBpcGVsaW5lX2J1aWxkZXIubWFwKAogICAgICAgICAgICBbdG9rZW5fZW5jb2Rlcl0sCiAgICAgICAgICAgIHNlbGVjdG9yPSJzcmNfdGV4dCIsCiAgICAgICAgICAgIG51bV9wYXJhbGxlbF9jYWxscz1uX3BhcmFsbGVsLAogICAgICAgICkKCiAgICBwaXBlbGluZV9idWlsZGVyLmJ1Y2tldChidWNrZXRfc2l6ZT1jdHguYmF0Y2hfc2l6ZSkKCiAgICBjb2xsYXRlID0gQ29sbGF0ZXIocGFkX3ZhbHVlPTAsIHBhZF90b19tdWx0aXBsZT0xKQoKICAgIHBpcGVsaW5lX2J1aWxkZXIubWFwKGNvbGxhdGUsIG51bV9wYXJhbGxlbF9jYWxscz1uX3BhcmFsbGVsKQoKICAgIHBpcGVsaW5lX2J1aWxkZXIucHJlZmV0Y2goNCkKCiAgICByZXR1cm4gcGlwZWxpbmVfYnVpbGRlci5hbmRfcmV0dXJuKCkKCgpkZWYgYWRqdXN0X291dHB1dF9mb3JfY29ycnVwdGVkX2lucHV0cygKICAgIHZhbGlkX3NlcXVlbmNlczogVGVuc29yLAogICAgdGV4dF9vdXRwdXQ6IExpc3RbU3RyaW5nTGlrZV0sCiAgICBzcGVlY2hfb3V0cHV0OiBPcHRpb25hbFtCYXRjaGVkU3BlZWNoT3V0cHV0XSwKKSAtPiBUdXBsZVtMaXN0W1N0cmluZ0xpa2VdLCBPcHRpb25hbFtCYXRjaGVkU3BlZWNoT3V0cHV0XV06CiAgICBhZGp1c3RlZF90ZXh0X291dHB1dDogTGlzdFtTdHJpbmdMaWtlXSA9IFtdCiAgICBhZGp1c3RlZF9zcGVlY2hfb3V0cHV0OiBPcHRpb25hbFtCYXRjaGVkU3BlZWNoT3V0cHV0XSA9IE5vbmUKCiAgICBpZiBzcGVlY2hfb3V0cHV0IGlzIG5vdCBOb25lOgogICAgICAgIGFzc2VydCAoCiAgICAgICAgICAgIGxlbih0ZXh0X291dHB1dCkKICAgICAgICAgICAgPT0gbGVuKHNwZWVjaF9vdXRwdXQudW5pdHMpCiAgICAgICAgICAgID09IGxlbihzcGVlY2hfb3V0cHV0LmF1ZGlvX3dhdnMpCiAgICAgICAgKQogICAgICAgIGFkanVzdGVkX3NwZWVjaF9vdXRwdXQgPSBCYXRjaGVkU3BlZWNoT3V0cHV0KHVuaXRzPVtdLCBhdWRpb193YXZzPVtdKQoKICAgIGJhdGNoX2NvdW50ZXIgPSAwCiAgICBmb3IgaXNfdmFsaWQgaW4gdmFsaWRfc2VxdWVuY2VzOgogICAgICAgIGlmIGlzX3ZhbGlkOgogICAgICAgICAgICBhZGp1c3RlZF90ZXh0X291dHB1dC5hcHBlbmQodGV4dF9vdXRwdXRbYmF0Y2hfY291bnRlcl0pCiAgICAgICAgICAgIGlmIHNwZWVjaF9vdXRwdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBhc3NlcnQgYWRqdXN0ZWRfc3BlZWNoX291dHB1dCBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgYWRqdXN0ZWRfc3BlZWNoX291dHB1dC51bml0cy5hcHBlbmQoc3BlZWNoX291dHB1dC51bml0c1tiYXRjaF9jb3VudGVyXSkKICAgICAgICAgICAgICAgIGFkanVzdGVkX3NwZWVjaF9vdXRwdXQuYXVkaW9fd2F2cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgc3BlZWNoX291dHB1dC5hdWRpb193YXZzW2JhdGNoX2NvdW50ZXJdCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGJhdGNoX2NvdW50ZXIgKz0gMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgRm9yIHRoZSBjb3JydXB0ZWQgaW5wdXRzLCB3ZSBzYXZlIHRoZSBmb2xsb3dpbmcgZHVtbXkgb3V0cHV0czoKICAgICAgICAgICAgIyBlbXB0eSBzdHJpbmcgZm9yIHRleHQsIGVtcHR5IGxpc3QgZm9yIHVuaXRzLCAxIHNlY29uZCBvZiBzaWxlbmNlIGZvciBhdWRpby4KICAgICAgICAgICAgYWRqdXN0ZWRfdGV4dF9vdXRwdXQuYXBwZW5kKCIiKQogICAgICAgICAgICBpZiBhZGp1c3RlZF9zcGVlY2hfb3V0cHV0IGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgc2FtcGxlX3JhdGUgPSBhZGp1c3RlZF9zcGVlY2hfb3V0cHV0LnNhbXBsZV9yYXRlCiAgICAgICAgICAgICAgICBhZGp1c3RlZF9zcGVlY2hfb3V0cHV0LnVuaXRzLmFwcGVuZChbXSkKICAgICAgICAgICAgICAgIGFkanVzdGVkX3NwZWVjaF9vdXRwdXQuYXVkaW9fd2F2cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgdG9yY2guemVyb3Moc2FtcGxlX3JhdGUpLnVuc3F1ZWV6ZSgwKS51bnNxdWVlemUoMCkKICAgICAgICAgICAgICAgICkKICAgIHJldHVybiAoCiAgICAgICAgYWRqdXN0ZWRfdGV4dF9vdXRwdXQsCiAgICAgICAgYWRqdXN0ZWRfc3BlZWNoX291dHB1dCwKICAgICkKCgpkZWYgcnVuX2V2YWwoCiAgICB0cmFuc2xhdG9yOiBUcmFuc2xhdG9yLAogICAgY3R4OiBFdmFsQ29udGV4dCwKICAgIHdoaXNwZXJfbW9kZWxfbmFtZTogc3RyLAogICAgbl9zYW1wbGVzID0gTm9uZQopIC0+IE5vbmU6CiAgICBwaXBlbGluZSA9IGJ1aWxkX2RhdGFfcGlwZWxpbmUoY3R4LCB0cmFuc2xhdG9yLnRleHRfdG9rZW5pemVyKQoKICAgIHRvdGFsX3N0ZXBzID0gY291bnRfbGluZXMoY3R4LmRhdGFfZmlsZSkgLSAxCiAgICBwcm9ncmVzc19iYXIgPSB0cWRtKHRvdGFsPW5fc2FtcGxlcyBvciB0b3RhbF9zdGVwcykKCiAgICBvdXRwdXRfcGF0aCA9IGN0eC5vdXRwdXRfcGF0aCAvIGN0eC5kYXRhX2ZpbGUuc3RlbQogICAgb3V0cHV0X3BhdGgubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQoKICAgIGlmIGN0eC5vdXRwdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgIHdhdmVmb3Jtc19kaXIgPSBvdXRwdXRfcGF0aCAvIGYid2F2ZWZvcm1fe2N0eC5kYXRhX2ZpbGUuc3RlbX0iCiAgICAgICAgd2F2ZWZvcm1zX2Rpci5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgbW9kZWxfb3V0cHV0c190c3YgPSBvdXRwdXRfcGF0aCAvIGYibW9kZWwtb3V0cHV0cy17Y3R4LmRhdGFfZmlsZS5zdGVtfS50eHQiCiAgICB1bml0X291dHB1dHNfdHN2ID0gb3V0cHV0X3BhdGggLyBmInVuaXRfb3V0cHV0LXtjdHguZGF0YV9maWxlLnN0ZW19LnR4dCIKICAgIHdpdGggb3Blbihtb2RlbF9vdXRwdXRzX3RzdiwgInciKSBhcyBoeXBfZmlsZSwgb3BlbigKICAgICAgICB1bml0X291dHB1dHNfdHN2LCAidyIKICAgICkgaWYgY3R4Lm91dHB1dF9tb2RhbGl0eSA9PSBNb2RhbGl0eS5TUEVFQ0ggZWxzZSBjb250ZXh0bGliLm51bGxjb250ZXh0KAogICAgICAgIGl0ZXJ0b29scy5yZXBlYXQoTm9uZSkKICAgICkgYXMgdW5pdF9maWxlOgogICAgICAgIHNhbXBsZV9pZCA9IDAKICAgICAgICBpZiBjdHgub3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICAgICAgaHlwX2ZpbGUud3JpdGUoInJlZl90Z3RfdGV4dFx0cHJlZF90Z3RfdGV4dFx0cHJlZF90Z3RfYXVkaW9cbiIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaHlwX2ZpbGUud3JpdGUoInJlZl90Z3RfdGV4dFx0cHJlZF90Z3RfdGV4dFxuIikKICAgICAgICBmb3IgZXhhbXBsZSBpbiBwaXBlbGluZToKICAgICAgICAgICAgdmFsaWRfc2VxdWVuY2VzOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZQogICAgICAgICAgICBpZiBjdHguaW5wdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgICAgICAgICAgc3JjID0gZXhhbXBsZVsiYXVkaW8iXVsiZGF0YSJdWyJmYmFuayJdCiAgICAgICAgICAgICAgICAjIFNraXAgY29ycnVwdGVkIGF1ZGlvIHRlbnNvcnMuCiAgICAgICAgICAgICAgICB2YWxpZF9zZXF1ZW5jZXMgPSB+dG9yY2guYW55KAogICAgICAgICAgICAgICAgICAgIHRvcmNoLmFueSh0b3JjaC5pc25hbihzcmNbInNlcXMiXSksIGRpbT0xKSwgZGltPTEKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmIG5vdCB2YWxpZF9zZXF1ZW5jZXMuYWxsKCk6CiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoCiAgICAgICAgICAgICAgICAgICAgICAgIGYiU2FtcGxlIElEcyB7c2FtcGxlX2lkfSB0byB7c2FtcGxlX2lkICsgY3R4LmJhdGNoX3NpemV9IGhhcyBzb21lIGNvcnJ1cHRlZCBpbnB1dC4iCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIHNyY1sic2VxcyJdID0gc3JjWyJzZXFzIl1bdmFsaWRfc2VxdWVuY2VzXQogICAgICAgICAgICAgICAgICAgIHNyY1sic2VxX2xlbnMiXSA9IHNyY1sic2VxX2xlbnMiXVt2YWxpZF9zZXF1ZW5jZXNdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzcmMgPSBleGFtcGxlWyJzcmNfdGV4dCJdCgogICAgICAgICAgICAjIFNraXAgcGVyZm9ybWluZyBpbmZlcmVuY2Ugd2hlbiB0aGUgaW5wdXQgaXMgZW50aXJlbHkgY29ycnVwdGVkLgogICAgICAgICAgICBpZiBzcmNbInNlcXMiXS5udW1lbCgpID4gMDoKICAgICAgICAgICAgICAgICMgSEFDSzo6IEZpeCB0aGlzIGJhZCBoYW5kbGluZwogICAgICAgICAgICAgICAgIyBSdW50aW1lRXJyb3I6IFRoZSBzZXF1ZW5jZSBnZW5lcmF0b3IgcmV0dXJuZWQgbm8gaHlwb3RoZXNpcyBhdCBpbmRleCAyLiBQbGVhc2UgZmlsZSBhIGJ1ZyByZXBvcnQuCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgKHRleHRfb3V0cHV0LCBzcGVlY2hfb3V0cHV0LCkgPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgICAgICAgICAgICAgICAgIHNyYywKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRhc2ssCiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50YXJnZXRfbGFuZywKICAgICAgICAgICAgICAgICAgICAgICAgc3JjX2xhbmc9Y3R4LnNvdXJjZV9sYW5nLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cz1jdHgudGV4dF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPWN0eC51bml0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICAgICAgICAgICAgICAgICAgdW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZz1jdHgudW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZywKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBleGNlcHQgUnVudGltZUVycm9yIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmV4Y2VwdGlvbihmIkNhdWdodCBSdW50aW1lRXJyb3I6IHtlfSIpCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRleHRfb3V0cHV0ID0gW10KICAgICAgICAgICAgICAgIGlmIGN0eC5vdXRwdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgICAgICAgICAgICAgIHNwZWVjaF9vdXRwdXQgPSBCYXRjaGVkU3BlZWNoT3V0cHV0KHVuaXRzPVtdLCBhdWRpb193YXZzPVtdKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBzcGVlY2hfb3V0cHV0ID0gTm9uZQoKICAgICAgICAgICAgaWYgdmFsaWRfc2VxdWVuY2VzIGlzIG5vdCBOb25lIGFuZCBub3QgdmFsaWRfc2VxdWVuY2VzLmFsbCgpOgogICAgICAgICAgICAgICAgKHRleHRfb3V0cHV0LCBzcGVlY2hfb3V0cHV0LCkgPSBhZGp1c3Rfb3V0cHV0X2Zvcl9jb3JydXB0ZWRfaW5wdXRzKAogICAgICAgICAgICAgICAgICAgIHZhbGlkX3NlcXVlbmNlcywKICAgICAgICAgICAgICAgICAgICB0ZXh0X291dHB1dCwKICAgICAgICAgICAgICAgICAgICBzcGVlY2hfb3V0cHV0LAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgaHlwcyA9IFtzdHIocykgZm9yIHMgaW4gdGV4dF9vdXRwdXRdCiAgICAgICAgICAgIHJlZnMgPSBbc3RyKHMpIGZvciBzIGluIGV4YW1wbGVbY3R4LnJlZl9maWVsZF1dCgogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4odGV4dF9vdXRwdXQpKToKICAgICAgICAgICAgICAgIGlmIGN0eC5vdXRwdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIOgogICAgICAgICAgICAgICAgICAgIGFzc2VydCBzcGVlY2hfb3V0cHV0IGlzIG5vdCBOb25lCiAgICAgICAgICAgICAgICAgICAgdSA9IHNwZWVjaF9vdXRwdXQudW5pdHNbaV0KICAgICAgICAgICAgICAgICAgICBzdHJfdW5pdHMgPSBbc3RyKGkpIGZvciBpIGluIHVdCiAgICAgICAgICAgICAgICAgICAgdW5pdF9maWxlLndyaXRlKCIgIi5qb2luKHN0cl91bml0cykgKyAiXG4iKQogICAgICAgICAgICAgICAgICAgIHdhdl9mcCA9IHN0cih3YXZlZm9ybXNfZGlyIC8gZiJ7c2FtcGxlX2lkfV9wcmVkLndhdiIpCiAgICAgICAgICAgICAgICAgICAgdG9yY2hhdWRpby5zYXZlKAogICAgICAgICAgICAgICAgICAgICAgICB3YXZfZnAsCiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVjaF9vdXRwdXQuYXVkaW9fd2F2c1tpXVswXS50byh0b3JjaC5mbG9hdDMyKS5jcHUoKSwKICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlX3JhdGU9c3BlZWNoX291dHB1dC5zYW1wbGVfcmF0ZSwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgaHlwX2ZpbGUud3JpdGUoZiJ7cmVmc1tpXX1cdHtoeXBzW2ldfVx0e3dhdl9mcH1cbiIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGh5cF9maWxlLndyaXRlKGYie3JlZnNbaV19XHR7aHlwc1tpXX1cbiIpCgogICAgICAgICAgICAgICAgc2FtcGxlX2lkICs9IDEKICAgICAgICAgICAgICAgIHByb2dyZXNzX2Jhci51cGRhdGUoMSkKICAgICAgICAgICAgICAgIGlmIG5fc2FtcGxlcyBhbmQgcHJvZ3Jlc3NfYmFyLm4gPT0gbl9zYW1wbGVzOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGlmIG5fc2FtcGxlcyBhbmQgcHJvZ3Jlc3NfYmFyLm4gPT0gbl9zYW1wbGVzOgogICAgICAgICAgICAgICAgYnJlYWsKCiAgICBwcm9ncmVzc19iYXIuY2xvc2UoKQogICAgbG9nZ2VyLmluZm8oZiJQcm9jZXNzZWQge3NhbXBsZV9pZH0gc2FtcGxlcyIpCgogICAgY29tcHV0ZV9xdWFsaXR5X21ldHJpY3MoCiAgICAgICAgb3V0cHV0X21hbmlmZXN0X3Rzdl9wYXRoPW1vZGVsX291dHB1dHNfdHN2LAogICAgICAgIG91dHB1dF9wYXRoPW91dHB1dF9wYXRoLAogICAgICAgIHRndF9sYW5nPWN0eC50YXJnZXRfbGFuZywKICAgICAgICB0YXNrPWN0eC50YXNrLAogICAgICAgIGRldmljZT1jdHguZGV2aWNlLAogICAgICAgIHdoaXNwZXJfbW9kZWxfbmFtZT13aGlzcGVyX21vZGVsX25hbWUsCiAgICApCgoKZGVmIGxvYWRfY2hlY2twb2ludChtb2RlbDogVW5pdFlNb2RlbCwgcGF0aDogc3RyLCBkZXZpY2UgPSB0b3JjaC5kZXZpY2UoImNwdSIpKSAtPiBOb25lOgogICAgc2F2ZWRfbW9kZWwgPSB0b3JjaC5sb2FkKHBhdGgsIG1hcF9sb2NhdGlvbj1kZXZpY2UpWyJtb2RlbCJdCiAgICBzYXZlZF9tb2RlbCA9IHsgay5yZXBsYWNlKCJtb2RlbC4iLCAiIik6IHYgZm9yIGssIHYgaW4gc2F2ZWRfbW9kZWwuaXRlbXMoKSB9CgogICAgZGVmIF9zZWxlY3Rfa2V5cyhzdGF0ZV9kaWN0OiBEaWN0W3N0ciwgQW55XSwgcHJlZml4OiBzdHIpIC0+IERpY3Rbc3RyLCBBbnldOgogICAgICAgIHJldHVybiB7a2V5LnJlcGxhY2UocHJlZml4LCAiIik6IHZhbHVlIGZvciBrZXksIHZhbHVlIGluIHN0YXRlX2RpY3QuaXRlbXMoKSBpZiBrZXkuc3RhcnRzd2l0aChwcmVmaXgpfQoKICAgIG1vZGVsLnNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kLmxvYWRfc3RhdGVfZGljdChfc2VsZWN0X2tleXMoc2F2ZWRfbW9kZWwsICJtb2RlbC5zcGVlY2hfZW5jb2Rlcl9mcm9udGVuZC4iKSkKICAgIG1vZGVsLnNwZWVjaF9lbmNvZGVyLmxvYWRfc3RhdGVfZGljdChfc2VsZWN0X2tleXMoc2F2ZWRfbW9kZWwsICJtb2RlbC5zcGVlY2hfZW5jb2Rlci4iKSkKCiAgICBhc3NlcnQgbW9kZWwudGV4dF9kZWNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lCiAgICBtb2RlbC50ZXh0X2RlY29kZXJfZnJvbnRlbmQubG9hZF9zdGF0ZV9kaWN0KF9zZWxlY3Rfa2V5cyhzYXZlZF9tb2RlbCwgIm1vZGVsLnRleHRfZGVjb2Rlcl9mcm9udGVuZC4iKSkKCiAgICBhc3NlcnQgbW9kZWwudGV4dF9kZWNvZGVyIGlzIG5vdCBOb25lCiAgICBtb2RlbC50ZXh0X2RlY29kZXIubG9hZF9zdGF0ZV9kaWN0KF9zZWxlY3Rfa2V5cyhzYXZlZF9tb2RlbCwgIm1vZGVsLnRleHRfZGVjb2Rlci4iKSkKCiAgICBhc3NlcnQgbW9kZWwuZmluYWxfcHJvaiBpcyBub3QgTm9uZQogICAgbW9kZWwuZmluYWxfcHJvai5sb2FkX3N0YXRlX2RpY3QoX3NlbGVjdF9rZXlzKHNhdmVkX21vZGVsLCAibW9kZWwuZmluYWxfcHJvai4iKSkKCgpkZWYgbWFpbihvcHRpb25hbF9hcmdzOiBPcHRpb25hbFtEaWN0W3N0ciwgQW55XV0gPSBOb25lKSAtPiBOb25lOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoCiAgICAgICAgZGVzY3JpcHRpb249Ik00VCBldmFsdWF0aW9uIGZvciB0YXNrcyBzdXBwb3J0ZWQgYnkgVHJhbnNsYXRvci4iCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWRhdGFfZmlsZSIsIAogICAgICAgIHR5cGU9c3RyLCAKICAgICAgICBoZWxwPSJEYXRhIGZpbGUgdG8gYmUgZXZhbHVhdGVkLCBlaXRoZXIgVFNWIGZpbGUgb3IgbWFuaWZlc3QgSlNPTiBmaWxlLiIKICAgICAgICAiRm9ybWF0IG9mIHRoZSBtYW5pZmVzdCBKU09OIGZpbGUgc2hvdWxkIGJlIHRoYXQgYXMgcHJvZHVjZWQgYnkgYG00dF9wcmVwYXJlX2RhdGFzZXRgIgogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1sb2FkX2NoZWNrcG9pbnQiLCAKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBoZWxwPSJMb2FkIGEgbG9jYWwgQ2hlY2twb2ludCIsCiAgICAgICAgZGVmYXVsdD1Ob25lCiAgICApCgogICAgcGFyc2VyID0gYWRkX2luZmVyZW5jZV9hcmd1bWVudHMocGFyc2VyKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1kZXZpY2UiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IkRldmljZSIsCiAgICAgICAgZGVmYXVsdD0iY3VkYSIgaWYgdG9yY2guY3VkYS5pc19hdmFpbGFibGUoKSBlbHNlICJjcHUiLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1iYXRjaF9zaXplIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSJJbmZlcmVuY2UgYmF0Y2ggc2l6ZS4iLAogICAgICAgIGRlZmF1bHQ9NCwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tYXVkaW9fcm9vdF9kaXIiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IlJvb3QgZGlyZWN0b3J5IGZvciB0aGUgYXVkaW8gZmlsZW5hbWVzIGluIHRoZSBkYXRhIGZpbGUuIiwKICAgICAgICBkZWZhdWx0PSIiLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1yZWZfZmllbGQiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IlJlZmVyZW5jZSB0YXJnZXQgdGV4dCBmaWVsZCB0byBjb21wdXRlIHRoZSBCTEVVIHNjb3JlIGFnYWluc3QuIiwKICAgICAgICBkZWZhdWx0PSJ0Z3RfdGV4dCIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXdoaXNwZXJfbW9kZWxfbmFtZSIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgaGVscD0iV2hpc3BlciBtb2RlbCB0byBiZSB1c2VkIGZvciBBU1ItQkxFVSBzY29yaW5nIiwKICAgICAgICBkZWZhdWx0PSJsYXJnZSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW5fc2FtcGxlcyIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iTnVtYmVyIG9mIFNhbXBsZXMgdG8gcnVuIGV2YWwgb24uIEFsbCBpZiBOb25lLiIsCiAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgKQogICAgYXJncywgXyA9IHBhcnNlci5wYXJzZV9rbm93bl9hcmdzKCkKICAgIGRlZmF1bHRfYXJncyA9IHZhcnMoYXJncykKICAgIGRlZmF1bHRfYXJncy51cGRhdGUob3B0aW9uYWxfYXJncykgaWYgb3B0aW9uYWxfYXJncyBlbHNlIGRlZmF1bHRfYXJncwogICAgYXJncyA9IE5hbWVzcGFjZSgqKmRlZmF1bHRfYXJncykKCiAgICBhc3NlcnQgYXJncy5kYXRhX2ZpbGUgYW5kIGFyZ3MudGFzayBhbmQgYXJncy50Z3RfbGFuZyBhbmQgYXJncy5vdXRwdXRfcGF0aCwgXAogICAgICAgICJQbGVhc2UgcHJvdmlkZSByZXF1aXJlZCBhcmd1bWVudHMgZm9yIGV2YWx1YXRpb24gLSBkYXRhX2ZpbGUsIHRhc2ssIHRndF9sYW5nIgogICAgICAgIAogICAgYXNzZXJ0IFBhdGgoYXJncy5kYXRhX2ZpbGUpLmV4aXN0cygpLCBcCiAgICAgICAgZiJJbnZhbGlkIGBkYXRhX2ZpbGVgOiB7YXJncy5kYXRhX2ZpbGV9IGRvZXMgbm90IGV4aXN0IgogICAgICAgIAogICAgaWYgUGF0aChhcmdzLmRhdGFfZmlsZSkuc3VmZml4ID09ICIudHN2IjoKICAgICAgICBkYXRhX3R5cGUgPSAiVFNWIgogICAgZWxpZiBQYXRoKGFyZ3MuZGF0YV9maWxlKS5zdWZmaXggPT0gIi5qc29uIjoKICAgICAgICBkYXRhX3R5cGUgPSAiSlNPTiIKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiVW5hYmxlIHRvIHJlY29nbml6ZSBmaWxlIHR5cGUhIFBsZWFzZSB1c2UgYSBkYXRhX2ZpbGUgd2l0aCBlaXRoZXIgLnRzdiBvciAuanNvbiBleHRlbnNpb24uIikKICAgIAogICAgaW5wdXRfbW9kYWxpdHksIG91dHB1dF9tb2RhbGl0eSA9IFRyYW5zbGF0b3IuZ2V0X21vZGFsaXRpZXNfZnJvbV90YXNrX3N0cihhcmdzLnRhc2spCgogICAgaWYgaW5wdXRfbW9kYWxpdHkgPT0gTW9kYWxpdHkuU1BFRUNIIGFuZCBub3QgUGF0aChhcmdzLmF1ZGlvX3Jvb3RfZGlyKS5leGlzdHMoKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICBmIkludmFsaWQgYXVkaW9fcm9vdF9kaXI6IHthcmdzLmF1ZGlvX3Jvb3RfZGlyfSBmb3Igc3BlZWNoIGlucHV0LiIKICAgICAgICApCiAgICAKICAgIGRldmljZSA9IHRvcmNoLmRldmljZShhcmdzLmRldmljZSkKICAgIGR0eXBlID0gdG9yY2guZmxvYXQxNiBpZiBkZXZpY2UudHlwZSA9PSAiY3VkYSIgZWxzZSB0b3JjaC5mbG9hdDMyCgogICAgIyBUT0RPOiBBdm9pZCBsb2FkaW5nIHRoZSBUMlUgbW9kZWwsIHZvY29kZXIgd2hlbiB0aGUgb3V0cHV0CiAgICAjIG1vZGFsaXR5IGlzIHRleHQuCiAgICB0cmFuc2xhdG9yID0gVHJhbnNsYXRvcigKICAgICAgICBhcmdzLm1vZGVsX25hbWUsCiAgICAgICAgYXJncy52b2NvZGVyX25hbWUsCiAgICAgICAgZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgIGlucHV0X21vZGFsaXR5PWlucHV0X21vZGFsaXR5LAogICAgICAgIG91dHB1dF9tb2RhbGl0eT1vdXRwdXRfbW9kYWxpdHksCiAgICApCiAgICAKICAgIGlmIGFyZ3MubG9hZF9jaGVja3BvaW50OgogICAgICAgIGxvYWRfY2hlY2twb2ludCh0cmFuc2xhdG9yLm1vZGVsLCBwYXRoPWFyZ3MubG9hZF9jaGVja3BvaW50LCBkZXZpY2U9ZGV2aWNlKQoKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLCB1bml0X2dlbmVyYXRpb25fb3B0cyA9IHNldF9nZW5lcmF0aW9uX29wdHMoYXJncykKCiAgICBsb2dnZXIuaW5mbyhmInt0ZXh0X2dlbmVyYXRpb25fb3B0cz19IikKICAgIGxvZ2dlci5pbmZvKGYie3VuaXRfZ2VuZXJhdGlvbl9vcHRzPX0iKQogICAgbG9nZ2VyLmluZm8oCiAgICAgICAgZiJ1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPXthcmdzLnVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmd9IgogICAgKQoKICAgICMgZm10OiBvZmYKICAgIGN0eCA9IEV2YWxDb250ZXh0KAogICAgICAgIHRhc2s9YXJncy50YXNrLAogICAgICAgIGlucHV0X21vZGFsaXR5PWlucHV0X21vZGFsaXR5LAogICAgICAgIG91dHB1dF9tb2RhbGl0eT1vdXRwdXRfbW9kYWxpdHksCiAgICAgICAgbW9kZWxfbmFtZT1hcmdzLm1vZGVsX25hbWUsCiAgICAgICAgZGF0YV9maWxlPVBhdGgoYXJncy5kYXRhX2ZpbGUpLAogICAgICAgIGRhdGFfZmlsZV90eXBlPWRhdGFfdHlwZSwKICAgICAgICBhdWRpb19yb290X2Rpcj1QYXRoKGFyZ3MuYXVkaW9fcm9vdF9kaXIpLAogICAgICAgIHRhcmdldF9sYW5nPWFyZ3MudGd0X2xhbmcsCiAgICAgICAgc291cmNlX2xhbmc9YXJncy5zcmNfbGFuZywKICAgICAgICBiYXRjaF9zaXplPWFyZ3MuYmF0Y2hfc2l6ZSwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgIHJlZl9maWVsZD1hcmdzLnJlZl9maWVsZCwKICAgICAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cz10ZXh0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICB1bml0X2dlbmVyYXRpb25fb3B0cz11bml0X2dlbmVyYXRpb25fb3B0cywKICAgICAgICB1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPWFyZ3MudW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZywKICAgICAgICBvdXRwdXRfcGF0aD1hcmdzLm91dHB1dF9wYXRoLAogICAgKQogICAgIyBmbXQ6IG9uCiAgICBsb2dnZXIuaW5mbyhmIlJ1bm5pbmcgaW5mZXJlbmNlIG9uIHtkZXZpY2U9fSB3aXRoIHtkdHlwZT19LCB7Y3R4LmJhdGNoX3NpemU9fS4iKQoKICAgIHJ1bl9ldmFsKHRyYW5zbGF0b3IsIGN0eCwgYXJncy53aGlzcGVyX21vZGVsX25hbWUsIG5fc2FtcGxlcz1hcmdzLm5fc2FtcGxlcykKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=='),
    ('seamless/build/lib/seamless_communication/cli/m4t/finetune/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCg=='),
    ('seamless/build/lib/seamless_communication/cli/m4t/finetune/dataset.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQgYXJncGFyc2UKaW1wb3J0IGRhdGFjbGFzc2VzCmltcG9ydCBqc29uCmltcG9ydCBsb2dnaW5nCmltcG9ydCBvcwpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0cWRtIGltcG9ydCB0cWRtCgppbXBvcnQgdG9yY2gKCmZyb20gZGF0YXNldHMgaW1wb3J0IGxvYWRfZGF0YXNldApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uZGF0YXNldHMuaHVnZ2luZ2ZhY2UgaW1wb3J0ICgKICAgIFNwZWVjaDJTcGVlY2hGbGV1cnNEYXRhc2V0QnVpbGRlciwKICAgIFNwZWVjaFRva2VuaXplciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXRfZXh0cmFjdG9yIGltcG9ydCBVbml0RXh0cmFjdG9yCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKCJkYXRhc2V0IikKCgpTVVBQT1JURURfREFUQVNFVFMgPSBbJ2dvb2dsZS9mbGV1cnMnLCAnc3BlZWNoY29sYWIvZ2lnYXNwZWVjaCddCiIiIiBMaXN0IG9mIEh1Z2dpbmdmYWNlIERhdGFzZXRzIHRoYXQgd2Ugc3VwcG9ydCBhdCB0aGUgbW9tZW50CiIiIgoKIyBGdWxsIGxpc3Qgb2YgRkxFVVJTIGxhbmdjb2RlcyBpcyBhdmFpbGFibGUgYXQgaHR0cHM6Ly9odWdnaW5nZmFjZS5jby9kYXRhc2V0cy9nb29nbGUvZmxldXJzCiMgRnVsbCBsaXN0IG9mIE00VCBsYW5nY29kZXMgaXMgYXZhaWxhYmxlCiMgaW4gcGFwZXIgIlNlYW1sZXNzTTRU4oCUTWFzc2l2ZWx5IE11bHRpbGluZ3VhbCAmIE11bHRpbW9kYWwgTWFjaGluZSBUcmFuc2xhdGlvbiIgKFRhYmxlIDUpClVOSVRZX1RPX0ZMRVVSU19MQU5HX01BUFBJTkcgPSB7CiAgICAiZW5nIjogImVuX3VzIiwKICAgICJpdGEiOiAiaXRfaXQiLAogICAgImFmciI6ICJhZl96YSIsCiAgICAiYXNtIjogImFzX2luIiwKICAgICJiZWwiOiAiYmVfYnkiLAogICAgImJ1bCI6ICJiZ19iZyIsCiAgICAiYmVuIjogImJuX2luIiwKICAgICJjYXQiOiAiY2FfZXMiLAogICAgImNlcyI6ICJjc19jeiIsCiAgICAiZGFuIjogImRhX2RrIiwKICAgICJkZXUiOiAiZGVfZGUiLAogICAgImVsbCI6ICJlbF9nciIsCiAgICAiZmluIjogImZpX2ZpIiwKICAgICJmcmEiOiAiZnJfZnIiLAogICAgImdsZyI6ICJnbF9lcyIsCiAgICAiaGViIjogImhlX2lsIiwKICAgICJoaW4iOiAiaGlfaW4iLAogICAgImhydiI6ICJocl9ociIsCiAgICAiaHVuIjogImh1X2h1IiwKICAgICJpbmQiOiAiaWRfaWQiLAogICAgImlibyI6ICJpZ19uZyIsCiAgICAiaXNsIjogImlzX2lzIiwKICAgICJpdGEiOiAiaXRfaXQiLAogICAgImpwbiI6ICJqYV9qcCIsCiAgICAiamF2IjogImp2X2lkIiwKICAgICJrYXoiOiAia2tfa3oiLAogICAgImthbiI6ICJrbl9pbiIsCiAgICAia2lyIjogImt5X2tnIiwKICAgICJrb3IiOiAia29fa3IiLAogICAgImxpdCI6ICJsdF9sdCIsCiAgICAibWtkIjogIm1rX21rIiwKICAgICJtbHQiOiAibXRfbXQiLAogICAgIm15YSI6ICJteV9tbSIsCiAgICAibmxkIjogIm5sX25sIiwKICAgICJwYW4iOiAicGFfaW4iLAogICAgInBvbCI6ICJwbF9wbCIsCiAgICAicm9uIjogInJvX3JvIiwKICAgICJydXMiOiAicnVfcnUiLAogICAgInNuZCI6ICJzZF9pbiIsCiAgICAic2xrIjogInNrX3NrIiwKICAgICJzcGEiOiAiZXNfNDE5IiwKICAgICJzcnAiOiAic3JfcnMiLAogICAgInN3aCI6ICJzd19rZSIsCiAgICAidGFtIjogInRhX2luIiwKICAgICJ0ZWwiOiAidGVfaW4iLAogICAgInRoYSI6ICJ0aF90aCIsCiAgICAidHVyIjogInRyX3RyIiwKICAgICJ1a3IiOiAidWtfdWEiLAogICAgInVyZCI6ICJ1cl9wayIsCiAgICAidXpuIjogInV6X3V6IiwKICAgICJ2aWUiOiAidmlfdm4iLAogICAgInlvciI6ICJ5b19uZyIsCiAgICAienVsIjogInp1X3phIiwKfQoKCmRlZiBfY2hlY2tfbGFuZ19jb2RlX21hcHBpbmcobGFuZzogc3RyKSAtPiBOb25lOgogICAgaWYgbGFuZyBub3QgaW4gVU5JVFlfVE9fRkxFVVJTX0xBTkdfTUFQUElORzoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICBmIk5vIGxhbmd1YWdlIGNvZGUgbWFwcGluZyBmb3Ige2xhbmd9KE00VCktPj8/KEZMRVVScykuICIKICAgICAgICAgICAgIlBsZWFzZSBleHBhbmQgYFVOSVRZX1RPX0ZMRVVSU19MQU5HX01BUFBJTkdgIgogICAgICAgICkKCgpjbGFzcyBVbml0U3BlZWNoVG9rZW5pemVyKFNwZWVjaFRva2VuaXplcik6CiAgICBNT0RFTF9OQU1FID0gInhsc3IyXzFiX3YyIgogICAgS01FQU5TX01PREVMX1VSSSA9ICJodHRwczovL2RsLmZiYWlwdWJsaWNmaWxlcy5jb20vc2VhbWxlc3NNNFQvbW9kZWxzL3VuaXRfZXh0cmFjdGlvbi9rbWVhbnNfMTBrLm5weSIKICAgIE9VVFBVVF9MQVlFUl9JRFggPSAzNAoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkZXZpY2U6IHRvcmNoLmRldmljZSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKICAgICAgICBzZWxmLnVuaXRfZXh0cmFjdG9yID0gVW5pdEV4dHJhY3RvcigKICAgICAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkPXNlbGYuTU9ERUxfTkFNRSwKICAgICAgICAgICAga21lYW5zX3VyaT1zZWxmLktNRUFOU19NT0RFTF9VUkksCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICApCgogICAgZGVmIGVuY29kZShzZWxmLCB3YXY6IHRvcmNoLlRlbnNvciwgc2FtcGxlX3JhdGU6IGludCkgLT4gdG9yY2guVGVuc29yOgogICAgICAgIHJldHVybiBzZWxmLnVuaXRfZXh0cmFjdG9yLnByZWRpY3QoCiAgICAgICAgICAgIHdhdi50byhzZWxmLmRldmljZSksCiAgICAgICAgICAgIG91dF9sYXllcl9pZHg9c2VsZi5PVVRQVVRfTEFZRVJfSURYLAogICAgICAgICAgICBzYW1wbGVfcmF0ZT1zYW1wbGVfcmF0ZSwKICAgICAgICApCgoKZGVmIGRvd25sb2FkX2ZsZXVycygKICAgIHNvdXJjZV9sYW5nOiBzdHIsCiAgICB0YXJnZXRfbGFuZzogc3RyLAogICAgc3BsaXQ6IHN0ciwKICAgIHNhdmVfZGlyZWN0b3J5OiBzdHIsCik6CiAgICBfY2hlY2tfbGFuZ19jb2RlX21hcHBpbmcoc291cmNlX2xhbmcpCiAgICBfY2hlY2tfbGFuZ19jb2RlX21hcHBpbmcodGFyZ2V0X2xhbmcpCiAgICBkZXZpY2UgPSAoCiAgICAgICAgdG9yY2guZGV2aWNlKCJjdWRhOjAiKSBpZiB0b3JjaC5jdWRhLmRldmljZV9jb3VudCgpID4gMCBlbHNlIHRvcmNoLmRldmljZSgiY3B1IikKICAgICkKICAgIHRva2VuaXplciA9IFVuaXRTcGVlY2hUb2tlbml6ZXIoZGV2aWNlPWRldmljZSkKICAgIGRhdGFzZXRfaXRlcmF0b3IgPSBTcGVlY2gyU3BlZWNoRmxldXJzRGF0YXNldEJ1aWxkZXIoCiAgICAgICAgc291cmNlX2xhbmc9VU5JVFlfVE9fRkxFVVJTX0xBTkdfTUFQUElOR1tzb3VyY2VfbGFuZ10sCiAgICAgICAgdGFyZ2V0X2xhbmc9VU5JVFlfVE9fRkxFVVJTX0xBTkdfTUFQUElOR1t0YXJnZXRfbGFuZ10sCiAgICAgICAgZGF0YXNldF9jYWNoZV9kaXI9c2F2ZV9kaXJlY3RvcnksCiAgICAgICAgc3BlZWNoX3Rva2VuaXplcj10b2tlbml6ZXIsCiAgICAgICAgc2tpcF9zb3VyY2VfYXVkaW89VHJ1ZSwgICMgZG9uJ3QgZXh0cmFjdCB1bml0cyBmcm9tIHNvdXJjZSBhdWRpbwogICAgICAgIHNraXBfdGFyZ2V0X2F1ZGlvPUZhbHNlLAogICAgICAgIHNwbGl0PXNwbGl0LAogICAgKQogICAgbWFuaWZlc3RfcGF0aDogc3RyID0gb3MucGF0aC5qb2luKHNhdmVfZGlyZWN0b3J5LCBmIntzcGxpdH1fbWFuaWZlc3QuanNvbiIpCiAgICB3aXRoIG9wZW4obWFuaWZlc3RfcGF0aCwgInciKSBhcyBmcF9vdXQ6CiAgICAgICAgZm9yIGlkeCwgc2FtcGxlIGluIGVudW1lcmF0ZShkYXRhc2V0X2l0ZXJhdG9yLl9faXRlcl9fKCksIHN0YXJ0PTEpOgogICAgICAgICAgICAjIGNvcnJlY3Rpb24gYXMgRmxldXJzRGF0YXNldEJ1aWxkZXIgcmV0dXJuIGZsZXVycyBsYW5nIGNvZGVzCiAgICAgICAgICAgIHNhbXBsZS5zb3VyY2UubGFuZyA9IHNvdXJjZV9sYW5nCiAgICAgICAgICAgIHNhbXBsZS50YXJnZXQubGFuZyA9IHRhcmdldF9sYW5nCiAgICAgICAgICAgIHNhbXBsZS50YXJnZXQud2F2ZWZvcm0gPSBOb25lICAjIGFscmVhZHkgZXh0cmFjdGVkIHVuaXRzCiAgICAgICAgICAgIGZwX291dC53cml0ZShqc29uLmR1bXBzKGRhdGFjbGFzc2VzLmFzZGljdChzYW1wbGUpKSArICJcbiIpCiAgICBsb2dnZXIuaW5mbyhmIlNhdmVkIHtpZHh9IHNhbXBsZXMgZm9yIHNwbGl0PXtzcGxpdH0gdG8ge21hbmlmZXN0X3BhdGh9IikKICAgIGxvZ2dlci5pbmZvKGYiTWFuaWZlc3Qgc2F2ZWQgdG86IHttYW5pZmVzdF9wYXRofSIpCgoKZGVmIGRvd25sb2FkX2dpZ2FzcGVlY2goc3Vic2V0OiBzdHIsIGh1Z2dpbmdmYWNlX3Rva2VuOiBzdHIsIHNhdmVfZGlyZWN0b3J5OiBzdHIpOgogICAgZHMgPSBsb2FkX2RhdGFzZXQoInNwZWVjaGNvbGFiL2dpZ2FzcGVlY2giLCBzdWJzZXQsIGNhY2hlX2Rpcj1zYXZlX2RpcmVjdG9yeSwgdG9rZW49aHVnZ2luZ2ZhY2VfdG9rZW4pCiAgICBmb3Igc3BsaXQgaW4gZHM6CiAgICAgICAgbWFuaWZlc3RfcGF0aCA9IG9zLnBhdGguam9pbihzYXZlX2RpcmVjdG9yeSwgZiJ7c3Vic2V0fV97c3BsaXR9X21hbmlmZXN0Lmpzb24iKQogICAgICAgIGxvZ2dlci5pbmZvKGYiUHJlcGFyaW5nIHtzcGxpdH0gc3BsaXQuLi4iKQogICAgICAgIHdpdGggb3BlbihtYW5pZmVzdF9wYXRoLCAidyIpIGFzIGY6CiAgICAgICAgICAgIGZvciBzYW1wbGUgaW4gdHFkbShkc1tzcGxpdF0pOgogICAgICAgICAgICAgICAgZi53cml0ZShqc29uLmR1bXBzKHsKICAgICAgICAgICAgICAgICJzb3VyY2UiOiB7CiAgICAgICAgICAgICAgICAgICAgImlkIjogc2FtcGxlWyJzZWdtZW50X2lkIl0sCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiBzYW1wbGVbInRleHQiXSwKICAgICAgICAgICAgICAgICAgICAibGFuZyI6ImVuZyIsCiAgICAgICAgICAgICAgICAgICAgImF1ZGlvX2xvY2FsX3BhdGgiOiBzYW1wbGVbImF1ZGlvIl1bInBhdGgiXSwKICAgICAgICAgICAgICAgICAgICAic2FtcGxpbmdfcmF0ZSI6IHNhbXBsZVsiYXVkaW8iXVsic2FtcGxpbmdfcmF0ZSJdLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJ0YXJnZXQiOiB7CiAgICAgICAgICAgICAgICAgICAgImlkIjogc2FtcGxlWyJzZWdtZW50X2lkIl0sCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiBzYW1wbGVbInRleHQiXSwKICAgICAgICAgICAgICAgICAgICAibGFuZyI6ICJlbmciLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkgKyAiXG4iKQogICAgICAgIGxvZ2dlci5pbmZvKGYiTWFuaWZlc3QgZm9yIEdpZ2FTcGVlY2gte3N1YnNldH0te3NwbGl0fSBzYXZlZCB0bzoge21hbmlmZXN0X3BhdGh9IikKCgpkZWYgaW5pdF9wYXJzZXIoKSAtPiBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcjoKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgICAgIGRlc2NyaXB0aW9uPSgKICAgICAgICAgICAgIkhlbHBlciBzY3JpcHQgdG8gZG93bmxvYWQgdHJhaW5pbmcvZXZhbHVhdGlvbiBkYXRhc2V0IChGTEVVUlMgb3IgR2lnYVNwZWVjaCksIgogICAgICAgICAgICAiZXh0cmFjdCB1bml0cyBmcm9tIHRhcmdldCBhdWRpbyBhbmQgc2F2ZSB0aGUgZGF0YXNldCBhcyBhIG1hbmlmZXN0ICIKICAgICAgICAgICAgImNvbnN1bWFibGUgYnkgYGZpbmV0dW5lLnB5YC4iCiAgICAgICAgKQogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1uYW1lIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIGhlbHA9Ikh1Z2dpbmdGYWNlIG5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gcHJlcGFyZS4iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1zb3VyY2VfbGFuZyIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICBoZWxwPSJNNFQgbGFuZ2NvZGUgb2YgdGhlIGRhdGFzZXQgU09VUkNFIGxhbmd1YWdlIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGFyZ2V0X2xhbmciLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIHJlcXVpcmVkPVRydWUsCiAgICAgICAgaGVscD0iTTRUIGxhbmdjb2RlIG9mIHRoZSBkYXRhc2V0IFRBUkdFVCBsYW5ndWFnZSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXNwbGl0IiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIGhlbHA9IkRhdGFzZXQgc3BsaXQvc2hhcmQgdG8gZG93bmxvYWQgKGB0cmFpbmAsIGB2YWxpZGF0aW9uYCwgYHRlc3RgKSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXNhdmVfZGlyIiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICBoZWxwPSJEaXJlY3Rvcnkgd2hlcmUgdGhlIGRhdGFzdGV0cyB3aWxsIGJlIHN0b3JlZCB3aXRoIEh1Z2dpbmdGYWNlIGRhdGFzZXRzIGNhY2hlIGZpbGVzIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0taHVnZ2luZ2ZhY2VfdG9rZW4iLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIHJlcXVpcmVkPUZhbHNlLAogICAgICAgIGRlZmF1bHQ9Tm9uZSwKICAgICAgICBoZWxwPSJZb3VyIEh1Z2dpbmdGYWNlIHRva2VuLCB0aGlzIGlzIG5lY2Vzc2FyeSBmb3Igc29tZSBkYXRhc2V0cyBsaWtlIEdpZ2FTcGVlY2guIiwKICAgICkKICAgIHJldHVybiBwYXJzZXIKCgpkZWYgbWFpbigpIC0+IE5vbmU6CiAgICBhcmdzID0gaW5pdF9wYXJzZXIoKS5wYXJzZV9hcmdzKCkKICAgIGFzc2VydCBhcmdzLm5hbWUgaW4gU1VQUE9SVEVEX0RBVEFTRVRTLCBcCiAgICAgICAgZiJUaGUgb25seSBzdXBwb3J0ZWQgZGF0YXNldHMgYXJlIGB7U1VQUE9SVEVEX0RBVEFTRVRTfWAuIFBsZWFzZSB1c2Ugb25lIG9mIHRoZXNlIGluIGAtLW5hbWVgLiIKCiAgICBpZiBhcmdzLm5hbWUgPT0gJ2dvb2dsZS9mbGV1cnMnOgogICAgICAgIGRvd25sb2FkX2ZsZXVycyhhcmdzLnNvdXJjZV9sYW5nLCBhcmdzLnRhcmdldF9sYW5nLCBhcmdzLnNwbGl0LCBhcmdzLnNhdmVfZGlyKQogICAgZWxpZiBhcmdzLm5hbWUgPT0gJ3NwZWVjaGNvbGFiL2dpZ2FzcGVlY2gnOgogICAgICAgIGFzc2VydCBhcmdzLmh1Z2dpbmdmYWNlX3Rva2VuIGlzIG5vdCBOb25lLCBcCiAgICAgICAgICAgICJZb3VyIEh1Z2dpbmdGYWNlIHRva2VuIGlzIG5lY2Vzc2FyeSBmb3IgR2lnYVNwZWVjaC4gUGxlYXNlIHJlYWQgdGhlIEdpZ2FTcGVlY2ggYWdyZWVtZW50LiIKICAgICAgICBkb3dubG9hZF9naWdhc3BlZWNoKGFyZ3Muc3BsaXQsIGFyZ3MuaHVnZ2luZ2ZhY2VfdG9rZW4sIGFyZ3Muc2F2ZV9kaXIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo='),
    ('seamless/build/lib/seamless_communication/cli/m4t/finetune/finetune.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgb3MKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgppbXBvcnQgdG9yY2gKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkubTR0LmZpbmV0dW5lIGltcG9ydCBkYXRhbG9hZGVyLCBkaXN0X3V0aWxzLCB0cmFpbmVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0ICgKICAgIGxvYWRfdW5pdHlfbW9kZWwsCiAgICBsb2FkX3VuaXR5X3RleHRfdG9rZW5pemVyLAogICAgbG9hZF91bml0eV91bml0X3Rva2VuaXplciwKKQoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD1mIiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXMue29zLmdldHBpZCgpfTogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcigiZmluZXR1bmUiKQoKCmRlZiBpbml0X3BhcnNlcigpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoCiAgICAgICAgZGVzY3JpcHRpb249IkV4YW1wbGUgZmluZXR1bmluZyBzY3JpcHQgZm9yIE00VCBtb2RlbHMiCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXRyYWluX2RhdGFzZXQiLAogICAgICAgIHR5cGU9UGF0aCwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIGhlbHA9IlBhdGggdG8gbWFuaWZlc3Qgd2l0aCB0cmFpbiBzYW1wbGVzIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tZXZhbF9kYXRhc2V0IiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICBoZWxwPSJQYXRoIHRvIG1hbmlmZXN0IHdpdGggZXZhbCBzYW1wbGVzIiwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tbW9kZWxfbmFtZSIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgZGVmYXVsdD0ic2VhbWxlc3NNNFRfbWVkaXVtIiwKICAgICAgICBoZWxwPSJCYXNlIG1vZGVsIG5hbWUgKGBzZWFtbGVzc000VF9tZWRpdW1gLCBgc2VhbWxlc3NNNFRfbGFyZ2VgKSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXNhdmVfbW9kZWxfdG8iLAogICAgICAgIHR5cGU9UGF0aCwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIGhlbHA9IlBhdGggdG8gc2F2ZSBiZXN0IGZpbmV0dW5lZCBtb2RlbCIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXNlZWQiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGRlZmF1bHQ9MjM0MywKICAgICAgICBoZWxwPSJSYW5kb21pemVyIHNlZWQgdmFsdWUiLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1iYXRjaF9zaXplIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBkZWZhdWx0PTUsCiAgICAgICAgaGVscD0iQmF0Y2ggc2l6ZSBmb3IgdHJhaW5pbmcgYW5kIGV2YWx1YXRpb24iLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1wYXRpZW5jZSIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgZGVmYXVsdD0zLAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiU2V0IGVhcmx5IHRlcm1pbmF0aW9uIGFmdGVyIGBwYXRpZW5jZWAgbnVtYmVyIG9mIGV2YWx1YXRpb25zICIKICAgICAgICAgICAgIndpdGhvdXQgZXZhbCBsb3NzIGltcHJvdmVtZW50cyIKICAgICAgICApLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1tYXhfZXBvY2hzIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBkZWZhdWx0PTEwLAogICAgICAgIGhlbHA9KCJNYXggbnVtYmVyIG9mIHRyYWluaW5nIGVwb2NocyIpLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1sZWFybmluZ19yYXRlIiwKICAgICAgICB0eXBlPWZsb2F0LAogICAgICAgIGRlZmF1bHQ9MWUtNywKICAgICAgICBoZWxwPSgiRmluZXR1bmluZyBsZWFybmluZyByYXRlIiksCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXdhcm11cF9zdGVwcyIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgZGVmYXVsdD0xMDAsCiAgICAgICAgaGVscD0oIk51bWJlciBvZiBzdGVwcyB3aXRoIGxpbmVhcmx5IGluY3JlYXNpbmcgbGVhcm5pbmcgcmF0ZSIpLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1ldmFsX3N0ZXBzIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBkZWZhdWx0PTUwLAogICAgICAgIGhlbHA9KCJHZXQgZXZhbCBsb3NzIGFmdGVyIGVhY2ggYGV2YWxfc3RlcHNgIHRyYWluaW5nIHN0ZXBzICIpLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1sb2dfc3RlcHMiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGRlZmF1bHQ9MTAsCiAgICAgICAgaGVscD0oIkxvZyBpbm5lciBsb3NzIGFmdGVyIGVhY2ggYGxvZ19zdGVwc2AgdHJhaW5pbmcgc3RlcHMiKSwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tbWF4X3NyY190b2tlbnMiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGRlZmF1bHQ9NzAwMCwKICAgICAgICBoZWxwPSgiTWF4aW11bSBudW1iZXIgb2Ygc3JjX3Rva2VucyBwZXIgYmF0Y2gsIHVzZWQgdG8gYXZvaWQgR1BVIE9PTSBhbmQgbWF4aW1pemUgdGhlIGVmZmVjdGl2ZSBiYXRjaCBzaXplIiksCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW1vZGUiLAogICAgICAgIHR5cGU9dHJhaW5lci5GaW5ldHVuZU1vZGUsCiAgICAgICAgY2hvaWNlcz1saXN0KHRyYWluZXIuRmluZXR1bmVNb2RlKSwKICAgICAgICBkZWZhdWx0PXRyYWluZXIuRmluZXR1bmVNb2RlLlNQRUVDSF9UT19URVhULAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiKiBgU1BFRUNIX1RPX1NQRUVDSGAgLS0gZmluZXR1bmUgUzJUIGFuZCBUMlUgcGFydHMgb2YgdGhlIG1vZGVsOyAiCiAgICAgICAgICAgICIqIGBURVhUX1RPX1NQRUVDSGAgLS0gZmluZXR1bmUgb25seSBUMlU7ICIKICAgICAgICAgICAgIiogYFNQRUVDSF9UT19URVhUYCAtLSBmaW5ldHVuZSBvbmx5IFMyVCIKICAgICAgICApLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1mcmVlemVfbGF5ZXJzIiwKICAgICAgICBuYXJncz0iKiIsCiAgICAgICAgcmVxdWlyZWQ9RmFsc2UsCiAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgICAgICMgVE9ETzogYmV0dGVyIGRlc2NyaXB0aW9uCiAgICAgICAgaGVscD0oIkEgbGlzdCBvZiBtb2R1bGVzIHRvIGZyZWV6ZSBpbiB0aGUgbW9kZWwuIElmIGVtcHR5LCBldmVyeXRoaW5nIHdpbGwgYmUgdHJhaW5lZC4iKSwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tZGV2aWNlIiwKICAgICAgICB0eXBlPXN0ciwKICAgICAgICBkZWZhdWx0PSJjdWRhIiwKICAgICAgICBoZWxwPSgiRGV2aWNlIHRvIGZpbmUtdHVuZSBvbi4gU2VlIGB0b3JjaC5kZXZpY2VgLiIpLAogICAgKQogICAgcmV0dXJuIHBhcnNlcgoKCmRlZiBtYWluKCkgLT4gTm9uZToKICAgIGFyZ3MgPSBpbml0X3BhcnNlcigpLnBhcnNlX2FyZ3MoKQogICAgCiAgICBkaXN0X3V0aWxzLmluaXRfZGlzdHJpYnV0ZWQoW2xvZ2dlciwgdHJhaW5lci5sb2dnZXJdKQogICAgZmxvYXRfZHR5cGUgPSB0b3JjaC5mbG9hdDE2IGlmIHRvcmNoLmRldmljZShhcmdzLmRldmljZSkudHlwZSAhPSAiY3B1IiBlbHNlIHRvcmNoLmJmbG9hdDE2CiAgICAKICAgIHRleHRfdG9rZW5pemVyID0gbG9hZF91bml0eV90ZXh0X3Rva2VuaXplcihhcmdzLm1vZGVsX25hbWUpCiAgICB1bml0X3Rva2VuaXplciA9IGxvYWRfdW5pdHlfdW5pdF90b2tlbml6ZXIoYXJncy5tb2RlbF9uYW1lKQogICAgCiAgICBmaW5ldHVuZV9wYXJhbXMgPSB0cmFpbmVyLkZpbmV0dW5lUGFyYW1zKAogICAgICAgIG1vZGVsX25hbWU9YXJncy5tb2RlbF9uYW1lLAogICAgICAgIGZpbmV0dW5lX21vZGU9YXJncy5tb2RlLAogICAgICAgIHNhdmVfbW9kZWxfcGF0aD1hcmdzLnNhdmVfbW9kZWxfdG8sCiAgICAgICAgZGV2aWNlPXRvcmNoLmRldmljZShhcmdzLmRldmljZSksCiAgICAgICAgZmxvYXRfZHR5cGU9ZmxvYXRfZHR5cGUsCiAgICAgICAgdHJhaW5fYmF0Y2hfc2l6ZT1hcmdzLmJhdGNoX3NpemUsCiAgICAgICAgZXZhbF9iYXRjaF9zaXplPWFyZ3MuYmF0Y2hfc2l6ZSwKICAgICAgICBwYXRpZW5jZT1hcmdzLnBhdGllbmNlLAogICAgICAgIG1heF9lcG9jaHM9YXJncy5tYXhfZXBvY2hzLAogICAgICAgIGxlYXJuaW5nX3JhdGU9YXJncy5sZWFybmluZ19yYXRlLAogICAgICAgIHdhcm11cF9zdGVwcz1hcmdzLndhcm11cF9zdGVwcywKICAgICAgICBldmFsX3N0ZXBzPWFyZ3MuZXZhbF9zdGVwcywKICAgICAgICBsb2dfc3RlcHM9YXJncy5sb2dfc3RlcHMsCiAgICApCiAgICAKICAgIGxvZ2dlci5pbmZvKGYiRmluZXR1bmUgUGFyYW1zOiB7ZmluZXR1bmVfcGFyYW1zfSIpCiAgICAKICAgIG1vZGVsID0gbG9hZF91bml0eV9tb2RlbChhcmdzLm1vZGVsX25hbWUsIGRldmljZT10b3JjaC5kZXZpY2UoImNwdSIpLCBkdHlwZT10b3JjaC5mbG9hdDMyKQogICAgYXNzZXJ0IG1vZGVsLnRhcmdldF92b2NhYl9pbmZvID09IHRleHRfdG9rZW5pemVyLnZvY2FiX2luZm8KICAgIAogICAgaWYgKAogICAgICAgIGZpbmV0dW5lX3BhcmFtcy5maW5ldHVuZV9tb2RlID09IHRyYWluZXIuRmluZXR1bmVNb2RlLlNQRUVDSF9UT19URVhUCiAgICAgICAgYW5kIG1vZGVsLnQydV9tb2RlbCBpcyBub3QgTm9uZQogICAgKToKICAgICAgICBtb2RlbC50MnVfbW9kZWwgPSBOb25lCiAgICAKICAgIGlmIG1vZGVsLnRleHRfZW5jb2RlciBpcyBub3QgTm9uZToKICAgICAgICBtb2RlbC50ZXh0X2VuY29kZXIgPSBOb25lCiAgICAKICAgICMgUHV0IG1vZGVsIG9uIHNlbGVjdGVkIGRldmljZQogICAgbW9kZWwgPSBtb2RlbC50byhmaW5ldHVuZV9wYXJhbXMuZGV2aWNlKQoKICAgICMgVE9ETzogZGVsZXRlIHVudXNlZCBwYXJhbXMgdG8gcmVkdWNlIEdQVSBtZW1vcnkgY29uc3VtcHRpb24KICAgIHRyYWluX2RhdGFsb2FkZXIgPSBkYXRhbG9hZGVyLlVuaXRZRGF0YUxvYWRlcigKICAgICAgICB0ZXh0X3Rva2VuaXplcj10ZXh0X3Rva2VuaXplciwKICAgICAgICB1bml0X3Rva2VuaXplcj11bml0X3Rva2VuaXplciwKICAgICAgICBiYXRjaGluZ19jb25maWc9ZGF0YWxvYWRlci5CYXRjaGluZ0NvbmZpZygKICAgICAgICAgICAgYmF0Y2hfc2l6ZT1maW5ldHVuZV9wYXJhbXMudHJhaW5fYmF0Y2hfc2l6ZSwKICAgICAgICAgICAgcmFuaz1kaXN0X3V0aWxzLmdldF9yYW5rKCksCiAgICAgICAgICAgIHdvcmxkX3NpemU9ZGlzdF91dGlscy5nZXRfd29ybGRfc2l6ZSgpLAogICAgICAgICAgICBtYXhfYXVkaW9fbGVuZ3RoX3NlYz0xNS4wLAogICAgICAgICAgICBmbG9hdF9kdHlwZT1maW5ldHVuZV9wYXJhbXMuZmxvYXRfZHR5cGUsCiAgICAgICAgKSwKICAgICAgICBkYXRhc2V0X21hbmlmZXN0X3BhdGg9YXJncy50cmFpbl9kYXRhc2V0LAogICAgICAgIG1heF9zcmNfdG9rZW5zX3Blcl9iYXRjaD1hcmdzLm1heF9zcmNfdG9rZW5zKQogICAgCiAgICBldmFsX2RhdGFsb2FkZXIgPSBkYXRhbG9hZGVyLlVuaXRZRGF0YUxvYWRlcigKICAgICAgICB0ZXh0X3Rva2VuaXplcj10ZXh0X3Rva2VuaXplciwKICAgICAgICB1bml0X3Rva2VuaXplcj11bml0X3Rva2VuaXplciwKICAgICAgICBiYXRjaGluZ19jb25maWc9ZGF0YWxvYWRlci5CYXRjaGluZ0NvbmZpZygKICAgICAgICAgICAgYmF0Y2hfc2l6ZT1maW5ldHVuZV9wYXJhbXMuZXZhbF9iYXRjaF9zaXplLAogICAgICAgICAgICByYW5rPWRpc3RfdXRpbHMuZ2V0X3JhbmsoKSwKICAgICAgICAgICAgd29ybGRfc2l6ZT1kaXN0X3V0aWxzLmdldF93b3JsZF9zaXplKCksCiAgICAgICAgICAgIG1heF9hdWRpb19sZW5ndGhfc2VjPTc1LjAsCiAgICAgICAgICAgIGZsb2F0X2R0eXBlPWZpbmV0dW5lX3BhcmFtcy5mbG9hdF9kdHlwZSwKICAgICAgICApLAogICAgICAgIGRhdGFzZXRfbWFuaWZlc3RfcGF0aD1hcmdzLmV2YWxfZGF0YXNldCkKICAgIAogICAgZmluZXR1bmUgPSB0cmFpbmVyLlVuaXRZRmluZXR1bmUoCiAgICAgICAgbW9kZWw9bW9kZWwsCiAgICAgICAgcGFyYW1zPWZpbmV0dW5lX3BhcmFtcywKICAgICAgICB0cmFpbl9kYXRhX2xvYWRlcj10cmFpbl9kYXRhbG9hZGVyLAogICAgICAgIGV2YWxfZGF0YV9sb2FkZXI9ZXZhbF9kYXRhbG9hZGVyLAogICAgICAgIGZyZWV6ZV9tb2R1bGVzPWFyZ3MuZnJlZXplX2xheWVycykKICAgIAogICAgZmluZXR1bmUucnVuKCkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=='),
    ('seamless/build/lib/seamless_communication/cli/m4t/finetune/dataloader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQganNvbgppbXBvcnQgbG9nZ2luZwpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgSXRlcmFibGUsIExpc3QsIE9wdGlvbmFsLCBUdXBsZQoKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2hhdWRpbwpmcm9tIGRhdGFzZXRzIGltcG9ydCBEYXRhc2V0CmZyb20gZGF0YXNldHMuZGlzdHJpYnV0ZWQgaW1wb3J0IHNwbGl0X2RhdGFzZXRfYnlfbm9kZQpmcm9tIGZhaXJzZXEyLmRhdGEudGV4dCBpbXBvcnQgVGV4dFRva2VuRW5jb2Rlcgpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiIGltcG9ydCBObGxiVG9rZW5pemVyCmZyb20gZmFpcnNlcTIuZGF0YS5hdWRpbyBpbXBvcnQgV2F2ZWZvcm1Ub0ZiYW5rQ29udmVydGVyCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgpmcm9tIHRvcmNoLm5uLmZ1bmN0aW9uYWwgaW1wb3J0IHBhZCBhcyBwYWRfdGVuc29yCmZyb20gdG9yY2gudXRpbHMuZGF0YSBpbXBvcnQgRGF0YUxvYWRlcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmRhdGFzZXRzLmRhdGF0eXBlcyBpbXBvcnQgTGFuZ1BhaXJTYW1wbGUKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS51bml0X3Rva2VuaXplciBpbXBvcnQgKAogICAgVW5pdFRva2VuRW5jb2RlciwKICAgIFVuaXRUb2tlbml6ZXIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBkYXRhY2xhc3MKY2xhc3MgU2Vxc0JhdGNoOgogICAgc3JjX3Rva2VuczogT3B0aW9uYWxbVGVuc29yXQogICAgc3JjX2xlbmd0aHM6IE9wdGlvbmFsW1RlbnNvcl0KICAgIHRhcmdldF90b2tlbnM6IE9wdGlvbmFsW1RlbnNvcl0KICAgIHByZXZfb3V0cHV0X3Rva2VuczogT3B0aW9uYWxbVGVuc29yXQogICAgdGFyZ2V0X2xlbmd0aHM6IE9wdGlvbmFsW1RlbnNvcl0KCiAgICBkZWYgX19kZWxfXyhzZWxmKSAtPiBOb25lOgogICAgICAgICIiIkV4cGxpY2l0bHkgZGVsZXRlIHRlbnNvcnMKICAgICAgICB0byBmb3JjZSBHUFUgbWVtb3J5IGNsZWFudXAiIiIKICAgICAgICBmb3IgdGVuc29yIGluIFsKICAgICAgICAgICAgc2VsZi5zcmNfdG9rZW5zLAogICAgICAgICAgICBzZWxmLnNyY19sZW5ndGhzLAogICAgICAgICAgICBzZWxmLnRhcmdldF90b2tlbnMsCiAgICAgICAgICAgIHNlbGYucHJldl9vdXRwdXRfdG9rZW5zLAogICAgICAgICAgICBzZWxmLnRhcmdldF9sZW5ndGhzLAogICAgICAgIF06CiAgICAgICAgICAgIGlmIHRlbnNvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIGRlbCB0ZW5zb3IKCgpAZGF0YWNsYXNzCmNsYXNzIE11bHRpbW9kYWxTZXFzQmF0Y2g6CiAgICBzcGVlY2hfdG9fdGV4dDogU2Vxc0JhdGNoCiAgICB0ZXh0X3RvX3VuaXRzOiBTZXFzQmF0Y2gKCiAgICBkZWYgX19kZWxfXyhzZWxmKSAtPiBOb25lOgogICAgICAgIGRlbCBzZWxmLnNwZWVjaF90b190ZXh0CiAgICAgICAgZGVsIHNlbGYudGV4dF90b191bml0cwoKCkBkYXRhY2xhc3MKY2xhc3MgQmF0Y2hpbmdDb25maWc6CiAgICBmYmFua19mZWF0c19wYWRfaWR4OiBpbnQgPSAwCiAgICAiIiJUaGUgcGFkIGluZGV4IHRvIHVzZSBpbiBmYmFua3MgYmF0Y2hpbmcuIiIiCgogICAgYmF0Y2hfc2l6ZTogaW50ID0gNQogICAgIiIiRml4ZWQgYmF0Y2ggc2l6ZSB0byB1c2UiIiIKCiAgICBtYXhfYXVkaW9fbGVuZ3RoX3NlYzogZmxvYXQgPSAxNS4wCiAgICAiIiIgRHJvcCBzYW1wbGVzIHdpdGggc291cmNlIGF1ZGlvIHNhbXBsZSBsZW5ndGggYWJvdmUgdGhlIHRocmVzaG9sZC4iIiIKCiAgICByYW5rOiBpbnQgPSAwCiAgICAiIiJUaGUgcmFuayBvZiB0aGlzIHdvcmtlciBpbiB0aGUgcHJvY2VzcyBncm91cC4iIiIKCiAgICB3b3JsZF9zaXplOiBpbnQgPSAxCiAgICAiIiJUaGUgd29ybGQgc2l6ZSBvZiB0aGUgcHJvY2VzcyBncm91cC4iIiIKCiAgICBudW1fd29ya2VyczogaW50ID0gMgogICAgIiIiUGFyYWxsZWxpc20gaW4gZGF0YXNldCBwcmVwYXJhdGlvbi4iIiIKCiAgICBmbG9hdF9kdHlwZTogdG9yY2guZHR5cGUgPSB0b3JjaC5mbG9hdDE2CiAgICAiIiJTZWxlY3QgYmV0d2VlbiBmcDE2L2ZwMzIgZm9yIGZsb2F0IHRlbnNvcnMgIiIiCgoKZGVmIHdvcmtlcl9pbml0X2ZuKHdvcmtlcl9pZDogaW50KSAtPiBOb25lOgogICAgbnAucmFuZG9tLnNlZWQobnAucmFuZG9tLmdldF9zdGF0ZSgpWzFdWzBdICsgd29ya2VyX2lkKSAgIyB0eXBlOiBpZ25vcmUKCgpjbGFzcyBVbml0WURhdGFMb2FkZXI6CiAgICBTQU1QTEVfUkFURSA9IDE2XzAwMAoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHRleHRfdG9rZW5pemVyOiBObGxiVG9rZW5pemVyLAogICAgICAgIHVuaXRfdG9rZW5pemVyOiBVbml0VG9rZW5pemVyLAogICAgICAgIGRhdGFzZXRfbWFuaWZlc3RfcGF0aDogc3RyLAogICAgICAgIGJhdGNoaW5nX2NvbmZpZzogQmF0Y2hpbmdDb25maWcsCiAgICAgICAgbWF4X3NyY190b2tlbnNfcGVyX2JhdGNoOiBpbnQgPSAxMDAwMDAKICAgICk6CiAgICAgICAgc2VsZi50ZXh0X3Rva2VuaXplciA9IHRleHRfdG9rZW5pemVyCiAgICAgICAgc2VsZi50ZXh0X2VuY29kZXJzX3Blcl9sYW5nOiBEaWN0W3N0ciwgVGV4dFRva2VuRW5jb2Rlcl0gPSB7fQogICAgICAgIHNlbGYudW5pdF90b2tlbml6ZXIgPSB1bml0X3Rva2VuaXplcgogICAgICAgIHNlbGYudW5pdF9lbmNvZGVyc19wZXJfbGFuZzogRGljdFtzdHIsIFVuaXRUb2tlbkVuY29kZXJdID0ge30KICAgICAgICBzZWxmLmJhdGNoaW5nX2NvbmZpZyA9IGJhdGNoaW5nX2NvbmZpZwogICAgICAgIHNlbGYuX2ZiYW5rX2V4dHJhY3RfcGFyYW1zID0gewogICAgICAgICAgICAibnVtX21lbF9iaW5zIjogODAsCiAgICAgICAgICAgICJ3YXZlZm9ybV9zY2FsZSI6IDMyNzY4LAogICAgICAgICAgICAiY2hhbm5lbF9sYXN0IjogVHJ1ZSwKICAgICAgICAgICAgInN0YW5kYXJkaXplIjogVHJ1ZSwKICAgICAgICAgICAgImRldmljZSI6IHRvcmNoLmRldmljZSgiY3B1IiksCiAgICAgICAgICAgICJkdHlwZSI6IHNlbGYuYmF0Y2hpbmdfY29uZmlnLmZsb2F0X2R0eXBlLAogICAgICAgIH0KICAgICAgICBzZWxmLmRhdGFzZXQgPSBzZWxmLl9sb2FkX21hbmlmZXN0KGRhdGFzZXRfbWFuaWZlc3RfcGF0aCkKICAgICAgICBzZWxmLm1heF9zcmNfdG9rZW5zX3Blcl9iYXRjaCA9IG1heF9zcmNfdG9rZW5zX3Blcl9iYXRjaAoKICAgIGRlZiBnZXRfZGF0YWxvYWRlcihzZWxmKSAtPiBEYXRhTG9hZGVyW1NlcXNCYXRjaF06CiAgICAgICAgc3Vic2V0ID0gc3BsaXRfZGF0YXNldF9ieV9ub2RlKAogICAgICAgICAgICBzZWxmLmRhdGFzZXQsCiAgICAgICAgICAgIHJhbms9c2VsZi5iYXRjaGluZ19jb25maWcucmFuaywKICAgICAgICAgICAgd29ybGRfc2l6ZT1zZWxmLmJhdGNoaW5nX2NvbmZpZy53b3JsZF9zaXplLAogICAgICAgICkKICAgICAgICBkYXRhX2xvYWRlciA9IERhdGFMb2FkZXIoCiAgICAgICAgICAgIGRhdGFzZXQ9c3Vic2V0LAogICAgICAgICAgICBiYXRjaF9zaXplPXNlbGYuYmF0Y2hpbmdfY29uZmlnLmJhdGNoX3NpemUsCiAgICAgICAgICAgIHNodWZmbGU9VHJ1ZSwKICAgICAgICAgICAgbnVtX3dvcmtlcnM9c2VsZi5iYXRjaGluZ19jb25maWcubnVtX3dvcmtlcnMsCiAgICAgICAgICAgIGNvbGxhdGVfZm49c2VsZi5fcHJlcGFyZV9iYXRjaCwKICAgICAgICAgICAgd29ya2VyX2luaXRfZm49d29ya2VyX2luaXRfZm4sCiAgICAgICAgKQogICAgICAgIHJldHVybiBkYXRhX2xvYWRlcgoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKSAtPiBJdGVyYWJsZVtNdWx0aW1vZGFsU2Vxc0JhdGNoXToKICAgICAgICByZXR1cm4gc2VsZi5nZXRfZGF0YWxvYWRlcigpLl9faXRlcl9fKCkKCiAgICBkZWYgX2dldF9zb3VyY2VfZmJhbmsoc2VsZiwgc2FtcGxlOiBMYW5nUGFpclNhbXBsZSkgLT4gVGVuc29yOgogICAgICAgIHdhdiwgc2FtcGxlX3JhdGUgPSB0b3JjaGF1ZGlvLmxvYWQoc2FtcGxlLnNvdXJjZS5hdWRpb19sb2NhbF9wYXRoKQogICAgICAgIGFzc2VydCAoCiAgICAgICAgICAgIGludChzYW1wbGVfcmF0ZSkgPT0gc2VsZi5TQU1QTEVfUkFURQogICAgICAgICksIGYic2FtcGxlICE9IHtzZWxmLlNBTVBMRV9SQVRFfSwgcGxlYXNlIHJlc2FtcGxlIgogICAgICAgIGFzc2VydCBsZW4od2F2LnNoYXBlKSBpbiAoMSwgMikKICAgICAgICBpZiBsZW4od2F2LnNoYXBlKSA9PSAxOgogICAgICAgICAgICB3YXYgPSB3YXYudW5zcXVlZXplKC0xKQogICAgICAgIGVsaWYgd2F2LnNoYXBlWzBdIDw9IDI6ICAjIGNoYW5uZWwgaXMgZmlyc3QsIHNob3VsZCBiZSBzZWNvbmQKICAgICAgICAgICAgd2F2ID0gd2F2LnRyYW5zcG9zZSgwLCAxKQogICAgICAgIHJldHVybiBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoKipzZWxmLl9mYmFua19leHRyYWN0X3BhcmFtcykoICAjIHR5cGU6IGlnbm9yZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAid2F2ZWZvcm0iOiB3YXYsCiAgICAgICAgICAgICAgICAic2FtcGxlX3JhdGUiOiBzZWxmLlNBTVBMRV9SQVRFLAogICAgICAgICAgICB9CiAgICAgICAgKVsiZmJhbmsiXQoKICAgIGRlZiBfZ2V0X3Rva2VuaXplZF90YXJnZXRfdGV4dChzZWxmLCBzYW1wbGU6IExhbmdQYWlyU2FtcGxlKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiRXhwZWN0ZWQgc2VxdWVuY2UgaXMgWzxlb3M+LCA8bGFuZ190b2s+ICwgLi50ZXh0IHRva2Vucy4uLCA8ZW9zPl0iIiIKICAgICAgICB0YXJnZXRfbGFuZyA9IHNhbXBsZS50YXJnZXQubGFuZwogICAgICAgIGlmIHRhcmdldF9sYW5nIG5vdCBpbiBzZWxmLnRleHRfZW5jb2RlcnNfcGVyX2xhbmc6CiAgICAgICAgICAgIHNlbGYudGV4dF9lbmNvZGVyc19wZXJfbGFuZ1t0YXJnZXRfbGFuZ10gPSAoCiAgICAgICAgICAgICAgICBzZWxmLnRleHRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKGxhbmc9dGFyZ2V0X2xhbmcsIG1vZGU9InRhcmdldCIpCiAgICAgICAgICAgICkKICAgICAgICB0b2tlbnMgPSBzZWxmLnRleHRfZW5jb2RlcnNfcGVyX2xhbmdbdGFyZ2V0X2xhbmddKHNhbXBsZS50YXJnZXQudGV4dCkKICAgICAgICBlb3NfaWR4ID0gc2VsZi50ZXh0X3Rva2VuaXplci52b2NhYl9pbmZvLmVvc19pZHgKICAgICAgICB0b2tlbnMgPSB0b3JjaC5jb25jYXQoW3Rva2VucywgdG9yY2guTG9uZ1RlbnNvcihbZW9zX2lkeF0pXSkKICAgICAgICByZXR1cm4gdG9rZW5zCgogICAgZGVmIF9nZXRfdG9rZW5pemVkX3VuaXRzKHNlbGYsIHNhbXBsZTogTGFuZ1BhaXJTYW1wbGUpIC0+IE9wdGlvbmFsW1RlbnNvcl06CiAgICAgICAgIiIiRXhwZWN0ZWQgc2VxdWVuY2UgaXMgWzxlb3M+LCA8bGFuZ190b2s+ICwgLi51bml0IHRva2Vucy4uLCA8ZW9zPl0iIiIKICAgICAgICBpZiBzYW1wbGUudGFyZ2V0LnVuaXRzIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgdGFyZ2V0X2xhbmcgPSBzYW1wbGUudGFyZ2V0LmxhbmcKICAgICAgICBpZiB0YXJnZXRfbGFuZyBub3QgaW4gc2VsZi51bml0X2VuY29kZXJzX3Blcl9sYW5nOgogICAgICAgICAgICBzZWxmLnVuaXRfZW5jb2RlcnNfcGVyX2xhbmdbdGFyZ2V0X2xhbmddID0gKAogICAgICAgICAgICAgICAgc2VsZi51bml0X3Rva2VuaXplci5jcmVhdGVfZW5jb2RlcihsYW5nPXRhcmdldF9sYW5nKQogICAgICAgICAgICApCiAgICAgICAgdG9rZW5zID0gc2VsZi51bml0X2VuY29kZXJzX3Blcl9sYW5nW3RhcmdldF9sYW5nXSgKICAgICAgICAgICAgdG9yY2guTG9uZ1RlbnNvcihzYW1wbGUudGFyZ2V0LnVuaXRzKS51bnNxdWVlemUoMCkKICAgICAgICApCiAgICAgICAgZW9zX2lkeCA9IHNlbGYudW5pdF90b2tlbml6ZXIudm9jYWJfaW5mby5lb3NfaWR4CiAgICAgICAgdG9rZW5zID0gdG9yY2guY29uY2F0KFt0b2tlbnMuc3F1ZWV6ZSgwKSwgdG9yY2guTG9uZ1RlbnNvcihbZW9zX2lkeF0pXSkKICAgICAgICByZXR1cm4gdG9rZW5zCgogICAgZGVmIF9iYXRjaF90ZW5zb3JzKHNlbGYsIHRlbnNvcnM6IExpc3RbVGVuc29yXSwgcGFkX3ZhbHVlOiBBbnkpIC0+IFRlbnNvcjoKICAgICAgICBwYWRkaW5nX3NpemUgPSBtYXgodGVuc29yLnNoYXBlWzBdIGZvciB0ZW5zb3IgaW4gdGVuc29ycykKICAgICAgICBkaW1zID0gbGVuKHRlbnNvcnNbMF0uc2hhcGUpCiAgICAgICAgcGFkZGVkX3RlbnNvcnMgPSBbXQogICAgICAgIGZvciB0ZW5zb3IgaW4gdGVuc29yczoKICAgICAgICAgICAgcGFkZGluZyA9IFswXSAqIDIgKiBkaW1zCiAgICAgICAgICAgIHBhZGRpbmdbLTFdID0gcGFkZGluZ19zaXplIC0gdGVuc29yLnNoYXBlWzBdCiAgICAgICAgICAgIHBhZGRlZF90ZW5zb3JzLmFwcGVuZChwYWRfdGVuc29yKHRlbnNvciwgcGFkZGluZywgImNvbnN0YW50IiwgcGFkX3ZhbHVlKSkKICAgICAgICByZXR1cm4gdG9yY2guc3RhY2soW3RlbnNvciBmb3IgdGVuc29yIGluIHBhZGRlZF90ZW5zb3JzXSwgZGltPTApCgogICAgZGVmIF9pc19sb25nX3NyY19hdWRpbyhzZWxmLCBzYW1wbGU6IExhbmdQYWlyU2FtcGxlKSAtPiBib29sOgogICAgICAgICMgSEFDSzo6IGNhdXNlcyBlcnJvcmVkIGF1ZGlvcyB0byBiZSBleGNsdWRlZCBidXQgdGhpcyBpcyBkaWZmaWN1bHQgdG8gZm9sbG93CiAgICAgICAgdHJ5OgogICAgICAgICAgICB3YXYsIHNhbXBsZV9yYXRlID0gdG9yY2hhdWRpby5sb2FkKHNhbXBsZS5zb3VyY2UuYXVkaW9fbG9jYWxfcGF0aCkKICAgICAgICAgICAgbGVuZ3RoX3M6IGZsb2F0ID0gbWF4KHdhdi5zaGFwZSkgLyBzYW1wbGVfcmF0ZQogICAgICAgICAgICByZXR1cm4gbGVuZ3RoX3MgPiBzZWxmLmJhdGNoaW5nX2NvbmZpZy5tYXhfYXVkaW9fbGVuZ3RoX3NlYwogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgbG9nZ2VyLmV4Y2VwdGlvbihmIkZhaWxlZCB0byBsb2FkIHNhbXBsZSBwYXRoOiB7c2FtcGxlLnNvdXJjZS5hdWRpb19sb2NhbF9wYXRofSIpCiAgICAgICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIF9kcm9wX292ZXJmbG93X3NhbXBsZXMoCiAgICAgICAgc2VsZiwgc2FtcGxlc193aXRoX2ZiYW5rczogTGlzdFtUdXBsZVtMYW5nUGFpclNhbXBsZSwgdG9yY2guVGVuc29yXV0KICAgICkgLT4gTGlzdFtUdXBsZVtMYW5nUGFpclNhbXBsZSwgdG9yY2guVGVuc29yXV06CiAgICAgICAgIyBmaWx0ZXIgYnkgc3JjX3Rva2VucyBsZW5ndGggKHJldmVyc2UpCiAgICAgICAgc2FtcGxlc193aXRoX2ZiYW5rcyA9IHNvcnRlZCgKICAgICAgICAgICAgc2FtcGxlc193aXRoX2ZiYW5rcywga2V5PWxhbWJkYSBzYjogLXNiWzFdLnNoYXBlWzBdCiAgICAgICAgKQogICAgICAgIGJ3ZCA9IHNhbXBsZXNfd2l0aF9mYmFua3NbMF1bMV0uc2hhcGVbMF0KICAgICAgICBtYXhfc2FtcGxlc19mb3JfYmF0Y2ggPSBtYXgoMSwgc2VsZi5tYXhfc3JjX3Rva2Vuc19wZXJfYmF0Y2ggLy8gYndkKQogICAgICAgIGlmIG1heF9zYW1wbGVzX2Zvcl9iYXRjaCA8IGxlbihzYW1wbGVzX3dpdGhfZmJhbmtzKToKICAgICAgICAgICAgc2FtcGxlc193aXRoX2ZiYW5rcyA9IHNhbXBsZXNfd2l0aF9mYmFua3NbOm1heF9zYW1wbGVzX2Zvcl9iYXRjaF0KICAgICAgICByZXR1cm4gc2FtcGxlc193aXRoX2ZiYW5rcwoKICAgIGRlZiBfcHJlcGFyZV9iYXRjaChzZWxmLCByYXdfc2FtcGxlczogTGlzdFtEaWN0W3N0ciwgQW55XV0pIC0+IE11bHRpbW9kYWxTZXFzQmF0Y2g6CiAgICAgICAgc2FtcGxlcyA9IFtMYW5nUGFpclNhbXBsZS5mcm9tX2pzb24oc2FtcGxlKSBmb3Igc2FtcGxlIGluIHJhd19zYW1wbGVzXQogICAgICAgICMgaW5wdXQgc3BlZWNoCiAgICAgICAgCiAgICAgICAgIyAgLSBmaWx0ZXIgbG9uZyBhdWRpbyBzYW1wbGVzCiAgICAgICAgZmlsdGVyZWRfc2FtcGxlcyA9IFsKICAgICAgICAgICAgc2FtcGxlIGZvciBzYW1wbGUgaW4gc2FtcGxlcyBpZiBub3Qgc2VsZi5faXNfbG9uZ19zcmNfYXVkaW8oc2FtcGxlKQogICAgICAgIF0KICAgICAgICBzYW1wbGVzID0gKAogICAgICAgICAgICBmaWx0ZXJlZF9zYW1wbGVzIGlmIGZpbHRlcmVkX3NhbXBsZXMgZWxzZSBbc2FtcGxlc1swXV0KICAgICAgICApICAjIGtlZXAgYXQgbGVhc3Qgb25lIHNhbXBsZQogICAgICAgIHdpdGhfZmJhbmtzID0gWyhzYW1wbGUsIHNlbGYuX2dldF9zb3VyY2VfZmJhbmsoc2FtcGxlKSkgZm9yIHNhbXBsZSBpbiBzYW1wbGVzXQogICAgICAgICMgIC0gZmlsdGVyIE5hTnMgaW4gZmJhbmtzCiAgICAgICAgZmlsdGVyZWQgPSBbCiAgICAgICAgICAgIChzYW1wbGUsIGZiYW5rKQogICAgICAgICAgICBmb3Igc2FtcGxlLCBmYmFuayBpbiB3aXRoX2ZiYW5rcwogICAgICAgICAgICBpZiBub3QgZmJhbmsuaXNuYW4oKS5hbnkoKS5pdGVtKCkKICAgICAgICBdCiAgICAgICAgZmlsdGVyZWQgPSBzZWxmLl9kcm9wX292ZXJmbG93X3NhbXBsZXMoZmlsdGVyZWQpCgogICAgICAgIHNhbXBsZXMgPSBbc2FtcGxlIGZvciBzYW1wbGUsIF8gaW4gZmlsdGVyZWRdCiAgICAgICAgc3JjX3Rva2Vuc19saXN0ID0gW3NyY190b2tlbnMgZm9yIF8sIHNyY190b2tlbnMgaW4gZmlsdGVyZWRdCiAgICAgICAgYXNzZXJ0IGxlbihzYW1wbGVzKSA+IDAKICAgICAgICBzcmNfdG9rZW5zID0gc2VsZi5fYmF0Y2hfdGVuc29ycygKICAgICAgICAgICAgc3JjX3Rva2Vuc19saXN0LCBwYWRfdmFsdWU9c2VsZi5iYXRjaGluZ19jb25maWcuZmJhbmtfZmVhdHNfcGFkX2lkeAogICAgICAgICkudG8oc2VsZi5iYXRjaGluZ19jb25maWcuZmxvYXRfZHR5cGUpCiAgICAgICAgc3JjX2xlbmd0aHMgPSB0b3JjaC5Mb25nVGVuc29yKAogICAgICAgICAgICBbc3JjX3Rva2Vucy5zaGFwZVswXSBmb3Igc3JjX3Rva2VucyBpbiBzcmNfdG9rZW5zX2xpc3RdCiAgICAgICAgKQogICAgICAgIAogICAgICAgICMgb3V0cHV0IHRleHQKICAgICAgICB0ZXh0X3Rva2Vuc19saXN0ID0gWwogICAgICAgICAgICBzZWxmLl9nZXRfdG9rZW5pemVkX3RhcmdldF90ZXh0KHNhbXBsZSkgZm9yIHNhbXBsZSBpbiBzYW1wbGVzCiAgICAgICAgXQogICAgICAgIHRleHRfcGFkX2lkeCA9IHNlbGYudGV4dF90b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4CiAgICAgICAgcHJldl9vdXRwdXRzX3Rva2VucyA9IHNlbGYuX2JhdGNoX3RlbnNvcnMoCiAgICAgICAgICAgIFt0b2tlbnNbOi0xXSBmb3IgdG9rZW5zIGluIHRleHRfdG9rZW5zX2xpc3RdLCBwYWRfdmFsdWU9dGV4dF9wYWRfaWR4CiAgICAgICAgKQogICAgICAgIHRhcmdldF90b2tlbnMgPSBzZWxmLl9iYXRjaF90ZW5zb3JzKAogICAgICAgICAgICBbdG9rZW5zWzE6XSBmb3IgdG9rZW5zIGluIHRleHRfdG9rZW5zX2xpc3RdLCBwYWRfdmFsdWU9dGV4dF9wYWRfaWR4CiAgICAgICAgKQogICAgICAgIHRva2Vuc19sZW5ndGhzID0gdG9yY2guTG9uZ1RlbnNvcigKICAgICAgICAgICAgW3Rva2Vucy5zaGFwZVswXSAtIDEgZm9yIHRva2VucyBpbiB0ZXh0X3Rva2Vuc19saXN0XQogICAgICAgICkKICAgICAgICAjIG91dHB1dCB1bml0cwogICAgICAgIHVuaXRzX2xpc3RfcmF3ID0gW3NlbGYuX2dldF90b2tlbml6ZWRfdW5pdHMoc2FtcGxlKSBmb3Igc2FtcGxlIGluIHNhbXBsZXNdCiAgICAgICAgaWYgTm9uZSBpbiB1bml0c19saXN0X3JhdzoKICAgICAgICAgICAgcHJldl9vdXRwdXRzX3VuaXRzID0gTm9uZQogICAgICAgICAgICB0YXJnZXRfdW5pdHMgPSBOb25lCiAgICAgICAgICAgIHVuaXRzX2xlbmd0aHMgPSBOb25lCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdW5pdHNfbGlzdDogTGlzdFtUZW5zb3JdID0gWwogICAgICAgICAgICAgICAgdmFsdWUgZm9yIHZhbHVlIGluIHVuaXRzX2xpc3RfcmF3IGlmIHZhbHVlIGlzIG5vdCBOb25lCiAgICAgICAgICAgIF0KICAgICAgICAgICAgdW5pdHNfcGFkX2lkeCA9IHNlbGYudW5pdF90b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4CiAgICAgICAgICAgIHByZXZfb3V0cHV0c191bml0cyA9IHNlbGYuX2JhdGNoX3RlbnNvcnMoCiAgICAgICAgICAgICAgICBbdG9rZW5zWzotMV0gZm9yIHRva2VucyBpbiB1bml0c19saXN0XSwgcGFkX3ZhbHVlPXVuaXRzX3BhZF9pZHgKICAgICAgICAgICAgKQogICAgICAgICAgICB0YXJnZXRfdW5pdHMgPSBzZWxmLl9iYXRjaF90ZW5zb3JzKAogICAgICAgICAgICAgICAgW3Rva2Vuc1sxOl0gZm9yIHRva2VucyBpbiB1bml0c19saXN0XSwgcGFkX3ZhbHVlPXVuaXRzX3BhZF9pZHgKICAgICAgICAgICAgKQogICAgICAgICAgICB1bml0c19sZW5ndGhzID0gdG9yY2guTG9uZ1RlbnNvcigKICAgICAgICAgICAgICAgIFt0b2tlbnMuc2hhcGVbMF0gLSAxIGZvciB0b2tlbnMgaW4gdW5pdHNfbGlzdF0KICAgICAgICAgICAgKQogICAgICAgIHJldHVybiBNdWx0aW1vZGFsU2Vxc0JhdGNoKAogICAgICAgICAgICBzcGVlY2hfdG9fdGV4dD1TZXFzQmF0Y2goCiAgICAgICAgICAgICAgICBzcmNfdG9rZW5zPXNyY190b2tlbnMsCiAgICAgICAgICAgICAgICBzcmNfbGVuZ3Rocz1zcmNfbGVuZ3RocywKICAgICAgICAgICAgICAgIHRhcmdldF90b2tlbnM9dGFyZ2V0X3Rva2VucywKICAgICAgICAgICAgICAgIHByZXZfb3V0cHV0X3Rva2Vucz1wcmV2X291dHB1dHNfdG9rZW5zLAogICAgICAgICAgICAgICAgdGFyZ2V0X2xlbmd0aHM9dG9rZW5zX2xlbmd0aHMsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHRleHRfdG9fdW5pdHM9U2Vxc0JhdGNoKAogICAgICAgICAgICAgICAgc3JjX3Rva2Vucz1Ob25lLAogICAgICAgICAgICAgICAgc3JjX2xlbmd0aHM9Tm9uZSwKICAgICAgICAgICAgICAgIHRhcmdldF90b2tlbnM9dGFyZ2V0X3VuaXRzLAogICAgICAgICAgICAgICAgcHJldl9vdXRwdXRfdG9rZW5zPXByZXZfb3V0cHV0c191bml0cywKICAgICAgICAgICAgICAgIHRhcmdldF9sZW5ndGhzPXVuaXRzX2xlbmd0aHMsCiAgICAgICAgICAgICksCiAgICAgICAgKQoKICAgIGRlZiBfbG9hZF9tYW5pZmVzdChzZWxmLCBkYXRhc2V0X21hbmlmZXN0X3BhdGg6IHN0cikgLT4gRGF0YXNldDoKICAgICAgICB3aXRoIG9wZW4oZGF0YXNldF9tYW5pZmVzdF9wYXRoKSBhcyBmcF9pbjoKICAgICAgICAgICAgZGF0YXNldCA9IFtqc29uLmxvYWRzKGxpbmUpIGZvciBsaW5lIGluIGZwX2luXQogICAgICAgICAgICByZXR1cm4gRGF0YXNldC5mcm9tX2xpc3QoZGF0YXNldCkK'),
    ('seamless/build/lib/seamless_communication/cli/m4t/finetune/dist_utils.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQgbG9nZ2luZwppbXBvcnQgb3MKZnJvbSBkYXRldGltZSBpbXBvcnQgdGltZWRlbHRhCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0CgppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoLmRpc3RyaWJ1dGVkIGFzIGRpc3QKaW1wb3J0IHRvcmNoLm11bHRpcHJvY2Vzc2luZwoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKZGVmIGlzX2Rpc3RfaW5pdGlhbGl6ZWQoKSAtPiBib29sOgogICAgaWYgbm90IGRpc3QuaXNfYXZhaWxhYmxlKCk6CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBpZiBub3QgZGlzdC5pc19pbml0aWFsaXplZCgpOgogICAgICAgIHJldHVybiBGYWxzZQogICAgcmV0dXJuIFRydWUKCgpkZWYgZ2V0X3JhbmsoKSAtPiBpbnQ6CiAgICBpZiBub3QgaXNfZGlzdF9pbml0aWFsaXplZCgpOgogICAgICAgIHJldHVybiAwCiAgICByZXR1cm4gZGlzdC5nZXRfcmFuaygpCgoKZGVmIGdldF9sb2NhbF9yYW5rKCkgLT4gaW50OgogICAgaWYgbm90IGlzX2Rpc3RfaW5pdGlhbGl6ZWQoKToKICAgICAgICByZXR1cm4gMAogICAgcmV0dXJuIGludChvcy5lbnZpcm9uWyJMT0NBTF9SQU5LIl0pCgoKZGVmIGdldF93b3JsZF9zaXplKCkgLT4gaW50OgogICAgaWYgbm90IGlzX2Rpc3RfaW5pdGlhbGl6ZWQoKToKICAgICAgICByZXR1cm4gMQogICAgcmV0dXJuIGRpc3QuZ2V0X3dvcmxkX3NpemUoKQoKCmRlZiBpc19tYWluX3Byb2Nlc3MoKSAtPiBib29sOgogICAgcmV0dXJuIGdldF9yYW5rKCkgPT0gMAoKCmRlZiBpbml0X2Rpc3RyaWJ1dGVkKGxvZ2dlcnM6IExpc3RbbG9nZ2luZy5Mb2dnZXJdKSAtPiBOb25lOgogICAgIiIiSW5pdGlhbGl6ZXMgdGhlIGRpc3RyaWJ1dGVkIGJhY2tlbmQiIiIKICAgIHRvcmNoLm11bHRpcHJvY2Vzc2luZy5zZXRfc3RhcnRfbWV0aG9kKCJzcGF3biIpCiAgICBpZiAiUkFOSyIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgbG9nZ2VyLmVycm9yKAogICAgICAgICAgICAiQ2Fubm90IGluaXQgZGlzcmlidXRlZCBjb250ZXh0LCBhcyBlbnZpcm9ubWVudCB2YXJhaWJsZXMgYXJlIG5vdCBzZXQuIgogICAgICAgICkKICAgICAgICByZXR1cm4KICAgIHJhbmsgPSBpbnQob3MuZW52aXJvblsiUkFOSyJdKQogICAgd29ybGRfc2l6ZSA9IGludChvcy5lbnZpcm9uWyJXT1JMRF9TSVpFIl0pCiAgICBsb2NhbF9yYW5rID0gaW50KG9zLmVudmlyb25bIkxPQ0FMX1JBTksiXSkKICAgIGxvZ2dlci5pbmZvKAogICAgICAgIGYiUmFuaz17cmFua30gbG9jYWwgcmFuaz17bG9jYWxfcmFua30sIHdvcmxkX3NpemU9e3dvcmxkX3NpemV9LCBpc19tYXN0ZXI9e3JhbmsgPT0gMH0iCiAgICApCiAgICBkaXN0LmluaXRfcHJvY2Vzc19ncm91cCgKICAgICAgICBiYWNrZW5kPSJuY2NsIiwKICAgICAgICBpbml0X21ldGhvZD0iZW52Oi8vIiwKICAgICAgICB3b3JsZF9zaXplPXdvcmxkX3NpemUsCiAgICAgICAgcmFuaz1yYW5rLAogICAgICAgIHRpbWVvdXQ9dGltZWRlbHRhKHNlY29uZHM9MTgwKSwKICAgICkKICAgIGxvZ2dlci5pbmZvKGYiU2V0dGluZyBjdWRhOntsb2NhbF9yYW5rfSBhcyBtYWluIGRldmljZSIpCiAgICBpZiBub3QgaXNfbWFpbl9wcm9jZXNzKCk6CiAgICAgICAgZm9yIHRvX211dGUgaW4gbG9nZ2VyczoKICAgICAgICAgICAgdG9fbXV0ZS5zZXRMZXZlbChsb2dnaW5nLkVSUk9SKQogICAgdG9yY2guY3VkYS5zZXRfZGV2aWNlKGxvY2FsX3JhbmspCiAgICBkaXN0LmJhcnJpZXIoKQo='),
    ('seamless/build/lib/seamless_communication/cli/m4t/finetune/trainer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQgbG9nZ2luZwppbXBvcnQgdGltZQpmcm9tIGNvbnRleHRsaWIgaW1wb3J0IGNvbnRleHRtYW5hZ2VyCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIGVudW0gaW1wb3J0IEVudW0KZnJvbSB0cWRtIGltcG9ydCB0cWRtCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgT3B0aW9uYWwsIFR1cGxlLCBVbmlvbgoKaW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaC5kaXN0cmlidXRlZCBhcyBkaXN0CmltcG9ydCB0b3JjaC5ubiBhcyBubgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFZvY2FidWxhcnlJbmZvCmZyb20gZmFpcnNlcTIubW9kZWxzLnNlcXVlbmNlIGltcG9ydCBTZXF1ZW5jZU1vZGVsT3V0cHV0CmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2sKZnJvbSBmYWlyc2VxMi5vcHRpbS5scl9zY2hlZHVsZXIgaW1wb3J0IE15bGVMUgpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlCmZyb20gdG9yY2gub3B0aW0gaW1wb3J0IEFkYW1XCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5maW5ldHVuZSBpbXBvcnQgZGF0YWxvYWRlciwgZGlzdF91dGlscwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5IGltcG9ydCAoCiAgICBVbml0WU1vZGVsLAogICAgVW5pdFlUMlVNb2RlbCwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgRmluZXR1bmVNb2RlKEVudW0pOgogICAgU1BFRUNIX1RPX1NQRUVDSCA9ICJTUEVFQ0hfVE9fU1BFRUNIIgogICAgU1BFRUNIX1RPX1RFWFQgPSAiU1BFRUNIX1RPX1RFWFQiCiAgICBURVhUX1RPX1NQRUVDSCA9ICJURVhUX1RPX1NQRUVDSCIKCgpAZGF0YWNsYXNzCmNsYXNzIEZpbmV0dW5lUGFyYW1zOgogICAgbW9kZWxfbmFtZTogc3RyCiAgICAiIiJNb2RlbCBuYW1lIG9mIG1vZGVsIGJlaW5nIGZpbmV0dW5lZC4iIiIKICAgIAogICAgc2F2ZV9tb2RlbF9wYXRoOiBQYXRoCiAgICAiIiJQYXRoIHdlcmUgdG8gc2F2ZSBmaW5ldHVuZWQgbW9kZWwuIiIiCgogICAgZmluZXR1bmVfbW9kZTogRmluZXR1bmVNb2RlID0gRmluZXR1bmVNb2RlLlRFWFRfVE9fU1BFRUNICiAgICAiIiJBbGxvd3MgdG8gZnJlZXplIFMyVCBvciBUMlUgcGFydCBvZiB0aGUgbW9kZWwiIiIKICAgIAogICAgZmxvYXRfZHR5cGU6IHRvcmNoLmR0eXBlID0gdG9yY2guZmxvYXQxNgogICAgIiIiRmxvYXQgRHR5cGUiIiIKCiAgICBtYXhfZXBvY2hzOiBpbnQgPSAxMAogICAgIiIiIE1heGltdW0gbnVtYmVyIG9mIHRyYWluaWduIGVwb2NocyIiIgoKICAgIGxhYmVsX3Ntb290aGluZzogZmxvYXQgPSAwLjIKICAgICIiIiBMYWJlbCBzbW9vdGhpbmcgY29lZmZpY2llbnQgZm9yIG5sbF9sb3NzICIiIgoKICAgIHdhcm11cF9zdGVwczogaW50ID0gMTAwCiAgICAiIiIgTnVtYmVyIG9mIHN0ZXBzIHdpdGggbGluZWFybHkgaW5jcmVhc2luZyBMUiIiIgoKICAgIGxvZ19zdGVwczogaW50ID0gMTAKICAgICIiIiBMb2cgaW5uZXIgbG9zcyBhZnRlciBlYWNoIGBsb2dfc3RlcHNgIHRyYWluaW5nIHN0ZXBzIiIiCgogICAgZXZhbF9zdGVwczogaW50ID0gNTAKICAgICIiIiBHZXQgZXZhbCBsb3NzIGFmdGVyIGVhY2ggYGV2YWxfc3RlcHNgIHRyYWluaW5nIHN0ZXBzICIiIgoKICAgIHBhdGllbmNlOiBpbnQgPSAzCiAgICAiIiIgVGVybWluYXRlIGlmIGV2YWwgbG9zcyBkaWQgbm90IGltcHJvdmUKICAgIG92ZXIgdGhlIGxhc3QgYHBhdGllbmNlICogZXZhbF9zdGVwc2AgdHJhaW5pbmcgc3RlcHMiIiIKCiAgICBsZWFybmluZ19yYXRlOiBmbG9hdCA9IDFlLTUKICAgICIiIiBPcHRpbWl6ZXIgbGVhcmluaW5nIHJhdGUgIiIiCgogICAgdHJhaW5fYmF0Y2hfc2l6ZTogaW50ID0gNQogICAgIiIiVGhlIGJhdGNoIHNpemUgZHVyaW5nIHRyYWluIHN0ZXBzIiIiCgogICAgZXZhbF9iYXRjaF9zaXplOiBpbnQgPSA1CiAgICAiIiJUaGUgYmF0Y2ggc2l6ZSBkdXJpbmcgZXZhbHVhdGlvbi4iIiIKCiAgICBkZXZpY2U6IERldmljZSA9IHRvcmNoLmRldmljZSgiY3VkYSIpCiAgICAiIiIgV2hlcmUgdG8gcnVuIGNvbXB1dGF0aW9uIiIiCgoKY2xhc3MgVW5pdFlGaW5ldHVuZVdyYXBwZXIobm4uTW9kdWxlKToKICAgICIiIkNvbnZlbmllbmNlIHdyYXBwZXIgdGhhdCBkb2VzIGEgZm9yd2FyZCBwYXNzCiAgICBhbmQgcmV0dXJucyBTMlQgYW5kIFQyVSBsb2dpdHMiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgbW9kZWw6IFVuaXRZTW9kZWwsIG1vZGU6IEZpbmV0dW5lTW9kZSwgZGV2aWNlOiBEZXZpY2UpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYubW9kZWw6IFVuaXRZTW9kZWwgPSBtb2RlbAogICAgICAgIHNlbGYuZnJlZXplX3MydDogYm9vbCA9IG1vZGUgPT0gRmluZXR1bmVNb2RlLlRFWFRfVE9fU1BFRUNICiAgICAgICAgc2VsZi5mcmVlemVfdDJ1OiBib29sID0gbW9kZSA9PSBGaW5ldHVuZU1vZGUuU1BFRUNIX1RPX1RFWFQKICAgICAgICBsb2dnZXIuaW5mbyhmIkZyZWV6ZSBzMnQ6IHtzZWxmLmZyZWV6ZV9zMnR9LCBmcmVlemUgdDJ1OiB7c2VsZi5mcmVlemVfdDJ1fSIpCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLCBiYXRjaDogZGF0YWxvYWRlci5NdWx0aW1vZGFsU2Vxc0JhdGNoCiAgICApIC0+IFR1cGxlW3RvcmNoLlRlbnNvciwgT3B0aW9uYWxbdG9yY2guVGVuc29yXV06CiAgICAgICAgZHVtbXlfY29udGV4dCA9IGNvbnRleHRtYW5hZ2VyKGxhbWJkYTogaXRlcihbTm9uZV0pKSgpCiAgICAgICAgd2l0aCB0b3JjaC5ub19ncmFkKCkgaWYgc2VsZi5mcmVlemVfczJ0IGVsc2UgZHVtbXlfY29udGV4dDogICMgdHlwZTppZ25vcmUKICAgICAgICAgICAgYXNzZXJ0IGJhdGNoLnNwZWVjaF90b190ZXh0LnNyY190b2tlbnMgaXMgbm90IE5vbmUKICAgICAgICAgICAgc2VxcyA9IGJhdGNoLnNwZWVjaF90b190ZXh0LnNyY190b2tlbnMudG8oc2VsZi5kZXZpY2UpCiAgICAgICAgICAgIGFzc2VydCBiYXRjaC5zcGVlY2hfdG9fdGV4dC5zcmNfbGVuZ3RocyBpcyBub3QgTm9uZQogICAgICAgICAgICBzZXFfbGVucyA9IGJhdGNoLnNwZWVjaF90b190ZXh0LnNyY19sZW5ndGhzLnRvKHNlbGYuZGV2aWNlKQogICAgICAgICAgICBzcGVlY2hfZW5jb2Rlcl9vdXQsIHNwZWVjaF9lbmNvZGVyX3BhZGRpbmdfbWFzayA9IHNlbGYubW9kZWwuZW5jb2RlX3NwZWVjaCgKICAgICAgICAgICAgICAgIHNlcXM9c2VxcywgcGFkZGluZ19tYXNrPVBhZGRpbmdNYXNrKHNlcV9sZW5zLCBzZXFzLnNpemUoMSkpCiAgICAgICAgICAgICkKICAgICAgICAgICAgYXNzZXJ0IGJhdGNoLnNwZWVjaF90b190ZXh0LnByZXZfb3V0cHV0X3Rva2VucyBpcyBub3QgTm9uZQogICAgICAgICAgICBzZXFzID0gYmF0Y2guc3BlZWNoX3RvX3RleHQucHJldl9vdXRwdXRfdG9rZW5zLnRvKHNlbGYuZGV2aWNlKQogICAgICAgICAgICBhc3NlcnQgYmF0Y2guc3BlZWNoX3RvX3RleHQudGFyZ2V0X2xlbmd0aHMgaXMgbm90IE5vbmUKICAgICAgICAgICAgc2VxX2xlbnMgPSBiYXRjaC5zcGVlY2hfdG9fdGV4dC50YXJnZXRfbGVuZ3Rocy50byhzZWxmLmRldmljZSkKICAgICAgICAgICAgdGV4dF9kZWNvZGVyX291dCwgdGV4dF9kZWNvZGVyX3BhZGRpbmdfbWFzayA9IHNlbGYubW9kZWwuZGVjb2RlKAogICAgICAgICAgICAgICAgc2Vxcz1zZXFzLAogICAgICAgICAgICAgICAgcGFkZGluZ19tYXNrPVBhZGRpbmdNYXNrKHNlcV9sZW5zLCBzZXFzLnNpemUoMSkpLAogICAgICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQ9c3BlZWNoX2VuY29kZXJfb3V0LAogICAgICAgICAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2s9c3BlZWNoX2VuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICApCiAgICAgICAgICAgIGFzc2VydCBzZWxmLm1vZGVsLmZpbmFsX3Byb2ogaXMgbm90IE5vbmUKICAgICAgICAgICAgdGV4dF9sb2dpdHMgPSBzZWxmLm1vZGVsLmZpbmFsX3Byb2oodGV4dF9kZWNvZGVyX291dCkKICAgICAgICBpZiBzZWxmLmZyZWV6ZV90MnU6CiAgICAgICAgICAgIHJldHVybiAodGV4dF9sb2dpdHMsIE5vbmUpCiAgICAgICAgYXNzZXJ0IHNlbGYubW9kZWwudDJ1X21vZGVsIGlzIG5vdCBOb25lCiAgICAgICAgYXNzZXJ0IGJhdGNoLnRleHRfdG9fdW5pdHMucHJldl9vdXRwdXRfdG9rZW5zIGlzIG5vdCBOb25lCiAgICAgICAgZHVtbXlfY29udGV4dCA9IGNvbnRleHRtYW5hZ2VyKGxhbWJkYTogaXRlcihbTm9uZV0pKSgpCiAgICAgICAgd2l0aCB0b3JjaC5ub19ncmFkKCkgaWYgc2VsZi5mcmVlemVfdDJ1IGVsc2UgZHVtbXlfY29udGV4dDogICMgdHlwZTppZ25vcmUKICAgICAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uoc2VsZi5tb2RlbC50MnVfbW9kZWwsIFVuaXRZVDJVTW9kZWwpOgogICAgICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigKICAgICAgICAgICAgICAgICAgICAiVDJVIGZpbmV0dW5pbmcgaW1wbGVtZW50ZWQgb25seSBmb3IgVW5pdFlUMlVNb2RlbCIKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKAogICAgICAgICAgICAgICAgdW5pdF9lbmNvZGVyX291dCwKICAgICAgICAgICAgICAgIHVuaXRfZW5jb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgICkgPSBzZWxmLm1vZGVsLnQydV9tb2RlbC5lbmNvZGUoCiAgICAgICAgICAgICAgICBzZXFzPXRleHRfZGVjb2Rlcl9vdXQsCiAgICAgICAgICAgICAgICBwYWRkaW5nX21hc2s9dGV4dF9kZWNvZGVyX3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgKQogICAgICAgICAgICBzZXFzID0gYmF0Y2gudGV4dF90b191bml0cy5wcmV2X291dHB1dF90b2tlbnMudG8oc2VsZi5kZXZpY2UpCiAgICAgICAgICAgIGFzc2VydCBiYXRjaC50ZXh0X3RvX3VuaXRzLnRhcmdldF9sZW5ndGhzIGlzIG5vdCBOb25lCiAgICAgICAgICAgIHNlcV9sZW5zID0gYmF0Y2gudGV4dF90b191bml0cy50YXJnZXRfbGVuZ3Rocy50byhzZWxmLmRldmljZSkKICAgICAgICAgICAgdW5pdF9kZWNvZGVyX291dCwgXyA9IHNlbGYubW9kZWwudDJ1X21vZGVsLmRlY29kZSgKICAgICAgICAgICAgICAgIHNlcXM9c2VxcywKICAgICAgICAgICAgICAgIHBhZGRpbmdfbWFzaz1QYWRkaW5nTWFzayhzZXFfbGVucywgc2Vxcy5zaXplKDEpKSwKICAgICAgICAgICAgICAgIGVuY29kZXJfb3V0cHV0PXVuaXRfZW5jb2Rlcl9vdXQsCiAgICAgICAgICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzaz11bml0X2VuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICApCiAgICAgICAgICAgIHVuaXRfbG9naXRzID0gc2VsZi5tb2RlbC50MnVfbW9kZWwuZmluYWxfcHJvaih1bml0X2RlY29kZXJfb3V0KQoKICAgICAgICByZXR1cm4gKHRleHRfbG9naXRzLCB1bml0X2xvZ2l0cykKCgpjbGFzcyBDYWxjTG9zczoKICAgICIiIkNhbGN1bGF0ZXMgbmVnYXRpdmUgbG9nIGxpa2VsaWhvb2QgbG9zcyBmb3IgUzJUIGFuZCBUMlUiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBsYWJlbF9zbW9vdGhpbmc6IGZsb2F0LAogICAgICAgIHMydF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbywKICAgICAgICB0MnVfdm9jYWJfaW5mbzogT3B0aW9uYWxbVm9jYWJ1bGFyeUluZm9dLAogICAgKToKICAgICAgICBzZWxmLmxhYmVsX3Ntb290aGluZyA9IGxhYmVsX3Ntb290aGluZwogICAgICAgIHNlbGYuczJ0X3ZvY2FiX2luZm8gPSBzMnRfdm9jYWJfaW5mbwogICAgICAgIHNlbGYudDJ1X3ZvY2FiX2luZm8gPSB0MnVfdm9jYWJfaW5mbwoKICAgIGRlZiBfX2NhbGxfXygKICAgICAgICBzZWxmLAogICAgICAgIGJhdGNoOiBkYXRhbG9hZGVyLk11bHRpbW9kYWxTZXFzQmF0Y2gsCiAgICAgICAgdGV4dF9sb2dpdHM6IHRvcmNoLlRlbnNvciwKICAgICAgICB1bml0X2xvZ2l0czogT3B0aW9uYWxbdG9yY2guVGVuc29yXSwKICAgICkgLT4gdG9yY2guVGVuc29yOgogICAgICAgIGFzc2VydCBiYXRjaC5zcGVlY2hfdG9fdGV4dC50YXJnZXRfbGVuZ3RocyBpcyBub3QgTm9uZQogICAgICAgIHByZWZpeF9za2lwX2xlbiA9IDEgICMgbGFuZ3VhZ2UgdG9rZW5zIHRvIHNraXAKICAgICAgICBzMnRfbnVtZWwgPSB0b3JjaC5zdW0oYmF0Y2guc3BlZWNoX3RvX3RleHQudGFyZ2V0X2xlbmd0aHMgLSBwcmVmaXhfc2tpcF9sZW4pLnRvKAogICAgICAgICAgICB0ZXh0X2xvZ2l0cy5kZXZpY2UKICAgICAgICApCiAgICAgICAgYXNzZXJ0IGJhdGNoLnNwZWVjaF90b190ZXh0LnRhcmdldF90b2tlbnMgaXMgbm90IE5vbmUKICAgICAgICBzMnRfbG9zcyA9IFNlcXVlbmNlTW9kZWxPdXRwdXQoCiAgICAgICAgICAgIGxvZ2l0cz10ZXh0X2xvZ2l0cywgdm9jYWJfaW5mbz1zZWxmLnMydF92b2NhYl9pbmZvCiAgICAgICAgKS5jb21wdXRlX2xvc3MoCiAgICAgICAgICAgIHRhcmdldHM9YmF0Y2guc3BlZWNoX3RvX3RleHQudGFyZ2V0X3Rva2Vucy50byh0ZXh0X2xvZ2l0cy5kZXZpY2UpLAogICAgICAgICAgICBpZ25vcmVfcHJlZml4X3NpemU9cHJlZml4X3NraXBfbGVuLAogICAgICAgICAgICBsYWJlbF9zbW9vdGhpbmc9c2VsZi5sYWJlbF9zbW9vdGhpbmcsCiAgICAgICAgKQogICAgICAgIGlmIHVuaXRfbG9naXRzIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBzMnRfbG9zcyAvIHMydF9udW1lbAogICAgICAgIGFzc2VydCBiYXRjaC50ZXh0X3RvX3VuaXRzLnRhcmdldF9sZW5ndGhzIGlzIG5vdCBOb25lCiAgICAgICAgczJ1X251bWVsID0gdG9yY2guc3VtKGJhdGNoLnRleHRfdG9fdW5pdHMudGFyZ2V0X2xlbmd0aHMgLSBwcmVmaXhfc2tpcF9sZW4pLnRvKAogICAgICAgICAgICB1bml0X2xvZ2l0cy5kZXZpY2UKICAgICAgICApCiAgICAgICAgYXNzZXJ0IGJhdGNoLnRleHRfdG9fdW5pdHMudGFyZ2V0X3Rva2VucyBpcyBub3QgTm9uZQogICAgICAgIGFzc2VydCBzZWxmLnQydV92b2NhYl9pbmZvIGlzIG5vdCBOb25lCiAgICAgICAgczJ1X2xvc3MgPSBTZXF1ZW5jZU1vZGVsT3V0cHV0KAogICAgICAgICAgICBsb2dpdHM9dW5pdF9sb2dpdHMsIHZvY2FiX2luZm89c2VsZi50MnVfdm9jYWJfaW5mbwogICAgICAgICkuY29tcHV0ZV9sb3NzKAogICAgICAgICAgICB0YXJnZXRzPWJhdGNoLnRleHRfdG9fdW5pdHMudGFyZ2V0X3Rva2Vucy50byh1bml0X2xvZ2l0cy5kZXZpY2UpLAogICAgICAgICAgICBpZ25vcmVfcHJlZml4X3NpemU9cHJlZml4X3NraXBfbGVuLAogICAgICAgICAgICBsYWJlbF9zbW9vdGhpbmc9c2VsZi5sYWJlbF9zbW9vdGhpbmcsCiAgICAgICAgKQogICAgICAgIHJldHVybiBzMnRfbG9zcyAvIHMydF9udW1lbCArIHMydV9sb3NzIC8gczJ1X251bWVsCgoKY2xhc3MgTG9zc0NvbGxlY3RvcjoKICAgICIiIkFnZ3JlZ3JhdGVzIGxvc3MgaGlzdG9yeSBhY3Jvc3Mgbm9kZXMiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwgcmVkdWNlX29wOiBzdHIgPSAiYXZnIik6CiAgICAgICAgc2VsZi5uX3NhbXBsZXM6IGZsb2F0ID0gMAogICAgICAgIHNlbGYudmFsX3N1bTogZmxvYXQgPSAwLjAKICAgICAgICBzZWxmLnJlZHVjZV9vcCA9IHJlZHVjZV9vcAogICAgICAgIHNlbGYuZGV2aWNlID0gZGV2aWNlCiAgICAgICAgc2VsZi5pc19kaXN0cmlidXRlZCA9IGRpc3RfdXRpbHMuaXNfZGlzdF9pbml0aWFsaXplZCgpCgogICAgZGVmIHJlc2V0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5uX3NhbXBsZXMgPSAwCiAgICAgICAgc2VsZi52YWxfc3VtID0gMC4wCgogICAgZGVmIHVwZGF0ZShzZWxmLCBuX3NhbXBsZXM6IGludCwgYmF0Y2hfbG9zczogZmxvYXQpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5uX3NhbXBsZXMgKz0gbl9zYW1wbGVzCiAgICAgICAgc2VsZi52YWxfc3VtICs9IGJhdGNoX2xvc3MKCiAgICBkZWYgcmVkdWNlKHNlbGYpIC0+IGZsb2F0OgogICAgICAgIG5fc2FtcGxlcywgdmFsX3N1bSA9IHNlbGYuX2NvbGxlY3QoKQogICAgICAgIGlmIHNlbGYucmVkdWNlX29wID09ICJhdmciOgogICAgICAgICAgICByZXR1cm4gdmFsX3N1bSAvIChuX3NhbXBsZXMgKyAxKQogICAgICAgIGlmIHNlbGYucmVkdWNlX29wID09ICJzdW0iOgogICAgICAgICAgICByZXR1cm4gdmFsX3N1bQogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoKQoKICAgIGRlZiBfY29sbGVjdChzZWxmKSAtPiBUdXBsZVtmbG9hdCwgZmxvYXRdOgogICAgICAgIGlmIG5vdCBzZWxmLmlzX2Rpc3RyaWJ1dGVkOgogICAgICAgICAgICByZXR1cm4gc2VsZi5uX3NhbXBsZXMsIHNlbGYudmFsX3N1bQogICAgICAgIGxvY2FsX3ZhbCA9IHRvcmNoLnRlbnNvcihbW3NlbGYubl9zYW1wbGVzLCBzZWxmLnZhbF9zdW1dXSwgZGV2aWNlPXNlbGYuZGV2aWNlKQogICAgICAgIGFsbF92YWxzID0gWwogICAgICAgICAgICB0b3JjaC56ZXJvcygoMSwgMiksIGRldmljZT1zZWxmLmRldmljZSkKICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UoZGlzdF91dGlscy5nZXRfd29ybGRfc2l6ZSgpKQogICAgICAgIF0KICAgICAgICBkaXN0LmFsbF9nYXRoZXIoYWxsX3ZhbHMsIGxvY2FsX3ZhbCkKICAgICAgICBsb3NzZXMgPSB0b3JjaC5jb25jYXQoYWxsX3ZhbHMsIGRpbT0wKQogICAgICAgIHJlZHVjZWQgPSB0b3JjaC5zdW0obG9zc2VzLCBkaW09MCkucmVzaGFwZSgyKS5jcHUoKQogICAgICAgIHJldHVybiByZWR1Y2VkWzBdLml0ZW0oKSwgcmVkdWNlZFsxXS5pdGVtKCkKCgpjbGFzcyBVbml0WUZpbmV0dW5lOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWw6IFVuaXRZTW9kZWwsCiAgICAgICAgcGFyYW1zOiBGaW5ldHVuZVBhcmFtcywKICAgICAgICB0cmFpbl9kYXRhX2xvYWRlcjogZGF0YWxvYWRlci5Vbml0WURhdGFMb2FkZXIsCiAgICAgICAgZXZhbF9kYXRhX2xvYWRlcjogT3B0aW9uYWxbZGF0YWxvYWRlci5Vbml0WURhdGFMb2FkZXJdID0gTm9uZSwKICAgICAgICBmcmVlemVfbW9kdWxlczogT3B0aW9uYWxbTGlzdFtVbmlvbltzdHIsIHRvcmNoLm5uLk1vZHVsZV1dXSA9IE5vbmUKICAgICk6CiAgICAgICAgc2VsZi5wYXJhbXMgPSBwYXJhbXMKICAgICAgICBzZWxmLmNhbGNfbG9zcyA9IENhbGNMb3NzKAogICAgICAgICAgICBsYWJlbF9zbW9vdGhpbmc9c2VsZi5wYXJhbXMubGFiZWxfc21vb3RoaW5nLAogICAgICAgICAgICBzMnRfdm9jYWJfaW5mbz1tb2RlbC50YXJnZXRfdm9jYWJfaW5mbywKICAgICAgICAgICAgdDJ1X3ZvY2FiX2luZm89bW9kZWwudDJ1X21vZGVsLnRhcmdldF92b2NhYl9pbmZvCiAgICAgICAgICAgIGlmIG1vZGVsLnQydV9tb2RlbCBpcyBub3QgTm9uZQogICAgICAgICAgICBlbHNlIE5vbmUsCiAgICAgICAgKQogICAgICAgIAogICAgICAgIHNlbGYubW9kZWwgPSBzZWxmLl93cmFwX21vZGVsX2Zvcl90cmFpbmluaW5nKG1vZGVsPW1vZGVsKQogICAgICAgIGlmIGZyZWV6ZV9tb2R1bGVzOgogICAgICAgICAgICBzZWxmLl9mcmVlemVfbW9kdWxlcyhmcmVlemVfbW9kdWxlcykKICAgICAgICAKICAgICAgICBzZWxmLnRyYWluX2RhdGFfbG9hZGVyID0gdHJhaW5fZGF0YV9sb2FkZXIKICAgICAgICBzZWxmLmV2YWxfZGF0YV9sb2FkZXIgPSBldmFsX2RhdGFfbG9hZGVyCiAgICAgICAgCiAgICAgICAgc2VsZi5ncmFkX3NjYWxlciA9IHRvcmNoLmN1ZGEuYW1wLkdyYWRTY2FsZXIoKSAgIyB0eXBlOiBpZ25vcmUKICAgICAgICBzZWxmLm9wdGltaXplciA9IEFkYW1XKAogICAgICAgICAgICBwYXJhbXM9c2VsZi5tb2RlbC5wYXJhbWV0ZXJzKCksCiAgICAgICAgICAgIGxyPXNlbGYucGFyYW1zLmxlYXJuaW5nX3JhdGUsCiAgICAgICAgICAgIGJldGFzPSgwLjksIDAuOTgpLAogICAgICAgICAgICBlcHM9MWUtMDgsCiAgICAgICAgICAgIG1heGltaXplPUZhbHNlLAogICAgICAgICAgICB3ZWlnaHRfZGVjYXk9MC4wLAogICAgICAgICAgICBmdXNlZD0oc2VsZi5wYXJhbXMuZGV2aWNlLnR5cGUgPT0gImN1ZGEiKSwKICAgICAgICApCiAgICAgICAgc2VsZi5scl9zY2hlZHVsZXIgPSBNeWxlTFIoCiAgICAgICAgICAgIG9wdGltaXplcj1zZWxmLm9wdGltaXplciwKICAgICAgICAgICAgbnVtX3dhcm11cF9zdGVwcz1zZWxmLnBhcmFtcy53YXJtdXBfc3RlcHMsCiAgICAgICAgICAgIHN0YXJ0X2xyPTFlLTksCiAgICAgICAgKQoKICAgICAgICBzZWxmLnRyYWluX2xvc3NfaGlzdCA9IExvc3NDb2xsZWN0b3IoZGV2aWNlPXBhcmFtcy5kZXZpY2UpCiAgICAgICAgc2VsZi5lcG9jaF9pZHg6IGludCA9IDAKICAgICAgICBzZWxmLnVwZGF0ZV9pZHg6IGludCA9IDAKICAgICAgICBzZWxmLnBhdGllbmNlX2xlZnQ6IGludCA9IHNlbGYucGFyYW1zLnBhdGllbmNlCiAgICAgICAgc2VsZi5iZXN0X2V2YWxfbG9zczogT3B0aW9uYWxbZmxvYXRdID0gTm9uZQogICAgICAgIHNlbGYuaXNfYmVzdF9zdGF0ZTogYm9vbCA9IEZhbHNlCiAgICAgICAgdG9yY2guc2V0X2Zsb2F0MzJfbWF0bXVsX3ByZWNpc2lvbigiaGlnaCIpCgogICAgZGVmIF9yZXNldF9zdGF0cyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYudHJhaW5fbG9zc19oaXN0LnJlc2V0KCkKICAgICAgICBzZWxmLmVwb2NoX2lkeCA9IDAKICAgICAgICBzZWxmLnVwZGF0ZV9pZHggPSAwCiAgICAgICAgc2VsZi5wYXRpZW5jZV9sZWZ0ID0gc2VsZi5wYXJhbXMucGF0aWVuY2UKICAgICAgICBzZWxmLmJlc3RfZXZhbF9sb3NzID0gTm9uZQogICAgICAgIHNlbGYuaXNfYmVzdF9zdGF0ZSA9IEZhbHNlCgogICAgZGVmIF93cmFwX21vZGVsX2Zvcl90cmFpbmluaW5nKHNlbGYsIG1vZGVsOiBVbml0WU1vZGVsKSAtPiBubi5Nb2R1bGU6CiAgICAgICAgd3JhcHBlZF9tb2RlbCA9IFVuaXRZRmluZXR1bmVXcmFwcGVyKAogICAgICAgICAgICBtb2RlbD1tb2RlbCwgbW9kZT1zZWxmLnBhcmFtcy5maW5ldHVuZV9tb2RlLCBkZXZpY2U9c2VsZi5wYXJhbXMuZGV2aWNlCiAgICAgICAgKQogICAgICAgIGlmIG5vdCBkaXN0X3V0aWxzLmlzX2Rpc3RfaW5pdGlhbGl6ZWQoKToKICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRfbW9kZWwKICAgICAgICBmaW5kX3VudXNlZCA9IHNlbGYucGFyYW1zLmZpbmV0dW5lX21vZGUgPT0gRmluZXR1bmVNb2RlLlRFWFRfVE9fU1BFRUNICiAgICAgICAgcmV0dXJuIG5uLnBhcmFsbGVsLkRpc3RyaWJ1dGVkRGF0YVBhcmFsbGVsKAogICAgICAgICAgICB3cmFwcGVkX21vZGVsLAogICAgICAgICAgICBkZXZpY2VfaWRzPVtkaXN0X3V0aWxzLmdldF9sb2NhbF9yYW5rKCldLAogICAgICAgICAgICBmaW5kX3VudXNlZF9wYXJhbWV0ZXJzPWZpbmRfdW51c2VkLAogICAgICAgICkKICAgICAgICAKICAgIGRlZiBfZnJlZXplX21vZHVsZXMoc2VsZiwgZnJvemVuX21vZHVsZXM6IExpc3Rbc3RyXSA9IFtdKSAtPiBOb25lOgogICAgICAgIGZvciBpY2VjdWJlIGluIGZyb3plbl9tb2R1bGVzOgogICAgICAgICAgICBmb3IgKG5hbWUsIG1vZHVsZSkgaW4gc2VsZi5tb2RlbC5uYW1lZF9tb2R1bGVzKCk6CiAgICAgICAgICAgICAgICBpZiBuYW1lLnN0YXJ0c3dpdGgoaWNlY3ViZSk6CiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJGcmVlemluZyBNb2R1bGU6IHtuYW1lfSIpCiAgICAgICAgICAgICAgICAgICAgZm9yIHBhcmFtIGluIG1vZHVsZS5wYXJhbWV0ZXJzKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnJlcXVpcmVzX2dyYWQgPSBGYWxzZQoKICAgIGRlZiBfdXBkYXRlX2V2YWxfc3RhdHMoc2VsZiwgZXZhbF9sb3NzOiBmbG9hdCkgLT4gTm9uZToKICAgICAgICBzZWxmLmlzX2Jlc3Rfc3RhdGUgPSAoCiAgICAgICAgICAgIHNlbGYuYmVzdF9ldmFsX2xvc3MgaXMgTm9uZSBvciBldmFsX2xvc3MgPCBzZWxmLmJlc3RfZXZhbF9sb3NzCiAgICAgICAgKQogICAgICAgIHNlbGYuYmVzdF9ldmFsX2xvc3MgPSBldmFsX2xvc3MgaWYgc2VsZi5pc19iZXN0X3N0YXRlIGVsc2Ugc2VsZi5iZXN0X2V2YWxfbG9zcwogICAgICAgIHNlbGYucGF0aWVuY2VfbGVmdCA9ICgKICAgICAgICAgICAgc2VsZi5wYXJhbXMucGF0aWVuY2UgaWYgc2VsZi5pc19iZXN0X3N0YXRlIGVsc2Ugc2VsZi5wYXRpZW5jZV9sZWZ0IC0gMQogICAgICAgICkKICAgICAgICBsb2dnZXIuaW5mbygKICAgICAgICAgICAgZiJFdmFsIGFmdGVyIHtzZWxmLnVwZGF0ZV9pZHh9IHVwZGF0ZXM6ICIKICAgICAgICAgICAgZiJsb3NzPXtldmFsX2xvc3M6LjRmfSAiCiAgICAgICAgICAgIGYiYmVzdF9sb3NzPXtzZWxmLmJlc3RfZXZhbF9sb3NzOi40Zn0gIgogICAgICAgICAgICBmInBhdGllbmNlX3N0ZXBzX2xlZnQ9e3NlbGYucGF0aWVuY2VfbGVmdH0iCiAgICAgICAgKQoKICAgIEB0b3JjaC5ub19ncmFkKCkKICAgIGRlZiBfZXZhbF9tb2RlbChzZWxmLCBuX2JhdGNoZXM6IGludCkgLT4gTm9uZToKICAgICAgICAiIiJDYWxjIGF2ZyBsb3NzIG9uIGV2YWwgZGF0YXNldCBhbmQgdXBkYXRlIGV2YWx1YXRpb24gc3RhdHMiIiIKICAgICAgICBpZiBzZWxmLmV2YWxfZGF0YV9sb2FkZXIgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgbG9nZ2VyLmluZm8oZiJFdmFsdWF0aW9uIFN0ZXAge3NlbGYudXBkYXRlX2lkeCAvLyBzZWxmLnBhcmFtcy5ldmFsX3N0ZXBzfS4uLiIpCiAgICAgICAgbG9zc19oaXN0ID0gTG9zc0NvbGxlY3RvcihkZXZpY2U9c2VsZi5wYXJhbXMuZGV2aWNlKQogICAgICAgIHNlbGYubW9kZWwuZXZhbCgpCiAgICAgICAgZm9yIGJhdGNoIGluIHNlbGYuZXZhbF9kYXRhX2xvYWRlci5nZXRfZGF0YWxvYWRlcigpOgogICAgICAgICAgICBpZiBuX2JhdGNoZXMgPT0gMDoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGFzc2VydCBiYXRjaC5zcGVlY2hfdG9fdGV4dC5zcmNfdG9rZW5zIGlzIG5vdCBOb25lCiAgICAgICAgICAgIHdpdGggdG9yY2guYXV0b2Nhc3QoZGV2aWNlX3R5cGU9c2VsZi5wYXJhbXMuZGV2aWNlLnR5cGUsIGR0eXBlPXNlbGYucGFyYW1zLmZsb2F0X2R0eXBlKToKICAgICAgICAgICAgICAgIGxvc3MgPSBzZWxmLmNhbGNfbG9zcyhiYXRjaCwgKnNlbGYubW9kZWwoYmF0Y2gpKQogICAgICAgICAgICBpZiBsb3NzLmlzbmFuKCk6CiAgICAgICAgICAgICAgICBsb2dnZXIud2FybmluZygiRXZhbCBiYXRjaCBsb3NzIHZhbHVlIGlzIE5hTiwgc2tpcHBpbmciKQogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZGVsIGJhdGNoICAjIGZvcmNlIG1lbW9yeSByZWxlYXNlCiAgICAgICAgICAgIGxvc3NfaGlzdC51cGRhdGUoMSwgbG9zcy5pdGVtKCkpCiAgICAgICAgICAgIG5fYmF0Y2hlcyAtPSAxCiAgICAgICAgZXZhbF9sb3NzID0gbG9zc19oaXN0LnJlZHVjZSgpCiAgICAgICAgc2VsZi5fdXBkYXRlX2V2YWxfc3RhdHMoZXZhbF9sb3NzKQoKICAgIGRlZiBfdHJhaW5fc3RlcF9sb2coc2VsZikgLT4gTm9uZToKICAgICAgICAiIiJMb2cgdHJhaW4gc3RhdHMiIiIKICAgICAgICBpZiAoc2VsZi51cGRhdGVfaWR4ICsgMSkgJSBzZWxmLnBhcmFtcy5sb2dfc3RlcHMgPT0gMDoKICAgICAgICAgICAgYXZnX2xvc3MgPSBzZWxmLnRyYWluX2xvc3NfaGlzdC5yZWR1Y2UoKQogICAgICAgICAgICBzZWxmLnRyYWluX2xvc3NfaGlzdC5yZXNldCgpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKAogICAgICAgICAgICAgICAgZiJFcG9jaCB7c3RyKHNlbGYuZXBvY2hfaWR4ICsgMSkuemZpbGwoMyl9IC8gIgogICAgICAgICAgICAgICAgZiJ1cGRhdGUge3N0cihzZWxmLnVwZGF0ZV9pZHggKyAxKS56ZmlsbCg1KX06ICIKICAgICAgICAgICAgICAgIGYidHJhaW4gbG9zcz17YXZnX2xvc3M6LjRmfSAiCiAgICAgICAgICAgICAgICBmImxhc3QgbHI9e3NlbGYubHJfc2NoZWR1bGVyLmdldF9sYXN0X2xyKClbMF06LjJFfSIKICAgICAgICAgICAgKQoKICAgIGRlZiBfdHJhaW5fc3RlcChzZWxmLCBiYXRjaDogTGlzdFtkYXRhbG9hZGVyLk11bHRpbW9kYWxTZXFzQmF0Y2hdKSAtPiBOb25lOgogICAgICAgICIiIlJ1biBvbmUgdHJhaW4gc3RlcCIiIgogICAgICAgIHNlbGYubW9kZWwudHJhaW4oKQogICAgICAgIHNlbGYub3B0aW1pemVyLnplcm9fZ3JhZCgpCiAgICAgICAgd2l0aCB0b3JjaC5hdXRvY2FzdChkZXZpY2VfdHlwZT1zZWxmLnBhcmFtcy5kZXZpY2UudHlwZSwgZHR5cGU9c2VsZi5wYXJhbXMuZmxvYXRfZHR5cGUpOgogICAgICAgICAgICB0b2tlbnMsIHVuaXRzID0gc2VsZi5tb2RlbChiYXRjaCkKICAgICAgICAKICAgICAgICBsb3NzID0gc2VsZi5jYWxjX2xvc3MoYmF0Y2gsIHRva2VucywgdW5pdHMpCiAgICAgICAgaWYgbG9zcy5pc25hbigpLmFueSgpLml0ZW0oKToKICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGJhdGNoLnNwZWVjaF90b190ZXh0KQogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIlRyYWluIGxvc3MgaXMgTmFOISBTb21ldGhpbmcgaXMgd3JvbmcgaW4gdGhlIG1vZGVsISIpCiAgICAgICAgCiAgICAgICAgc2VsZi5ncmFkX3NjYWxlci5zY2FsZShsb3NzKS5iYWNrd2FyZCgpCiAgICAgICAgc2VsZi5ncmFkX3NjYWxlci5zdGVwKHNlbGYub3B0aW1pemVyKQogICAgICAgIHNlbGYuZ3JhZF9zY2FsZXIudXBkYXRlKCkKICAgICAgICBzZWxmLmxyX3NjaGVkdWxlci5zdGVwKCkKICAgICAgICAKICAgICAgICBhc3NlcnQgYmF0Y2guc3BlZWNoX3RvX3RleHQuc3JjX3Rva2VucyBpcyBub3QgTm9uZQogICAgICAgIHNlbGYudHJhaW5fbG9zc19oaXN0LnVwZGF0ZSgxLCBsb3NzLml0ZW0oKSkKICAgICAgICBzZWxmLl90cmFpbl9zdGVwX2xvZygpCiAgICAgICAgc2VsZi51cGRhdGVfaWR4ICs9IDEKCiAgICBkZWYgX3NhdmVfbW9kZWwoc2VsZikgLT4gTm9uZToKICAgICAgICBsb2dnZXIuaW5mbygiU2F2aW5nIG1vZGVsIikKICAgICAgICBpZiBkaXN0X3V0aWxzLmlzX21haW5fcHJvY2VzcygpOgogICAgICAgICAgICB0b3JjaC5zYXZlKHsKICAgICAgICAgICAgICAgICJtb2RlbF9uYW1lIjogc2VsZi5wYXJhbXMubW9kZWxfbmFtZSwKICAgICAgICAgICAgICAgICJtb2RlbCI6IHsKICAgICAgICAgICAgICAgICAgICBrZXkucmVwbGFjZSgibW9kdWxlLm1vZGVsLm1vZGVsLiIsICIiKTogdmFsdWUKICAgICAgICAgICAgICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBzZWxmLm1vZGVsLnN0YXRlX2RpY3QoKS5pdGVtcygpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHNlbGYucGFyYW1zLnNhdmVfbW9kZWxfcGF0aCkKICAgICAgICBpZiBkaXN0X3V0aWxzLmlzX2Rpc3RfaW5pdGlhbGl6ZWQoKToKICAgICAgICAgICAgZGlzdC5iYXJyaWVyKCkKCiAgICBkZWYgcnVuKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgbG9nZ2VyLmluZm8oIlN0YXJ0IEZpbmV0dW5pbmciKQogICAgICAgIHNlbGYuX3Jlc2V0X3N0YXRzKCkKICAgICAgICBzZWxmLl9ldmFsX21vZGVsKG5fYmF0Y2hlcz0xMDApCiAgICAgICAgCiAgICAgICAgdHJhaW5fZGF0YWxvYWRlciA9IHNlbGYudHJhaW5fZGF0YV9sb2FkZXIuZ2V0X2RhdGFsb2FkZXIoKQogICAgICAgIAogICAgICAgIHdoaWxlIHNlbGYuZXBvY2hfaWR4IDwgc2VsZi5wYXJhbXMubWF4X2Vwb2NocyBhbmQgc2VsZi5wYXRpZW5jZV9sZWZ0OgogICAgICAgICAgICBmb3IgdHJhaW5fYmF0Y2ggaW4gdHFkbSh0cmFpbl9kYXRhbG9hZGVyLCBkZXNjPSJUcmFpbmluZyBTdGVwcyIpOgogICAgICAgICAgICAgICAgIyBSdW4gYmF0Y2ggdGhyb3VnaCB0cmFpbiBzdGVwCiAgICAgICAgICAgICAgICBzZWxmLl90cmFpbl9zdGVwKHRyYWluX2JhdGNoKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjIFBlcmZvcm0gZXZhbCBpZiBpdHMgdGltZSB0byBldmFsCiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi51cGRhdGVfaWR4IG9yIHNlbGYudXBkYXRlX2lkeCAlIHNlbGYucGFyYW1zLmV2YWxfc3RlcHMgIT0gMDoKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjIENsZWFyIEdQVSBtZW1vcnkgZm9yIGV2YWwKICAgICAgICAgICAgICAgIHRvcmNoLmN1ZGEuZW1wdHlfY2FjaGUoKQogICAgICAgICAgICAgICAgc2VsZi5fZXZhbF9tb2RlbChuX2JhdGNoZXM9MTAwKQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIyBTYXZlIHRoZSBjdXJyZW50IG1vZGVsIGlmIGl0cyB0aGUgYmVzdCB3ZSd2ZSBldmVyIGhhZAogICAgICAgICAgICAgICAgaWYgc2VsZi5pc19iZXN0X3N0YXRlOgogICAgICAgICAgICAgICAgICAgIHNlbGYuX3NhdmVfbW9kZWwoKQogICAgICAgICAgICAgICAgZWxpZiBub3Qgc2VsZi5wYXRpZW5jZV9sZWZ0OgogICAgICAgICAgICAgICAgICAgIG5vX2ltcHJvdmVfc3RlcHMgPSBzZWxmLnBhcmFtcy5ldmFsX3N0ZXBzICogc2VsZi5wYXJhbXMucGF0aWVuY2UKICAgICAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygKICAgICAgICAgICAgICAgICAgICAgICAgIkVhcmx5IHRlcm1pbmF0aW9uLCBhcyBldmFsIGxvc3MgZGlkIG5vdCBpbXByb3ZlICIKICAgICAgICAgICAgICAgICAgICAgICAgZiJvdmVyIGxhc3Qge25vX2ltcHJvdmVfc3RlcHN9IHVwZGF0ZXMiCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgc2VsZi5lcG9jaF9pZHggKz0gMQ=='),
    ('seamless/build/lib/seamless_communication/cli/m4t/predict/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLm00dC5wcmVkaWN0LnByZWRpY3QgaW1wb3J0ICgKICAgIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzIGFzIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkubTR0LnByZWRpY3QucHJlZGljdCBpbXBvcnQgKAogICAgc2V0X2dlbmVyYXRpb25fb3B0cyBhcyBzZXRfZ2VuZXJhdGlvbl9vcHRzLAopCg=='),
    ('seamless/build/lib/seamless_communication/cli/m4t/predict/predict.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojCiMgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKaW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBsb2dnaW5nCmZyb20gYXJncGFyc2UgaW1wb3J0IE5hbWVzcGFjZQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IFR1cGxlCgppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoYXVkaW8KZnJvbSBmYWlyc2VxMi5nZW5lcmF0aW9uIGltcG9ydCBOR3JhbVJlcGVhdEJsb2NrUHJvY2Vzc29yCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uaW5mZXJlbmNlIGltcG9ydCBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMsIFRyYW5zbGF0b3IKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKZGVmIGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzKHBhcnNlcjogYXJncGFyc2UuQXJndW1lbnRQYXJzZXIpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS10YXNrIiwgCiAgICAgICAgdHlwZT1zdHIsIAogICAgICAgIGNob2ljZXM9WyJBU1IiLCAiUzJTVCIsICJTMlRUIl0sCiAgICAgICAgaGVscD0oCiAgICAgICAgICAgICIqIGBBU1JgIC0tIGF1dG9tYXRpYyBzcGVlY2ggcmVjb2duaXRpb24gKHRyYW5zY3JpcHRpb24pOyIKICAgICAgICAgICAgIiogYFMyU1RgIC0tIHNwZWVjaCB0byBzcGVlY2ggdHJhbnNsYXRpb247IgogICAgICAgICAgICAiKiBgUzJUVGAgLS0gc3BlZWNoIHRvIHRleHQgdHJhbnNsYXRpb247IgogICAgICAgICkKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGd0X2xhbmciLCB0eXBlPXN0ciwgaGVscD0iVGFyZ2V0IGxhbmd1YWdlIHRvIHRyYW5zbGF0ZS90cmFuc2NyaWJlIGludG8uIgogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1zcmNfbGFuZyIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgaGVscD0iU291cmNlIGxhbmd1YWdlLCBvbmx5IHJlcXVpcmVkIGlmIGlucHV0IGlzIHRleHQuIiwKICAgICAgICBkZWZhdWx0PU5vbmUsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW91dHB1dF9wYXRoIiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgaGVscD0iUGF0aCB0byBzYXZlIHRoZSBnZW5lcmF0ZWQgYXVkaW8uIiwKICAgICAgICBkZWZhdWx0PU5vbmUsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW1vZGVsX25hbWUiLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiQmFzZSBtb2RlbCBuYW1lIChgc2VhbWxlc3NNNFRfbWVkaXVtYCwgIgogICAgICAgICAgICAiYHNlYW1sZXNzTTRUX2xhcmdlYCwgYHNlYW1sZXNzTTRUX3YyX2xhcmdlYCkiCiAgICAgICAgKSwKICAgICAgICBkZWZhdWx0PSJzZWFtbGVzc000VF92Ml9sYXJnZSIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXZvY29kZXJfbmFtZSIsCiAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgaGVscD0iVm9jb2RlciBtb2RlbCBuYW1lIiwKICAgICAgICBkZWZhdWx0PSJ2b2NvZGVyX3YyIiwKICAgICkKICAgICMgVGV4dCBnZW5lcmF0aW9uIGFyZ3MuCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXRleHRfZ2VuZXJhdGlvbl9iZWFtX3NpemUiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGhlbHA9IkJlYW0gc2l6ZSBmb3IgaW5jcmVtZW50YWwgdGV4dCBkZWNvZGluZy4iLAogICAgICAgIGRlZmF1bHQ9NSwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGV4dF9nZW5lcmF0aW9uX21heF9sZW5fYSIsCiAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgaGVscD0iYGFgIGluIGBheCArIGJgIGZvciBpbmNyZW1lbnRhbCB0ZXh0IGRlY29kaW5nLiIsCiAgICAgICAgZGVmYXVsdD0xLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS10ZXh0X2dlbmVyYXRpb25fbWF4X2xlbl9iIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSJgYmAgaW4gYGF4ICsgYmAgZm9yIGluY3JlbWVudGFsIHRleHQgZGVjb2RpbmcuIiwKICAgICAgICBkZWZhdWx0PTIwMCwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGV4dF9nZW5lcmF0aW9uX25ncmFtX2Jsb2NraW5nIiwKICAgICAgICB0eXBlPWJvb2wsCiAgICAgICAgaGVscD0oCiAgICAgICAgICAgICJFbmFibGUgbmdyYW1fcmVwZWF0X2Jsb2NrIGZvciBpbmNyZW1lbnRhbCB0ZXh0IGRlY29kaW5nLiIKICAgICAgICAgICAgIlRoaXMgYmxvY2tzIGh5cG90aGVzZXMgd2l0aCByZXBlYXRpbmcgbmdyYW0gdG9rZW5zLiIKICAgICAgICApLAogICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW5vX3JlcGVhdF9uZ3JhbV9zaXplIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSJTaXplIG9mIG5ncmFtIHJlcGVhdCBibG9jayBmb3IgYm90aCB0ZXh0ICYgdW5pdCBkZWNvZGluZy4iLAogICAgICAgIGRlZmF1bHQ9NCwKICAgICkKICAgICMgVW5pdCBnZW5lcmF0aW9uIGFyZ3MuCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXVuaXRfZ2VuZXJhdGlvbl9iZWFtX3NpemUiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiQmVhbSBzaXplIGZvciBpbmNyZW1lbnRhbCB1bml0IGRlY29kaW5nIgogICAgICAgICAgICAibm90IGFwcGxpY2FibGUgZm9yIHRoZSBOQVIgVDJVIGRlY29kZXIuIgogICAgICAgICksCiAgICAgICAgZGVmYXVsdD01LAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS11bml0X2dlbmVyYXRpb25fbWF4X2xlbl9hIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBoZWxwPSgKICAgICAgICAgICAgImBhYCBpbiBgYXggKyBiYCBmb3IgaW5jcmVtZW50YWwgdW5pdCBkZWNvZGluZyIKICAgICAgICAgICAgIm5vdCBhcHBsaWNhYmxlIGZvciB0aGUgTkFSIFQyVSBkZWNvZGVyLiIKICAgICAgICApLAogICAgICAgIGRlZmF1bHQ9MjUsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXVuaXRfZ2VuZXJhdGlvbl9tYXhfbGVuX2IiLAogICAgICAgIHR5cGU9aW50LAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiYGJgIGluIGBheCArIGJgIGZvciBpbmNyZW1lbnRhbCB1bml0IGRlY29kaW5nIgogICAgICAgICAgICAibm90IGFwcGxpY2FibGUgZm9yIHRoZSBOQVIgVDJVIGRlY29kZXIuIgogICAgICAgICksCiAgICAgICAgZGVmYXVsdD01MCwKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdW5pdF9nZW5lcmF0aW9uX25ncmFtX2Jsb2NraW5nIiwKICAgICAgICB0eXBlPWJvb2wsCiAgICAgICAgaGVscD0oCiAgICAgICAgICAgICJFbmFibGUgbmdyYW1fcmVwZWF0X2Jsb2NrIGZvciBpbmNyZW1lbnRhbCB1bml0IGRlY29kaW5nLiIKICAgICAgICAgICAgIlRoaXMgYmxvY2tzIGh5cG90aGVzZXMgd2l0aCByZXBlYXRpbmcgbmdyYW0gdG9rZW5zLiIKICAgICAgICApLAogICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmciLAogICAgICAgIHR5cGU9Ym9vbCwKICAgICAgICBoZWxwPSgKICAgICAgICAgICAgIklmIFRydWUsIHJlbW92ZXMgY29uc2VjdXRpdmUgcmVwZWF0ZWQgbmdyYW1zIgogICAgICAgICAgICAiZnJvbSB0aGUgZGVjb2RlZCB1bml0IG91dHB1dC4iCiAgICAgICAgKSwKICAgICAgICBkZWZhdWx0PUZhbHNlLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS10ZXh0X3Vua19ibG9ja2luZyIsCiAgICAgICAgdHlwZT1ib29sLAogICAgICAgIGhlbHA9KAogICAgICAgICAgICAiSWYgVHJ1ZSwgc2V0IHBlbmFsdHkgb2YgVU5LIHRvIGluZiBpbiB0ZXh0IGdlbmVyYXRvciAiCiAgICAgICAgICAgICJ0byBibG9jayB1bmsgb3V0cHV0LiIKICAgICAgICApLAogICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICApCiAgICByZXR1cm4gcGFyc2VyCgoKZGVmIHNldF9nZW5lcmF0aW9uX29wdHMoCiAgICBhcmdzOiBOYW1lc3BhY2UsCikgLT4gVHVwbGVbU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zLCBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdOgogICAgIyBTZXQgdGV4dCwgdW5pdCBnZW5lcmF0aW9uIG9wdHMuCiAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cyA9IFNlcXVlbmNlR2VuZXJhdG9yT3B0aW9ucygKICAgICAgICBiZWFtX3NpemU9YXJncy50ZXh0X2dlbmVyYXRpb25fYmVhbV9zaXplLAogICAgICAgIHNvZnRfbWF4X3NlcV9sZW49KAogICAgICAgICAgICBhcmdzLnRleHRfZ2VuZXJhdGlvbl9tYXhfbGVuX2EsCiAgICAgICAgICAgIGFyZ3MudGV4dF9nZW5lcmF0aW9uX21heF9sZW5fYiwKICAgICAgICApLAogICAgKQogICAgaWYgYXJncy50ZXh0X3Vua19ibG9ja2luZzoKICAgICAgICB0ZXh0X2dlbmVyYXRpb25fb3B0cy51bmtfcGVuYWx0eSA9IHRvcmNoLmluZgogICAgaWYgYXJncy50ZXh0X2dlbmVyYXRpb25fbmdyYW1fYmxvY2tpbmc6CiAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHMuc3RlcF9wcm9jZXNzb3IgPSBOR3JhbVJlcGVhdEJsb2NrUHJvY2Vzc29yKAogICAgICAgICAgICBuZ3JhbV9zaXplPWFyZ3Mubm9fcmVwZWF0X25ncmFtX3NpemUKICAgICAgICApCgogICAgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICAgICAgYmVhbV9zaXplPWFyZ3MudW5pdF9nZW5lcmF0aW9uX2JlYW1fc2l6ZSwKICAgICAgICBzb2Z0X21heF9zZXFfbGVuPSgKICAgICAgICAgICAgYXJncy51bml0X2dlbmVyYXRpb25fbWF4X2xlbl9hLAogICAgICAgICAgICBhcmdzLnVuaXRfZ2VuZXJhdGlvbl9tYXhfbGVuX2IsCiAgICAgICAgKSwKICAgICkKICAgIGlmIGFyZ3MudW5pdF9nZW5lcmF0aW9uX25ncmFtX2Jsb2NraW5nOgogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzLnN0ZXBfcHJvY2Vzc29yID0gTkdyYW1SZXBlYXRCbG9ja1Byb2Nlc3NvcigKICAgICAgICAgICAgbmdyYW1fc2l6ZT1hcmdzLm5vX3JlcGVhdF9uZ3JhbV9zaXplCiAgICAgICAgKQogICAgcmV0dXJuIHRleHRfZ2VuZXJhdGlvbl9vcHRzLCB1bml0X2dlbmVyYXRpb25fb3B0cwoKCmRlZiBtYWluKCkgLT4gTm9uZToKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgICAgIGRlc2NyaXB0aW9uPSJNNFQgaW5mZXJlbmNlIG9uIHN1cHBvcnRlZCB0YXNrcyB1c2luZyBUcmFuc2xhdG9yLiIKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoImlucHV0IiwgdHlwZT1zdHIsIGhlbHA9IkF1ZGlvIFdBViBmaWxlIHBhdGggb3IgdGV4dCBpbnB1dC4iKQoKICAgIHBhcnNlciA9IGFkZF9pbmZlcmVuY2VfYXJndW1lbnRzKHBhcnNlcikKICAgIGFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncygpCiAgICBpZiBub3QgYXJncy50YXNrIG9yIG5vdCBhcmdzLnRndF9sYW5nOgogICAgICAgIHJhaXNlIEV4Y2VwdGlvbigKICAgICAgICAgICAgIlBsZWFzZSBwcm92aWRlIHJlcXVpcmVkIGFyZ3VtZW50cyBmb3IgZXZhbHVhdGlvbiAtICB0YXNrLCB0Z3RfbGFuZyIKICAgICAgICApCgogICAgaWYgYXJncy50YXNrLnVwcGVyKCkgaW4geyJTMlNUIiwgIlQyU1QifSBhbmQgYXJncy5vdXRwdXRfcGF0aCBpcyBOb25lOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIm91dHB1dF9wYXRoIG11c3QgYmUgcHJvdmlkZWQgdG8gc2F2ZSB0aGUgZ2VuZXJhdGVkIGF1ZGlvIikKCiAgICBpZiB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpOgogICAgICAgIGRldmljZSA9IHRvcmNoLmRldmljZSgiY3VkYTowIikKICAgICAgICBkdHlwZSA9IHRvcmNoLmZsb2F0MTYKICAgIGVsc2U6CiAgICAgICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjcHUiKQogICAgICAgIGR0eXBlID0gdG9yY2guZmxvYXQzMgoKICAgIGxvZ2dlci5pbmZvKGYiUnVubmluZyBpbmZlcmVuY2Ugb24ge2RldmljZT19IHdpdGgge2R0eXBlPX0uIikKCiAgICB0cmFuc2xhdG9yID0gVHJhbnNsYXRvcihhcmdzLm1vZGVsX25hbWUsIGFyZ3Mudm9jb2Rlcl9uYW1lLCBkZXZpY2UsIGR0eXBlPWR0eXBlKQoKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLCB1bml0X2dlbmVyYXRpb25fb3B0cyA9IHNldF9nZW5lcmF0aW9uX29wdHMoYXJncykKCiAgICBsb2dnZXIuaW5mbyhmInt0ZXh0X2dlbmVyYXRpb25fb3B0cz19IikKICAgIGxvZ2dlci5pbmZvKGYie3VuaXRfZ2VuZXJhdGlvbl9vcHRzPX0iKQogICAgbG9nZ2VyLmluZm8oCiAgICAgICAgZiJ1bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nPXthcmdzLnVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmd9IgogICAgKQoKICAgICMgSWYgdGhlIGlucHV0IGlzIGF1ZGlvLCByZXNhbXBsZSB0byAxNmtIegogICAgaWYgYXJncy50YXNrLnVwcGVyKCkgaW4geyJTMlNUIiwgIkFTUiIsICJTMlRUIn06CiAgICAgICAgd2F2LCBzYW1wbGVfcmF0ZSA9IHRvcmNoYXVkaW8ubG9hZChhcmdzLmlucHV0KQogICAgICAgIHRyYW5zbGF0b3JfaW5wdXQgPSB0b3JjaGF1ZGlvLmZ1bmN0aW9uYWwucmVzYW1wbGUoCiAgICAgICAgICAgIHdhdiwgb3JpZ19mcmVxPXNhbXBsZV9yYXRlLCBuZXdfZnJlcT0xNl8wMDAKICAgICAgICApCiAgICBlbHNlOgogICAgICAgIHRyYW5zbGF0b3JfaW5wdXQgPSBhcmdzLmlucHV0CgogICAgdGV4dF9vdXRwdXQsIHNwZWVjaF9vdXRwdXQgPSB0cmFuc2xhdG9yLnByZWRpY3QoCiAgICAgICAgdHJhbnNsYXRvcl9pbnB1dCwKICAgICAgICBhcmdzLnRhc2ssCiAgICAgICAgYXJncy50Z3RfbGFuZywKICAgICAgICBzcmNfbGFuZz1hcmdzLnNyY19sYW5nLAogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzPXRleHRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc9YXJncy51bml0X2dlbmVyYXRpb25fbmdyYW1fZmlsdGVyaW5nLAogICAgKQoKICAgIGlmIHNwZWVjaF9vdXRwdXQgaXMgbm90IE5vbmU6CiAgICAgICAgbG9nZ2VyLmluZm8oZiJTYXZpbmcgdHJhbnNsYXRlZCBhdWRpbyBpbiB7YXJncy50Z3RfbGFuZ30iKQogICAgICAgIHRvcmNoYXVkaW8uc2F2ZSgKICAgICAgICAgICAgYXJncy5vdXRwdXRfcGF0aCwKICAgICAgICAgICAgc3BlZWNoX291dHB1dC5hdWRpb193YXZzWzBdWzBdLnRvKHRvcmNoLmZsb2F0MzIpLmNwdSgpLAogICAgICAgICAgICBzYW1wbGVfcmF0ZT1zcGVlY2hfb3V0cHV0LnNhbXBsZV9yYXRlLAogICAgICAgICkKICAgIGxvZ2dlci5pbmZvKGYiVHJhbnNsYXRlZCB0ZXh0IGluIHthcmdzLnRndF9sYW5nfToge3RleHRfb3V0cHV0WzBdfSIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo='),
    ('seamless/build/lib/seamless_communication/cli/streaming/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/build/lib/seamless_communication/cli/streaming/evaluate.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwoKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uY2xpLnN0cmVhbWluZy5zY29yZXJzLnNlYW1sZXNzX3F1YWxpdHlfc2NvcmVyIGltcG9ydCAoCiAgICBTZWFtbGVzc1F1YWxpdHlTY29yZXIgYXMgU2VhbWxlc3NRdWFsaXR5U2NvcmVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnNlYW1sZXNzX3Myc3QgaW1wb3J0IFNlYW1sZXNzUzJTVEFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnNlYW1sZXNzX3N0cmVhbWluZ19zMnN0IGltcG9ydCAoCiAgICBTZWFtbGVzc1N0cmVhbWluZ1MyU1RBZ2VudCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5zZWFtbGVzc19zdHJlYW1pbmdfczJ0IGltcG9ydCAoCiAgICBTZWFtbGVzc1N0cmVhbWluZ1MyVEFnZW50LAopCgpmcm9tIHNpbXVsZXZhbC5jbGkgaW1wb3J0IGV2YWx1YXRlCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmRlZiBtYWluKCkgLT4gTm9uZToKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgICAgIGFkZF9oZWxwPUZhbHNlLAogICAgICAgIGRlc2NyaXB0aW9uPSJTdHJlYW1pbmcgZXZhbHVhdGlvbiBvZiBTZWFtbGVzcyBVbml0WSBtb2RlbHMiLAogICAgICAgIGNvbmZsaWN0X2hhbmRsZXI9InJlc29sdmUiLAogICAgKQoKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tdGFzayIsCiAgICAgICAgY2hvaWNlcz1bInMyc3QiLCAiczJ0dCIsICJhc3IiXSwKICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgIHR5cGU9c3RyLAogICAgICAgIGhlbHA9IlRhcmdldCBsYW5ndWFnZSB0byB0cmFuc2xhdGUvdHJhbnNjcmliZSBpbnRvLiIsCiAgICApCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICItLWV4cHJlc3NpdmUiLAogICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgZGVmYXVsdD1GYWxzZSwKICAgICAgICBoZWxwPSJFeHByZXNzaXZlIHN0cmVhbWluZyBTMlNUIGluZmVyZW5jZSIsCiAgICApCgogICAgYXJncywgXyA9IHBhcnNlci5wYXJzZV9rbm93bl9hcmdzKCkKCiAgICBtb2RlbF9jb25maWdzID0gZGljdCgKICAgICAgICBzb3VyY2Vfc2VnbWVudF9zaXplPTMyMCwKICAgICAgICBkZXZpY2U9ImN1ZGE6MCIsCiAgICAgICAgZHR5cGU9ImZwMTYiLAogICAgICAgIG1pbl9zdGFydGluZ193YWl0X3cydmJlcnQ9MTkyLAogICAgICAgIGRlY2lzaW9uX3RocmVzaG9sZD0wLjUsCiAgICAgICAgbm9fZWFybHlfc3RvcD1UcnVlLAogICAgICAgIG1heF9sZW5fYT0wLAogICAgICAgIG1heF9sZW5fYj0xMDAsCiAgICApCgogICAgZXZhbF9jb25maWdzID0gZGljdChxdWFsaXR5X21ldHJpY3M9IlNFQU1MRVNTX1FVQUxJVFlfU0NPUkVSIikKICAgIGlmIGFyZ3MudGFzayA9PSAiczJzdCI6CiAgICAgICAgbW9kZWxfY29uZmlnc1sibWluX3VuaXRfY2h1bmtfc2l6ZSJdID0gNTAKICAgICAgICBldmFsX2NvbmZpZ3NbImxhdGVuY3lfbWV0cmljcyJdID0gIlN0YXJ0T2Zmc2V0IEVuZE9mZnNldCIKCiAgICAgICAgaWYgYXJncy5leHByZXNzaXZlOgogICAgICAgICAgICBhZ2VudF9jbGFzcyA9IFNlYW1sZXNzUzJTVEFnZW50CiAgICAgICAgZWxzZToKICAgICAgICAgICAgYWdlbnRfY2xhc3MgPSBTZWFtbGVzc1N0cmVhbWluZ1MyU1RBZ2VudAogICAgZWxpZiBhcmdzLnRhc2sgaW4gWyJzMnR0IiwgImFzciJdOgogICAgICAgIGFzc2VydCBhcmdzLmV4cHJlc3NpdmUgaXMgRmFsc2UsICJTMlRUIGluZmVyZW5jZSBjYW5ub3QgYmUgZXhwcmVzc2l2ZS4iCiAgICAgICAgYWdlbnRfY2xhc3MgPSBTZWFtbGVzc1N0cmVhbWluZ1MyVEFnZW50CiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdW5pdHktbW9kZWwtbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSJVbml0eSBtb2RlbCBuYW1lLiIsCiAgICAgICAgICAgIGRlZmF1bHQ9InNlYW1sZXNzX3N0cmVhbWluZ191bml0eSIsCiAgICAgICAgKQogICAgICAgIGFyZ3MsIF8gPSBwYXJzZXIucGFyc2Vfa25vd25fYXJncygpCiAgICAgICAgYXNzZXRfY2FyZCA9IGFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQobmFtZT1hcmdzLnVuaXR5X21vZGVsX25hbWUpCiAgICAgICAgdG9rZW5pemVyX3VyaSA9IGFzc2V0X2NhcmQuZmllbGQoInRva2VuaXplciIpLmFzX3VyaSgpCiAgICAgICAgdG9rZW5pemVyX3BhdGggPSBkb3dubG9hZF9tYW5hZ2VyLmRvd25sb2FkX3Rva2VuaXplcigKICAgICAgICAgICAgdG9rZW5pemVyX3VyaSwgYXNzZXRfY2FyZC5uYW1lLCBmb3JjZT1GYWxzZSwgcHJvZ3Jlc3M9VHJ1ZQogICAgICAgICkKICAgICAgICBldmFsX2NvbmZpZ3NbImxhdGVuY3lfbWV0cmljcyJdID0gIkFMIExBQUwiCiAgICAgICAgZXZhbF9jb25maWdzWyJldmFsX2xhdGVuY3lfdW5pdCJdID0gInNwbSIKICAgICAgICBldmFsX2NvbmZpZ3NbImV2YWxfbGF0ZW5jeV9zcG1fbW9kZWwiXSA9IHRva2VuaXplcl9wYXRoCgogICAgYmFzZV9jb25maWcgPSBkaWN0KAogICAgICAgIGRhdGFsb2FkZXI9ImZhaXJzZXEyX3MydHQiLAogICAgICAgIGRhdGFsb2FkZXJfY2xhc3M9InNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmRhdGFsb2FkZXJzLnMydHQuU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlciIsCiAgICApCgogICAgZXZhbHVhdGUoYWdlbnRfY2xhc3MsIHsqKmJhc2VfY29uZmlnLCAqKm1vZGVsX2NvbmZpZ3MsICoqZXZhbF9jb25maWdzfSwgcGFyc2VyKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCkK'),
    ('seamless/build/lib/seamless_communication/cli/streaming/scorers/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/build/lib/seamless_communication/cli/streaming/scorers/seamless_quality_scorer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBqc29uCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBPcHRpb25hbAoKaW1wb3J0IHBhbmRhcwpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5jbGkuZXZhbF91dGlscyBpbXBvcnQgY29tcHV0ZV9xdWFsaXR5X21ldHJpY3MKZnJvbSBzaW11bGV2YWwuZXZhbHVhdG9yLmluc3RhbmNlIGltcG9ydCBMb2dJbnN0YW5jZQpmcm9tIHNpbXVsZXZhbC5ldmFsdWF0b3Iuc2NvcmVycy5xdWFsaXR5X3Njb3JlciBpbXBvcnQgKAogICAgUXVhbGl0eVNjb3JlciwKICAgIHJlZ2lzdGVyX3F1YWxpdHlfc2NvcmVyLAopCgoKQHJlZ2lzdGVyX3F1YWxpdHlfc2NvcmVyKCJTRUFNTEVTU19RVUFMSVRZX1NDT1JFUiIpCmNsYXNzIFNlYW1sZXNzUXVhbGl0eVNjb3JlcihRdWFsaXR5U2NvcmVyKTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICB0Z3RfbGFuZzogc3RyLAogICAgICAgIHRhc2s6IHN0ciwKICAgICAgICBvdXRwdXRfZGlyOiBzdHIsCiAgICAgICAgZGV2aWNlOiBEZXZpY2UgPSAiY3VkYTowIiwKICAgICAgICB3aGlzcGVyX21vZGVsX25hbWU6IHN0ciA9ICJsYXJnZSIsCiAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQ6IE9wdGlvbmFsW2Jvb2xdID0gTm9uZSwKICAgICAgICByZWZfdGV4dF9jb2xfbmFtZTogc3RyID0gInJlZl90Z3RfdGV4dCIsCiAgICAgICAgcHJlZF90ZXh0X2NvbF9uYW1lOiBzdHIgPSAicHJlZF90Z3RfdGV4dCIsCiAgICAgICAgcHJlZF9hdWRpb19jb2xfbmFtZTogc3RyID0gInByZWRfdGd0X2F1ZGlvIiwKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLnRndF9sYW5nID0gdGd0X2xhbmcKICAgICAgICBzZWxmLnRhc2sgPSB0YXNrLnVwcGVyKCkKICAgICAgICBzZWxmLmRldmljZSA9IGRldmljZQogICAgICAgIHNlbGYub3V0cHV0X2RpciA9IFBhdGgob3V0cHV0X2RpcikKICAgICAgICBzZWxmLndoaXNwZXJfbW9kZWxfbmFtZSA9IHdoaXNwZXJfbW9kZWxfbmFtZQogICAgICAgIHNlbGYud2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQgPSB3aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dAogICAgICAgIGlmIHNlbGYud2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi53aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dCA9ICgKICAgICAgICAgICAgICAgIEZhbHNlIGlmIHNlbGYudGFzayBpbiBbIlMyVFQiLCAiUzJTVCIsICJUMlRUIl0gZWxzZSBUcnVlCiAgICAgICAgICAgICkKICAgICAgICBzZWxmLnJlZl90ZXh0X2NvbF9uYW1lID0gcmVmX3RleHRfY29sX25hbWUKICAgICAgICBzZWxmLnByZWRfdGV4dF9jb2xfbmFtZSA9IHByZWRfdGV4dF9jb2xfbmFtZQogICAgICAgIHNlbGYucHJlZF9hdWRpb19jb2xfbmFtZSA9IHByZWRfYXVkaW9fY29sX25hbWUKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgaW5zdGFuY2VzOiBEaWN0W2ludCwgTG9nSW5zdGFuY2VdKSAtPiBmbG9hdDoKICAgICAgICByZWZlcmVuY2VzID0gW2lucy5yZWZlcmVuY2UgZm9yIGlucyBpbiBpbnN0YW5jZXMudmFsdWVzKCldCiAgICAgICAgZGYgPSBwYW5kYXMuRGF0YUZyYW1lKHtzZWxmLnJlZl90ZXh0X2NvbF9uYW1lOiByZWZlcmVuY2VzfSkKICAgICAgICBpZiBzZWxmLnRhc2sgaW4gWyJBU1IiLCAiUzJUVCIsICJUMlRUIl06CiAgICAgICAgICAgIHByZWRpY3Rpb25zID0gW2lucy5wcmVkaWN0aW9uIGZvciBpbnMgaW4gaW5zdGFuY2VzLnZhbHVlcygpXQogICAgICAgICAgICBkZltzZWxmLnByZWRfdGV4dF9jb2xfbmFtZV0gPSBwcmVkaWN0aW9ucwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByZWRpY3Rpb25zID0gW2lucy5wcmVkaWN0aW9uIGZvciBpbnMgaW4gaW5zdGFuY2VzLnZhbHVlcygpXQogICAgICAgICAgICBkZltzZWxmLnByZWRfYXVkaW9fY29sX25hbWVdID0gcHJlZGljdGlvbnMKCiAgICAgICAgZGYudG9fY3N2KAogICAgICAgICAgICBzZWxmLm91dHB1dF9kaXIgLyAicmVzdWx0cy50c3YiLAogICAgICAgICAgICBzZXA9Ilx0IiwKICAgICAgICAgICAgcXVvdGluZz0zLAogICAgICAgICAgICBlbmNvZGluZz0idXRmLTgiLAogICAgICAgICkKICAgICAgICBmaWxlbmFtZSA9IGNvbXB1dGVfcXVhbGl0eV9tZXRyaWNzKAogICAgICAgICAgICBzZWxmLm91dHB1dF9kaXIgLyAicmVzdWx0cy50c3YiLAogICAgICAgICAgICBzZWxmLm91dHB1dF9kaXIsCiAgICAgICAgICAgIHNlbGYudGd0X2xhbmcsCiAgICAgICAgICAgIHNlbGYudGFzaywKICAgICAgICAgICAgc2VsZi5kZXZpY2UsCiAgICAgICAgICAgIHNlbGYud2hpc3Blcl9tb2RlbF9uYW1lLAogICAgICAgICAgICBzZWxmLndoaXNwZXJfbm9ybWFsaXplX3RleHRfb3V0cHV0LAogICAgICAgICAgICBzZWxmLnJlZl90ZXh0X2NvbF9uYW1lLAogICAgICAgICAgICBzZWxmLnByZWRfdGV4dF9jb2xfbmFtZSBpZiBzZWxmLnRhc2sgaW4gWyJBU1IiLCAiUzJUVCIsICJUMlRUIl0gZWxzZSBOb25lLAogICAgICAgICAgICBzZWxmLnByZWRfYXVkaW9fY29sX25hbWUsCiAgICAgICAgKQoKICAgICAgICB3aXRoIG9wZW4oc2VsZi5vdXRwdXRfZGlyIC8gZmlsZW5hbWUsICJyIikgYXMgZjoKICAgICAgICAgICAgY29ycHVzX21ldHJpY19zY29yZSA9IGpzb24ubG9hZChmKVsic2NvcmUiXQoKICAgICAgICByZXR1cm4gY29ycHVzX21ldHJpY19zY29yZSAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0KCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXRhc2siLCB0eXBlPXN0ciwgaGVscD0iVGFzayB0byBldmFsdWF0ZSIsIHJlcXVpcmVkPVRydWUpCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdGd0LWxhbmciLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iVGFyZ2V0IGxhbmd1YWdlIHRvIHRyYW5zbGF0ZS90cmFuc2NyaWJlIGludG8uIiwKICAgICAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0td2hpc3Blci1tb2RlbC1uYW1lIiwgdHlwZT1zdHIsIGhlbHA9IldoaXNwZXIgbW9kZWwgbmFtZSIsIGRlZmF1bHQ9ImxhcmdlIgogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS13aGlzcGVyLW5vcm1hbGl6ZS10ZXh0LW91dHB1dCIsCiAgICAgICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgICAgIGhlbHA9Ik5vcm1hbGl6ZSB0ZXh0IG91dHB1dCIsCiAgICAgICAgICAgIGRlZmF1bHQ9Tm9uZSwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tcmVmLXRleHQtY29sLW5hbWUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUmVmZXJlbmNlIHRleHQgY29sdW1uIG5hbWUiLAogICAgICAgICAgICBkZWZhdWx0PSJyZWZfdGd0X3RleHQiLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1wcmVkLXRleHQtY29sLW5hbWUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUHJlZGljdGlvbiB0ZXh0IGNvbHVtbiBuYW1lIiwKICAgICAgICAgICAgZGVmYXVsdD0icHJlZF90Z3RfdGV4dCIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXByZWQtYXVkaW8tY29sLW5hbWUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUHJlZGljdGlvbiBhdWRpbyBjb2x1bW4gbmFtZSIsCiAgICAgICAgICAgIGRlZmF1bHQ9InByZWRfdGd0X2F1ZGlvIiwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogTmFtZXNwYWNlKSAtPiBTZWFtbGVzc1F1YWxpdHlTY29yZXI6CiAgICAgICAgcmV0dXJuIGNscygKICAgICAgICAgICAgdGd0X2xhbmc9YXJncy50Z3RfbGFuZywKICAgICAgICAgICAgdGFzaz1hcmdzLnRhc2ssCiAgICAgICAgICAgIG91dHB1dF9kaXI9YXJncy5vdXRwdXQsCiAgICAgICAgICAgIGRldmljZT1nZXRhdHRyKGFyZ3MsICJkZXZpY2UiLCAiY3B1IiksCiAgICAgICAgICAgIHdoaXNwZXJfbW9kZWxfbmFtZT1hcmdzLndoaXNwZXJfbW9kZWxfbmFtZSwKICAgICAgICAgICAgd2hpc3Blcl9ub3JtYWxpemVfdGV4dF9vdXRwdXQ9YXJncy53aGlzcGVyX25vcm1hbGl6ZV90ZXh0X291dHB1dCwKICAgICAgICAgICAgcmVmX3RleHRfY29sX25hbWU9YXJncy5yZWZfdGV4dF9jb2xfbmFtZSwKICAgICAgICAgICAgcHJlZF90ZXh0X2NvbF9uYW1lPWFyZ3MucHJlZF90ZXh0X2NvbF9uYW1lLAogICAgICAgICAgICBwcmVkX2F1ZGlvX2NvbF9uYW1lPWFyZ3MucHJlZF9hdWRpb19jb2xfbmFtZSwKICAgICAgICApCg=='),
    ('seamless/build/lib/seamless_communication/streaming/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/build/lib/seamless_communication/streaming/dataloaders/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuZGF0YWxvYWRlcnMuczJ0dCBpbXBvcnQgKAogICAgU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlciBhcyBTaW11bEV2YWxTcGVlY2hUb1RleHREYXRhbG9hZGVyLAopCg=='),
    ('seamless/build/lib/seamless_communication/streaming/dataloaders/s2tt.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBsb2dnaW5nCmltcG9ydCBzdWJwcm9jZXNzCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgT3B0aW9uYWwKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIuZGF0YS5hdWRpbyBpbXBvcnQgQXVkaW9EZWNvZGVyCmZyb20gZmFpcnNlcTIuZGF0YS5kYXRhX3BpcGVsaW5lIGltcG9ydCBDb2xsYXRlciwgRGF0YVBpcGVsaW5lLCBGaWxlTWFwcGVyCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0LmNvbnZlcnRlcnMgaW1wb3J0IFN0clNwbGl0dGVyCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0LnRleHRfcmVhZGVyIGltcG9ydCByZWFkX3RleHQKZnJvbSBzaW11bGV2YWwuZGF0YS5kYXRhbG9hZGVyIGltcG9ydCByZWdpc3Rlcl9kYXRhbG9hZGVyCmZyb20gc2ltdWxldmFsLmRhdGEuZGF0YWxvYWRlci5kYXRhbG9hZGVyIGltcG9ydCBJdGVyYWJsZURhdGFsb2FkZXIKZnJvbSBzaW11bGV2YWwuZGF0YS5kYXRhbG9hZGVyLnMydF9kYXRhbG9hZGVyIGltcG9ydCBTcGVlY2hUb1RleHREYXRhbG9hZGVyCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBkYXRhY2xhc3MKY2xhc3MgU291bmRGaWxlSW5mbzoKICAgIHNhbXBsZXJhdGU6IGZsb2F0CiAgICBwYXRoOiBzdHIKCiAgICBkZWYgX19yZXByX18oc2VsZikgLT4gc3RyOgogICAgICAgIHJldHVybiAiXG4iLmpvaW4oW2Yic2FtcGxlcmF0ZToge3N0cihzZWxmLnNhbXBsZXJhdGUpfSIsIGYicGF0aDoge3NlbGYucGF0aH0iXSkKCgpkZWYgY291bnRfbGluZXMoZmlsZW5hbWU6IFBhdGgpIC0+IGludDoKICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKFsid2MiLCAiLWwiLCBmaWxlbmFtZV0sIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUpCiAgICByZXR1cm4gaW50KHJlc3VsdC5zdGRvdXQuZGVjb2RlKCkuc3BsaXQoKVswXSkgLSAxCgoKY2xhc3MgU2lsZXJvVkFEU2lsZW5jZVJlbW92ZXI6CiAgICBkZWYgX19pbml0X18oc2VsZiwgc2FtcGxlX3JhdGU6IGludCA9IDE2MDAwKSAtPiBOb25lOgogICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBzYW1wbGVfcmF0ZQogICAgICAgIHNlbGYubW9kZWwsIHNlbGYudXRpbHMgPSB0b3JjaC5odWIubG9hZCgKICAgICAgICAgICAgcmVwb19vcl9kaXI9InNuYWtlcnM0L3NpbGVyby12YWQiLAogICAgICAgICAgICBtb2RlbD0ic2lsZXJvX3ZhZCIsCiAgICAgICAgICAgICMgZm9yY2VfcmVsb2FkPVRydWUsCiAgICAgICAgICAgIG9ubng9RmFsc2UsCiAgICAgICAgKQoKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCBzYW1wbGU6IHRvcmNoLlRlbnNvciwgaXNfc3RhbmRhcmRpemVkOiBib29sKSAtPiBMaXN0W2Zsb2F0XToKICAgICAgICBpZiBub3QgaXNfc3RhbmRhcmRpemVkOgogICAgICAgICAgICAjIFN0YW5kYXJkaXppbmcgaGVyZSBqdXN0IGZvciBnZXR0aW5nIHNpbGVuY2UgYm91bmRhcmllcwogICAgICAgICAgICBzdGFuZGFyaXplZF9zYW1wbGVfbGlzdCA9IEYubGF5ZXJfbm9ybShzYW1wbGUsIHNhbXBsZS5zaGFwZSkudG9saXN0KCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzdGFuZGFyaXplZF9zYW1wbGVfbGlzdCA9IHNhbXBsZS50b2xpc3QoKQoKICAgICAgICAoCiAgICAgICAgICAgIGdldF9zcGVlY2hfdGltZXN0YW1wcywKICAgICAgICAgICAgc2F2ZV9hdWRpbywKICAgICAgICAgICAgcmVhZF9hdWRpbywKICAgICAgICAgICAgVkFESXRlcmF0b3IsCiAgICAgICAgICAgIGNvbGxlY3RfY2h1bmtzLAogICAgICAgICkgPSBzZWxmLnV0aWxzCiAgICAgICAgc3BlZWNoX3RpbWVzdGFtcHMgPSBnZXRfc3BlZWNoX3RpbWVzdGFtcHMoCiAgICAgICAgICAgIHN0YW5kYXJpemVkX3NhbXBsZV9saXN0LCBzZWxmLm1vZGVsLCBzYW1wbGluZ19yYXRlPXNlbGYuc2FtcGxlX3JhdGUKICAgICAgICApCgogICAgICAgIHNhbXBsZV9saXN0OiBMaXN0W2Zsb2F0XSA9IHNhbXBsZS50b2xpc3QoKQogICAgICAgIGlmIGxlbihzcGVlY2hfdGltZXN0YW1wcykgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIHNhbXBsZV9saXN0CiAgICAgICAgc3BlZWNoX3N0YXJ0X3RpbWUgPSBzcGVlY2hfdGltZXN0YW1wc1swXVsic3RhcnQiXQogICAgICAgIHNwZWVjaF9lbmRfdGltZSA9IHNwZWVjaF90aW1lc3RhbXBzWy0xXVsiZW5kIl0KICAgICAgICByZXR1cm4gc2FtcGxlX2xpc3RbaW50KHNwZWVjaF9zdGFydF90aW1lKSA6IGludChzcGVlY2hfZW5kX3RpbWUpXQoKCkByZWdpc3Rlcl9kYXRhbG9hZGVyKCJmYWlyc2VxMl9zMnR0IikKY2xhc3MgU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlcihTcGVlY2hUb1RleHREYXRhbG9hZGVyLCBJdGVyYWJsZURhdGFsb2FkZXIpOiAgIyB0eXBlOiBpZ25vcmUKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLCBkYXRhX3BpcGVsaW5lOiBEYXRhUGlwZWxpbmUsIGlzX3N0YW5kYXJkaXplZDogYm9vbCwgYXJnczogTmFtZXNwYWNlCiAgICApIC0+IE5vbmU6CiAgICAgICAgc2VsZi5hcmdzID0gYXJncwogICAgICAgIHNlbGYuZGF0YV9maWxlOiBQYXRoID0gUGF0aChnZXRhdHRyKHNlbGYuYXJncywgImRhdGFfZmlsZSIsICIiKSkKICAgICAgICBpZiBub3Qgc2VsZi5kYXRhX2ZpbGUuZXhpc3RzKCk6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJkYXRhX2ZpbGU6IHtzZWxmLmRhdGFfZmlsZX0gZG9lcyBub3QgZXhpc3QuIikKICAgICAgICBzZWxmLnN0YXJ0X2luZGV4OiBpbnQgPSBnZXRhdHRyKHNlbGYuYXJncywgInN0YXJ0X2luZGV4IiwgMCkKICAgICAgICBzZWxmLmVuZF9pbmRleDogaW50ID0gZ2V0YXR0cihzZWxmLmFyZ3MsICJlbmRfaW5kZXgiLCAtMSkKICAgICAgICBzZWxmLmRhdGFfcGlwZWxpbmUgPSBkYXRhX3BpcGVsaW5lCiAgICAgICAgc2VsZi5pc19zdGFuZGFyZGl6ZWQgPSBpc19zdGFuZGFyZGl6ZWQKICAgICAgICBzZWxmLmRhdGFfaXRyID0gaXRlcihzZWxmLmRhdGFfcGlwZWxpbmUpCiAgICAgICAgc2VsZi5jdXJfaW5kZXggPSBzZWxmLnN0YXJ0X2luZGV4IC0gMQogICAgICAgIHNlbGYubm9fc3RyaXBfc2lsZW5jZSA9IHNlbGYuYXJncy5ub19zdHJpcF9zaWxlbmNlCiAgICAgICAgc2VsZi5zaWxlbmNlX3JlbW92ZXIgPSBOb25lCiAgICAgICAgaWYgbm90IHNlbGYubm9fc3RyaXBfc2lsZW5jZToKICAgICAgICAgICAgbG9nZ2VyLndhcm4oCiAgICAgICAgICAgICAgICAiU3RyaXBwaW5nIHNpbGVuY2UgaW4gdGhlIGJlZ2lubmluZyBhbmQgdGhlIGVuZCBvZiBhdWRpbyB3aXRoIFNpbGVyb1ZBRC4iCiAgICAgICAgICAgICkKICAgICAgICAgICAgc2VsZi5zaWxlbmNlX3JlbW92ZXIgPSBTaWxlcm9WQURTaWxlbmNlUmVtb3ZlcigpCgogICAgZGVmIF9faXRlcl9fKHNlbGYpIC0+IFNpbXVsRXZhbFNwZWVjaFRvVGV4dERhdGFsb2FkZXI6CiAgICAgICAgcmV0dXJuIHNlbGYKCiAgICBkZWYgX19uZXh0X18oc2VsZikgLT4gU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlcjoKICAgICAgICBpZiBzZWxmLmN1cl9pbmRleCA+PSBzZWxmLmVuZF9pbmRleCAtIDE6CiAgICAgICAgICAgIHJhaXNlIFN0b3BJdGVyYXRpb24KICAgICAgICBzZWxmLml0ZW0gPSBuZXh0KHNlbGYuZGF0YV9pdHIpCiAgICAgICAgc2VsZi5jdXJfaW5kZXggKz0gMQogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIHJlc2V0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5jdXJfaW5kZXggPSAwCiAgICAgICAgc2VsZi5kYXRhX3BpcGVsaW5lLnJlc2V0KCkKCiAgICBkZWYgX19sZW5fXyhzZWxmKSAtPiBpbnQ6CiAgICAgICAgaWYgc2VsZi5lbmRfaW5kZXggPiAwOgogICAgICAgICAgICByZXR1cm4gc2VsZi5lbmRfaW5kZXggLSBzZWxmLnN0YXJ0X2luZGV4CiAgICAgICAgc2VsZi5lbmRfaW5kZXggPSBjb3VudF9saW5lcyhzZWxmLmRhdGFfZmlsZSkKICAgICAgICByZXR1cm4gc2VsZi5lbmRfaW5kZXggLSBzZWxmLnN0YXJ0X2luZGV4CgogICAgZGVmIGdldF9zb3VyY2Uoc2VsZiwgaW5kZXg6IE9wdGlvbmFsW2ludF0gPSBOb25lKSAtPiBMaXN0W2Zsb2F0XToKICAgICAgICBzcXVlZXplZF9pdGVtID0gc2VsZi5pdGVtWyJhdWRpbyJdWyJkYXRhIl1bIndhdmVmb3JtIl1bInNlcXMiXS5zcXVlZXplKCkKCiAgICAgICAgaWYgbm90IHNlbGYubm9fc3RyaXBfc2lsZW5jZSBhbmQgc2VsZi5zaWxlbmNlX3JlbW92ZXIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNvdXJjZSA9IHNlbGYuc2lsZW5jZV9yZW1vdmVyKHNxdWVlemVkX2l0ZW0sIHNlbGYuaXNfc3RhbmRhcmRpemVkKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNvdXJjZSA9IHNxdWVlemVkX2l0ZW0udG9saXN0KCkKCiAgICAgICAgcmV0dXJuIHNvdXJjZQoKICAgIGRlZiBnZXRfdGFyZ2V0KHNlbGYsIGluZGV4OiBPcHRpb25hbFtpbnRdID0gTm9uZSkgLT4gc3RyOgogICAgICAgIHJldHVybiBzdHIoc2VsZi5pdGVtW3NlbGYuYXJncy5yZWZfZmllbGRdWzBdKQoKICAgIGRlZiBnZXRfdGd0X2xhbmcoc2VsZiwgaW5kZXg6IE9wdGlvbmFsW2ludF0gPSBOb25lKSAtPiBPcHRpb25hbFtzdHJdOgogICAgICAgIGlmIHNlbGYuYXJncy50Z3RfbGFuZzoKICAgICAgICAgICAgdGd0X2xhbmc6IHN0ciA9IHNlbGYuYXJncy50Z3RfbGFuZwogICAgICAgICAgICByZXR1cm4gdGd0X2xhbmcKCiAgICAgICAgdGd0X2xhbmcgPSBzZWxmLml0ZW0uZ2V0KCJ0Z3RfbGFuZyIpCiAgICAgICAgcmV0dXJuIHN0cih0Z3RfbGFuZ1swXSkgaWYgdGd0X2xhbmcgZWxzZSBOb25lCgogICAgZGVmIGdldF9zb3VyY2VfYXVkaW9faW5mbyhzZWxmLCBpbmRleDogT3B0aW9uYWxbaW50XSA9IE5vbmUpIC0+IFNvdW5kRmlsZUluZm86CiAgICAgICAgc2FtcGxlcmF0ZSA9IHNlbGYuaXRlbVsiYXVkaW8iXVsiZGF0YSJdWyJzYW1wbGVfcmF0ZSJdWzBdCiAgICAgICAgcGF0aCA9IGYne3NlbGYuYXJncy5hdWRpb19yb290X2Rpcn0ve3N0cihzZWxmLml0ZW1bImF1ZGlvIl1bInBhdGgiXVswXSl9JwogICAgICAgIHJldHVybiBTb3VuZEZpbGVJbmZvKHNhbXBsZXJhdGUsIHBhdGgpCgogICAgZGVmIGdldF9zb3VyY2VfYXVkaW9fcGF0aChzZWxmLCBpbmRleDogT3B0aW9uYWxbaW50XSA9IE5vbmUpIC0+IHN0cjoKICAgICAgICByZXR1cm4gc3RyKHNlbGYuaXRlbVsiYXVkaW8iXVsicGF0aCJdWzBdKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fYXJncyhjbHMsIGFyZ3M6IE5hbWVzcGFjZSkgLT4gU2ltdWxFdmFsU3BlZWNoVG9UZXh0RGF0YWxvYWRlcjoKICAgICAgICB3aXRoIG9wZW4oYXJncy5kYXRhX2ZpbGUsICJyIikgYXMgZjoKICAgICAgICAgICAgaGVhZGVyID0gZi5yZWFkbGluZSgpLnN0cmlwKCJcbiIpLnNwbGl0KCJcdCIpCgogICAgICAgIHNwbGl0X3RzdiA9IFN0clNwbGl0dGVyKG5hbWVzPWhlYWRlcikKCiAgICAgICAgc3RhcnRfaW5kZXg6IGludCA9IGdldGF0dHIoYXJncywgInN0YXJ0X2luZGV4IiwgMCkKCiAgICAgICAgcGlwZWxpbmVfYnVpbGRlciA9ICgKICAgICAgICAgICAgcmVhZF90ZXh0KGFyZ3MuZGF0YV9maWxlLCBydHJpbT1UcnVlKS5za2lwKDEgKyBzdGFydF9pbmRleCkubWFwKHNwbGl0X3RzdikKICAgICAgICApCgogICAgICAgIG1hcF9maWxlID0gRmlsZU1hcHBlcihyb290X2Rpcj1hcmdzLmF1ZGlvX3Jvb3RfZGlyLCBjYWNoZWRfZmRfY291bnQ9MTApCgogICAgICAgIHBpcGVsaW5lX2J1aWxkZXIubWFwKG1hcF9maWxlLCBzZWxlY3Rvcj0iYXVkaW8iKQoKICAgICAgICBkZXZpY2UgPSBnZXRhdHRyKGFyZ3MsICJkZXZpY2UiLCBOb25lKQogICAgICAgIGFzc2VydCBkZXZpY2UgaXMgbm90IE5vbmUKCiAgICAgICAgZGVjb2RlX2F1ZGlvID0gQXVkaW9EZWNvZGVyKGR0eXBlPXRvcmNoLmZsb2F0MzIsIGRldmljZT10b3JjaC5kZXZpY2UoZGV2aWNlKSkKCiAgICAgICAgcGlwZWxpbmVfYnVpbGRlci5tYXAoCiAgICAgICAgICAgIGRlY29kZV9hdWRpbywKICAgICAgICAgICAgc2VsZWN0b3I9ImF1ZGlvLmRhdGEiLAogICAgICAgICkKCiAgICAgICAgaXNfc3RhbmRhcmRpemVkID0gRmFsc2UKICAgICAgICBpZiBhcmdzLnN0YW5kYXJkaXplX2F1ZGlvOgogICAgICAgICAgICBwaXBlbGluZV9idWlsZGVyLm1hcCgKICAgICAgICAgICAgICAgIGxhbWJkYSB4OiBGLmxheWVyX25vcm0oeCwgeC5zaGFwZSksCiAgICAgICAgICAgICAgICBzZWxlY3Rvcj0iYXVkaW8uZGF0YS53YXZlZm9ybSIsCiAgICAgICAgICAgICkKICAgICAgICAgICAgaXNfc3RhbmRhcmRpemVkID0gVHJ1ZQoKICAgICAgICBjb2xsYXRlID0gQ29sbGF0ZXIocGFkX3ZhbHVlPTAsIHBhZF90b19tdWx0aXBsZT0xKQoKICAgICAgICBwaXBlbGluZV9idWlsZGVyLm1hcChjb2xsYXRlKQoKICAgICAgICBwaXBlbGluZV9idWlsZGVyLnByZWZldGNoKDEpCgogICAgICAgIGRhdGFfcGlwZWxpbmUgPSBwaXBlbGluZV9idWlsZGVyLmFuZF9yZXR1cm4oKQoKICAgICAgICByZXR1cm4gY2xzKGRhdGFfcGlwZWxpbmUsIGlzX3N0YW5kYXJkaXplZCwgYXJncykKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kYXRhLWZpbGUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgcmVxdWlyZWQ9VHJ1ZSwKICAgICAgICAgICAgaGVscD0iRGF0YSBmaWxlICgudHN2KSB0byBiZSBldmFsdWF0ZWQuIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tYXVkaW8tcm9vdC1kaXIiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUm9vdCBkaXJlY3RvcnkgZm9yIHRoZSBhdWRpbyBmaWxlbmFtZXMgaW4gdGhlIGRhdGEgZmlsZS4iLAogICAgICAgICAgICBkZWZhdWx0PSIiLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1yZWYtZmllbGQiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iUmVmZXJlbmNlIHRhcmdldCB0ZXh0IGZpZWxkIHRvIGNvbXB1dGUgdGhlIEJMRVUgc2NvcmUgYWdhaW5zdC4iLAogICAgICAgICAgICBkZWZhdWx0PSJ0Z3RfdGV4dCIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXNvdXJjZS1zZWdtZW50LXNpemUiLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgZGVmYXVsdD0xLAogICAgICAgICAgICBoZWxwPSJTb3VyY2Ugc2VnbWVudCBzaXplLCBGb3IgdGV4dCB0aGUgdW5pdCBpcyAjIHRva2VuLCBmb3Igc3BlZWNoIGlzIG1zIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdGd0LWxhbmciLAogICAgICAgICAgICBkZWZhdWx0PSJlbmciLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iVGFyZ2V0IGxhbmd1YWdlIHRvIHRyYW5zbGF0ZS90cmFuc2NyaWJlIGludG8uIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tb3V0cHV0IiwKICAgICAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgICAgIHJlcXVpcmVkPVRydWUsCiAgICAgICAgICAgIGhlbHA9Ik91dHB1dCBkaXJlY3RvcnkuIFJlcXVpcmVkIGlmIHVzaW5nIGl0ZXJhYmxlIGRhdGFsb2FkZXIuIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tbm8tc3RyaXAtc2lsZW5jZSIsCiAgICAgICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICAgICAgICAgIGhlbHA9IlN0cmlwIHNpbGVuY2UgaW4gdGhlIGJlZ2lubmluZyBhbmQgdGhlIGVuZCBvZiBhdWRpby4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1zdGFuZGFyZGl6ZS1hdWRpbyIsCiAgICAgICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgICAgIGhlbHA9IlN0YW5kYXJkaXplIGF1ZGlvLiIsCiAgICAgICAgKQo='),
    ('seamless/build/lib/seamless_communication/streaming/agents/seamless_streaming_s2t.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmRldG9rZW5pemVyIGltcG9ydCBEZXRva2VuaXplckFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9mZmxpbmVfdzJ2X2JlcnRfZW5jb2RlciBpbXBvcnQgKAogICAgT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV9mZWF0dXJlX2V4dHJhY3RvciBpbXBvcnQgKAogICAgT25saW5lRmVhdHVyZUV4dHJhY3RvckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV90ZXh0X2RlY29kZXIgaW1wb3J0ICgKICAgIE1NQVNwZWVjaFRvVGV4dERlY29kZXJBZ2VudCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5zaWxlcm9fdmFkIGltcG9ydCBTaWxlcm9WQURBZ2VudApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy51bml0eV9waXBlbGluZSBpbXBvcnQgVW5pdFlBZ2VudFBpcGVsaW5lCgoKY2xhc3MgU2VhbWxlc3NTdHJlYW1pbmdTMlREZXRva0FnZW50KFVuaXRZQWdlbnRQaXBlbGluZSk6CiAgICBwaXBlbGluZSA9IFsKICAgICAgICBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQsCiAgICAgICAgT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50LAogICAgICAgIE1NQVNwZWVjaFRvVGV4dERlY29kZXJBZ2VudCwKICAgICAgICBEZXRva2VuaXplckFnZW50LAogICAgXQoKCmNsYXNzIFNlYW1sZXNzU3RyZWFtaW5nUzJUQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgTU1BU3BlZWNoVG9UZXh0RGVjb2RlckFnZW50LAogICAgXQoKCmNsYXNzIFNlYW1sZXNzU3RyZWFtaW5nUzJUVkFEQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIFNpbGVyb1ZBREFnZW50LAogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgTU1BU3BlZWNoVG9UZXh0RGVjb2RlckFnZW50LAogICAgICAgIERldG9rZW5pemVyQWdlbnQsCiAgICBdCg=='),
    ('seamless/build/lib/seamless_communication/streaming/agents/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCg=='),
    ('seamless/build/lib/seamless_communication/streaming/agents/detokenizer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0Cgpmcm9tIHNpbXVsZXZhbC5hZ2VudHMgaW1wb3J0IFRleHRUb1RleHRBZ2VudApmcm9tIHNpbXVsZXZhbC5hZ2VudHMuYWN0aW9ucyBpbXBvcnQgQWN0aW9uLCBSZWFkQWN0aW9uLCBXcml0ZUFjdGlvbgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5jb21tb24gaW1wb3J0ICgKICAgIEFnZW50U3RhdGVzLAogICAgTm9VcGRhdGVUYXJnZXRNaXhpbiwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5vbmxpbmVfdGV4dF9kZWNvZGVyIGltcG9ydCAoCiAgICBVbml0WVRleHREZWNvZGVyT3V0cHV0LAopCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNlZ21lbnQsIEVtcHR5U2VnbWVudAoKCmNsYXNzIERldG9rZW5pemVyQWdlbnQoTm9VcGRhdGVUYXJnZXRNaXhpbiwgVGV4dFRvVGV4dEFnZW50KTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oc2VsZiwgYXJnczogTmFtZXNwYWNlKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGFyZ3MpCiAgICAgICAgc2VsZi5kZXRva2VuaXplX29ubHkgPSBhcmdzLmRldG9rZW5pemVfb25seQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fYXJncyhjbHMsIGFyZ3M6IE5hbWVzcGFjZSwgKiprd2FyZ3M6IERpY3Rbc3RyLCBBbnldKSAtPiBEZXRva2VuaXplckFnZW50OgogICAgICAgIHJldHVybiBjbHMoYXJncykKCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZXRva2VuaXplLW9ubHkiLAogICAgICAgICAgICBhY3Rpb249InN0b3JlX3RydWUiLAogICAgICAgICAgICBkZWZhdWx0PVRydWUsCiAgICAgICAgICAgIGhlbHA9IlJ1biBkZXRva2VuaXphdGlvbiB3aXRob3V0IHdhaXRpbmcgZm9yIGEgbmV3IHRva2VuLiIsCiAgICAgICAgKQoKICAgIGRlZiBwb2xpY3koc2VsZiwgc3RhdGVzOiBBZ2VudFN0YXRlcykgLT4gQWN0aW9uOgogICAgICAgIHBvc3NpYmxlX2Z1bGxfd29yZHMgPSBzZWxmLmRlY29kZSgiICIuam9pbihbeCBmb3IgeCBpbiBzdGF0ZXMuc291cmNlXSkpCgogICAgICAgIGlmIHNlbGYuZGV0b2tlbml6ZV9vbmx5IGFuZCBsZW4oc3RhdGVzLnNvdXJjZSkgPiAwOgogICAgICAgICAgICBzdGF0ZXMuc291cmNlID0gW10KICAgICAgICAgICAgaWYgbGVuKHBvc3NpYmxlX2Z1bGxfd29yZHMpID09IDAgYW5kIG5vdCBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkOgogICAgICAgICAgICAgICAgcmV0dXJuIFJlYWRBY3Rpb24oKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIFdyaXRlQWN0aW9uKHBvc3NpYmxlX2Z1bGxfd29yZHMsIHN0YXRlcy5zb3VyY2VfZmluaXNoZWQpCgogICAgICAgIGlmIHN0YXRlcy5zb3VyY2VfZmluaXNoZWQ6CiAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbihwb3NzaWJsZV9mdWxsX3dvcmRzLCBUcnVlKQogICAgICAgIGVsaWYgbGVuKHBvc3NpYmxlX2Z1bGxfd29yZHMuc3BsaXQoKSkgPiAxOgogICAgICAgICAgICBmdWxsX3dvcmQgPSBwb3NzaWJsZV9mdWxsX3dvcmRzLnNwbGl0KClbMF0KICAgICAgICAgICAgc3RhdGVzLnNvdXJjZSA9IHN0YXRlcy5zb3VyY2VbLTE6XQogICAgICAgICAgICByZXR1cm4gV3JpdGVBY3Rpb24oZnVsbF93b3JkLCBmaW5pc2hlZD1GYWxzZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgogICAgZGVmIGRlY29kZShzZWxmLCB4OiBzdHIpIC0+IHN0cjoKICAgICAgICByZXR1cm4geC5yZXBsYWNlKCIgIiwgIiIpLnJlcGxhY2UoIlx1MjU4MSIsICIgIikuc3RyaXAoKQoKCmNsYXNzIFVuaXRZRGV0b2tlbml6ZXJBZ2VudFN0YXRlcyhBZ2VudFN0YXRlcyk6CiAgICBkZWYgdXBkYXRlX3NvdXJjZShzZWxmLCBzZWdtZW50OiBTZWdtZW50KSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIEV4dHJhY3QgdG9rZW5zIGZyb20gVW5pdFlUZXh0RGVjb2Rlck91dHB1dAogICAgICAgICIiIgogICAgICAgIHNlbGYuc291cmNlX2ZpbmlzaGVkID0gc2VnbWVudC5maW5pc2hlZAogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VnbWVudCwgRW1wdHlTZWdtZW50KToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgIyBUZXh0U2VnbWVudAogICAgICAgIHNlZ21lbnRfY29udGVudDogVW5pdFlUZXh0RGVjb2Rlck91dHB1dCA9IHNlZ21lbnQuY29udGVudAogICAgICAgIHRva2VuID0gc2VnbWVudF9jb250ZW50LnRva2VucwogICAgICAgIHNlbGYuc291cmNlICs9IHRva2VuCgoKY2xhc3MgVW5pdFlEZXRva2VuaXplckFnZW50KERldG9rZW5pemVyQWdlbnQpOgogICAgZGVmIGJ1aWxkX3N0YXRlcyhzZWxmKSAtPiBVbml0WURldG9rZW5pemVyQWdlbnRTdGF0ZXM6CiAgICAgICAgcmV0dXJuIFVuaXRZRGV0b2tlbml6ZXJBZ2VudFN0YXRlcygpCg=='),
    ('seamless/build/lib/seamless_communication/streaming/agents/online_feature_extractor.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBtYXRoCmltcG9ydCB0b3JjaAoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBMaXN0Cgpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlciwgV2F2ZWZvcm1Ub0ZiYW5rSW5wdXQKCmZyb20gc2ltdWxldmFsLmFnZW50cyBpbXBvcnQgU3BlZWNoVG9TcGVlY2hBZ2VudApmcm9tIHNpbXVsZXZhbC5hZ2VudHMuYWN0aW9ucyBpbXBvcnQgQWN0aW9uLCBSZWFkQWN0aW9uLCBXcml0ZUFjdGlvbgpmcm9tIHNpbXVsZXZhbC5kYXRhLnNlZ21lbnRzIGltcG9ydCBTZWdtZW50LCBTcGVlY2hTZWdtZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmNvbW1vbiBpbXBvcnQgQWdlbnRTdGF0ZXMKCgpTSElGVF9TSVpFID0gMTAKV0lORE9XX1NJWkUgPSAyNQpTQU1QTEVfUkFURSA9IDE2MDAwCkZFQVRVUkVfRElNID0gODAKCgpjbGFzcyBGZWF0dXJlU3RhdGVzKEFnZW50U3RhdGVzKTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgcmVzZXQoc2VsZikgLT4gTm9uZToKICAgICAgICBzdXBlcigpLnJlc2V0KCkKICAgICAgICBzZWxmLnByZXZpb3VzX3Jlc2lkdWFsX3NhbXBsZXM6IExpc3RbZmxvYXRdID0gW10KICAgICAgICBzZWxmLnRndF9sYW5nID0gTm9uZQoKICAgIGRlZiB1cGRhdGVfc291cmNlKHNlbGYsIHNlZ21lbnQ6IFNlZ21lbnQpIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgVXBkYXRlIHN0YXRlcyBmcm9tIGlucHV0IHNlZ21lbnQKICAgICAgICBBcmdzOgogICAgICAgICAgICBzZWdtZW50ICh+c2ltdWxldmFsLmFnZW50cy5zZWdtZW50cy5TZWdtZW50KTogaW5wdXQgc2VnbWVudAogICAgICAgICIiIgogICAgICAgIHNlbGYuc291cmNlX2ZpbmlzaGVkID0gc2VnbWVudC5maW5pc2hlZAogICAgICAgIGlmIHNlbGYudGd0X2xhbmcgaXMgTm9uZSBhbmQgc2VnbWVudC50Z3RfbGFuZyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi50Z3RfbGFuZyA9IHNlZ21lbnQudGd0X2xhbmcKICAgICAgICBpZiBub3Qgc2VnbWVudC5pc19lbXB0eToKICAgICAgICAgICAgc2VsZi5zb3VyY2UuYXBwZW5kKHNlZ21lbnQuY29udGVudCkKCgpjbGFzcyBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQoU3BlZWNoVG9TcGVlY2hBZ2VudCk6ICAjIHR5cGU6IGlnbm9yZQogICAgIiIiCiAgICBFeHRyYWN0IHNwZWVjaCBmZWF0dXJlcyBvbiB0aGUgZmx5LgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFyZ3M6IE5hbWVzcGFjZSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhhcmdzKQogICAgICAgIHNlbGYuc2hpZnRfc2l6ZSA9IGFyZ3Muc2hpZnRfc2l6ZQogICAgICAgIHNlbGYud2luZG93X3NpemUgPSBhcmdzLndpbmRvd19zaXplCiAgICAgICAgYXNzZXJ0IHNlbGYud2luZG93X3NpemUgPj0gc2VsZi5zaGlmdF9zaXplCgogICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBhcmdzLnNhbXBsZV9yYXRlCiAgICAgICAgc2VsZi5mZWF0dXJlX2RpbSA9IGFyZ3MuZmVhdHVyZV9kaW0KICAgICAgICBzZWxmLm51bV9zYW1wbGVzX3Blcl9zaGlmdCA9IGludChzZWxmLnNoaWZ0X3NpemUgKiBzZWxmLnNhbXBsZV9yYXRlIC8gMTAwMCkKICAgICAgICBzZWxmLm51bV9zYW1wbGVzX3Blcl93aW5kb3cgPSBpbnQoc2VsZi53aW5kb3dfc2l6ZSAqIHNlbGYuc2FtcGxlX3JhdGUgLyAxMDAwKQogICAgICAgIHNlbGYubGVuX21zX3RvX3NhbXBsZXMgPSBsYW1iZGEgeDogeCAqIHNlbGYuc2FtcGxlX3JhdGUgLyAxMDAwCgogICAgICAgIHNlbGYuY29udmVydF90b19mYmFuayA9IFdhdmVmb3JtVG9GYmFua0NvbnZlcnRlcigKICAgICAgICAgICAgbnVtX21lbF9iaW5zPTgwLAogICAgICAgICAgICB3YXZlZm9ybV9zY2FsZT0yKioxNSBpZiBhcmdzLmRlbm9ybWFsaXplIGVsc2UgMS4wLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1GYWxzZSwKICAgICAgICAgICAgZGV2aWNlPWFyZ3MuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1hcmdzLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfc3RhdGVzKHNlbGYpIC0+IEZlYXR1cmVTdGF0ZXM6CiAgICAgICAgcmV0dXJuIEZlYXR1cmVTdGF0ZXMoKQoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBhZGRfYXJncyhwYXJzZXI6IEFyZ3VtZW50UGFyc2VyKSAtPiBOb25lOgogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXNoaWZ0LXNpemUiLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgZGVmYXVsdD1TSElGVF9TSVpFLAogICAgICAgICAgICBoZWxwPSJTaGlmdCBzaXplIG9mIGZlYXR1cmUgZXh0cmFjdGlvbiB3aW5kb3cuIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0td2luZG93LXNpemUiLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgZGVmYXVsdD1XSU5ET1dfU0laRSwKICAgICAgICAgICAgaGVscD0iV2luZG93IHNpemUgb2YgZmVhdHVyZSBleHRyYWN0aW9uIHdpbmRvdy4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1mZWF0dXJlLWRpbSIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBkZWZhdWx0PUZFQVRVUkVfRElNLAogICAgICAgICAgICBoZWxwPSJBY291c3RpYyBmZWF0dXJlIGRpbWVuc2lvbi4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZW5vcm1hbGl6ZSIsCiAgICAgICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgICAgIGhlbHA9ImRlbm9ybWFsaXplZCB0byAxNi1iaXQgc2lnbmVkIGludGVnZXJzIiwKICAgICAgICApCgogICAgZGVmIHBvbGljeShzZWxmLCBzdGF0ZXM6IEZlYXR1cmVTdGF0ZXMpIC0+IEFjdGlvbjoKICAgICAgICBpZiBsZW4oc3RhdGVzLnNvdXJjZSkgPT0gMDoKICAgICAgICAgICAgaWYgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbih7fSwgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKCiAgICAgICAgc2FtcGxlcyA9IHN0YXRlcy5zb3VyY2VbLTFdCgogICAgICAgIHNhbXBsZXMgPSBzdGF0ZXMucHJldmlvdXNfcmVzaWR1YWxfc2FtcGxlcyArIHNhbXBsZXMKICAgICAgICBpZiBsZW4oc2FtcGxlcykgPCBzZWxmLm51bV9zYW1wbGVzX3Blcl93aW5kb3c6CiAgICAgICAgICAgIHN0YXRlcy5wcmV2aW91c19yZXNpZHVhbF9zYW1wbGVzID0gc2FtcGxlcwogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgogICAgICAgICMgbnVtX2ZyYW1lcyBpcyB0aGUgbnVtYmVyIG9mIGZyYW1lcyBmcm9tIHRoZSBuZXcgc2VnbWVudAogICAgICAgIG51bV9mcmFtZXMgPSBtYXRoLmZsb29yKAogICAgICAgICAgICAobGVuKHNhbXBsZXMpIC0gc2VsZi5sZW5fbXNfdG9fc2FtcGxlcyhzZWxmLndpbmRvd19zaXplIC0gc2VsZi5zaGlmdF9zaXplKSkKICAgICAgICAgICAgLyBzZWxmLm51bV9zYW1wbGVzX3Blcl9zaGlmdAogICAgICAgICkKCiAgICAgICAgIyB0aGUgbnVtYmVyIG9mIGZyYW1lcyB1c2VkIGZvciBmZWF0dXJlIGV4dHJhY3Rpb24KICAgICAgICAjIGluY2x1ZGluZyBzb21lIHBhcnQgb2YgdGhlIHByZXZpb3VzIHNlZ21lbnQKICAgICAgICBlZmZlY3RpdmVfbnVtX3NhbXBsZXMgPSBpbnQoCiAgICAgICAgICAgIG51bV9mcmFtZXMgKiBzZWxmLmxlbl9tc190b19zYW1wbGVzKHNlbGYuc2hpZnRfc2l6ZSkKICAgICAgICAgICAgKyBzZWxmLmxlbl9tc190b19zYW1wbGVzKHNlbGYud2luZG93X3NpemUgLSBzZWxmLnNoaWZ0X3NpemUpCiAgICAgICAgKQoKICAgICAgICBpbnB1dF9zYW1wbGVzID0gc2FtcGxlc1s6ZWZmZWN0aXZlX251bV9zYW1wbGVzXQogICAgICAgIHN0YXRlcy5wcmV2aW91c19yZXNpZHVhbF9zYW1wbGVzID0gc2FtcGxlc1sKICAgICAgICAgICAgbnVtX2ZyYW1lcyAqIHNlbGYubnVtX3NhbXBsZXNfcGVyX3NoaWZ0IDoKICAgICAgICBdCgogICAgICAgIGRhdGE6IFdhdmVmb3JtVG9GYmFua0lucHV0ID0gewogICAgICAgICAgICAid2F2ZWZvcm0iOiB0b3JjaC50ZW5zb3IoaW5wdXRfc2FtcGxlcykudW5zcXVlZXplKDApLAogICAgICAgICAgICAic2FtcGxlX3JhdGUiOiBzZWxmLnNhbXBsZV9yYXRlLAogICAgICAgIH0KCiAgICAgICAgb3V0cHV0ID0gc2VsZi5jb252ZXJ0X3RvX2ZiYW5rKGRhdGEpWyJmYmFuayJdCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigKICAgICAgICAgICAgU3BlZWNoU2VnbWVudCgKICAgICAgICAgICAgICAgIGNvbnRlbnQ9b3V0cHV0LAogICAgICAgICAgICAgICAgdGd0X2xhbmc9c3RhdGVzLnRndF9sYW5nLAogICAgICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogQW55LCAqKmt3YXJnczogQW55KSAtPiBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQ6CiAgICAgICAgcmV0dXJuIGNscyhhcmdzKQo='),
    ('seamless/build/lib/seamless_communication/streaming/agents/pretssel_vocoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBsb2dnaW5nCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUKZnJvbSBmYWlyc2VxMi5kYXRhLmF1ZGlvIGltcG9ydCBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIsIFdhdmVmb3JtVG9GYmFua0lucHV0CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuZ2VuZXJhdG9yLmxvYWRlciBpbXBvcnQgbG9hZF9wcmV0c3NlbF92b2NvZGVyX21vZGVsCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0IGxvYWRfZ2Ntdm5fc3RhdHMKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0b3JlIGltcG9ydCBhZGRfZ2F0ZWRfYXNzZXRzCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmNvbW1vbiBpbXBvcnQgKAogICAgQWdlbnRTdGF0ZXMsCiAgICBOb1VwZGF0ZVRhcmdldE1peGluLAopCmZyb20gc2ltdWxldmFsLmFnZW50cyBpbXBvcnQgVGV4dFRvU3BlZWNoQWdlbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IFJlYWRBY3Rpb24sIFdyaXRlQWN0aW9uCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNwZWVjaFNlZ21lbnQKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgUHJldHNzZWxWb2NvZGVyQWdlbnQoTm9VcGRhdGVUYXJnZXRNaXhpbiwgVGV4dFRvU3BlZWNoQWdlbnQpOiAgIyB0eXBlOiBpZ25vcmUKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBhcmdzOiBOYW1lc3BhY2UpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhhcmdzKQoKICAgICAgICBpZiBhcmdzLmdhdGVkX21vZGVsX2RpcjoKICAgICAgICAgICAgYWRkX2dhdGVkX2Fzc2V0cyhhcmdzLmdhdGVkX21vZGVsX2RpcikKCiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgIGYiTG9hZGluZyB0aGUgVm9jb2RlciBtb2RlbDoge2FyZ3Mudm9jb2Rlcl9uYW1lfSBvbiBkZXZpY2U9e2FyZ3MuZGV2aWNlfSwgZHR5cGU9e2FyZ3MuZHR5cGV9IgogICAgICAgICkKICAgICAgICBhc3NlcnQgInByZXRzc2VsIiBpbiBhcmdzLnZvY29kZXJfbmFtZQogICAgICAgIHNlbGYudm9jb2RlciA9IGxvYWRfcHJldHNzZWxfdm9jb2Rlcl9tb2RlbCgKICAgICAgICAgICAgYXJncy52b2NvZGVyX25hbWUsIGRldmljZT1hcmdzLmRldmljZSwgZHR5cGU9YXJncy5kdHlwZQogICAgICAgICkKICAgICAgICBzZWxmLnZvY29kZXIuZXZhbCgpCgogICAgICAgIHZvY29kZXJfbW9kZWxfY2FyZCA9IGFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQoYXJncy52b2NvZGVyX25hbWUpCiAgICAgICAgc2VsZi52b2NvZGVyX3NhbXBsZV9yYXRlID0gdm9jb2Rlcl9tb2RlbF9jYXJkLmZpZWxkKCJzYW1wbGVfcmF0ZSIpLmFzXyhpbnQpCiAgICAgICAgc2VsZi52b2NvZGVyX2xhbmdzID0gdm9jb2Rlcl9tb2RlbF9jYXJkLmZpZWxkKCJtb2RlbF9jb25maWciKS5maWVsZCgibGFuZ3MiKS5hc19saXN0KHN0cikKCiAgICAgICAgc2VsZi51cHN0cmVhbV9pZHggPSBhcmdzLnVwc3RyZWFtX2lkeAogICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBhcmdzLnNhbXBsZV9yYXRlICAjIGlucHV0IHNhbXBsZSByYXRlCiAgICAgICAgc2VsZi50Z3RfbGFuZyA9IGFyZ3MudGd0X2xhbmcKICAgICAgICBzZWxmLmNvbnZlcnRfdG9fZmJhbmsgPSBXYXZlZm9ybVRvRmJhbmtDb252ZXJ0ZXIoCiAgICAgICAgICAgIG51bV9tZWxfYmlucz04MCwKICAgICAgICAgICAgd2F2ZWZvcm1fc2NhbGU9MioqMTUsCiAgICAgICAgICAgIGNoYW5uZWxfbGFzdD1UcnVlLAogICAgICAgICAgICBzdGFuZGFyZGl6ZT1GYWxzZSwKICAgICAgICAgICAgZGV2aWNlPWFyZ3MuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1hcmdzLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgX2djbXZuX21lYW4sIF9nY212bl9zdGQgPSBsb2FkX2djbXZuX3N0YXRzKGFyZ3Mudm9jb2Rlcl9uYW1lKQogICAgICAgIHNlbGYuZ2Ntdm5fbWVhbiA9IHRvcmNoLnRlbnNvcigKICAgICAgICAgICAgX2djbXZuX21lYW4sIGRldmljZT1hcmdzLmRldmljZSwgZHR5cGU9YXJncy5kdHlwZQogICAgICAgICkKICAgICAgICBzZWxmLmdjbXZuX3N0ZCA9IHRvcmNoLnRlbnNvcihfZ2Ntdm5fc3RkLCBkZXZpY2U9YXJncy5kZXZpY2UsIGR0eXBlPWFyZ3MuZHR5cGUpCgogICAgZGVmIGdjbXZuX25vcm1hbGl6ZShzZWxmLCBzZXFzOiB0b3JjaC5UZW5zb3IpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICByZXN1bHQ6IHRvcmNoLlRlbnNvciA9IHNlcXMuc3VidHJhY3Qoc2VsZi5nY212bl9tZWFuKS5kaXZpZGUoc2VsZi5nY212bl9zdGQpCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogQWdlbnRTdGF0ZXMpIC0+IFdyaXRlQWN0aW9uOgogICAgICAgICIiIgogICAgICAgIFRoZSBwb2xpY3kgaXMgYWx3YXlzIHdyaXRlIGlmIHRoZXJlIGlzIGEgd2F2ZWZvcm0KICAgICAgICAiIiIKICAgICAgICB1bml0cyA9IHN0YXRlcy5zb3VyY2UKCiAgICAgICAgaWYgbGVuKHVuaXRzKSA9PSAwIG9yIGxlbih1bml0c1swXSkgPT0gMDoKICAgICAgICAgICAgaWYgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbihjb250ZW50PVtdLCBmaW5pc2hlZD1UcnVlKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIFJlYWRBY3Rpb24oKQoKICAgICAgICB1bml0ID0gdW5pdHNbMF1bMF0KCiAgICAgICAgIyBhZGp1c3QgdGhlIGNvbnRyb2wgc3ltYm9scyBmb3IgdGhlIGVtYmVkZGluZwogICAgICAgIHVuaXQgKz0gNAoKICAgICAgICB1bml0LCBkdXJhdGlvbiA9IHRvcmNoLnVuaXF1ZV9jb25zZWN1dGl2ZSh1bml0LCByZXR1cm5fY291bnRzPVRydWUpCgogICAgICAgIGR1cmF0aW9uICo9IDIKCiAgICAgICAgaWYgaXNpbnN0YW5jZShzdGF0ZXMudXBzdHJlYW1fc3RhdGVzW3NlbGYudXBzdHJlYW1faWR4XS5zb3VyY2UsIGxpc3QpOgogICAgICAgICAgICBzb3VyY2U6IExpc3RbZmxvYXRdID0gc3VtKAogICAgICAgICAgICAgICAgc3RhdGVzLnVwc3RyZWFtX3N0YXRlc1tzZWxmLnVwc3RyZWFtX2lkeF0uc291cmNlLCBbXQogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc291cmNlID0gc3RhdGVzLnVwc3RyZWFtX3N0YXRlc1tzZWxmLnVwc3RyZWFtX2lkeF0uc291cmNlCgogICAgICAgIGF1ZGlvX2RpY3Q6IFdhdmVmb3JtVG9GYmFua0lucHV0ID0gewogICAgICAgICAgICAid2F2ZWZvcm0iOiB0b3JjaC50ZW5zb3IoCiAgICAgICAgICAgICAgICBzb3VyY2UsIGR0eXBlPXRvcmNoLmZsb2F0MzIsIGRldmljZT1zZWxmLmRldmljZQogICAgICAgICAgICApLnVuc3F1ZWV6ZSgxKSwKICAgICAgICAgICAgInNhbXBsZV9yYXRlIjogc2VsZi5zYW1wbGVfcmF0ZSwKICAgICAgICB9CgogICAgICAgIGZlYXRzID0gc2VsZi5jb252ZXJ0X3RvX2ZiYW5rKGF1ZGlvX2RpY3QpWyJmYmFuayJdCgogICAgICAgIGZlYXRzID0gc2VsZi5nY212bl9ub3JtYWxpemUoZmVhdHMpCgogICAgICAgIHRndF9sYW5nID0gc3RhdGVzLnRndF9sYW5nIGlmIHN0YXRlcy50Z3RfbGFuZyBlbHNlIHNlbGYudGd0X2xhbmcKCiAgICAgICAgCiAgICAgICAgaWYgdGd0X2xhbmcgbm90IGluIHNlbGYudm9jb2Rlcl9sYW5nczoKICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoZiJ7dGd0X2xhbmd9IG5vdCBzdXBwb3J0ZWQhIikKICAgICAgICAgICAgY29udGVudCA9IFtdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgd2F2ID0gc2VsZi52b2NvZGVyKAogICAgICAgICAgICAgICAgdW5pdCwKICAgICAgICAgICAgICAgIHRndF9sYW5nPXRndF9sYW5nLAogICAgICAgICAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzPWZlYXRzLAogICAgICAgICAgICAgICAgZHVyYXRpb25zPWR1cmF0aW9uLnVuc3F1ZWV6ZSgwKSwKICAgICAgICAgICAgICAgIG5vcm1hbGl6ZV9iZWZvcmU9VHJ1ZSwKICAgICAgICAgICAgKQogICAgICAgICAgICBjb250ZW50ID0gd2F2WzBdWzBdWzBdLnRvbGlzdCgpCgogICAgICAgIHN0YXRlcy5zb3VyY2UgPSBbXQoKICAgICAgICByZXR1cm4gV3JpdGVBY3Rpb24oCiAgICAgICAgICAgIFNwZWVjaFNlZ21lbnQoCiAgICAgICAgICAgICAgICBjb250ZW50PWNvbnRlbnQsCiAgICAgICAgICAgICAgICBmaW5pc2hlZD1zdGF0ZXMuc291cmNlX2ZpbmlzaGVkLAogICAgICAgICAgICAgICAgc2FtcGxlX3JhdGU9c2VsZi52b2NvZGVyX3NhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgdGd0X2xhbmc9dGd0X2xhbmcsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGZpbmlzaGVkPXN0YXRlcy5zb3VyY2VfZmluaXNoZWQsCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGFkZF9hcmdzKGNscywgcGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1nYXRlZC1tb2RlbC1kaXIiLAogICAgICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgICAgIHJlcXVpcmVkPUZhbHNlLAogICAgICAgICAgICBoZWxwPSJTZWFtbGVzc0V4cHJlc3NpdmUgbW9kZWwgZGlyZWN0b3J5LiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXZvY29kZXItbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSJWb2NvZGVyIG5hbWUgLSB2b2NvZGVyX3ByZXRzc2VsIG9yIHZvY29kZXJfcHJldHNzZWxfMTZraHoiLAogICAgICAgICAgICBkZWZhdWx0PSJ2b2NvZGVyX3ByZXRzc2VsIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdXBzdHJlYW0taWR4IiwKICAgICAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgICAgIGRlZmF1bHQ9MCwKICAgICAgICAgICAgaGVscD0iaW5kZXggb2YgZW5jb2RlciBzdGF0ZXMgd2hlcmUgc3RhdGVzLnNvdXJjZSBjb250YWlucyBpbnB1dCBhdWRpbyIsCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fYXJncygKICAgICAgICBjbHMsIGFyZ3M6IE5hbWVzcGFjZSwgKiprd2FyZ3M6IERpY3Rbc3RyLCBBbnldCiAgICApIC0+IFByZXRzc2VsVm9jb2RlckFnZW50OgogICAgICAgIHJldHVybiBjbHMoYXJncykK'),
    ('seamless/build/lib/seamless_communication/streaming/agents/silero_vad.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IGxvZ2dpbmcKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmltcG9ydCBxdWV1ZQppbXBvcnQgcmFuZG9tCmltcG9ydCB0aW1lCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSBvcyBpbXBvcnQgU0VFS19FTkQKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgTGlzdCwgT3B0aW9uYWwsIFVuaW9uCgppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHRvcmNoCmltcG9ydCBzb3VuZGZpbGUKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMuY29tbW9uIGltcG9ydCAoCiAgICBBZ2VudFN0YXRlcywKICAgIEVhcmx5U3RvcHBpbmdNaXhpbiwKKQpmcm9tIHNpbXVsZXZhbC5hZ2VudHMgaW1wb3J0IFNwZWVjaFRvU3BlZWNoQWdlbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IEFjdGlvbiwgUmVhZEFjdGlvbiwgV3JpdGVBY3Rpb24KZnJvbSBzaW11bGV2YWwuZGF0YS5zZWdtZW50cyBpbXBvcnQgRW1wdHlTZWdtZW50LCBTZWdtZW50LCBTcGVlY2hTZWdtZW50Cgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgpTUEVFQ0hfUFJPQl9USFJFU0hPTEQgPSAwLjYKCgpjbGFzcyBTaWxlcm9WQURTdGF0ZXMoRWFybHlTdG9wcGluZ01peGluLCBBZ2VudFN0YXRlcyk6ICAjIHR5cGU6IGlnbm9yZQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFyZ3M6IE5hbWVzcGFjZSkgLT4gTm9uZToKICAgICAgICBzZWxmLm1vZGVsLCB1dGlscyA9IHRvcmNoLmh1Yi5sb2FkKAogICAgICAgICAgICByZXBvX29yX2Rpcj0ic25ha2VyczQvc2lsZXJvLXZhZCIsCiAgICAgICAgICAgIG1vZGVsPSJzaWxlcm9fdmFkIiwKICAgICAgICAgICAgZm9yY2VfcmVsb2FkPUZhbHNlLAogICAgICAgICAgICBvbm54PUZhbHNlLAogICAgICAgICkKCiAgICAgICAgKAogICAgICAgICAgICBzZWxmLmdldF9zcGVlY2hfdGltZXN0YW1wcywKICAgICAgICAgICAgc2VsZi5zYXZlX2F1ZGlvLAogICAgICAgICAgICBzZWxmLnJlYWRfYXVkaW8sCiAgICAgICAgICAgIHNlbGYuVkFESXRlcmF0b3IsCiAgICAgICAgICAgIHNlbGYuY29sbGVjdF9jaHVua3MsCiAgICAgICAgKSA9IHV0aWxzCiAgICAgICAgc2VsZi5zaWxlbmNlX2xpbWl0X21zID0gYXJncy5zaWxlbmNlX2xpbWl0X21zCiAgICAgICAgc2VsZi5zcGVlY2hfc29mdF9saW1pdF9tcyA9IGFyZ3Muc3BlZWNoX3NvZnRfbGltaXRfbXMKICAgICAgICBzZWxmLndpbmRvd19zaXplX3NhbXBsZXMgPSBhcmdzLndpbmRvd19zaXplX3NhbXBsZXMKICAgICAgICBzZWxmLmNodW5rX3NpemVfc2FtcGxlcyA9IGFyZ3MuY2h1bmtfc2l6ZV9zYW1wbGVzCiAgICAgICAgc2VsZi5zYW1wbGVfcmF0ZSA9IGFyZ3Muc2FtcGxlX3JhdGUKICAgICAgICBzZWxmLmluaXRfc3BlZWNoX3Byb2IgPSBhcmdzLmluaXRfc3BlZWNoX3Byb2IKICAgICAgICBzZWxmLmRlYnVnID0gYXJncy5kZWJ1ZwogICAgICAgIHNlbGYudGVzdF9pbnB1dF9zZWdtZW50c193YXYgPSBOb25lCiAgICAgICAgc2VsZi5kZWJ1Z19sb2coYXJncykKICAgICAgICBzZWxmLmlucHV0X3F1ZXVlOiBxdWV1ZS5RdWV1ZVtTZWdtZW50XSA9IHF1ZXVlLlF1ZXVlKCkKICAgICAgICBzZWxmLm5leHRfaW5wdXRfcXVldWU6IHF1ZXVlLlF1ZXVlW1NlZ21lbnRdID0gcXVldWUuUXVldWUoKQogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgIGRlZiBjbGVhcl9xdWV1ZXMoc2VsZikgLT4gTm9uZToKICAgICAgICB3aGlsZSBub3Qgc2VsZi5pbnB1dF9xdWV1ZS5lbXB0eSgpOgogICAgICAgICAgICBzZWxmLmlucHV0X3F1ZXVlLmdldF9ub3dhaXQoKQogICAgICAgICAgICBzZWxmLmlucHV0X3F1ZXVlLnRhc2tfZG9uZSgpCiAgICAgICAgIyBtb3ZlIGV2ZXJ5dGhpbmcgZnJvbSBuZXh0X2lucHV0X3F1ZXVlIHRvIGlucHV0X3F1ZXVlCiAgICAgICAgd2hpbGUgbm90IHNlbGYubmV4dF9pbnB1dF9xdWV1ZS5lbXB0eSgpOgogICAgICAgICAgICBjaHVuayA9IHNlbGYubmV4dF9pbnB1dF9xdWV1ZS5nZXRfbm93YWl0KCkKICAgICAgICAgICAgc2VsZi5uZXh0X2lucHV0X3F1ZXVlLnRhc2tfZG9uZSgpCiAgICAgICAgICAgIHNlbGYuaW5wdXRfcXVldWUucHV0X25vd2FpdChjaHVuaykKCiAgICBkZWYgcmVzZXQoc2VsZikgLT4gTm9uZToKICAgICAgICBzdXBlcigpLnJlc2V0KCkKICAgICAgICAjIFRPRE86IGluIHNlYW1sZXNzX3NlcnZlciwgcmVwb3J0IGxhdGVuY3kgZm9yIGVhY2ggbmV3IHNlZ21lbnQKICAgICAgICBzZWxmLmZpcnN0X2lucHV0X3RzOiBPcHRpb25hbFtmbG9hdF0gPSBOb25lCiAgICAgICAgc2VsZi5zaWxlbmNlX2FjY19tcyA9IDAKICAgICAgICBzZWxmLnNwZWVjaF9hY2NfbXMgPSAwCiAgICAgICAgc2VsZi5pbnB1dF9jaHVuazogbnAubmRhcnJheVtBbnksIG5wLmR0eXBlW25wLmludDE2XV0gPSBucC5lbXB0eSgKICAgICAgICAgICAgMCwgZHR5cGU9bnAuaW50MTYKICAgICAgICApCiAgICAgICAgc2VsZi5pc19mcmVzaF9zdGF0ZSA9IFRydWUKICAgICAgICBzZWxmLmNsZWFyX3F1ZXVlcygpCiAgICAgICAgc2VsZi5tb2RlbC5yZXNldF9zdGF0ZXMoKQogICAgICAgIHNlbGYuY29uc2VjdXRpdmVfc2lsZW5jZV9kZWNheV9jb3VudCA9IDAKCiAgICBkZWYgcmVzZXRfZWFybHkoc2VsZikgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICBEb24ndCByZXNldCBzdGF0ZSBiZWZvcmUgRU9TCiAgICAgICAgIiIiCiAgICAgICAgcGFzcwoKICAgIGRlZiBnZXRfc3BlZWNoX3Byb2JfZnJvbV9ucF9mbG9hdDMyKAogICAgICAgIHNlbGYsIHNlZ21lbnQ6IG5wLm5kYXJyYXlbQW55LCBucC5kdHlwZVtucC5mbG9hdDMyXV0KICAgICkgLT4gTGlzdFtBbnldOgogICAgICAgIHQgPSB0b3JjaC5mcm9tX251bXB5KHNlZ21lbnQpCiAgICAgICAgc3BlZWNoX3Byb2JzID0gW10KICAgICAgICAjIFRPRE86IHJ1biBzZWxmLm1vZGVsIGluIGJhdGNoPwogICAgICAgIGZvciBpIGluIHJhbmdlKDAsIGxlbih0KSwgc2VsZi53aW5kb3dfc2l6ZV9zYW1wbGVzKToKICAgICAgICAgICAgY2h1bmsgPSB0W2kgOiBpICsgc2VsZi53aW5kb3dfc2l6ZV9zYW1wbGVzXQogICAgICAgICAgICBpZiBsZW4oY2h1bmspIDwgc2VsZi53aW5kb3dfc2l6ZV9zYW1wbGVzOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgc3BlZWNoX3Byb2IgPSBzZWxmLm1vZGVsKGNodW5rLCBzZWxmLnNhbXBsZV9yYXRlKS5pdGVtKCkKICAgICAgICAgICAgc3BlZWNoX3Byb2JzLmFwcGVuZChzcGVlY2hfcHJvYikKICAgICAgICByZXR1cm4gc3BlZWNoX3Byb2JzCgogICAgZGVmIGRlYnVnX2xvZyhzZWxmLCBtOiBBbnkpIC0+IE5vbmU6CiAgICAgICAgaWYgc2VsZi5kZWJ1ZzoKICAgICAgICAgICAgbG9nZ2VyLmluZm8obSkKCiAgICBkZWYgcHJvY2Vzc19zcGVlY2goCiAgICAgICAgc2VsZiwKICAgICAgICBzZWdtZW50OiBVbmlvbltucC5uZGFycmF5W0FueSwgbnAuZHR5cGVbbnAuZmxvYXQzMl1dLCBTZWdtZW50XSwKICAgICAgICB0Z3RfbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgUHJvY2VzcyBhIGZ1bGwgb3IgcGFydGlhbCBzcGVlY2ggY2h1bmsKICAgICAgICAiIiIKICAgICAgICBxdWV1ZSA9IHNlbGYuaW5wdXRfcXVldWUKICAgICAgICBpZiBzZWxmLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgIyBjdXJyZW50IHNvdXJjZSBpcyBmaW5pc2hlZCwgYnV0IG5leHQgc3BlZWNoIHN0YXJ0cyB0byBjb21lIGluIGFscmVhZHkKICAgICAgICAgICAgc2VsZi5kZWJ1Z19sb2coInVzZSBuZXh0X2lucHV0X3F1ZXVlIikKICAgICAgICAgICAgcXVldWUgPSBzZWxmLm5leHRfaW5wdXRfcXVldWUKCiAgICAgICAgaWYgc2VsZi5maXJzdF9pbnB1dF90cyBpcyBOb25lOgogICAgICAgICAgICBzZWxmLmZpcnN0X2lucHV0X3RzID0gdGltZS50aW1lKCkgKiAxMDAwCgogICAgICAgIHdoaWxlIGxlbihzZWdtZW50KSA+IDA6CiAgICAgICAgICAgICMgYWRkIGNodW5rcyB0byBzdGF0ZXMuYnVmZmVyCiAgICAgICAgICAgIGkgPSBzZWxmLmNodW5rX3NpemVfc2FtcGxlcyAtIGxlbihzZWxmLmlucHV0X2NodW5rKQogICAgICAgICAgICBzZWxmLmlucHV0X2NodW5rID0gbnAuY29uY2F0ZW5hdGUoKHNlbGYuaW5wdXRfY2h1bmssIHNlZ21lbnRbOmldKSkKICAgICAgICAgICAgc2VnbWVudCA9IHNlZ21lbnRbaTpdCiAgICAgICAgICAgIHNlbGYuaXNfZnJlc2hfc3RhdGUgPSBGYWxzZQogICAgICAgICAgICBpZiBsZW4oc2VsZi5pbnB1dF9jaHVuaykgPT0gc2VsZi5jaHVua19zaXplX3NhbXBsZXM6CiAgICAgICAgICAgICAgICBxdWV1ZS5wdXRfbm93YWl0KAogICAgICAgICAgICAgICAgICAgIFNwZWVjaFNlZ21lbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9c2VsZi5pbnB1dF9jaHVuaywgZmluaXNoZWQ9RmFsc2UsIHRndF9sYW5nPXRndF9sYW5nCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgc2VsZi5pbnB1dF9jaHVuayA9IG5wLmVtcHR5KDAsIGR0eXBlPW5wLmludDE2KQoKICAgIGRlZiBjaGVja19zaWxlbmNlX2FjYyhzZWxmLCB0Z3RfbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc2lsZW5jZV9saW1pdF9tcyA9IHNlbGYuc2lsZW5jZV9saW1pdF9tcwogICAgICAgIGlmIHNlbGYuc3BlZWNoX2FjY19tcyA+PSBzZWxmLnNwZWVjaF9zb2Z0X2xpbWl0X21zOgogICAgICAgICAgICBzZWxmLmRlYnVnX2xvZygiaW5jcmVhc2Ugc3BlZWNoIHRocmVzaG9sZCIpCiAgICAgICAgICAgIHNpbGVuY2VfbGltaXRfbXMgPSBzZWxmLnNpbGVuY2VfbGltaXRfbXMgLy8gMgogICAgICAgIHNlbGYuZGVidWdfbG9nKGYic2lsZW5jZV9hY2NfbXM6IHtzZWxmLnNpbGVuY2VfYWNjX21zfSIpCiAgICAgICAgaWYgc2VsZi5zaWxlbmNlX2FjY19tcyA+PSBzaWxlbmNlX2xpbWl0X21zOgogICAgICAgICAgICBzZWxmLmRlYnVnX2xvZygiPT09IGVuZCBvZiBzZWdtZW50IikKICAgICAgICAgICAgIyBzb3VyY2UgdXR0ZXJhbmNlIGZpbmlzaGVkCiAgICAgICAgICAgIHNlbGYuc2lsZW5jZV9hY2NfbXMgPSAwCiAgICAgICAgICAgIHNlbGYuc3BlZWNoX2FjY19tcyA9IDAKICAgICAgICAgICAgaWYgc2VsZi5pbnB1dF9jaHVuay5zaXplID4gMDoKICAgICAgICAgICAgICAgICMgZmx1c2ggcGFydGlhbCBpbnB1dF9jaHVuawogICAgICAgICAgICAgICAgc2VsZi5pbnB1dF9xdWV1ZS5wdXRfbm93YWl0KAogICAgICAgICAgICAgICAgICAgIFNwZWVjaFNlZ21lbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9c2VsZi5pbnB1dF9jaHVuaywgdGd0X2xhbmc9dGd0X2xhbmcsIGZpbmlzaGVkPVRydWUKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBzZWxmLmlucHV0X2NodW5rID0gbnAuZW1wdHkoMCwgZHR5cGU9bnAuaW50MTYpCiAgICAgICAgICAgIHNlbGYuaW5wdXRfcXVldWUucHV0X25vd2FpdChFbXB0eVNlZ21lbnQoZmluaXNoZWQ9VHJ1ZSkpCiAgICAgICAgICAgIHNlbGYuc291cmNlX2ZpbmlzaGVkID0gVHJ1ZQogICAgICAgICAgICBzZWxmLmRlYnVnX3dyaXRlX3dhdihucC5lbXB0eSgwLCBkdHlwZT1ucC5pbnQxNiksIGZpbmlzaGVkPVRydWUpCgogICAgZGVmIGRlY2F5X3NpbGVuY2VfYWNjX21zKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgc2VsZi5jb25zZWN1dGl2ZV9zaWxlbmNlX2RlY2F5X2NvdW50IDw9IDI6CiAgICAgICAgICAgIHNlbGYuc2lsZW5jZV9hY2NfbXMgPSBzZWxmLnNpbGVuY2VfYWNjX21zIC8vIDIKICAgICAgICAgICAgc2VsZi5jb25zZWN1dGl2ZV9zaWxlbmNlX2RlY2F5X2NvdW50ICs9IDEKCiAgICBkZWYgdXBkYXRlX3NvdXJjZSgKICAgICAgICBzZWxmLCBzZWdtZW50OiBVbmlvbltucC5uZGFycmF5W0FueSwgbnAuZHR5cGVbbnAuZmxvYXQzMl1dLCBTZWdtZW50XQogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIERlZmF1bHQgdmFsdWUgZm9yIHRoZSBzZWdtZW50IGluIHRoZSB1cGRhdGVfc291cmNlIG1ldGhvZCBpcyBhIHNlZ21lbnQKICAgICAgICBDbGFzcywgZm9yIHNvbWUgcmVhc29uIHRoaXMgaW50ZXJmYWNlIGRpZG4ndCBhbGlnbiB3aXRoIG90aGVyIGludGVyZmFjZXMKICAgICAgICBBZGRpbmcgdGhpcyBjaGFuZ2UgaGVyZSB0byBzdXBwb3J0IGJvdGggbnAubmRhcnJheSBhbmQgU2VnbWVudCBjbGFzcwogICAgICAgICIiIgogICAgICAgIHRndF9sYW5nID0gTm9uZQogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VnbWVudCwgU3BlZWNoU2VnbWVudCk6CiAgICAgICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBzZWdtZW50LnNhbXBsZV9yYXRlCiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VnbWVudCwgInRndF9sYW5nIikgYW5kIHNlZ21lbnQudGd0X2xhbmcgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICB0Z3RfbGFuZyA9IHNlZ21lbnQudGd0X2xhbmcKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShzZWdtZW50LmNvbnRlbnQsIG5wLm5kYXJyYXkpOgogICAgICAgICAgICAgICAgc2VnbWVudCA9IG5wLmFycmF5KHNlZ21lbnQuY29udGVudCwgZHR5cGU9bnAuZmxvYXQzMikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlZ21lbnQgPSBzZWdtZW50LmNvbnRlbnQKICAgICAgICBzcGVlY2hfcHJvYnMgPSBzZWxmLmdldF9zcGVlY2hfcHJvYl9mcm9tX25wX2Zsb2F0MzIoc2VnbWVudCkKICAgICAgICBjaHVua19zaXplX21zID0gbGVuKHNlZ21lbnQpICogMTAwMCAvIHNlbGYuc2FtcGxlX3JhdGUKICAgICAgICB3aW5kb3dfc2l6ZV9tcyA9IHNlbGYud2luZG93X3NpemVfc2FtcGxlcyAqIDEwMDAgLyBzZWxmLnNhbXBsZV9yYXRlCiAgICAgICAgY29uc2VjdXRpdmVfc2lsZW5jZV9kZWNheSA9IEZhbHNlCiAgICAgICAgaWYgc2VsZi5pc19mcmVzaF9zdGF0ZSBhbmQgc2VsZi5pbml0X3NwZWVjaF9wcm9iID4gMDoKICAgICAgICAgICAgdGhyZXNob2xkID0gU1BFRUNIX1BST0JfVEhSRVNIT0xEICsgc2VsZi5pbml0X3NwZWVjaF9wcm9iCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdGhyZXNob2xkID0gU1BFRUNIX1BST0JfVEhSRVNIT0xECiAgICAgICAgaWYgYWxsKGkgPD0gdGhyZXNob2xkIGZvciBpIGluIHNwZWVjaF9wcm9icyk6CiAgICAgICAgICAgIGlmIHNlbGYuc291cmNlX2ZpbmlzaGVkOgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIHNlbGYuZGVidWdfbG9nKCJnb3Qgc2lsZW50IGNodW5rIikKICAgICAgICAgICAgaWYgbm90IHNlbGYuaXNfZnJlc2hfc3RhdGU6CiAgICAgICAgICAgICAgICBzZWxmLnNpbGVuY2VfYWNjX21zICs9IGNodW5rX3NpemVfbXMKICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tfc2lsZW5jZV9hY2ModGd0X2xhbmcpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGVsaWYgc3BlZWNoX3Byb2JzWy0xXSA8PSB0aHJlc2hvbGQ6CiAgICAgICAgICAgIHNlbGYuZGVidWdfbG9nKCI9PT0gc3RhcnQgb2Ygc2lsZW5jZSBjaHVuayIpCiAgICAgICAgICAgICMgYmVnaW5uaW5nID0gc3BlZWNoLCBlbmQgPSBzaWxlbmNlCiAgICAgICAgICAgICMgcGFzcyB0byBwcm9jZXNzX3NwZWVjaCBhbmQgYWNjdW11bGF0ZSBzaWxlbmNlCiAgICAgICAgICAgIHNlbGYuc3BlZWNoX2FjY19tcyArPSBjaHVua19zaXplX21zCiAgICAgICAgICAgIGNvbnNlY3V0aXZlX3NpbGVuY2VfZGVjYXkgPSBUcnVlCiAgICAgICAgICAgIHNlbGYuZGVjYXlfc2lsZW5jZV9hY2NfbXMoKQogICAgICAgICAgICBzZWxmLnByb2Nlc3Nfc3BlZWNoKHNlZ21lbnQsIHRndF9sYW5nKQogICAgICAgICAgICAjIGFjY3VtdWxhdGUgY29udGlndW91cyBzaWxlbmNlCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihzcGVlY2hfcHJvYnMpIC0gMSwgLTEsIC0xKToKICAgICAgICAgICAgICAgIGlmIHNwZWVjaF9wcm9ic1tpXSA+IHRocmVzaG9sZDoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgc2VsZi5zaWxlbmNlX2FjY19tcyArPSB3aW5kb3dfc2l6ZV9tcwogICAgICAgICAgICBzZWxmLmNoZWNrX3NpbGVuY2VfYWNjKHRndF9sYW5nKQogICAgICAgIGVsaWYgc3BlZWNoX3Byb2JzWzBdIDw9IHRocmVzaG9sZDoKICAgICAgICAgICAgc2VsZi5kZWJ1Z19sb2coIj09PSBzdGFydCBvZiBzcGVlY2ggY2h1bmsiKQogICAgICAgICAgICAjIGJlZ2lubmluZyA9IHNpbGVuY2UsIGVuZCA9IHNwZWVjaAogICAgICAgICAgICAjIGFjY3VtdWxhdGUgc2lsZW5jZSAsIHBhc3MgbmV4dCB0byBwcm9jZXNzX3NwZWVjaAogICAgICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBsZW4oc3BlZWNoX3Byb2JzKSk6CiAgICAgICAgICAgICAgICBpZiBzcGVlY2hfcHJvYnNbaV0gPiB0aHJlc2hvbGQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIHNlbGYuc2lsZW5jZV9hY2NfbXMgKz0gd2luZG93X3NpemVfbXMKICAgICAgICAgICAgIyB0cnkgbm90IHRvIHNwbGl0IHJpZ2h0IGJlZm9yZSBzcGVlY2gKICAgICAgICAgICAgc2VsZi5zaWxlbmNlX2FjY19tcyA9IHNlbGYuc2lsZW5jZV9hY2NfbXMgLy8gMgogICAgICAgICAgICBzZWxmLmNoZWNrX3NpbGVuY2VfYWNjKHRndF9sYW5nKQogICAgICAgICAgICBzZWxmLnNwZWVjaF9hY2NfbXMgKz0gY2h1bmtfc2l6ZV9tcwogICAgICAgICAgICBzZWxmLnByb2Nlc3Nfc3BlZWNoKHNlZ21lbnQsIHRndF9sYW5nKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuc3BlZWNoX2FjY19tcyArPSBjaHVua19zaXplX21zCiAgICAgICAgICAgIHNlbGYuZGVidWdfbG9nKCI9PT09PT09PSBnb3Qgc3BlZWNoIGNodW5rIikKICAgICAgICAgICAgY29uc2VjdXRpdmVfc2lsZW5jZV9kZWNheSA9IFRydWUKICAgICAgICAgICAgc2VsZi5kZWNheV9zaWxlbmNlX2FjY19tcygpCiAgICAgICAgICAgIHNlbGYucHJvY2Vzc19zcGVlY2goc2VnbWVudCwgdGd0X2xhbmcpCiAgICAgICAgaWYgbm90IGNvbnNlY3V0aXZlX3NpbGVuY2VfZGVjYXk6CiAgICAgICAgICAgIHNlbGYuY29uc2VjdXRpdmVfc2lsZW5jZV9kZWNheV9jb3VudCA9IDAKCiAgICBkZWYgZGVidWdfd3JpdGVfd2F2KAogICAgICAgIHNlbGYsIGNodW5rOiBucC5uZGFycmF5W0FueSwgQW55XSwgZmluaXNoZWQ6IGJvb2wgPSBGYWxzZQogICAgKSAtPiBOb25lOgogICAgICAgIGlmIHNlbGYudGVzdF9pbnB1dF9zZWdtZW50c193YXYgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYudGVzdF9pbnB1dF9zZWdtZW50c193YXYuc2VlaygwLCBTRUVLX0VORCkKICAgICAgICAgICAgc2VsZi50ZXN0X2lucHV0X3NlZ21lbnRzX3dhdi53cml0ZShjaHVuaykKICAgICAgICAgICAgaWYgZmluaXNoZWQ6CiAgICAgICAgICAgICAgICBNT0RFTF9TQU1QTEVfUkFURSA9IDE2XzAwMAogICAgICAgICAgICAgICAgZGVidWdfdHMgPSBmInt0aW1lLnRpbWUoKX1fe3JhbmRvbS5yYW5kaW50KDEwMDAsIDk5OTkpfSIKICAgICAgICAgICAgICAgIHNlbGYudGVzdF9pbnB1dF9zZWdtZW50c193YXYgPSBzb3VuZGZpbGUuU291bmRGaWxlKAogICAgICAgICAgICAgICAgICAgIFBhdGgoc2VsZi50ZXN0X2lucHV0X3NlZ21lbnRzX3dhdi5uYW1lKS5wYXJlbnQKICAgICAgICAgICAgICAgICAgICAvIGYie2RlYnVnX3RzfV90ZXN0X2lucHV0X3NlZ21lbnRzLndhdiIsCiAgICAgICAgICAgICAgICAgICAgbW9kZT0idysiLAogICAgICAgICAgICAgICAgICAgIGZvcm1hdD0iV0FWIiwKICAgICAgICAgICAgICAgICAgICBzYW1wbGVyYXRlPU1PREVMX1NBTVBMRV9SQVRFLAogICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzPTEsCiAgICAgICAgICAgICAgICApCgoKY2xhc3MgU2lsZXJvVkFEQWdlbnQoU3BlZWNoVG9TcGVlY2hBZ2VudCk6ICAjIHR5cGU6IGlnbm9yZQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFyZ3M6IE5hbWVzcGFjZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGFyZ3MpCiAgICAgICAgc2VsZi5jaHVua19zaXplX3NhbXBsZXMgPSBhcmdzLmNodW5rX3NpemVfc2FtcGxlcwogICAgICAgIHNlbGYuYXJncyA9IGFyZ3MKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS13aW5kb3ctc2l6ZS1zYW1wbGVzIiwKICAgICAgICAgICAgZGVmYXVsdD01MTIsICAjIHNhbXBsaW5nX3JhdGUgLy8gMTAwMCAqIDMyID0+IDMyIG1zIGF0IDE2MDAwIHNhbXBsZSByYXRlCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBoZWxwPSJXaW5kb3cgc2l6ZSBmb3IgcGFzc2luZyBzYW1wbGVzIHRvIFZBRCIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLWNodW5rLXNpemUtc2FtcGxlcyIsCiAgICAgICAgICAgIGRlZmF1bHQ9NTEyMCwgICMgc2FtcGxpbmdfcmF0ZSAvLyAxMDAwICogMzIwID0+IDMyMCBtcyBhdCAxNjAwMCBzYW1wbGUgcmF0ZQogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgaGVscD0iQ2h1bmsgc2l6ZSBmb3IgcGFzc2luZyBzYW1wbGVzIHRvIG1vZGVsIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tc2lsZW5jZS1saW1pdC1tcyIsCiAgICAgICAgICAgIGRlZmF1bHQ9NzAwLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgaGVscD0ic2VuZCBFT1MgdG8gdGhlIGlucHV0X3F1ZXVlIGFmdGVyIHRoaXMgYW1vdW50IG9mIHNpbGVuY2UiLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1zcGVlY2gtc29mdC1saW1pdC1tcyIsCiAgICAgICAgICAgIGRlZmF1bHQ9MTJfMDAwLCAgIyBhZnRlciAxNXMsIGluY3JlYXNlIHRoZSBzcGVlY2ggdGhyZXNob2xkCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBoZWxwPSJhZnRlciB0aGlzIGFtb3VudCBvZiBzcGVlY2gsIGRlY3JlYXNlIHRoZSBzcGVlY2ggdGhyZXNob2xkIChzZWdtZW50IG1vcmUgYWdncmVzc2l2ZWx5KSIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLWluaXQtc3BlZWNoLXByb2IiLAogICAgICAgICAgICBkZWZhdWx0PTAuMTUsCiAgICAgICAgICAgIHR5cGU9ZmxvYXQsCiAgICAgICAgICAgIGhlbHA9IkluY3JlYXNlIHRoZSBpbml0aWFsIHNwZWVjaCBwcm9iYWJpbGl0eSB0aHJlc2hvbGQgYnkgdGhpcyBtdWNoIGF0IHRoZSBzdGFydCBvZiBzcGVlY2giLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZWJ1ZyIsCiAgICAgICAgICAgIGRlZmF1bHQ9RmFsc2UsCiAgICAgICAgICAgIHR5cGU9Ym9vbCwKICAgICAgICAgICAgaGVscD0iRW5hYmxlIGRlYnVnIGxvZ3MiLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfc3RhdGVzKHNlbGYpIC0+IFNpbGVyb1ZBRFN0YXRlczoKICAgICAgICByZXR1cm4gU2lsZXJvVkFEU3RhdGVzKHNlbGYuYXJncykKCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogU2lsZXJvVkFEU3RhdGVzKSAtPiBBY3Rpb246CiAgICAgICAgc3RhdGVzLmRlYnVnX2xvZygKICAgICAgICAgICAgZiJxdWV1ZSBzaXplOiB7c3RhdGVzLmlucHV0X3F1ZXVlLnFzaXplKCl9LCBpbnB1dF9jaHVuayBzaXplOiB7bGVuKHN0YXRlcy5pbnB1dF9jaHVuayl9IgogICAgICAgICkKICAgICAgICBjb250ZW50OiBucC5uZGFycmF5W0FueSwgQW55XSA9IG5wLmVtcHR5KDAsIGR0eXBlPW5wLmludDE2KQogICAgICAgIGlzX2ZpbmlzaGVkID0gc3RhdGVzLnNvdXJjZV9maW5pc2hlZAogICAgICAgIHRndF9sYW5nID0gTm9uZQogICAgICAgIHdoaWxlIG5vdCBzdGF0ZXMuaW5wdXRfcXVldWUuZW1wdHkoKToKICAgICAgICAgICAgY2h1bmsgPSBzdGF0ZXMuaW5wdXRfcXVldWUuZ2V0X25vd2FpdCgpCiAgICAgICAgICAgIHN0YXRlcy5pbnB1dF9xdWV1ZS50YXNrX2RvbmUoKQogICAgICAgICAgICBpZiB0Z3RfbGFuZyBpcyBOb25lOgogICAgICAgICAgICAgICAgdGd0X2xhbmcgPSBjaHVuay50Z3RfbGFuZwogICAgICAgICAgICBjb250ZW50ID0gbnAuY29uY2F0ZW5hdGUoKGNvbnRlbnQsIGNodW5rLmNvbnRlbnQpKQoKICAgICAgICBzdGF0ZXMuZGVidWdfd3JpdGVfd2F2KGNvbnRlbnQpCgogICAgICAgIGlmIGxlbihjb250ZW50KSA9PSAwOiAgIyBlbXB0eSBxdWV1ZQogICAgICAgICAgICBpZiBub3Qgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICMgTk9URTogdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuLCB0aGlzIGxvZ2ljIGlzIGEgc2FmZWd1YXJkCiAgICAgICAgICAgICAgICBzZWdtZW50ID0gRW1wdHlTZWdtZW50KGZpbmlzaGVkPVRydWUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VnbWVudCA9IFNwZWVjaFNlZ21lbnQoCiAgICAgICAgICAgICAgICBjb250ZW50PWNvbnRlbnQudG9saXN0KCksCiAgICAgICAgICAgICAgICBmaW5pc2hlZD1pc19maW5pc2hlZCwKICAgICAgICAgICAgICAgIHRndF9sYW5nPXRndF9sYW5nLAogICAgICAgICAgICApCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbihzZWdtZW50LCBmaW5pc2hlZD1pc19maW5pc2hlZCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2FyZ3MoY2xzLCBhcmdzOiBOYW1lc3BhY2UsICoqa3dhcmdzOiBOb25lKSAtPiBTaWxlcm9WQURBZ2VudDoKICAgICAgICByZXR1cm4gY2xzKGFyZ3MpCg=='),
    ('seamless/build/lib/seamless_communication/streaming/agents/seamless_s2st.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5kZXRva2VuaXplciBpbXBvcnQgVW5pdFlEZXRva2VuaXplckFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9mZmxpbmVfdzJ2X2JlcnRfZW5jb2RlciBpbXBvcnQgKAogICAgT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV9mZWF0dXJlX2V4dHJhY3RvciBpbXBvcnQgKAogICAgT25saW5lRmVhdHVyZUV4dHJhY3RvckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV90ZXh0X2RlY29kZXIgaW1wb3J0ICgKICAgIFVuaXRZTU1BVGV4dERlY29kZXJBZ2VudCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5vbmxpbmVfdW5pdF9kZWNvZGVyIGltcG9ydCAoCiAgICBOQVJVbml0WVVuaXREZWNvZGVyQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMucHJldHNzZWxfdm9jb2RlciBpbXBvcnQgKAogICAgUHJldHNzZWxWb2NvZGVyQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMuZHVhbF92b2NvZGVyX2FnZW50IGltcG9ydCAoCiAgICBEdWFsVm9jb2RlckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnNpbGVyb192YWQgaW1wb3J0IFNpbGVyb1ZBREFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnVuaXR5X3BpcGVsaW5lIGltcG9ydCAoCiAgICBVbml0WUFnZW50UGlwZWxpbmUsCiAgICBVbml0WUFnZW50VHJlZVBpcGVsaW5lLAopCgoKY2xhc3MgU2VhbWxlc3NTMlNUQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50LAogICAgICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudCwKICAgICAgICBQcmV0c3NlbFZvY29kZXJBZ2VudCwKICAgIF0KCgpjbGFzcyBTZWFtbGVzc1MyU1RKb2ludFZBREFnZW50KFVuaXRZQWdlbnRUcmVlUGlwZWxpbmUpOgogICAgcGlwZWxpbmUgPSB7CiAgICAgICAgU2lsZXJvVkFEQWdlbnQ6IFtPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnRdLAogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudDogW09mZmxpbmVXYXYyVmVjQmVydEVuY29kZXJBZ2VudF0sCiAgICAgICAgT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50OiBbVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50XSwKICAgICAgICBVbml0WU1NQVRleHREZWNvZGVyQWdlbnQ6IFtVbml0WURldG9rZW5pemVyQWdlbnQsIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudF0sCiAgICAgICAgVW5pdFlEZXRva2VuaXplckFnZW50OiBbXSwKICAgICAgICBOQVJVbml0WVVuaXREZWNvZGVyQWdlbnQ6IFtQcmV0c3NlbFZvY29kZXJBZ2VudF0sCiAgICAgICAgUHJldHNzZWxWb2NvZGVyQWdlbnQ6IFtdLAogICAgfQoKCmNsYXNzIFNlYW1sZXNzUzJTVER1YWxWb2NvZGVyVkFEQWdlbnQoVW5pdFlBZ2VudFRyZWVQaXBlbGluZSk6CiAgICBwaXBlbGluZSA9IHsKICAgICAgICBTaWxlcm9WQURBZ2VudDogW09ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudF0sCiAgICAgICAgT25saW5lRmVhdHVyZUV4dHJhY3RvckFnZW50OiBbT2ZmbGluZVdhdjJWZWNCZXJ0RW5jb2RlckFnZW50XSwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQ6IFtVbml0WU1NQVRleHREZWNvZGVyQWdlbnRdLAogICAgICAgIFVuaXRZTU1BVGV4dERlY29kZXJBZ2VudDogW1VuaXRZRGV0b2tlbml6ZXJBZ2VudCwgTkFSVW5pdFlVbml0RGVjb2RlckFnZW50XSwKICAgICAgICBVbml0WURldG9rZW5pemVyQWdlbnQ6IFtdLAogICAgICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudDogW0R1YWxWb2NvZGVyQWdlbnRdLAogICAgICAgIER1YWxWb2NvZGVyQWdlbnQ6IFtdLAogICAgfQo='),
    ('seamless/build/lib/seamless_communication/streaming/agents/dual_vocoder_agent.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKaW1wb3J0IGNvcHkKCmltcG9ydCBsb2dnaW5nCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEFueQoKZnJvbSBzaW11bGV2YWwuYWdlbnRzIGltcG9ydCBUZXh0VG9TcGVlY2hBZ2VudApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5jb21tb24gaW1wb3J0IEFnZW50U3RhdGVzCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNlZ21lbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IEFjdGlvbgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMucHJldHNzZWxfdm9jb2RlciBpbXBvcnQgKAogICAgUHJldHNzZWxWb2NvZGVyQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMub25saW5lX3ZvY29kZXIgaW1wb3J0IFZvY29kZXJBZ2VudAoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpjbGFzcyBEdWFsVm9jb2RlclN0YXRlcyhBZ2VudFN0YXRlcyk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgdm9jb2Rlcl9zdGF0ZXM6IEFnZW50U3RhdGVzLCBleHByX3ZvY29kZXJfc3RhdGVzOiBBZ2VudFN0YXRlcwogICAgKSAtPiBOb25lOgogICAgICAgIHNlbGYudm9jb2Rlcl9zdGF0ZXMgPSB2b2NvZGVyX3N0YXRlcwogICAgICAgIHNlbGYuZXhwcl92b2NvZGVyX3N0YXRlcyA9IGV4cHJfdm9jb2Rlcl9zdGF0ZXMKICAgICAgICBzZWxmLmNvbmZpZzogRGljdFtzdHIsIEFueV0gPSB7fQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHRhcmdldF9maW5pc2hlZChzZWxmKTogICMgdHlwZTogaWdub3JlCiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgc2VsZi52b2NvZGVyX3N0YXRlcy50YXJnZXRfZmluaXNoZWQKICAgICAgICAgICAgb3Igc2VsZi5leHByX3ZvY29kZXJfc3RhdGVzLnRhcmdldF9maW5pc2hlZAogICAgICAgICkKCiAgICBkZWYgcmVzZXQoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLnZvY29kZXJfc3RhdGVzLnJlc2V0KCkKICAgICAgICBzZWxmLmV4cHJfdm9jb2Rlcl9zdGF0ZXMucmVzZXQoKQogICAgICAgIHNlbGYuY29uZmlnID0ge30KCiAgICBkZWYgdXBkYXRlX3NvdXJjZShzZWxmLCBzZWdtZW50OiBTZWdtZW50KSAtPiBOb25lOgogICAgICAgIHNlbGYudm9jb2Rlcl9zdGF0ZXMudXBkYXRlX2NvbmZpZyhzZWdtZW50LmNvbmZpZykKICAgICAgICBzZWxmLnZvY29kZXJfc3RhdGVzLnVwZGF0ZV9zb3VyY2Uoc2VnbWVudCkKICAgICAgICBzZWxmLmV4cHJfdm9jb2Rlcl9zdGF0ZXMudXBkYXRlX2NvbmZpZyhzZWdtZW50LmNvbmZpZykKICAgICAgICBzZWxmLmV4cHJfdm9jb2Rlcl9zdGF0ZXMudXBkYXRlX3NvdXJjZShzZWdtZW50KQoKICAgIGRlZiB1cGRhdGVfdGFyZ2V0KHNlbGYsIHNlZ21lbnQ6IFNlZ21lbnQpIC0+IE5vbmU6CiAgICAgICAgc2VsZi52b2NvZGVyX3N0YXRlcy51cGRhdGVfdGFyZ2V0KHNlZ21lbnQpCiAgICAgICAgc2VsZi5leHByX3ZvY29kZXJfc3RhdGVzLnVwZGF0ZV90YXJnZXQoc2VnbWVudCkKCgpjbGFzcyBEdWFsVm9jb2RlckFnZW50KFRleHRUb1NwZWVjaEFnZW50KTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBhcmdzOiBOYW1lc3BhY2UsCiAgICAgICAgdm9jb2RlcjogVm9jb2RlckFnZW50LAogICAgICAgIGV4cHJfdm9jb2RlcjogUHJldHNzZWxWb2NvZGVyQWdlbnQsCiAgICApIC0+IE5vbmU6CiAgICAgICAgc2VsZi52b2NvZGVyID0gdm9jb2RlcgogICAgICAgIHNlbGYuZXhwcl92b2NvZGVyID0gZXhwcl92b2NvZGVyCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhhcmdzKQogICAgICAgIHNlbGYuZXhwcmVzc2l2ZSA9IGFyZ3MuZXhwcmVzc2l2ZQoKICAgIGRlZiBidWlsZF9zdGF0ZXMoc2VsZikgLT4gRHVhbFZvY29kZXJTdGF0ZXM6CiAgICAgICAgcmV0dXJuIER1YWxWb2NvZGVyU3RhdGVzKAogICAgICAgICAgICBzZWxmLnZvY29kZXIuYnVpbGRfc3RhdGVzKCksIHNlbGYuZXhwcl92b2NvZGVyLmJ1aWxkX3N0YXRlcygpCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGFkZF9hcmdzKGNscywgcGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBQcmV0c3NlbFZvY29kZXJBZ2VudC5hZGRfYXJncyhwYXJzZXIpCiAgICAgICAgVm9jb2RlckFnZW50LmFkZF9hcmdzKHBhcnNlcikKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1leHByLXZvY29kZXItbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgICAgICBoZWxwPSJleHByZXNzaXZlIHZvY29kZXIgbmFtZSAtIHZvY29kZXJfcHJldHNzZWwgb3Igdm9jb2Rlcl9wcmV0c3NlbF8xNmtoeiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLWV4cHJlc3NpdmUiLAogICAgICAgICAgICBhY3Rpb249InN0b3JlX3RydWUiLAogICAgICAgICAgICBoZWxwPSJXaGV0aGVyIHRvIHVzZSBleHByZXNzaXZlIHZvY29kZXIgKG92ZXJyaWRhYmxlIGluIHNlZ21lbnQuY29uZmlnKSIsCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fYXJncyhjbHMsIGFyZ3M6IE5hbWVzcGFjZSwgKiprd2FyZ3M6IERpY3Rbc3RyLCBBbnldKSAtPiBEdWFsVm9jb2RlckFnZW50OgogICAgICAgIHZvY29kZXIgPSBWb2NvZGVyQWdlbnQuZnJvbV9hcmdzKGFyZ3MpCiAgICAgICAgZXhwcl9hcmdzID0gY29weS5kZWVwY29weShhcmdzKQogICAgICAgIGV4cHJfYXJncy52b2NvZGVyX25hbWUgPSBhcmdzLmV4cHJfdm9jb2Rlcl9uYW1lCiAgICAgICAgZXhwcl92b2NvZGVyID0gUHJldHNzZWxWb2NvZGVyQWdlbnQuZnJvbV9hcmdzKGV4cHJfYXJncykKICAgICAgICByZXR1cm4gY2xzKGFyZ3MsIHZvY29kZXIsIGV4cHJfdm9jb2RlcikKCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogQWdlbnRTdGF0ZXMpIC0+IEFjdGlvbjoKICAgICAgICBleHByZXNzaXZlID0gc2VsZi5leHByZXNzaXZlCiAgICAgICAgaWYgc3RhdGVzLmNvbmZpZyBpcyBub3QgTm9uZSBhbmQgImV4cHJlc3NpdmUiIGluIHN0YXRlcy5jb25maWc6CiAgICAgICAgICAgIGV4cHJlc3NpdmUgPSBzdGF0ZXMuY29uZmlnWyJleHByZXNzaXZlIl0KICAgICAgICBpZiBleHByZXNzaXZlOgogICAgICAgICAgICBzdGF0ZXMuZXhwcl92b2NvZGVyX3N0YXRlcy51cHN0cmVhbV9zdGF0ZXMgPSBzdGF0ZXMudXBzdHJlYW1fc3RhdGVzCiAgICAgICAgICAgIGFjdGlvbiA9IHNlbGYuZXhwcl92b2NvZGVyLnBvbGljeShzdGF0ZXMuZXhwcl92b2NvZGVyX3N0YXRlcykKICAgICAgICAgICAgaWYgbGVuKHN0YXRlcy5leHByX3ZvY29kZXJfc3RhdGVzLnNvdXJjZSkgPT0gMDoKICAgICAgICAgICAgICAgIHN0YXRlcy52b2NvZGVyX3N0YXRlcy5zb3VyY2UgPSBbXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFjdGlvbiA9IHNlbGYudm9jb2Rlci5wb2xpY3koc3RhdGVzLnZvY29kZXJfc3RhdGVzKQogICAgICAgICAgICBpZiBsZW4oc3RhdGVzLnZvY29kZXJfc3RhdGVzLnNvdXJjZSkgPT0gMDoKICAgICAgICAgICAgICAgIHN0YXRlcy5leHByX3ZvY29kZXJfc3RhdGVzLnNvdXJjZSA9IFtdCiAgICAgICAgcmV0dXJuIGFjdGlvbgo='),
    ('seamless/build/lib/seamless_communication/streaming/agents/seamless_streaming_s2st.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmRldG9rZW5pemVyIGltcG9ydCBVbml0WURldG9rZW5pemVyQWdlbnQKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMub2ZmbGluZV93MnZfYmVydF9lbmNvZGVyIGltcG9ydCAoCiAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMub25saW5lX2ZlYXR1cmVfZXh0cmFjdG9yIGltcG9ydCAoCiAgICBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMub25saW5lX3RleHRfZGVjb2RlciBpbXBvcnQgKAogICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLm9ubGluZV91bml0X2RlY29kZXIgaW1wb3J0ICgKICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5vbmxpbmVfdm9jb2RlciBpbXBvcnQgVm9jb2RlckFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnNpbGVyb192YWQgaW1wb3J0IFNpbGVyb1ZBREFnZW50CmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLnVuaXR5X3BpcGVsaW5lIGltcG9ydCAoCiAgICBVbml0WUFnZW50UGlwZWxpbmUsCiAgICBVbml0WUFnZW50VHJlZVBpcGVsaW5lLAopCgoKY2xhc3MgU2VhbWxlc3NTdHJlYW1pbmdTMlNUQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50LAogICAgICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudCwKICAgICAgICBWb2NvZGVyQWdlbnQsCiAgICBdCgoKY2xhc3MgU2VhbWxlc3NTdHJlYW1pbmdTMlNUVkFEQWdlbnQoVW5pdFlBZ2VudFBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gWwogICAgICAgIFNpbGVyb1ZBREFnZW50LAogICAgICAgIE9ubGluZUZlYXR1cmVFeHRyYWN0b3JBZ2VudCwKICAgICAgICBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQsCiAgICAgICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50LAogICAgICAgIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudCwKICAgICAgICBWb2NvZGVyQWdlbnQsCiAgICBdCgoKY2xhc3MgU2VhbWxlc3NTdHJlYW1pbmdTMlNUSm9pbnRWQURBZ2VudChVbml0WUFnZW50VHJlZVBpcGVsaW5lKToKICAgIHBpcGVsaW5lID0gewogICAgICAgIFNpbGVyb1ZBREFnZW50OiBbT25saW5lRmVhdHVyZUV4dHJhY3RvckFnZW50XSwKICAgICAgICBPbmxpbmVGZWF0dXJlRXh0cmFjdG9yQWdlbnQ6IFtPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnRdLAogICAgICAgIE9mZmxpbmVXYXYyVmVjQmVydEVuY29kZXJBZ2VudDogW1VuaXRZTU1BVGV4dERlY29kZXJBZ2VudF0sCiAgICAgICAgVW5pdFlNTUFUZXh0RGVjb2RlckFnZW50OiBbVW5pdFlEZXRva2VuaXplckFnZW50LCBOQVJVbml0WVVuaXREZWNvZGVyQWdlbnRdLAogICAgICAgIFVuaXRZRGV0b2tlbml6ZXJBZ2VudDogW10sCiAgICAgICAgTkFSVW5pdFlVbml0RGVjb2RlckFnZW50OiBbVm9jb2RlckFnZW50XSwKICAgICAgICBWb2NvZGVyQWdlbnQ6IFtdLAogICAgfQo='),
    ('seamless/build/lib/seamless_communication/streaming/agents/online_vocoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBsb2dnaW5nCmZyb20gYXJncGFyc2UgaW1wb3J0IEFyZ3VtZW50UGFyc2VyLCBOYW1lc3BhY2UKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdAoKaW1wb3J0IHRvcmNoCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5sb2FkZXIgaW1wb3J0IGxvYWRfdm9jb2Rlcl9tb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5jb21tb24gaW1wb3J0IEFnZW50U3RhdGVzCmZyb20gc2ltdWxldmFsLmFnZW50cyBpbXBvcnQgVGV4dFRvU3BlZWNoQWdlbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IFJlYWRBY3Rpb24sIFdyaXRlQWN0aW9uCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNwZWVjaFNlZ21lbnQKCmxvZ2dpbmcuYmFzaWNDb25maWcoCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9IiUoYXNjdGltZSlzICUobGV2ZWxuYW1lKXMgLS0gJShuYW1lKXM6ICUobWVzc2FnZSlzIiwKKQoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgVm9jb2RlckFnZW50KFRleHRUb1NwZWVjaEFnZW50KTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oc2VsZiwgYXJnczogTmFtZXNwYWNlKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oYXJncykKCiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgIGYiTG9hZGluZyB0aGUgVm9jb2RlciBtb2RlbDoge2FyZ3Mudm9jb2Rlcl9uYW1lfSBvbiBkZXZpY2U9e2FyZ3MuZGV2aWNlfSwgZHR5cGU9e2FyZ3MuZHR5cGV9IgogICAgICAgICkKICAgICAgICBzZWxmLnZvY29kZXIgPSBsb2FkX3ZvY29kZXJfbW9kZWwoCiAgICAgICAgICAgIGFyZ3Mudm9jb2Rlcl9uYW1lLCBkZXZpY2U9YXJncy5kZXZpY2UsIGR0eXBlPWFyZ3MuZHR5cGUKICAgICAgICApCiAgICAgICAgc2VsZi52b2NvZGVyLmV2YWwoKQoKICAgICAgICBzZWxmLnNhbXBsZV9yYXRlID0gYXJncy5zYW1wbGVfcmF0ZQogICAgICAgIHNlbGYudGd0X2xhbmcgPSBhcmdzLnRndF9sYW5nCiAgICAgICAgc2VsZi5zcGVha2VyX2lkID0gYXJncy52b2NvZGVyX3NwZWFrZXJfaWQKCiAgICBAdG9yY2guaW5mZXJlbmNlX21vZGUoKQogICAgZGVmIHBvbGljeShzZWxmLCBzdGF0ZXM6IEFnZW50U3RhdGVzKSAtPiBXcml0ZUFjdGlvbjoKICAgICAgICAiIiIKICAgICAgICBUaGUgcG9saWN5IGlzIGFsd2F5cyB3cml0ZSBpZiB0aGVyZSBhcmUgdW5pdHMKICAgICAgICAiIiIKICAgICAgICB1bml0cyA9IHN0YXRlcy5zb3VyY2UKCiAgICAgICAgaWYgbGVuKHVuaXRzKSA9PSAwIG9yIGxlbih1bml0c1swXSkgPT0gMDoKICAgICAgICAgICAgaWYgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbihbXSwgZmluaXNoZWQ9VHJ1ZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKCiAgICAgICAgdGd0X2xhbmcgPSBzdGF0ZXMudGd0X2xhbmcgaWYgc3RhdGVzLnRndF9sYW5nIGVsc2Ugc2VsZi50Z3RfbGFuZwogICAgICAgIHUgPSB1bml0c1swXVswXQoKICAgICAgICB3YXYgPSBzZWxmLnZvY29kZXIodSwgdGd0X2xhbmcsIHNlbGYuc3BlYWtlcl9pZCwgZHVyX3ByZWRpY3Rpb249RmFsc2UpCiAgICAgICAgc3RhdGVzLnNvdXJjZSA9IFtdCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigKICAgICAgICAgICAgU3BlZWNoU2VnbWVudCgKICAgICAgICAgICAgICAgIGNvbnRlbnQ9d2F2WzBdWzBdLnRvbGlzdCgpLAogICAgICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlPXNlbGYuc2FtcGxlX3JhdGUsCiAgICAgICAgICAgICAgICB0Z3RfbGFuZz10Z3RfbGFuZywKICAgICAgICAgICAgKSwKICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MoY2xzLCBwYXJzZXI6IEFyZ3VtZW50UGFyc2VyKSAtPiBOb25lOgogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXZvY29kZXItbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSJWb2NvZGVyIG5hbWUuIiwKICAgICAgICAgICAgZGVmYXVsdD0idm9jb2Rlcl92MiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLXZvY29kZXItc3BlYWtlci1pZCIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICByZXF1aXJlZD1GYWxzZSwKICAgICAgICAgICAgZGVmYXVsdD0tMSwKICAgICAgICAgICAgaGVscD0iVm9jb2RlciBzcGVha2VyIGlkIiwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogTmFtZXNwYWNlLCAqKmt3YXJnczogRGljdFtzdHIsIEFueV0pIC0+IFZvY29kZXJBZ2VudDoKICAgICAgICByZXR1cm4gY2xzKGFyZ3MpCg=='),
    ('seamless/build/lib/seamless_communication/streaming/agents/offline_w2v_bert_encoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0CgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBTZXF1ZW5jZURhdGEKZnJvbSBmYWlyc2VxMi5kYXRhLmRhdGFfcGlwZWxpbmUgaW1wb3J0IENvbGxhdGVyCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0IGltcG9ydCBUZXh0VG9rZW5pemVyCmZyb20gZmFpcnNlcTIubW9kZWxzLndhdjJ2ZWMyIGltcG9ydCBXYXYyVmVjMkVuY29kZXJDb25maWcKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0IFVuaXRZTW9kZWwKZnJvbSBzaW11bGV2YWwuYWdlbnRzIGltcG9ydCBTcGVlY2hUb1NwZWVjaEFnZW50CmZyb20gc2ltdWxldmFsLmFnZW50cy5hY3Rpb25zIGltcG9ydCBBY3Rpb24sIFJlYWRBY3Rpb24sIFdyaXRlQWN0aW9uCmZyb20gc2ltdWxldmFsLmRhdGEuc2VnbWVudHMgaW1wb3J0IFNwZWVjaFNlZ21lbnQKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMuY29tbW9uIGltcG9ydCAoCiAgICBBZ2VudFN0YXRlcywKICAgIE5vVXBkYXRlVGFyZ2V0TWl4aW4sCikKCgpjbGFzcyBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQoTm9VcGRhdGVUYXJnZXRNaXhpbiwgU3BlZWNoVG9TcGVlY2hBZ2VudCk6ICAjIHR5cGU6IGlnbm9yZQogICAgIiIiCiAgICBJbmNyZW1lbnRhbCBlbmNvZGluZyBvZiBhbiB3YXYydmVjIGVuY29kZXIgb3V0cHV0CiAgICBJdCB1cGRhdGUgdGhlIHdob2xlIGVuY29kZXIgc3RhdGVzIGV2ZXJ5IHRpbWUgd2hlbiB0aGVyZSBpcyBhIG5ldyBpbmNvbWluZyBzZWdtZW50LgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgdW5pdHlfbW9kZWw6IFVuaXRZTW9kZWwsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2NvbmZpZzogV2F2MlZlYzJFbmNvZGVyQ29uZmlnLAogICAgICAgIHRleHRfdG9rZW5pemVyOiBUZXh0VG9rZW5pemVyLAogICAgICAgIGFyZ3M6IE5hbWVzcGFjZSwKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGFyZ3MpCiAgICAgICAgc2VsZi5tb2RlbCA9IHVuaXR5X21vZGVsCiAgICAgICAgc2VsZi53MnYyX2VuY29kZXJfY29uZmlnID0gdzJ2Ml9lbmNvZGVyX2NvbmZpZwogICAgICAgIHNlbGYuY29sbGF0ZSA9IENvbGxhdGVyKAogICAgICAgICAgICBwYWRfdmFsdWU9dGV4dF90b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4LCBwYWRfdG9fbXVsdGlwbGU9MgogICAgICAgICkKICAgICAgICBzZWxmLmRldmljZSA9IGFyZ3MuZGV2aWNlCiAgICAgICAgc2VsZi5kdHlwZSA9IGFyZ3MuZHR5cGUKICAgICAgICBzZWxmLm1pbl9zdGFydGluZ193YWl0ID0gYXJncy5taW5fc3RhcnRpbmdfd2FpdF93MnZiZXJ0CgogICAgQHByb3BlcnR5CiAgICBkZWYgbWluX2lucHV0X2xlbmd0aChzZWxmKSAtPiBpbnQ6CiAgICAgICAgcmV0dXJuIHNlbGYudzJ2Ml9lbmNvZGVyX2NvbmZpZy5mYmFua19zdHJpZGUKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1taW4tc3RhcnRpbmctd2FpdC13MnZiZXJ0IiwKICAgICAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgaGVscD0iTWluIHN0YXJ0aW5nIHdhaXQgaW4gdzJ2YmVydCIsCiAgICAgICAgKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogQWdlbnRTdGF0ZXMpIC0+IEFjdGlvbjoKICAgICAgICAiIiIKICAgICAgICBUaGUgcG9saWN5IGZvciBlbmNvZGVyIGlzIGFsd2F5cyB3cml0ZQogICAgICAgIG9ubHkgaWYgdGhlIGlucHV0IGlzIHRvbyBzaG9ydAogICAgICAgICIiIgogICAgICAgIGlmICgKICAgICAgICAgICAgc2VsZi5taW5fc3RhcnRpbmdfd2FpdCBpcyBub3QgTm9uZQogICAgICAgICAgICBhbmQgbGVuKHN0YXRlcy5zb3VyY2UpIDwgc2VsZi5taW5fc3RhcnRpbmdfd2FpdAogICAgICAgICAgICBhbmQgbm90IHN0YXRlcy5zb3VyY2VfZmluaXNoZWQKICAgICAgICApOgogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgogICAgICAgIGlmIGxlbihzdGF0ZXMuc291cmNlKSA8IHNlbGYubWluX2lucHV0X2xlbmd0aDoKICAgICAgICAgICAgaWYgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbih7fSwgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKCiAgICAgICAgaW5wdXRzID0gdG9yY2guc3RhY2soc3RhdGVzLnNvdXJjZSkudG8oZGV2aWNlPXNlbGYuZGV2aWNlLCBkdHlwZT1zZWxmLmR0eXBlKQogICAgICAgIHNyYzogU2VxdWVuY2VEYXRhID0gc2VsZi5jb2xsYXRlKGlucHV0cykKCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gZ2V0X3NlcXNfYW5kX3BhZGRpbmdfbWFzayhzcmMpCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQsIF8gPSBzZWxmLm1vZGVsLmVuY29kZV9zcGVlY2goCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICApCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigKICAgICAgICAgICAgU3BlZWNoU2VnbWVudCgKICAgICAgICAgICAgICAgIGNvbnRlbnQ9ZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgICAgICB0Z3RfbGFuZz1zdGF0ZXMudGd0X2xhbmcsCiAgICAgICAgICAgICAgICBmaW5pc2hlZD1zdGF0ZXMuc291cmNlX2ZpbmlzaGVkLAogICAgICAgICAgICApLAogICAgICAgICAgICBmaW5pc2hlZD1zdGF0ZXMuc291cmNlX2ZpbmlzaGVkLAogICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2FyZ3MoCiAgICAgICAgY2xzLCBhcmdzOiBOYW1lc3BhY2UsICoqa3dhcmdzOiBEaWN0W3N0ciwgQW55XQogICAgKSAtPiBPZmZsaW5lV2F2MlZlY0JlcnRFbmNvZGVyQWdlbnQ6CiAgICAgICAgdW5pdHlfbW9kZWwgPSBrd2FyZ3MuZ2V0KCJ1bml0eV9tb2RlbCIsIE5vbmUpCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UodW5pdHlfbW9kZWwsIFVuaXRZTW9kZWwpCiAgICAgICAgdW5pdHlfY29uZmlnID0ga3dhcmdzLmdldCgidW5pdHlfY29uZmlnIiwgTm9uZSkKICAgICAgICBhc3NlcnQgdW5pdHlfY29uZmlnIGlzIG5vdCBOb25lCiAgICAgICAgdGV4dF90b2tlbml6ZXIgPSBrd2FyZ3MuZ2V0KCJ0ZXh0X3Rva2VuaXplciIsIE5vbmUpCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UodGV4dF90b2tlbml6ZXIsIFRleHRUb2tlbml6ZXIpCiAgICAgICAgcmV0dXJuIGNscyh1bml0eV9tb2RlbCwgdW5pdHlfY29uZmlnLncydjJfZW5jb2Rlcl9jb25maWcsIHRleHRfdG9rZW5pemVyLCBhcmdzKQo='),
    ('seamless/build/lib/seamless_communication/streaming/agents/common.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCiIiIgpNaXhpbnMgKyBjb21tb24gZm9yIGZhaXJzZXEyIHNpbXVsZXZhbCBhZ2VudHMKIiIiCgpmcm9tIHNpbXVsZXZhbC5kYXRhLnNlZ21lbnRzIGltcG9ydCBTZWdtZW50CmZyb20gc2ltdWxldmFsLmFnZW50cy5zdGF0ZXMgaW1wb3J0IEFnZW50U3RhdGVzIGFzIEFnZW50U3RhdGVzT3JpZwoKCmNsYXNzIEVhcmx5U3RvcHBpbmdNaXhpbjoKICAgIGRlZiByZXNldF9lYXJseShzZWxmKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIEltcGxlbWVudCB0byBvdmVycmlkZSBmb3IgZGlmZmVyZW50IGJlaGF2aW9yIG9uIGEgcmVzZXQgdGhhdAogICAgICAgIGhhcHBlbnMgYmVmb3JlIEVPUwogICAgICAgICIiIgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoKQoKCmNsYXNzIEFnZW50U3RhdGVzKEFnZW50U3RhdGVzT3JpZyk6ICAjIHR5cGU6IGlnbm9yZQogICAgZGVmIHVwZGF0ZV90YXJnZXQoc2VsZiwgc2VnbWVudDogU2VnbWVudCkgLT4gTm9uZToKICAgICAgICAiIiJBbiBBZ2VudFN0YXRlcyBpbXBsIHdoaWNoIGRvZXNuJ3QgdXBkYXRlIHN0YXRlcy50YXJnZXQiIiIKICAgICAgICBzZWxmLnRhcmdldF9maW5pc2hlZCA9IHNlZ21lbnQuZmluaXNoZWQKCgpjbGFzcyBOb1VwZGF0ZVRhcmdldE1peGluOgogICAgIiIiQSBzaG9ydGN1dCB0byBtYWtlIGFnZW50cyBkZWZhdWx0IHRvIHRoZSBBZ2VudFN0YXRlcyBpbXBsIGFib3ZlIiIiCgogICAgZGVmIGJ1aWxkX3N0YXRlcyhzZWxmKSAtPiBBZ2VudFN0YXRlczoKICAgICAgICByZXR1cm4gQWdlbnRTdGF0ZXMoKQo='),
    ('seamless/build/lib/seamless_communication/streaming/agents/unity_pipeline.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IGxvZ2dpbmcKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBMaXN0LCBPcHRpb25hbCwgVW5pb24KCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZS50cmFuc2xhdG9yIGltcG9ydCBNb2RhbGl0eSwgVHJhbnNsYXRvcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci5sb2FkZXIgaW1wb3J0IGxvYWRfcHJldHNzZWxfdm9jb2Rlcl9tb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci52b2NvZGVyIGltcG9ydCBQcmV0c3NlbFZvY29kZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2RlciBpbXBvcnQgKAogICAgbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9jb25maWcsCiAgICBsb2FkX21vbm90b25pY19kZWNvZGVyX21vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkgaW1wb3J0ICgKICAgIGxvYWRfdW5pdHlfY29uZmlnLAogICAgbG9hZF91bml0eV9tb2RlbCwKICAgIGxvYWRfdW5pdHlfdGV4dF90b2tlbml6ZXIsCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5sb2FkZXIgaW1wb3J0IGxvYWRfdm9jb2Rlcl9tb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIudm9jb2RlciBpbXBvcnQgVm9jb2Rlcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5jb21tb24gaW1wb3J0ICgKICAgIEFnZW50U3RhdGVzLAogICAgRWFybHlTdG9wcGluZ01peGluLAopCmZyb20gc2ltdWxldmFsLmFnZW50cyBpbXBvcnQgQWdlbnRQaXBlbGluZSwgVHJlZUFnZW50UGlwZWxpbmUKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFnZW50IGltcG9ydCBHZW5lcmljQWdlbnQKZnJvbSBzaW11bGV2YWwuZGF0YS5zZWdtZW50cyBpbXBvcnQgU2VnbWVudAoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgbWF5YmVfcmVzZXRfc3RhdGVzKHN0YXRlczogT3B0aW9uYWxbTGlzdFtPcHRpb25hbFtBZ2VudFN0YXRlc11dXSkgLT4gTm9uZToKICAgIGFzc2VydCBzdGF0ZXMgaXMgbm90IE5vbmUKICAgIGZvciBzIGluIHN0YXRlczoKICAgICAgICBpZiBzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKHMsIEVhcmx5U3RvcHBpbmdNaXhpbik6CiAgICAgICAgICAgICAgICBzLnJlc2V0X2Vhcmx5KCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHMucmVzZXQoKQoKCmNsYXNzIFVuaXRZUGlwZWxpbmVNaXhpbjoKICAgICIiIgogICAgTWl4aW4gZm9yIFVuaXRZIHBpcGVsaW5lIHdoaWNoIHdvcmtzIHdpdGggYm90aCBBZ2VudFBpcGVsaW5lCiAgICBhbmQgVHJlZUFnZW50UGlwZWxpbmUKICAgICIiIgoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGFkZF9hcmdzKGNscywgcGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBzdXBlcigpLmFkZF9hcmdzKHBhcnNlcikgICMgdHlwZTogaWdub3JlCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS10YXNrIiwgdHlwZT1zdHIsIGhlbHA9IlRhc2sgdHlwZSIpCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tdW5pdHktbW9kZWwtbmFtZSIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSJVbml0eSBtb2RlbCBuYW1lLiIsCiAgICAgICAgICAgIGRlZmF1bHQ9InNlYW1sZXNzX3N0cmVhbWluZ191bml0eSIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW1vbm90b25pYy1kZWNvZGVyLW1vZGVsLW5hbWUiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgaGVscD0iTW9ub3RvbmljIGRlY29kZXIgbW9kZWwgbmFtZS4iLAogICAgICAgICAgICBkZWZhdWx0PSJzZWFtbGVzc19zdHJlYW1pbmdfbW9ub3RvbmljX2RlY29kZXIiLAogICAgICAgICkKCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tc2FtcGxlLXJhdGUiLAogICAgICAgICAgICBkZWZhdWx0PTE2MDAwLAogICAgICAgICAgICB0eXBlPWZsb2F0LAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kdHlwZSIsCiAgICAgICAgICAgIGNob2ljZXM9WyJmcDE2IiwgImZwMzIiXSwKICAgICAgICAgICAgZGVmYXVsdD0iZnAxNiIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICBoZWxwPSgKICAgICAgICAgICAgICAgICJDaG9vc2UgYmV0d2VlbiBoYWxmLXByZWNpc2lvbiAoZnAxNikgYW5kIHNpbmdsZSBwcmVjaXNpb24gKGZwMzIpIGZsb2F0aW5nIHBvaW50IGZvcm1hdHMuIgogICAgICAgICAgICAgICAgKyAiIFByZWZlciB0aGlzIG92ZXIgdGhlIGZwMTYgZmxhZy4iCiAgICAgICAgICAgICksCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGxvYWRfbW9kZWwoY2xzLCBhcmdzOiBOYW1lc3BhY2UpIC0+IERpY3Rbc3RyLCBBbnldOgogICAgICAgIGlmIG5vdCB0b3JjaC5jdWRhLmlzX2F2YWlsYWJsZSgpIGFuZCAiY3VkYSIgaW4gYXJncy5kZXZpY2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkNVREEgbm90IGF2YWlsYWJsZSwgdXNlIENQVS4iKQoKICAgICAgICBhcmdzLmRldmljZSA9IHRvcmNoLmRldmljZShhcmdzLmRldmljZSkKICAgICAgICBpZiAoYXJncy5mcDE2IG9yIGFyZ3MuZHR5cGUgPT0gImZwMTYiKSBhbmQgYXJncy5kZXZpY2UgIT0gdG9yY2guZGV2aWNlKCJjcHUiKToKICAgICAgICAgICAgYXJncy5kdHlwZSA9IHRvcmNoLmZsb2F0MTYKICAgICAgICBlbHNlOgogICAgICAgICAgICBhcmdzLmR0eXBlID0gdG9yY2guZmxvYXQzMgoKICAgICAgICBpbnB1dF9tb2RhbGl0eSwgb3V0cHV0X21vZGFsaXR5ID0gVHJhbnNsYXRvci5nZXRfbW9kYWxpdGllc19mcm9tX3Rhc2tfc3RyKAogICAgICAgICAgICBhcmdzLnRhc2sKICAgICAgICApCgogICAgICAgIGlmIGlucHV0X21vZGFsaXR5ICE9IE1vZGFsaXR5LlNQRUVDSDoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiYFVuaXRZQWdlbnRQaXBlbGluZWAgb25seSBzdXBwb3J0cyBzcGVlY2ggaW5wdXQuIikKCiAgICAgICAgdW5pdHlfY29uZmlnID0gbG9hZF91bml0eV9jb25maWcoYXJncy51bml0eV9tb2RlbF9uYW1lKQogICAgICAgIHVuaXR5X2NvbmZpZy51c2VfdGV4dF9kZWNvZGVyID0gRmFsc2UKICAgICAgICB1bml0eV9jb25maWcudXNlX3RleHRfZW5jb2RlciA9IEZhbHNlCgogICAgICAgIHRleHRfdG9rZW5pemVyID0gbG9hZF91bml0eV90ZXh0X3Rva2VuaXplcihhcmdzLnVuaXR5X21vZGVsX25hbWUpCgogICAgICAgICMgU2tpcCBsb2FkaW5nIHRoZSBUMlUgbW9kZWwuCiAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlRFWFQ6CiAgICAgICAgICAgIHVuaXR5X2NvbmZpZy50MnVfY29uZmlnID0gTm9uZQogICAgICAgICAgICB1bml0X3Rva2VuaXplciA9IE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICB1bml0X3Rva2VuaXplciA9IGxvYWRfdW5pdHlfdW5pdF90b2tlbml6ZXIoYXJncy51bml0eV9tb2RlbF9uYW1lKQoKICAgICAgICBhc3NldF9jYXJkID0gYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChhcmdzLnVuaXR5X21vZGVsX25hbWUpCiAgICAgICAgYXNzZXRfY2FyZC5maWVsZCgibW9kZWxfY29uZmlnIikuc2V0KHVuaXR5X2NvbmZpZykKCiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgIGYiTG9hZGluZyB0aGUgVW5pdFkgbW9kZWw6IHthcmdzLnVuaXR5X21vZGVsX25hbWV9IG9uIGRldmljZT17YXJncy5kZXZpY2V9LCBkdHlwZT17YXJncy5kdHlwZX0iCiAgICAgICAgKQogICAgICAgIHVuaXR5X21vZGVsID0gbG9hZF91bml0eV9tb2RlbChhc3NldF9jYXJkLCBkZXZpY2U9YXJncy5kZXZpY2UsIGR0eXBlPWFyZ3MuZHR5cGUpCiAgICAgICAgdW5pdHlfbW9kZWwuZXZhbCgpCgogICAgICAgIG1vbm90b25pY19kZWNvZGVyX2NvbmZpZyA9IGxvYWRfbW9ub3RvbmljX2RlY29kZXJfY29uZmlnKAogICAgICAgICAgICBhcmdzLm1vbm90b25pY19kZWNvZGVyX21vZGVsX25hbWUKICAgICAgICApCiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgIGYiTG9hZGluZyB0aGUgTW9ub3RvbmljIERlY29kZXIgbW9kZWw6IHthcmdzLm1vbm90b25pY19kZWNvZGVyX21vZGVsX25hbWV9IG9uIGRldmljZT17YXJncy5kZXZpY2V9LCBkdHlwZT17YXJncy5kdHlwZX0iCiAgICAgICAgKQogICAgICAgIG1vbm90b25pY19kZWNvZGVyX21vZGVsID0gbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCgKICAgICAgICAgICAgYXJncy5tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbF9uYW1lLCBkZXZpY2U9YXJncy5kZXZpY2UsIGR0eXBlPWFyZ3MuZHR5cGUKICAgICAgICApCiAgICAgICAgbW9ub3RvbmljX2RlY29kZXJfbW9kZWwuZXZhbCgpCgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJ1bml0eV9tb2RlbCI6IHVuaXR5X21vZGVsLAogICAgICAgICAgICAidW5pdHlfY29uZmlnIjogdW5pdHlfY29uZmlnLAogICAgICAgICAgICAibW9ub3RvbmljX2RlY29kZXJfbW9kZWwiOiBtb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCwKICAgICAgICAgICAgIm1vbm90b25pY19kZWNvZGVyX2NvbmZpZyI6IG1vbm90b25pY19kZWNvZGVyX2NvbmZpZywKICAgICAgICAgICAgInRleHRfdG9rZW5pemVyIjogdGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgICJ1bml0X3Rva2VuaXplciI6IHVuaXRfdG9rZW5pemVyLAogICAgICAgIH0KCgpjbGFzcyBVbml0WUFnZW50UGlwZWxpbmUoVW5pdFlQaXBlbGluZU1peGluLCBBZ2VudFBpcGVsaW5lKTogICMgdHlwZTogaWdub3JlCiAgICBwaXBlbGluZTogTGlzdFtHZW5lcmljQWdlbnRdID0gW10KCiAgICBkZWYgX19pbml0X18oc2VsZiwgYXJnczogTmFtZXNwYWNlKToKICAgICAgICBtb2RlbHNfYW5kX2NvbmZpZ3MgPSBzZWxmLmxvYWRfbW9kZWwoYXJncykKCiAgICAgICAgbW9kdWxlX2xpc3QgPSBbXQogICAgICAgIGZvciBwIGluIHNlbGYucGlwZWxpbmU6CiAgICAgICAgICAgIG1vZHVsZV9saXN0LmFwcGVuZCgKICAgICAgICAgICAgICAgIHAuZnJvbV9hcmdzKAogICAgICAgICAgICAgICAgICAgIGFyZ3MsCiAgICAgICAgICAgICAgICAgICAgKiptb2RlbHNfYW5kX2NvbmZpZ3MsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhtb2R1bGVfbGlzdCkKCiAgICBkZWYgcG9wKHNlbGYsIHN0YXRlczogT3B0aW9uYWxbTGlzdFtPcHRpb25hbFtBZ2VudFN0YXRlc11dXSA9IE5vbmUpIC0+IFNlZ21lbnQ6CiAgICAgICAgb3V0cHV0X3NlZ21lbnQgPSBzdXBlcigpLnBvcChzdGF0ZXMpCiAgICAgICAgaWYgc3RhdGVzIGlzIE5vbmU6CiAgICAgICAgICAgICMgTm90IHN0YXRlbGVzcwogICAgICAgICAgICBmaXJzdF9zdGF0ZXMgPSBzZWxmLm1vZHVsZV9saXN0WzBdLnN0YXRlcwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFzc2VydCBsZW4oc3RhdGVzKSA9PSBsZW4oc2VsZi5tb2R1bGVfbGlzdCkKICAgICAgICAgICAgZmlyc3Rfc3RhdGVzID0gc3RhdGVzWzBdCgogICAgICAgIGlmIG5vdCBmaXJzdF9zdGF0ZXMuc291cmNlX2ZpbmlzaGVkIGFuZCBvdXRwdXRfc2VnbWVudC5maW5pc2hlZDoKICAgICAgICAgICAgIyBBbiBlYXJseSBzdG9wLgogICAgICAgICAgICAjIFRoZSB0ZW1wb3Jhcnkgc29sdXRpb24gaXMgdG8gc3RhcnQgb3ZlcgogICAgICAgICAgICBpZiBzdGF0ZXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBtYXliZV9yZXNldF9zdGF0ZXMoc3RhdGVzKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5yZXNldCgpCiAgICAgICAgICAgIG91dHB1dF9zZWdtZW50LmZpbmlzaGVkID0gRmFsc2UKCiAgICAgICAgcmV0dXJuIG91dHB1dF9zZWdtZW50CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogQW55KSAtPiBVbml0WUFnZW50UGlwZWxpbmU6CiAgICAgICAgcmV0dXJuIGNscyhhcmdzKQoKCmNsYXNzIFVuaXRZQWdlbnRUcmVlUGlwZWxpbmUoVW5pdFlQaXBlbGluZU1peGluLCBUcmVlQWdlbnRQaXBlbGluZSk6ICAjIHR5cGU6IGlnbm9yZQogICAgcGlwZWxpbmU6IEFueSA9IHt9CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFyZ3M6IE5hbWVzcGFjZSk6CiAgICAgICAgbW9kZWxzX2FuZF9jb25maWdzID0gc2VsZi5sb2FkX21vZGVsKGFyZ3MpCgogICAgICAgIGFzc2VydCBsZW4oc2VsZi5waXBlbGluZSkgPiAwCiAgICAgICAgbW9kdWxlX2RpY3QgPSB7fQogICAgICAgIGZvciBtb2R1bGVfY2xhc3MsIGNoaWxkcmVuIGluIHNlbGYucGlwZWxpbmUuaXRlbXMoKToKICAgICAgICAgICAgbW9kdWxlX2RpY3RbbW9kdWxlX2NsYXNzLmZyb21fYXJncyhhcmdzLCAqKm1vZGVsc19hbmRfY29uZmlncyldID0gY2hpbGRyZW4KCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhtb2R1bGVfZGljdCwgYXJncykKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2FyZ3MoY2xzLCBhcmdzOiBBbnkpIC0+IFVuaXRZQWdlbnRQaXBlbGluZToKICAgICAgICByZXR1cm4gY2xzKGFyZ3MpCgogICAgZGVmIHBvcCgKICAgICAgICBzZWxmLCBzdGF0ZXM6IE9wdGlvbmFsW0xpc3RbT3B0aW9uYWxbQWdlbnRTdGF0ZXNdXV0gPSBOb25lCiAgICApIC0+IExpc3RbU2VnbWVudF06CiAgICAgICAgb3V0cHV0X3NlZ21lbnQgPSBzdXBlcigpLnBvcChzdGF0ZXMpCiAgICAgICAgaWYgc3RhdGVzIGlzIE5vbmU6CiAgICAgICAgICAgICMgTm90IHN0YXRlbGVzcwogICAgICAgICAgICBmaXJzdF9zdGF0ZXMgPSBzZWxmLnNvdXJjZV9tb2R1bGUuc3RhdGVzCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYXNzZXJ0IGxlbihzdGF0ZXMpID09IGxlbihzZWxmLm1vZHVsZV9kaWN0KQogICAgICAgICAgICBmaXJzdF9zdGF0ZXMgPSBzdGF0ZXNbc2VsZi5zb3VyY2VfbW9kdWxlXQoKICAgICAgICBpZiBpc2luc3RhbmNlKG91dHB1dF9zZWdtZW50LCBsaXN0KToKICAgICAgICAgICAgZmluaXNoZWQgPSBhbnkoc2VnbWVudC5maW5pc2hlZCBmb3Igc2VnbWVudCBpbiBvdXRwdXRfc2VnbWVudCkKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIGNhc2Ugd2hlbiBvdXRwdXRfaW5kZXggaXMgdXNlZAogICAgICAgICAgICBmaW5pc2hlZCA9IG91dHB1dF9zZWdtZW50LmZpbmlzaGVkCiAgICAgICAgaWYgbm90IGZpcnN0X3N0YXRlcy5zb3VyY2VfZmluaXNoZWQgYW5kIGZpbmlzaGVkOgogICAgICAgICAgICAjIEFuIGVhcmx5IHN0b3AuCiAgICAgICAgICAgICMgVGhlIHRlbXBvcmFyeSBzb2x1dGlvbiBpcyB0byBzdGFydCBvdmVyCiAgICAgICAgICAgIGlmIHN0YXRlcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIG1heWJlX3Jlc2V0X3N0YXRlcyhzdGF0ZXMpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLnJlc2V0KCkKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShvdXRwdXRfc2VnbWVudCwgbGlzdCk6CiAgICAgICAgICAgICAgICBmb3Igc2VnbWVudCBpbiBvdXRwdXRfc2VnbWVudDoKICAgICAgICAgICAgICAgICAgICBzZWdtZW50LmZpbmlzaGVkID0gRmFsc2UKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG91dHB1dF9zZWdtZW50LmZpbmlzaGVkID0gRmFsc2UKCiAgICAgICAgcmV0dXJuIG91dHB1dF9zZWdtZW50ICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQo='),
    ('seamless/build/lib/seamless_communication/streaming/agents/online_unit_decoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBMaXN0LCBPcHRpb25hbAoKaW1wb3J0IHRvcmNoCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0IFVuaXRZTW9kZWwsIFVuaXRZTkFSVDJVTW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS51bml0X3Rva2VuaXplciBpbXBvcnQgVW5pdFRva2VuaXplcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24uc3RyZWFtaW5nLmFnZW50cy5vbmxpbmVfdGV4dF9kZWNvZGVyIGltcG9ydCAoCiAgICBVbml0WVRleHREZWNvZGVyT3V0cHV0LAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5zdHJlYW1pbmcuYWdlbnRzLmNvbW1vbiBpbXBvcnQgQWdlbnRTdGF0ZXMKZnJvbSBzaW11bGV2YWwuYWdlbnRzIGltcG9ydCBHZW5lcmljQWdlbnQKZnJvbSBzaW11bGV2YWwuYWdlbnRzLmFjdGlvbnMgaW1wb3J0IEFjdGlvbiwgUmVhZEFjdGlvbiwgV3JpdGVBY3Rpb24KZnJvbSBzaW11bGV2YWwuZGF0YS5zZWdtZW50cyBpbXBvcnQgU2VnbWVudCwgVGV4dFNlZ21lbnQKCgpjbGFzcyBOQVJVbml0RGVjb2RlckFnZW50U3RhdGVzKEFnZW50U3RhdGVzKTogICMgdHlwZTogaWdub3JlCiAgICBkZWYgcmVzZXQoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLnNvdXJjZV90b2tlbl9saXN0OiBMaXN0W3N0cl0gPSBbXQogICAgICAgIHNlbGYuc291cmNlX2luZGljZXM6IE9wdGlvbmFsW3RvcmNoLlRlbnNvcl0gPSBOb25lCiAgICAgICAgc2VsZi5kdXJhdGlvbl9zdGFydF9pbmRleDogaW50ID0gMAogICAgICAgIHNlbGYudGd0X2xhbmcgPSBOb25lCiAgICAgICAgc3VwZXIoKS5yZXNldCgpCgogICAgZGVmIHVwZGF0ZV9zb3VyY2Uoc2VsZiwgc2VnbWVudDogU2VnbWVudCkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICBVcGRhdGUgc3RhdGVzIGZyb20gaW5wdXQgc2VnbWVudAogICAgICAgIEFkZGl0aW9ubGx5IHVwZGF0ZSBpbmNyZW1lbnRhbCBzdGF0ZXMKCiAgICAgICAgQXJnczoKICAgICAgICAgICAgc2VnbWVudCAofnNpbXVsZXZhbC5hZ2VudHMuc2VnbWVudHMuU2VnbWVudCk6IGlucHV0IHNlZ21lbnQKICAgICAgICAiIiIKICAgICAgICBzZWxmLnNvdXJjZV9maW5pc2hlZCA9IHNlZ21lbnQuZmluaXNoZWQKICAgICAgICBpZiBzZWxmLnRndF9sYW5nIGlzIE5vbmUgYW5kIHNlZ21lbnQudGd0X2xhbmcgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYudGd0X2xhbmcgPSBzZWdtZW50LnRndF9sYW5nCiAgICAgICAgaWYgc2VnbWVudC5pc19lbXB0eToKICAgICAgICAgICAgaWYgc2VnbWVudC5maW5pc2hlZDoKICAgICAgICAgICAgICAgIHNlbGYudGFyZ2V0X2ZpbmlzaGVkID0gVHJ1ZQogICAgICAgICAgICByZXR1cm4KICAgICAgICBzZWdtZW50X2NvbnRlbnQ6IFVuaXRZVGV4dERlY29kZXJPdXRwdXQgPSBzZWdtZW50LmNvbnRlbnQKICAgICAgICBjb250ZW50ID0gc2VnbWVudF9jb250ZW50LmRlY29kZXJfZmVhdHVyZXMKICAgICAgICB0b2tlbiA9IHNlZ21lbnRfY29udGVudC50b2tlbnMKICAgICAgICBzZWxmLnNvdXJjZV9pbmRpY2VzID0gc2VnbWVudF9jb250ZW50LnRhcmdldF9pbmRpY2VzCiAgICAgICAgc2VsZi5zb3VyY2VfdG9rZW5fbGlzdCArPSB0b2tlbgogICAgICAgIHNlbGYuc291cmNlID0gY29udGVudAoKCmNsYXNzIE5BUlVuaXRZVW5pdERlY29kZXJBZ2VudChHZW5lcmljQWdlbnQpOiAgIyB0eXBlOiBpZ25vcmUKICAgICIiIk5vbi1hdXRvcmVncmVzc2l2ZSB1bml0IGRlY29kZXIiIiIKCiAgICBzb3VyY2VfdHlwZSA9ICJ0ZXh0IgogICAgdGFyZ2V0X3R5cGUgPSAidGV4dCIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgbW9kZWw6IFVuaXRZTkFSVDJVTW9kZWwsIHRva2VuaXplcjogVW5pdFRva2VuaXplciwgYXJnczogTmFtZXNwYWNlCiAgICApIC0+IE5vbmU6CiAgICAgICAgc2VsZi5tb2RlbCA9IG1vZGVsCiAgICAgICAgc2VsZi50b2tlbml6ZXIgPSB0b2tlbml6ZXIKICAgICAgICBzZWxmLm1pbl91bml0X2NodW5rX3NpemUgPSBhcmdzLm1pbl91bml0X2NodW5rX3NpemUKICAgICAgICBzZWxmLmRfZmFjdG9yID0gYXJncy5kX2ZhY3RvcgogICAgICAgIHNlbGYuZGV2aWNlID0gYXJncy5kZXZpY2UKICAgICAgICBzZWxmLmR0eXBlID0gYXJncy5kdHlwZQogICAgICAgIHNlbGYudG9rZW5fZGVjb2RlciA9IHNlbGYudG9rZW5pemVyLmNyZWF0ZV9kZWNvZGVyKCkKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGFyZ3MpCgogICAgZGVmIGJ1aWxkX3N0YXRlcyhzZWxmKSAtPiBOQVJVbml0RGVjb2RlckFnZW50U3RhdGVzOgogICAgICAgIHJldHVybiBOQVJVbml0RGVjb2RlckFnZW50U3RhdGVzKCkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBtYXhfbGVuKHNlbGYpIC0+IGludDoKICAgICAgICByZXR1cm4gMjAwCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGFkZF9hcmdzKHBhcnNlcjogQXJndW1lbnRQYXJzZXIpIC0+IE5vbmU6CiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tbWluLXVuaXQtY2h1bmstc2l6ZSIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICByZXF1aXJlZD1UcnVlLAogICAgICAgICAgICBoZWxwPSJNaW5pbWFsIHVuaXRzIHRvIHByb2R1Y2UgZXZlcnkgY2h1bmsiLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kLWZhY3RvciIsCiAgICAgICAgICAgIHR5cGU9ZmxvYXQsCiAgICAgICAgICAgIGRlZmF1bHQ9MS4wLAogICAgICAgICAgICBoZWxwPSJzY2FsaW5nIGZhY3RvciBmb3IgZHVyYXRpb24gcHJlZGljdGlvbiIsCiAgICAgICAgKQoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogTkFSVW5pdERlY29kZXJBZ2VudFN0YXRlcykgLT4gQWN0aW9uOgogICAgICAgIGlmIHN0YXRlcy50YXJnZXRfZmluaXNoZWQ6CiAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigiIiwgZmluaXNoZWQ9VHJ1ZSkKCiAgICAgICAgaWYgbGVuKHN0YXRlcy5zb3VyY2VfdG9rZW5fbGlzdCkgPCAyOgogICAgICAgICAgICBpZiBub3Qgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigiIiwgZmluaXNoZWQ9VHJ1ZSkKCiAgICAgICAgbW9kZWxfb3V0cHV0LCBfLCBkdXJhdGlvbnMgPSBzZWxmLm1vZGVsKAogICAgICAgICAgICB0ZXh0X2RlY29kZXJfb3V0cHV0PXN0YXRlcy5zb3VyY2UsCiAgICAgICAgICAgIHRleHRfZGVjb2Rlcl9wYWRkaW5nX21hc2s9Tm9uZSwKICAgICAgICAgICAgdGV4dF9zZXFzPXN0YXRlcy5zb3VyY2VfaW5kaWNlcywKICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yPXNlbGYuZF9mYWN0b3IsCiAgICAgICAgKQogICAgICAgIGR1cmF0aW9ucyA9IGR1cmF0aW9uc1swXQoKICAgICAgICBpZiBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkIGFuZCBzdGF0ZXMuZHVyYXRpb25fc3RhcnRfaW5kZXggPiAwOgogICAgICAgICAgICAjIFdlIGhhdmUgdG8gY29uc2lkZXIgb25lIG1vcmUgd29yZCBmb3IgRU9TLCBiZWNhdXNlIHdlIGFwcGVuZCBhbiBFT1MgYXQgdGhlIGVuZC4KICAgICAgICAgICAgaWYgc3VtKGR1cmF0aW9uc1tzdGF0ZXMuZHVyYXRpb25fc3RhcnRfaW5kZXggOl0pID09IDA6CiAgICAgICAgICAgICAgICAjIElmIHlvdSByZWFjaCBoZXJlLCBpdCBtZWFucyB0aGF0IHRoZSBsYXN0IHNvdXJjZSB0b2tlbiBpcyBhIHNpbGVuY2UgdG9rZW4gKGUuZy4gcHVuY3R1YXRpb25zKQogICAgICAgICAgICAgICAgIyBJbiB0aGF0IGNhc2Ugbm8gbmVlZCB0byBjb25zaWRlciBvbmUgbW9yZSB0b2tlbi4KICAgICAgICAgICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigiIiwgZmluaXNoZWQ9VHJ1ZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHN0YXRlcy5kdXJhdGlvbl9zdGFydF9pbmRleCA9IG1heChzdGF0ZXMuZHVyYXRpb25fc3RhcnRfaW5kZXggLSAxLCAwKQoKICAgICAgICBjdXJyZW50X2R1cmF0aW9uID0gc3VtKGR1cmF0aW9uc1tzdGF0ZXMuZHVyYXRpb25fc3RhcnRfaW5kZXggOl0pCgogICAgICAgIGlmIGN1cnJlbnRfZHVyYXRpb24gPCBzZWxmLm1pbl91bml0X2NodW5rX3NpemU6CiAgICAgICAgICAgIGlmIG5vdCBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkOgogICAgICAgICAgICAgICAgIyBpZiBjdXJyZW50IHVudHJhbnNsYXRlZCBzb3VyY2UgcmVzdWx0IGxlc3MgdGhhbiBzZWxmLm1pbl91bml0X2NodW5rX3NpemUgdW5pdHMKICAgICAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlmIGN1cnJlbnRfZHVyYXRpb24gPT0gMDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gV3JpdGVBY3Rpb24oIiIsIGZpbmlzaGVkPVRydWUpCgogICAgICAgIHVuaXRfc2VxcyA9IG1vZGVsX291dHB1dC5sb2dpdHNbMF0uYXJnbWF4KGRpbT0tMSkKICAgICAgICBpbmRleF9zdGFydF9vZmZzZXQgPSBzdW0oZHVyYXRpb25zWzogc3RhdGVzLmR1cmF0aW9uX3N0YXJ0X2luZGV4XSkKICAgICAgICB1bml0X3NlcXMgPSB1bml0X3NlcXNbaW5kZXhfc3RhcnRfb2Zmc2V0Ol0udW5zcXVlZXplKDApCiAgICAgICAgdW5pdHMgPSBzZWxmLnRva2VuX2RlY29kZXIodW5pdF9zZXFzKQoKICAgICAgICAjIG1pbnVzIG9uZSBiZWNhdXNlIHdlIGFkZCBhIGVuZGluZ190b2tlbiBvbiBlYWNoIHMydCBvdXRwdXQgcGhyYXNlCiAgICAgICAgc3RhdGVzLmR1cmF0aW9uX3N0YXJ0X2luZGV4ID0gbGVuKGR1cmF0aW9ucykgLSAxCgogICAgICAgIHJldHVybiBXcml0ZUFjdGlvbigKICAgICAgICAgICAgVGV4dFNlZ21lbnQoCiAgICAgICAgICAgICAgICBjb250ZW50PXVuaXRzLAogICAgICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICAgICAgICAgIHRndF9sYW5nPXN0YXRlcy50Z3RfbGFuZywKICAgICAgICAgICAgKSwKICAgICAgICAgICAgZmluaXNoZWQ9c3RhdGVzLnNvdXJjZV9maW5pc2hlZCwKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9hcmdzKGNscywgYXJnczogTmFtZXNwYWNlLCAqKmt3YXJnczogQW55KSAtPiBOQVJVbml0WVVuaXREZWNvZGVyQWdlbnQ6CiAgICAgICAgdW5pdHlfbW9kZWw6IFVuaXRZTW9kZWwgPSBrd2FyZ3MuZ2V0KCJ1bml0eV9tb2RlbCIsIE5vbmUpCiAgICAgICAgdW5pdF90b2tlbml6ZXI6IFVuaXRUb2tlbml6ZXIgPSBrd2FyZ3MuZ2V0KCJ1bml0X3Rva2VuaXplciIsIE5vbmUpCiAgICAgICAgYXNzZXJ0IHVuaXR5X21vZGVsLnQydV9tb2RlbCBpcyBub3QgTm9uZSBhbmQgaXNpbnN0YW5jZSgKICAgICAgICAgICAgdW5pdHlfbW9kZWwudDJ1X21vZGVsLCBVbml0WU5BUlQyVU1vZGVsCiAgICAgICAgKQogICAgICAgIHJldHVybiBjbHMobW9kZWw9dW5pdHlfbW9kZWwudDJ1X21vZGVsLCB0b2tlbml6ZXI9dW5pdF90b2tlbml6ZXIsIGFyZ3M9YXJncykK'),
    ('seamless/build/lib/seamless_communication/streaming/agents/online_text_decoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBhcmdwYXJzZSBpbXBvcnQgQXJndW1lbnRQYXJzZXIsIE5hbWVzcGFjZQpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgTGlzdCwgT3B0aW9uYWwsIFNldCwgVHVwbGUKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiLnRva2VuaXplciBpbXBvcnQgTmxsYlRva2VuaXplcgpmcm9tIGZhaXJzZXEyLm5uLmluY3JlbWVudGFsX3N0YXRlIGltcG9ydCBJbmNyZW1lbnRhbFN0YXRlQmFnCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMubW9ub3RvbmljX2RlY29kZXIgaW1wb3J0ICgKICAgIE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICBNb25vdG9uaWNEZWNvZGVyTW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnN0cmVhbWluZy5hZ2VudHMuY29tbW9uIGltcG9ydCBBZ2VudFN0YXRlcwpmcm9tIHNpbXVsZXZhbC5hZ2VudHMgaW1wb3J0IEdlbmVyaWNBZ2VudApmcm9tIHNpbXVsZXZhbC5hZ2VudHMuYWN0aW9ucyBpbXBvcnQgQWN0aW9uLCBSZWFkQWN0aW9uLCBXcml0ZUFjdGlvbgpmcm9tIHNpbXVsZXZhbC5kYXRhLnNlZ21lbnRzIGltcG9ydCBTZWdtZW50LCBUZXh0U2VnbWVudApmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKCgpjbGFzcyBEZWNvZGVyQWdlbnRTdGF0ZXMoQWdlbnRTdGF0ZXMpOiAgIyB0eXBlOiBpZ25vcmUKICAgIGRlZiByZXNldChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuc291cmNlX2xlbiA9IDAKICAgICAgICBzZWxmLnRhcmdldF9pbmRpY2VzOiBMaXN0W2ludF0gPSBbXQogICAgICAgIHNlbGYudGd0X2xhbmcgPSBOb25lCiAgICAgICAgc2VsZi5uZ3JhbV9ibG9ja19jb3VudCA9IDAKICAgICAgICBzdXBlcigpLnJlc2V0KCkKCiAgICBkZWYgdXBkYXRlX3NvdXJjZShzZWxmLCBzZWdtZW50OiBTZWdtZW50KSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIFVwZGF0ZSBzdGF0ZXMgZnJvbSBpbnB1dCBzZWdtZW50CiAgICAgICAgQWRkaXRpb25sbHkgdXBkYXRlIGluY3JlbWVudGFsIHN0YXRlcwoKICAgICAgICBBcmdzOgogICAgICAgICAgICBzZWdtZW50ICh+c2ltdWxldmFsLmFnZW50cy5zZWdtZW50cy5TZWdtZW50KTogaW5wdXQgc2VnbWVudAogICAgICAgICIiIgogICAgICAgIHNlbGYuc291cmNlX2ZpbmlzaGVkID0gc2VnbWVudC5maW5pc2hlZAogICAgICAgIGlmIHNlbGYudGd0X2xhbmcgaXMgTm9uZSBhbmQgc2VnbWVudC50Z3RfbGFuZyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi50Z3RfbGFuZyA9IHNlZ21lbnQudGd0X2xhbmcKICAgICAgICBpZiBub3Qgc2VnbWVudC5pc19lbXB0eToKICAgICAgICAgICAgc2VsZi5zb3VyY2UgPSBzZWdtZW50LmNvbnRlbnQKICAgICAgICAgICAgaWYgbGVuKHNlbGYuc291cmNlKSA9PSAwIGFuZCBzZWdtZW50LmZpbmlzaGVkOgogICAgICAgICAgICAgICAgc2VsZi50YXJnZXRfZmluaXNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgc2VsZi5zb3VyY2VfbGVuID0gc2VsZi5zb3VyY2Uuc2l6ZSgxKQoKCmNsYXNzIE9ubGluZVRleHREZWNvZGVyQWdlbnQoR2VuZXJpY0FnZW50KTogICMgdHlwZTogaWdub3JlCiAgICAiIiIKICAgIE9ubGluZSB0ZXh0IGRlY29kZXIKICAgICIiIgoKICAgIHRhcmdldF90eXBlID0gInRleHQiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWw6IE1vbm90b25pY0RlY29kZXJNb2RlbCwKICAgICAgICBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IE5sbGJUb2tlbml6ZXIsCiAgICAgICAgYXJnczogTmFtZXNwYWNlLAogICAgKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oYXJncykKICAgICAgICBzZWxmLm1vZGVsID0gbW9kZWwKICAgICAgICBzZWxmLmNvbmZpZyA9IGNvbmZpZwogICAgICAgIHNlbGYudGV4dF90b2tlbml6ZXIgPSB0ZXh0X3Rva2VuaXplcgoKICAgICAgICBzZWxmLm1heF9sZW5fYTogaW50ID0gYXJncy5tYXhfbGVuX2EKICAgICAgICBzZWxmLm1heF9sZW5fYjogaW50ID0gYXJncy5tYXhfbGVuX2IKICAgICAgICBzZWxmLm1heF9jb25zZWN1dGl2ZV93cml0ZXMgPSBzZWxmLmFyZ3MubWF4X2NvbnNlY3V0aXZlX3dyaXRlCiAgICAgICAgc2VsZi5taW5fc3RhcnRpbmdfd2FpdCA9IGFyZ3MubWluX3N0YXJ0aW5nX3dhaXQKICAgICAgICBzZWxmLm5vX2Vhcmx5X3N0b3AgPSBhcmdzLm5vX2Vhcmx5X3N0b3AKCiAgICAgICAgc2VsZi5kZXZpY2UgPSBhcmdzLmRldmljZQogICAgICAgIHNlbGYuZHR5cGUgPSBhcmdzLmR0eXBlCiAgICAgICAgc2VsZi5lb3NfaWR4ID0gdGV4dF90b2tlbml6ZXIudm9jYWJfaW5mby5lb3NfaWR4CgogICAgICAgIHRndF9sYW5nID0gZ2V0YXR0cihhcmdzLCAidGd0X2xhbmciLCBOb25lKQogICAgICAgIGFzc2VydCB0Z3RfbGFuZyBpcyBub3QgTm9uZQogICAgICAgIHNlbGYudG9rZW5fZW5jb2RlciA9IHRleHRfdG9rZW5pemVyLmNyZWF0ZV9lbmNvZGVyKGxhbmc9dGd0X2xhbmcsIG1vZGU9InRhcmdldCIpCiAgICAgICAgcHJlZml4X2luZGljZXMgPSBzZWxmLnRva2VuX2VuY29kZXIucHJlZml4X2luZGljZXMKICAgICAgICBhc3NlcnQgcHJlZml4X2luZGljZXMgaXMgbm90IE5vbmUKICAgICAgICBzZWxmLnByZWZpeF9pbmRpY2VzOiBMaXN0W2ludF0gPSBwcmVmaXhfaW5kaWNlcy50b2xpc3QoKQoKICAgIGRlZiBidWlsZF9zdGF0ZXMoc2VsZikgLT4gRGVjb2RlckFnZW50U3RhdGVzOgogICAgICAgIHJldHVybiBEZWNvZGVyQWdlbnRTdGF0ZXMoKQoKICAgIGRlZiBtYXhfbGVuKHNlbGYsIHN0YXRlczogRGVjb2RlckFnZW50U3RhdGVzKSAtPiBpbnQ6CiAgICAgICAgcmV0dXJuIHNlbGYubWF4X2xlbl9hICogaW50KHN0YXRlcy5zb3VyY2Uuc2l6ZSgxKSkgKyBzZWxmLm1heF9sZW5fYgoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBhZGRfYXJncyhwYXJzZXI6IEFyZ3VtZW50UGFyc2VyKSAtPiBOb25lOgogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW1heC1sZW4tYSIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBkZWZhdWx0PTEsCiAgICAgICAgICAgIGhlbHA9Ik1heCBsZW5ndGggb2YgcHJlZGljdGlvbnMsIGEgaW4gYXggKyBiIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tbWF4LWxlbi1iIiwKICAgICAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgICAgIGRlZmF1bHQ9MjAwLAogICAgICAgICAgICBoZWxwPSJNYXggbGVuZ3RoIG9mIHByZWRpY3Rpb25zLCBiIGluIGF4ICsgYiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW1heC1jb25zZWN1dGl2ZS13cml0ZSIsCiAgICAgICAgICAgIHR5cGU9aW50LAogICAgICAgICAgICBkZWZhdWx0PTUwLAogICAgICAgICAgICBoZWxwPSJNYXggY29uc2VjdXRpdmUgd3JpdGVzLiIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW1pbi1zdGFydGluZy13YWl0IiwKICAgICAgICAgICAgdHlwZT1pbnQsCiAgICAgICAgICAgIGRlZmF1bHQ9MSwKICAgICAgICAgICAgaGVscD0iTWluaW1hbCBzdGFydGluZyB3YWl0aW5nIHNvdXJjZSBzdGVwcyIsCiAgICAgICAgKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgICAgICItLW5vLWVhcmx5LXN0b3AiLAogICAgICAgICAgICBhY3Rpb249InN0b3JlX3RydWUiLAogICAgICAgICAgICBkZWZhdWx0PUZhbHNlLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS10Z3QtbGFuZyIsCiAgICAgICAgICAgIGRlZmF1bHQ9ImVuZyIsCiAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICkKCiAgICBkZWYgcG9saWN5KHNlbGYsIHN0YXRlczogRGVjb2RlckFnZW50U3RhdGVzKSAtPiBBY3Rpb246CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcgoKICAgIGRlZiBlbmZvcmNlX3RndF9sYW5nX2luX3ByZWZpeChzZWxmLCBzdGF0ZXM6IERlY29kZXJBZ2VudFN0YXRlcykgLT4gTm9uZToKICAgICAgICBpZiBzdGF0ZXMudGd0X2xhbmc6CiAgICAgICAgICAgIHRndF9sYW5nX3RhZyA9IGYiX197c3RhdGVzLnRndF9sYW5nfV9fIgogICAgICAgICAgICB0Z3RfbGFuZ190YWdfaWR4ID0gc2VsZi50ZXh0X3Rva2VuaXplci5tb2RlbC50b2tlbl90b19pbmRleCh0Z3RfbGFuZ190YWcpCiAgICAgICAgICAgIHNlbGYucHJlZml4X2luZGljZXNbLTFdID0gdGd0X2xhbmdfdGFnX2lkeAoKCmNsYXNzIE1NQVRleHREZWNvZGVyQWdlbnQoT25saW5lVGV4dERlY29kZXJBZ2VudCk6ICAjIHR5cGU6IGlnbm9yZQogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWw6IE1vbm90b25pY0RlY29kZXJNb2RlbCwKICAgICAgICBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IE5sbGJUb2tlbml6ZXIsCiAgICAgICAgYXJnczogTmFtZXNwYWNlLAogICAgKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18obW9kZWwsIGNvbmZpZywgdGV4dF90b2tlbml6ZXIsIGFyZ3M9YXJncykKCiAgICAgICAgc2VsZi5udW1fZGVjb2Rlcl9sYXllcnMgPSBzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9sYXllcnMKCiAgICAgICAgc2VsZi5kZWNpc2lvbl90aHJlc2hvbGQgPSBhcmdzLmRlY2lzaW9uX3RocmVzaG9sZAogICAgICAgIHNlbGYuZGVjaXNpb25fbWV0aG9kID0gYXJncy5kZWNpc2lvbl9tZXRob2QKICAgICAgICBzZWxmLmJsb2NrX25ncmFtcyA9IGFyZ3MuYmxvY2tfbmdyYW1zCiAgICAgICAgc2VsZi5wX2Nob29zZV9zdGFydF9sYXllciA9IGFyZ3MucF9jaG9vc2Vfc3RhcnRfbGF5ZXIKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgYWRkX2FyZ3MocGFyc2VyOiBBcmd1bWVudFBhcnNlcikgLT4gTm9uZToKICAgICAgICBPbmxpbmVUZXh0RGVjb2RlckFnZW50LmFkZF9hcmdzKHBhcnNlcikKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZWNpc2lvbi10aHJlc2hvbGQiLAogICAgICAgICAgICB0eXBlPWZsb2F0LAogICAgICAgICAgICBkZWZhdWx0PTAuNSwKICAgICAgICAgICAgaGVscD0iVGhlIHRocmVzaG9sZCB0byB3cml0ZSBhbiBvdXRwdXQsIGZyb20gMCB0byAxLiBTbWFsbCB2YWx1ZXMgZ2l2ZSBsb3cgbGF0ZW5jeS4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1kZWNpc2lvbi1tZXRob2QiLAogICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgZGVmYXVsdD0ibWluIiwKICAgICAgICAgICAgY2hvaWNlcz1bIm1lYW4iLCAibWluIiwgIm1lZGlhbiJdLAogICAgICAgICAgICBoZWxwPSJUaGUgbWV0aG9kIHRvIGRldGVybWluZSB0aGUgZGVjaXNpb24uIEVpdGhlciBhdmVyYWdlIGFsbCBhdHRlbnRpb24gaGVhZHMsIG9yIGp1c3QgcGljayB0aGUgc21hbGxlc3Qgb25lIiwKICAgICAgICApCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAgICAgIi0tcC1jaG9vc2Utc3RhcnQtbGF5ZXIiLAogICAgICAgICAgICB0eXBlPWludCwKICAgICAgICAgICAgZGVmYXVsdD0wLAogICAgICAgICAgICBoZWxwPSJFbmNvZGVyIGxheWVyIGZyb20gd2hpY2ggcF9jaG9vc2Ugc2hvdWxkIGJlIGNvbnNpZGVyZWQgZm9yIHNlbGVjdGlvbi4iLAogICAgICAgICkKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgICAgICAgICAiLS1ibG9jay1uZ3JhbXMiLAogICAgICAgICAgICBhY3Rpb249InN0b3JlX3RydWUiLAogICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2FyZ3MoCiAgICAgICAgY2xzLCBhcmdzOiBOYW1lc3BhY2UsICoqa3dhcmdzOiBEaWN0W3N0ciwgQW55XQogICAgKSAtPiBNTUFUZXh0RGVjb2RlckFnZW50OgogICAgICAgIG1vZGVsID0ga3dhcmdzLmdldCgibW9ub3RvbmljX2RlY29kZXJfbW9kZWwiLCBOb25lKQogICAgICAgIGNvbmZpZyA9IGt3YXJncy5nZXQoIm1vbm90b25pY19kZWNvZGVyX2NvbmZpZyIsIE5vbmUpCiAgICAgICAgdGV4dF90b2tlbml6ZXIgPSBrd2FyZ3MuZ2V0KCJ0ZXh0X3Rva2VuaXplciIsIE5vbmUpCgogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG1vZGVsLCBNb25vdG9uaWNEZWNvZGVyTW9kZWwpCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2UoY29uZmlnLCBNb25vdG9uaWNEZWNvZGVyQ29uZmlnKQogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHRleHRfdG9rZW5pemVyLCBObGxiVG9rZW5pemVyKQoKICAgICAgICByZXR1cm4gY2xzKAogICAgICAgICAgICBtb2RlbD1tb2RlbCwKICAgICAgICAgICAgY29uZmlnPWNvbmZpZywKICAgICAgICAgICAgdGV4dF90b2tlbml6ZXI9dGV4dF90b2tlbml6ZXIsCiAgICAgICAgICAgIGFyZ3M9YXJncywKICAgICAgICApCgogICAgZGVmIHJ1bl9kZWNvZGVyKAogICAgICAgIHNlbGYsIHN0YXRlczogRGVjb2RlckFnZW50U3RhdGVzLCBwcmVkX2luZGljZXM6IExpc3RbaW50XQogICAgKSAtPiBUdXBsZVtpbnQsIGZsb2F0LCBUZW5zb3JdOgogICAgICAgIGlmIGxlbihwcmVkX2luZGljZXMpID09IDA6CiAgICAgICAgICAgIHNlbGYuZW5mb3JjZV90Z3RfbGFuZ19pbl9wcmVmaXgoc3RhdGVzKQogICAgICAgICAgICB0YXJnZXRfaW5wdXQgPSB0b3JjaC50ZW5zb3IoCiAgICAgICAgICAgICAgICBzZWxmLnByZWZpeF9pbmRpY2VzICsgc3RhdGVzLnRhcmdldF9pbmRpY2VzLAogICAgICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9dG9yY2guaW50NjQsCiAgICAgICAgICAgICkudW5zcXVlZXplKDApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdGFyZ2V0X2lucHV0ID0gdG9yY2gudGVuc29yKAogICAgICAgICAgICAgICAgcHJlZF9pbmRpY2VzWy0xOl0sIGRldmljZT1zZWxmLmRldmljZSwgZHR5cGU9dG9yY2guaW50NjQKICAgICAgICAgICAgKS51bnNxdWVlemUoMCkKCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQgPSBzdGF0ZXMuc291cmNlCiAgICAgICAgZGVjb2Rlcl9vdXRwdXQsIF8sIHBfY2hvb3NlID0gc2VsZi5tb2RlbC5kZWNvZGUoCiAgICAgICAgICAgIHRhcmdldF9pbnB1dCwgTm9uZSwgZW5jb2Rlcl9vdXRwdXQsIE5vbmUsIHN0YXRlX2JhZz1zZWxmLnN0YXRlX2JhZwogICAgICAgICkKCiAgICAgICAgbG9naXRzID0gc2VsZi5tb2RlbC5wcm9qZWN0KGRlY29kZXJfb3V0cHV0KQogICAgICAgIGlmIHNlbGYuYmxvY2tfbmdyYW1zIGFuZCBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkOgogICAgICAgICAgICBhbGxfaW5kaWNlcyA9IHN0YXRlcy50YXJnZXRfaW5kaWNlcyArIHByZWRfaW5kaWNlcwogICAgICAgICAgICBibG9ja2VkX2luZGljZXMgPSBhbGxfaW5kaWNlc1stNDpdCiAgICAgICAgICAgIGxvZ2l0c1s6LCA6LCBibG9ja2VkX2luZGljZXNdID0gZmxvYXQoIi1pbmYiKQoKICAgICAgICBpbmRleCA9IGludChsb2dpdHNbMCwgLTFdLmFyZ21heCgpLml0ZW0oKSkKICAgICAgICBfLCB0Z3RfbGVuLCBzcmNfbGVuID0gcF9jaG9vc2Uuc2l6ZSgpCgogICAgICAgIHBfY2hvb3NlID0gcF9jaG9vc2UudmlldyhzZWxmLm51bV9kZWNvZGVyX2xheWVycywgLTEsIHRndF9sZW4sIHNyY19sZW4pCgogICAgICAgIGlmIHNlbGYuZGVjaXNpb25fbWV0aG9kID09ICJtaW4iOgogICAgICAgICAgICBwcm9iID0gcF9jaG9vc2Vbc2VsZi5wX2Nob29zZV9zdGFydF9sYXllciA6LCA6LCAtMSwgLTFdLm1pbigpLml0ZW0oKQogICAgICAgIGVsaWYgc2VsZi5kZWNpc2lvbl9tZXRob2QgPT0gIm1lYW4iOgogICAgICAgICAgICBwcm9iID0gcF9jaG9vc2Vbc2VsZi5wX2Nob29zZV9zdGFydF9sYXllciA6LCA6LCAtMSwgLTFdLm1lYW4oKS5pdGVtKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcm9iID0gcF9jaG9vc2Vbc2VsZi5wX2Nob29zZV9zdGFydF9sYXllciA6LCA6LCAtMSwgLTFdLm1lZGlhbigpLml0ZW0oKQoKICAgICAgICByZXR1cm4gaW5kZXgsIHByb2IsIGRlY29kZXJfb3V0cHV0CgogICAgZGVmIHBvc3Rwcm9jZXNzKAogICAgICAgIHNlbGYsCiAgICAgICAgc3RhdGVzOiBEZWNvZGVyQWdlbnRTdGF0ZXMsCiAgICAgICAgcHJlZF9pbmRpY2VzOiBMaXN0W2ludF0sCiAgICAgICAgZmluaXNoZWQ6IGJvb2wsCiAgICAgICAgZGVjb2Rlcl9mZWF0dXJlc19vdXQ6IE9wdGlvbmFsW1RlbnNvcl0gPSBOb25lLAogICAgKSAtPiBUZXh0U2VnbWVudDoKICAgICAgICByZXR1cm4gVGV4dFNlZ21lbnQoCiAgICAgICAgICAgIGNvbnRlbnQ9IiAiLmpvaW4oCiAgICAgICAgICAgICAgICBbc2VsZi50ZXh0X3Rva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbihpZHgpIGZvciBpZHggaW4gcHJlZF9pbmRpY2VzXQogICAgICAgICAgICApLAogICAgICAgICAgICBmaW5pc2hlZD1maW5pc2hlZCwKICAgICAgICAgICAgdGd0X2xhbmc9c3RhdGVzLnRndF9sYW5nLAogICAgICAgICkKCiAgICBkZWYgZ2V0X2Jsb2NrZWRfbmdyYW1zKHNlbGYsIHRhcmdldF9pbmRpY2VzOiBMaXN0W2ludF0pIC0+IE9wdGlvbmFsW1NldFtzdHJdXToKICAgICAgICAjIFRPRE86IG1ha2UgaXQgY29uZmlndXJhYmxlIGFuZCB1c2UgaXRlcnRvb2xzCiAgICAgICAgaWYgbm90IHNlbGYuYmxvY2tfbmdyYW1zOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGJsb2NrZWRfbmdyYW1zID0gc2V0KCkKICAgICAgICBpZiBsZW4odGFyZ2V0X2luZGljZXMpID49IDQ6CiAgICAgICAgICAgIGJsb2NrZWRfbmdyYW1zLmFkZChzdHIodGFyZ2V0X2luZGljZXNbLTQ6XSkpCiAgICAgICAgICAgIGJsb2NrZWRfbmdyYW1zLmFkZChzdHIodGFyZ2V0X2luZGljZXNbLTQ6LTJdKSkKICAgICAgICAgICAgYmxvY2tlZF9uZ3JhbXMuYWRkKHN0cih0YXJnZXRfaW5kaWNlc1stNDotMV0pKQogICAgICAgIGlmIGxlbih0YXJnZXRfaW5kaWNlcykgPj0gMzoKICAgICAgICAgICAgYmxvY2tlZF9uZ3JhbXMuYWRkKHN0cih0YXJnZXRfaW5kaWNlc1stMzpdKSkKICAgICAgICAgICAgYmxvY2tlZF9uZ3JhbXMuYWRkKHN0cih0YXJnZXRfaW5kaWNlc1stMzotMV0pKQogICAgICAgIGlmIGxlbih0YXJnZXRfaW5kaWNlcykgPj0gMjoKICAgICAgICAgICAgYmxvY2tlZF9uZ3JhbXMuYWRkKHN0cih0YXJnZXRfaW5kaWNlc1stMjpdKSkKICAgICAgICByZXR1cm4gYmxvY2tlZF9uZ3JhbXMKCiAgICBkZWYgbWF5YmVfYmxvY2tfbmdyYW1zKAogICAgICAgIHNlbGYsCiAgICAgICAgc3RhdGVzOiBEZWNvZGVyQWdlbnRTdGF0ZXMsCiAgICAgICAgcHJlZF9pbmRpY2VzOiBMaXN0W2ludF0sCiAgICAgICAgZGVjb2Rlcl9mZWF0dXJlc19vdXQ6IFRlbnNvciwKICAgICAgICBibG9ja2VkX25ncmFtczogT3B0aW9uYWxbU2V0W3N0cl1dLAogICAgICAgIGluZGV4OiBpbnQsCiAgICApIC0+IFR1cGxlW2Jvb2wsIFRlbnNvcl06CiAgICAgICAgIiIiCiAgICAgICAgVGhpcyBjaGVjayBpcyB1c2VkIHRvIGZvcmNlIGEgUkVBRCBkZWNpc2lvbiB3aGVuIG4tZ3JhbSByZXBlYXQKICAgICAgICBoYXBwZW5zIGJlZm9yZSBzb3VyY2VfZmluaXNoZWQKICAgICAgICAiIiIKICAgICAgICBpZiBub3Qgc2VsZi5ibG9ja19uZ3JhbXMgb3Igc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlLCBkZWNvZGVyX2ZlYXR1cmVzX291dAoKICAgICAgICBhc3NlcnQgYmxvY2tlZF9uZ3JhbXMgaXMgbm90IE5vbmUKICAgICAgICBhbGxfaW5kaWNlcyA9IHN0YXRlcy50YXJnZXRfaW5kaWNlcyArIHByZWRfaW5kaWNlcyArIFtpbmRleF0KICAgICAgICBmb3IgbiBpbiBbMywgMl06ICAjIFRPRE86IG1ha2UgaXQgY29uZmlndXJhYmxlCiAgICAgICAgICAgIGlmIGxlbihhbGxfaW5kaWNlcykgPj0gbiBhbmQgc3RhdGVzLm5ncmFtX2Jsb2NrX2NvdW50IDw9IDQ6CiAgICAgICAgICAgICAgICBpZiBzdHIoYWxsX2luZGljZXNbLW46XSkgaW4gYmxvY2tlZF9uZ3JhbXM6CiAgICAgICAgICAgICAgICAgICAgc3RhdGVzLm5ncmFtX2Jsb2NrX2NvdW50ICs9IDEKICAgICAgICAgICAgICAgICAgICBwcmVkX2luZGljZXNbOl0gPSBwcmVkX2luZGljZXNbOiAtKG4gLSAxKV0KICAgICAgICAgICAgICAgICAgICBkZWNvZGVyX2ZlYXR1cmVzX291dCA9IGRlY29kZXJfZmVhdHVyZXNfb3V0WzosIDogLShuIC0gMSldCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRydWUsIGRlY29kZXJfZmVhdHVyZXNfb3V0CiAgICAgICAgICAgICAgICBibG9ja2VkX25ncmFtcy5hZGQoc3RyKGFsbF9pbmRpY2VzWy1uOl0pKQogICAgICAgIHJldHVybiBGYWxzZSwgZGVjb2Rlcl9mZWF0dXJlc19vdXQKCiAgICBAdG9yY2guaW5mZXJlbmNlX21vZGUoKQogICAgZGVmIHBvbGljeShzZWxmLCBzdGF0ZXM6IERlY29kZXJBZ2VudFN0YXRlcykgLT4gQWN0aW9uOgogICAgICAgIGlmIGxlbihzdGF0ZXMuc291cmNlKSA9PSAwOgogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgogICAgICAgIGlmIHN0YXRlcy5zb3VyY2VfbGVuIDwgc2VsZi5taW5fc3RhcnRpbmdfd2FpdCBhbmQgbm90IHN0YXRlcy5zb3VyY2VfZmluaXNoZWQ6CiAgICAgICAgICAgIHJldHVybiBSZWFkQWN0aW9uKCkKCiAgICAgICAgaWYgc3RhdGVzLnRhcmdldF9maW5pc2hlZDoKICAgICAgICAgICAgcmV0dXJuIFdyaXRlQWN0aW9uKCIiLCBmaW5pc2hlZD1UcnVlKQoKICAgICAgICBpZiBsZW4oc3RhdGVzLnNvdXJjZSkgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIFJlYWRBY3Rpb24oKQoKICAgICAgICBzZWxmLnN0YXRlX2JhZyA9IEluY3JlbWVudGFsU3RhdGVCYWcoNDA5NikKCiAgICAgICAgc3RhdGVzLnNvdXJjZV9sZW4gPSBzdGF0ZXMuc291cmNlLnNpemUoMSkKCiAgICAgICAgcHJlZF9pbmRpY2VzOiBMaXN0W2ludF0gPSBbXQogICAgICAgIGluZGV4ID0gTm9uZQogICAgICAgIHByb2IgPSBOb25lCiAgICAgICAgZmluaXNoZWQgPSBGYWxzZQogICAgICAgIGJsb2NrZWRfbmdyYW1zID0gc2VsZi5nZXRfYmxvY2tlZF9uZ3JhbXMoc3RhdGVzLnRhcmdldF9pbmRpY2VzKQogICAgICAgIGRlY29kZXJfZmVhdHVyZXNfb3V0ID0gTm9uZQoKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBpbmRleCwgcHJvYiwgZGVjb2Rlcl9mZWF0dXJlcyA9IHNlbGYucnVuX2RlY29kZXIoc3RhdGVzLCBwcmVkX2luZGljZXMpCgogICAgICAgICAgICBpZiBkZWNvZGVyX2ZlYXR1cmVzX291dCBpcyBOb25lOgogICAgICAgICAgICAgICAgZGVjb2Rlcl9mZWF0dXJlc19vdXQgPSBkZWNvZGVyX2ZlYXR1cmVzLm5ldygwKQogICAgICAgICAgICBkZWNvZGVyX2ZlYXR1cmVzX291dCA9IHRvcmNoLmNhdCgKICAgICAgICAgICAgICAgIFtkZWNvZGVyX2ZlYXR1cmVzX291dCwgZGVjb2Rlcl9mZWF0dXJlc10sIGRpbT0xCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHNlbGYubm9fZWFybHlfc3RvcAogICAgICAgICAgICAgICAgYW5kIG5vdCBzdGF0ZXMuc291cmNlX2ZpbmlzaGVkCiAgICAgICAgICAgICAgICBhbmQgKHByb2IgPCBzZWxmLmRlY2lzaW9uX3RocmVzaG9sZCBvciBpbmRleCA9PSBzZWxmLmVvc19pZHgpCiAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICBpZiBwcm9iID09IDEuMDoKICAgICAgICAgICAgICAgICAgICBwcmVkX2luZGljZXMgPSBbXQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgYmxvY2tfbmdyYW0sIGRlY29kZXJfZmVhdHVyZXNfb3V0ID0gc2VsZi5tYXliZV9ibG9ja19uZ3JhbXMoCiAgICAgICAgICAgICAgICBzdGF0ZXMsIHByZWRfaW5kaWNlcywgZGVjb2Rlcl9mZWF0dXJlc19vdXQsIGJsb2NrZWRfbmdyYW1zLCBpbmRleAogICAgICAgICAgICApCiAgICAgICAgICAgIGlmIGJsb2NrX25ncmFtOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZmluaXNoZWQKICAgICAgICAgICAgICAgIG9yIGluZGV4ID09IHNlbGYuZW9zX2lkeAogICAgICAgICAgICAgICAgb3IgbGVuKHN0YXRlcy50YXJnZXRfaW5kaWNlcyArIHByZWRfaW5kaWNlcykgPiBzZWxmLm1heF9sZW4oc3RhdGVzKQogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgZmluaXNoZWQgPSBUcnVlCiAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgaWYgcHJvYiA8IHNlbGYuZGVjaXNpb25fdGhyZXNob2xkIGFuZCBub3Qgc3RhdGVzLnNvdXJjZV9maW5pc2hlZDoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBsZW4oc3RhdGVzLnRhcmdldF9pbmRpY2VzICsgcHJlZF9pbmRpY2VzKSA+PSBzZWxmLm1heF9sZW4oc3RhdGVzKQogICAgICAgICAgICAgICAgb3IgbGVuKHByZWRfaW5kaWNlcykgPj0gc2VsZi5tYXhfY29uc2VjdXRpdmVfd3JpdGVzCiAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgcHJlZF9pbmRpY2VzLmFwcGVuZChpbmRleCkKICAgICAgICAgICAgaWYgc2VsZi5zdGF0ZV9iYWcuc3RlcF9uciA9PSAwOgogICAgICAgICAgICAgICAgc2VsZi5zdGF0ZV9iYWcuaW5jcmVtZW50X3N0ZXBfbnIoCiAgICAgICAgICAgICAgICAgICAgbGVuKHNlbGYucHJlZml4X2luZGljZXMgKyBzdGF0ZXMudGFyZ2V0X2luZGljZXMpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlX2JhZy5pbmNyZW1lbnRfc3RlcF9ucigpCgogICAgICAgIHN0YXRlcy50YXJnZXRfaW5kaWNlcyArPSBwcmVkX2luZGljZXMKCiAgICAgICAgaWYgbGVuKHByZWRfaW5kaWNlcykgPiAwIG9yIGZpbmlzaGVkOgogICAgICAgICAgICBmaW5pc2hlZCA9IGZpbmlzaGVkIG9yIGxlbigKICAgICAgICAgICAgICAgIHN0YXRlcy50YXJnZXRfaW5kaWNlcyArIHByZWRfaW5kaWNlcwogICAgICAgICAgICApID4gc2VsZi5tYXhfbGVuKHN0YXRlcykKICAgICAgICAgICAgc3RhdGVzLm5ncmFtX2Jsb2NrX2NvdW50ID0gMAogICAgICAgICAgICByZXR1cm4gV3JpdGVBY3Rpb24oCiAgICAgICAgICAgICAgICBzZWxmLnBvc3Rwcm9jZXNzKHN0YXRlcywgcHJlZF9pbmRpY2VzLCBmaW5pc2hlZCwgZGVjb2Rlcl9mZWF0dXJlc19vdXQpLAogICAgICAgICAgICAgICAgZmluaXNoZWQ9ZmluaXNoZWQsCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gUmVhZEFjdGlvbigpCgoKY2xhc3MgTU1BU3BlZWNoVG9UZXh0RGVjb2RlckFnZW50KE1NQVRleHREZWNvZGVyQWdlbnQpOgogICAgc291cmNlX3R5cGUgPSAic3BlZWNoIgoKCkBkYXRhY2xhc3MKY2xhc3MgVW5pdFlUZXh0RGVjb2Rlck91dHB1dDoKICAgIGRlY29kZXJfZmVhdHVyZXM6IFRlbnNvcgogICAgdG9rZW5zOiBMaXN0W3N0cl0KICAgIHRhcmdldF9pbmRpY2VzOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZQoKCmNsYXNzIFVuaXRZTU1BVGV4dERlY29kZXJBZ2VudChNTUFTcGVlY2hUb1RleHREZWNvZGVyQWdlbnQpOgogICAgIiIiCiAgICBNTUEgVW5pdFkgdGV4dCBkZWNvZGVyIGFnZW50IHdoaWNoIGp1c3QgcHJlcGFyZXMgdGhlIGRlY29kZXIKICAgIG91dHB1dCBmb3IgdGhlIGRvd25zdHJlYW0gYWdlbnQuCiAgICAiIiIKCiAgICBkZWYgcG9zdHByb2Nlc3MoCiAgICAgICAgc2VsZiwKICAgICAgICBzdGF0ZXM6IERlY29kZXJBZ2VudFN0YXRlcywKICAgICAgICBwcmVkX2luZGljZXM6IExpc3RbaW50XSwKICAgICAgICBmaW5pc2hlZDogYm9vbCwKICAgICAgICBkZWNvZGVyX2ZlYXR1cmVzX291dDogT3B0aW9uYWxbVGVuc29yXSA9IE5vbmUsCiAgICApIC0+IFRleHRTZWdtZW50OgogICAgICAgIHRva2VuczogTGlzdFtzdHJdID0gWwogICAgICAgICAgICBzZWxmLnRleHRfdG9rZW5pemVyLm1vZGVsLmluZGV4X3RvX3Rva2VuKGlkeCkgZm9yIGlkeCBpbiBwcmVkX2luZGljZXMKICAgICAgICBdCiAgICAgICAgYXNzZXJ0IGRlY29kZXJfZmVhdHVyZXNfb3V0IGlzIG5vdCBOb25lCiAgICAgICAgdG9rZW5fbGlzdCA9IHNlbGYucHJlZml4X2luZGljZXMgKyBzdGF0ZXMudGFyZ2V0X2luZGljZXMKICAgICAgICBpZiAoCiAgICAgICAgICAgIGxlbihwcmVkX2luZGljZXMpID4gMAogICAgICAgICAgICBhbmQgcHJlZF9pbmRpY2VzWy0xXSAhPSBzZWxmLnRleHRfdG9rZW5pemVyLnZvY2FiX2luZm8uZW9zX2lkeAogICAgICAgICk6CiAgICAgICAgICAgICMgQXBwZW5kICIsIiB0byBtYWtlIHNwZWVjaCBzbW9vdGgKICAgICAgICAgICAgIyBUT0RPOiBhIHRlbXBvcmFyeSBzb2x1dGlvbi4KICAgICAgICAgICAgZW5kaW5nX3Rva2VuX2luZGV4ID0gc2VsZi50ZXh0X3Rva2VuaXplci5tb2RlbC50b2tlbl90b19pbmRleCgiLCIpCiAgICAgICAgICAgIHRva2VuX2xpc3QuYXBwZW5kKGVuZGluZ190b2tlbl9pbmRleCkKICAgICAgICAgICAgc2VsZi5zdGF0ZV9iYWcuaW5jcmVtZW50X3N0ZXBfbnIoKQoKICAgICAgICAgICAgXywgXywgZGVjb2Rlcl9mZWF0dXJlcyA9IHNlbGYucnVuX2RlY29kZXIoc3RhdGVzLCBbZW5kaW5nX3Rva2VuX2luZGV4XSkKICAgICAgICAgICAgZGVjb2Rlcl9mZWF0dXJlc19vdXQgPSB0b3JjaC5jYXQoCiAgICAgICAgICAgICAgICBbZGVjb2Rlcl9mZWF0dXJlc19vdXQsIGRlY29kZXJfZmVhdHVyZXNdLCBkaW09MQogICAgICAgICAgICApCgogICAgICAgIHRhcmdldF9pbnB1dCA9IHRvcmNoLnRlbnNvcigKICAgICAgICAgICAgdG9rZW5fbGlzdCwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT10b3JjaC5pbnQ2NCwKICAgICAgICApLnVuc3F1ZWV6ZSgwKQoKICAgICAgICByZXR1cm4gVGV4dFNlZ21lbnQoCiAgICAgICAgICAgIGNvbnRlbnQ9VW5pdFlUZXh0RGVjb2Rlck91dHB1dChkZWNvZGVyX2ZlYXR1cmVzX291dCwgdG9rZW5zLCB0YXJnZXRfaW5wdXQpLAogICAgICAgICAgICBmaW5pc2hlZD1maW5pc2hlZCwKICAgICAgICAgICAgdGd0X2xhbmc9c3RhdGVzLnRndF9sYW5nLAogICAgICAgICkK'),
    ('seamless/build/lib/seamless_communication/toxicity/etox_bad_word_checker.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBjb2RlY3MKaW1wb3J0IHJlCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgRGljdCwgTGlzdCwgU2V0LCBVbmlvbgoKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0ICgKICAgIEFzc2V0Q2FyZCwKICAgIEFzc2V0RG93bmxvYWRNYW5hZ2VyLAogICAgQXNzZXRTdG9yZSwKICAgIGFzc2V0X3N0b3JlIGFzIGJhc2VfYXNzZXRfc3RvcmUsCiAgICBkb3dubG9hZF9tYW5hZ2VyIGFzIGJhc2VfZG93bmxvYWRfbWFuYWdlciwKKQpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi5kYXRhLnRleHQgaW1wb3J0IFNlbnRlbmNlUGllY2VFbmNvZGVyLCBTZW50ZW5jZVBpZWNlTW9kZWwKCgpjbGFzcyBFVE9YQmFkV29yZENoZWNrZXI6CiAgICBiYWRfd29yZHM6IERpY3Rbc3RyLCBMaXN0W3N0cl1dCiAgICBiYWRfd29yZF92YXJpYW50czogRGljdFtzdHIsIERpY3Rbc3RyLCBMaXN0W3N0cl1dXQogICAgc3BfZW5jb2RlcjogU2VudGVuY2VQaWVjZUVuY29kZXIKICAgIHNwX2xhbmdzOiBTZXRbc3RyXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGJhZF93b3JkczogRGljdFtzdHIsIExpc3Rbc3RyXV0sCiAgICAgICAgYmFkX3dvcmRfdmFyaWFudHM6IERpY3Rbc3RyLCBEaWN0W3N0ciwgTGlzdFtzdHJdXV0sCiAgICAgICAgc3BfZW5jb2RlcjogU2VudGVuY2VQaWVjZUVuY29kZXIsCiAgICAgICAgc3BfbGFuZ3M6IFNldFtzdHJdLAogICAgKToKICAgICAgICBzZWxmLmJhZF93b3JkcyA9IGJhZF93b3JkcwogICAgICAgIHNlbGYuYmFkX3dvcmRfdmFyaWFudHMgPSBiYWRfd29yZF92YXJpYW50cwogICAgICAgIHNlbGYuc3BfZW5jb2RlciA9IHNwX2VuY29kZXIKICAgICAgICBzZWxmLnNwX2xhbmdzID0gc3BfbGFuZ3MKCiAgICBkZWYgZXh0cmFjdF9iYWRfd29yZHMoCiAgICAgICAgc2VsZiwKICAgICAgICBzb3VyY2VfdGV4dDogc3RyLAogICAgICAgIHRhcmdldF90ZXh0OiBzdHIsCiAgICAgICAgc291cmNlX2xhbmc6IHN0ciwKICAgICAgICB0YXJnZXRfbGFuZzogc3RyLAogICAgKSAtPiBMaXN0W3N0cl06CiAgICAgICAgYmFkX3dvcmRzX2luX3RhcmdldF90ZXh0ID0gc2VsZi5nZXRfYmFkX3dvcmRzKAogICAgICAgICAgICB0YXJnZXRfdGV4dCwKICAgICAgICAgICAgdGFyZ2V0X2xhbmcsCiAgICAgICAgKQoKICAgICAgICAjIElmIHRoZXJlIGFyZSBubyBiYWQgd29yZHMgaW4gdGhlIHRhcmdldCB0ZXh0LCBkbyBub3RoaW5nLgogICAgICAgIGlmIGxlbihiYWRfd29yZHNfaW5fdGFyZ2V0X3RleHQpID09IDA6CiAgICAgICAgICAgIHJldHVybiBbXQoKICAgICAgICBiYWRfd29yZHNfaW5fc291cmNlX3RleHQgPSBzZWxmLmdldF9iYWRfd29yZHMoCiAgICAgICAgICAgIHNvdXJjZV90ZXh0LAogICAgICAgICAgICBzb3VyY2VfbGFuZywKICAgICAgICApCgogICAgICAgICMgSWYgdGhlcmUgYXJlIGJhZCB3b3JkcyBpbiB0aGUgc291cmNlIHRleHQsIGRvIG5vdGhpbmcuCiAgICAgICAgaWYgbGVuKGJhZF93b3Jkc19pbl9zb3VyY2VfdGV4dCkgPiAwOgogICAgICAgICAgICByZXR1cm4gW10KCiAgICAgICAgYmFkX3dvcmRzOiBMaXN0W3N0cl0gPSBbXQoKICAgICAgICBmb3Igd29yZCBpbiBiYWRfd29yZHNfaW5fdGFyZ2V0X3RleHQ6CiAgICAgICAgICAgIGJhZF93b3Jkcy5leHRlbmQoc2VsZi5iYWRfd29yZF92YXJpYW50c1t0YXJnZXRfbGFuZ11bd29yZF0pCgogICAgICAgIHJldHVybiBiYWRfd29yZHMKCiAgICBkZWYgZ2V0X2JhZF93b3JkcyhzZWxmLCB0ZXh0OiBzdHIsIGxhbmc6IHN0cikgLT4gTGlzdFtzdHJdOgogICAgICAgIHRyeToKICAgICAgICAgICAgYmFkX3dvcmRzID0gc2VsZi5iYWRfd29yZHNbbGFuZ10KICAgICAgICBleGNlcHQgS2V5RXJyb3IgYXMgZToKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKGYiTWluVG94IG1vZGVsIGRvZXMgbm90IHN1cHBvcnQge2xhbmd9LiIpIGZyb20gZQoKICAgICAgICB0ZXh0ID0gc2VsZi5fcHJlcHJvY2Vzcyh0ZXh0KQoKICAgICAgICBpZiBsYW5nIGluIHNlbGYuc3BfbGFuZ3M6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9maW5kX2JhZF93b3Jkc19pbl9zcCh0ZXh0LCBiYWRfd29yZHMpCgogICAgICAgIHJldHVybiBzZWxmLl9maW5kX2JhZF93b3Jkcyh0ZXh0LCBiYWRfd29yZHMpCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9wcmVwcm9jZXNzKHRleHQ6IHN0cikgLT4gc3RyOgogICAgICAgIHJldHVybiByZS5zdWIociJbXFcrXSIsICIgIiwgdGV4dC5sb3dlcigpKQoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfZmluZF9iYWRfd29yZHModGV4dDogc3RyLCBiYWRfd29yZHM6IExpc3Rbc3RyXSkgLT4gTGlzdFtzdHJdOgogICAgICAgIG91dHB1dDogTGlzdFtzdHJdID0gW10KCiAgICAgICAgdGV4dCA9ICIgIiArIHRleHQubG93ZXIoKSArICIgIgoKICAgICAgICBiYWRfd29yZHMgPSBbIiAiICsgd29yZC5sb3dlcigpICsgIiAiIGZvciB3b3JkIGluIGJhZF93b3Jkc10KCiAgICAgICAgZm9yIHdvcmQgaW4gYmFkX3dvcmRzOgogICAgICAgICAgICBpZiB3b3JkIGluIHRleHQ6CiAgICAgICAgICAgICAgICBvdXRwdXQuYXBwZW5kKHdvcmQpCgogICAgICAgIHJldHVybiBbd29yZC5zdHJpcCgiICIpIGZvciB3b3JkIGluIG91dHB1dF0KCiAgICBkZWYgX2ZpbmRfYmFkX3dvcmRzX2luX3NwKHNlbGYsIHRleHQ6IHN0ciwgYmFkX3dvcmRzOiBMaXN0W3N0cl0pIC0+IExpc3Rbc3RyXToKICAgICAgICB0ZXh0X3Rva2VucyA9IHNlbGYuc3BfZW5jb2Rlci5lbmNvZGVfYXNfdG9rZW5zKHRleHQubG93ZXIoKSkKCiAgICAgICAgb3V0cHV0OiBMaXN0W3N0cl0gPSBbXQoKICAgICAgICBmb3Igd29yZCBpbiBiYWRfd29yZHM6CiAgICAgICAgICAgIHdvcmRfdG9rZW5zID0gc2VsZi5zcF9lbmNvZGVyLmVuY29kZV9hc190b2tlbnMod29yZC5sb3dlcigpKQoKICAgICAgICAgICAgaWYgc2VsZi5fY29udGFpbnNfdG9rZW5zKHRleHRfdG9rZW5zLCB3b3JkX3Rva2Vucyk6CiAgICAgICAgICAgICAgICBvdXRwdXQuYXBwZW5kKHN0cih3b3JkKSkKCiAgICAgICAgcmV0dXJuIG91dHB1dAoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfY29udGFpbnNfdG9rZW5zKAogICAgICAgIHRleHRfdG9rZW5zOiBMaXN0W1N0cmluZ0xpa2VdLCB3b3JkX3Rva2VuczogTGlzdFtTdHJpbmdMaWtlXQogICAgKSAtPiBib29sOgogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbih0ZXh0X3Rva2VucykgLSBsZW4od29yZF90b2tlbnMpICsgMSk6CiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbih3b3JkX3Rva2VucykpOgogICAgICAgICAgICAgICAgaWYgdGV4dF90b2tlbnNbaSArIGpdICE9IHdvcmRfdG9rZW5zW2pdOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICAgICByZXR1cm4gRmFsc2UKCgpjbGFzcyBFVE9YQmFkV29yZENoZWNrZXJMb2FkZXI6CiAgICBhc3NldF9zdG9yZTogQXNzZXRTdG9yZQogICAgZG93bmxvYWRfbWFuYWdlcjogQXNzZXREb3dubG9hZE1hbmFnZXIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBhc3NldF9zdG9yZTogQXNzZXRTdG9yZSwKICAgICAgICBkb3dubG9hZF9tYW5hZ2VyOiBBc3NldERvd25sb2FkTWFuYWdlciwKICAgICkgLT4gTm9uZToKICAgICAgICBzZWxmLmFzc2V0X3N0b3JlID0gYXNzZXRfc3RvcmUKICAgICAgICBzZWxmLmRvd25sb2FkX21hbmFnZXIgPSBkb3dubG9hZF9tYW5hZ2VyCgogICAgZGVmIF9fY2FsbF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkOiBVbmlvbltzdHIsIEFzc2V0Q2FyZF0sCiAgICApIC0+IEVUT1hCYWRXb3JkQ2hlY2tlcjoKICAgICAgICBpZiBpc2luc3RhbmNlKG1vZGVsX25hbWVfb3JfY2FyZCwgQXNzZXRDYXJkKToKICAgICAgICAgICAgY2FyZCA9IG1vZGVsX25hbWVfb3JfY2FyZAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNhcmQgPSBzZWxmLmFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQobW9kZWxfbmFtZV9vcl9jYXJkKQoKICAgICAgICBiYWRfd29yZHM6IERpY3Rbc3RyLCBMaXN0W3N0cl1dID0ge30KCiAgICAgICAgYmFkX3dvcmRfdmFyaWFudHM6IERpY3Rbc3RyLCBEaWN0W3N0ciwgTGlzdFtzdHJdXV0gPSB7fQoKICAgICAgICBldG94X2xhbmdfdmFyaWFudHMgPSBjYXJkLmZpZWxkKCJldG94X2xhbmdfdmFyaWFudHMiKS5hc19zZXQoc3RyKQoKICAgICAgICBldG94X2RzX3VyaSA9IGNhcmQuZmllbGQoImV0b3hfZGF0YXNldCIpLmFzX3VyaSgpCgogICAgICAgIGV0b3hfZHNfcGF0aCA9IHNlbGYuZG93bmxvYWRfbWFuYWdlci5kb3dubG9hZF9kYXRhc2V0KGV0b3hfZHNfdXJpLCAiZXRveCIpCgogICAgICAgIGZvciB3b3JkX2ZpbGUgaW4gZXRveF9kc19wYXRoLml0ZXJkaXIoKToKICAgICAgICAgICAgbGFuZyA9IHdvcmRfZmlsZS5uYW1lWzo4XQoKICAgICAgICAgICAgaWYgbGFuZyBub3QgaW4gZXRveF9sYW5nX3ZhcmlhbnRzOgogICAgICAgICAgICAgICAgbGFuZyA9IGxhbmdbOjNdCgogICAgICAgICAgICB3b3JkcyA9IHNlbGYuX2xvYWRfd29yZHMod29yZF9maWxlKQoKICAgICAgICAgICAgYmFkX3dvcmRzW2xhbmddID0gd29yZHMKCiAgICAgICAgICAgIGJhZF93b3JkX3ZhcmlhbnRzW2xhbmddID0ge30KCiAgICAgICAgICAgIGZvciB3b3JkIGluIHdvcmRzOgogICAgICAgICAgICAgICAgYmFkX3dvcmRfdmFyaWFudHNbbGFuZ11bd29yZF0gPSBbCiAgICAgICAgICAgICAgICAgICAgd29yZC5sb3dlcigpLAogICAgICAgICAgICAgICAgICAgIHdvcmQudXBwZXIoKSwKICAgICAgICAgICAgICAgICAgICB3b3JkLmNhcGl0YWxpemUoKSwKICAgICAgICAgICAgICAgIF0KCiAgICAgICAgc3BfdXJpID0gY2FyZC5maWVsZCgic3BfbW9kZWwiKS5hc191cmkoKQoKICAgICAgICBzcF9wYXRobmFtZSA9IHNlbGYuZG93bmxvYWRfbWFuYWdlci5kb3dubG9hZF90b2tlbml6ZXIoc3BfdXJpLCBjYXJkLm5hbWUpCgogICAgICAgIHNwX21vZGVsID0gU2VudGVuY2VQaWVjZU1vZGVsKHNwX3BhdGhuYW1lKQoKICAgICAgICBzcF9lbmNvZGVyID0gU2VudGVuY2VQaWVjZUVuY29kZXIoc3BfbW9kZWwpCgogICAgICAgIHNwX2xhbmdzID0gY2FyZC5maWVsZCgic3BfbGFuZ3MiKS5hc19zZXQoc3RyKQoKICAgICAgICByZXR1cm4gRVRPWEJhZFdvcmRDaGVja2VyKAogICAgICAgICAgICBiYWRfd29yZHMsCiAgICAgICAgICAgIGJhZF93b3JkX3ZhcmlhbnRzLAogICAgICAgICAgICBzcF9lbmNvZGVyLAogICAgICAgICAgICBzcF9sYW5ncywKICAgICAgICApCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9sb2FkX3dvcmRzKHBhdGhuYW1lOiBQYXRoKSAtPiBMaXN0W3N0cl06CiAgICAgICAgd29yZHM6IExpc3Rbc3RyXSA9IFtdCgogICAgICAgIHdpdGggb3BlbihwYXRobmFtZSwgInIiLCBlbmNvZGluZz0idXRmLTgiKSBhcyBmcDoKICAgICAgICAgICAgZm9yIGxpbmUgaW4gZnAucmVhZGxpbmVzKCk6CiAgICAgICAgICAgICAgICB3b3Jkcy5hcHBlbmQoY29kZWNzLmVuY29kZShsaW5lLCAicm90XzEzIikucnN0cmlwKCJcbiIpKQoKICAgICAgICByZXR1cm4gbGlzdChzZXQod29yZHMpKSAgIyBEZWR1cC4KCgpsb2FkX2V0b3hfYmFkX3dvcmRfY2hlY2tlciA9IEVUT1hCYWRXb3JkQ2hlY2tlckxvYWRlcigKICAgIGJhc2VfYXNzZXRfc3RvcmUsCiAgICBiYXNlX2Rvd25sb2FkX21hbmFnZXIsCikK'),
    ('seamless/build/lib/seamless_communication/toxicity/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi50b3hpY2l0eS5ldG94X2JhZF93b3JkX2NoZWNrZXIgaW1wb3J0ICgKICAgIEVUT1hCYWRXb3JkQ2hlY2tlciBhcyBFVE9YQmFkV29yZENoZWNrZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLnRveGljaXR5LmV0b3hfYmFkX3dvcmRfY2hlY2tlciBpbXBvcnQgKAogICAgbG9hZF9ldG94X2JhZF93b3JkX2NoZWNrZXIgYXMgbG9hZF9ldG94X2JhZF93b3JkX2NoZWNrZXIsCikK'),
    ('seamless/build/lib/seamless_communication/toxicity/mintox.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBsb2dnaW5nCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgppbXBvcnQgdG9yY2gKZnJvbSB0b3JjaC5ubiBpbXBvcnQgZnVuY3Rpb25hbCBhcyBGCgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLmluZmVyZW5jZSBpbXBvcnQgU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi50b3hpY2l0eS5ldG94X2JhZF93b3JkX2NoZWNrZXIgaW1wb3J0ICgKICAgIEVUT1hCYWRXb3JkQ2hlY2tlciwKKQpmcm9tIGZhaXJzZXEyLmdlbmVyYXRpb24gaW1wb3J0IEJhbm5lZFNlcXVlbmNlUHJvY2Vzc29yCmZyb20gZmFpcnNlcTIuZGF0YS50ZXh0LnRleHRfdG9rZW5pemVyIGltcG9ydCBUZXh0VG9rZW5pemVyCmZyb20gZmFpcnNlcTIuZGF0YS50eXBpbmcgaW1wb3J0IFN0cmluZ0xpa2UKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERldmljZQpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFNlcXVlbmNlRGF0YQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IGdldF9zZXFzX2FuZF9wYWRkaW5nX21hc2sKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eSBpbXBvcnQgKAogICAgVW5pdFRva2VuaXplciwKICAgIFVuaXRZTW9kZWwsCikKCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgX2V4dHJhY3RfYmFkX3dvcmRzX3dpdGhfYmF0Y2hfaW5kaWNlcygKICAgIHNvdXJjZV90ZXh0czogTGlzdFtTdHJpbmdMaWtlXSwKICAgIHRhcmdldF90ZXh0czogTGlzdFtTdHJpbmdMaWtlXSwKICAgIHNvdXJjZV9sYW5nOiBzdHIsCiAgICB0YXJnZXRfbGFuZzogc3RyLAogICAgYmFkX3dvcmRfY2hlY2tlcjogRVRPWEJhZFdvcmRDaGVja2VyLAopIC0+IFR1cGxlW0xpc3Rbc3RyXSwgTGlzdFtpbnRdXToKICAgIGFsbF9iYWRfd29yZHMsIGJhdGNoX2luZGljZXMgPSBbXSwgW10KCiAgICBmb3IgaWR4LCAoc291cmNlX3RleHQsIHRhcmdldF90ZXh0KSBpbiBlbnVtZXJhdGUoemlwKHNvdXJjZV90ZXh0cywgdGFyZ2V0X3RleHRzKSk6CiAgICAgICAgYmFkX3dvcmRzID0gYmFkX3dvcmRfY2hlY2tlci5leHRyYWN0X2JhZF93b3JkcygKICAgICAgICAgICAgc3RyKHNvdXJjZV90ZXh0KSwgc3RyKHRhcmdldF90ZXh0KSwgc291cmNlX2xhbmcsIHRhcmdldF9sYW5nCiAgICAgICAgKQoKICAgICAgICBpZiBiYWRfd29yZHM6CiAgICAgICAgICAgIGJhdGNoX2luZGljZXMuYXBwZW5kKGlkeCkKCiAgICAgICAgICAgIGFsbF9iYWRfd29yZHMuZXh0ZW5kKGJhZF93b3JkcykKCiAgICByZXR1cm4gYWxsX2JhZF93b3JkcywgYmF0Y2hfaW5kaWNlcwoKCmRlZiBfcmVwbGFjZV93aXRoX25ld190ZXh0X291dHB1dF9pbl9iYXRjaCgKICAgIG9yaWdpbmFsX3RleHRzOiBMaXN0W1N0cmluZ0xpa2VdLAogICAgaW5kaWNlc193aXRoX3RveGljaXR5OiBMaXN0W2ludF0sCiAgICBuZXdfdGV4dHM6IExpc3RbU3RyaW5nTGlrZV0sCikgLT4gTm9uZToKICAgIG5ld19pZHggPSAwCiAgICAjIGluZGljZXNfd2l0aF90b3hpY2l0eSBpcyBhIHNtYWxsIGxpc3QsIHVzaW5nIGxpc3Qgc2hvdWxkIGJlIGZhc3QgZW5vdWdoLgogICAgZm9yIG9yaWdpbmFsX2lkeCBpbiByYW5nZShsZW4ob3JpZ2luYWxfdGV4dHMpKToKICAgICAgICBpZiBvcmlnaW5hbF9pZHggaW4gaW5kaWNlc193aXRoX3RveGljaXR5OgogICAgICAgICAgICBvcmlnaW5hbF90ZXh0c1tvcmlnaW5hbF9pZHhdID0gbmV3X3RleHRzW25ld19pZHhdCiAgICAgICAgICAgIG5ld19pZHggKz0gMQoKCmRlZiBfcmVwbGFjZV93aXRoX25ld191bml0X291dHB1dF9pbl9iYXRjaCgKICAgIHVuaXRfdG9rZW5pemVyOiBVbml0VG9rZW5pemVyLAogICAgb3JpZ2luYWxfdW5pdHM6IFRlbnNvciwKICAgIGluZGljZXNfd2l0aF90b3hpY2l0eV90ZW5zb3I6IFRlbnNvciwKICAgIG5ld191bml0czogVGVuc29yLAopIC0+IE5vbmU6CiAgICBvcmlnaW5hbF91bml0c19sZW5ndGggPSBvcmlnaW5hbF91bml0cy5zaXplKDEpCiAgICBuZXdfdW5pdHNfbGVuZ3RoID0gbmV3X3VuaXRzLnNpemUoMSkKICAgIGxlbmd0aF9kaWZmID0gYWJzKG5ld191bml0c19sZW5ndGggLSBvcmlnaW5hbF91bml0c19sZW5ndGgpCiAgICBuYl9wYWRzID0gKDAsIGxlbmd0aF9kaWZmKQogICAgcGFkX2lkeCA9IHVuaXRfdG9rZW5pemVyLnZvY2FiX2luZm8ucGFkX2lkeCBvciAxCiAgICBpZiBuZXdfdW5pdHNfbGVuZ3RoID4gb3JpZ2luYWxfdW5pdHNfbGVuZ3RoOgogICAgICAgICMgcGFkIG9uIHRoZSBvcmlnaW5hbCB1bml0cwogICAgICAgIG9yaWdpbmFsX3VuaXRzID0gRi5wYWQoCiAgICAgICAgICAgIG9yaWdpbmFsX3VuaXRzLCBwYWQ9bmJfcGFkcywgbW9kZT0iY29uc3RhbnQiLCB2YWx1ZT1wYWRfaWR4CiAgICAgICAgKQogICAgZWxzZToKICAgICAgICAjIHBhZCBvbiB0aGUgbmV3IHVuaXRzCiAgICAgICAgbmV3X3VuaXRzID0gRi5wYWQoCiAgICAgICAgICAgIG5ld191bml0cywgcGFkPW5iX3BhZHMsIG1vZGU9ImNvbnN0YW50IiwgdmFsdWU9cGFkX2lkeAogICAgICAgICkKICAgIG9yaWdpbmFsX3VuaXRzW2luZGljZXNfd2l0aF90b3hpY2l0eV90ZW5zb3JdID0gbmV3X3VuaXRzCgoKZGVmIG1pbnRveF9waXBlbGluZSgKICAgIG1vZGVsOiBVbml0WU1vZGVsLAogICAgdGV4dF90b2tlbml6ZXI6IFRleHRUb2tlbml6ZXIsCiAgICB1bml0X3Rva2VuaXplcjogVW5pdFRva2VuaXplciwKICAgIGRldmljZTogRGV2aWNlLAogICAgc3JjX2xhbmc6IHN0ciwKICAgIHRndF9sYW5nOiBzdHIsCiAgICBtb2RlbF9pbnB1dDogU2VxdWVuY2VEYXRhLAogICAgaW5wdXRfbW9kYWxpdHk6ICJNb2RhbGl0eSIsCiAgICBvdXRwdXRfbW9kYWxpdHk6ICJNb2RhbGl0eSIsCiAgICBzcmNfdGV4dHM6IExpc3RbU3RyaW5nTGlrZV0sCiAgICBvcmlnaW5hbF90ZXh0czogTGlzdFtTdHJpbmdMaWtlXSwKICAgIG9yaWdpbmFsX3VuaXRzOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc6IGJvb2wgPSBGYWxzZSwKICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzOiBPcHRpb25hbFtTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdID0gTm9uZSwKICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzOiBPcHRpb25hbFtTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnNdID0gTm9uZSwKICAgIGJhZF93b3JkX2NoZWNrZXI6IEVUT1hCYWRXb3JkQ2hlY2tlciA9IE5vbmUsCiAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgcHJvc29keV9lbmNvZGVyX2lucHV0OiBPcHRpb25hbFtTZXF1ZW5jZURhdGFdID0gTm9uZSwKKSAtPiBUdXBsZVtMaXN0W1N0cmluZ0xpa2VdLCBPcHRpb25hbFtUZW5zb3JdXToKICAgICIiIk1pblRveDogTWl0aWdhdGlvbiBhdCBJTmZlcmVuY2UgdGltZSBvZiBhZGRlZCBUT1hpY2l0eS4iIiIKICAgIGZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5pbmZlcmVuY2UudHJhbnNsYXRvciBpbXBvcnQgTW9kYWxpdHksIFRyYW5zbGF0b3IKCiAgICBpZiB0ZXh0X2dlbmVyYXRpb25fb3B0cyBpcyBOb25lOgogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzID0gU2VxdWVuY2VHZW5lcmF0b3JPcHRpb25zKAogICAgICAgICAgICBiZWFtX3NpemU9NSwgc29mdF9tYXhfc2VxX2xlbj0oMSwgMjAwKQogICAgICAgICkKICAgIGlmIHVuaXRfZ2VuZXJhdGlvbl9vcHRzIGlzIE5vbmU6CiAgICAgICAgdW5pdF9nZW5lcmF0aW9uX29wdHMgPSBTZXF1ZW5jZUdlbmVyYXRvck9wdGlvbnMoCiAgICAgICAgICAgIGJlYW1fc2l6ZT01LCBzb2Z0X21heF9zZXFfbGVuPSgyNSwgNTApCiAgICAgICAgKQoKICAgIGRlZiBfZ2V0X2Jhbm5lZF9zZXF1ZW5jZV9wcm9jZXNzb3IoCiAgICAgICAgYmFubmVkX3NlcXVlbmNlczogTGlzdFtzdHJdLAogICAgKSAtPiBCYW5uZWRTZXF1ZW5jZVByb2Nlc3NvcjoKICAgICAgICB0ZXh0X2VuY29kZXIgPSB0ZXh0X3Rva2VuaXplci5jcmVhdGVfcmF3X2VuY29kZXIoZGV2aWNlPWRldmljZSkKCiAgICAgICAgYmFubmVkX3NlcXMgPSBbdGV4dF9lbmNvZGVyKGIpIGZvciBiIGluIGJhbm5lZF9zZXF1ZW5jZXNdCiAgICAgICAgIyBBIGJhbm5kZWQgc3RyaW5nIG9mdGVuIGFwcGVhcnMgYWZ0ZXIgc29tZSBwdW5jYXR1YXRpb25zIG9yIHN5bWJvbHMsIHdlIHdhbnQKICAgICAgICAjIHRvIGluY2x1ZGUgdGhpcyBzZXF1ZW5jZSBvZiB0b2tlbiBpZHMgYXMgd2VsbC4KICAgICAgICAjIFNvIHdlIGNhbiBiYW4gbm90IG9ubHkgdGhlIHN0cmluZyAic2hpdCIgYnV0IGFsc28gIipzaGl0IiwgIixzaGl0IiBldGMuCiAgICAgICAgYmFubmVkX3NlcXMgKz0gW3RleHRfZW5jb2RlcihmIuKYhXt4fSIpWzE6XSBmb3IgeCBpbiBiYW5uZWRfc2VxdWVuY2VzXQogICAgICAgIHJldHVybiBCYW5uZWRTZXF1ZW5jZVByb2Nlc3NvcihiYW5uZWRfc2VxcykKCiAgICBiYWRfd29yZHMsIGluZGljZXNfd2l0aF90b3hpY2l0eSA9IF9leHRyYWN0X2JhZF93b3Jkc193aXRoX2JhdGNoX2luZGljZXMoCiAgICAgICAgc3JjX3RleHRzLAogICAgICAgIG9yaWdpbmFsX3RleHRzLAogICAgICAgIHNyY19sYW5nLAogICAgICAgIHRndF9sYW5nLAogICAgICAgIGJhZF93b3JkX2NoZWNrZXIsCiAgICApCgogICAgaWYgbGVuKGluZGljZXNfd2l0aF90b3hpY2l0eSkgPT0gMDoKICAgICAgICAjIGlmIG5vIGFkZGVkIHRveGljaXR5IGlzIGZvdW5kLCByZXRydW4gdGhlIG9yaWduYWwgb3V0cHV0CiAgICAgICAgaWYgb3V0cHV0X21vZGFsaXR5ID09IE1vZGFsaXR5LlRFWFQ6CiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF90ZXh0cywgTm9uZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF90ZXh0cywgb3JpZ2luYWxfdW5pdHMKICAgIGVsc2U6CiAgICAgICAgbG9nZ2VyLmluZm8oCiAgICAgICAgICAgICJUT1ggc3JjX2xhbmc9JXMgdGd0X2xhbmc9JXMgYWRkZWRfdG94PSVkIiwKICAgICAgICAgICAgc3JjX2xhbmcsCiAgICAgICAgICAgIHRndF9sYW5nLAogICAgICAgICAgICBsZW4oaW5kaWNlc193aXRoX3RveGljaXR5KSwKICAgICAgICApCiAgICAgICAgIyBvdGhlcndpc2UsIHJlZG8gdGhlIHByZWRpY3Rpb24gd2l0aCBhIGxpc3Qgb2YgYmFkIHdvcmRzIHRvIGJhbgogICAgICAgIGJhbm5lZF9zZXF1ZW5jZV9wcm9jZXNzb3IgPSBfZ2V0X2Jhbm5lZF9zZXF1ZW5jZV9wcm9jZXNzb3IoCiAgICAgICAgICAgIGJhbm5lZF9zZXF1ZW5jZXM9bGlzdChzZXQoYmFkX3dvcmRzKSksCiAgICAgICAgKQogICAgICAgIHRleHRfZ2VuZXJhdGlvbl9vcHRzLnN0ZXBfcHJvY2Vzc29yID0gYmFubmVkX3NlcXVlbmNlX3Byb2Nlc3NvcgogICAgICAgICMgc2VsZWN0IG9ubHkgdGhlIHNvdXJjZXMgd2l0aCB0b3hpY2l0eQogICAgICAgIGluZGljZXNfd2l0aF90b3hpY2l0eV90ZW5zb3IgPSB0b3JjaC50ZW5zb3IoCiAgICAgICAgICAgIGluZGljZXNfd2l0aF90b3hpY2l0eSwgZGV2aWNlPWRldmljZQogICAgICAgICkKICAgICAgICBpZiBtb2RlbF9pbnB1dFsiaXNfcmFnZ2VkIl06CiAgICAgICAgICAgIG1vZGVsX2lucHV0WyJzZXFzIl0gPSB0b3JjaC5pbmRleF9zZWxlY3QoCiAgICAgICAgICAgICAgICBpbnB1dD1tb2RlbF9pbnB1dFsic2VxcyJdLAogICAgICAgICAgICAgICAgZGltPTAsCiAgICAgICAgICAgICAgICBpbmRleD1pbmRpY2VzX3dpdGhfdG94aWNpdHlfdGVuc29yLAogICAgICAgICAgICApCiAgICAgICAgICAgIG1vZGVsX2lucHV0WyJzZXFfbGVucyJdID0gdG9yY2guaW5kZXhfc2VsZWN0KAogICAgICAgICAgICAgICAgaW5wdXQ9bW9kZWxfaW5wdXRbInNlcV9sZW5zIl0sCiAgICAgICAgICAgICAgICBkaW09MCwKICAgICAgICAgICAgICAgIGluZGV4PWluZGljZXNfd2l0aF90b3hpY2l0eV90ZW5zb3IsCiAgICAgICAgICAgICkKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrKG1vZGVsX2lucHV0KQogICAgICAgICMgcmVkbyB0aGUgcHJlZGljdGlvbgogICAgICAgIG5ld190ZXh0cywgbmV3X3VuaXRzID0gVHJhbnNsYXRvci5nZXRfcHJlZGljdGlvbigKICAgICAgICAgICAgbW9kZWw9bW9kZWwsCiAgICAgICAgICAgIHRleHRfdG9rZW5pemVyPXRleHRfdG9rZW5pemVyLAogICAgICAgICAgICB1bml0X3Rva2VuaXplcj11bml0X3Rva2VuaXplciwKICAgICAgICAgICAgc2Vxcz1zZXFzLAogICAgICAgICAgICBwYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrLAogICAgICAgICAgICBpbnB1dF9tb2RhbGl0eT1pbnB1dF9tb2RhbGl0eSwKICAgICAgICAgICAgb3V0cHV0X21vZGFsaXR5PW91dHB1dF9tb2RhbGl0eSwKICAgICAgICAgICAgdGd0X2xhbmc9dGd0X2xhbmcsCiAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9uZ3JhbV9maWx0ZXJpbmc9dW5pdF9nZW5lcmF0aW9uX25ncmFtX2ZpbHRlcmluZywKICAgICAgICAgICAgdGV4dF9nZW5lcmF0aW9uX29wdHM9dGV4dF9nZW5lcmF0aW9uX29wdHMsCiAgICAgICAgICAgIHVuaXRfZ2VuZXJhdGlvbl9vcHRzPXVuaXRfZ2VuZXJhdGlvbl9vcHRzLAogICAgICAgICAgICBkdXJhdGlvbl9mYWN0b3I9ZHVyYXRpb25fZmFjdG9yLAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfaW5wdXQ9cHJvc29keV9lbmNvZGVyX2lucHV0LAogICAgICAgICkKICAgICAgICBiYXRjaF9zaXplID0gbGVuKG9yaWdpbmFsX3RleHRzKQogICAgICAgIGlmIGJhdGNoX3NpemUgPiAxOgogICAgICAgICAgICAjIHJlY29uc3RydWN0IHRoZSB0ZXh0IG91dHB1dCBieSB1cGRhdGluZyB0aGUgb3JpZ2luYWwgb25lIGluIHBsYWNlCiAgICAgICAgICAgIF9yZXBsYWNlX3dpdGhfbmV3X3RleHRfb3V0cHV0X2luX2JhdGNoKAogICAgICAgICAgICAgICAgb3JpZ2luYWxfdGV4dHMsIGluZGljZXNfd2l0aF90b3hpY2l0eSwgbmV3X3RleHRzCiAgICAgICAgICAgICkKICAgICAgICAgICAgZmluYWxfdGV4dHMgPSBvcmlnaW5hbF90ZXh0cwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGZpbmFsX3RleHRzID0gbmV3X3RleHRzCgogICAgICAgIGlmIG91dHB1dF9tb2RhbGl0eSA9PSBNb2RhbGl0eS5URVhUOgogICAgICAgICAgICByZXR1cm4gZmluYWxfdGV4dHMsIE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBiYXRjaF9zaXplID4gMToKICAgICAgICAgICAgICAgIGFzc2VydCBvcmlnaW5hbF91bml0cyBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgYXNzZXJ0IG5ld191bml0cyBpcyBub3QgTm9uZQogICAgICAgICAgICAgICAgIyByZWNvbnN0cnVjdCB0aGUgdW5pdCBvdXRwdXQgYnkgdXBkYXRpbmcgdGhlIG9yaWdpbmFsIG9uZSBpbiBwbGFjZQogICAgICAgICAgICAgICAgX3JlcGxhY2Vfd2l0aF9uZXdfdW5pdF9vdXRwdXRfaW5fYmF0Y2goCiAgICAgICAgICAgICAgICAgICAgdW5pdF90b2tlbml6ZXIsCiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxfdW5pdHMsCiAgICAgICAgICAgICAgICAgICAgaW5kaWNlc193aXRoX3RveGljaXR5X3RlbnNvciwKICAgICAgICAgICAgICAgICAgICBuZXdfdW5pdHMsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBmaW5hbF91bml0cyA9IG9yaWdpbmFsX3VuaXRzCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmaW5hbF91bml0cyA9IG5ld191bml0cwogICAgICAgICAgICByZXR1cm4gZmluYWxfdGV4dHMsIGZpbmFsX3VuaXRzCg=='),
    ('seamless/build/lib/seamless_communication/segment/__init__.py', ''),
    ('seamless/build/lib/seamless_communication/segment/silero_vad.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmZyb20gYXJncGFyc2UgaW1wb3J0IE5hbWVzcGFjZQppbXBvcnQgdG9yY2gKaW1wb3J0IHR5cGluZyBhcyB0cAppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHdhcm5pbmdzCgpTQU1QTElOR19SQVRFID0gMTYwMDAKCmNsYXNzIFNpbGVyb1ZBRFNlZ21lbnRlcjogICMgdHlwZTogaWdub3JlCiAgICBkZWYgX19pbml0X18oc2VsZiwgc2FtcGxlX3JhdGUgPSBTQU1QTElOR19SQVRFLCBjaHVua19zaXplX3NlYyA9IDEwLCBwYXVzZV9sZW5ndGggPSAuNSkgLT4gTm9uZToKICAgICAgICBzZWxmLm1vZGVsLCBfID0gdG9yY2guaHViLmxvYWQoCiAgICAgICAgICAgIHJlcG9fb3JfZGlyPSJzbmFrZXJzNC9zaWxlcm8tdmFkIiwKICAgICAgICAgICAgbW9kZWw9InNpbGVyb192YWQiLAogICAgICAgICAgICBmb3JjZV9yZWxvYWQ9RmFsc2UsCiAgICAgICAgICAgIG9ubng9RmFsc2UsCiAgICAgICAgKQogICAgICAgIHNlbGYuc2FtcGxlX3JhdGUgPSBzYW1wbGVfcmF0ZQogICAgICAgIHNlbGYuY2h1bmtfc2l6ZV9zZWMgPSBjaHVua19zaXplX3NlYwogICAgICAgIHNlbGYucGF1c2VfbGVuZ3RoID0gcGF1c2VfbGVuZ3RoCgogICAgZGVmIHNlZ21lbnRfbG9uZ19pbnB1dChzZWxmLCBhdWRpbzogdG9yY2guVGVuc29yKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIFNwbGl0IGxvbmcgaW5wdXQgaW50byBjaHVua3MgdXNpbmcgc3BlZWNoIHRpbWVzdGFtcHMuCiAgICAgICAgIiIiCiAgICAgICAgbWF4X3NlZ21lbnRfbGVuZ3RoX3NhbXBsZXMgPSBzZWxmLmNodW5rX3NpemVfc2VjICogc2VsZi5zYW1wbGVfcmF0ZQogICAgICAgIHBhdXNlX2xlbmd0aF9zYW1wbGVzID0gc2VsZi5wYXVzZV9sZW5ndGggKiBzZWxmLnNhbXBsZV9yYXRlCgogICAgICAgIHNwZWVjaF90aW1lc3RhbXBzID0gc2VsZi5nZXRfc3BlZWNoX3RpbWVzdGFtcHMoCiAgICAgICAgICAgIGF1ZGlvLCBzZWxmLm1vZGVsLCBzYW1wbGluZ19yYXRlPXNlbGYuc2FtcGxlX3JhdGUKICAgICAgICApCgogICAgICAgIHNlZ21lbnRzID0gW10KICAgICAgICBjdXJyZW50X3NlZ21lbnQgPSBbXQoKICAgICAgICBmb3Igc2VnbWVudCBpbiBzcGVlY2hfdGltZXN0YW1wczoKICAgICAgICAgICAgc3RhcnRfc2FtcGxlcyA9IHNlZ21lbnRbMF0KICAgICAgICAgICAgZW5kX3NhbXBsZXMgPSBzZWdtZW50WzFdCgogICAgICAgICAgICBpZiBjdXJyZW50X3NlZ21lbnQgYW5kICgKICAgICAgICAgICAgICAgIGVuZF9zYW1wbGVzIC0gY3VycmVudF9zZWdtZW50WzBdID4gbWF4X3NlZ21lbnRfbGVuZ3RoX3NhbXBsZXMKICAgICAgICAgICAgICAgIG9yIHN0YXJ0X3NhbXBsZXMgLSBjdXJyZW50X3NlZ21lbnRbMV0gPiBwYXVzZV9sZW5ndGhfc2FtcGxlcwogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgc2VnbWVudHMuYXBwZW5kKGN1cnJlbnRfc2VnbWVudCkKICAgICAgICAgICAgICAgIGN1cnJlbnRfc2VnbWVudCA9IFtdCgogICAgICAgICAgICBpZiBub3QgY3VycmVudF9zZWdtZW50OgogICAgICAgICAgICAgICAgY3VycmVudF9zZWdtZW50ID0gW3N0YXJ0X3NhbXBsZXMsIGVuZF9zYW1wbGVzXQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY3VycmVudF9zZWdtZW50WzFdID0gZW5kX3NhbXBsZXMKICAgICAgICBpZiBjdXJyZW50X3NlZ21lbnQ6CiAgICAgICAgICAgIHNlZ21lbnRzLmFwcGVuZChjdXJyZW50X3NlZ21lbnQpIAoKICAgICAgICByZXR1cm4gc2VnbWVudHMKICAgCiAgICBkZWYgZ2V0X3NwZWVjaF90aW1lc3RhbXBzKAogICAgICAgIHNlbGYsCiAgICAgICAgYXVkaW86IHRvcmNoLlRlbnNvciwKICAgICAgICBtb2RlbCwKICAgICAgICBzYW1wbGluZ19yYXRlOiBpbnQgPSBTQU1QTElOR19SQVRFLAogICAgICAgIG1pbl9zcGVlY2hfZHVyYXRpb25fbXM6IGludCA9IDUwMCwKICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzOiBpbnQgPSAxNTM2LAogICAgKSAtPiB0cC5MaXN0W3RwLlR1cGxlW2ludCwgaW50XV06CiAgICAgICAgIiIiCiAgICAgICAgR2V0IHNwZWVjaCB0aW1lc3RhbXBzIGJhc2VkIG9uIHRoZSBzcGVlY2ggcHJvYmFiaWxpdGllcy4KICAgICAgICAiIiIKICAgICAgICBwcm9icywgXyA9IHNlbGYuZ2V0X3NwZWVjaF9wcm9icygKICAgICAgICAgICAgYXVkaW89YXVkaW8sCiAgICAgICAgICAgIG1vZGVsPW1vZGVsLAogICAgICAgICAgICBzYW1wbGluZ19yYXRlPXNhbXBsaW5nX3JhdGUsCiAgICAgICAgICAgIHdpbmRvd19zaXplX3NhbXBsZXM9d2luZG93X3NpemVfc2FtcGxlcywKICAgICAgICApCgogICAgICAgIG1heF9zZWdtZW50X2xlbmd0aF9zYW1wbGVzID0gc2VsZi5jaHVua19zaXplX3NlYyAqIHNlbGYuc2FtcGxlX3JhdGUKICAgICAgICBtaW5fc2VnbWVudF9sZW5ndGhfc2FtcGxlcyA9IG1pbl9zcGVlY2hfZHVyYXRpb25fbXMgLyAxMDAwICogc2FtcGxpbmdfcmF0ZQoKICAgICAgICBzZWdtZW50cyA9IHNlbGYucGRhYygKICAgICAgICAgICAgcHJvYnM9cHJvYnMsCiAgICAgICAgICAgIG1heF9zZWdtZW50X2xlbmd0aD1tYXhfc2VnbWVudF9sZW5ndGhfc2FtcGxlcywKICAgICAgICAgICAgbWluX3NlZ21lbnRfbGVuZ3RoPW1pbl9zZWdtZW50X2xlbmd0aF9zYW1wbGVzLAogICAgICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzPXdpbmRvd19zaXplX3NhbXBsZXMsCiAgICAgICAgKQoKICAgICAgICBzcGVlY2hfdGltZXN0YW1wcyA9IFsoc2VnLnN0YXJ0LCBzZWcuZW5kKSBmb3Igc2VnIGluIHNlZ21lbnRzXQoKICAgICAgICByZXR1cm4gc3BlZWNoX3RpbWVzdGFtcHMKICAgIAogICAgZGVmIHJlY3Vyc2l2ZV9zcGxpdCgKICAgICAgICAgICAgc2VsZiwgCiAgICAgICAgICAgIHNnbSwgCiAgICAgICAgICAgIHNlZ21lbnRzLCAKICAgICAgICAgICAgbWF4X3NlZ21lbnRfbGVuZ3RoLCAKICAgICAgICAgICAgbWluX3NlZ21lbnRfbGVuZ3RoLCAKICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlcywgCiAgICAgICAgICAgIHRocmVzaG9sZAogICAgICAgICAgICApOgogICAgICAgICAgICBpZiBzZ20uZHVyYXRpb24gPCBtYXhfc2VnbWVudF9sZW5ndGg6CiAgICAgICAgICAgICAgICBzZWdtZW50cy5hcHBlbmQoc2dtKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaiA9IDAKICAgICAgICAgICAgICAgIHNvcnRlZF9pbmRpY2VzID0gbnAuYXJnc29ydChzZ20ucHJvYnMpCiAgICAgICAgICAgICAgICB3aGlsZSBqIDwgbGVuKHNvcnRlZF9pbmRpY2VzKToKICAgICAgICAgICAgICAgICAgICBzcGxpdF9pZHggPSBzb3J0ZWRfaW5kaWNlc1tqXQogICAgICAgICAgICAgICAgICAgIHNnbV9hLCBzZ21fYiA9IHNlbGYuc3BsaXQoCiAgICAgICAgICAgICAgICAgICAgICBzZ20sIAogICAgICAgICAgICAgICAgICAgICAgc3BsaXRfaWR4LCAKICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd19zaXplX3NhbXBsZXMsIAogICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkKQogICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgc2dtX2EuZHVyYXRpb24gPiBtaW5fc2VnbWVudF9sZW5ndGgKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHNnbV9iLmR1cmF0aW9uID4gbWluX3NlZ21lbnRfbGVuZ3RoCiAgICAgICAgICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWN1cnNpdmVfc3BsaXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2dtX2EsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3NlZ21lbnRfbGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9zZWdtZW50X2xlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCkKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWN1cnNpdmVfc3BsaXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2dtX2IsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3NlZ21lbnRfbGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9zZWdtZW50X2xlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBqICs9IDEKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgaWYgc2dtX2EuZHVyYXRpb24gPiBtaW5fc2VnbWVudF9sZW5ndGg6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjdXJzaXZlX3NwbGl0KAogICAgICAgICAgICAgICAgICAgICAgICAgIHNnbV9hLAogICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1heF9zZWdtZW50X2xlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5fc2VnbWVudF9sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlcywKICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQpCiAgICAgICAgICAgICAgICAgICAgaWYgc2dtX2IuZHVyYXRpb24gPiBtaW5fc2VnbWVudF9sZW5ndGg6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjdXJzaXZlX3NwbGl0KAogICAgICAgICAgICAgICAgICAgICAgICAgIHNnbV9iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1heF9zZWdtZW50X2xlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5fc2VnbWVudF9sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlcywKICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQpCgogICAgZGVmIHBkYWMoCiAgICAgICAgICAgIHNlbGYsCiAgICAgICAgICAgIHByb2JzOiBucC5hcnJheSwgCiAgICAgICAgICAgIG1heF9zZWdtZW50X2xlbmd0aDogZmxvYXQsIAogICAgICAgICAgICBtaW5fc2VnbWVudF9sZW5ndGg6IGZsb2F0LCAKICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlczogZmxvYXQsCiAgICAgICAgKSAtPiB0cC5MaXN0W1NlZ21lbnRdOgogICAgICAgICIiIgogICAgICAgIFJlY3Vyc2l2ZWx5IHNwbGl0cyBzZWdtZW50cyBiYXNlZCBvbiBzcGVlY2ggdGhyZXNob2xkIGFuZCBkdXJhdGlvbi4gCiAgICAgICAgIiIiCiAgICAgICAgc2VnbWVudHMgPSBbXQogICAgICAgIHNnbSA9IFNlZ21lbnQoMCwgbGVuKHByb2JzKSp3aW5kb3dfc2l6ZV9zYW1wbGVzLCBwcm9icykKCiAgICAgICAgc2VsZi5yZWN1cnNpdmVfc3BsaXQoc2dtLCBzZWdtZW50cywgbWF4X3NlZ21lbnRfbGVuZ3RoLCBtaW5fc2VnbWVudF9sZW5ndGgsIHdpbmRvd19zaXplX3NhbXBsZXMsIC41KQogICAgICAgIAogICAgICAgIHJldHVybiBzZWdtZW50cwoKICAgIGRlZiB0cmltKAogICAgICAgICAgICBzZWxmLAogICAgICAgICAgICBzZ206IFNlZ21lbnQsIAogICAgICAgICAgICB0aHJlc2hvbGQ6IGZsb2F0LAogICAgICAgICAgICB3aW5kb3dfc2l6ZV9zYW1wbGVzOiBmbG9hdAogICAgICAgICkgLT4gU2VnbWVudDoKICAgICAgICBpbmNsdWRlZF9pbmRpY2VzID0gbnAud2hlcmUoc2dtLnByb2JzID49IHRocmVzaG9sZClbMF0KICAgICAgICAKICAgICAgICBpZiBub3QgbGVuKGluY2x1ZGVkX2luZGljZXMpOgogICAgICAgICAgICByZXR1cm4gU2VnbWVudChzZ20uc3RhcnQsIHNnbS5zdGFydCwgbnAuZW1wdHkoWzBdKSkKICAgICAgICAKICAgICAgICBpID0gaW5jbHVkZWRfaW5kaWNlc1swXSAqIHdpbmRvd19zaXplX3NhbXBsZXMKICAgICAgICBqID0gKGluY2x1ZGVkX2luZGljZXNbLTFdICsgMSkgKiB3aW5kb3dfc2l6ZV9zYW1wbGVzCgogICAgICAgIHNnbSA9IFNlZ21lbnQoc2dtLnN0YXJ0ICsgaSwgCiAgICAgICAgc2dtLnN0YXJ0ICsgaiwgCiAgICAgICAgc2dtLnByb2JzW2luY2x1ZGVkX2luZGljZXNbMF06aW5jbHVkZWRfaW5kaWNlc1stMV0rMV0pCgogICAgICAgIHJldHVybiBzZ20KCiAgICBkZWYgc3BsaXQoCiAgICAgICAgICAgIHNlbGYsCiAgICAgICAgICAgIHNnbTogU2VnbWVudCwgCiAgICAgICAgICAgIHNwbGl0X2lkeDogaW50LCAKICAgICAgICAgICAgd2luZG93X3NpemVfc2FtcGxlczogZmxvYXQsCiAgICAgICAgICAgIHRocmVzaG9sZDogZmxvYXQKICAgICAgICApIC0+IHRwLlR1cGxlW1NlZ21lbnQsIFNlZ21lbnRdOgogICAgICAgICIiIgogICAgICAgIFNwbGl0cyBzZWdtZW50IGludG8gdHdvIHNlZ21lbnRzIGJhc2VkIG9uIHRoZSBzcGxpdCBpbmRleC4KICAgICAgICAiIiIKICAgICAgICBwcm9ic19hID0gc2dtLnByb2JzWzpzcGxpdF9pZHhdCiAgICAgICAgc2dtX2EgPSBTZWdtZW50KHNnbS5zdGFydCwgc2dtLnN0YXJ0ICsgKGxlbihwcm9ic19hKSp3aW5kb3dfc2l6ZV9zYW1wbGVzKSwgcHJvYnNfYSkKCiAgICAgICAgcHJvYnNfYiA9IHNnbS5wcm9ic1tzcGxpdF9pZHggKyAxIDpdCiAgICAgICAgc2dtX2IgPSBTZWdtZW50KHNnbV9hLmVuZCArIDEsIHNnbS5lbmQsIHByb2JzX2IpCgogICAgICAgIHNnbV9hID0gc2VsZi50cmltKHNnbV9hLCB0aHJlc2hvbGQsIHdpbmRvd19zaXplX3NhbXBsZXMpCiAgICAgICAgc2dtX2IgPSBzZWxmLnRyaW0oc2dtX2IsIHRocmVzaG9sZCwgd2luZG93X3NpemVfc2FtcGxlcykKCiAgICAgICAgcmV0dXJuIHNnbV9hLCBzZ21fYgogICAgCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgcmVzYW1wbGVfYXVkaW8od2F2OiB0b3JjaC5UZW5zb3IsIHNhbXBsZV9yYXRlOiBpbnQpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICAiIiIKICAgICAgICBSZXNhbXBsZSBhdWRpbyB0byB0aGUgbW9kZWwncyBzYW1wbGUgcmF0ZS4KICAgICAgICAiIiIKICAgICAgICBhc3NlcnQgc2FtcGxlX3JhdGUgPD0gc2FtcGxlX3JhdGUKICAgICAgICBpZiBzYW1wbGVfcmF0ZSA9PSBzYW1wbGVfcmF0ZToKICAgICAgICAgICAgcmV0dXJuIHdhdgoKICAgICAgICB0Z3RfZnJhbWVzID0gd2F2LnNoYXBlWy0xXSAqIHNhbXBsZV9yYXRlIC8vIHNhbXBsZV9yYXRlCiAgICAgICAgY29lZmYgPSBzYW1wbGVfcmF0ZSAvIHNhbXBsZV9yYXRlCiAgICAgICAgaW5kaWNlcyA9ICh0b3JjaC5hcmFuZ2UodGd0X2ZyYW1lcykgKiBjb2VmZikudG8odG9yY2guaW50MzIpCiAgICAgICAgcmV0dXJuIHdhdls6LCBpbmRpY2VzXQogICAgCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgZ2V0X3NwZWVjaF9wcm9icygKICAgICAgICBhdWRpbzogdG9yY2guVGVuc29yLAogICAgICAgIG1vZGVsLAogICAgICAgIHNhbXBsaW5nX3JhdGU6IGludCA9IFNBTVBMSU5HX1JBVEUsCiAgICAgICAgd2luZG93X3NpemVfc2FtcGxlczogaW50ID0gMTUzNiwKICAgICkgLT4gdHAuVHVwbGVbbnAubmRhcnJheSwgaW50XToKICAgICAgICAiIiIKICAgICAgICBHZXQgYSBsaXN0IG9mIHNwZWVjaCBwcm9iYWJpbGl0aWVzIGNvbXB1dGVkIHdpdGggc2xpZGluZyB3aW5kb3cgb3ZlciB0aGUgYXVkaW8gdXNpbmcgdGhlIG1vZGVsLgogICAgICAgICIiIgogICAgICAgIGlmIG5vdCB0b3JjaC5pc190ZW5zb3IoYXVkaW8pOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBhdWRpbyA9IHRvcmNoLlRlbnNvcihhdWRpbykKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJBdWRpbyBjYW5ub3QgYmUgY2FzdGVkIHRvIHRlbnNvci4gQ2FzdCBpdCBtYW51YWxseSIpCgogICAgICAgIGlmIGxlbihhdWRpby5zaGFwZSkgPiAxOgogICAgICAgICAgICBmb3IgXyBpbiByYW5nZShhdWRpby5uZGltKTogICMgdHJ5aW5nIHRvIHNxdWVlemUgZW1wdHkgZGltZW5zaW9ucwogICAgICAgICAgICAgICAgYXVkaW8gPSBhdWRpby5zcXVlZXplKDApCiAgICAgICAgICAgIGFzc2VydCAoCiAgICAgICAgICAgICAgICBhdWRpby5uZGltID09IDEKICAgICAgICAgICAgKSwgIk1vcmUgdGhhbiBvbmUgZGltZW5zaW9uIGluIGF1ZGlvLiBBcmUgeW91IHRyeWluZyB0byBwcm9jZXNzIGF1ZGlvIHdpdGggMiBjaGFubmVscz8iCgogICAgICAgIGF1ZGlvID0gU2lsZXJvVkFEU2VnbWVudGVyLnJlc2FtcGxlX2F1ZGlvKGF1ZGlvLCBzYW1wbGluZ19yYXRlKQoKICAgICAgICBpZiBzYW1wbGluZ19yYXRlID09IDgwMDAgYW5kIHdpbmRvd19zaXplX3NhbXBsZXMgPiA3Njg6CiAgICAgICAgICAgIHdhcm5pbmdzLndhcm4oCiAgICAgICAgICAgICAgICAiIiJ3aW5kb3dfc2l6ZV9zYW1wbGVzIGlzIHRvbyBiaWcgZm9yIDgwMDAgc2FtcGxpbmdfcmF0ZSEgQmV0dGVyIHNldCB3aW5kb3dfc2l6ZV9zYW1wbGVzIHRvIAogICAgICAgICAgICAgICAgMjU2LCA1MTIgb3IgNzY4IGZvciA4MDAwIHNhbXBsZSByYXRlISIiIgogICAgICAgICAgICApCiAgICAgICAgaWYgd2luZG93X3NpemVfc2FtcGxlcyBub3QgaW4gWzI1NiwgNTEyLCA3NjgsIDEwMjQsIDE1MzZdOgogICAgICAgICAgICB3YXJuaW5ncy53YXJuKAogICAgICAgICAgICAgICAgIiIiVW51c3VhbCB3aW5kb3dfc2l6ZV9zYW1wbGVzISBTdXBwb3J0ZWQgd2luZG93X3NpemVfc2FtcGxlczpcbiAtIFs1MTIsIDEwMjQsIDE1MzZdIGZvciAKICAgICAgICAgICAgICAgIDE2MDAwIHNhbXBsaW5nX3JhdGVcbiAtIFsyNTYsIDUxMiwgNzY4XSBmb3IgODAwMCBzYW1wbGluZ19yYXRlIiIiCiAgICAgICAgICAgICkKCiAgICAgICAgbW9kZWwucmVzZXRfc3RhdGVzKCkKCiAgICAgICAgYXVkaW9fbGVuZ3RoX3NhbXBsZXMgPSBsZW4oYXVkaW8pCgogICAgICAgIHNwZWVjaF9wcm9icyA9IFtdCiAgICAgICAgZm9yIGN1cnJlbnRfc3RhcnRfc2FtcGxlIGluIHJhbmdlKDAsIGF1ZGlvX2xlbmd0aF9zYW1wbGVzLCB3aW5kb3dfc2l6ZV9zYW1wbGVzKToKICAgICAgICAgICAgY2h1bmsgPSBhdWRpb1sKICAgICAgICAgICAgICAgIGN1cnJlbnRfc3RhcnRfc2FtcGxlIDogY3VycmVudF9zdGFydF9zYW1wbGUgKyB3aW5kb3dfc2l6ZV9zYW1wbGVzCiAgICAgICAgICAgIF0KICAgICAgICAgICAgaWYgbGVuKGNodW5rKSA8IHdpbmRvd19zaXplX3NhbXBsZXM6CiAgICAgICAgICAgICAgICBjaHVuayA9IHRvcmNoLm5uLmZ1bmN0aW9uYWwucGFkKAogICAgICAgICAgICAgICAgICAgIGNodW5rLCAoMCwgaW50KHdpbmRvd19zaXplX3NhbXBsZXMgLSBsZW4oY2h1bmspKSkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgaWYgbmV4dChtb2RlbC5wYXJhbWV0ZXJzKCkpLmlzX2N1ZGE6CiAgICAgICAgICAgICAgICBjaHVuayA9IGNodW5rLmN1ZGEoKQogICAgICAgICAgICBzcGVlY2hfcHJvYiA9IG1vZGVsKGNodW5rLCBzYW1wbGluZ19yYXRlKS5pdGVtKCkKICAgICAgICAgICAgc3BlZWNoX3Byb2JzLmFwcGVuZChzcGVlY2hfcHJvYikKCiAgICAgICAgcmV0dXJuIG5wLmFycmF5KHNwZWVjaF9wcm9icyksIGF1ZGlvX2xlbmd0aF9zYW1wbGVzCiAgICAKY2xhc3MgU2VnbWVudDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdGFydDogaW50LCBlbmQ6IGludCwgcHJvYnM6IG5wLm5kYXJyYXkpOgogICAgICAgIHNlbGYuc3RhcnQgPSBzdGFydAogICAgICAgIHNlbGYuZW5kID0gZW5kCiAgICAgICAgc2VsZi5wcm9icyA9IHByb2JzCiAgICAgICAgc2VsZi5kdXJhdGlvbiA9IGZsb2F0KGVuZCAtIHN0YXJ0KQogICAg'),
    ('seamless/build/lib/seamless_communication/models/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/build/lib/seamless_communication/models/tokenizer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGUKIyBNSVRfTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBTZXF1ZW5jZSwgU2V0LCBmaW5hbAoKZnJvbSBmYWlyc2VxMi5kYXRhLnRleHQgaW1wb3J0ICgKICAgIFNlbnRlbmNlUGllY2VEZWNvZGVyLAogICAgU2VudGVuY2VQaWVjZUVuY29kZXIsCiAgICBTZW50ZW5jZVBpZWNlTW9kZWwsCiAgICBUZXh0VG9rZW5EZWNvZGVyLAogICAgVGV4dFRva2VuRW5jb2RlciwKICAgIFRleHRUb2tlbml6ZXIsCiAgICB2b2NhYl9pbmZvX2Zyb21fc2VudGVuY2VwaWVjZSwKKQpmcm9tIGZhaXJzZXEyLmRhdGEudHlwaW5nIGltcG9ydCBQYXRoTGlrZQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGV2aWNlLCBmaW5hbG92ZXJyaWRlCgoKQGZpbmFsCmNsYXNzIFNQTVRva2VuaXplcihUZXh0VG9rZW5pemVyKToKICAgICIiIlJlcHJlc2VudHMgc3RhbmRhcmQgU1BNLWJhc2VkIHRva2VuaXplciB1c2VkIGluIE1UIHRhc2tzIiIiCgogICAgbW9kZWw6IFNlbnRlbmNlUGllY2VNb2RlbAogICAgbGFuZ3M6IFNldFtzdHJdCiAgICBwcmVwZW5kX3RhcmdldF9sYW5ndG9rX3RvX3RhcmdldDogYm9vbAoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHBhdGhuYW1lOiBQYXRoTGlrZSwKICAgICAgICBsYW5nczogU2VxdWVuY2Vbc3RyXSwKICAgICAgICBwcmVwZW5kX3RhcmdldF9sYW5ndG9rX3RvX3RhcmdldDogYm9vbCA9IFRydWUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIHBhdGhuYW1lOgogICAgICAgICAgICBUaGUgcGF0aG5hbWUgb2YgdGhlIFNlbnRlbmNlUGllY2UgbW9kZWwgZmlsZS4KICAgICAgICA6cGFyYW0gbGFuZ3M6CiAgICAgICAgICAgIFRoZSBsaXN0IG9mIHN1cHBvcnRlZCBsYW5ndWFnZXMuCiAgICAgICAgOnBhcmFtIGRlZmF1bHRfbGFuZzoKICAgICAgICAgICAgVGhlIGZhbGwtYmFjayBsYW5ndWFnZSBpZiBubyBsYW5ndWFnZSBpcyBzcGVjaWZpZWQuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5sYW5ncyA9IHNldChsYW5ncykKICAgICAgICBzZWxmLnByZXBlbmRfdGFyZ2V0X2xhbmd0b2tfdG9fdGFyZ2V0ID0gcHJlcGVuZF90YXJnZXRfbGFuZ3Rva190b190YXJnZXQKCiAgICAgICAgIyBFYWNoIGxhbmd1YWdlIGlzIHJlcHJlc2VudGVkIGJ5IGEgYF9fbGFuZ19fYCBjb250cm9sIHN5bWJvbC4KICAgICAgICBjb250cm9sX3N5bWJvbHMgPSBbc2VsZi5fbGFuZ190b2tfdG9faW50ZXJuYWwobGFuZykgZm9yIGxhbmcgaW4gc29ydGVkKGxhbmdzKV0KICAgICAgICBzZWxmLm1vZGVsID0gU2VudGVuY2VQaWVjZU1vZGVsKHBhdGhuYW1lLCBjb250cm9sX3N5bWJvbHMpCiAgICAgICAgdm9jYWJfaW5mbyA9IHZvY2FiX2luZm9fZnJvbV9zZW50ZW5jZXBpZWNlKHNlbGYubW9kZWwpCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyh2b2NhYl9pbmZvKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9sYW5nX3Rva190b19pbnRlcm5hbChjbHMsIGxhbmc6IHN0cikgLT4gc3RyOgogICAgICAgIHJldHVybiBmIl9fe2xhbmd9X18iCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBjcmVhdGVfZW5jb2RlcigKICAgICAgICBzZWxmLAogICAgICAgICosCiAgICAgICAgdGFzazogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbW9kZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBwaW5fbWVtb3J5OiBib29sID0gRmFsc2UsCiAgICApIC0+IFRleHRUb2tlbkVuY29kZXI6CiAgICAgICAgIiIiQ3JlYXRlIGEgdG9rZW4gZW5jb2Rlci4KCiAgICAgICAgOnBhcmFtIHRhc2s6CiAgICAgICAgICAgIE11c3QgYmUgJ3RyYW5zbGF0aW9uJy4gSWYgYGBOb25lYGAsIGRlZmF1bHRzIHRvICd0cmFuc2xhdGlvbicuCiAgICAgICAgOnBhcmFtIGxhbmc6CiAgICAgICAgICAgIEEgbGFuZ3VhZ2UgZnJvbSA6YXR0cjpgbGFuZ3NgLiBJZiBgYE5vbmVgYCwgZGVmYXVsdHMgdG8KICAgICAgICAgICAgOmF0dHI6YGRlZmF1bHRfbGFuZ2AuCiAgICAgICAgOnBhcmFtIG1vZGU6CiAgICAgICAgICAgIE11c3QgYmUgJ3NvdXJjZScgb3IgJ3RhcmdldCcuCiAgICAgICAgOnBhcmFtIGRldmljZToKICAgICAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBjb25zdHJ1Y3QgdGVuc29ycy4KICAgICAgICA6cGFyYW0gcGluX21lbW9yeToKICAgICAgICAgICAgSWYgYGBUcnVlYGAsIHVzZXMgcGlubmVkIG1lbW9yeSB3aGlsZSBjb25zdHJ1Y3RpbmcgdGVuc29ycy4KICAgICAgICAiIiIKICAgICAgICBpZiB0YXNrIGlzIG5vdCBOb25lIGFuZCB0YXNrICE9ICJ0cmFuc2xhdGlvbiI6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJgdGFza2AgbXVzdCBiZSAndHJhbnNsYXRpb24nLCBidXQgaXMgJ3t0YXNrfScgaW5zdGVhZC4iKQoKICAgICAgICBhc3NlcnQgbGFuZyBpcyBub3QgTm9uZQoKICAgICAgICBpZiBsYW5nIG5vdCBpbiBzZWxmLmxhbmdzOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgbGFuZ2AgbXVzdCBiZSBhIHN1cHBvcnRlZCBsYW5ndWFnZSwgYnV0IGlzICd7bGFuZ30nIGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIGlmIG1vZGUgaXMgTm9uZSBvciBtb2RlID09ICJzb3VyY2UiOgogICAgICAgICAgICBwcmVmaXhfdG9rZW5zID0gW10KICAgICAgICAgICAgc3VmZml4X3Rva2VucyA9IFsiPC9zPiJdCiAgICAgICAgZWxpZiBtb2RlID09ICJ0YXJnZXQiOgogICAgICAgICAgICBwcmVmaXhfdG9rZW5zID0gKAogICAgICAgICAgICAgICAgWyI8L3M+Il0gKyBbc2VsZi5fbGFuZ190b2tfdG9faW50ZXJuYWwobGFuZyldCiAgICAgICAgICAgICAgICBpZiBzZWxmLnByZXBlbmRfdGFyZ2V0X2xhbmd0b2tfdG9fdGFyZ2V0CiAgICAgICAgICAgICAgICBlbHNlIFtdCiAgICAgICAgICAgICkKICAgICAgICAgICAgc3VmZml4X3Rva2VucyA9IFsiPC9zPiJdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgIGYiYG1vZGVgIG11c3QgYmUgJ3NvdXJjZScgb3IgJ3RhcmdldCcsIGJ1dCBpcyAne21vZGV9JyBpbnN0ZWFkLiIKICAgICAgICAgICAgKQoKICAgICAgICByZXR1cm4gU2VudGVuY2VQaWVjZUVuY29kZXIoCiAgICAgICAgICAgIHNlbGYubW9kZWwsCiAgICAgICAgICAgIHByZWZpeF90b2tlbnM9cHJlZml4X3Rva2VucywKICAgICAgICAgICAgc3VmZml4X3Rva2Vucz1zdWZmaXhfdG9rZW5zLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBwaW5fbWVtb3J5PXBpbl9tZW1vcnksCiAgICAgICAgKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgY3JlYXRlX3Jhd19lbmNvZGVyKAogICAgICAgIHNlbGYsICosIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsIHBpbl9tZW1vcnk6IGJvb2wgPSBGYWxzZQogICAgKSAtPiBUZXh0VG9rZW5FbmNvZGVyOgogICAgICAgIHJldHVybiBTZW50ZW5jZVBpZWNlRW5jb2RlcihzZWxmLm1vZGVsLCBkZXZpY2U9ZGV2aWNlLCBwaW5fbWVtb3J5PXBpbl9tZW1vcnkpCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBjcmVhdGVfZGVjb2RlcihzZWxmKSAtPiBUZXh0VG9rZW5EZWNvZGVyOgogICAgICAgIHJldHVybiBTZW50ZW5jZVBpZWNlRGVjb2RlcihzZWxmLm1vZGVsKQo='),
    ('seamless/build/lib/seamless_communication/models/pretssel/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnByZXRzc2VsLmVjYXBhX3Rkbm4gaW1wb3J0IEVDQVBBX1RETk4gYXMgRUNBUEFfVEROTgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnByZXRzc2VsLmVjYXBhX3Rkbm5fYnVpbGRlciBpbXBvcnQgKAogICAgRWNhcGFURE5OQnVpbGRlciBhcyBFY2FwYVRETk5CdWlsZGVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMucHJldHNzZWwuZWNhcGFfdGRubl9idWlsZGVyIGltcG9ydCAoCiAgICBFY2FwYVRETk5Db25maWcgYXMgRWNhcGFURE5OQ29uZmlnLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMucHJldHNzZWwuZWNhcGFfdGRubl9idWlsZGVyIGltcG9ydCAoCiAgICBlY2FwYV90ZG5uX2FyY2hzIGFzIGVjYXBhX3Rkbm5fYXJjaHMsCikK'),
    ('seamless/build/lib/seamless_communication/models/pretssel/ecapa_tdnn.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2ssIHRvX3BhZGRpbmdfbWFzawpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgQ29udjFkLCBMYXllck5vcm0sIE1vZHVsZSwgTW9kdWxlTGlzdCwgUmVMVSwgU2lnbW9pZCwgVGFuaCwgaW5pdAoKCmNsYXNzIEVDQVBBX1RETk4oTW9kdWxlKToKICAgICIiIgogICAgUmVwcmVzZW50cyB0aGUgRUNBUEEtVEROTiBtb2RlbCBkZXNjcmliZWQgaW4gcGFwZXI6CiAgICA6Y2l0ZTp0YGh0dHBzOi8vZG9pLm9yZy8xMC40ODU1MC9hcnhpdi4yMDA1LjA3MTQzYC4KCiAgICBBcmd1bWVudHMKICAgIC0tLS0tLS0tLQogICAgOnBhcmFtIGNoYW5uZWxzOgogICAgICAgIE91dHB1dCBjaGFubmVscyBmb3IgVEROTi9TRVJlczJOZXQgbGF5ZXIuCiAgICA6cGFyYW0ga2VybmVsX3NpemVzOgogICAgICAgIExpc3Qgb2Yga2VybmVsIHNpemVzIGZvciBlYWNoIGxheWVyLgogICAgOnBhcmFtIGRpbGF0aW9uczoKICAgICAgICBMaXN0IG9mIGRpbGF0aW9ucyBmb3Iga2VybmVscyBpbiBlYWNoIGxheWVyLgogICAgOnBhcmFtIGdyb3VwczoKICAgICAgICBMaXN0IG9mIGdyb3VwcyBmb3Iga2VybmVscyBpbiBlYWNoIGxheWVyLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY2hhbm5lbHM6IExpc3RbaW50XSwKICAgICAgICBrZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICBkaWxhdGlvbnM6IExpc3RbaW50XSwKICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM6IGludCwKICAgICAgICByZXMybmV0X3NjYWxlOiBpbnQsCiAgICAgICAgc2VfY2hhbm5lbHM6IGludCwKICAgICAgICBnbG9iYWxfY29udGV4dDogYm9vbCwKICAgICAgICBncm91cHM6IExpc3RbaW50XSwKICAgICAgICBlbWJlZF9kaW06IGludCwKICAgICAgICBpbnB1dF9kaW06IGludCwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgYXNzZXJ0IGxlbihjaGFubmVscykgPT0gbGVuKGtlcm5lbF9zaXplcykgPT0gbGVuKGRpbGF0aW9ucykKICAgICAgICBzZWxmLmNoYW5uZWxzID0gY2hhbm5lbHMKICAgICAgICBzZWxmLmVtYmVkX2RpbSA9IGVtYmVkX2RpbQogICAgICAgIHNlbGYuYmxvY2tzID0gTW9kdWxlTGlzdCgpCgogICAgICAgIHNlbGYuYmxvY2tzLmFwcGVuZCgKICAgICAgICAgICAgVEROTkJsb2NrKAogICAgICAgICAgICAgICAgaW5wdXRfZGltLAogICAgICAgICAgICAgICAgY2hhbm5lbHNbMF0sCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZXNbMF0sCiAgICAgICAgICAgICAgICBkaWxhdGlvbnNbMF0sCiAgICAgICAgICAgICAgICBncm91cHNbMF0sCiAgICAgICAgICAgICkKICAgICAgICApCgogICAgICAgICMgU0UtUmVzMk5ldCBsYXllcnMKICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCBsZW4oY2hhbm5lbHMpIC0gMSk6CiAgICAgICAgICAgIHNlbGYuYmxvY2tzLmFwcGVuZCgKICAgICAgICAgICAgICAgIFNFUmVzMk5ldEJsb2NrKAogICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzW2kgLSAxXSwKICAgICAgICAgICAgICAgICAgICBjaGFubmVsc1tpXSwKICAgICAgICAgICAgICAgICAgICByZXMybmV0X3NjYWxlPXJlczJuZXRfc2NhbGUsCiAgICAgICAgICAgICAgICAgICAgc2VfY2hhbm5lbHM9c2VfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemVzW2ldLAogICAgICAgICAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uc1tpXSwKICAgICAgICAgICAgICAgICAgICBncm91cHM9Z3JvdXBzW2ldLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCgogICAgICAgICMgTXVsdGktbGF5ZXIgZmVhdHVyZSBhZ2dyZWdhdGlvbgogICAgICAgIHNlbGYubWZhID0gVEROTkJsb2NrKAogICAgICAgICAgICBjaGFubmVsc1stMV0sCiAgICAgICAgICAgIGNoYW5uZWxzWy0xXSwKICAgICAgICAgICAga2VybmVsX3NpemVzWy0xXSwKICAgICAgICAgICAgZGlsYXRpb25zWy0xXSwKICAgICAgICAgICAgZ3JvdXBzPWdyb3Vwc1stMV0sCiAgICAgICAgKQoKICAgICAgICAjIEF0dGVudGl2ZSBTdGF0aXN0aWNhbCBQb29saW5nCiAgICAgICAgc2VsZi5hc3AgPSBBdHRlbnRpdmVTdGF0aXN0aWNzUG9vbGluZygKICAgICAgICAgICAgY2hhbm5lbHNbLTFdLAogICAgICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM9YXR0ZW50aW9uX2NoYW5uZWxzLAogICAgICAgICAgICBnbG9iYWxfY29udGV4dD1nbG9iYWxfY29udGV4dCwKICAgICAgICApCiAgICAgICAgc2VsZi5hc3Bfbm9ybSA9IExheWVyTm9ybShjaGFubmVsc1stMV0gKiAyLCBlcHM9MWUtMTIpCgogICAgICAgICMgRmluYWwgbGluZWFyIHRyYW5zZm9ybWF0aW9uCiAgICAgICAgc2VsZi5mYyA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9Y2hhbm5lbHNbLTFdICogMiwKICAgICAgICAgICAgb3V0X2NoYW5uZWxzPWVtYmVkX2RpbSwKICAgICAgICAgICAga2VybmVsX3NpemU9MSwKICAgICAgICApCgogICAgICAgIHNlbGYucmVzZXRfcGFyYW1ldGVycygpCgogICAgZGVmIHJlc2V0X3BhcmFtZXRlcnMoc2VsZikgLT4gTm9uZToKICAgICAgICAiIiJSZXNldCB0aGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycyBvZiB0aGUgbW9kdWxlLiIiIgoKICAgICAgICBkZWYgZW5jb2Rlcl9pbml0KG06IE1vZHVsZSkgLT4gTm9uZToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShtLCBDb252MWQpOgogICAgICAgICAgICAgICAgaW5pdC54YXZpZXJfdW5pZm9ybV8obS53ZWlnaHQsIGluaXQuY2FsY3VsYXRlX2dhaW4oInJlbHUiKSkKCiAgICAgICAgc2VsZi5hcHBseShlbmNvZGVyX2luaXQpCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICB4OiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUmV0dXJucyB0aGUgZW1iZWRkaW5nIHZlY3Rvci4KCiAgICAgICAgQXJndW1lbnRzCiAgICAgICAgLS0tLS0tLS0tCiAgICAgICAgeCA6IHRvcmNoLlRlbnNvcgogICAgICAgICAgICBUZW5zb3Igb2Ygc2hhcGUgKGJhdGNoLCB0aW1lLCBjaGFubmVsKS4KICAgICAgICAiIiIKICAgICAgICAjIE1pbmltaXplIHRyYW5zcG9zZSBmb3IgZWZmaWNpZW5jeQogICAgICAgIHggPSB4LnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICB4bCA9IFtdCiAgICAgICAgZm9yIGxheWVyIGluIHNlbGYuYmxvY2tzOgogICAgICAgICAgICB4ID0gbGF5ZXIoeCwgcGFkZGluZ19tYXNrPXBhZGRpbmdfbWFzaykKICAgICAgICAgICAgeGwuYXBwZW5kKHgpCgogICAgICAgICMgTXVsdGktbGF5ZXIgZmVhdHVyZSBhZ2dyZWdhdGlvbgogICAgICAgIHggPSB0b3JjaC5jYXQoeGxbMTpdLCBkaW09MSkKICAgICAgICB4ID0gc2VsZi5tZmEoeCkKCiAgICAgICAgIyBBdHRlbnRpdmUgU3RhdGlzdGljYWwgUG9vbGluZwogICAgICAgIHggPSBzZWxmLmFzcCh4LCBwYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrKQogICAgICAgIHggPSBzZWxmLmFzcF9ub3JtKHgudHJhbnNwb3NlKDEsIDIpKS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyBGaW5hbCBsaW5lYXIgdHJhbnNmb3JtYXRpb24KICAgICAgICB4ID0gc2VsZi5mYyh4KQoKICAgICAgICB4ID0geC50cmFuc3Bvc2UoMSwgMikuc3F1ZWV6ZSgxKSAgIyBCIHggQwogICAgICAgIHJldHVybiBGLm5vcm1hbGl6ZSh4LCBkaW09LTEpCgoKY2xhc3MgVEROTkJsb2NrKE1vZHVsZSk6CiAgICAiIiJBbiBpbXBsZW1lbnRhdGlvbiBvZiBURE5OLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tLQogICAgOnBhcmFtIGluX2NoYW5uZWxzIDogaW50CiAgICAgICAgTnVtYmVyIG9mIGlucHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIGtlcm5lbF9zaXplIDogaW50CiAgICAgICAgVGhlIGtlcm5lbCBzaXplIG9mIHRoZSBURE5OIGJsb2Nrcy4KICAgIDpwYXJhbSBkaWxhdGlvbiA6IGludAogICAgICAgIFRoZSBkaWxhdGlvbiBvZiB0aGUgVEROTiBibG9jay4KICAgIDpwYXJhbSBncm91cHM6IGludAogICAgICAgIFRoZSBncm91cHMgc2l6ZSBvZiB0aGUgVEROTiBibG9ja3MuCgogICAgRXhhbXBsZQogICAgLS0tLS0tLQogICAgPj4+IGlucF90ZW5zb3IgPSB0b3JjaC5yYW5kKFs4LCAxMjAsIDY0XSkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gbGF5ZXIgPSBURE5OQmxvY2soNjQsIDY0LCBrZXJuZWxfc2l6ZT0zLCBkaWxhdGlvbj0xKQogICAgPj4+IG91dF90ZW5zb3IgPSBsYXllcihpbnBfdGVuc29yKS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXRfdGVuc29yLnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBkaWxhdGlvbjogaW50LAogICAgICAgIGdyb3VwczogaW50ID0gMSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb252ID0gQ29udjFkKAogICAgICAgICAgICBpbl9jaGFubmVscz1pbl9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzPW91dF9jaGFubmVscywKICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemUsCiAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uLAogICAgICAgICAgICBwYWRkaW5nPWRpbGF0aW9uICogKGtlcm5lbF9zaXplIC0gMSkgLy8gMiwKICAgICAgICAgICAgZ3JvdXBzPWdyb3VwcywKICAgICAgICApCiAgICAgICAgc2VsZi5hY3RpdmF0aW9uID0gUmVMVSgpCiAgICAgICAgc2VsZi5ub3JtID0gTGF5ZXJOb3JtKG91dF9jaGFubmVscywgZXBzPTFlLTEyKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHg6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHggPSBzZWxmLmFjdGl2YXRpb24oc2VsZi5jb252KHgpKQoKICAgICAgICByZXR1cm4gc2VsZi5ub3JtKHgudHJhbnNwb3NlKDEsIDIpKS50cmFuc3Bvc2UoMSwgMikgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgoKY2xhc3MgUmVzMk5ldEJsb2NrKE1vZHVsZSk6CiAgICAiIiJBbiBpbXBsZW1lbnRhdGlvbiBvZiBSZXMyTmV0QmxvY2sgdy8gZGlsYXRpb24uCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0KICAgIDpwYXJhbSBpbl9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2YgY2hhbm5lbHMgZXhwZWN0ZWQgaW4gdGhlIGlucHV0LgogICAgOnBhcmFtIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIHNjYWxlIDogaW50CiAgICAgICAgVGhlIHNjYWxlIG9mIHRoZSBSZXMyTmV0IGJsb2NrLgogICAgOnBhcmFtIGtlcm5lbF9zaXplOiBpbnQKICAgICAgICBUaGUga2VybmVsIHNpemUgb2YgdGhlIFJlczJOZXQgYmxvY2suCiAgICA6cGFyYW0gZGlsYXRpb24gOiBpbnQKICAgICAgICBUaGUgZGlsYXRpb24gb2YgdGhlIFJlczJOZXQgYmxvY2suCgogICAgRXhhbXBsZQogICAgLS0tLS0tLQogICAgPj4+IGlucF90ZW5zb3IgPSB0b3JjaC5yYW5kKFs4LCAxMjAsIDY0XSkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gbGF5ZXIgPSBSZXMyTmV0QmxvY2soNjQsIDY0LCBzY2FsZT00LCBkaWxhdGlvbj0zKQogICAgPj4+IG91dF90ZW5zb3IgPSBsYXllcihpbnBfdGVuc29yKS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXRfdGVuc29yLnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAgc2NhbGU6IGludCA9IDgsCiAgICAgICAga2VybmVsX3NpemU6IGludCA9IDMsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIGFzc2VydCBpbl9jaGFubmVscyAlIHNjYWxlID09IDAKICAgICAgICBhc3NlcnQgb3V0X2NoYW5uZWxzICUgc2NhbGUgPT0gMAoKICAgICAgICBpbl9jaGFubmVsID0gaW5fY2hhbm5lbHMgLy8gc2NhbGUKICAgICAgICBoaWRkZW5fY2hhbm5lbCA9IG91dF9jaGFubmVscyAvLyBzY2FsZQogICAgICAgIHNlbGYuYmxvY2tzID0gTW9kdWxlTGlzdCgKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgVEROTkJsb2NrKAogICAgICAgICAgICAgICAgICAgIGluX2NoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAgaGlkZGVuX2NoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249ZGlsYXRpb24sCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShzY2FsZSAtIDEpCiAgICAgICAgICAgIF0KICAgICAgICApCiAgICAgICAgc2VsZi5zY2FsZSA9IHNjYWxlCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHkgPSBbXQogICAgICAgIGZvciBpLCB4X2kgaW4gZW51bWVyYXRlKHRvcmNoLmNodW5rKHgsIHNlbGYuc2NhbGUsIGRpbT0xKSk6CiAgICAgICAgICAgIGlmIGkgPT0gMDoKICAgICAgICAgICAgICAgIHlfaSA9IHhfaQogICAgICAgICAgICBlbGlmIGkgPT0gMToKICAgICAgICAgICAgICAgIHlfaSA9IHNlbGYuYmxvY2tzW2kgLSAxXSh4X2kpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB5X2kgPSBzZWxmLmJsb2Nrc1tpIC0gMV0oeF9pICsgeV9pKQogICAgICAgICAgICB5LmFwcGVuZCh5X2kpCgogICAgICAgIHlfdGVuc29yID0gdG9yY2guY2F0KHksIGRpbT0xKQogICAgICAgIHJldHVybiB5X3RlbnNvcgoKCmNsYXNzIFNFQmxvY2soTW9kdWxlKToKICAgICIiIkFuIGltcGxlbWVudGF0aW9uIG9mIHNxdWVlemUtYW5kLWV4Y2l0YXRpb24gYmxvY2suCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0KICAgIGluX2NoYW5uZWxzIDogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBpbnB1dCBjaGFubmVscy4KICAgIHNlX2NoYW5uZWxzIDogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBvdXRwdXQgY2hhbm5lbHMgYWZ0ZXIgc3F1ZWV6ZS4KICAgIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaW5fY2hhbm5lbHM6IGludCwKICAgICAgICBzZV9jaGFubmVsczogaW50LAogICAgICAgIG91dF9jaGFubmVsczogaW50LAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5jb252MSA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9aW5fY2hhbm5lbHMsIG91dF9jaGFubmVscz1zZV9jaGFubmVscywga2VybmVsX3NpemU9MQogICAgICAgICkKICAgICAgICBzZWxmLnJlbHUgPSBSZUxVKGlucGxhY2U9VHJ1ZSkKICAgICAgICBzZWxmLmNvbnYyID0gQ29udjFkKAogICAgICAgICAgICBpbl9jaGFubmVscz1zZV9jaGFubmVscywgb3V0X2NoYW5uZWxzPW91dF9jaGFubmVscywga2VybmVsX3NpemU9MQogICAgICAgICkKICAgICAgICBzZWxmLnNpZ21vaWQgPSBTaWdtb2lkKCkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdID0gTm9uZSkgLT4gVGVuc29yOgogICAgICAgICIiIlByb2Nlc3NlcyB0aGUgaW5wdXQgdGVuc29yIHggYW5kIHJldHVybnMgYW4gb3V0cHV0IHRlbnNvci4iIiIKICAgICAgICBpZiBwYWRkaW5nX21hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1hc2sgPSBwYWRkaW5nX21hc2subWF0ZXJpYWxpemUoKS51bnNxdWVlemUoMSkKICAgICAgICAgICAgcyA9ICh4ICogbWFzaykuc3VtKGRpbT0yLCBrZWVwZGltPVRydWUpIC8gcGFkZGluZ19tYXNrLnNlcV9sZW5zWwogICAgICAgICAgICAgICAgOiwgTm9uZSwgTm9uZQogICAgICAgICAgICBdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcyA9IHgubWVhbihkaW09Miwga2VlcGRpbT1UcnVlKQoKICAgICAgICBzID0gc2VsZi5yZWx1KHNlbGYuY29udjEocykpCiAgICAgICAgcyA9IHNlbGYuc2lnbW9pZChzZWxmLmNvbnYyKHMpKQoKICAgICAgICByZXR1cm4gcyAqIHgKCgpjbGFzcyBBdHRlbnRpdmVTdGF0aXN0aWNzUG9vbGluZyhNb2R1bGUpOgogICAgIiIiVGhpcyBjbGFzcyBpbXBsZW1lbnRzIGFuIGF0dGVudGl2ZSBzdGF0aXN0aWMgcG9vbGluZyBsYXllciBmb3IgZWFjaCBjaGFubmVsLgogICAgSXQgcmV0dXJucyB0aGUgY29uY2F0ZW5hdGVkIG1lYW4gYW5kIHN0ZCBvZiB0aGUgaW5wdXQgdGVuc29yLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tCiAgICBjaGFubmVsczogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBpbnB1dCBjaGFubmVscy4KICAgIGF0dGVudGlvbl9jaGFubmVsczogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBhdHRlbnRpb24gY2hhbm5lbHMuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgY2hhbm5lbHM6IGludCwgYXR0ZW50aW9uX2NoYW5uZWxzOiBpbnQgPSAxMjgsIGdsb2JhbF9jb250ZXh0OiBib29sID0gVHJ1ZQogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5lcHMgPSAxZS0xMgogICAgICAgIHNlbGYuZ2xvYmFsX2NvbnRleHQgPSBnbG9iYWxfY29udGV4dAogICAgICAgIGlmIGdsb2JhbF9jb250ZXh0OgogICAgICAgICAgICBzZWxmLnRkbm4gPSBURE5OQmxvY2soY2hhbm5lbHMgKiAzLCBhdHRlbnRpb25fY2hhbm5lbHMsIDEsIDEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi50ZG5uID0gVEROTkJsb2NrKGNoYW5uZWxzLCBhdHRlbnRpb25fY2hhbm5lbHMsIDEsIDEpCgogICAgICAgIHNlbGYudGFuaCA9IFRhbmgoKQogICAgICAgIHNlbGYuY29udiA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9YXR0ZW50aW9uX2NoYW5uZWxzLCBvdXRfY2hhbm5lbHM9Y2hhbm5lbHMsIGtlcm5lbF9zaXplPTEKICAgICAgICApCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUpIC0+IFRlbnNvcjoKICAgICAgICAiIiJDYWxjdWxhdGVzIG1lYW4gYW5kIHN0ZCBmb3IgYSBiYXRjaCAoaW5wdXQgdGVuc29yKS4KCiAgICAgICAgQXJndW1lbnRzCiAgICAgICAgLS0tLS0tLS0tCiAgICAgICAgeCA6IHRvcmNoLlRlbnNvcgogICAgICAgICAgICBUZW5zb3Igb2Ygc2hhcGUgW04sIEMsIExdLgogICAgICAgICIiIgogICAgICAgIEwgPSB4LnNoYXBlWy0xXQoKICAgICAgICBkZWYgX2NvbXB1dGVfc3RhdGlzdGljcygKICAgICAgICAgICAgeDogVGVuc29yLCBtOiBUZW5zb3IsIGRpbTogaW50ID0gMiwgZXBzOiBmbG9hdCA9IHNlbGYuZXBzCiAgICAgICAgKSAtPiBUdXBsZVtUZW5zb3IsIFRlbnNvcl06CiAgICAgICAgICAgIG1lYW4gPSAobSAqIHgpLnN1bShkaW0pCiAgICAgICAgICAgIHN0ZCA9IHRvcmNoLnNxcnQoKG0gKiAoeCAtIG1lYW4udW5zcXVlZXplKGRpbSkpLnBvdygyKSkuc3VtKGRpbSkuY2xhbXAoZXBzKSkKICAgICAgICAgICAgcmV0dXJuIG1lYW4sIHN0ZAoKICAgICAgICAjIGlmIGxlbmd0aHMgaXMgTm9uZToKICAgICAgICAjICAgICBsZW5ndGhzID0gW3guc2hhcGVbMF1dCgogICAgICAgICMgTWFrZSBiaW5hcnkgbWFzayBvZiBzaGFwZSBbTiwgMSwgTF0KICAgICAgICAjIG1hc2sgPSB0b19wYWRkaW5nX21hc2sobGVuZ3RocywgbWF4KGxlbmd0aHMpKQogICAgICAgIGlmIHBhZGRpbmdfbWFzayBpcyBub3QgTm9uZToKICAgICAgICAgICAgbWFzayA9IHBhZGRpbmdfbWFzay5tYXRlcmlhbGl6ZSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbWFzayA9IHRvX3BhZGRpbmdfbWFzayh0b3JjaC5JbnRUZW5zb3IoW0xdKSwgTCkucmVwZWF0KHguc2hhcGVbMF0sIDEpLnRvKHgpCiAgICAgICAgbWFzayA9IG1hc2sudW5zcXVlZXplKDEpCgogICAgICAgICMgRXhwYW5kIHRoZSB0ZW1wb3JhbCBjb250ZXh0IG9mIHRoZSBwb29saW5nIGxheWVyIGJ5IGFsbG93aW5nIHRoZQogICAgICAgICMgc2VsZi1hdHRlbnRpb24gdG8gbG9vayBhdCBnbG9iYWwgcHJvcGVydGllcyBvZiB0aGUgdXR0ZXJhbmNlLgogICAgICAgIGlmIHNlbGYuZ2xvYmFsX2NvbnRleHQ6CiAgICAgICAgICAgICMgdG9yY2guc3RkIGlzIHVuc3RhYmxlIGZvciBiYWNrd2FyZCBjb21wdXRhdGlvbgogICAgICAgICAgICAjIGh0dHBzOi8vZ2l0aHViLmNvbS9weXRvcmNoL3B5dG9yY2gvaXNzdWVzLzQzMjAKICAgICAgICAgICAgdG90YWwgPSBtYXNrLnN1bShkaW09Miwga2VlcGRpbT1UcnVlKS50byh4KQogICAgICAgICAgICBtZWFuLCBzdGQgPSBfY29tcHV0ZV9zdGF0aXN0aWNzKHgsIG1hc2sgLyB0b3RhbCkKICAgICAgICAgICAgbWVhbiA9IG1lYW4udW5zcXVlZXplKDIpLnJlcGVhdCgxLCAxLCBMKQogICAgICAgICAgICBzdGQgPSBzdGQudW5zcXVlZXplKDIpLnJlcGVhdCgxLCAxLCBMKQogICAgICAgICAgICBhdHRuID0gdG9yY2guY2F0KFt4LCBtZWFuLCBzdGRdLCBkaW09MSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBhdHRuID0geAoKICAgICAgICAjIEFwcGx5IGxheWVycwogICAgICAgIGF0dG4gPSBzZWxmLmNvbnYoc2VsZi50YW5oKHNlbGYudGRubihhdHRuKSkpCgogICAgICAgICMgRmlsdGVyIG91dCB6ZXJvLXBhZGRpbmdzCiAgICAgICAgYXR0biA9IGF0dG4ubWFza2VkX2ZpbGwobWFzayA9PSAwLCBmbG9hdCgiLWluZiIpKQoKICAgICAgICBhdHRuID0gRi5zb2Z0bWF4KGF0dG4sIGRpbT0yKQogICAgICAgIG1lYW4sIHN0ZCA9IF9jb21wdXRlX3N0YXRpc3RpY3MoeCwgYXR0bikKICAgICAgICAjIEFwcGVuZCBtZWFuIGFuZCBzdGQgb2YgdGhlIGJhdGNoCiAgICAgICAgcG9vbGVkX3N0YXRzID0gdG9yY2guY2F0KChtZWFuLCBzdGQpLCBkaW09MSkKICAgICAgICBwb29sZWRfc3RhdHMgPSBwb29sZWRfc3RhdHMudW5zcXVlZXplKDIpCgogICAgICAgIHJldHVybiBwb29sZWRfc3RhdHMKCgpjbGFzcyBTRVJlczJOZXRCbG9jayhNb2R1bGUpOgogICAgIiIiQW4gaW1wbGVtZW50YXRpb24gb2YgYnVpbGRpbmcgYmxvY2sgaW4gRUNBUEEtVEROTiwgaS5lLiwKICAgIFRETk4tUmVzMk5ldC1URE5OLVNFQmxvY2suCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0tCiAgICBvdXRfY2hhbm5lbHM6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgcmVzMm5ldF9zY2FsZTogaW50CiAgICAgICAgVGhlIHNjYWxlIG9mIHRoZSBSZXMyTmV0IGJsb2NrLgogICAga2VybmVsX3NpemU6IGludAogICAgICAgIFRoZSBrZXJuZWwgc2l6ZSBvZiB0aGUgVEROTiBibG9ja3MuCiAgICBkaWxhdGlvbjogaW50CiAgICAgICAgVGhlIGRpbGF0aW9uIG9mIHRoZSBSZXMyTmV0IGJsb2NrLgogICAgZ3JvdXBzOiBpbnQKICAgIE51bWJlciBvZiBibG9ja2VkIGNvbm5lY3Rpb25zIGZyb20gaW5wdXQgY2hhbm5lbHMgdG8gb3V0cHV0IGNoYW5uZWxzLgoKICAgIEV4YW1wbGUKICAgIC0tLS0tLS0KICAgID4+PiB4ID0gdG9yY2gucmFuZCg4LCAxMjAsIDY0KS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBjb252ID0gU0VSZXMyTmV0QmxvY2soNjQsIDY0LCByZXMybmV0X3NjYWxlPTQpCiAgICA+Pj4gb3V0ID0gY29udih4KS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXQuc2hhcGUKICAgIHRvcmNoLlNpemUoWzgsIDEyMCwgNjRdKQogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaW5fY2hhbm5lbHM6IGludCwKICAgICAgICBvdXRfY2hhbm5lbHM6IGludCwKICAgICAgICByZXMybmV0X3NjYWxlOiBpbnQgPSA4LAogICAgICAgIHNlX2NoYW5uZWxzOiBpbnQgPSAxMjgsCiAgICAgICAga2VybmVsX3NpemU6IGludCA9IDEsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICAgICAgZ3JvdXBzOiBpbnQgPSAxLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLm91dF9jaGFubmVscyA9IG91dF9jaGFubmVscwogICAgICAgIHNlbGYudGRubjEgPSBURE5OQmxvY2soCiAgICAgICAgICAgIGluX2NoYW5uZWxzLAogICAgICAgICAgICBvdXRfY2hhbm5lbHMsCiAgICAgICAgICAgIGtlcm5lbF9zaXplPTEsCiAgICAgICAgICAgIGRpbGF0aW9uPTEsCiAgICAgICAgICAgIGdyb3Vwcz1ncm91cHMsCiAgICAgICAgKQogICAgICAgIHNlbGYucmVzMm5ldF9ibG9jayA9IFJlczJOZXRCbG9jaygKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICBvdXRfY2hhbm5lbHMsCiAgICAgICAgICAgIHJlczJuZXRfc2NhbGUsCiAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICBkaWxhdGlvbiwKICAgICAgICApCiAgICAgICAgc2VsZi50ZG5uMiA9IFRETk5CbG9jaygKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICBvdXRfY2hhbm5lbHMsCiAgICAgICAgICAgIGtlcm5lbF9zaXplPTEsCiAgICAgICAgICAgIGRpbGF0aW9uPTEsCiAgICAgICAgICAgIGdyb3Vwcz1ncm91cHMsCiAgICAgICAgKQogICAgICAgIHNlbGYuc2VfYmxvY2sgPSBTRUJsb2NrKG91dF9jaGFubmVscywgc2VfY2hhbm5lbHMsIG91dF9jaGFubmVscykKCiAgICAgICAgc2VsZi5zaG9ydGN1dCA9IE5vbmUKICAgICAgICBpZiBpbl9jaGFubmVscyAhPSBvdXRfY2hhbm5lbHM6CiAgICAgICAgICAgIHNlbGYuc2hvcnRjdXQgPSBDb252MWQoCiAgICAgICAgICAgICAgICBpbl9jaGFubmVscz1pbl9jaGFubmVscywKICAgICAgICAgICAgICAgIG91dF9jaGFubmVscz1vdXRfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT0xLAogICAgICAgICAgICApCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUpIC0+IFRlbnNvcjoKICAgICAgICAiIiJQcm9jZXNzZXMgdGhlIGlucHV0IHRlbnNvciB4IGFuZCByZXR1cm5zIGFuIG91dHB1dCB0ZW5zb3IuIiIiCiAgICAgICAgcmVzaWR1YWwgPSB4CiAgICAgICAgaWYgc2VsZi5zaG9ydGN1dDoKICAgICAgICAgICAgcmVzaWR1YWwgPSBzZWxmLnNob3J0Y3V0KHgpCgogICAgICAgIHggPSBzZWxmLnRkbm4xKHgpCiAgICAgICAgeCA9IHNlbGYucmVzMm5ldF9ibG9jayh4KQogICAgICAgIHggPSBzZWxmLnRkbm4yKHgpCiAgICAgICAgeCA9IHNlbGYuc2VfYmxvY2soeCwgcGFkZGluZ19tYXNrPXBhZGRpbmdfbWFzaykKCiAgICAgICAgcmV0dXJuIHggKyByZXNpZHVhbAo='),
    ('seamless/build/lib/seamless_communication/models/pretssel/ecapa_tdnn_builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIE9wdGlvbmFsCgpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscy5hcmNoX3JlZ2lzdHJ5IGltcG9ydCBBcmNoaXRlY3R1cmVSZWdpc3RyeQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5wcmV0c3NlbC5lY2FwYV90ZG5uIGltcG9ydCBFQ0FQQV9URE5OCgoKQGRhdGFjbGFzcwpjbGFzcyBFY2FwYVRETk5Db25maWc6CiAgICBjaGFubmVsczogTGlzdFtpbnRdCiAgICBrZXJuZWxfc2l6ZXM6IExpc3RbaW50XQogICAgZGlsYXRpb25zOiBMaXN0W2ludF0KICAgIGF0dGVudGlvbl9jaGFubmVsczogaW50CiAgICByZXMybmV0X3NjYWxlOiBpbnQKICAgIHNlX2NoYW5uZWxzOiBpbnQKICAgIGdsb2JhbF9jb250ZXh0OiBib29sCiAgICBncm91cHM6IExpc3RbaW50XQogICAgZW1iZWRfZGltOiBpbnQKICAgIGlucHV0X2RpbTogaW50CgoKZWNhcGFfdGRubl9hcmNocyA9IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5W0VjYXBhVEROTkNvbmZpZ10oImVjYXBhX3Rkbm4iKQoKZWNhcGFfdGRubl9hcmNoID0gZWNhcGFfdGRubl9hcmNocy5kZWNvcmF0b3IKCgpAZWNhcGFfdGRubl9hcmNoKCJiYXNlIikKZGVmIF9iYXNlX2VjYXBhX3Rkbm4oKSAtPiBFY2FwYVRETk5Db25maWc6CiAgICByZXR1cm4gRWNhcGFURE5OQ29uZmlnKAogICAgICAgIGNoYW5uZWxzPVs1MTIsIDUxMiwgNTEyLCA1MTIsIDE1MzZdLAogICAgICAgIGtlcm5lbF9zaXplcz1bNSwgMywgMywgMywgMV0sCiAgICAgICAgZGlsYXRpb25zPVsxLCAyLCAzLCA0LCAxXSwKICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM9MTI4LAogICAgICAgIHJlczJuZXRfc2NhbGU9OCwKICAgICAgICBzZV9jaGFubmVscz0xMjgsCiAgICAgICAgZ2xvYmFsX2NvbnRleHQ9VHJ1ZSwKICAgICAgICBncm91cHM9WzEsIDEsIDEsIDEsIDFdLAogICAgICAgIGVtYmVkX2RpbT01MTIsCiAgICAgICAgaW5wdXRfZGltPTgwLAogICAgKQoKCmNsYXNzIEVjYXBhVEROTkJ1aWxkZXI6CiAgICAiIiIKICAgIEJ1aWxkZXIgbW9kdWxlIGZvciBFQ0FQQV9URE5OIG1vZGVsCiAgICAiIiIKCiAgICBjb25maWc6IEVjYXBhVEROTkNvbmZpZwogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdCiAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY29uZmlnOiBFY2FwYVRETk5Db25maWcsCiAgICAgICAgKiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgICAgICA6cGFyYW0gZGV2aWNldjoKICAgICAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBpbml0aWFsaXplIG1vZHVsZXMuCiAgICAgICAgOnBhcmFtIGR0eXBlOgogICAgICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgICAgICIiIgogICAgICAgIHNlbGYuY29uZmlnID0gY29uZmlnCgogICAgICAgIHNlbGYuZGV2aWNlLCBzZWxmLmR0eXBlID0gZGV2aWNlLCBkdHlwZQoKICAgIGRlZiBidWlsZF9tb2RlbChzZWxmKSAtPiBFQ0FQQV9URE5OOgogICAgICAgICIiIkJ1aWxkIGEgbW9kZWwuIiIiCiAgICAgICAgbW9kZWwgPSBFQ0FQQV9URE5OKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5jaGFubmVscywKICAgICAgICAgICAgc2VsZi5jb25maWcua2VybmVsX3NpemVzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5kaWxhdGlvbnMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmF0dGVudGlvbl9jaGFubmVscywKICAgICAgICAgICAgc2VsZi5jb25maWcucmVzMm5ldF9zY2FsZSwKICAgICAgICAgICAgc2VsZi5jb25maWcuc2VfY2hhbm5lbHMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmdsb2JhbF9jb250ZXh0LAogICAgICAgICAgICBzZWxmLmNvbmZpZy5ncm91cHMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmVtYmVkX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcuaW5wdXRfZGltLAogICAgICAgICkKICAgICAgICBtb2RlbC50byhkZXZpY2U9c2VsZi5kZXZpY2UsIGR0eXBlPXNlbGYuZHR5cGUpCiAgICAgICAgcmV0dXJuIG1vZGVsCgoKZGVmIGNyZWF0ZV9lY2FwYV90ZG5uX21vZGVsKAogICAgY29uZmlnOiBFY2FwYVRETk5Db25maWcsCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCikgLT4gRUNBUEFfVEROTjoKICAgICIiIkNyZWF0ZSBhIEVDQVBBX1RETk4gbW9kZWwuCgogICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgOnBhcmFtIGR0eXBlOgogICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAiIiIKCiAgICByZXR1cm4gRWNhcGFURE5OQnVpbGRlcihjb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKS5idWlsZF9tb2RlbCgpCg=='),
    ('seamless/build/lib/seamless_communication/models/vocoder/codehifigan.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QsIE9wdGlvbmFsCgppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoLm5uIGFzIG5uCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eSBpbXBvcnQgVmFyaWFuY2VQcmVkaWN0b3IKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy52b2NvZGVyLmhpZmlnYW4gaW1wb3J0IEdlbmVyYXRvcgoKCmNsYXNzIENvZGVHZW5lcmF0b3IoR2VuZXJhdG9yKToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHVwc2FtcGxlX3JhdGVzOiBMaXN0W2ludF0sCiAgICAgICAgdXBzYW1wbGVfa2VybmVsX3NpemVzOiBMaXN0W2ludF0sCiAgICAgICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsOiBpbnQsCiAgICAgICAgcmVzYmxvY2tfa2VybmVsX3NpemVzOiBMaXN0W2ludF0sCiAgICAgICAgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXM6IExpc3RbTGlzdFtpbnRdXSwKICAgICAgICBtb2RlbF9pbl9kaW06IE9wdGlvbmFsW2ludF0sCiAgICAgICAgbnVtX2VtYmVkZGluZ3M6IGludCwKICAgICAgICBlbWJlZGRpbmdfZGltOiBpbnQsCiAgICAgICAgZHVyX3ByZWRpY3Rvcl9wYXJhbXM6IERpY3Rbc3RyLCBBbnldLAogICAgICAgIGxhbmdfZW1iZWRkaW5nX2RpbTogaW50LAogICAgICAgIG51bV9sYW5nczogaW50LAogICAgICAgIHNwa3JfZW1iZWRkaW5nX2RpbTogaW50LAogICAgICAgIG51bV9zcGtyczogaW50LAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKAogICAgICAgICAgICB1cHNhbXBsZV9yYXRlcywKICAgICAgICAgICAgdXBzYW1wbGVfa2VybmVsX3NpemVzLAogICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwsCiAgICAgICAgICAgIHJlc2Jsb2NrX2tlcm5lbF9zaXplcywKICAgICAgICAgICAgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXMsCiAgICAgICAgICAgIG1vZGVsX2luX2RpbSwKICAgICAgICApCiAgICAgICAgc2VsZi5kaWN0ID0gbm4uRW1iZWRkaW5nKG51bV9lbWJlZGRpbmdzLCBlbWJlZGRpbmdfZGltKQogICAgICAgIHNlbGYuc3BrciA9IG5uLkVtYmVkZGluZyhudW1fc3BrcnMsIHNwa3JfZW1iZWRkaW5nX2RpbSkKICAgICAgICBzZWxmLmxhbmcgPSBubi5FbWJlZGRpbmcobnVtX2xhbmdzLCBsYW5nX2VtYmVkZGluZ19kaW0pCgogICAgICAgIHNlbGYuZHVyX3ByZWRpY3RvciA9IE5vbmUKICAgICAgICBpZiBkdXJfcHJlZGljdG9yX3BhcmFtczoKICAgICAgICAgICAgc2VsZi5kdXJfcHJlZGljdG9yID0gVmFyaWFuY2VQcmVkaWN0b3IoKipkdXJfcHJlZGljdG9yX3BhcmFtcykKCiAgICAgICAgc2VsZi5udW1fc3BrcnMgPSBudW1fc3BrcnMKICAgICAgICBzZWxmLm51bV9sYW5ncyA9IG51bV9sYW5ncwoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfdXBzYW1wbGUoc2lnbmFsOiBUZW5zb3IsIG1heF9mcmFtZXM6IGludCkgLT4gVGVuc29yOgogICAgICAgIGlmIHNpZ25hbC5kaW0oKSA9PSAzOgogICAgICAgICAgICBic3osIGNoYW5uZWxzLCBjb25kX2xlbmd0aCA9IHNpZ25hbC5zaXplKCkKICAgICAgICBlbGlmIHNpZ25hbC5kaW0oKSA9PSAyOgogICAgICAgICAgICBzaWduYWwgPSBzaWduYWwudW5zcXVlZXplKDIpCiAgICAgICAgICAgIGJzeiwgY2hhbm5lbHMsIGNvbmRfbGVuZ3RoID0gc2lnbmFsLnNpemUoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNpZ25hbCA9IHNpZ25hbC52aWV3KC0xLCAxLCAxKQogICAgICAgICAgICBic3osIGNoYW5uZWxzLCBjb25kX2xlbmd0aCA9IHNpZ25hbC5zaXplKCkKCiAgICAgICAgc2lnbmFsID0gc2lnbmFsLnVuc3F1ZWV6ZSgzKS5yZXBlYXQoMSwgMSwgMSwgbWF4X2ZyYW1lcyAvLyBjb25kX2xlbmd0aCkKCiAgICAgICAgIyBwYWQgemVyb3MgYXMgbmVlZGVkIChpZiBzaWduYWwncyBzaGFwZSBkb2VzIG5vdCBkaXZpZGUgY29tcGxldGVseSB3aXRoIG1heF9mcmFtZXMpCiAgICAgICAgcmVtaW5kZXIgPSAobWF4X2ZyYW1lcyAtIHNpZ25hbC5zaGFwZVsyXSAqIHNpZ25hbC5zaGFwZVszXSkgLy8gc2lnbmFsLnNoYXBlWzNdCiAgICAgICAgaWYgcmVtaW5kZXIgPiAwOgogICAgICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKAogICAgICAgICAgICAgICAgIlBhZGRpbmcgY29uZGl0aW9uIHNpZ25hbCAtIG1pc2FsaWdubWVudCBiZXR3ZWVuIGNvbmRpdGlvbiBmZWF0dXJlcy4iCiAgICAgICAgICAgICkKCiAgICAgICAgc2lnbmFsID0gc2lnbmFsLnZpZXcoYnN6LCBjaGFubmVscywgbWF4X2ZyYW1lcykKICAgICAgICByZXR1cm4gc2lnbmFsCgogICAgZGVmIGZvcndhcmQoc2VsZiwgc2FtcGxlOiBEaWN0W3N0ciwgQW55XSwgZHVyX3ByZWRpY3Rpb246IGJvb2wpIC0+IFRlbnNvcjogICMgdHlwZTogaWdub3JlCiAgICAgICAgeCA9IHNhbXBsZVsiY29kZSJdCiAgICAgICAgeCA9IHNlbGYuZGljdCh4KS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgaWYgc2VsZi5kdXJfcHJlZGljdG9yIGFuZCBkdXJfcHJlZGljdGlvbjoKICAgICAgICAgICAgbG9nX2R1cl9wcmVkID0gc2VsZi5kdXJfcHJlZGljdG9yKHgudHJhbnNwb3NlKDEsIDIpLCBOb25lKQogICAgICAgICAgICBkdXJfb3V0ID0gdG9yY2guY2xhbXAoCiAgICAgICAgICAgICAgICB0b3JjaC5yb3VuZCgodG9yY2guZXhwKGxvZ19kdXJfcHJlZCkgLSAxKSkubG9uZygpLCBtaW49MQogICAgICAgICAgICApCiAgICAgICAgICAgICMgQiB4IEMgeCBUCiAgICAgICAgICAgIHJlcGVhdF9pbnRlcmxlYXZlZF94ID0gW10KICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoeC5zaXplKDApKToKICAgICAgICAgICAgICAgIHJlcGVhdF9pbnRlcmxlYXZlZF94LmFwcGVuZCh0b3JjaC5yZXBlYXRfaW50ZXJsZWF2ZSh4W2ldLnVuc3F1ZWV6ZSgwKSwgZHVyX291dFtpXS52aWV3KC0xKSwgZGltPTIpKQogICAgICAgICAgICB4ID0gdG9yY2guY2F0KHJlcGVhdF9pbnRlcmxlYXZlZF94KQogICAgICAgIHVwc2FtcGxlZF9zcGtyID0gW10KICAgICAgICB1cHNhbXBsZWRfbGFuZyA9IFtdCiAgICAgICAgc3BrciA9IHNlbGYuc3BrcihzYW1wbGVbInNwa3IiXSkudHJhbnNwb3NlKDEsIDIpCiAgICAgICAgbGFuZyA9IHNlbGYubGFuZyhzYW1wbGVbImxhbmciXSkudHJhbnNwb3NlKDEsIDIpCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoeC5zaXplKDApKToKICAgICAgICAgICAgdXBzYW1wbGVkX3Nwa3IuYXBwZW5kKHNlbGYuX3Vwc2FtcGxlKHNwa3JbaV0sIHguc2hhcGVbLTFdKSkKICAgICAgICAgICAgdXBzYW1wbGVkX2xhbmcuYXBwZW5kKHNlbGYuX3Vwc2FtcGxlKGxhbmdbaV0sIHguc2hhcGVbLTFdKSkKICAgICAgICBzcGtyID0gdG9yY2guY2F0KHVwc2FtcGxlZF9zcGtyLCBkaW09MSkudHJhbnNwb3NlKDAsIDEpCiAgICAgICAgbGFuZyA9IHRvcmNoLmNhdCh1cHNhbXBsZWRfbGFuZywgZGltPTEpLnRyYW5zcG9zZSgwLCAxKQogICAgICAgIHggPSB0b3JjaC5jYXQoW3gsIHNwa3JdLCBkaW09MSkKICAgICAgICB4ID0gdG9yY2guY2F0KFtsYW5nLCB4XSwgZGltPTEpCgogICAgICAgIHJldHVybiBzdXBlcigpLmZvcndhcmQoeCkK'),
    ('seamless/build/lib/seamless_communication/models/vocoder/hifigan.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgT3B0aW9uYWwKCmltcG9ydCBsb2dnaW5nCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCgpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgQ29udjFkLCBDb252VHJhbnNwb3NlMWQsIE1vZHVsZSwgTW9kdWxlTGlzdApmcm9tIHRvcmNoLm5uLnV0aWxzLndlaWdodF9ub3JtIGltcG9ydCByZW1vdmVfd2VpZ2h0X25vcm0sIHdlaWdodF9ub3JtCgpMUkVMVV9TTE9QRSA9IDAuMQoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgaW5pdF93ZWlnaHRzKG0sIG1lYW46IGZsb2F0ID0gMC4wLCBzdGQ6IGZsb2F0ID0gMC4wMSkgLT4gTm9uZTogICMgdHlwZTogaWdub3JlCiAgICBjbGFzc25hbWUgPSBtLl9fY2xhc3NfXy5fX25hbWVfXwogICAgaWYgY2xhc3NuYW1lLmZpbmQoIkNvbnYiKSAhPSAtMToKICAgICAgICBtLndlaWdodC5kYXRhLm5vcm1hbF8obWVhbiwgc3RkKQoKCmRlZiBnZXRfcGFkZGluZyhrZXJuZWxfc2l6ZTogaW50LCBkaWxhdGlvbjogaW50ID0gMSkgLT4gaW50OgogICAgcmV0dXJuIChrZXJuZWxfc2l6ZSAqIGRpbGF0aW9uIC0gZGlsYXRpb24pIC8vIDIKCgpjbGFzcyBSZXNCbG9jayhNb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGNoYW5uZWxzOiBpbnQsIGtlcm5lbF9zaXplOiBpbnQgPSAzLCBkaWxhdGlvbjogTGlzdFtpbnRdID0gWzEsIDMsIDVdCiAgICApOgogICAgICAgIHN1cGVyKFJlc0Jsb2NrLCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb252czEgPSBNb2R1bGVMaXN0KAogICAgICAgICAgICBbCiAgICAgICAgICAgICAgICB3ZWlnaHRfbm9ybSgKICAgICAgICAgICAgICAgICAgICBDb252MWQoCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVscywKICAgICAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uWzBdLAogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nPWdldF9wYWRkaW5nKGtlcm5lbF9zaXplLCBkaWxhdGlvblswXSksCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgMSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249ZGlsYXRpb25bMV0sCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9Z2V0X3BhZGRpbmcoa2VybmVsX3NpemUsIGRpbGF0aW9uWzFdKSwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgd2VpZ2h0X25vcm0oCiAgICAgICAgICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVscywKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICAgICAgICAgICAgICAxLAogICAgICAgICAgICAgICAgICAgICAgICBkaWxhdGlvbj1kaWxhdGlvblsyXSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1nZXRfcGFkZGluZyhrZXJuZWxfc2l6ZSwgZGlsYXRpb25bMl0pLAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgIF0KICAgICAgICApCiAgICAgICAgc2VsZi5jb252czEuYXBwbHkoaW5pdF93ZWlnaHRzKQoKICAgICAgICBzZWxmLmNvbnZzMiA9IE1vZHVsZUxpc3QoCiAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgMSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249MSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1nZXRfcGFkZGluZyhrZXJuZWxfc2l6ZSwgMSksCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgMSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249MSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1nZXRfcGFkZGluZyhrZXJuZWxfc2l6ZSwgMSksCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgMSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249MSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1nZXRfcGFkZGluZyhrZXJuZWxfc2l6ZSwgMSksCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgXQogICAgICAgICkKICAgICAgICBzZWxmLmNvbnZzMi5hcHBseShpbml0X3dlaWdodHMpCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgZm9yIGMxLCBjMiBpbiB6aXAoc2VsZi5jb252czEsIHNlbGYuY29udnMyKToKICAgICAgICAgICAgeHQgPSBGLmxlYWt5X3JlbHUoeCwgTFJFTFVfU0xPUEUpCiAgICAgICAgICAgIHh0ID0gYzEoeHQpCiAgICAgICAgICAgIHh0ID0gRi5sZWFreV9yZWx1KHh0LCBMUkVMVV9TTE9QRSkKICAgICAgICAgICAgeHQgPSBjMih4dCkKICAgICAgICAgICAgeCA9IHh0ICsgeAogICAgICAgIHJldHVybiB4CgogICAgZGVmIHJlbW92ZV93ZWlnaHRfbm9ybShzZWxmKSAtPiBOb25lOgogICAgICAgIGZvciBsYXllciBpbiBzZWxmLmNvbnZzMToKICAgICAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKGxheWVyKQogICAgICAgIGZvciBsYXllciBpbiBzZWxmLmNvbnZzMjoKICAgICAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKGxheWVyKQoKCmNsYXNzIEdlbmVyYXRvcihNb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgdXBzYW1wbGVfcmF0ZXM6IExpc3RbaW50XSwKICAgICAgICB1cHNhbXBsZV9rZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWw6IGludCwKICAgICAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICByZXNibG9ja19kaWxhdGlvbl9zaXplczogTGlzdFtMaXN0W2ludF1dLAogICAgICAgIG1vZGVsX2luX2RpbTogT3B0aW9uYWxbaW50XSwKICAgICAgICBhZGRfdXBzX291dF9wYWQ6IGJvb2wgPSBGYWxzZSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5udW1fa2VybmVscyA9IGxlbihyZXNibG9ja19rZXJuZWxfc2l6ZXMpCiAgICAgICAgc2VsZi5udW1fdXBzYW1wbGVzID0gbGVuKHVwc2FtcGxlX3JhdGVzKQogICAgICAgIHNlbGYuY29udl9wcmUgPSB3ZWlnaHRfbm9ybSgKICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgbW9kZWxfaW5fZGltIGlmIG1vZGVsX2luX2RpbSBpcyBub3QgTm9uZSBlbHNlIDgwLAogICAgICAgICAgICAgICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsLAogICAgICAgICAgICAgICAgNywKICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICBwYWRkaW5nPTMsCiAgICAgICAgICAgICkKICAgICAgICApCgogICAgICAgIHNlbGYudXBzID0gTW9kdWxlTGlzdCgpCiAgICAgICAgZm9yIGksICh1LCBrKSBpbiBlbnVtZXJhdGUoemlwKHVwc2FtcGxlX3JhdGVzLCB1cHNhbXBsZV9rZXJuZWxfc2l6ZXMpKToKICAgICAgICAgICAgb3V0X3BhZCA9IHUgJSAyIGlmIGFkZF91cHNfb3V0X3BhZCBlbHNlIDAKICAgICAgICAgICAgc2VsZi51cHMuYXBwZW5kKAogICAgICAgICAgICAgICAgd2VpZ2h0X25vcm0oCiAgICAgICAgICAgICAgICAgICAgQ29udlRyYW5zcG9zZTFkKAogICAgICAgICAgICAgICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIqKmkpLAogICAgICAgICAgICAgICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIgKiogKGkgKyAxKSksCiAgICAgICAgICAgICAgICAgICAgICAgIGssCiAgICAgICAgICAgICAgICAgICAgICAgIHUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9KGsgLSB1KSAvLyAyICsgb3V0X3BhZCwKICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhZGRpbmc9b3V0X3BhZCwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKCiAgICAgICAgc2VsZi5yZXNibG9ja3MgPSBNb2R1bGVMaXN0KCkKICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2VsZi51cHMpKToKICAgICAgICAgICAgY2ggPSB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIgKiogKGkgKyAxKSkKICAgICAgICAgICAgZm9yIGssIGQgaW4gemlwKHJlc2Jsb2NrX2tlcm5lbF9zaXplcywgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXMpOgogICAgICAgICAgICAgICAgc2VsZi5yZXNibG9ja3MuYXBwZW5kKFJlc0Jsb2NrKGNoLCBrLCBkKSkKCiAgICAgICAgc2VsZi5jb252X3Bvc3QgPSB3ZWlnaHRfbm9ybShDb252MWQoY2gsIDEsIDcsIDEsIHBhZGRpbmc9MykpCiAgICAgICAgc2VsZi51cHMuYXBwbHkoaW5pdF93ZWlnaHRzKQogICAgICAgIHNlbGYuY29udl9wb3N0LmFwcGx5KGluaXRfd2VpZ2h0cykKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICB4ID0gc2VsZi5jb252X3ByZSh4KQogICAgICAgIGZvciBpIGluIHJhbmdlKHNlbGYubnVtX3Vwc2FtcGxlcyk6CiAgICAgICAgICAgIHggPSBGLmxlYWt5X3JlbHUoeCwgTFJFTFVfU0xPUEUpCiAgICAgICAgICAgIHggPSBzZWxmLnVwc1tpXSh4KQogICAgICAgICAgICB4cyA9IE5vbmUKICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2Uoc2VsZi5udW1fa2VybmVscyk6CiAgICAgICAgICAgICAgICBpZiB4cyBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIHhzID0gc2VsZi5yZXNibG9ja3NbaSAqIHNlbGYubnVtX2tlcm5lbHMgKyBqXSh4KQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICB4cyArPSBzZWxmLnJlc2Jsb2Nrc1tpICogc2VsZi5udW1fa2VybmVscyArIGpdKHgpCiAgICAgICAgICAgIHggPSB4cyAvIHNlbGYubnVtX2tlcm5lbHMgICMgdHlwZTogaWdub3JlCiAgICAgICAgeCA9IEYubGVha3lfcmVsdSh4KQogICAgICAgIHggPSBzZWxmLmNvbnZfcG9zdCh4KQogICAgICAgIHggPSB0b3JjaC50YW5oKHgpCgogICAgICAgIHJldHVybiB4CgogICAgZGVmIHJlbW92ZV93ZWlnaHRfbm9ybShzZWxmKSAtPiBOb25lOgogICAgICAgIGxvZ2dlci5pbmZvKCJSZW1vdmluZyB3ZWlnaHQgbm9ybSBpbiBHZW5lcmF0b3IuIikKICAgICAgICBmb3IgbGF5ZXIgaW4gc2VsZi51cHM6CiAgICAgICAgICAgIHJlbW92ZV93ZWlnaHRfbm9ybShsYXllcikKICAgICAgICBmb3IgbGF5ZXIgaW4gc2VsZi5yZXNibG9ja3M6CiAgICAgICAgICAgIGxheWVyLnJlbW92ZV93ZWlnaHRfbm9ybSgpCiAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKHNlbGYuY29udl9wcmUpCiAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKHNlbGYuY29udl9wb3N0KQo='),
    ('seamless/build/lib/seamless_communication/models/vocoder/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIuYnVpbGRlciBpbXBvcnQgKAogICAgVm9jb2RlckJ1aWxkZXIgYXMgVm9jb2RlckJ1aWxkZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy52b2NvZGVyLmJ1aWxkZXIgaW1wb3J0IFZvY29kZXJDb25maWcgYXMgVm9jb2RlckNvbmZpZwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIuY29kZWhpZmlnYW4gaW1wb3J0ICgKICAgIENvZGVHZW5lcmF0b3IgYXMgQ29kZUdlbmVyYXRvciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIuaGlmaWdhbiBpbXBvcnQgR2VuZXJhdG9yIGFzIEdlbmVyYXRvcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIubG9hZGVyIGltcG9ydCAoCiAgICBsb2FkX3ZvY29kZXJfbW9kZWwgYXMgbG9hZF92b2NvZGVyX21vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci52b2NvZGVyIGltcG9ydCBWb2NvZGVyIGFzIFZvY29kZXIK'),
    ('seamless/build/lib/seamless_communication/models/vocoder/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBNYXBwaW5nCgpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUsIGRvd25sb2FkX21hbmFnZXIKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMgaW1wb3J0IENvbmZpZ0xvYWRlciwgTW9kZWxMb2FkZXIKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5idWlsZGVyIGltcG9ydCAoCiAgICBWb2NvZGVyQ29uZmlnLAogICAgY3JlYXRlX3ZvY29kZXJfbW9kZWwsCiAgICB2b2NvZGVyX2FyY2hzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci52b2NvZGVyIGltcG9ydCBWb2NvZGVyCgoKZGVmIGNvbnZlcnRfdm9jb2Rlcl9jaGVja3BvaW50KAogICAgY2hlY2twb2ludDogTWFwcGluZ1tzdHIsIEFueV0sIGNvbmZpZzogVm9jb2RlckNvbmZpZwopIC0+IE1hcHBpbmdbc3RyLCBBbnldOgogICAgaWYgKAogICAgICAgICJtb2RlbCIgaW4gY2hlY2twb2ludAogICAgICAgIGFuZCAiY29kZV9nZW5lcmF0b3IucmVzYmxvY2tzLjAuY29udnMxLjAud2VpZ2h0X2ciIGluIGNoZWNrcG9pbnRbIm1vZGVsIl0KICAgICk6CiAgICAgICAgcmV0dXJuIGNoZWNrcG9pbnQKCiAgICBvbGRfc3RhdGVfZGljdCA9IGNoZWNrcG9pbnRbImdlbmVyYXRvciJdCiAgICBuZXdfc3RhdGVfZGljdCA9IHt9CiAgICBmb3Iga2V5IGluIG9sZF9zdGF0ZV9kaWN0OgogICAgICAgIG5ld19rZXkgPSBmImNvZGVfZ2VuZXJhdG9yLntrZXl9IgogICAgICAgIG5ld19zdGF0ZV9kaWN0W25ld19rZXldID0gb2xkX3N0YXRlX2RpY3Rba2V5XQogICAgY2hlY2twb2ludFsibW9kZWwiXSA9IG5ld19zdGF0ZV9kaWN0ICAjIHR5cGU6IGlnbm9yZQogICAgZGVsIGNoZWNrcG9pbnRbImdlbmVyYXRvciJdICAjIHR5cGU6IGlnbm9yZQogICAgcmV0dXJuIGNoZWNrcG9pbnQKCgpsb2FkX3ZvY29kZXJfY29uZmlnID0gQ29uZmlnTG9hZGVyW1ZvY29kZXJDb25maWddKGFzc2V0X3N0b3JlLCB2b2NvZGVyX2FyY2hzKQoKCmxvYWRfdm9jb2Rlcl9tb2RlbCA9IE1vZGVsTG9hZGVyW1ZvY29kZXIsIFZvY29kZXJDb25maWddKAogICAgYXNzZXRfc3RvcmUsCiAgICBkb3dubG9hZF9tYW5hZ2VyLAogICAgbG9hZF92b2NvZGVyX2NvbmZpZywKICAgIGNyZWF0ZV92b2NvZGVyX21vZGVsLAogICAgY29udmVydF92b2NvZGVyX2NoZWNrcG9pbnQsCikK'),
    ('seamless/build/lib/seamless_communication/models/vocoder/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgTGlzdCwgT3B0aW9uYWwKCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzLmFyY2hfcmVnaXN0cnkgaW1wb3J0IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5CmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnZvY29kZXIuY29kZWhpZmlnYW4gaW1wb3J0IENvZGVHZW5lcmF0b3IKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy52b2NvZGVyLnZvY29kZXIgaW1wb3J0IFZvY29kZXIKCgpAZGF0YWNsYXNzCmNsYXNzIFZvY29kZXJDb25maWc6CiAgICAiIiJIb2xkcyB0aGUgY29uZmlndXJhdGlvbiBvZiBhIFZvY29kZXIgbW9kZWwuIiIiCgogICAgdXBzYW1wbGVfcmF0ZXM6IExpc3RbaW50XQogICAgdXBzYW1wbGVfa2VybmVsX3NpemVzOiBMaXN0W2ludF0KICAgIHVwc2FtcGxlX2luaXRpYWxfY2hhbm5lbDogaW50CiAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM6IExpc3RbaW50XQogICAgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXM6IExpc3RbTGlzdFtpbnRdXQogICAgbW9kZWxfaW5fZGltOiBpbnQKICAgIG51bV9lbWJlZGRpbmdzOiBpbnQKICAgIGVtYmVkZGluZ19kaW06IGludAogICAgZHVyX3ByZWRpY3Rvcl9wYXJhbXM6IERpY3Rbc3RyLCBmbG9hdF0KICAgIGxhbmdfZW1iZWRkaW5nX2RpbTogaW50CiAgICBudW1fbGFuZ3M6IGludAogICAgc3Brcl9lbWJlZGRpbmdfZGltOiBpbnQKICAgIG51bV9zcGtyczogaW50CiAgICBsYW5nX3Nwa3JfaWR4X21hcDogRGljdFtzdHIsIEFueV0KCgp2b2NvZGVyX2FyY2hzID0gQXJjaGl0ZWN0dXJlUmVnaXN0cnlbVm9jb2RlckNvbmZpZ10oInZvY29kZXJfY29kZV9oaWZpZ2FuIikKCnZvY29kZXJfYXJjaCA9IHZvY29kZXJfYXJjaHMuZGVjb3JhdG9yCgoKQHZvY29kZXJfYXJjaCgiYmFzZSIpCmRlZiBfYmFzZV92b2NvZGVyKCkgLT4gVm9jb2RlckNvbmZpZzoKICAgIHJldHVybiBWb2NvZGVyQ29uZmlnKAogICAgICAgIHVwc2FtcGxlX3JhdGVzPVs1LCA0LCA0LCAyLCAyXSwKICAgICAgICB1cHNhbXBsZV9rZXJuZWxfc2l6ZXM9WzExLCA4LCA4LCA0LCA0XSwKICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWw9NTEyLAogICAgICAgIHJlc2Jsb2NrX2tlcm5lbF9zaXplcz1bMywgNywgMTFdLAogICAgICAgIHJlc2Jsb2NrX2RpbGF0aW9uX3NpemVzPVtbMSwgMywgNV0sIFsxLCAzLCA1XSwgWzEsIDMsIDVdXSwKICAgICAgICBtb2RlbF9pbl9kaW09MTc5MiwKICAgICAgICBudW1fZW1iZWRkaW5ncz0xMDAwMCwKICAgICAgICBlbWJlZGRpbmdfZGltPTEyODAsCiAgICAgICAgZHVyX3ByZWRpY3Rvcl9wYXJhbXM9ewogICAgICAgICAgICAiZW5jb2Rlcl9lbWJlZF9kaW0iOiAxMjgwLAogICAgICAgICAgICAidmFyX3ByZWRfaGlkZGVuX2RpbSI6IDEyODAsCiAgICAgICAgICAgICJ2YXJfcHJlZF9rZXJuZWxfc2l6ZSI6IDMsCiAgICAgICAgICAgICJ2YXJfcHJlZF9kcm9wb3V0IjogMC41LAogICAgICAgIH0sCiAgICAgICAgbGFuZ19lbWJlZGRpbmdfZGltPTI1NiwKICAgICAgICBudW1fbGFuZ3M9MzYsCiAgICAgICAgc3Brcl9lbWJlZGRpbmdfZGltPTI1NiwKICAgICAgICBudW1fc3BrcnM9MjAwLAogICAgICAgIGxhbmdfc3Brcl9pZHhfbWFwPXt9LAogICAgKQoKCmNsYXNzIFZvY29kZXJCdWlsZGVyOgogICAgIiIiQnVpbGRzIG1vZHVsZXMgb2YgYSB2b2NvZGVyIG1vZGVsIChDb2RlIEhpZmlnYW4pIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2tyZXNlYXJjaC9zcGVlY2gtcmVzeW50aGVzaXNgLgoKICAgIFRvIHR3ZWFrIHRoZSBhcmNoaXRlY3R1cmUsIHlvdSBjYW4gZGVyaXZlIGZyb20gdGhpcyBjbGFzcyBhbmQgb3ZlcnJpZGUgdGhlCiAgICBjb3JyZXNwb25kaW5nIG1ldGhvZHMuCiAgICAiIiIKCiAgICBjb25maWc6IFZvY29kZXJDb25maWcKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXQogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvbmZpZzogVm9jb2RlckNvbmZpZywKICAgICAgICAqLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgICAgIDpwYXJhbSBkZXZpY2U6CiAgICAgICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgICAgIDpwYXJhbSBkdHlwZToKICAgICAgICAgICAgVGhlIGRhdGEgdHlwZSBvZiBtb2R1bGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycy4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmNvbmZpZyA9IGNvbmZpZwogICAgICAgIHNlbGYuZGV2aWNlLCBzZWxmLmR0eXBlID0gZGV2aWNlLCBkdHlwZQoKICAgIGRlZiBidWlsZF9tb2RlbChzZWxmKSAtPiBWb2NvZGVyOgogICAgICAgICIiIkJ1aWxkIGEgbW9kZWwuIiIiCgogICAgICAgIGNvZGVfZ2VuZXJhdG9yID0gQ29kZUdlbmVyYXRvcigKICAgICAgICAgICAgc2VsZi5jb25maWcudXBzYW1wbGVfcmF0ZXMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnVwc2FtcGxlX2tlcm5lbF9zaXplcywKICAgICAgICAgICAgc2VsZi5jb25maWcudXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5yZXNibG9ja19rZXJuZWxfc2l6ZXMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnJlc2Jsb2NrX2RpbGF0aW9uX3NpemVzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9pbl9kaW0sCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm51bV9lbWJlZGRpbmdzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5lbWJlZGRpbmdfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5kdXJfcHJlZGljdG9yX3BhcmFtcywKICAgICAgICAgICAgc2VsZi5jb25maWcubGFuZ19lbWJlZGRpbmdfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5udW1fbGFuZ3MsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnNwa3JfZW1iZWRkaW5nX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubnVtX3Nwa3JzLAogICAgICAgICkKICAgICAgICBjb2RlX2dlbmVyYXRvci50byhkZXZpY2U9c2VsZi5kZXZpY2UsIGR0eXBlPXNlbGYuZHR5cGUpCiAgICAgICAgdm9jb2RlciA9IFZvY29kZXIoY29kZV9nZW5lcmF0b3IsIHNlbGYuY29uZmlnLmxhbmdfc3Brcl9pZHhfbWFwKQogICAgICAgIHJldHVybiB2b2NvZGVyCgoKZGVmIGNyZWF0ZV92b2NvZGVyX21vZGVsKAogICAgY29uZmlnOiBWb2NvZGVyQ29uZmlnLAogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAopIC0+IFZvY29kZXI6CiAgICAiIiJDcmVhdGUgYSBWb2NvZGVyIG1vZGVsLgoKICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgOnBhcmFtIGRldmljZToKICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgIDpwYXJhbSBkdHlwZToKICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgIiIiCgogICAgcmV0dXJuIFZvY29kZXJCdWlsZGVyKGNvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpLmJ1aWxkX21vZGVsKCkK'),
    ('seamless/build/lib/seamless_communication/models/vocoder/vocoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBPcHRpb25hbCwgTGlzdCwgVW5pb24KaW1wb3J0IHRvcmNoCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgpmcm9tIHRvcmNoLm5uIGltcG9ydCBNb2R1bGUKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5jb2RlaGlmaWdhbiBpbXBvcnQgQ29kZUdlbmVyYXRvcgoKCmNsYXNzIFZvY29kZXIoTW9kdWxlKToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvZGVfZ2VuZXJhdG9yOiBDb2RlR2VuZXJhdG9yLAogICAgICAgIGxhbmdfc3Brcl9pZHhfbWFwOiBEaWN0W3N0ciwgQW55XSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb2RlX2dlbmVyYXRvciA9IGNvZGVfZ2VuZXJhdG9yCiAgICAgICAgc2VsZi5sYW5nX3Nwa3JfaWR4X21hcCA9IGxhbmdfc3Brcl9pZHhfbWFwCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICB1bml0czogVGVuc29yLAogICAgICAgIGxhbmdfbGlzdDogVW5pb25bTGlzdFtzdHJdLCBzdHJdLAogICAgICAgIHNwa3JfbGlzdDogVW5pb25bT3B0aW9uYWxbTGlzdFtpbnRdXSwgaW50XSA9IE5vbmUsCiAgICAgICAgZHVyX3ByZWRpY3Rpb246IGJvb2wgPSBUcnVlLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgIyBUT0RPOiBEbyB3ZSBuZWVkIHRoaXMgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgb3IganVzdCB1cGRhdGUgYWxsIGNhbGxpbmcgc2l0ZXM/IAogICAgICAgIGlmIGxlbih1bml0cy5zaGFwZSkgPT0gMToKICAgICAgICAgICAgdW5pdHMgPSB1bml0cy51bnNxdWVlemUoMCkgIyBhZGQgYmF0Y2ggZGltCiAgICAgICAgaWYgaXNpbnN0YW5jZShsYW5nX2xpc3QsIHN0cik6CiAgICAgICAgICAgIGxhbmdfbGlzdCA9IFtsYW5nX2xpc3RdICogdW5pdHMuc2l6ZSgwKQogICAgICAgIGlmIGlzaW5zdGFuY2Uoc3Brcl9saXN0LCBpbnQpOgogICAgICAgICAgICBzcGtyX2xpc3QgPSBbc3Brcl9saXN0XSAqIHVuaXRzLnNpemUoMCkKICAgICAgICBsYW5nX2lkeF9saXN0ID0gW3NlbGYubGFuZ19zcGtyX2lkeF9tYXBbIm11bHRpbGluZ3VhbCJdW2xdIGZvciBsIGluIGxhbmdfbGlzdF0KICAgICAgICBpZiBub3Qgc3Brcl9saXN0OgogICAgICAgICAgICBzcGtyX2xpc3QgPSBbLTEgZm9yIF8gaW4gcmFuZ2UobGVuKGxhbmdfbGlzdCkpXQogICAgICAgIHNwa3JfbGlzdCA9IFtzZWxmLmxhbmdfc3Brcl9pZHhfbWFwWyJtdWx0aXNwa3IiXVtsYW5nX2xpc3RbaV1dWzBdIGlmIHNwa3JfbGlzdFtpXSA9PSAtMSBlbHNlIHNwa3JfbGlzdFtpXSBmb3IgaSBpbiByYW5nZShsZW4oc3Brcl9saXN0KSldCiAgICAgICAgeCA9IHsKICAgICAgICAgICAgImNvZGUiOiB1bml0cy52aWV3KHVuaXRzLnNpemUoMCksIC0xKSwKICAgICAgICAgICAgInNwa3IiOiB0b3JjaC50ZW5zb3IoW3Nwa3JfbGlzdF0sIGRldmljZT11bml0cy5kZXZpY2UpLnQoKSwKICAgICAgICAgICAgImxhbmciOiB0b3JjaC50ZW5zb3IoW2xhbmdfaWR4X2xpc3RdLCBkZXZpY2U9dW5pdHMuZGV2aWNlKS50KCksCgogICAgICAgIH0KICAgICAgICByZXR1cm4gc2VsZi5jb2RlX2dlbmVyYXRvcih4LCBkdXJfcHJlZGljdGlvbikgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCg=='),
    ('seamless/build/lib/seamless_communication/models/unit_extractor/unit_extractor.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgppbXBvcnQgbG9nZ2luZwpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IFVuaW9uCgppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoLm5uLmZ1bmN0aW9uYWwgYXMgRgpmcm9tIGZhaXJzZXEyLmFzc2V0cy5jYXJkIGltcG9ydCBBc3NldENhcmQKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBDb2xsYXRlcgpmcm9tIGZhaXJzZXEyLmRhdGEuYXVkaW8gaW1wb3J0IEF1ZGlvRGVjb2Rlcgpmcm9tIGZhaXJzZXEyLm1lbW9yeSBpbXBvcnQgTWVtb3J5QmxvY2sKZnJvbSBmYWlyc2VxMi5tb2RlbHMuc2VxdWVuY2UgaW1wb3J0IFNlcXVlbmNlQmF0Y2gKZnJvbSBmYWlyc2VxMi5tb2RlbHMud2F2MnZlYzIgaW1wb3J0IFdhdjJWZWMyTW9kZWwsIGxvYWRfd2F2MnZlYzJfbW9kZWwKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBnZXRfc2Vxc19hbmRfcGFkZGluZ19tYXNrCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvciwgbm4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdF9leHRyYWN0b3Iua21lYW5zIGltcG9ydCBLbWVhbnNNb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXRfZXh0cmFjdG9yLndhdjJ2ZWMyX2xheWVyX291dHB1dCBpbXBvcnQgKAogICAgV2F2MlZlYzJMYXllck91dHB1dE1vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2RlciBpbXBvcnQgVm9jb2RlciwgbG9hZF92b2NvZGVyX21vZGVsCgpsb2dnaW5nLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2luZy5JTkZPLAogICAgZm9ybWF0PSIlKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzIC0tICUobmFtZSlzOiAlKG1lc3NhZ2UpcyIsCikKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmNsYXNzIFVuaXRFeHRyYWN0b3Iobm4uTW9kdWxlKToKICAgICIiIlVuaXQgRXh0cmFjdG9yIHdoaWNoIGNvbnZlcnRzIHJhdyBhdWRpbyBpbnRvIHVuaXRzLiIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG1vZGVsX25hbWVfb3JfY2FyZDogVW5pb25bc3RyLCBBc3NldENhcmRdLAogICAgICAgIGttZWFuc191cmk6IHN0ciwKICAgICAgICBkZXZpY2U6IERldmljZSwKICAgICAgICBkdHlwZTogRGF0YVR5cGUgPSB0b3JjaC5mbG9hdDMyLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgd2F2MnZlYzJfbW9kZWwgPSBsb2FkX3dhdjJ2ZWMyX21vZGVsKAogICAgICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgKQogICAgICAgIHdhdjJ2ZWMyX21vZGVsLmV2YWwoKQogICAgICAgIGFzc2VydCBpc2luc3RhbmNlKHdhdjJ2ZWMyX21vZGVsLCBXYXYyVmVjMk1vZGVsKQogICAgICAgIHNlbGYubW9kZWwgPSBXYXYyVmVjMkxheWVyT3V0cHV0TW9kZWwod2F2MnZlYzJfbW9kZWwpCiAgICAgICAgc2VsZi5kZWNvZGVfYXVkaW8gPSBBdWRpb0RlY29kZXIoZHR5cGU9dG9yY2guZmxvYXQzMiwgZGV2aWNlPWRldmljZSkKICAgICAgICBzZWxmLmNvbGxhdGUgPSBDb2xsYXRlcihwYWRfdmFsdWU9MSwgcGFkX3RvX211bHRpcGxlPTIpCiAgICAgICAgc2VsZi5rbWVhbnNfbW9kZWwgPSBLbWVhbnNNb2RlbChrbWVhbnNfdXJpLCBkZXZpY2UsIGR0eXBlKQogICAgICAgIHNlbGYuZGV2aWNlID0gZGV2aWNlCiAgICAgICAgc2VsZi5kdHlwZSA9IGR0eXBlCgogICAgQHRvcmNoLmluZmVyZW5jZV9tb2RlKCkKICAgIGRlZiBwcmVkaWN0KAogICAgICAgIHNlbGYsCiAgICAgICAgYXVkaW86IFVuaW9uW3N0ciwgVGVuc29yXSwKICAgICAgICBvdXRfbGF5ZXJfaWR4OiBpbnQsCiAgICAgICAgc2FtcGxlX3JhdGU6IGludCA9IDE2MDAwLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgaWYgaXNpbnN0YW5jZShhdWRpbywgc3RyKToKICAgICAgICAgICAgd2l0aCBQYXRoKGF1ZGlvKS5vcGVuKCJyYiIpIGFzIGZiOgogICAgICAgICAgICAgICAgYmxvY2sgPSBNZW1vcnlCbG9jayhmYi5yZWFkKCkpCiAgICAgICAgICAgIGRlY29kZWRfYXVkaW8gPSBzZWxmLmRlY29kZV9hdWRpbyhibG9jaykKICAgICAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlID09IGRlY29kZWRfYXVkaW9bInNhbXBsZV9yYXRlIl0KICAgICAgICAgICAgKSwgZiJJbnB1dCBhdWRpbyBtdXN0IGhhdmUge3NhbXBsZV9yYXRlfSBzYW1wbGluZyByYXRlIgoKICAgICAgICBlbHNlOgogICAgICAgICAgICBhc3NlcnQgYXVkaW8uZGltKCkgPD0gMiwgIlRoZSBhdWRpbyB0ZW5zb3IgY2FuJ3QgYmUgbW9yZSB0aGFuIDIgZGltZW5zaW9ucy4iCiAgICAgICAgICAgIGlmIGF1ZGlvLmRpbSgpID09IDE6CiAgICAgICAgICAgICAgICBhdWRpbyA9IGF1ZGlvLnVuc3F1ZWV6ZSgxKQogICAgICAgICAgICBlbGlmIGF1ZGlvLmRpbSgpID09IDIgYW5kIGF1ZGlvLnNpemUoMCkgPCBhdWRpby5zaXplKDEpOgogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoCiAgICAgICAgICAgICAgICAgICAgIlRyYW5zcG9zaW5nIGF1ZGlvIHRlbnNvciBmcm9tIChic3osIHNlcV9sZW4pIC0+IChzZXFfbGVuLCBic3opLiIKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGF1ZGlvID0gYXVkaW8udHJhbnNwb3NlKDAsIDEpCgogICAgICAgICAgICBkZWNvZGVkX2F1ZGlvID0gewogICAgICAgICAgICAgICAgIndhdmVmb3JtIjogYXVkaW8udG8oZHR5cGU9c2VsZi5kdHlwZSksCiAgICAgICAgICAgICAgICAic2FtcGxlX3JhdGUiOiBzYW1wbGVfcmF0ZSwKICAgICAgICAgICAgICAgICJmb3JtYXQiOiAtMSwKICAgICAgICAgICAgfQogICAgICAgIHNyYyA9IHNlbGYuY29sbGF0ZShkZWNvZGVkX2F1ZGlvKVsid2F2ZWZvcm0iXQogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IGdldF9zZXFzX2FuZF9wYWRkaW5nX21hc2soc3JjKQogICAgICAgIHNlcXMgPSBzZXFzLnZpZXcoMSwgLTEpCiAgICAgICAgc2VxcyA9IEYubGF5ZXJfbm9ybShzZXFzLCBzZXFzLnNoYXBlKQogICAgICAgIGJhdGNoID0gU2VxdWVuY2VCYXRjaChzZXFzPXNlcXMsIHBhZGRpbmdfbWFzaz1wYWRkaW5nX21hc2spCiAgICAgICAgZmVhdHVyZXMgPSBzZWxmLm1vZGVsKGJhdGNoLCBvdXRfbGF5ZXJfaWR4KS5zcXVlZXplKDApCiAgICAgICAgdW5pdHMgPSBzZWxmLmttZWFuc19tb2RlbChmZWF0dXJlcykKICAgICAgICByZXR1cm4gdW5pdHMgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIHJlc3ludGhlc2l6ZV9hdWRpbygKICAgICAgICB1bml0czogVGVuc29yLAogICAgICAgIHNyY19sYW5nOiBzdHIsCiAgICAgICAgZGV2aWNlOiBEZXZpY2UsCiAgICAgICAgZHR5cGU6IERhdGFUeXBlLAogICAgICAgIHZvY29kZXJfbmFtZTogc3RyID0gInZvY29kZXJfdjIiLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgdm9jb2RlciA9IGxvYWRfdm9jb2Rlcl9tb2RlbCh2b2NvZGVyX25hbWUsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgICAgIHZvY29kZXIuZXZhbCgpCiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2Uodm9jb2RlciwgVm9jb2RlcikKICAgICAgICB3YXYgPSB2b2NvZGVyKHVuaXRzLCBzcmNfbGFuZywgc3Brcj0tMSwgZHVyX3ByZWRpY3Rpb249VHJ1ZSkKICAgICAgICByZXR1cm4gd2F2ICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQo='),
    ('seamless/build/lib/seamless_communication/models/unit_extractor/wav2vec2_layer_output.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbAoKaW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaC5ubiBhcyBubgpmcm9tIGZhaXJzZXEyLm1vZGVscy5zZXF1ZW5jZSBpbXBvcnQgU2VxdWVuY2VCYXRjaApmcm9tIGZhaXJzZXEyLm1vZGVscy53YXYydmVjMiBpbXBvcnQgKAogICAgV2F2MlZlYzJDb25maWcsCiAgICBXYXYyVmVjMkVuY29kZXJDb25maWcsCiAgICBXYXYyVmVjMkZyb250ZW5kLAogICAgV2F2MlZlYzJNb2RlbCwKICAgIHdhdjJ2ZWMyX2FyY2gsCikKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBQYWRkaW5nTWFzawpmcm9tIGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyIGltcG9ydCBUcmFuc2Zvcm1lckVuY29kZXIsIFRyYW5zZm9ybWVyTm9ybU9yZGVyCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgoKCmRlZiBfZW5jb2Rlcl94bHNyMl8xYl92MigpIC0+IFdhdjJWZWMyRW5jb2RlckNvbmZpZzoKICAgIGxheWVyX2Rlc2NzID0gWyg1MTIsIDEwLCA1KV0gKyBbKDUxMiwgMywgMildICogNCArIFsoNTEyLCAyLCAyKV0gKiAyCgogICAgcmV0dXJuIFdhdjJWZWMyRW5jb2RlckNvbmZpZygKICAgICAgICBtb2RlbF9kaW09MTI4MCwKICAgICAgICBtYXhfc2VxX2xlbj00MDk2LAogICAgICAgIGZlYXR1cmVfZGltPTUxMiwKICAgICAgICB1c2VfZmJhbms9RmFsc2UsCiAgICAgICAgZmlyc3RfcGFzc19kcm9wb3V0X3A9MC4wLAogICAgICAgIGxheWVyX25vcm1fZmVhdHVyZXM9RmFsc2UsCiAgICAgICAgZmVhdHVyZV9leHRyYWN0b3JfbGF5ZXJfZGVzY3M9bGF5ZXJfZGVzY3MsCiAgICAgICAgZmVhdHVyZV9leHRyYWN0b3JfYmlhcz1UcnVlLAogICAgICAgIGZlYXR1cmVfZXh0cmFjdG9yX2xheWVyX25vcm1fY29udnM9VHJ1ZSwKICAgICAgICBmZWF0dXJlX2dyYWRfc2NhbGU9MS4wLAogICAgICAgIG51bV9mYmFua19jaGFubmVscz0wLAogICAgICAgIGZiYW5rX3N0cmlkZT0wLAogICAgICAgIHNhbXBsZV9mYmFua19ldmVyeV9rPTAsCiAgICAgICAgcG9zX2VuY29kZXJfdHlwZT0iY29udiIsCiAgICAgICAgcG9zX2VuY29kZXJfZGVwdGg9MSwKICAgICAgICBwb3NfY29udl9rZXJuZWxfc2l6ZT0xMjgsCiAgICAgICAgbnVtX3Bvc19jb252X2dyb3Vwcz0xNiwKICAgICAgICB1c2VfY29uZm9ybWVyPUZhbHNlLAogICAgICAgIG51bV9lbmNvZGVyX2xheWVycz00OCwKICAgICAgICBudW1fZW5jb2Rlcl9hdHRuX2hlYWRzPTE2LAogICAgICAgIGZmbl9pbm5lcl9kaW09NTEyMCwKICAgICAgICBkcm9wb3V0X3A9MC4xLAogICAgICAgIGF0dG5fZHJvcG91dF9wPTAuMSwKICAgICAgICBsYXllcl9kcm9wX3A9MC4wLAogICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgIGRlcHRod2lzZV9jb252X2tlcm5lbF9zaXplPTAsCiAgICApCgoKQHdhdjJ2ZWMyX2FyY2goInhsc3IyXzFiX3YyIikKZGVmIF94bHNyMl8xYl92MigpIC0+IFdhdjJWZWMyQ29uZmlnOgogICAgZW5jb2Rlcl9jb25maWcgPSBfZW5jb2Rlcl94bHNyMl8xYl92MigpCgogICAgcmV0dXJuIFdhdjJWZWMyQ29uZmlnKAogICAgICAgIGVuY29kZXJfY29uZmlnLAogICAgICAgIGZpbmFsX2RpbT0xMDI0LAogICAgICAgIGZpbmFsX3Byb2pfYmlhcz1UcnVlLAogICAgICAgIHRlbXBvcmFsX21hc2tfc3Bhbl9sZW49MTAsCiAgICAgICAgbWF4X3RlbXBvcmFsX21hc2tfcHJvYj0wLjY1LAogICAgICAgIHNwYXRpYWxfbWFza19zcGFuX2xlbj0xMCwKICAgICAgICBtYXhfc3BhdGlhbF9tYXNrX3Byb2I9MC4wLAogICAgICAgIHF1YW50aXplZF9kaW09MTAyNCwKICAgICAgICBudW1fY29kZWJvb2tzPTIsCiAgICAgICAgbnVtX2NvZGVib29rX2VudHJpZXM9MzIwLAogICAgICAgIGNvZGVib29rX3NhbXBsaW5nX3RlbXBlcmF0dXJlPSgyLCAwLjEsIDAuOTk5OTk1KSwKICAgICAgICBudW1fZGlzdHJhY3RvcnM9MTAwLAogICAgICAgIGxvZ2l0X3RlbXA9MC4xLAogICAgICAgIGRpdmVyc2l0eV9sb3NzX3dlaWdodD0wLjEsCiAgICApCgoKY2xhc3MgV2F2MlZlYzJMYXllck91dHB1dE1vZGVsKG5uLk1vZHVsZSk6CiAgICBlbmNvZGVyX2Zyb250ZW5kOiBXYXYyVmVjMkZyb250ZW5kCiAgICBlbmNvZGVyOiBUcmFuc2Zvcm1lckVuY29kZXIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdzJ2MjogV2F2MlZlYzJNb2RlbCk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYuZW5jb2Rlcl9mcm9udGVuZCA9IHcydjIuZW5jb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuZW5jb2RlciA9IHcydjIuZW5jb2RlcgoKICAgIEB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpCiAgICBkZWYgZm9yd2FyZChzZWxmLCBiYXRjaDogU2VxdWVuY2VCYXRjaCwgb3V0X2xheWVyX2lkeDogaW50KSAtPiBUZW5zb3I6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIGJhdGNoOgogICAgICAgICAgICBUaGUgYmF0Y2ggb2Ygc2VxdWVuY2VzIHRvIHByb2Nlc3MuCiAgICAgICAgIiIiCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5lbmNvZGVyX2Zyb250ZW5kKGJhdGNoLnNlcXMsIGJhdGNoLnBhZGRpbmdfbWFzaykKCiAgICAgICAgdzJ2Ml9sYXllcl9vdXRwdXQgPSBOb25lCgogICAgICAgIGRlZiBob29rKAogICAgICAgICAgICBsYXllcl9pZHg6IGludCwKICAgICAgICAgICAgbGF5ZXJfb3V0cHV0OiBUZW5zb3IsCiAgICAgICAgICAgIGxheWVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgICAgICBudW1fbGF5ZXJzOiBpbnQsCiAgICAgICAgKSAtPiBib29sOgogICAgICAgICAgICBub25sb2NhbCB3MnYyX2xheWVyX291dHB1dAoKICAgICAgICAgICAgaWYgbGF5ZXJfaWR4ID09IG91dF9sYXllcl9pZHg6CiAgICAgICAgICAgICAgICB3MnYyX2xheWVyX291dHB1dCA9IGxheWVyX291dHB1dAoKICAgICAgICAgICAgICAgICMgV2UgZG9uJ3QgbmVlZCB0byBleGVjdXRlIHRoZSByZW1haW5pbmcgbGF5ZXJzLgogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICAgICB3aXRoIHNlbGYuZW5jb2Rlci5yZWdpc3Rlcl9sYXllcl9vdXRwdXRfaG9vayhob29rKToKICAgICAgICAgICAgXywgXyA9IHNlbGYuZW5jb2RlcihzZXFzLCBwYWRkaW5nX21hc2spCgogICAgICAgIGFzc2VydCB3MnYyX2xheWVyX291dHB1dCBpcyBub3QgTm9uZQoKICAgICAgICByZXR1cm4gdzJ2Ml9sYXllcl9vdXRwdXQK'),
    ('seamless/build/lib/seamless_communication/models/unit_extractor/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXRfZXh0cmFjdG9yLmttZWFucyBpbXBvcnQgKAogICAgS21lYW5zTW9kZWwgYXMgS21lYW5zTW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0X2V4dHJhY3Rvci51bml0X2V4dHJhY3RvciBpbXBvcnQgKAogICAgVW5pdEV4dHJhY3RvciBhcyBVbml0RXh0cmFjdG9yLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdF9leHRyYWN0b3Iud2F2MnZlYzJfbGF5ZXJfb3V0cHV0IGltcG9ydCAoCiAgICBXYXYyVmVjMkxheWVyT3V0cHV0TW9kZWwgYXMgV2F2MlZlYzJMYXllck91dHB1dE1vZGVsLAopCg=='),
    ('seamless/build/lib/seamless_communication/models/unit_extractor/kmeans.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHRvcmNoCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBkb3dubG9hZF9tYW5hZ2VyCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvciwgbm4KCgpjbGFzcyBLbWVhbnNNb2RlbChubi5Nb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGttZWFuc191cmk6IHN0ciwgZGV2aWNlOiBEZXZpY2UsIGR0eXBlOiBEYXRhVHlwZSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAga21fcGF0aCA9IGRvd25sb2FkX21hbmFnZXIuZG93bmxvYWRfY2hlY2twb2ludChrbWVhbnNfdXJpLCBrbWVhbnNfdXJpKQogICAgICAgIGttX21vZGVsID0gbnAubG9hZChrbV9wYXRoKQogICAgICAgIGNlbnRyb2lkc19udW1weSA9IGttX21vZGVsLnRyYW5zcG9zZSgpCiAgICAgICAgY2VudHJvaWRzID0gdG9yY2guZnJvbV9udW1weShjZW50cm9pZHNfbnVtcHkpCiAgICAgICAgc2VsZi5jZW50cm9pZHMgPSBjZW50cm9pZHMudG8oZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICAgICAgc2VsZi5jZW50cm9pZF9ub3JtID0gKHNlbGYuY2VudHJvaWRzKioyKS5zdW0oMCwga2VlcGRpbXM9VHJ1ZSkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICBkaXN0OiBUZW5zb3IgPSAoCiAgICAgICAgICAgIHgucG93KDIpLnN1bSgxLCBrZWVwZGltPVRydWUpCiAgICAgICAgICAgIC0gMiAqIHRvcmNoLm1hdG11bCh4LCBzZWxmLmNlbnRyb2lkcykKICAgICAgICAgICAgKyBzZWxmLmNlbnRyb2lkX25vcm0KICAgICAgICApCiAgICAgICAgcmV0dXJuIGRpc3QuYXJnbWluKGRpbT0tMSkK'),
    ('seamless/build/lib/seamless_communication/models/unity/fft_decoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBJdGVyYWJsZSwgT3B0aW9uYWwsIFR1cGxlLCBmaW5hbAoKZnJvbSBmYWlyc2VxMi5ubi5tb2R1bGVfbGlzdCBpbXBvcnQgTW9kdWxlTGlzdApmcm9tIGZhaXJzZXEyLm5uLm5vcm1hbGl6YXRpb24gaW1wb3J0IExheWVyTm9ybQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0IFRyYW5zZm9ybWVyTm9ybU9yZGVyLCBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZSwgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgTW9kdWxlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmZmdF9kZWNvZGVyX2xheWVyIGltcG9ydCAoCiAgICBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyTGF5ZXIsCikKCgpAZmluYWwKY2xhc3MgRmVlZEZvcndhcmRUcmFuc2Zvcm1lcihNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyBhIEZlZWRmb3J3YXJkIFRyYW5zZm9ybWVyIGRlY29kZXIuIiIiCgogICAgbW9kZWxfZGltOiBpbnQKICAgIGxheWVyX25vcm06IE9wdGlvbmFsW0xheWVyTm9ybV0KICAgIG5vcm1fb3JkZXI6IFRyYW5zZm9ybWVyTm9ybU9yZGVyCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbGF5ZXJzOiBJdGVyYWJsZVtGZWVkRm9yd2FyZFRyYW5zZm9ybWVyTGF5ZXJdLAogICAgICAgICosCiAgICAgICAgbm9ybV9vcmRlcjogVHJhbnNmb3JtZXJOb3JtT3JkZXIgPSBUcmFuc2Zvcm1lck5vcm1PcmRlci5QT1NULAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIGxheWVyczoKICAgICAgICAgICAgVGhlIGRlY29kZXIgbGF5ZXJzLgogICAgICAgIDpwYXJhbSBub3JtX29yZGVyOgogICAgICAgICAgICBUaGUgTGF5ZXIgTm9ybWFsaXphdGlvbiBvcmRlciB0byB1c2UuCiAgICAgICAgIiIiCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIGxheWVyX2xpc3QgPSBNb2R1bGVMaXN0KGxheWVycykKCiAgICAgICAgaWYgbm90IGxheWVyX2xpc3Q6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImBsYXllcnNgIG11c3QgYmUgbm9uLWVtcHR5LiIpCgogICAgICAgIHNlbGYubW9kZWxfZGltID0gbGF5ZXJfbGlzdFswXS5tb2RlbF9kaW0KCiAgICAgICAgc2VsZi5sYXllcnMgPSBsYXllcl9saXN0CgogICAgICAgIGlmIG5vcm1fb3JkZXIgIT0gVHJhbnNmb3JtZXJOb3JtT3JkZXIuUE9TVDoKICAgICAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0oCiAgICAgICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJsYXllcl9ub3JtIiwgTm9uZSkKCiAgICAgICAgc2VsZi5ub3JtX29yZGVyID0gbm9ybV9vcmRlcgoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza11dOgogICAgICAgIGZvciBsYXllciBpbiBzZWxmLmxheWVycy5kcm9wX2l0ZXIoKToKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gbGF5ZXIoc2VxcywgcGFkZGluZ19tYXNrLCBmaWxtX2NvbmRfZW1iPWZpbG1fY29uZF9lbWIpCgogICAgICAgIGlmIHNlbGYubGF5ZXJfbm9ybSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYubGF5ZXJfbm9ybShzZXFzKQoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrCgogICAgZGVmIGV4dHJhX3JlcHIoc2VsZikgLT4gc3RyOgogICAgICAgICIiIjptZXRhIHByaXZhdGU6IiIiCiAgICAgICAgcyA9IHN1cGVyKCkuZXh0cmFfcmVwcigpCgogICAgICAgIHJldHVybiBmIntzfSwgbm9ybV9vcmRlcj17c2VsZi5ub3JtX29yZGVyfSIK'),
    ('seamless/build/lib/seamless_communication/models/unity/nar_decoder_frontend.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBtYXRoCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUsIGZpbmFsCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBWb2NhYnVsYXJ5SW5mbwpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiLnRva2VuaXplciBpbXBvcnQgTmxsYlRva2VuaXplcgpmcm9tIGZhaXJzZXEyLm5uLmVtYmVkZGluZyBpbXBvcnQgRW1iZWRkaW5nCmZyb20gZmFpcnNlcTIubm4ubm9ybWFsaXphdGlvbiBpbXBvcnQgTGF5ZXJOb3JtCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2sKZnJvbSBmYWlyc2VxMi5ubi5wb3NpdGlvbl9lbmNvZGVyIGltcG9ydCBQb3NpdGlvbkVuY29kZXIKZnJvbSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lciBpbXBvcnQgY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0KZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UsIGZpbmFsb3ZlcnJpZGUKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IERyb3BvdXQsIE1vZHVsZSwgUGFyYW1ldGVyCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCBDaGFyVG9rZW5pemVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubGVuZ3RoX3JlZ3VsYXRvciBpbXBvcnQgKAogICAgSGFyZFVwc2FtcGxpbmcsCiAgICBWYXJpYW5jZUFkYXB0b3IsCikKClNQQUNFID0gIuKWgSIKCgpjbGFzcyBUYWdNYW5hZ2VyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHZvY2FiX2luZm86IFZvY2FidWxhcnlJbmZvKToKICAgICAgICBzZWxmLnZvY2FiX2luZm8gPSB2b2NhYl9pbmZvCgogICAgZGVmIHByZXByb2Nlc3NfdGV4dF9zZXFzKHNlbGYsIHRleHRfc2VxczogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgIyBSZW1vdmUgRU9TLCBsYW5nIHRva2VucyBhcyBwZXIgTkxMQiAidGFyZ2V0IiB0b2tlbml6ZXIgbW9kZS4KICAgICAgICB0ZXh0X3NlcXMgPSB0ZXh0X3NlcXNbOiwgMjpdCiAgICAgICAgYXNzZXJ0IHNlbGYudm9jYWJfaW5mby5wYWRfaWR4IGlzIG5vdCBOb25lCiAgICAgICAgdGV4dF9zZXFzLm1hc2tlZF9maWxsXygKICAgICAgICAgICAgdGV4dF9zZXFzID09IHNlbGYudm9jYWJfaW5mby5lb3NfaWR4LCBzZWxmLnZvY2FiX2luZm8ucGFkX2lkeAogICAgICAgICkKICAgICAgICByZXR1cm4gdGV4dF9zZXFzCgogICAgZGVmIHBvc3Rwcm9jZXNzX2R1cl9vcl9sZW4oc2VsZiwgZHVyX29yX2xlbjogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgTiA9IGR1cl9vcl9sZW4uc2hhcGVbMF0KICAgICAgICBwYWRfemVybyA9IGR1cl9vcl9sZW4ubmV3X3plcm9zKChOLCAxKSkKICAgICAgICAjIEFkZCBwYWRzIGZvciBsYW5nLCBFT1MgdG9rZW5zIGFzIHBlciBOTExCICJzb3VyY2UiIHRva2VuaXplciBtb2RlLgogICAgICAgIGR1cl9vcl9sZW4gPSB0b3JjaC5jYXQoW3BhZF96ZXJvLCBkdXJfb3JfbGVuLCBwYWRfemVyb10sIGRpbT0xKQogICAgICAgIHJldHVybiBkdXJfb3JfbGVuCgoKQGZpbmFsCmNsYXNzIE5BUkRlY29kZXJGcm9udGVuZChNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyBhIE5vbi1hdXRvcmVncmVzc2l2ZSBkZWNvZGVyIGZyb250LWVuZC4iIiIKCiAgICBjaGFyX3Bvc19lbmNvZGVyOiBQb3NpdGlvbkVuY29kZXIKICAgIHBvc19lbWJfYWxwaGFfY2hhcjogUGFyYW1ldGVyCiAgICB1bml0X3Bvc19lbmNvZGVyOiBQb3NpdGlvbkVuY29kZXIKICAgIHBvc19lbWJfYWxwaGE6IFBhcmFtZXRlcgogICAgc2NhbGU6IGZsb2F0CiAgICBjaGFyX2xlbmd0aF9yZWd1bGF0b3I6IEhhcmRVcHNhbXBsaW5nCiAgICB2YXJpYW5jZV9hZGFwdG9yOiBWYXJpYW5jZUFkYXB0b3IKICAgIGxheWVyX25vcm06IE9wdGlvbmFsW0xheWVyTm9ybV0KICAgIGRyb3BvdXQ6IE9wdGlvbmFsW0Ryb3BvdXRdCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgZW1iZWQ6IEVtYmVkZGluZywKICAgICAgICBlbWJlZF9jaGFyOiBFbWJlZGRpbmcsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IE5sbGJUb2tlbml6ZXIsCiAgICAgICAgY2hhcl90b2tlbml6ZXI6IENoYXJUb2tlbml6ZXIsCiAgICAgICAgdW5pdF9wb3NfZW5jb2RlcjogUG9zaXRpb25FbmNvZGVyLAogICAgICAgIGNoYXJfcG9zX2VuY29kZXI6IFBvc2l0aW9uRW5jb2RlciwKICAgICAgICB2YXJpYW5jZV9hZGFwdG9yOiBWYXJpYW5jZUFkYXB0b3IsCiAgICAgICAgbm9fc2NhbGU6IGJvb2wgPSBGYWxzZSwKICAgICAgICBsYXllcl9ub3JtOiBib29sID0gRmFsc2UsCiAgICAgICAgZHJvcG91dF9wOiBmbG9hdCA9IDAuMSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKToKICAgICAgICBzZWxmLm1vZGVsX2RpbSA9IGVtYmVkLmVtYmVkZGluZ19kaW0KCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYuZW1iZWQgPSBlbWJlZAogICAgICAgIHNlbGYuZW1iZWRfY2hhciA9IGVtYmVkX2NoYXIKICAgICAgICBzZWxmLnRleHRfdG9rZW5pemVyID0gdGV4dF90b2tlbml6ZXIKICAgICAgICBzZWxmLmNoYXJfdG9rZW5pemVyID0gY2hhcl90b2tlbml6ZXIKICAgICAgICBzZWxmLnRhZ19tYW5hZ2VyID0gVGFnTWFuYWdlcih0ZXh0X3Rva2VuaXplci52b2NhYl9pbmZvKQoKICAgICAgICBzZWxmLnVua19pZHggPSBzZWxmLnRleHRfdG9rZW5pemVyLnZvY2FiX2luZm8udW5rX2lkeAogICAgICAgIHNlbGYucGFkX2lkeCA9IHNlbGYudGV4dF90b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4CgogICAgICAgICMgVE9ETzogSW1wbGVtZW50IEFsaWdubWVudEVuY29kZXIgZm9yIHRyYWluaW5nLgoKICAgICAgICBpZiB1bml0X3Bvc19lbmNvZGVyLmVuY29kaW5nX2RpbSAhPSBzZWxmLm1vZGVsX2RpbToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgIGYiYGVuY29kaW5nX2RpbWAgb2YgYHVuaXRfcG9zX2VuY29kZXJgIGFuZCBgZW1iZWRkaW5nX2RpbWAgb2YgYGVtYmVkYCBtdXN0IGJlIGVxdWFsLCBidXQgYXJlIHt1bml0X3Bvc19lbmNvZGVyLmVuY29kaW5nX2RpbX0gYW5kIHtzZWxmLm1vZGVsX2RpbX0gaW5zdGVhZC4iCiAgICAgICAgICAgICkKCiAgICAgICAgaWYgY2hhcl9wb3NfZW5jb2Rlci5lbmNvZGluZ19kaW0gIT0gc2VsZi5tb2RlbF9kaW06CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICBmImBlbmNvZGluZ19kaW1gIG9mIGBjaGFyX3Bvc19lbmNvZGVyYCBhbmQgYGVtYmVkZGluZ19kaW1gIG9mIGBlbWJlZGAgbXVzdCBiZSBlcXVhbCwgYnV0IGFyZSB7Y2hhcl9wb3NfZW5jb2Rlci5lbmNvZGluZ19kaW19IGFuZCB7c2VsZi5tb2RlbF9kaW19IGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIHNlbGYudW5pdF9wb3NfZW5jb2RlciA9IHVuaXRfcG9zX2VuY29kZXIKCiAgICAgICAgc2VsZi5wb3NfZW1iX2FscGhhID0gUGFyYW1ldGVyKHRvcmNoLm9uZXMoMSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpKQogICAgICAgIHNlbGYuY2hhcl9wb3NfZW5jb2RlciA9IGNoYXJfcG9zX2VuY29kZXIKCiAgICAgICAgc2VsZi5wb3NfZW1iX2FscGhhX2NoYXIgPSBQYXJhbWV0ZXIodG9yY2gub25lcygxLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkpCiAgICAgICAgc2VsZi5zY2FsZSA9IDEuMCBpZiBub19zY2FsZSBlbHNlIG1hdGguc3FydChzZWxmLm1vZGVsX2RpbSkKCiAgICAgICAgc2VsZi5jaGFyX2xlbmd0aF9yZWd1bGF0b3IgPSBIYXJkVXBzYW1wbGluZygpCgogICAgICAgIHNlbGYudmFyaWFuY2VfYWRhcHRvciA9IHZhcmlhbmNlX2FkYXB0b3IKCiAgICAgICAgaWYgbGF5ZXJfbm9ybToKICAgICAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0oCiAgICAgICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJsYXllcl9ub3JtIiwgTm9uZSkKCiAgICAgICAgaWYgZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLmRyb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZHJvcG91dCIsIE5vbmUpCgogICAgZGVmIGluZGljZXNfdG9fc3Vid29yZHMoc2VsZiwgdGV4dF9zZXFzOiBUZW5zb3IpIC0+IExpc3RbTGlzdFtzdHJdXToKICAgICAgICAjIFRPRE86IFRvIGJlIHJlcGxhY2VkIHdpdGggZmFpcnNlcTIncyBpbmRpY2VzX3RvX3Rva2VucyBTUE0gbW9kZWwgbWV0aG9kCiAgICAgICAgIyBvbmNlIGltcGxlbWVudGVkLgogICAgICAgIE4sIHNlcV9sZW4gPSB0ZXh0X3NlcXMuc2hhcGUKICAgICAgICBzdWJ3b3Jkc19iYXRjaCA9IFtdCiAgICAgICAgZm9yIGIgaW4gcmFuZ2UoTik6CiAgICAgICAgICAgIHN1YndvcmRzID0gW10KICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VxX2xlbik6CiAgICAgICAgICAgICAgICBzdWJ3b3JkID0gc2VsZi50ZXh0X3Rva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbihpbnQodGV4dF9zZXFzW2IsIGldKSkKICAgICAgICAgICAgICAgIHN1YndvcmRzLmFwcGVuZChzdHIoc3Vid29yZCkpCiAgICAgICAgICAgIHN1YndvcmRzX2JhdGNoLmFwcGVuZChzdWJ3b3JkcykKICAgICAgICByZXR1cm4gc3Vid29yZHNfYmF0Y2gKCiAgICBkZWYgdGV4dF90b19jaGFyX3NlcXMoc2VsZiwgdGV4dF9zZXFzOiBUZW5zb3IpIC0+IFR1cGxlW1RlbnNvciwgVGVuc29yLCBUZW5zb3JdOgogICAgICAgIHRleHRfc2VxcyA9IHNlbGYudGFnX21hbmFnZXIucHJlcHJvY2Vzc190ZXh0X3NlcXModGV4dF9zZXFzKQoKICAgICAgICBzdWJ3b3Jkc19iYXRjaCA9IHNlbGYuaW5kaWNlc190b19zdWJ3b3Jkcyh0ZXh0X3NlcXMpCgogICAgICAgIGNoYXJfbGVucyA9IHNlbGYuY291bnRfY2hhcmFjdGVyX2xlbmd0aF9pbl9zdWJ3b3JkKHRleHRfc2Vxcywgc3Vid29yZHNfYmF0Y2gpCgogICAgICAgIGNoYXJfbGVucyA9IHNlbGYudGFnX21hbmFnZXIucG9zdHByb2Nlc3NfZHVyX29yX2xlbihjaGFyX2xlbnMpCgogICAgICAgIGNoYXJfc2VxcywgY2hhcl9zZXFfbGVucyA9IHNlbGYuZ2V0X2NoYXJfc2VxcygKICAgICAgICAgICAgdGV4dF9zZXFzLCBzdWJ3b3Jkc19iYXRjaCwgY2hhcl9sZW5zCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gY2hhcl9zZXFzLCBjaGFyX3NlcV9sZW5zLCBjaGFyX2xlbnMKCiAgICBkZWYgY291bnRfY2hhcmFjdGVyX2xlbmd0aF9pbl9zdWJ3b3JkKAogICAgICAgIHNlbGYsCiAgICAgICAgdGV4dF9zZXFzOiBUZW5zb3IsCiAgICAgICAgc3Vid29yZHNfYmF0Y2g6IExpc3RbTGlzdFtzdHJdXSwKICAgICAgICBtZXJnZV9zcGFjZV93aXRoX3ByZXZfc3Vid29yZDogYm9vbCA9IEZhbHNlLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgTiwgXyA9IHRleHRfc2Vxcy5zaGFwZQoKICAgICAgICBjaGFyX2xlbnMgPSB0ZXh0X3NlcXMubmV3X3plcm9zKHRleHRfc2Vxcy5zaXplKCkpCgogICAgICAgIGFzc2VydCBzZWxmLnBhZF9pZHggaXMgbm90IE5vbmUKICAgICAgICBzdWJ3b3JkX2xlbnMgPSB0ZXh0X3NlcXMubmUoc2VsZi5wYWRfaWR4KS5zdW0oMSkKCiAgICAgICAgZm9yIGIgaW4gcmFuZ2UoTik6CiAgICAgICAgICAgICMgV2Ugc2xpY2Ugb3V0IHRoZSB0ZW5zb3IgdGlsbCB0aGUgcGFkZGluZyBpbmRleC4KICAgICAgICAgICAgc3Vid29yZF9pbmRpY2VzID0gdGV4dF9zZXFzW2IsIDogc3Vid29yZF9sZW5zW2JdXQogICAgICAgICAgICBzdWJ3b3JkcyA9IHN1YndvcmRzX2JhdGNoW2JdWzogc3Vid29yZF9sZW5zW2JdXQoKICAgICAgICAgICAgYXNzZXJ0IHN1YndvcmRfaW5kaWNlcy5zaGFwZVswXSA9PSBsZW4oc3Vid29yZHMpCgogICAgICAgICAgICBpc19uZXh0X3N0YXJ0X3dpdGhfc3BhY2UgPSBbCiAgICAgICAgICAgICAgICBsZW4oc3Vid29yZHNbaSArIDFdKSA+IDEgYW5kIHN1YndvcmRzW2kgKyAxXVswXSA9PSBTUEFDRQogICAgICAgICAgICAgICAgaWYgaSA8IGxlbihzdWJ3b3JkcykgLSAxCiAgICAgICAgICAgICAgICBlbHNlIEZhbHNlCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc3Vid29yZHMpKQogICAgICAgICAgICBdCiAgICAgICAgICAgIGlzX3B1bmMgPSBbCiAgICAgICAgICAgICAgICBsZW4oc3Vid29yZHNbaV0pID09IDEKICAgICAgICAgICAgICAgIGFuZCBub3Qgc3Vid29yZHNbaV0uaXNhbHBoYSgpCiAgICAgICAgICAgICAgICBhbmQgbm90IHN1YndvcmRzW2ldLmlzbnVtZXJpYygpCiAgICAgICAgICAgICAgICBhbmQgc3Vid29yZHNbaV0gIT0gU1BBQ0UKICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihzdWJ3b3JkcykpCiAgICAgICAgICAgIF0KICAgICAgICAgICAgZm9yIGksIChzdWJ3b3JkX2lkeCwgc3Vid29yZCkgaW4gZW51bWVyYXRlKHppcChzdWJ3b3JkX2luZGljZXMsIHN1YndvcmRzKSk6CiAgICAgICAgICAgICAgICBpZiBzdWJ3b3JkX2lkeCA9PSBzZWxmLnBhZF9pZHg6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgICAgICAgICBpZiBzdWJ3b3JkX2lkeCA9PSBzZWxmLnVua19pZHg6CiAgICAgICAgICAgICAgICAgICAgIyBXZSBzZXQgY2hhcl9sZW4gdG8gMSBmb3IgYW4gdW5rIHRva2VuLgogICAgICAgICAgICAgICAgICAgIGNoYXJfbGVuID0gMQoKICAgICAgICAgICAgICAgICAgICBpZiBtZXJnZV9zcGFjZV93aXRoX3ByZXZfc3Vid29yZCBhbmQgaXNfbmV4dF9zdGFydF93aXRoX3NwYWNlW2ldOgogICAgICAgICAgICAgICAgICAgICAgICBjaGFyX2xlbiArPSAxCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICMgQnkgZGVmYXVsdCwgc3BhY2VzIGFyZSBtZXJnZWQgd2l0aCB0aGUgbmV4dCBzdWJ3b3JkLgogICAgICAgICAgICAgICAgICAgICMgY2hhcl9sZW4gaW5jbHVkZXMgdGhlIHNwYWNlLgogICAgICAgICAgICAgICAgICAgIGNoYXJfbGVuID0gbGVuKHN1YndvcmQpCgogICAgICAgICAgICAgICAgICAgIGlmIG1lcmdlX3NwYWNlX3dpdGhfcHJldl9zdWJ3b3JkOgogICAgICAgICAgICAgICAgICAgICAgICAjIEFkZCB0aGUgc3BhY2UgZm9yIHRoZSBuZXh0IHN1YndvcmQuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGlzX25leHRfc3RhcnRfd2l0aF9zcGFjZVtpXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJfbGVuICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgIyBTdWJ0cmFjdCB0aGUgc3BhY2UgZm9yIHRoZSBjdXJyZW50IHN1YndvcmQuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGkgPiAwIGFuZCBpc19uZXh0X3N0YXJ0X3dpdGhfc3BhY2VbaSAtIDFdOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcl9sZW4gLT0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICMgTWVyZ2Ugc3BhY2Ugd2l0aCBwdW5jdHVhdGlvbiBtYXJrIGJ5IGRlZmF1bHQuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGlzX3B1bmNbaV0gYW5kIGlzX25leHRfc3RhcnRfd2l0aF9zcGFjZVtpXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJfbGVuICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgIyBTdWJ0cmFjdCB0aGUgc3BhY2UgZm9yIHRoZSBzdWJ3b3JkIHN1Y2NlZWRpbmcgdGhlIHB1bmN0dWF0aW9uIG1hcmsuCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA+IDAgYW5kIGlzX3B1bmNbaSAtIDFdIGFuZCBpc19uZXh0X3N0YXJ0X3dpdGhfc3BhY2VbaSAtIDFdCiAgICAgICAgICAgICAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyX2xlbiAtPSAxCgogICAgICAgICAgICAgICAgY2hhcl9sZW5zW2IsIGldID0gY2hhcl9sZW4KCiAgICAgICAgcmV0dXJuIGNoYXJfbGVucwoKICAgIGRlZiBnZXRfY2hhcl9zZXFzKAogICAgICAgIHNlbGYsIHRleHRfc2VxczogVGVuc29yLCBzdWJ3b3Jkc19iYXRjaDogTGlzdFtMaXN0W3N0cl1dLCBjaGFyX2xlbnM6IFRlbnNvcgogICAgKSAtPiBUdXBsZVtUZW5zb3IsIFRlbnNvcl06CiAgICAgICAgTiA9IHRleHRfc2Vxcy5zaGFwZVswXQogICAgICAgIG1heF9sZW4gPSBpbnQoY2hhcl9sZW5zLnN1bSgxKS5tYXgoKS5pdGVtKCkpCgogICAgICAgIGFzc2VydCBzZWxmLnBhZF9pZHggaXMgbm90IE5vbmUKICAgICAgICBjaGFyX3NlcXMgPSB0ZXh0X3NlcXMubmV3X3plcm9zKChOLCBtYXhfbGVuKSkuZmlsbF8oc2VsZi5wYWRfaWR4KQogICAgICAgIGNoYXJfc2VxX2xlbnMgPSBjaGFyX3NlcXMubmV3X3plcm9zKE4pCgogICAgICAgIGFzc2VydCBzZWxmLnBhZF9pZHggaXMgbm90IE5vbmUKICAgICAgICBzdWJ3b3JkX2xlbnMgPSB0ZXh0X3NlcXMubmUoc2VsZi5wYWRfaWR4KS5zdW0oMSkKCiAgICAgICAgZm9yIGIgaW4gcmFuZ2UoTik6CiAgICAgICAgICAgIHRvdGFsID0gMAogICAgICAgICAgICBzdWJ3b3JkX2luZGljZXMgPSB0ZXh0X3NlcXNbYiwgOiBzdWJ3b3JkX2xlbnNbYl1dCiAgICAgICAgICAgIHN1YndvcmRzID0gc3Vid29yZHNfYmF0Y2hbYl1bOiBzdWJ3b3JkX2xlbnNbYl1dCiAgICAgICAgICAgIGZvciBzdWJ3b3JkX2lkeCwgc3Vid29yZCBpbiB6aXAoc3Vid29yZF9pbmRpY2VzLCBzdWJ3b3Jkcyk6CiAgICAgICAgICAgICAgICBpZiBzdWJ3b3JkX2lkeCA9PSBzZWxmLnVua19pZHg6CiAgICAgICAgICAgICAgICAgICAgY2hhcl9pZHMgPSBbc2VsZi51bmtfaWR4XQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAjIEdldCBjaGFyIHRva2VuIGluZGljZXMgY29ycmVzcG9uZGluZyB0byB0aGUgc3Vid29yZHMuCiAgICAgICAgICAgICAgICAgICAgY2hhcl9pZHMgPSBbCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2hhcl90b2tlbml6ZXIubW9kZWwudG9rZW5fdG9faW5kZXgoY2gpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBjaCBpbiBsaXN0KHN1YndvcmQpCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgY2hhcl9zZXFfbGVuID0gbGVuKGNoYXJfaWRzKQogICAgICAgICAgICAgICAgY2hhcl9zZXFzW2IsIHRvdGFsIDogdG90YWwgKyBjaGFyX3NlcV9sZW5dID0gdG9yY2gudGVuc29yKGNoYXJfaWRzKS50bygKICAgICAgICAgICAgICAgICAgICBjaGFyX3NlcXMKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHRvdGFsICs9IGNoYXJfc2VxX2xlbgogICAgICAgICAgICBjaGFyX3NlcV9sZW5zW2JdID0gdG90YWwKICAgICAgICByZXR1cm4gY2hhcl9zZXFzLCBjaGFyX3NlcV9sZW5zCgogICAgZGVmIGNoYXJhY3Rlcl9sZXZlbF91cHNhbXBsaW5nKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIGNoYXJfc2VxczogVGVuc29yLAogICAgICAgIGNoYXJfbGVuczogVGVuc29yLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgc2VxcywgXyA9IHNlbGYuY2hhcl9sZW5ndGhfcmVndWxhdG9yKHNlcXMsIGNoYXJfbGVucykKCiAgICAgICAgcG9zX2VtYmVkcyA9IHNlbGYucG9zX2VtYl9hbHBoYV9jaGFyICogKAogICAgICAgICAgICBzZWxmLmNoYXJfcG9zX2VuY29kZXIoc2VxcywgcGFkZGluZ19tYXNrKSAtIHNlcXMKICAgICAgICApCgogICAgICAgIGNoYXJfZW1iZWRzID0gc2VsZi5lbWJlZF9jaGFyKGNoYXJfc2VxcykKCiAgICAgICAgaWYgc2VsZi5zY2FsZSAhPSAxLjA6CiAgICAgICAgICAgIGNoYXJfZW1iZWRzICo9IHNlbGYuc2NhbGUKCiAgICAgICAgcG9zX2VtYmVkcyArPSBjaGFyX2VtYmVkcwoKICAgICAgICBzZXFzICs9IHBvc19lbWJlZHMKCiAgICAgICAgcmV0dXJuIHNlcXMKCiAgICBkZWYgZm9yd2FyZF91bml0X3Bvc19lbWJlZGRpbmcoCiAgICAgICAgc2VsZiwgc2VxczogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXQogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgcG9zX2VtYmVkcyA9IHNlbGYucG9zX2VtYl9hbHBoYSAqICgKICAgICAgICAgICAgc2VsZi51bml0X3Bvc19lbmNvZGVyKHNlcXMsIHBhZGRpbmdfbWFzaykgLSBzZXFzCiAgICAgICAgKQoKICAgICAgICBzZXFzICs9IHBvc19lbWJlZHMKCiAgICAgICAgaWYgc2VsZi5kcm9wb3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZXFzID0gc2VsZi5kcm9wb3V0KHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IFRlbnNvciwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIHRleHRfc2VxczogT3B0aW9uYWxbVGVuc29yXSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIGZpbG1fY29uZF9lbWI6IE9wdGlvbmFsW1RlbnNvcl0gPSBOb25lLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwgVGVuc29yXToKICAgICAgICBhc3NlcnQgdGV4dF9zZXFzIGlzIG5vdCBOb25lCgogICAgICAgICMgdGV4dF9zZXFzOiAoTiwgU190ZXh0KQogICAgICAgIGNoYXJfc2VxcywgY2hhcl9zZXFfbGVucywgY2hhcl9sZW5zID0gc2VsZi50ZXh0X3RvX2NoYXJfc2Vxcyh0ZXh0X3NlcXMpCgogICAgICAgICMgY2hhcl9zZXFzOiAoTiwgU19jaGFyKQogICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrID0gUGFkZGluZ01hc2soCiAgICAgICAgICAgIGNoYXJfc2VxX2xlbnMsIGJhdGNoX3NlcV9sZW49Y2hhcl9zZXFzLnNpemUoMSkKICAgICAgICApCgogICAgICAgICMgKE4sIFNfdGV4dCwgTSkgLT4gKE4sIFNfY2hhciwgTSkKICAgICAgICBzZXFzID0gc2VsZi5jaGFyYWN0ZXJfbGV2ZWxfdXBzYW1wbGluZygKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsIGVuY29kZXJfcGFkZGluZ19tYXNrLCBjaGFyX3NlcXMsIGNoYXJfbGVucwogICAgICAgICkKCiAgICAgICAgIyAoTiwgU19jaGFyLCBNKSAtPiAoTiwgU191bml0LCBNKQogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzaywgZHVyYXRpb25zID0gc2VsZi52YXJpYW5jZV9hZGFwdG9yKAogICAgICAgICAgICBzZXFzLAogICAgICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yPWR1cmF0aW9uX2ZhY3RvciwKICAgICAgICAgICAgbWluX2R1cmF0aW9uPTEsCiAgICAgICAgICAgIGZpbG1fY29uZF9lbWI9ZmlsbV9jb25kX2VtYiwKICAgICAgICApCgogICAgICAgIHNlcXMgPSBzZWxmLmZvcndhcmRfdW5pdF9wb3NfZW1iZWRkaW5nKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgcmV0dXJuIHNlcXMsIHBhZGRpbmdfbWFzaywgZHVyYXRpb25zCg=='),
    ('seamless/build/lib/seamless_communication/models/unity/unit_tokenizer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBPcHRpb25hbCwgU2VxdWVuY2UKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFZvY2FidWxhcnlJbmZvCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEZXZpY2UKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCgoKY2xhc3MgVW5pdFRva2VuaXplcjoKICAgICIiIlJlcHJlc2VudHMgYSB0b2tlbml6ZXIgdG8gZW5jb2RlIGFuZCBkZWNvZGUgVW5pdFkgc3BlZWNoIHVuaXRzLiIiIgoKICAgIG51bV91bml0czogaW50CiAgICBsYW5nczogU2VxdWVuY2Vbc3RyXQogICAgbGFuZ19tYXA6IERpY3Rbc3RyLCBpbnRdCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG51bV91bml0czogaW50LCBsYW5nczogU2VxdWVuY2Vbc3RyXSwgbW9kZWxfYXJjaDogc3RyKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBudW1fdW5pdHM6CiAgICAgICAgICAgIFRoZSBudW1iZXIgb2Ygc3BlZWNoIHVuaXRzLgogICAgICAgIDpwYXJhbSBsYW5nczoKICAgICAgICAgICAgVGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGxhbmd1YWdlcy4KICAgICAgICA6cGFyYW0gbW9kZWxfYXJjaDoKICAgICAgICAgICAgVGhlIHR5cGUgb2YgVW5pdFkgbW9kZWwgYXJjaGl0ZWN0dXJlLgogICAgICAgICIiIgogICAgICAgIHNlbGYubnVtX3VuaXRzID0gbnVtX3VuaXRzCgogICAgICAgIHNlbGYubGFuZ3MgPSBsYW5ncwoKICAgICAgICBzZWxmLmxhbmdfbWFwID0ge2xhbmc6IGlkeCBmb3IgaWR4LCBsYW5nIGluIGVudW1lcmF0ZShsYW5ncyl9CgogICAgICAgICMgVGhlICJfdjIiIHVuaXR5IGFyY2hpdGVjdHVyZXMgaGF2ZSBhIG5vbi1hdXRvcmVncmVzc2l2ZSBkZWNvZGVyLgogICAgICAgIGlmIG1vZGVsX2FyY2guc3BsaXQoIl8iKVstMV0gPT0gInYyIjoKICAgICAgICAgICAgc2VsZi5pc19uYXJfZGVjb2RlciA9IFRydWUKICAgICAgICAgICAgc2VsZi5sYW5nX3N5bWJvbF9yZXBpdGl0aW9ucyA9IDEKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmlzX25hcl9kZWNvZGVyID0gRmFsc2UKICAgICAgICAgICAgIyBGb3IgbGVnYWN5IHJlYXNvbnMsIHdlIGhhdmUgdG8gcmVwZWF0IHRoZSBsYW5ndWFnZSBzeW1ib2xzIHR3aWNlLAogICAgICAgICAgICAjIGFsb25nIHdpdGggYSBwbGFjZWhvbGRlciBgPG1hc2s+YCB0b2tlbiBmb3IgVW5pdFkgYXV0b3JlZ3Jlc3NpdmUgbW9kZWxzLgogICAgICAgICAgICBzZWxmLmxhbmdfc3ltYm9sX3JlcGl0aXRpb25zID0gMgoKICAgICAgICB2b2NhYl9zaXplID0gbnVtX3VuaXRzICsgc2VsZi5sYW5nX3N5bWJvbF9yZXBpdGl0aW9ucyAqIChsZW4obGFuZ3MpICsgMSkgKyA0CgogICAgICAgICMgV2UgdXNlIGZhaXJzZXEncyBjb250cm9sIHN5bWJvbCBvcmRlci4KICAgICAgICBzZWxmLnZvY2FiX2luZm8gPSBWb2NhYnVsYXJ5SW5mbygKICAgICAgICAgICAgc2l6ZT12b2NhYl9zaXplLCBib3NfaWR4PTAsIHBhZF9pZHg9MSwgZW9zX2lkeD0yLCB1bmtfaWR4PTMKICAgICAgICApCgogICAgZGVmIGxhbmdfdG9faW5kZXgoc2VsZiwgbGFuZzogc3RyKSAtPiBpbnQ6CiAgICAgICAgIiIiUmV0dXJuIHRoZSBzeW1ib2wgaW5kZXggb2YgdGhlIHNwZWNpZmllZCBsYW5ndWFnZS4iIiIKICAgICAgICAjICs0IGZvciBQQUQvRU9TL0JPUy9VTkssIGFuZCArMSBmb3IgdGhlIGA8bWFzaz5gIHRva2VuLgogICAgICAgIHRyeToKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIHNlbGYubnVtX3VuaXRzCiAgICAgICAgICAgICAgICArIChzZWxmLmxhbmdfc3ltYm9sX3JlcGl0aXRpb25zIC0gMSkgKiAobGVuKHNlbGYubGFuZ3MpICsgMSkKICAgICAgICAgICAgICAgICsgc2VsZi5sYW5nX21hcFtsYW5nXQogICAgICAgICAgICAgICAgKyA0CiAgICAgICAgICAgICkKICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIGxhbmdzID0gIiwgIi5qb2luKHNlbGYubGFuZ3MpCgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgbGFuZ2AgbXVzdCBiZSBvbmUgb2YgdGhlIHN1cHBvcnRlZCBsYW5ndWFnZXMsIGJ1dCBpcyAne2xhbmd9JyBpbnN0ZWFkLiBTdXBwb3J0ZWQgbGFuZ3VhZ2VzOiB7bGFuZ3N9IgogICAgICAgICAgICApCgogICAgZGVmIGluZGV4X3RvX2xhbmcoc2VsZiwgaWR4OiBpbnQpIC0+IHN0cjoKICAgICAgICAiIiJSZXR1cm4gdGhlIGxhbmd1YWdlIG9mIHRoZSBzcGVjaWZpZWQgbGFuZ3VhZ2Ugc3ltYm9sIGluZGV4LiIiIgogICAgICAgIHJlbGF0aXZlX2lkeCA9ICgKICAgICAgICAgICAgaWR4CiAgICAgICAgICAgIC0gc2VsZi5udW1fdW5pdHMKICAgICAgICAgICAgLSAoc2VsZi5sYW5nX3N5bWJvbF9yZXBpdGl0aW9ucyAtIDEpICogKGxlbihzZWxmLmxhbmdzKSArIDEpCiAgICAgICAgICAgIC0gNAogICAgICAgICkKCiAgICAgICAgaWYgcmVsYXRpdmVfaWR4IDwgMCBvciByZWxhdGl2ZV9pZHggPj0gbGVuKHNlbGYubGFuZ3MpOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgaWR4YCBtdXN0IGNvcnJlc3BvbmQgdG8gb25lIG9mIHRoZSBzdXBwb3J0ZWQgbGFuZ3VhZ2Ugc3ltYm9sIGluZGljZXMgKDAgdG8ge2xlbihzZWxmLmxhbmdzKSAtIDF9KSwgYnV0IGlzIHtpZHh9IGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIHJldHVybiBzZWxmLmxhbmdzW3JlbGF0aXZlX2lkeF0KCiAgICBkZWYgY3JlYXRlX2VuY29kZXIoCiAgICAgICAgc2VsZiwgbGFuZzogc3RyLCBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lCiAgICApIC0+ICJVbml0VG9rZW5FbmNvZGVyIjoKICAgICAgICAiIiJDcmVhdGUgYSB0b2tlbiBlbmNvZGVyLgoKICAgICAgICA6cGFyYW0gbGFuZzoKICAgICAgICAgICAgVGhlIGxhbmd1YWdlIG9mIGdlbmVyYXRlZCB0b2tlbiBpbmRpY2VzLgogICAgICAgICIiIgogICAgICAgIHJldHVybiBVbml0VG9rZW5FbmNvZGVyKHNlbGYsIGxhbmcsIHNlbGYuaXNfbmFyX2RlY29kZXIsIGRldmljZT1kZXZpY2UpCgogICAgZGVmIGNyZWF0ZV9kZWNvZGVyKHNlbGYpIC0+ICJVbml0VG9rZW5EZWNvZGVyIjoKICAgICAgICAiIiJDcmVhdGUgYSB0b2tlbiBkZWNvZGVyLiIiIgogICAgICAgIHJldHVybiBVbml0VG9rZW5EZWNvZGVyKHNlbGYsIHNlbGYuaXNfbmFyX2RlY29kZXIpCgoKY2xhc3MgVW5pdFRva2VuRW5jb2RlcjoKICAgICIiIkVuY29kZXMgc3BlZWNoIHVuaXRzIGludG8gdG9rZW4gaW5kaWNlcy4iIiIKCiAgICB0b2tlbml6ZXI6IFVuaXRUb2tlbml6ZXIKICAgIGVvc19pZHg6IGludAogICAgdW5rX2lkeDogaW50CiAgICBsYW5nX2lkeDogaW50CiAgICBwcmVmaXhfaW5kaWNlczogT3B0aW9uYWxbVGVuc29yXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHRva2VuaXplcjogVW5pdFRva2VuaXplciwKICAgICAgICBsYW5nOiBzdHIsCiAgICAgICAgaXNfbmFyX2RlY29kZXI6IGJvb2wsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gdG9rZW5pemVyOgogICAgICAgICAgICBUaGUgdW5pdCB0b2tlbml6ZXIgdG8gdXNlLgogICAgICAgIDpwYXJhbSBsYW5nOgogICAgICAgICAgICBUaGUgbGFuZ3VhZ2Ugb2YgZ2VuZXJhdGVkIHRva2VuIGluZGljZXMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgbm90IGxhbmcgaW4gdG9rZW5pemVyLmxhbmdfbWFwOgogICAgICAgICAgICBsYW5ncyA9ICIsICIuam9pbih0b2tlbml6ZXIubGFuZ3MpCgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgbGFuZ2AgbXVzdCBiZSBvbmUgb2YgdGhlIHN1cHBvcnRlZCBsYW5ndWFnZXMsIGJ1dCBpcyAne2xhbmd9JyBpbnN0ZWFkLiBTdXBwb3J0ZWQgbGFuZ3VhZ2VzOiB7bGFuZ3N9IgogICAgICAgICAgICApCgogICAgICAgIHNlbGYudG9rZW5pemVyID0gdG9rZW5pemVyCiAgICAgICAgc2VsZi5pc19uYXJfZGVjb2RlciA9IGlzX25hcl9kZWNvZGVyCgogICAgICAgIGFzc2VydCB0b2tlbml6ZXIudm9jYWJfaW5mby5lb3NfaWR4IGlzIG5vdCBOb25lCiAgICAgICAgYXNzZXJ0IHRva2VuaXplci52b2NhYl9pbmZvLnVua19pZHggaXMgbm90IE5vbmUKCiAgICAgICAgc2VsZi5lb3NfaWR4ID0gdG9rZW5pemVyLnZvY2FiX2luZm8uZW9zX2lkeAogICAgICAgIHNlbGYudW5rX2lkeCA9IHRva2VuaXplci52b2NhYl9pbmZvLnVua19pZHgKCiAgICAgICAgc2VsZi5sYW5nX2lkeCA9IHRva2VuaXplci5sYW5nX3RvX2luZGV4KGxhbmcpCgogICAgICAgIGlmIGRldmljZSBpcyBOb25lOgogICAgICAgICAgICBkZXZpY2UgPSBEZXZpY2UoImNwdSIpCgogICAgICAgIGlmIG5vdCBzZWxmLmlzX25hcl9kZWNvZGVyOgogICAgICAgICAgICAjIFdlIGFsd2F5cyBzdGFydCBzZXF1ZW5jZXMgd2l0aCBFT1MsIGZvbGxvd2VkIGJ5IHRoZSBsYW5ndWFnZSB0b2tlbi4KICAgICAgICAgICAgc2VsZi5wcmVmaXhfaW5kaWNlcyA9IHRvcmNoLnRlbnNvcigKICAgICAgICAgICAgICAgIFtzZWxmLmVvc19pZHgsIHNlbGYubGFuZ19pZHhdLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT10b3JjaC5pbnQ2NAogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5wcmVmaXhfaW5kaWNlcyA9IE5vbmUKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgdW5pdHM6IFRlbnNvcikgLT4gVGVuc29yOgogICAgICAgICIiIkVuY29kZSBgYHVuaXRzYGAgdG8gdG9rZW4gaW5kaWNlcy4KCiAgICAgICAgOnBhcmFtIHVuaXRzOgogICAgICAgICAgICBUaGUgc3BlZWNoIHVuaXRzIHRvIGVuY29kZS4gKlNoYXBlOiogOm1hdGg6YChOLFMpYCwgd2hlcmUgOm1hdGg6YE5gCiAgICAgICAgICAgIGlzIHRoZSBiYXRjaCBzaXplIGFuZCA6bWF0aDpgU2AgaXMgdGhlIHNlcXVlbmNlIGxlbmd0aC4KCiAgICAgICAgOnJldHVybnM6CiAgICAgICAgICAgIFRoZSB0b2tlbiBpbmRpY2VzIGNvcnJlc3BvbmRpbmcgdG8gYGB1bml0c2BgLiAqU2hhcGU6KgogICAgICAgICAgICA6bWF0aDpgKE4sU197dG9rfSlgICx3aGVyZSA6bWF0aDpgTmAgaXMgdGhlIGJhdGNoIHNpemUgYW5kCiAgICAgICAgICAgIDptYXRoYFNfe3Rva31gIGlzIHRoZSBzZXF1ZW5jZSBsZW5ndGggb2YgdGhlIHRva2VuIGluZGljZXMuCiAgICAgICAgIiIiCiAgICAgICAgYmF0Y2hfc2l6ZSA9IHVuaXRzLnNpemUoMCkKCiAgICAgICAgaWYgc2VsZi5wcmVmaXhfaW5kaWNlcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgdG9rZW5faW5kaWNlcyA9IHRvcmNoLmNhdCgKICAgICAgICAgICAgICAgIFtzZWxmLnByZWZpeF9pbmRpY2VzLmNsb25lKCkuZXhwYW5kKGJhdGNoX3NpemUsIC0xKSwgdW5pdHMuZGV0YWNoKCldLAogICAgICAgICAgICAgICAgZGltPTEsCiAgICAgICAgICAgICkKCiAgICAgICAgICAgICMgRW5zdXJlIHRoYXQgbm9uLXN5bWJvbCBpbmRpY2VzIGxhcmdlciB0aGFuIGBudW1fdW5pdHNgIGFyZSByZXBsYWNlZAogICAgICAgICAgICAjIHdpdGggVU5LLgogICAgICAgICAgICBzZXFzID0gdG9rZW5faW5kaWNlc1s6LCAyOl0KICAgICAgICBlbHNlOgogICAgICAgICAgICB0b2tlbl9pbmRpY2VzID0gdW5pdHMuY2xvbmUoKS5kZXRhY2goKQogICAgICAgICAgICBzZXFzID0gdG9rZW5faW5kaWNlcwoKICAgICAgICAjIEFkZCBvZmZzZXQgZm9yIGNvbnRyb2wgc3ltYm9scy4KICAgICAgICBzZXFzICs9IDQKCiAgICAgICAgc2Vxc1tzZXFzID49IHNlbGYudG9rZW5pemVyLm51bV91bml0cyArIDRdID0gc2VsZi51bmtfaWR4CgogICAgICAgIHJldHVybiB0b2tlbl9pbmRpY2VzCgoKY2xhc3MgVW5pdFRva2VuRGVjb2RlcjoKICAgICIiIkRlY29kZXMgc3BlZWNoIHVuaXRzIGZyb20gdG9rZW4gaW5kaWNlcy4iIiIKCiAgICBlb3NfaWR4OiBpbnQKICAgIHBhZF9pZHg6IGludAoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB0b2tlbml6ZXI6IFVuaXRUb2tlbml6ZXIsIGlzX25hcl9kZWNvZGVyOiBib29sKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSB0b2tlbml6ZXI6CiAgICAgICAgICAgIFRoZSB1bml0IHRva2VuaXplciB0byB1c2UuCiAgICAgICAgOnBhcmFtIGlzX25hcl9kZWNvZGVyOgogICAgICAgICAgICBJZiBUcnVlLCB0aGUgdW5pdCBkZWNvZGVyIGlzIG5vbi1hdXRvcmVncmVzc2l2ZS4KICAgICAgICAiIiIKICAgICAgICBhc3NlcnQgdG9rZW5pemVyLnZvY2FiX2luZm8uZW9zX2lkeCBpcyBub3QgTm9uZQogICAgICAgIGFzc2VydCB0b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4IGlzIG5vdCBOb25lCgogICAgICAgIHNlbGYuZW9zX2lkeCA9IHRva2VuaXplci52b2NhYl9pbmZvLmVvc19pZHgKICAgICAgICBzZWxmLnBhZF9pZHggPSB0b2tlbml6ZXIudm9jYWJfaW5mby5wYWRfaWR4CgogICAgICAgIHNlbGYuaXNfbmFyX2RlY29kZXIgPSBpc19uYXJfZGVjb2RlcgoKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCB0b2tlbl9pbmRpY2VzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICAiIiJEZWNvZGUgYGB0b2tlbl9pbmRpY2VzYGAgdG8gc3BlZWNoIHVuaXRzLgoKICAgICAgICA6cGFyYW0gdG9rZW5faW5kaWNlczoKICAgICAgICAgICAgVGhlIHRva2VuIGluZGljZXMgdG8gZGVjb2RlLiAqU2hhcGU6KiA6bWF0aDpgKE4sUylgLCB3aGVyZSA6bWF0aDpgTmAKICAgICAgICAgICAgaXMgdGhlIGJhdGNoIHNpemUgYW5kIDptYXRoOmBTYCBpcyB0aGUgc2VxdWVuY2UgbGVuZ3RoLgoKICAgICAgICA6cmV0dXJuczoKICAgICAgICAgICAgVGhlIHNwZWVjaCB1bml0cyBjb3JyZXNwb25kaW5nIHRvIGBgdG9rZW5faW5kaWNlc2BgLiAqU2hhcGU6KgogICAgICAgICAgICA6bWF0aDpgKE4sU197dW50fSlgLCB3aGVyZSA6bWF0aDpgTmAgaXMgdGhlIGJhdGNoIHNpemUgYW5kCiAgICAgICAgICAgIDptYXRoYFNfe3VudH1gIGlzIHRoZSBzZXF1ZW5jZSBsZW5ndGggb2YgdGhlIHNwZWVjaCB1bml0cy4KICAgICAgICAiIiIKICAgICAgICBpZiB0b2tlbl9pbmRpY2VzLnNpemUoMSkgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIHRva2VuX2luZGljZXMKCiAgICAgICAgdW5pdHMgPSB0b2tlbl9pbmRpY2VzLmNsb25lKCkuZGV0YWNoKCkKCiAgICAgICAgIyBSZW1vdmUgdGhlIHByZWZpeCBFT1Mgc3ltYm9sIGZyb20gdGhlIGRlY29kZWQgb3V0cHV0IGZvcgogICAgICAgICMgYXV0b3JlZ3Jlc3NpdmUgVW5pdFkuCiAgICAgICAgaWYgbm90IHNlbGYuaXNfbmFyX2RlY29kZXI6CiAgICAgICAgICAgIHVuaXRzID0gdW5pdHNbOiwgMTpdCgogICAgICAgICMgQWxzbywgcmVwbGFjZSBFT1Mgd2l0aCBQQUQgYXQgc2VxdWVuY2UgZW5kcy4KICAgICAgICB1bml0c1t1bml0cyA9PSBzZWxmLmVvc19pZHhdID0gc2VsZi5wYWRfaWR4CgogICAgICAgIHVuaXRzW3VuaXRzID09IHNlbGYucGFkX2lkeF0gPSBzZWxmLnBhZF9pZHggKyA0CgogICAgICAgICMgUmVtb3ZlIG9mZnNldCBvZiBjb250cm9sIHN5bWJvbHMuCiAgICAgICAgaWYgc2VsZi5pc19uYXJfZGVjb2RlcjoKICAgICAgICAgICAgdW5pdHMgLT0gNAogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgRXhjbHVkZSBsYW5ndWFnZSBzeW1ib2wgZm9yIGF1dG9yZWdyZXNzaXZlIFVuaXRZLgogICAgICAgICAgICB1bml0c1s6LCAxOl0gLT0gNAoKICAgICAgICByZXR1cm4gdW5pdHMK'),
    ('seamless/build/lib/seamless_communication/models/unity/adaptor_block.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBJdGVyYWJsZSwgT3B0aW9uYWwsIFR1cGxlLCBmaW5hbAoKaW1wb3J0IHRvcmNoCmZyb20gZmFpcnNlcTIubW9kZWxzLmNvbmZvcm1lciBpbXBvcnQgQ29uZm9ybWVyQmxvY2sKZnJvbSBmYWlyc2VxMi5ubi5tb2R1bGVfbGlzdCBpbXBvcnQgTW9kdWxlTGlzdApmcm9tIGZhaXJzZXEyLm5uLm5vcm1hbGl6YXRpb24gaW1wb3J0IExheWVyTm9ybQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrCmZyb20gZmFpcnNlcTIubm4ucHJvamVjdGlvbiBpbXBvcnQgTGluZWFyCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIEF0dGVudGlvbk1hc2ssCiAgICBGZWVkRm9yd2FyZE5ldHdvcmssCiAgICBMYXllck5vcm1GYWN0b3J5LAogICAgTXVsdGloZWFkQXR0ZW50aW9uLAogICAgVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIsCiAgICBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybSwKKQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQpmcm9tIG92ZXJyaWRlcyBpbXBvcnQgZmluYWwgYXMgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgR0xVLCBDb252MWQsIERyb3BvdXQsIFJlTFUKCgpAZmluYWwKY2xhc3MgVW5pdFlFbmNvZGVyQWRhcHRvcihUcmFuc2Zvcm1lckVuY29kZXIpOgogICAgIiIiUmVwcmVzZW50cyBhIFRyYW5zZm9ybWVyIGVuY29kZXIgdGhhdCB3cmFwcyBhIHNwZWVjaCBlbmNvZGVyIGFuZCBhZGFwdHMKICAgIGl0IHRvIGJlIHVzZWQgd2l0aCB0aGUgVW5pdFkgYXJjaGl0ZWN0dXJlLiIiIgoKICAgIGlubmVyOiBUcmFuc2Zvcm1lckVuY29kZXIKICAgIGlubmVyX2xheWVyX25vcm06IE9wdGlvbmFsW0xheWVyTm9ybV0KICAgIHByb2oxOiBMaW5lYXIKICAgIGFjdGl2YXRpb246IFJlTFUKICAgIHByb2oyOiBMaW5lYXIKICAgIGFkYXB0b3JfbGF5ZXJzOiBNb2R1bGVMaXN0CiAgICBsYXllcl9ub3JtOiBMYXllck5vcm0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBpbm5lcjogVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgICAgIGFkYXB0b3JfbGF5ZXJzOiBJdGVyYWJsZVtUcmFuc2Zvcm1lckVuY29kZXJMYXllcl0sCiAgICAgICAgKiwKICAgICAgICBpbm5lcl9sYXllcl9ub3JtOiBib29sID0gRmFsc2UsCiAgICAgICAgbGF5ZXJfbm9ybV9mYWN0b3J5OiBPcHRpb25hbFtMYXllck5vcm1GYWN0b3J5XSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gaW5uZXI6CiAgICAgICAgICAgIFRoZSBzcGVlY2ggZW5jb2RlciB0byB3cmFwLgogICAgICAgIDpwYXJhbSBhZGFwdG9yX2xheWVyczoKICAgICAgICAgICAgVGhlIGFkYXB0b3IgbGF5ZXJzIHRvIHN0YWNrIG9uIHRvcCBvZiBgYGlubmVyYGAuCiAgICAgICAgOnBhcmFtIGlubmVyX2xheWVyX25vcm06CiAgICAgICAgICAgIElmIGBgVHJ1ZWBgLCBhcHBsaWVzIExheWVyIE5vcm1hbGl6YXRpb24gdG8gb3V0cHV0cyBvZiBgYGlubmVyYGAuCiAgICAgICAgOnBhcmFtIGxheWVyX25vcm1fZmFjdG9yeToKICAgICAgICAgICAgVGhlIGZhY3RvcnkgdG8gdXNlIHRvIGNvbnN0cnVjdCB0aGUgTGF5ZXIgTm9ybWFsaXphdGlvbiBtb2R1bGVzLgogICAgICAgICIiIgogICAgICAgIG1vZGVsX2RpbSA9IGlubmVyLm1vZGVsX2RpbQoKICAgICAgICBzdXBlcigpLl9faW5pdF9fKG1vZGVsX2RpbSkKCiAgICAgICAgaWYgbGF5ZXJfbm9ybV9mYWN0b3J5IGlzIE5vbmU6CiAgICAgICAgICAgIGxheWVyX25vcm1fZmFjdG9yeSA9IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtCgogICAgICAgIHNlbGYuaW5uZXIgPSBpbm5lcgoKICAgICAgICBpZiBpbm5lcl9sYXllcl9ub3JtOgogICAgICAgICAgICBzZWxmLmlubmVyX2xheWVyX25vcm0gPSBsYXllcl9ub3JtX2ZhY3RvcnkoCiAgICAgICAgICAgICAgICBtb2RlbF9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiaW5uZXJfbGF5ZXJfbm9ybSIsIE5vbmUpCgogICAgICAgIHNlbGYucHJvajEgPSBMaW5lYXIoCiAgICAgICAgICAgIG1vZGVsX2RpbSwgbW9kZWxfZGltICogNCwgYmlhcz1UcnVlLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgc2VsZi5hY3RpdmF0aW9uID0gUmVMVSgpCgogICAgICAgIHNlbGYucHJvajIgPSBMaW5lYXIoCiAgICAgICAgICAgIG1vZGVsX2RpbSAqIDQsIG1vZGVsX2RpbSwgYmlhcz1UcnVlLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgbGF5ZXJfbGlzdCA9IE1vZHVsZUxpc3QoYWRhcHRvcl9sYXllcnMpCiAgICAgICAgaWYgbm90IGxheWVyX2xpc3Q6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImBhZGFwdG9yX2xheWVyc2AgbXVzdCBiZSBub24tZW1wdHkuIikKCiAgICAgICAgc2VsZi5hZGFwdG9yX2xheWVycyA9IGxheWVyX2xpc3QKCiAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gbGF5ZXJfbm9ybV9mYWN0b3J5KG1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXV06CiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5pbm5lcihzZXFzLCBwYWRkaW5nX21hc2spCgogICAgICAgIGlmIHNlbGYuaW5uZXJfbGF5ZXJfbm9ybSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYuaW5uZXJfbGF5ZXJfbm9ybShzZXFzKQoKICAgICAgICAjIE9ubHkgZGlmZmVyZW5jZSBjb21wYXJlZCB0byBhIHZhbmlsbGEgVHJhbnNmb3JtZXIgZW5jb2Rlci4KICAgICAgICBzZXFzID0gc2VxcyArIDAuNSAqIHNlbGYuX2V4cGFuZF9jb250cmFjdChzZXFzKQoKICAgICAgICBmb3IgbGF5ZXIgaW4gc2VsZi5hZGFwdG9yX2xheWVyczoKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gbGF5ZXIoc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBzZXFzID0gc2VsZi5sYXllcl9ub3JtKHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzLCBwYWRkaW5nX21hc2sKCiAgICBkZWYgX2V4cGFuZF9jb250cmFjdChzZWxmLCBzZXFzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICBzZXFzID0gc2VsZi5wcm9qMShzZXFzKQoKICAgICAgICBzZXFzID0gc2VsZi5hY3RpdmF0aW9uKHNlcXMpCgogICAgICAgIHNlcXMgPSBzZWxmLnByb2oyKHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzCgoKQGZpbmFsCmNsYXNzIFVuaXRZVHJhbnNmb3JtZXJBZGFwdG9yTGF5ZXIoVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIpOgogICAgIiIiUmVwcmVzZW50cyBhIHZhcmlhbnQgb2YgTS1BZGFwdG9yIGxheWVyIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIwNy4wMDk1MmAuCgogICAgVGhlIG1haW4gZGlmZmVyZW5jZSBmcm9tIHRoZSBwYXBlciBpcyB0aGF0IHBvb2xpbmcgaXMgYXBwbGllZCB0byBtdWx0aS1oZWFkCiAgICBhdHRlbnRpb24gaW5wdXQgcmF0aGVyIHRoYW4gcHJvamVjdGVkIFEsIEssIFYuCiAgICAiIiIKCiAgICBrZXJuZWxfc2l6ZTogaW50CiAgICBzdHJpZGU6IGludAogICAgcmVzaWR1YWxfbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCiAgICByZXNpZHVhbF9jb252OiBDb252MWQKICAgIHJlc2lkdWFsX2FjdGl2YXRpb246IEdMVQogICAgc2VsZl9hdHRuX2xheWVyX25vcm06IExheWVyTm9ybQogICAgc2VsZl9hdHRuX2NvbnY6IENvbnYxZAogICAgc2VsZl9hdHRuX2FjdGl2YXRpb246IEdMVQogICAgc2VsZl9hdHRuOiBNdWx0aWhlYWRBdHRlbnRpb24KICAgIHNlbGZfYXR0bl9kcm9wb3V0OiBPcHRpb25hbFtEcm9wb3V0XQogICAgZmZuX2xheWVyX25vcm06IExheWVyTm9ybQogICAgZmZuOiBGZWVkRm9yd2FyZE5ldHdvcmsKICAgIGZmbl9kcm9wb3V0OiBPcHRpb25hbFtEcm9wb3V0XQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHNlbGZfYXR0bjogTXVsdGloZWFkQXR0ZW50aW9uLAogICAgICAgIGZmbjogRmVlZEZvcndhcmROZXR3b3JrLAogICAgICAgIGtlcm5lbF9zaXplOiBpbnQsCiAgICAgICAgc3RyaWRlOiBpbnQsCiAgICAgICAgKiwKICAgICAgICBkcm9wb3V0X3A6IGZsb2F0ID0gMC4xLAogICAgICAgIGxheWVyX25vcm1fZmFjdG9yeTogT3B0aW9uYWxbTGF5ZXJOb3JtRmFjdG9yeV0gPSBOb25lLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIHNlbGZfYXR0bjoKICAgICAgICAgICAgVGhlIHNlbGYgYXR0ZW50aW9uIGxheWVyLgogICAgICAgIDpwYXJhbSBmZm46CiAgICAgICAgICAgIFRoZSBmZWVkLWZvcndhcmQgbmV0d29yay4KICAgICAgICA6cGFyYW0ga2VybmVsX3NpemU6CiAgICAgICAgICAgIFRoZSBrZXJuZWwgc2l6ZSBmb3IgMUQgcG9vbGluZyBjb252b2x1dGlvbnMuCiAgICAgICAgOnBhcmFtIHN0cmlkZToKICAgICAgICAgICAgVGhlIHN0cmlkZSBmb3IgMUQgcG9vbGluZyBjb252b2x1dGlvbnMuCiAgICAgICAgOnBhcmFtIGRyb3BvdXRfcDoKICAgICAgICAgICAgVGhlIGRyb3BvdXQgcHJvYmFiaWxpdHkgb24gb3V0cHV0cyBvZiB0aGUgc2VsZiBhdHRlbnRpb24gbGF5ZXIgYW5kCiAgICAgICAgICAgIHRoZSBmZWVkLWZvcndhcmQgbmV0d29yay4KICAgICAgICA6cGFyYW0gbGF5ZXJfbm9ybV9mYWN0b3J5OgogICAgICAgICAgICBUaGUgZmFjdG9yeSB0byB1c2UgdG8gY29uc3RydWN0IHRoZSBMYXllciBOb3JtYWxpemF0aW9uIG1vZHVsZXMuCiAgICAgICAgIiIiCiAgICAgICAgbW9kZWxfZGltID0gc2VsZl9hdHRuLm1vZGVsX2RpbQoKICAgICAgICBzdXBlcigpLl9faW5pdF9fKG1vZGVsX2RpbSkKCiAgICAgICAgaWYgbGF5ZXJfbm9ybV9mYWN0b3J5IGlzIE5vbmU6CiAgICAgICAgICAgIGxheWVyX25vcm1fZmFjdG9yeSA9IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtCgogICAgICAgIHNlbGYua2VybmVsX3NpemUgPSBrZXJuZWxfc2l6ZQogICAgICAgIHNlbGYuc3RyaWRlID0gc3RyaWRlCgogICAgICAgIHNlbGYucmVzaWR1YWxfbGF5ZXJfbm9ybSA9IGxheWVyX25vcm1fZmFjdG9yeSgKICAgICAgICAgICAgbW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgc2VsZi5yZXNpZHVhbF9jb252ID0gQ29udjFkKAogICAgICAgICAgICBtb2RlbF9kaW0sCiAgICAgICAgICAgIG1vZGVsX2RpbSAqIDIsCiAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICBzdHJpZGUsCiAgICAgICAgICAgIHBhZGRpbmc9a2VybmVsX3NpemUgLy8gMiwKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBzZWxmLnJlc2lkdWFsX2FjdGl2YXRpb24gPSBHTFUoZGltPTEpCgogICAgICAgIHNlbGYuc2VsZl9hdHRuX2xheWVyX25vcm0gPSBsYXllcl9ub3JtX2ZhY3RvcnkoCiAgICAgICAgICAgIG1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgICAgIHNlbGYuc2VsZl9hdHRuX2NvbnYgPSBDb252MWQoCiAgICAgICAgICAgIG1vZGVsX2RpbSwKICAgICAgICAgICAgbW9kZWxfZGltICogMiwKICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgcGFkZGluZz1rZXJuZWxfc2l6ZSAvLyAyLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCgogICAgICAgIHNlbGYuc2VsZl9hdHRuX2FjdGl2YXRpb24gPSBHTFUoZGltPTEpCgogICAgICAgIHNlbGYuc2VsZl9hdHRuID0gc2VsZl9hdHRuCgogICAgICAgIGlmIGRyb3BvdXRfcCA+IDAuMDoKICAgICAgICAgICAgc2VsZi5zZWxmX2F0dG5fZHJvcG91dCA9IERyb3BvdXQoZHJvcG91dF9wKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJzZWxmX2F0dG5fZHJvcG91dCIsIE5vbmUpCgogICAgICAgIHNlbGYuZmZuX2xheWVyX25vcm0gPSBsYXllcl9ub3JtX2ZhY3RvcnkobW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKCiAgICAgICAgc2VsZi5mZm4gPSBmZm4KCiAgICAgICAgaWYgZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLmZmbl9kcm9wb3V0ID0gRHJvcG91dChkcm9wb3V0X3ApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoImZmbl9kcm9wb3V0IiwgTm9uZSkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgc2VsZl9hdHRuX21hc2s6IE9wdGlvbmFsW0F0dGVudGlvbk1hc2tdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza11dOgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYuX2ZvcndhcmRfc2VsZl9hdHRuKHNlcXMsIHBhZGRpbmdfbWFzaywgc2VsZl9hdHRuX21hc2spCgogICAgICAgIHNlcXMgPSBzZWxmLl9mb3J3YXJkX2ZmbihzZXFzKQoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrCgogICAgZGVmIF9mb3J3YXJkX3NlbGZfYXR0bigKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBzZWxmX2F0dG5fbWFzazogT3B0aW9uYWxbQXR0ZW50aW9uTWFza10sCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICByZXNpZHVhbCA9IHNlbGYucmVzaWR1YWxfbGF5ZXJfbm9ybShzZXFzKQoKICAgICAgICAjIEFwcGx5IHBvb2xpbmcgdG8gdGhlIHJlc2lkdWFsIHRvIG1hdGNoIHRoZSBzZXF1ZW5jZSBsZW5ndGggb2YgdGhlCiAgICAgICAgIyBtdWx0aS1oZWFkIGF0dGVudGlvbiBvdXRwdXQuCiAgICAgICAgIyAoTiwgUywgTSkgLT4gKE4sIE0sIFMpCiAgICAgICAgcmVzaWR1YWwgPSByZXNpZHVhbC50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgcmVzaWR1YWwgPSBzZWxmLnJlc2lkdWFsX2NvbnYocmVzaWR1YWwpCgogICAgICAgIHJlc2lkdWFsID0gc2VsZi5yZXNpZHVhbF9hY3RpdmF0aW9uKHJlc2lkdWFsKQoKICAgICAgICAjIChOLCBNLCBTKSAtPiAoTiwgUywgTSkKICAgICAgICByZXNpZHVhbCA9IHJlc2lkdWFsLnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICBzZXFzID0gc2VsZi5zZWxmX2F0dG5fbGF5ZXJfbm9ybShzZXFzKQoKICAgICAgICAjIEFwcGx5IHBvb2xpbmcgYmVmb3JlIGZlZWRpbmcgdG8gdGhlIG11bHRpaGVhZC1hdHRlbnRpb24gbGF5ZXIuCiAgICAgICAgIyAoTiwgUywgTSkgLT4gKE4sIE0sIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bl9jb252KHNlcXMpCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bl9hY3RpdmF0aW9uKHNlcXMpCgogICAgICAgICMgKE4sIE0sIFMpIC0+IChOLCBTLCBNKQogICAgICAgIHNlcXMgPSBzZXFzLnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICBwYWRkaW5nX21hc2sgPSBfY29tcHV0ZV9uZXdfcGFkZGluZ19tYXNrKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIHNlbGYua2VybmVsX3NpemUsIHNlbGYuc3RyaWRlCiAgICAgICAgKQoKICAgICAgICAjIFRoZSByZXN0IG9mIHRoZSBjb21wdXRhdGlvbiBpcyBpZGVudGljYWwgdG8gYSB2YW5pbGxhIFRyYW5zZm9ybWVyCiAgICAgICAgIyBlbmNvZGVyIGxheWVyLgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bigKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBrZXlzPXNlcXMsCiAgICAgICAgICAgIGtleV9wYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrLAogICAgICAgICAgICB2YWx1ZXM9c2VxcywKICAgICAgICAgICAgYXR0bl9tYXNrPXNlbGZfYXR0bl9tYXNrLAogICAgICAgICkKCiAgICAgICAgaWYgc2VsZi5zZWxmX2F0dG5fZHJvcG91dCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYuc2VsZl9hdHRuX2Ryb3BvdXQoc2VxcykKCiAgICAgICAgc2VxcyA9IHNlcXMgKyByZXNpZHVhbAoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrCgogICAgZGVmIF9mb3J3YXJkX2ZmbihzZWxmLCBzZXFzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICByZXNpZHVhbCA9IHNlcXMKCiAgICAgICAgc2VxcyA9IHNlbGYuZmZuX2xheWVyX25vcm0oc2VxcykKCiAgICAgICAgc2VxcyA9IHNlbGYuZmZuKHNlcXMpCgogICAgICAgIGlmIHNlbGYuZmZuX2Ryb3BvdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLmZmbl9kcm9wb3V0KHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzICsgcmVzaWR1YWwKCiAgICBkZWYgZXh0cmFfcmVwcihzZWxmKSAtPiBzdHI6CiAgICAgICAgIiIiOm1ldGEgcHJpdmF0ZToiIiIKICAgICAgICBzID0gc3VwZXIoKS5leHRyYV9yZXByKCkKCiAgICAgICAgcmV0dXJuIHMgKyBmIiwga2VybmVsX3NpemU9e3NlbGYua2VybmVsX3NpemV9LCBzdHJpZGU9e3NlbGYuc3RyaWRlfSIKCgpAZmluYWwKY2xhc3MgVW5pdFlDb25mb3JtZXJBZGFwdG9yTGF5ZXIoVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIpOgogICAgIiIiUmVwcmVzZW50cyBhIHZhcmlhbnQgb2YgTS1BZGFwdG9yIGxheWVyIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIwNy4wMDk1MmAuCgogICAgVGhlIG1haW4gZGlmZmVyZW5jZSBmcm9tIHRoZSBwYXBlciBpcyB0aGF0IHRoaXMgdmFyaWFudCB1c2VzIGEgQ29uZm9ybWVyCiAgICBibG9jayB3aGljaCBlbXBpcmljYWxseSBzaG93ZWQgYmV0dGVyIHBlcmZvcm1hbmNlIHdoZW4gdXNlZCB3aXRoIENvbmZvcm1lci0KICAgIGJhc2VkIHNwZWVjaCBlbmNvZGVyIGFyY2hpdGVjdHVyZXMgc3VjaCBhcyB3MnYtQkVSVC4KICAgICIiIgoKICAgIGtlcm5lbF9zaXplOiBpbnQKICAgIHN0cmlkZTogaW50CiAgICBsYXllcl9ub3JtOiBPcHRpb25hbFtMYXllck5vcm1dCiAgICBjb252OiBDb252MWQKICAgIGFjdGl2YXRpb246IEdMVQogICAgYmxvY2s6IENvbmZvcm1lckJsb2NrCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgYmxvY2s6IENvbmZvcm1lckJsb2NrLAogICAgICAgIGtlcm5lbF9zaXplOiBpbnQsCiAgICAgICAgc3RyaWRlOiBpbnQsCiAgICAgICAgKiwKICAgICAgICBsYXllcl9ub3JtOiBib29sID0gRmFsc2UsCiAgICAgICAgbGF5ZXJfbm9ybV9mYWN0b3J5OiBPcHRpb25hbFtMYXllck5vcm1GYWN0b3J5XSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gYmxvY2s6CiAgICAgICAgICAgIFRoZSBDb25mb3JtZXIgYmxvY2sgdG8gdXNlLgogICAgICAgIDpwYXJhbSBrZXJuZWxfc2l6ZToKICAgICAgICAgICAgVGhlIGtlcm5lbCBzaXplIGZvciAxRCBwb29saW5nIGNvbnZvbHV0aW9ucy4KICAgICAgICA6cGFyYW0gc3RyaWRlOgogICAgICAgICAgICBUaGUgc3RyaWRlIGZvciAxRCBwb29saW5nIGNvbnZvbHV0aW9ucy4KICAgICAgICA6cGFyYW0gbGF5ZXJfbm9ybToKICAgICAgICAgICAgSWYgYGBUcnVlYGAsIGFwcGxpZXMgTGF5ZXIgTm9ybWFsaXphdGlvbiB0byBpbnB1dHMgYmVmb3JlIHBvb2xpbmcuCiAgICAgICAgOnBhcmFtIGxheWVyX25vcm1fZmFjdG9yeToKICAgICAgICAgICAgVGhlIGZhY3RvcnkgdG8gdXNlIHRvIGNvbnN0cnVjdCB0aGUgTGF5ZXIgTm9ybWFsaXphdGlvbiBtb2R1bGVzLgogICAgICAgICIiIgogICAgICAgIHN1cGVyKCkuX19pbml0X18oYmxvY2subW9kZWxfZGltKQoKICAgICAgICBpZiBsYXllcl9ub3JtX2ZhY3RvcnkgaXMgTm9uZToKICAgICAgICAgICAgbGF5ZXJfbm9ybV9mYWN0b3J5ID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0KCiAgICAgICAgc2VsZi5rZXJuZWxfc2l6ZSA9IGtlcm5lbF9zaXplCiAgICAgICAgc2VsZi5zdHJpZGUgPSBzdHJpZGUKCiAgICAgICAgaWYgbGF5ZXJfbm9ybToKICAgICAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gbGF5ZXJfbm9ybV9mYWN0b3J5KAogICAgICAgICAgICAgICAgc2VsZi5tb2RlbF9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgibGF5ZXJfbm9ybSIsIE5vbmUpCgogICAgICAgIHNlbGYuY29udiA9IENvbnYxZCgKICAgICAgICAgICAgc2VsZi5tb2RlbF9kaW0sCiAgICAgICAgICAgIHNlbGYubW9kZWxfZGltICogMiwKICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgcGFkZGluZz1rZXJuZWxfc2l6ZSAvLyAyLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCgogICAgICAgIHNlbGYuYWN0aXZhdGlvbiA9IEdMVShkaW09MSkKCiAgICAgICAgc2VsZi5ibG9jayA9IGJsb2NrCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIHNlbGZfYXR0bl9tYXNrOiBPcHRpb25hbFtBdHRlbnRpb25NYXNrXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBpZiBzZWxmLmxheWVyX25vcm0gaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLmxheWVyX25vcm0oc2VxcykKCiAgICAgICAgIyBBcHBseSBwb29saW5nIGJlZm9yZSBmZWVkaW5nIHRvIHRoZSBDb25mb3JtZXIgYmxvY2suCiAgICAgICAgIyAoTiwgUywgTSkgLT4gKE4sIE0sIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHNlcXMgPSBzZWxmLmNvbnYoc2VxcykKCiAgICAgICAgc2VxcyA9IHNlbGYuYWN0aXZhdGlvbihzZXFzKQoKICAgICAgICAjIChOLCBNLCBTKSAtPiAoTiwgUywgTSkKICAgICAgICBzZXFzID0gc2Vxcy50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgcGFkZGluZ19tYXNrID0gX2NvbXB1dGVfbmV3X3BhZGRpbmdfbWFzaygKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBzZWxmLmtlcm5lbF9zaXplLCBzZWxmLnN0cmlkZQogICAgICAgICkKCiAgICAgICAgcmV0dXJuIHNlbGYuYmxvY2soc2VxcywgcGFkZGluZ19tYXNrLCBzZWxmX2F0dG5fbWFzaykgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgogICAgZGVmIGV4dHJhX3JlcHIoc2VsZikgLT4gc3RyOgogICAgICAgICIiIjptZXRhIHByaXZhdGU6IiIiCiAgICAgICAgcyA9IHN1cGVyKCkuZXh0cmFfcmVwcigpCgogICAgICAgIHJldHVybiBzICsgZiIsIGtlcm5lbF9zaXplPXtzZWxmLmtlcm5lbF9zaXplfSwgc3RyaWRlPXtzZWxmLnN0cmlkZX0iCgoKZGVmIF9jb21wdXRlX25ld19wYWRkaW5nX21hc2soCiAgICBzZXFzOiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLCBrZXJuZWxfc2l6ZTogaW50LCBzdHJpZGU6IGludAopIC0+IE9wdGlvbmFsW1BhZGRpbmdNYXNrXToKICAgIGlmIHBhZGRpbmdfbWFzayBpcyBOb25lOgogICAgICAgIHJldHVybiBwYWRkaW5nX21hc2sKCiAgICBwYWQgPSBrZXJuZWxfc2l6ZSAvLyAyCgogICAgc2VxX2xlbnMgPSAoKHBhZGRpbmdfbWFzay5zZXFfbGVucyArIDIgKiBwYWQgLSBrZXJuZWxfc2l6ZSkgLyBzdHJpZGUpICsgMQoKICAgIHNlcV9sZW5zID0gc2VxX2xlbnMuZmxvb3IoKS50byh0b3JjaC5pbnQ2NCkKCiAgICByZXR1cm4gUGFkZGluZ01hc2soc2VxX2xlbnMsIGJhdGNoX3NlcV9sZW49c2Vxcy5zaXplKDEpKQo='),
    ('seamless/build/lib/seamless_communication/models/unity/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmJ1aWxkZXIgaW1wb3J0IFVuaXRZQnVpbGRlciBhcyBVbml0WUJ1aWxkZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5idWlsZGVyIGltcG9ydCBVbml0WUNvbmZpZyBhcyBVbml0WUNvbmZpZwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmJ1aWxkZXIgaW1wb3J0ICgKICAgIGNyZWF0ZV91bml0eV9tb2RlbCBhcyBjcmVhdGVfdW5pdHlfbW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5idWlsZGVyIGltcG9ydCB1bml0eV9hcmNoIGFzIHVuaXR5X2FyY2gKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5idWlsZGVyIGltcG9ydCB1bml0eV9hcmNocyBhcyB1bml0eV9hcmNocwpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCAoCiAgICBDaGFyVG9rZW5pemVyIGFzIENoYXJUb2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5jaGFyX3Rva2VuaXplciBpbXBvcnQgKAogICAgVW5pdFlDaGFyVG9rZW5pemVyTG9hZGVyIGFzIFVuaXRZQ2hhclRva2VuaXplckxvYWRlciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCAoCiAgICBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyIGFzIGxvYWRfdW5pdHlfY2hhcl90b2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5mZnRfZGVjb2RlciBpbXBvcnQgKAogICAgRmVlZEZvcndhcmRUcmFuc2Zvcm1lciBhcyBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuZmZ0X2RlY29kZXJfbGF5ZXIgaW1wb3J0ICgKICAgIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXJMYXllciBhcyBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyTGF5ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5maWxtIGltcG9ydCBGaUxNCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubGVuZ3RoX3JlZ3VsYXRvciBpbXBvcnQgKAogICAgSGFyZFVwc2FtcGxpbmcgYXMgSGFyZFVwc2FtcGxpbmcsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sZW5ndGhfcmVndWxhdG9yIGltcG9ydCAoCiAgICBWYXJpYW5jZUFkYXB0b3IgYXMgVmFyaWFuY2VBZGFwdG9yLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubGVuZ3RoX3JlZ3VsYXRvciBpbXBvcnQgKAogICAgVmFyaWFuY2VQcmVkaWN0b3IgYXMgVmFyaWFuY2VQcmVkaWN0b3IsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sb2FkZXIgaW1wb3J0ICgKICAgIGxvYWRfZ2Ntdm5fc3RhdHMgYXMgbG9hZF9nY212bl9zdGF0cywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmxvYWRlciBpbXBvcnQgKAogICAgbG9hZF91bml0eV9jb25maWcgYXMgbG9hZF91bml0eV9jb25maWcsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sb2FkZXIgaW1wb3J0ICgKICAgIGxvYWRfdW5pdHlfbW9kZWwgYXMgbG9hZF91bml0eV9tb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmxvYWRlciBpbXBvcnQgKAogICAgbG9hZF91bml0eV90ZXh0X3Rva2VuaXplciBhcyBsb2FkX3VuaXR5X3RleHRfdG9rZW5pemVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubG9hZGVyIGltcG9ydCAoCiAgICBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyIGFzIGxvYWRfdW5pdHlfdW5pdF90b2tlbml6ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5tb2RlbCBpbXBvcnQgVW5pdFlNb2RlbCBhcyBVbml0WU1vZGVsCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0ICgKICAgIFVuaXRZTkFSVDJVTW9kZWwgYXMgVW5pdFlOQVJUMlVNb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5Lm1vZGVsIGltcG9ydCBVbml0WU91dHB1dCBhcyBVbml0WU91dHB1dApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5Lm1vZGVsIGltcG9ydCBVbml0WVQyVU1vZGVsIGFzIFVuaXRZVDJVTW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5tb2RlbCBpbXBvcnQgVW5pdFlYMlRNb2RlbCBhcyBVbml0WVgyVE1vZGVsCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubmFyX2RlY29kZXJfZnJvbnRlbmQgaW1wb3J0ICgKICAgIE5BUkRlY29kZXJGcm9udGVuZCBhcyBOQVJEZWNvZGVyRnJvbnRlbmQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS50MnVfYnVpbGRlciBpbXBvcnQgKAogICAgVW5pdFlOQVJUMlVCdWlsZGVyIGFzIFVuaXRZTkFSVDJVQnVpbGRlciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnQydV9idWlsZGVyIGltcG9ydCAoCiAgICBVbml0WVQyVUJ1aWxkZXIgYXMgVW5pdFlUMlVCdWlsZGVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudDJ1X2J1aWxkZXIgaW1wb3J0ICgKICAgIFVuaXRZVDJVQ29uZmlnIGFzIFVuaXRZVDJVQ29uZmlnLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudDJ1X2J1aWxkZXIgaW1wb3J0ICgKICAgIGNyZWF0ZV91bml0eV90MnVfbW9kZWwgYXMgY3JlYXRlX3VuaXR5X3QydV9tb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnQydV9idWlsZGVyIGltcG9ydCAoCiAgICB1bml0eV90MnVfYXJjaCBhcyB1bml0eV90MnVfYXJjaCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnQydV9idWlsZGVyIGltcG9ydCAoCiAgICB1bml0eV90MnVfYXJjaHMgYXMgdW5pdHlfdDJ1X2FyY2hzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudW5pdF90b2tlbml6ZXIgaW1wb3J0ICgKICAgIFVuaXRUb2tlbkRlY29kZXIgYXMgVW5pdFRva2VuRGVjb2RlciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnVuaXRfdG9rZW5pemVyIGltcG9ydCAoCiAgICBVbml0VG9rZW5FbmNvZGVyIGFzIFVuaXRUb2tlbkVuY29kZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS51bml0X3Rva2VuaXplciBpbXBvcnQgKAogICAgVW5pdFRva2VuaXplciBhcyBVbml0VG9rZW5pemVyLAopCg=='),
    ('seamless/build/lib/seamless_communication/models/unity/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QsIE1hcHBpbmcsIFR1cGxlLCBVbmlvbgoKaW1wb3J0IHRvcmNoCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBBc3NldFN0b3JlLCBhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcgpmcm9tIGZhaXJzZXEyLmFzc2V0cy5jYXJkIGltcG9ydCBBc3NldENhcmQsIEFzc2V0Q2FyZEZpZWxkTm90Rm91bmRFcnJvcgpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiIGltcG9ydCBObGxiQ29uZmlnCmZyb20gZmFpcnNlcTIubW9kZWxzLm5sbGIubG9hZGVyIGltcG9ydCBObGxiVG9rZW5pemVyTG9hZGVyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzIGltcG9ydCBDb25maWdMb2FkZXIsIE1vZGVsTG9hZGVyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzLmNoZWNrcG9pbnQgaW1wb3J0IGNvbnZlcnRfZmFpcnNlcV9jaGVja3BvaW50Cgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmJ1aWxkZXIgaW1wb3J0ICgKICAgIFVuaXRZQ29uZmlnLAogICAgY3JlYXRlX3VuaXR5X21vZGVsLAogICAgdW5pdHlfYXJjaHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5jaGFyX3Rva2VuaXplciBpbXBvcnQgbG9hZF91bml0eV9jaGFyX3Rva2VuaXplcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5Lm1vZGVsIGltcG9ydCBVbml0WU1vZGVsCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudW5pdF90b2tlbml6ZXIgaW1wb3J0IFVuaXRUb2tlbml6ZXIKCgpkZWYgY29udmVydF91bml0eV9jaGVja3BvaW50KAogICAgY2hlY2twb2ludDogTWFwcGluZ1tzdHIsIEFueV0sIGNvbmZpZzogVW5pdFlDb25maWcKKSAtPiBNYXBwaW5nW3N0ciwgQW55XToKICAgIHN0YXRlX2RpY3QgPSBjaGVja3BvaW50WyJtb2RlbCJdCgogICAgIyBDaGVjayBpZiB3ZSBoYXZlIGEgZmFpcnNlcTIgY2hlY2twb2ludC4KICAgIGlmICJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuMC5zZWxmX2F0dG5fbGF5ZXJfbm9ybS53ZWlnaHQiIGluIHN0YXRlX2RpY3Q6CiAgICAgICAgcmV0dXJuIGNoZWNrcG9pbnQKCiAgICBrZXlfbWFwID0gX2ZhaXJzZXFfa2V5X21hcChjb25maWcpCgogICAgY2hlY2twb2ludCA9IGNvbnZlcnRfZmFpcnNlcV9jaGVja3BvaW50KGNoZWNrcG9pbnQsIGtleV9tYXApCgogICAgc3RhdGVfZGljdCA9IGNoZWNrcG9pbnRbIm1vZGVsIl0KCiAgICBrZXlzX3RvX2RlbGV0ZSA9IFtdCgogICAgIyBFeHByZXNzaXZlVW5pdFkgbW9kZWwgKGZyb20gbXVsdGlfYXJjaCBjb2RlYmFzZSkKICAgIGlmIGNvbmZpZy5wcm9zb2R5X2VuY29kZXJfY29uZmlnIGlzIG5vdCBOb25lOgogICAgICAgIGVuY29kZXJfa2V5ID0gInMydF9tb2RlbC5lbmNvZGVyIgogICAgICAgIGRlY29kZXJfa2V5ID0gInMydF9tb2RlbC5kZWNvZGVyIgogICAgICAgIHQydV9kZWNvZGVyX2tleSA9ICJ0MnNfbW9kZWwuZGVjb2RlciIKICAgICMgWDJUL1MyVCArIFQyVSBtb2RlbC4KICAgIGVsaWYgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiZW5jb2RlciIKICAgICAgICBkZWNvZGVyX2tleSA9ICJ0YXJnZXRfbGV0dGVyX2RlY29kZXIiCiAgICAgICAgdDJ1X2RlY29kZXJfa2V5ID0gImRlY29kZXIiCiAgICAjIFgyVCBtb2RlbC4KICAgIGVsaWYgY29uZmlnLnVzZV90ZXh0X2VuY29kZXI6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAic3BlZWNoX2VuY29kZXIiCiAgICAgICAgZGVjb2Rlcl9rZXkgPSAic2hhcmVkX2RlY29kZXIiCiAgICAjIFMyVCBtb2RlbC4KICAgIGVsc2U6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiZW5jb2RlciIKICAgICAgICBkZWNvZGVyX2tleSA9ICJkZWNvZGVyIgoKICAgIGtleXNfdG9fZGVsZXRlLmFwcGVuZChmIntkZWNvZGVyX2tleX0udmVyc2lvbiIpCiAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoZiJ7ZGVjb2Rlcl9rZXl9LmVtYmVkX3Bvc2l0aW9ucy5fZmxvYXRfdGVuc29yIikKCiAgICBpZiBjb25maWcudXNlX3RleHRfZW5jb2RlcjoKICAgICAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoInRleHRfZW5jb2Rlci52ZXJzaW9uIikKICAgICAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoInRleHRfZW5jb2Rlci5lbWJlZF9wb3NpdGlvbnMuX2Zsb2F0X3RlbnNvciIpCgogICAgaWYgbm90IGNvbmZpZy51c2VfdGV4dF9kZWNvZGVyOgogICAgICAgIHRleHRfZGVjb2Rlcl9rZXlzID0gW2tleSBmb3Iga2V5IGluIHN0YXRlX2RpY3QgaWYga2V5LnN0YXJ0c3dpdGgoZGVjb2Rlcl9rZXkpXQogICAgICAgIGtleXNfdG9fZGVsZXRlLmV4dGVuZCh0ZXh0X2RlY29kZXJfa2V5cykKCiAgICAjIFJlbW5hbnQgb2Ygd2F2MnZlYzIgcHJldHJhaW5pbmcsIG5vdCBuZWVkZWQgZm9yIGV2YWwgb3IgZmluZS10dW5pbmcuCiAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoZiJ7ZW5jb2Rlcl9rZXl9Lncydl9lbmNvZGVyLncydl9tb2RlbC5tYXNrX2VtYiIpCgogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgbm90IE5vbmUgb3IgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAga2V5c190b19kZWxldGUuYXBwZW5kKAogICAgICAgICAgICBmInt0MnVfZGVjb2Rlcl9rZXl9LmNoYXJfdXBzYW1wbGVyLmVtYmVkX3Bvc2l0aW9ucy5fZmxvYXRfdGVuc29yIgogICAgICAgICkKICAgICAgICBrZXlzX3RvX2RlbGV0ZS5hcHBlbmQoCiAgICAgICAgICAgIGYie3QydV9kZWNvZGVyX2tleX0uY2hhcl91cHNhbXBsZXIuZW1iZWRfdG9rZW5zX2NoYXIud2VpZ2h0IgogICAgICAgICkKCiAgICAgICAgIyBEZWxldGUgQWxpZ25tZW50RW5jb2RlciBrZXlzIGZvciBpbmZlcmVuY2UuCiAgICAgICAgYWxpZ25tZW50X2VuY29kZXJfa2V5cyA9IFsKICAgICAgICAgICAga2V5CiAgICAgICAgICAgIGZvciBrZXkgaW4gc3RhdGVfZGljdAogICAgICAgICAgICBpZiBrZXkuc3RhcnRzd2l0aChmInt0MnVfZGVjb2Rlcl9rZXl9LmFsaWdubWVudF9lbmNvZGVyLiIpCiAgICAgICAgXQogICAgICAgIGtleXNfdG9fZGVsZXRlLmV4dGVuZChhbGlnbm1lbnRfZW5jb2Rlcl9rZXlzKQoKICAgICMgRGVsZXRlIGNoYXJhY3Rlci1sZXZlbCBwcm9qZWN0aW9uIGZvciBpbmZlcmVuY2UuCiAgICBrZXlzX3RvX2RlbGV0ZS5leHRlbmQoCiAgICAgICAgWwogICAgICAgICAgICAiZGVjb2Rlcl90YXJnZXRfbGV0dGVyX2RlY29kZXIucHJvai53ZWlnaHQiLAogICAgICAgICAgICAiZGVjb2Rlcl90YXJnZXRfbGV0dGVyX2RlY29kZXIucHJvai5iaWFzIiwKICAgICAgICBdCiAgICApCgogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAga2V5c190b19kZWxldGUuZXh0ZW5kKAogICAgICAgICAgICBbCiAgICAgICAgICAgICAgICBmInt0MnVfZGVjb2Rlcl9rZXl9LmVtYmVkX3Bvc2l0aW9ucy5fZmxvYXRfdGVuc29yIiwKICAgICAgICAgICAgICAgICJ0MnNfbW9kZWwuZ2xvYmFsX3Byb2pfZGVjLndlaWdodCIsCiAgICAgICAgICAgICAgICAidDJzX21vZGVsLmdsb2JhbF9wcm9qX2RlYy5iaWFzIiwKICAgICAgICAgICAgICAgICJ0MnNfbW9kZWwuZGVjb2Rlcl90YXJnZXRfbGV0dGVyX25sbGJfc3BtX2RlY29kZXIuZW5jb2Rlci5wcm9qLndlaWdodCIsCiAgICAgICAgICAgICAgICAidDJzX21vZGVsLmRlY29kZXJfdGFyZ2V0X2xldHRlcl9ubGxiX3NwbV9kZWNvZGVyLmVuY29kZXIucHJvai5iaWFzIiwKICAgICAgICAgICAgXQogICAgICAgICkKCiAgICBmb3Iga2V5IGluIGtleXNfdG9fZGVsZXRlOgogICAgICAgIGlmIGtleSBpbiBzdGF0ZV9kaWN0OgogICAgICAgICAgICBkZWwgc3RhdGVfZGljdFtrZXldCgogICAgaWYgY29uZmlnLnVzZV90ZXh0X2RlY29kZXI6CiAgICAgICAgZW1iZWRzID0gc3RhdGVfZGljdFsiZmluYWxfcHJvai53ZWlnaHQiXQoKICAgICAgICAjIGZhaXJzZXEgaGFkIGEgYnVnIHRoYXQgYWNjaWRlbnRhbGx5IGludHJvZHVjZWQgYSBkdW1teSB0b2tlbiBpbiB0aGUKICAgICAgICAjIGVtYmVkZGluZyB0YWJsZSBvZiBOTExCLTEwMC4gV2UganVzdCBkaXNjYXJkIGl0LgogICAgICAgIGlmICgKICAgICAgICAgICAgaXNpbnN0YW5jZShjb25maWcubXRfbW9kZWxfY29uZmlnLCBObGxiQ29uZmlnKSBhbmQgZW1iZWRzLnNpemUoMCkgPT0gMjU2MTAzCiAgICAgICAgKTogICMgbWVhbnMgTkxMQi0xMDAKICAgICAgICAgICAgZW1iZWRzID0gZW1iZWRzWzotMV0KCiAgICAgICAgICAgIHN0YXRlX2RpY3RbImZpbmFsX3Byb2oud2VpZ2h0Il0gPSBlbWJlZHMKCiAgICAgICAgIyBmYWlyc2VxIGNoZWNrcG9pbnRzIGhhdmUgZHVwbGljYXRlIGVtYmVkZGluZyB3ZWlnaHRzLiBFbnN1cmUgdGhhdCB3ZQogICAgICAgICMgdXNlIGEgc2luZ2xlIGVtYmVkZGluZyB0YWJsZSBpbiBmYWlyc2VxMi4KICAgICAgICBzdGF0ZV9kaWN0WyJ0ZXh0X2RlY29kZXJfZnJvbnRlbmQuZW1iZWQud2VpZ2h0Il0gPSBlbWJlZHMKCiAgICAgICAgaWYgY29uZmlnLnVzZV90ZXh0X2VuY29kZXI6CiAgICAgICAgICAgIHN0YXRlX2RpY3RbInRleHRfZW5jb2Rlcl9mcm9udGVuZC5lbWJlZC53ZWlnaHQiXSA9IGVtYmVkcwoKICAgICAgICAjIFRoZSBlbWJlZGRpbmcgcG9zaXRpb25zIG9mIHRoZSBjb250cm9sIHN5bWJvbHMgaW4gZmFpcnNlcSdzIGRpY3QgZG8KICAgICAgICAjIG5vdCBtYXRjaCB0aGUgU2VudGVuY2VQaWVjZSBtb2RlbCBvZiB0aGUgdG9rZW5pemVyLgogICAgICAgIHdpdGggdG9yY2guaW5mZXJlbmNlX21vZGUoKToKICAgICAgICAgICAgIyAoQk9TLCBQQUQsIEVPUywgVU5LKSAtPiAoUEFELCBVTkssIEJPUywgRU9TKQogICAgICAgICAgICBlbWJlZHNbWzAsIDEsIDIsIDNdXSA9IGVtYmVkc1tbMSwgMywgMCwgMl1dCgogICAgY2hhcl9lbWJlZHMgPSBzdGF0ZV9kaWN0LmdldCgidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQuZW1iZWRfY2hhci53ZWlnaHQiLCBOb25lKQogICAgaWYgY2hhcl9lbWJlZHMgaXMgbm90IE5vbmU6CiAgICAgICAgaW5kZXhfbWFwcGluZyA9IF9nZXRfY2hhcl9pbmRleF9tYXBwaW5nKGNvbmZpZykKICAgICAgICB2b2NhYl9zaXplID0gbGVuKGluZGV4X21hcHBpbmcpCiAgICAgICAgY2hhcl9lbWJlZHNbdG9yY2guYXJhbmdlKHZvY2FiX3NpemUpXSA9IGNoYXJfZW1iZWRzW2luZGV4X21hcHBpbmddCgogICAgaWYgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAgIyBmYWlyc2VxIGNoZWNrcG9pbnRzIGhhdmUgZHVwbGljYXRlIGVtYmVkZGluZyB3ZWlnaHRzLiBFbnN1cmUgdGhhdCB3ZQogICAgICAgICMgdXNlIGEgc2luZ2xlIGVtYmVkZGluZyB0YWJsZSBpbiBmYWlyc2VxMi4KICAgICAgICBlbWJlZHMgPSBzdGF0ZV9kaWN0WyJ0MnVfbW9kZWwuZmluYWxfcHJvai53ZWlnaHQiXQoKICAgICAgICBpZiAidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQuZW1iZWQud2VpZ2h0IiBpbiBzdGF0ZV9kaWN0OgogICAgICAgICAgICBzdGF0ZV9kaWN0WyJ0MnVfbW9kZWwuZGVjb2Rlcl9mcm9udGVuZC5lbWJlZC53ZWlnaHQiXSA9IGVtYmVkcwoKICAgIHJldHVybiBjaGVja3BvaW50CgoKZGVmIF9nZXRfY2hhcl9pbmRleF9tYXBwaW5nKGNvbmZpZzogVW5pdFlDb25maWcpIC0+IExpc3RbaW50XToKICAgIGFzc2VydCBjb25maWcudDJ1X2NvbmZpZyBpcyBub3QgTm9uZQogICAgYXNzZXJ0IGNvbmZpZy50MnVfY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZyBpcyBub3QgTm9uZQogICAgY2hhcl90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyKAogICAgICAgIGNvbmZpZy50MnVfY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZy5tb2RlbF9uYW1lX29yX2NhcmQKICAgICkKICAgIHNwbV9vcmRlciA9IFsKICAgICAgICBjaGFyX3Rva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbihpKQogICAgICAgIGZvciBpIGluIHJhbmdlKGNoYXJfdG9rZW5pemVyLm1vZGVsLnZvY2FidWxhcnlfc2l6ZSkKICAgIF1bNDpdCiAgICBzcG1fdG9fZGljdF9tYXBwaW5nID0gewogICAgICAgIGNoOiBpZHgKICAgICAgICBmb3IgKGlkeCwgY2gpIGluIHppcCgKICAgICAgICAgICAgcmFuZ2UoNCwgY2hhcl90b2tlbml6ZXIubW9kZWwudm9jYWJ1bGFyeV9zaXplKSwKICAgICAgICAgICAgc29ydGVkKHNwbV9vcmRlciksCiAgICAgICAgKQogICAgfQogICAgbW9kZWxfdG9fZGljdF9tYXBwaW5nID0gWzAsIDEsIDIsIDNdICsgW3NwbV90b19kaWN0X21hcHBpbmdbY2hdIGZvciBjaCBpbiBzcG1fb3JkZXJdCiAgICByZXR1cm4gbW9kZWxfdG9fZGljdF9tYXBwaW5nCgoKZGVmIF9mYWlyc2VxX2tleV9tYXAoY29uZmlnOiBVbml0WUNvbmZpZykgLT4gRGljdFtzdHIsIHN0cl06CiAgICAjIEV4cHJlc3NpdmVVbml0WSBtb2RlbCAoZnJvbSBtdWx0aV9hcmNoIGNvZGViYXNlKQogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiczJ0X21vZGVsLmVuY29kZXIiCiAgICAgICAgZGVjb2Rlcl9rZXkgPSAiczJ0X21vZGVsLmRlY29kZXIiCiAgICAgICAgdDJ1X2VuY29kZXJfa2V5ID0gInQyc19tb2RlbC5lbmNvZGVyIgogICAgICAgIHQydV9kZWNvZGVyX2tleSA9ICJ0MnNfbW9kZWwuZGVjb2RlciIKICAgICAgICBlY2FwYV90ZG5uX2tleSA9ICJnbG9iYWxfcHJvc29keSIKICAgICMgWDJUL1MyVCArIFQyVSBtb2RlbC4KICAgIGVsaWYgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiZW5jb2RlciIKICAgICAgICBkZWNvZGVyX2tleSA9ICJ0YXJnZXRfbGV0dGVyX2RlY29kZXIiCiAgICAgICAgdDJ1X2VuY29kZXJfa2V5ID0gInN5bnRoZXNpemVyX2VuY29kZXIiCiAgICAgICAgdDJ1X2RlY29kZXJfa2V5ID0gImRlY29kZXIiCiAgICAjIFgyVCBtb2RlbC4KICAgIGVsaWYgY29uZmlnLnVzZV90ZXh0X2VuY29kZXI6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAic3BlZWNoX2VuY29kZXIiCiAgICAgICAgZGVjb2Rlcl9rZXkgPSAic2hhcmVkX2RlY29kZXIiCiAgICAjIFMyVCBtb2RlbC4KICAgIGVsc2U6CiAgICAgICAgZW5jb2Rlcl9rZXkgPSAiZW5jb2RlciIKICAgICAgICBkZWNvZGVyX2tleSA9ICJkZWNvZGVyIgoKICAgIGtleV9tYXAgPSB7CiAgICAgICAgIyBmbXQ6IG9mZgoKICAgICAgICAjIFNwZWVjaCBFbmNvZGVyCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLnBvc19jb252XC4wXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXJfZnJvbnRlbmQucG9zX2VuY29kZXIuY29udi4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5sYXllcl9ub3JtXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kLnBvc3RfZXh0cmFjdF9sYXllcl9ub3JtLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLnBvc3RfZXh0cmFjdF9wcm9qXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXJfZnJvbnRlbmQubW9kZWxfZGltX3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZmVhdHVyZV9leHRyYWN0b3JcLmNvbnZfbGF5ZXJzXC4oWzAtOV0rKVwuMFwuIjogICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlcl9mcm9udGVuZC5mZWF0dXJlX2V4dHJhY3Rvci5sYXllcnMuXDEuY29udi4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5mZWF0dXJlX2V4dHJhY3RvclwuY29udl9sYXllcnNcLihbMC05XSspXC4yXC4xXC4iOiAgICAgICAgICByInNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kLmZlYXR1cmVfZXh0cmFjdG9yLmxheWVycy5cMS5sYXllcl9ub3JtLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmZlYXR1cmVfZXh0cmFjdG9yXC5jb252X2xheWVyc1wuMFwuMlwuIjogICAgICAgICAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXJfZnJvbnRlbmQuZmVhdHVyZV9leHRyYWN0b3IubGF5ZXJzLjAuZ3JvdXBfbm9ybS4iLAoKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9tb2R1bGVcLmJhdGNoX25vcm1cLiI6ICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuY29udi5iYXRjaF9ub3JtLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5sYXllcl9ub3JtMlwuIjogICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLmNvbnYubGF5ZXJfbm9ybS4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwuZGVwdGh3aXNlX2NvbnZcLiI6ICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5jb252LmRlcHRod2lzZV9jb252LiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5sYXllcl9ub3JtXC4iOiAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLmNvbnZfbGF5ZXJfbm9ybS4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwucG9pbnR3aXNlX2NvbnYxXC4iOiByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5jb252LnBvaW50d2lzZV9jb252MS4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwucG9pbnR3aXNlX2NvbnYyXC4iOiByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5jb252LnBvaW50d2lzZV9jb252Mi4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwubGF5ZXJfbm9ybVwuIjogICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5mZm5cMl9sYXllcl9ub3JtLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZmbigxfDIpXC53XzFcLiI6ICAgICAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLmZmblwyLmlubmVyX3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmZuKDF8MilcLndfMlwuIjogICAgICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuZmZuXDIub3V0cHV0X3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuX2xheWVyX25vcm1cLiI6ICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5saW5lYXJfcVwuIjogICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLnFfcHJvai4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLmxpbmVhcl9rXC4iOiAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5zZWxmX2F0dG4ua19wcm9qLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwubGluZWFyX3ZcLiI6ICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi52X3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5saW5lYXJfb3V0XC4iOiAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwucV9wcm9qXC4iOiAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5xX3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5rX3Byb2pcLiI6ICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLmtfcHJvai4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLnZfcHJvalwuIjogICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5zZWxmX2F0dG4udl9wcm9qLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwucmVsX2tfZW1iZWRkaW5nXC4iOiAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5zZHBhLnJlbF9rX2VtYmVkLiIsCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwub3V0X3Byb2pcLiI6ICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5vdXRwdXRfcHJvai4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLmxpbmVhcl9wb3NcLiI6ICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVycy5cMS5zZWxmX2F0dG4uc2RwYS5yX3Byb2ouIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5wb3NfYmlhc191IjogICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLnNkcGEudV9iaWFzIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5wb3NfYmlhc192IjogICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEuc2VsZl9hdHRuLnNkcGEudl9iaWFzIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwudzJ2X2VuY29kZXJcLncydl9tb2RlbFwuZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5pbm5lci5sYXllcnMuXDEubGF5ZXJfbm9ybS4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcl9ub3JtXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmlubmVyLmxheWVyX25vcm0uIiwKCiAgICAgICAgIyBTcGVlY2ggRW5jb2RlciBBZGFwdG9yCiAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLnByb2pcLjBcLiI6IHIic3BlZWNoX2VuY29kZXIucHJvajEuIiwKICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwucHJvalwuMlwuIjogciJzcGVlY2hfZW5jb2Rlci5wcm9qMi4iLAogICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5vdXRfbG5cLiI6ICByInNwZWVjaF9lbmNvZGVyLmxheWVyX25vcm0uIiwKCiAgICAgICAgIyBUZXh0IEVuY29kZXIKICAgICAgICByIl50ZXh0X2VuY29kZXJcLmVtYmVkX3Rva2Vuc1wuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZW5jb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgIHIiXnRleHRfZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgIHIidGV4dF9lbmNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICByIl50ZXh0X2VuY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwuIjogICAgICAgICAgICAgICByInRleHRfZW5jb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5fbGF5ZXJfbm9ybVwuIjogICAgciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLm91dF9wcm9qXC4iOiAgciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLiI6ICAgICAgICAgICAgciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5fbGF5ZXJfbm9ybVwuIjogciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICByIl50ZXh0X2VuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZjMVwuIjogICAgICAgICAgICAgICAgICAgICByInRleHRfZW5jb2Rlci5sYXllcnMuXDEuZmZuLmlubmVyX3Byb2ouIiwKICAgICAgICByIl50ZXh0X2VuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICAgICByInRleHRfZW5jb2Rlci5sYXllcnMuXDEuZmZuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5maW5hbF9sYXllcl9ub3JtXC4iOiAgICAgICAgciJ0ZXh0X2VuY29kZXIubGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJedGV4dF9lbmNvZGVyXC5sYXllcl9ub3JtXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2VuY29kZXIubGF5ZXJfbm9ybS4iLAogICAgICAgICMgZm10OiBvbgogICAgfQoKICAgICMgSW4gbm9ybWFsIGNpcmN1bXN0YW5jZXMsIHdlIHNob3VsZCBuZXZlciBlbmNvdW50ZXIgYSBgTGF5ZXJOb3JtYCB3aGVuCiAgICAjIGB1c2VfY29uZm9ybWVyYCBpcyBgVHJ1ZWAuIFVuZm9ydHVuYXRlbHksIHRoZSB3MnYtQkVSVCBwcmV0cmFpbmluZyBpbgogICAgIyBmYWlyc2VxIHdhcyBhY2NpZGVudGFsbHkgcnVuIHdpdGggYSBwcmUtTE4gZW5jb2RlciwgYW5kIGVuZGVkIHVwIHdpdGgKICAgICMgYSByZWR1bmRhbnQgYExheWVyTm9ybWAgcmlnaHQgYWZ0ZXIgdGhlIENvbmZvcm1lciBibG9ja3MuIFdlIG1pdGlnYXRlCiAgICAjIHRoYXQgaXNzdWUgaGVyZSBieSBtb3ZpbmcgdGhhdCBgTGF5ZXJOb3JtYCB0byB0aGUgYWRhcHRvciBibG9jay4KICAgICMgZm10OiBvZmYKICAgIGlmIGNvbmZpZy53MnYyX2VuY29kZXJfY29uZmlnLnVzZV9jb25mb3JtZXI6CiAgICAgICAga2V5X21hcC51cGRhdGUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC53MnZfZW5jb2RlclwudzJ2X21vZGVsXC5lbmNvZGVyXC5sYXllcl9ub3JtXC4iOiByInNwZWVjaF9lbmNvZGVyLmlubmVyX2xheWVyX25vcm0uIgogICAgICAgICAgICB9CiAgICAgICAgKQogICAgZWxzZToKICAgICAgICBrZXlfbWFwLnVwZGF0ZSgKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmYiXntlbmNvZGVyX2tleX1cLncydl9lbmNvZGVyXC53MnZfbW9kZWxcLmVuY29kZXJcLmxheWVyX25vcm1cLiI6IHIic3BlZWNoX2VuY29kZXIuaW5uZXIubGF5ZXJfbm9ybS4iCiAgICAgICAgICAgIH0KICAgICAgICApCiAgICAjIGZtdDogb24KCiAgICBpZiBjb25maWcudXNlX2NvbmZvcm1lcl9hZGFwdG9yOgogICAgICAgIGtleV9tYXAudXBkYXRlKAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAjIGZtdDogb2ZmCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5ibG9jay5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLiI6ICAgICAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLnNlbGZfYXR0bi4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0bl9sYXllcl9ub3JtXC4iOiAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuYmxvY2suc2VsZl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwubGF5ZXJfbm9ybVwuIjogICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmZmblwyX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwud18xXC4iOiAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmZmblwyLmlubmVyX3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwud18yXC4iOiAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmZmblwyLm91dHB1dF9wcm9qLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9tb2R1bGVcLmJhdGNoX25vcm1cLiI6ICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5ibG9jay5jb252LmJhdGNoX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwuZGVwdGh3aXNlX2NvbnZcLiI6ICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmNvbnYuZGVwdGh3aXNlX2NvbnYuIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwubGF5ZXJfbm9ybVwuIjogICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmNvbnZfbGF5ZXJfbm9ybS4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5wb2ludHdpc2VfY29udjFcLiI6IHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuYmxvY2suY29udi5wb2ludHdpc2VfY29udjEuIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwucG9pbnR3aXNlX2NvbnYyXC4iOiByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmJsb2NrLmNvbnYucG9pbnR3aXNlX2NvbnYyLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5ibG9jay5sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9sblwuIjogICAgICAgICAgICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9wb29sXC4xXC4iOiAgICAgICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5jb252LiIsCiAgICAgICAgICAgICAgICAjIGZtdDogb24KICAgICAgICAgICAgfQogICAgICAgICkKICAgIGVsc2U6CiAgICAgICAga2V5X21hcC51cGRhdGUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICMgZm10OiBvZmYKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5yZXNpZHVhbF9sYXllcl9ub3JtXC4iOiAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5yZXNpZHVhbF9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwucmVzaWR1YWxfcG9vbFwuMVwuIjogICAgIHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEucmVzaWR1YWxfY29udi4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLmF0dG5fcG9vbFwuMVwuIjogICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLnNlbGZfYXR0bl9jb252LiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogIHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuc2VsZl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC4iOiAgICAgICAgICAgIHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgICAgICAgICBmciJee2VuY29kZXJfa2V5fVwuYWRhcHRvclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuX2xheWVyX25vcm1cLiI6IHIic3BlZWNoX2VuY29kZXIuYWRhcHRvcl9sYXllcnMuXDEuc2VsZl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZW5jb2Rlcl9rZXl9XC5hZGFwdG9yXC5sYXllcnNcLihbMC05XSspXC5mYzFcLiI6ICAgICAgICAgICAgICAgICAgciJzcGVlY2hfZW5jb2Rlci5hZGFwdG9yX2xheWVycy5cMS5mZm4uaW5uZXJfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmZmbi5vdXRwdXRfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXntlbmNvZGVyX2tleX1cLmFkYXB0b3JcLmxheWVyc1wuKFswLTldKylcLmZpbmFsX2xheWVyX25vcm1cLiI6ICAgICByInNwZWVjaF9lbmNvZGVyLmFkYXB0b3JfbGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICAjIGZtdDogb24KICAgICAgICAgICAgfQogICAgICAgICkKCiAgICBrZXlfbWFwLnVwZGF0ZSgKICAgICAgICB7CiAgICAgICAgICAgICMgZm10OiBvZmYKICAgICAgICAgICAgIyBUZXh0IERlY29kZXIKICAgICAgICAgICAgZnIiXntkZWNvZGVyX2tleX1cLmVtYmVkX3Rva2Vuc1wuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgICAgICBmciJee2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgIHIidGV4dF9kZWNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICAgICAgZnIiXntkZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwuIjogICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5fbGF5ZXJfbm9ybVwuIjogICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLm91dF9wcm9qXC4iOiAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLiI6ICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5fbGF5ZXJfbm9ybVwuIjogciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgZnIiXntkZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmZjMVwuIjogICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuZmZuLmlubmVyX3Byb2ouIiwKICAgICAgICAgICAgZnIiXntkZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuZmZuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5maW5hbF9sYXllcl9ub3JtXC4iOiAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgIGZyIl57ZGVjb2Rlcl9rZXl9XC5sYXllcl9ub3JtXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJfbm9ybS4iLAogICAgICAgICAgICBmciJee2RlY29kZXJfa2V5fVwub3V0cHV0X3Byb2plY3Rpb25cLiI6ICAgICAgICAgICAgICAgICAgICAgICAgIHIiZmluYWxfcHJvai4iLAogICAgICAgICAgICAjIGZtdDogb24KICAgICAgICB9CiAgICApCiAgICAjIEV4cHJlc3NpdmVVbml0WSBtb2RlbCAoZnJvbSBtdWx0aV9hcmNoIGNvZGViYXNlKQogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAga2V5X21hcC51cGRhdGUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICMgZm10OiBvZmYKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmlsbVwuIjogICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmZpbG0uIiwKICAgICAgICAgICAgICAgIGZyIl57ZWNhcGFfdGRubl9rZXl9XC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIicHJvc29keV9lbmNvZGVyX21vZGVsLiIsCiAgICAgICAgICAgICAgICByIl50MnNfbW9kZWxcLmdsb2JhbF9wcm9qX2VuY1wuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLnByb3NvZHlfcHJvai4iLAogICAgICAgICAgICAgICAgIyBmbXQ6IG9uCiAgICAgICAgICAgIH0KICAgICAgICApCgogICAgIyBYMlQvUzJUICsgVDJVIG1vZGVsLgogICAgaWYgY29uZmlnLnQydV9jb25maWcgaXMgbm90IE5vbmU6CiAgICAgICAga2V5X21hcC51cGRhdGUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICMgZm10OiBvZmYKICAgICAgICAgICAgICAgICMgVDJVIEVuY29kZXIKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2VuY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5vdXRfcHJvalwuIjogICAgIHIidDJ1X21vZGVsLmVuY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5vdXRwdXRfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZW5jb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLiI6ICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZW5jb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9lbmNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0bl9sYXllcl9ub3JtXC4iOiAgICByInQydV9tb2RlbC5lbmNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG5fbGF5ZXJfbm9ybS4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZW5jb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5mYzFcLiI6ICAgICAgICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZW5jb2Rlci5sYXllcnMuXDEuZmZuLmlubmVyX3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2VuY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmMyXC4iOiAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmVuY29kZXIubGF5ZXJzLlwxLmZmbi5vdXRwdXRfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZW5jb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5maW5hbF9sYXllcl9ub3JtXC4iOiAgICAgICAgciJ0MnVfbW9kZWwuZW5jb2Rlci5sYXllcnMuXDEuZmZuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2VuY29kZXJfa2V5fVwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmVuY29kZXIubGF5ZXJfbm9ybS4iLAoKICAgICAgICAgICAgICAgICMgVDJVIERlY29kZXIgZnJvbnRlbmQKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwuZW1iZWRfdG9rZW5zX3RleHRcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZGVjb2Rlcl9mcm9udGVuZC5lbWJlZF9jaGFyLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmVtYmVkX3Rva2Vuc191bml0XC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQuZW1iZWQuIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwuZW1iZWRfdG9rZW5zXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZGVjb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC52YXJfYWRhcHRvclwuZHVyYXRpb25fcHJlZGljdG9yXC4iOiAgICAgICAgICAgICByInQydV9tb2RlbC5kZWNvZGVyX2Zyb250ZW5kLnZhcmlhbmNlX2FkYXB0b3IuZHVyYXRpb25fcHJlZGljdG9yLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmRlY19wb3NfZW1iX2FscGhhIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQucG9zX2VtYl9hbHBoYSIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmNoYXJfdXBzYW1wbGVyXC5wb3NfZW1iX2FscGhhIjogICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXJfZnJvbnRlbmQucG9zX2VtYl9hbHBoYV9jaGFyIiwKCiAgICAgICAgICAgICAgICAjIFQyVSBEZWNvZGVyCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwub3V0X3Byb2pcLiI6ICAgICByInQydV9tb2RlbC5kZWNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC4iOiAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5fbGF5ZXJfbm9ybVwuIjogICAgciJ0MnVfbW9kZWwuZGVjb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmVuY29kZXJfYXR0blwub3V0X3Byb2pcLiI6ICByInQydV9tb2RlbC5kZWNvZGVyLmxheWVycy5cMS5lbmNvZGVyX2RlY29kZXJfYXR0bi5vdXRwdXRfcHJvai4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLiI6ICAgICAgICAgICAgciJ0MnVfbW9kZWwuZGVjb2Rlci5sYXllcnMuXDEuZW5jb2Rlcl9kZWNvZGVyX2F0dG4uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuX2xheWVyX25vcm1cLiI6IHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmMxXC4iOiAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmZmbi5pbm5lcl9wcm9qLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICAgICByInQydV9tb2RlbC5kZWNvZGVyLmxheWVycy5cMS5mZm4ub3V0cHV0X3Byb2ouIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgICAgICAgICBmciJee3QydV9kZWNvZGVyX2tleX1cLmxheWVyc1wuKFswLTldKylcLmZmblwuZmZuXC4wXC4iOiAgICAgICAgICAgICByInQydV9tb2RlbC5kZWNvZGVyLmxheWVycy5cMS5jb252MWQuY29udjEuIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJzXC4oWzAtOV0rKVwuZmZuXC5mZm5cLjJcLiI6ICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJzLlwxLmNvbnYxZC5jb252Mi4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC5sYXllcnNcLihbMC05XSspXC5mZm5cLmxheWVyX25vcm1cLiI6ICAgICAgICAgciJ0MnVfbW9kZWwuZGVjb2Rlci5sYXllcnMuXDEuY29udjFkX2xheWVyX25vcm0uIiwKICAgICAgICAgICAgICAgIGZyIl57dDJ1X2RlY29kZXJfa2V5fVwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIidDJ1X21vZGVsLmRlY29kZXIubGF5ZXJfbm9ybS4iLAogICAgICAgICAgICAgICAgZnIiXnt0MnVfZGVjb2Rlcl9rZXl9XC5vdXRwdXRfcHJvamVjdGlvblwuIjogICAgICAgICAgICAgICAgICAgICAgICAgciJ0MnVfbW9kZWwuZmluYWxfcHJvai4iLAogICAgICAgICAgICAgICAgIyBmbXQ6IG9uCiAgICAgICAgICAgIH0KICAgICAgICApCgogICAgcmV0dXJuIGtleV9tYXAKCgpsb2FkX3VuaXR5X2NvbmZpZyA9IENvbmZpZ0xvYWRlcltVbml0WUNvbmZpZ10oYXNzZXRfc3RvcmUsIHVuaXR5X2FyY2hzKQoKCmxvYWRfdW5pdHlfbW9kZWwgPSBNb2RlbExvYWRlcltVbml0WU1vZGVsLCBVbml0WUNvbmZpZ10oCiAgICBhc3NldF9zdG9yZSwKICAgIGRvd25sb2FkX21hbmFnZXIsCiAgICBsb2FkX3VuaXR5X2NvbmZpZywKICAgIGNyZWF0ZV91bml0eV9tb2RlbCwKICAgIGNvbnZlcnRfdW5pdHlfY2hlY2twb2ludCwKICAgIHJlc3RyaWN0X2NoZWNrcG9pbnRzPUZhbHNlLAopCgoKbG9hZF91bml0eV90ZXh0X3Rva2VuaXplciA9IE5sbGJUb2tlbml6ZXJMb2FkZXIoYXNzZXRfc3RvcmUsIGRvd25sb2FkX21hbmFnZXIpCgoKY2xhc3MgVW5pdFlVbml0VG9rZW5pemVyTG9hZGVyOgogICAgIiIiTG9hZHMgc3BlZWNoIHVuaXQgdG9rZW5pemVycyBvZiBVbml0WSBtb2RlbHMuIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFzc2V0X3N0b3JlOiBBc3NldFN0b3JlKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBhc3NldF9zdG9yZToKICAgICAgICAgICAgVGhlIGFzc2V0IHN0b3JlIHRvIHJldHJpZXZlIHRoZSBtb2RlbCBpbmZvcm1hdGlvbi4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmFzc2V0X3N0b3JlID0gYXNzZXRfc3RvcmUKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgbW9kZWxfbmFtZV9vcl9jYXJkOiBVbmlvbltzdHIsIEFzc2V0Q2FyZF0pIC0+IFVuaXRUb2tlbml6ZXI6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIG1vZGVsX25hbWVfb3JfY2FyZDoKICAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIG1vZGVsIG9yIGFuIGFscmVhZHkgbG9hZGVkIEFzc2V0Q2FyZAogICAgICAgICIiIgoKICAgICAgICBpZiBpc2luc3RhbmNlKG1vZGVsX25hbWVfb3JfY2FyZCwgQXNzZXRDYXJkKToKICAgICAgICAgICAgY2FyZCA9IG1vZGVsX25hbWVfb3JfY2FyZAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNhcmQgPSBzZWxmLmFzc2V0X3N0b3JlLnJldHJpZXZlX2NhcmQobW9kZWxfbmFtZV9vcl9jYXJkKQoKICAgICAgICByZXR1cm4gVW5pdFRva2VuaXplcigKICAgICAgICAgICAgY2FyZC5maWVsZCgibnVtX3VuaXRzIikuYXNfKGludCksCiAgICAgICAgICAgIGNhcmQuZmllbGQoInVuaXRfbGFuZ3MiKS5hc19saXN0KHN0ciksCiAgICAgICAgICAgIGNhcmQuZmllbGQoIm1vZGVsX2FyY2giKS5hc18oc3RyKSwKICAgICAgICApCgoKbG9hZF91bml0eV91bml0X3Rva2VuaXplciA9IFVuaXRZVW5pdFRva2VuaXplckxvYWRlcihhc3NldF9zdG9yZSkKCgpjbGFzcyBHY212blN0YXRzTG9hZGVyOgogICAgIiIiTG9hZHMgR0NNVk4gc3RhdHMgKG1lYW4gJiBzdGQpIGZvciBQcm9zb2R5VW5pdFkuIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFzc2V0X3N0b3JlOiBBc3NldFN0b3JlKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBhc3NldF9zdG9yZToKICAgICAgICAgICAgVGhlIGFzc2V0IHN0b3JlIHRvIHJldHJpZXZlIHRoZSBtb2RlbCBpbmZvcm1hdGlvbi4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmFzc2V0X3N0b3JlID0gYXNzZXRfc3RvcmUKCiAgICBkZWYgX19jYWxsX18oCiAgICAgICAgc2VsZiwgbW9kZWxfbmFtZV9vcl9jYXJkOiBVbmlvbltzdHIsIEFzc2V0Q2FyZF0KICAgICkgLT4gVHVwbGVbTGlzdFtmbG9hdF0sIExpc3RbZmxvYXRdXToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbW9kZWxfbmFtZV9vcl9jYXJkOgogICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgb3IgYW4gYWxyZWFkeSBsb2FkZWQgQXNzZXRDYXJkCiAgICAgICAgIiIiCgogICAgICAgIGlmIGlzaW5zdGFuY2UobW9kZWxfbmFtZV9vcl9jYXJkLCBBc3NldENhcmQpOgogICAgICAgICAgICBjYXJkID0gbW9kZWxfbmFtZV9vcl9jYXJkCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY2FyZCA9IHNlbGYuYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChtb2RlbF9uYW1lX29yX2NhcmQpCgogICAgICAgIHRyeToKICAgICAgICAgICAgZ2Ntdm5fc3RhdHM6IERpY3Rbc3RyLCBMaXN0W2Zsb2F0XV0gPSBjYXJkLmZpZWxkKCJnY212bl9zdGF0cyIpLmFzXyhkaWN0KQogICAgICAgIGV4Y2VwdCBBc3NldENhcmRGaWVsZE5vdEZvdW5kRXJyb3I6CiAgICAgICAgICAgIG1vZGVsX292ZXJyaWRlID0gY2FyZC5maWVsZCgibW9kZWxfY29uZmlnIikuYXNfKGRpY3QpCiAgICAgICAgICAgIGdjbXZuX3N0YXRzID0gbW9kZWxfb3ZlcnJpZGVbImdjbXZuX3N0YXRzIl0KCiAgICAgICAgcmV0dXJuIGdjbXZuX3N0YXRzWyJtZWFuIl0sIGdjbXZuX3N0YXRzWyJzdGQiXQoKCmxvYWRfZ2Ntdm5fc3RhdHMgPSBHY212blN0YXRzTG9hZGVyKGFzc2V0X3N0b3JlKQo='),
    ('seamless/build/lib/seamless_communication/models/unity/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFVuaW9uCgpmcm9tIGZhaXJzZXEyLm1vZGVscy5jb25mb3JtZXIgaW1wb3J0IENvbmZvcm1lckJsb2NrLCBDb25mb3JtZXJDb252b2x1dGlvbgpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiIGltcG9ydCBObGxiQnVpbGRlciwgTmxsYkNvbmZpZywgbmxsYl9hcmNocwpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscy5hcmNoX3JlZ2lzdHJ5IGltcG9ydCBBcmNoaXRlY3R1cmVSZWdpc3RyeQpmcm9tIGZhaXJzZXEyLm1vZGVscy53MnZiZXJ0IGltcG9ydCB3MnZiZXJ0X2FyY2hzCmZyb20gZmFpcnNlcTIubW9kZWxzLndhdjJ2ZWMyIGltcG9ydCBXYXYyVmVjMkVuY29kZXJCdWlsZGVyLCBXYXYyVmVjMkVuY29kZXJDb25maWcKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBUaWVkUHJvamVjdGlvbgpmcm9tIGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyIGltcG9ydCAoCiAgICBGZWVkRm9yd2FyZE5ldHdvcmssCiAgICBNdWx0aWhlYWRBdHRlbnRpb24sCiAgICBTdGFuZGFyZEZlZWRGb3J3YXJkTmV0d29yaywKICAgIFN0YW5kYXJkTXVsdGloZWFkQXR0ZW50aW9uLAogICAgVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIsCiAgICBUcmFuc2Zvcm1lck5vcm1PcmRlciwKICAgIGNyZWF0ZV9kZWZhdWx0X3NkcGEsCikKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UsIG92ZXJyaWRlCmZyb20gdG9yY2gubm4gaW1wb3J0IEdFTFUsIFJlTFUKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuZ2VuZXJhdG9yLmVjYXBhX3Rkbm5fYnVpbGRlciBpbXBvcnQgKAogICAgRWNhcGFURE5OQnVpbGRlciwKICAgIEVjYXBhVEROTkNvbmZpZywKICAgIGVjYXBhX3Rkbm5fYXJjaHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5hZGFwdG9yX2Jsb2NrIGltcG9ydCAoCiAgICBVbml0WUNvbmZvcm1lckFkYXB0b3JMYXllciwKICAgIFVuaXRZRW5jb2RlckFkYXB0b3IsCiAgICBVbml0WVRyYW5zZm9ybWVyQWRhcHRvckxheWVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0IFVuaXRZTW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS50MnVfYnVpbGRlciBpbXBvcnQgKAogICAgVW5pdFlOQVJUMlVCdWlsZGVyLAogICAgVW5pdFlUMlVCdWlsZGVyLAogICAgVW5pdFlUMlVDb25maWcsCiAgICB1bml0eV90MnVfYXJjaHMsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5jb25mb3JtZXJfc2hhdyBpbXBvcnQgKAogICAgQ29uZm9ybWVyU2hhd0VuY29kZXJCdWlsZGVyLAogICAgQ29uZm9ybWVyU2hhd0VuY29kZXJDb25maWcsCiAgICBjb25mb3JtZXJfc2hhd19hcmNocywKKQoKCkBkYXRhY2xhc3MKY2xhc3MgVW5pdFlDb25maWc6CiAgICAiIiJIb2xkcyB0aGUgY29uZmlndXJhdGlvbiBvZiBhIFVuaXRZIG1vZGVsIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIxMi4wODA1NWAiIiIKCiAgICBtb2RlbF9kaW06IGludAogICAgIiIiVGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBtb2RlbC4iIiIKCiAgICB3MnYyX2VuY29kZXJfY29uZmlnOiBXYXYyVmVjMkVuY29kZXJDb25maWcKICAgICIiIlRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSB1bmRlcmx5aW5nIHdhdjJ2ZWMgMi4wIGVuY29kZXIuIiIiCgogICAgbXRfbW9kZWxfY29uZmlnOiBObGxiQ29uZmlnCiAgICAiIiJUaGUgY29uZmlndXJhdGlvbiBvZiB0aGUgdW5kZXJseWluZyBNVCB0ZXh0IGVuY29kZXItZGVjb2Rlci4iIiIKCiAgICB0MnVfY29uZmlnOiBPcHRpb25hbFtVbml0WVQyVUNvbmZpZ10KICAgICIiIlRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBVbml0WSBUMlUgc3ViLW1vZGVsLiIiIgoKICAgIHByb3NvZHlfZW5jb2Rlcl9jb25maWc6IE9wdGlvbmFsW0VjYXBhVEROTkNvbmZpZ10KICAgICIiIlRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBleHByZXNzaXZlIHByb3NvZHkgZW5jb2Rlci4iIiIKCiAgICB1c2VfdGV4dF9lbmNvZGVyOiBib29sCiAgICAiIiJJZiBgYFRydWVgYCwgdXNlcyBhbiBhbGlnbmVkIE1UIGVuY29kZXIgZm9yIHRoZSBNVCB0YXNrLiIiIgoKICAgIHVzZV90ZXh0X2RlY29kZXI6IGJvb2wKICAgICIiIklmIGBgRmFsc2VgYCwgc2tpcHMgbG9hZGluZyBhIHRleHQgZGVjb2RlciwgdG8gYmUgdXNlZCB3aXRoIGEgTW9ub3RvbmljIGRlY29kZXIuIiIiCgogICAgdXNlX2NvbmZvcm1lcl9hZGFwdG9yOiBib29sCiAgICAiIiJJZiBgYFRydWVgYCwgdXNlcyBhIENvbmZvcm1lci1iYXNlZCBhZGFwdG9yIGJsb2NrLiIiIgoKICAgIHVzZV9nZWx1OiBib29sCiAgICAiIiJJZiBgYFRydWVgYCwgdXNlcyBHRUxVIGFjdGl2YXRpb24gZnVuY3Rpb24gaW4gZmVlZC1mb3J3YXJkIG5ldHdvcmtzIG9mCiAgICBhZGFwdG9yIGJsb2NrcyBhbmQgZGVjb2RlciBsYXllcnMuIiIiCgogICAgbnVtX2FkYXB0b3JfbGF5ZXJzOiBpbnQKICAgICIiIlRoZSBudW1iZXIgb2YgVHJhbnNmb3JtZXIgZW5jb2RlciBsYXllcnMgaW4gdGhlIGFkYXB0b3IgYmxvY2suIiIiCgogICAgYWRhcHRvcl9rZXJuZWxfc2l6ZTogaW50CiAgICAiIiJUaGUga2VybmVsIHNpemUgb2YgMUQgY29udm9sdXRpb25zIGluIHRoZSBhZGFwdG9yIGJsb2NrLiIiIgoKICAgIGFkYXB0b3Jfc3RyaWRlOiBpbnQKICAgICIiIlRoZSBzdHJpZGUgb2YgMUQgY29udm9sdXRpb25zIGluIHRoZSBhZGFwdG9yIGJsb2NrLiIiIgoKICAgIGFkYXB0b3JfbGF5ZXJfbm9ybTogYm9vbAogICAgIiIiSWYgYGBUcnVlYGAsIGFwcGxpZXMgTGF5ZXIgTm9ybWFsaXphdGlvbiB0byBvdXRwdXRzIG9mIHRoZSB1bmRlcmx5aW5nCiAgICBlbmNvZGVyIGluIHRoZSBhZGFwdG9yIGJsb2NrLiIiIgoKICAgIGFkYXB0b3JfZHJvcG91dF9wOiBmbG9hdAogICAgIiIiVGhlIGRyb3BvdXQgcHJvYmFiaWxpdHkgaW4gVHJhbnNmb3JtZXIgbGF5ZXJzIG9mIHRoZSBhZGFwdG9yIGJsb2NrLiIiIgoKCnVuaXR5X2FyY2hzID0gQXJjaGl0ZWN0dXJlUmVnaXN0cnlbVW5pdFlDb25maWddKCJ1bml0eSIpCgp1bml0eV9hcmNoID0gdW5pdHlfYXJjaHMuZGVjb3JhdG9yCgoKQHVuaXR5X2FyY2goImJhc2UiKQpkZWYgX2Jhc2UoKSAtPiBVbml0WUNvbmZpZzoKICAgIHcydmJlcnRfY29uZmlnID0gdzJ2YmVydF9hcmNocy5nZXRfY29uZmlnKCI2MDBtIikKCiAgICBtdF9tb2RlbF9jb25maWc6IE5sbGJDb25maWcgPSBubGxiX2FyY2hzLmdldF9jb25maWcoImRlbnNlXzFiIikKCiAgICBtdF9tb2RlbF9jb25maWcudm9jYWJfaW5mby5zaXplID0gMjU2MTAyICAjIE5MTEItMTAwCgogICAgdDJ1X2NvbmZpZyA9IHVuaXR5X3QydV9hcmNocy5nZXRfY29uZmlnKCJiYXNlIikKCiAgICByZXR1cm4gVW5pdFlDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2NvbmZpZz13MnZiZXJ0X2NvbmZpZy53MnYyX2NvbmZpZy5lbmNvZGVyX2NvbmZpZywKICAgICAgICBtdF9tb2RlbF9jb25maWc9bXRfbW9kZWxfY29uZmlnLAogICAgICAgIHQydV9jb25maWc9dDJ1X2NvbmZpZywKICAgICAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnPU5vbmUsCiAgICAgICAgdXNlX3RleHRfZW5jb2Rlcj1UcnVlLAogICAgICAgIHVzZV90ZXh0X2RlY29kZXI9VHJ1ZSwKICAgICAgICB1c2VfY29uZm9ybWVyX2FkYXB0b3I9RmFsc2UsCiAgICAgICAgdXNlX2dlbHU9RmFsc2UsCiAgICAgICAgbnVtX2FkYXB0b3JfbGF5ZXJzPTEsCiAgICAgICAgYWRhcHRvcl9rZXJuZWxfc2l6ZT04LAogICAgICAgIGFkYXB0b3Jfc3RyaWRlPTgsCiAgICAgICAgYWRhcHRvcl9sYXllcl9ub3JtPVRydWUsCiAgICAgICAgYWRhcHRvcl9kcm9wb3V0X3A9MC4xLAogICAgKQoKCkB1bml0eV9hcmNoKCJtZWRpdW0iKQpkZWYgX21lZGl1bSgpIC0+IFVuaXRZQ29uZmlnOgogICAgdzJ2YmVydF9jb25maWcgPSB3MnZiZXJ0X2FyY2hzLmdldF9jb25maWcoIjMwMG0iKQoKICAgIG10X21vZGVsX2NvbmZpZzogTmxsYkNvbmZpZyA9IG5sbGJfYXJjaHMuZ2V0X2NvbmZpZygiZGVuc2VfNjAwbSIpCgogICAgbXRfbW9kZWxfY29uZmlnLnZvY2FiX2luZm8uc2l6ZSA9IDI1NjIwNiAgIyBOTExCLTIwMAoKICAgIHQydV9jb25maWcgPSB1bml0eV90MnVfYXJjaHMuZ2V0X2NvbmZpZygibWVkaXVtIikKCiAgICByZXR1cm4gVW5pdFlDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2NvbmZpZz13MnZiZXJ0X2NvbmZpZy53MnYyX2NvbmZpZy5lbmNvZGVyX2NvbmZpZywKICAgICAgICBtdF9tb2RlbF9jb25maWc9bXRfbW9kZWxfY29uZmlnLAogICAgICAgIHQydV9jb25maWc9dDJ1X2NvbmZpZywKICAgICAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnPU5vbmUsCiAgICAgICAgdXNlX3RleHRfZW5jb2Rlcj1UcnVlLAogICAgICAgIHVzZV90ZXh0X2RlY29kZXI9VHJ1ZSwKICAgICAgICB1c2VfY29uZm9ybWVyX2FkYXB0b3I9RmFsc2UsCiAgICAgICAgdXNlX2dlbHU9RmFsc2UsCiAgICAgICAgbnVtX2FkYXB0b3JfbGF5ZXJzPTEsCiAgICAgICAgYWRhcHRvcl9rZXJuZWxfc2l6ZT04LAogICAgICAgIGFkYXB0b3Jfc3RyaWRlPTgsCiAgICAgICAgYWRhcHRvcl9sYXllcl9ub3JtPVRydWUsCiAgICAgICAgYWRhcHRvcl9kcm9wb3V0X3A9MC4xLAogICAgKQoKCkB1bml0eV9hcmNoKCJiYXNlX3YyIikKZGVmIF9iYXNlX3YyKCkgLT4gVW5pdFlDb25maWc6CiAgICBjb25mb3JtZXJfc2hhd19lbmNvZGVyX2NvbmZpZyA9IGNvbmZvcm1lcl9zaGF3X2FyY2hzLmdldF9jb25maWcoIjYwMG0iKQoKICAgIG10X21vZGVsX2NvbmZpZzogTmxsYkNvbmZpZyA9IG5sbGJfYXJjaHMuZ2V0X2NvbmZpZygiZGVuc2VfMWIiKQoKICAgIG10X21vZGVsX2NvbmZpZy52b2NhYl9pbmZvLnNpemUgPSAyNTYxMDIgICMgTkxMQi0xMDAKCiAgICBtdF9tb2RlbF9jb25maWcubWF4X3NlcV9sZW4gPSA0MDk2CgogICAgdDJ1X2NvbmZpZyA9IHVuaXR5X3QydV9hcmNocy5nZXRfY29uZmlnKCJiYXNlX25hciIpCgogICAgcmV0dXJuIFVuaXRZQ29uZmlnKAogICAgICAgIG1vZGVsX2RpbT0xMDI0LAogICAgICAgIHcydjJfZW5jb2Rlcl9jb25maWc9Y29uZm9ybWVyX3NoYXdfZW5jb2Rlcl9jb25maWcsCiAgICAgICAgbXRfbW9kZWxfY29uZmlnPW10X21vZGVsX2NvbmZpZywKICAgICAgICB0MnVfY29uZmlnPXQydV9jb25maWcsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2NvbmZpZz1Ob25lLAogICAgICAgIHVzZV90ZXh0X2VuY29kZXI9VHJ1ZSwKICAgICAgICB1c2VfdGV4dF9kZWNvZGVyPVRydWUsCiAgICAgICAgdXNlX2NvbmZvcm1lcl9hZGFwdG9yPUZhbHNlLAogICAgICAgIHVzZV9nZWx1PUZhbHNlLAogICAgICAgIG51bV9hZGFwdG9yX2xheWVycz0xLAogICAgICAgIGFkYXB0b3Jfa2VybmVsX3NpemU9OCwKICAgICAgICBhZGFwdG9yX3N0cmlkZT04LAogICAgICAgIGFkYXB0b3JfbGF5ZXJfbm9ybT1UcnVlLAogICAgICAgIGFkYXB0b3JfZHJvcG91dF9wPTAuMSwKICAgICkKCgpAdW5pdHlfYXJjaCgiZXhwcmVzc2l2aXR5X3YyIikKZGVmIF9leHByZXNzaXZpdHlfdjIoKSAtPiBVbml0WUNvbmZpZzoKICAgIGNvbmZvcm1lcl9zaGF3X2VuY29kZXJfY29uZmlnID0gY29uZm9ybWVyX3NoYXdfYXJjaHMuZ2V0X2NvbmZpZygiNjAwbSIpCgogICAgbXRfbW9kZWxfY29uZmlnOiBObGxiQ29uZmlnID0gbmxsYl9hcmNocy5nZXRfY29uZmlnKCJkZW5zZV8xYiIpCgogICAgbXRfbW9kZWxfY29uZmlnLnZvY2FiX2luZm8uc2l6ZSA9IDI1NjEwMiAgIyBOTExCLTEwMAoKICAgIG10X21vZGVsX2NvbmZpZy5tYXhfc2VxX2xlbiA9IDEwMDAwCgogICAgdDJ1X2NvbmZpZyA9IHVuaXR5X3QydV9hcmNocy5nZXRfY29uZmlnKCJleHByZXNzaXZpdHlfbmFyIikKCiAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnID0gZWNhcGFfdGRubl9hcmNocy5nZXRfY29uZmlnKCJiYXNlIikKCiAgICByZXR1cm4gVW5pdFlDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2NvbmZpZz1jb25mb3JtZXJfc2hhd19lbmNvZGVyX2NvbmZpZywKICAgICAgICBtdF9tb2RlbF9jb25maWc9bXRfbW9kZWxfY29uZmlnLAogICAgICAgIHQydV9jb25maWc9dDJ1X2NvbmZpZywKICAgICAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnPXByb3NvZHlfZW5jb2Rlcl9jb25maWcsCiAgICAgICAgdXNlX3RleHRfZW5jb2Rlcj1GYWxzZSwKICAgICAgICB1c2VfdGV4dF9kZWNvZGVyPVRydWUsCiAgICAgICAgdXNlX2NvbmZvcm1lcl9hZGFwdG9yPUZhbHNlLAogICAgICAgIHVzZV9nZWx1PVRydWUsCiAgICAgICAgbnVtX2FkYXB0b3JfbGF5ZXJzPTEsCiAgICAgICAgYWRhcHRvcl9rZXJuZWxfc2l6ZT04LAogICAgICAgIGFkYXB0b3Jfc3RyaWRlPTgsCiAgICAgICAgYWRhcHRvcl9sYXllcl9ub3JtPVRydWUsCiAgICAgICAgYWRhcHRvcl9kcm9wb3V0X3A9MC4xLAogICAgKQoKCmNsYXNzIFVuaXRZQnVpbGRlcjoKICAgICIiIkJ1aWxkcyBtb2R1bGVzIG9mIGEgVW5pdFkgbW9kZWwuCgogICAgVG8gdHdlYWsgdGhlIGFyY2hpdGVjdHVyZSwgeW91IGNhbiBkZXJpdmUgZnJvbSB0aGlzIGNsYXNzIGFuZCBvdmVycmlkZSB0aGUKICAgIGNvcnJlc3BvbmRpbmcgbWV0aG9kcy4KICAgICIiIgoKICAgIGNvbmZpZzogVW5pdFlDb25maWcKICAgIHcydjJfZW5jb2Rlcl9idWlsZGVyOiBXYXYyVmVjMkVuY29kZXJCdWlsZGVyCiAgICBtdF9tb2RlbF9idWlsZGVyOiBObGxiQnVpbGRlcgogICAgdDJ1X2J1aWxkZXI6IFVuaW9uW1VuaXRZVDJVQnVpbGRlciwgVW5pdFlOQVJUMlVCdWlsZGVyLCBOb25lXQogICAgcHJvc29keV9lbmNvZGVyX2J1aWxkZXI6IE9wdGlvbmFsW0VjYXBhVEROTkJ1aWxkZXJdCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0KICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IFVuaXRZQ29uZmlnLAogICAgICAgIHcydjJfZW5jb2Rlcl9idWlsZGVyOiBXYXYyVmVjMkVuY29kZXJCdWlsZGVyLAogICAgICAgIG10X21vZGVsX2J1aWxkZXI6IE5sbGJCdWlsZGVyLAogICAgICAgIHQydV9idWlsZGVyOiBVbmlvbltVbml0WVQyVUJ1aWxkZXIsIFVuaXRZTkFSVDJVQnVpbGRlciwgTm9uZV0sCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2J1aWxkZXI6IE9wdGlvbmFsW0VjYXBhVEROTkJ1aWxkZXJdLAogICAgICAgICosCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gY29uZmlnOgogICAgICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICAgICAgOnBhcmFtIHcydjJfZW5jb2Rlcl9idWlsZGVyOgogICAgICAgICAgICBUaGUgd2F2MnZlYyAyLjAgZW5jb2RlciBidWlsZGVyLgogICAgICAgIDpwYXJhbSBtdF9tb2RlbF9idWlsZGVyOgogICAgICAgICAgICBUaGUgTVQgbW9kZWwgYnVpbGRlci4KICAgICAgICA6cGFyYW0gdDJ1X2J1aWxkZXI6CiAgICAgICAgICAgIFRoZSBVbml0WSBUMlUgbW9kZWwgYnVpbGRlci4KICAgICAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgICAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgdzJ2Ml9lbmNvZGVyX2J1aWxkZXIuY29uZmlnLm1vZGVsX2RpbSAhPSBjb25maWcubW9kZWxfZGltOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJgbW9kZWxfZGltYCBhbmQgYG1vZGVsX2RpbWAgb2YgYHcydjJfZW5jb2Rlcl9idWlsZGVyLmNvbmZpZ2AgbXVzdCBiZSBlcXVhbCwgYnV0IGFyZSB7Y29uZmlnLm1vZGVsX2RpbX0gYW5kIHt3MnYyX2VuY29kZXJfYnVpbGRlci5jb25maWcubW9kZWxfZGltfSBpbnN0ZWFkLiIKICAgICAgICAgICAgKQoKICAgICAgICBpZiBtdF9tb2RlbF9idWlsZGVyLmNvbmZpZy5tb2RlbF9kaW0gIT0gY29uZmlnLm1vZGVsX2RpbToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgIGYiYG1vZGVsX2RpbWAgYW5kIGBtb2RlbF9kaW1gIG9mIGBtdF9tb2RlbF9idWlsZGVyLmNvbmZpZ2AgbXVzdCBiZSBlcXVhbCwgYnV0IGFyZSB7Y29uZmlnLm1vZGVsX2RpbX0gYW5kIHttdF9tb2RlbF9idWlsZGVyLmNvbmZpZy5tb2RlbF9kaW19IGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIGlmIHQydV9idWlsZGVyIGlzIG5vdCBOb25lIGFuZCB0MnVfYnVpbGRlci5jb25maWcubW9kZWxfZGltICE9IGNvbmZpZy5tb2RlbF9kaW06CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICBmImBtb2RlbF9kaW1gIGFuZCBgbW9kZWxfZGltYCBvZiBgdDJ1X2J1aWxkZXIuY29uZmlnYCBtdXN0IGJlIGVxdWFsLCBidXQgYXJlIHtjb25maWcubW9kZWxfZGltfSBhbmQge3QydV9idWlsZGVyLmNvbmZpZy5tb2RlbF9kaW19IGluc3RlYWQuIgogICAgICAgICAgICApCgogICAgICAgIHNlbGYuY29uZmlnID0gY29uZmlnCgogICAgICAgIHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIgPSB3MnYyX2VuY29kZXJfYnVpbGRlcgogICAgICAgIHNlbGYubXRfbW9kZWxfYnVpbGRlciA9IG10X21vZGVsX2J1aWxkZXIKICAgICAgICBzZWxmLnQydV9idWlsZGVyID0gdDJ1X2J1aWxkZXIKICAgICAgICBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyID0gcHJvc29keV9lbmNvZGVyX2J1aWxkZXIKCiAgICAgICAgc2VsZi5kZXZpY2UsIHNlbGYuZHR5cGUgPSBkZXZpY2UsIGR0eXBlCgogICAgZGVmIGJ1aWxkX21vZGVsKHNlbGYpIC0+IFVuaXRZTW9kZWw6CiAgICAgICAgIiIiQnVpbGQgYSBtb2RlbC4iIiIKICAgICAgICBzcGVlY2hfZW5jb2Rlcl9mcm9udGVuZCA9IHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuYnVpbGRfZnJvbnRlbmQoKQogICAgICAgIHNwZWVjaF9lbmNvZGVyID0gc2VsZi5idWlsZF9zcGVlY2hfZW5jb2RlcigpCgogICAgICAgIGlmIHNlbGYuY29uZmlnLnVzZV90ZXh0X2VuY29kZXI6CiAgICAgICAgICAgIHRleHRfZW1iZWQgPSBzZWxmLm10X21vZGVsX2J1aWxkZXIuYnVpbGRfZW1iZWRkaW5nKCkKICAgICAgICAgICAgdGV4dF9lbmNvZGVyX2Zyb250ZW5kID0gc2VsZi5tdF9tb2RlbF9idWlsZGVyLmJ1aWxkX2Zyb250ZW5kKHRleHRfZW1iZWQpCiAgICAgICAgICAgIHRleHRfZW5jb2RlciA9IHNlbGYubXRfbW9kZWxfYnVpbGRlci5idWlsZF9lbmNvZGVyKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICB0ZXh0X2VtYmVkID0gTm9uZQogICAgICAgICAgICB0ZXh0X2VuY29kZXJfZnJvbnRlbmQgPSBOb25lCiAgICAgICAgICAgIHRleHRfZW5jb2RlciA9IE5vbmUKCiAgICAgICAgaWYgc2VsZi5jb25maWcudXNlX3RleHRfZGVjb2RlcjoKICAgICAgICAgICAgaWYgdGV4dF9lbWJlZCBpcyBOb25lOgogICAgICAgICAgICAgICAgdGV4dF9lbWJlZCA9IHNlbGYubXRfbW9kZWxfYnVpbGRlci5idWlsZF9lbWJlZGRpbmcoKQoKICAgICAgICAgICAgaWYgdGV4dF9lbmNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgIyBXZSB1c2Ugc2hhcmVkIGVtYmVkZGluZyBhcyBpbiBOTExCLgogICAgICAgICAgICAgICAgdGV4dF9kZWNvZGVyX2Zyb250ZW5kID0gdGV4dF9lbmNvZGVyX2Zyb250ZW5kCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB0ZXh0X2RlY29kZXJfZnJvbnRlbmQgPSBzZWxmLm10X21vZGVsX2J1aWxkZXIuYnVpbGRfZnJvbnRlbmQodGV4dF9lbWJlZCkKCiAgICAgICAgICAgIHRleHRfZGVjb2RlciA9IHNlbGYubXRfbW9kZWxfYnVpbGRlci5idWlsZF9kZWNvZGVyKCkKICAgICAgICAgICAgZmluYWxfcHJvaiA9IFRpZWRQcm9qZWN0aW9uKHRleHRfZW1iZWQud2VpZ2h0LCBiaWFzPU5vbmUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdGV4dF9kZWNvZGVyX2Zyb250ZW5kID0gTm9uZQogICAgICAgICAgICB0ZXh0X2RlY29kZXIgPSBOb25lCiAgICAgICAgICAgIGZpbmFsX3Byb2ogPSBOb25lCgogICAgICAgIGlmIHNlbGYudDJ1X2J1aWxkZXIgaXMgTm9uZToKICAgICAgICAgICAgdDJ1X21vZGVsID0gTm9uZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHQydV9tb2RlbCA9IHNlbGYudDJ1X2J1aWxkZXIuYnVpbGRfbW9kZWwoKQoKICAgICAgICBpZiBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyIGlzIE5vbmU6CiAgICAgICAgICAgIHByb3NvZHlfZW5jb2Rlcl9tb2RlbCA9IE5vbmUKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfbW9kZWwgPSBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyLmJ1aWxkX21vZGVsKCkKCiAgICAgICAgcmV0dXJuIFVuaXRZTW9kZWwoCiAgICAgICAgICAgIHNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICBzcGVlY2hfZW5jb2RlciwKICAgICAgICAgICAgdGV4dF9lbmNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICB0ZXh0X2VuY29kZXIsCiAgICAgICAgICAgIHRleHRfZGVjb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgdGV4dF9kZWNvZGVyLAogICAgICAgICAgICBmaW5hbF9wcm9qLAogICAgICAgICAgICB0MnVfbW9kZWwsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm10X21vZGVsX2NvbmZpZy52b2NhYl9pbmZvLAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXJfbW9kZWwsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9zcGVlY2hfZW5jb2RlcihzZWxmKSAtPiBUcmFuc2Zvcm1lckVuY29kZXI6CiAgICAgICAgIiIiQnVpbGQgYSBzcGVlY2ggVHJhbnNmb3JtZXIgZW5jb2Rlci4iIiIKICAgICAgICB3MnYyX2VuY29kZXIgPSBzZWxmLncydjJfZW5jb2Rlcl9idWlsZGVyLmJ1aWxkX2VuY29kZXIoKQoKICAgICAgICAjIEZvciBDb25mb3JtZXItYmFzZWQgd2F2MnZlYyAyLjAgYXJjaGl0ZWN0dXJlcyAoZS5nLiB3MnYtQkVSVCksIHdlCiAgICAgICAgIyB0eXBpY2FsbHkgdXNlIGEgc3BlY2lhbCB0eXBlIG9mIGFkYXB0b3IgbGF5ZXIuCiAgICAgICAgaWYgbm90IHNlbGYuY29uZmlnLnVzZV9jb25mb3JtZXJfYWRhcHRvcjoKICAgICAgICAgICAgYnVpbGRfYWRhcHRvcl9sYXllciA9IHNlbGYuYnVpbGRfYWRhcHRvcl9sYXllcgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGJ1aWxkX2FkYXB0b3JfbGF5ZXIgPSBzZWxmLmJ1aWxkX2NvbmZvcm1lcl9hZGFwdG9yX2xheWVyCgogICAgICAgIG51bV9sYXllcnMgPSBzZWxmLmNvbmZpZy5udW1fYWRhcHRvcl9sYXllcnMKCiAgICAgICAgbGF5ZXJzID0gW2J1aWxkX2FkYXB0b3JfbGF5ZXIoaSkgZm9yIGkgaW4gcmFuZ2UobnVtX2xheWVycyldCgogICAgICAgIHJldHVybiBVbml0WUVuY29kZXJBZGFwdG9yKAogICAgICAgICAgICB3MnYyX2VuY29kZXIsCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgaW5uZXJfbGF5ZXJfbm9ybT1zZWxmLmNvbmZpZy5hZGFwdG9yX2xheWVyX25vcm0sCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2FkYXB0b3JfbGF5ZXIoc2VsZiwgaWR4OiBpbnQpIC0+IFRyYW5zZm9ybWVyRW5jb2RlckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXItYmFzZWQgZW5jb2RlciBhZGFwdG9yIGxheWVyLiIiIgogICAgICAgIHNlbGZfYXR0biA9IHNlbGYuYnVpbGRfYWRhcHRvcl9hdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuY29uZmlnLm51bV9lbmNvZGVyX2F0dG5faGVhZHMKICAgICAgICApCgogICAgICAgIGZmbiA9IFN0YW5kYXJkRmVlZEZvcndhcmROZXR3b3JrKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuY29uZmlnLmZmbl9pbm5lcl9kaW0sCiAgICAgICAgICAgIGlubmVyX2FjdGl2YXRpb249R0VMVSgpIGlmIHNlbGYuY29uZmlnLnVzZV9nZWx1IGVsc2UgUmVMVSgpLAogICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgICAgIHJldHVybiBVbml0WVRyYW5zZm9ybWVyQWRhcHRvckxheWVyKAogICAgICAgICAgICBzZWxmX2F0dG4sCiAgICAgICAgICAgIGZmbiwKICAgICAgICAgICAgc2VsZi5jb25maWcuYWRhcHRvcl9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgc2VsZi5jb25maWcuYWRhcHRvcl9zdHJpZGUsCiAgICAgICAgICAgIGRyb3BvdXRfcD1zZWxmLmNvbmZpZy5hZGFwdG9yX2Ryb3BvdXRfcCwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfY29uZm9ybWVyX2FkYXB0b3JfbGF5ZXIoc2VsZiwgaWR4OiBpbnQpIC0+IFRyYW5zZm9ybWVyRW5jb2RlckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgQ29uZm9ybWVyLWJhc2VkIGVuY29kZXIgYWRhcHRvciBsYXllci4iIiIKICAgICAgICBmZm4xID0gc2VsZi53MnYyX2VuY29kZXJfYnVpbGRlci5idWlsZF9mZm4odXNlX3N3aXNoPVRydWUpCgogICAgICAgICMgRW1waXJpY2FsbHkgc2hvd24gdGhhdCwgaW4gYWRhcHRvciBsYXllcnMsIHZhbmlsbGEgTUhBIHBlcmZvcm1zIGJldHRlcgogICAgICAgICMgdGhhbiBNSEEgd2l0aCByZWxhdGl2ZSBwb3NpdGlvbmFsIGVuY29kaW5nLgogICAgICAgIHNlbGZfYXR0biA9IHNlbGYuYnVpbGRfYWRhcHRvcl9hdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuY29uZmlnLm51bV9lbmNvZGVyX2F0dG5faGVhZHMKICAgICAgICApCgogICAgICAgIGNvbnYgPSBDb25mb3JtZXJDb252b2x1dGlvbigKICAgICAgICAgICAgc2VsZi53MnYyX2VuY29kZXJfYnVpbGRlci5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLncydjJfZW5jb2Rlcl9idWlsZGVyLmNvbmZpZy5kZXB0aHdpc2VfY29udl9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgZmZuMiA9IHNlbGYudzJ2Ml9lbmNvZGVyX2J1aWxkZXIuYnVpbGRfZmZuKHVzZV9zd2lzaD1UcnVlKQoKICAgICAgICBibG9jayA9IENvbmZvcm1lckJsb2NrKAogICAgICAgICAgICBmZm4xLAogICAgICAgICAgICBzZWxmX2F0dG4sCiAgICAgICAgICAgIGNvbnYsCiAgICAgICAgICAgIGZmbjIsCiAgICAgICAgICAgIGRyb3BvdXRfcD1zZWxmLmNvbmZpZy5hZGFwdG9yX2Ryb3BvdXRfcCwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgbGF5ZXJfbm9ybSA9IGlkeCA9PSAwCgogICAgICAgIHJldHVybiBVbml0WUNvbmZvcm1lckFkYXB0b3JMYXllcigKICAgICAgICAgICAgYmxvY2ssCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmFkYXB0b3Jfa2VybmVsX3NpemUsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmFkYXB0b3Jfc3RyaWRlLAogICAgICAgICAgICBsYXllcl9ub3JtPWxheWVyX25vcm0sCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2FkYXB0b3JfYXR0ZW50aW9uKHNlbGYsIG51bV9oZWFkczogaW50KSAtPiBNdWx0aWhlYWRBdHRlbnRpb246CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBtdWx0aS1oZWFkIGF0dGVudGlvbiBsYXllciBpbiBhZGFwdG9yIGJsb2NrLiIiIgogICAgICAgIHNkcGEgPSBjcmVhdGVfZGVmYXVsdF9zZHBhKGF0dG5fZHJvcG91dF9wPXNlbGYuY29uZmlnLmFkYXB0b3JfZHJvcG91dF9wKQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX2hlYWRzLAogICAgICAgICAgICBzZHBhPXNkcGEsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgoKY2xhc3MgTmxsYldpdGhHRUxVQnVpbGRlcihObGxiQnVpbGRlcik6CiAgICBAb3ZlcnJpZGUKICAgIGRlZiBidWlsZF9mZm4oc2VsZikgLT4gRmVlZEZvcndhcmROZXR3b3JrOgogICAgICAgIHJldHVybiBTdGFuZGFyZEZlZWRGb3J3YXJkTmV0d29yaygKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5mZm5faW5uZXJfZGltLAogICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgIGlubmVyX2FjdGl2YXRpb249R0VMVSgpLAogICAgICAgICAgICBub3JtX29yZGVyPVRyYW5zZm9ybWVyTm9ybU9yZGVyLlBSRSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCgpkZWYgY3JlYXRlX3VuaXR5X21vZGVsKAogICAgY29uZmlnOiBVbml0WUNvbmZpZywKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKKSAtPiBVbml0WU1vZGVsOgogICAgIiIiQ3JlYXRlIGEgVW5pdFkgbW9kZWwuCgogICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgOnBhcmFtIGR0eXBlOgogICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAiIiIKICAgIGlmIGlzaW5zdGFuY2UoY29uZmlnLncydjJfZW5jb2Rlcl9jb25maWcsIENvbmZvcm1lclNoYXdFbmNvZGVyQ29uZmlnKToKICAgICAgICB3MnYyX2VuY29kZXJfYnVpbGRlcjogV2F2MlZlYzJFbmNvZGVyQnVpbGRlciA9IENvbmZvcm1lclNoYXdFbmNvZGVyQnVpbGRlcigKICAgICAgICAgICAgY29uZmlnLncydjJfZW5jb2Rlcl9jb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgKQogICAgZWxzZToKICAgICAgICB3MnYyX2VuY29kZXJfYnVpbGRlciA9IFdhdjJWZWMyRW5jb2RlckJ1aWxkZXIoCiAgICAgICAgICAgIGNvbmZpZy53MnYyX2VuY29kZXJfY29uZmlnLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICB0MnVfYnVpbGRlcjogVW5pb25bVW5pdFlUMlVCdWlsZGVyLCBVbml0WU5BUlQyVUJ1aWxkZXIsIE5vbmVdCgogICAgaWYgY29uZmlnLnQydV9jb25maWcgaXMgTm9uZToKICAgICAgICB0MnVfYnVpbGRlciA9IE5vbmUKICAgIGVsaWYgY29uZmlnLnQydV9jb25maWcubmFyX2RlY29kZXJfY29uZmlnIGlzIE5vbmU6CiAgICAgICAgdDJ1X2J1aWxkZXIgPSBVbml0WVQyVUJ1aWxkZXIoY29uZmlnLnQydV9jb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgZWxzZToKICAgICAgICB0MnVfYnVpbGRlciA9IFVuaXRZTkFSVDJVQnVpbGRlcihjb25maWcudDJ1X2NvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCgogICAgaWYgY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcgaXMgTm9uZToKICAgICAgICBwcm9zb2R5X2VuY29kZXJfYnVpbGRlciA9IE5vbmUKICAgIGVsc2U6CiAgICAgICAgcHJvc29keV9lbmNvZGVyX2J1aWxkZXIgPSBFY2FwYVRETk5CdWlsZGVyKAogICAgICAgICAgICBjb25maWcucHJvc29keV9lbmNvZGVyX2NvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgaWYgY29uZmlnLnVzZV9nZWx1OgogICAgICAgIG10X21vZGVsX2J1aWxkZXI6IE5sbGJCdWlsZGVyID0gTmxsYldpdGhHRUxVQnVpbGRlcigKICAgICAgICAgICAgY29uZmlnLm10X21vZGVsX2NvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCiAgICBlbHNlOgogICAgICAgIG10X21vZGVsX2J1aWxkZXIgPSBObGxiQnVpbGRlcigKICAgICAgICAgICAgY29uZmlnLm10X21vZGVsX2NvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgdW5pdHlfYnVpbGRlciA9IFVuaXRZQnVpbGRlcigKICAgICAgICBjb25maWcsCiAgICAgICAgdzJ2Ml9lbmNvZGVyX2J1aWxkZXIsCiAgICAgICAgbXRfbW9kZWxfYnVpbGRlciwKICAgICAgICB0MnVfYnVpbGRlciwKICAgICAgICBwcm9zb2R5X2VuY29kZXJfYnVpbGRlciwKICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgIGR0eXBlPWR0eXBlLAogICAgKQoKICAgIHJldHVybiB1bml0eV9idWlsZGVyLmJ1aWxkX21vZGVsKCkK'),
    ('seamless/build/lib/seamless_communication/models/unity/length_regulator.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSB0eXBpbmcgaW1wb3J0IExpdGVyYWwsIE9wdGlvbmFsLCBUdXBsZSwgVW5pb24KCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIubm4ubm9ybWFsaXphdGlvbiBpbXBvcnQgTGF5ZXJOb3JtCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2ssIGFwcGx5X3BhZGRpbmdfbWFzaywgdG9fcGFkZGluZ19tYXNrCmZyb20gZmFpcnNlcTIubm4ucHJvamVjdGlvbiBpbXBvcnQgTGluZWFyCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgpmcm9tIHRvcmNoLm5uIGltcG9ydCBDb252MWQsIERyb3BvdXQsIE1vZHVsZSwgUmVMVSwgU2VxdWVudGlhbAoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5maWxtIGltcG9ydCBGaUxNCgoKY2xhc3MgSGFyZFVwc2FtcGxpbmcoTW9kdWxlKToKICAgICIiIlVwc2FtcGxlcyBzZXF1ZW5jZXMgaW4gYSBkZXRlcm1pbmlzdGljIHdheSBhcyBnb3Zlcm5lZCBieSBkdXJhdGlvbnMuIiIiCgogICAgZGVmIGZvcndhcmQoc2VsZiwgc2VxczogVGVuc29yLCBkdXJhdGlvbnM6IFRlbnNvcikgLT4gVHVwbGVbVGVuc29yLCBUZW5zb3JdOgogICAgICAgICMgc2VxczogKE4sIFMsIE0pLCBkdXJhdGlvbnM6IChOLCBTKQogICAgICAgIGlmIGR1cmF0aW9ucy5kdHlwZSBub3QgaW4gKHRvcmNoLmludDE2LCB0b3JjaC5pbnQzMiwgdG9yY2guaW50NjQpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoIlRoZSBkdXJhdGlvbnMgdGVuc29yIHNob3VsZCBoYXZlIGFuIGludGVnZXIgZHR5cGUuIikKCiAgICAgICAgdXBzYW1wbGVkX3NlcV9sZW5zID0gZHVyYXRpb25zLnN1bShkaW09MSkKICAgICAgICBtYXhfbGVuID0gaW50KHVwc2FtcGxlZF9zZXFfbGVucy5tYXgoKS5pdGVtKCkpCiAgICAgICAgTiwgXywgTSA9IHNlcXMuc2hhcGUKICAgICAgICB1cHNhbXBsZWRfc2VxcyA9IHNlcXMubmV3X3plcm9zKChOLCBtYXhfbGVuLCBNKSkKCiAgICAgICAgZm9yIGIgaW4gcmFuZ2UoTik6CiAgICAgICAgICAgIHVwc2FtcGxlZF9zZXFzW2IsIDogdXBzYW1wbGVkX3NlcV9sZW5zW2JdXSA9IHNlcXNbYl0ucmVwZWF0X2ludGVybGVhdmUoCiAgICAgICAgICAgICAgICBkdXJhdGlvbnNbYl0sIGRpbT0wCiAgICAgICAgICAgICkKCiAgICAgICAgcmV0dXJuIHVwc2FtcGxlZF9zZXFzLCB1cHNhbXBsZWRfc2VxX2xlbnMKCgpjbGFzcyBHYXVzc2lhblVwc2FtcGxpbmcoTW9kdWxlKToKICAgICIiIkdhdXNzaWFuIHVwc2FtcGxpbmcgd2l0aCBmaXhlZCB0ZW1wZXJhdHVyZSBhcyBpbjoKICAgIGh0dHBzOi8vYXJ4aXYub3JnL2Ficy8yMDEwLjA0MzAxCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgZGVsdGE6IGZsb2F0ID0gMC4xKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmRlbHRhID0gZGVsdGEKCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHg6IFRlbnNvciwKICAgICAgICBkdXJhdGlvbnM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgVGVuc29yXToKICAgICAgICAiIiJVcHNhbXBsZSBoaWRkZW4gc3RhdGVzIGFjY29yZGluZyB0byBkdXJhdGlvbnMuCiAgICAgICAgQXJnczoKICAgICAgICAgICAgeCAoVGVuc29yKTogQmF0Y2hlZCBoaWRkZW4gc3RhdGUgdG8gYmUgZXhwYW5kZWQgKEIsIFRfdGV4dCwgQykuCiAgICAgICAgICAgIGR1cmF0aW9ucyAoVGVuc29yKTogQmF0Y2hlZCB0b2tlbiBkdXJhdGlvbiAoQiwgVF90ZXh0KS4KICAgICAgICAgICAgcGFkZGluZ19tYXNrIChUZW5zb3IpOiBNYXNrIHRlbnNvciAoQiwgVF90ZXh0KS4KICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBUZW5zb3I6IEV4cGFuZGVkIGhpZGRlbiBzdGF0ZSAoQiwgVF9mZWF0LCBDKS4KICAgICAgICAgICAgVGVuc29yOiBPdXRwdXQgbGVuZ3RocyAoQiwpLgogICAgICAgICIiIgogICAgICAgIG91dF9sZW5zID0gZHVyYXRpb25zLnN1bShkaW09MSkKICAgICAgICB5X21hc2sgPSB0b19wYWRkaW5nX21hc2sob3V0X2xlbnMsIG1heChvdXRfbGVucykpCgogICAgICAgIEIgPSBkdXJhdGlvbnMuc2l6ZSgwKQogICAgICAgIGlmIGR1cmF0aW9ucy5zdW0oKSA9PSAwOgogICAgICAgICAgICAjIE5PVEUoa2FuLWJheWFzaGkpOiBUaGlzIGNhc2UgbXVzdCBub3QgYmUgaGFwcGVuZWQgaW4gdGVhY2hlciBmb3JjaW5nLgogICAgICAgICAgICAjICAgSXQgd2lsbCBiZSBoYXBwZW5lZCBpbiBpbmZlcmVuY2Ugd2l0aCBhIGJhZCBkdXJhdGlvbiBwcmVkaWN0b3IuCiAgICAgICAgICAgICMgICBTbyB3ZSBkbyBub3QgbmVlZCB0byBjYXJlIHRoZSBwYWRkZWQgc2VxdWVuY2UgY2FzZSBoZXJlLgogICAgICAgICAgICBkdXJhdGlvbnNbZHVyYXRpb25zLnN1bShkaW09MSkuZXEoMCldID0gMQoKICAgICAgICBpZiB5X21hc2sgaXMgTm9uZToKICAgICAgICAgICAgVF9mZWF0ID0gZHVyYXRpb25zLnN1bSgpLmludCgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgVF9mZWF0ID0geV9tYXNrLnNpemUoLTEpCgogICAgICAgIHQgPSB0b3JjaC5hcmFuZ2UoMCwgVF9mZWF0KS51bnNxdWVlemUoMCkucmVwZWF0KEIsIDEpLnRvKHgpCiAgICAgICAgaWYgeV9tYXNrIGlzIG5vdCBOb25lOgogICAgICAgICAgICB0ID0gdCAqIHlfbWFzay5mbG9hdCgpCgogICAgICAgIGMgPSBkdXJhdGlvbnMuY3Vtc3VtKGRpbT0tMSkgLSBkdXJhdGlvbnMgLyAyCiAgICAgICAgZW5lcmd5ID0gLTEgKiBzZWxmLmRlbHRhICogKHQudW5zcXVlZXplKC0xKSAtIGMudW5zcXVlZXplKDEpKSAqKiAyCgogICAgICAgIGlmIHBhZGRpbmdfbWFzayBpcyBub3QgTm9uZToKICAgICAgICAgICAgZW5lcmd5ID0gZW5lcmd5Lm1hc2tlZF9maWxsKAogICAgICAgICAgICAgICAgfnBhZGRpbmdfbWFzay5tYXRlcmlhbGl6ZSgpLnVuc3F1ZWV6ZSgxKS5yZXBlYXQoMSwgVF9mZWF0LCAxKSwKICAgICAgICAgICAgICAgIC1mbG9hdCgiaW5mIiksCiAgICAgICAgICAgICkKCiAgICAgICAgcF9hdHRuID0gRi5zb2Z0bWF4KGVuZXJneSwgZGltPTIpLnRvKHgpICAjIChCLCBUX2ZlYXQsIFRfdGV4dCkKICAgICAgICB4ID0gdG9yY2gubWF0bXVsKHBfYXR0biwgeCkKICAgICAgICByZXR1cm4geCwgb3V0X2xlbnMKCgpjbGFzcyBWYXJpYW5jZVByZWRpY3RvcihNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyB0aGUgZHVyYXRpb24vcGl0Y2gvZW5lcmd5IHByZWRpY3RvciBhcyBkZXNjcmliZWQgaW4KICAgIDpjaXRlOnQ6YGh0dHBzOi8vYXJ4aXYub3JnL3BkZi8yMDA2LjA0NTU4LnBkZmAiIiIKCiAgICBjb252MTogU2VxdWVudGlhbAogICAgbG4xOiBMYXllck5vcm0KICAgIGRyb3BvdXRfbW9kdWxlOiBEcm9wb3V0CiAgICBjb252MjogU2VxdWVudGlhbAogICAgbG4yOiBMYXllck5vcm0KICAgIHByb2o6IExpbmVhcgogICAgZmlsbTogT3B0aW9uYWxbRmlMTV0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBlbmNvZGVyX2VtYmVkX2RpbTogaW50LAogICAgICAgIHZhcl9wcmVkX2hpZGRlbl9kaW06IGludCwKICAgICAgICB2YXJfcHJlZF9rZXJuZWxfc2l6ZTogaW50LAogICAgICAgIHZhcl9wcmVkX2Ryb3BvdXQ6IGZsb2F0LAogICAgICAgIGJpYXM6IGJvb2wgPSBUcnVlLAogICAgICAgIHVzZV9maWxtOiBib29sID0gRmFsc2UsCiAgICAgICAgZmlsbV9jb25kX2RpbTogaW50ID0gNTEyLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBzZWxmLmNvbnYxID0gU2VxdWVudGlhbCgKICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgZW5jb2Rlcl9lbWJlZF9kaW0sCiAgICAgICAgICAgICAgICB2YXJfcHJlZF9oaWRkZW5fZGltLAogICAgICAgICAgICAgICAgdmFyX3ByZWRfa2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICBzdHJpZGU9MSwKICAgICAgICAgICAgICAgIHBhZGRpbmc9InNhbWUiLAogICAgICAgICAgICAgICAgYmlhcz1iaWFzLAogICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICApLAogICAgICAgICAgICBSZUxVKCksCiAgICAgICAgKQoKICAgICAgICBsYXllcl9ub3JtX2ZhY3RvcnkgPSBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybQoKICAgICAgICBzZWxmLmxuMSA9IGxheWVyX25vcm1fZmFjdG9yeSh2YXJfcHJlZF9oaWRkZW5fZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKCiAgICAgICAgc2VsZi5kcm9wb3V0X21vZHVsZSA9IERyb3BvdXQocD12YXJfcHJlZF9kcm9wb3V0KQoKICAgICAgICBzZWxmLmNvbnYyID0gU2VxdWVudGlhbCgKICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgdmFyX3ByZWRfaGlkZGVuX2RpbSwKICAgICAgICAgICAgICAgIHZhcl9wcmVkX2hpZGRlbl9kaW0sCiAgICAgICAgICAgICAgICB2YXJfcHJlZF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgIHN0cmlkZT0xLAogICAgICAgICAgICAgICAgcGFkZGluZz0ic2FtZSIsCiAgICAgICAgICAgICAgICBiaWFzPWJpYXMsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIFJlTFUoKSwKICAgICAgICApCgogICAgICAgIHNlbGYubG4yID0gbGF5ZXJfbm9ybV9mYWN0b3J5KHZhcl9wcmVkX2hpZGRlbl9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQoKICAgICAgICBzZWxmLnByb2ogPSBMaW5lYXIoCiAgICAgICAgICAgIHZhcl9wcmVkX2hpZGRlbl9kaW0sIDEsIGJpYXM9VHJ1ZSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgICAgIGlmIHVzZV9maWxtOgogICAgICAgICAgICBzZWxmLmZpbG0gPSBGaUxNKAogICAgICAgICAgICAgICAgZmlsbV9jb25kX2RpbSwgdmFyX3ByZWRfaGlkZGVuX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJmaWxtIiwgTm9uZSkKCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUsCiAgICAgICAgZmlsbV9jb25kX2VtYjogT3B0aW9uYWxbVGVuc29yXSA9IE5vbmUsCiAgICApIC0+IFRlbnNvcjoKICAgICAgICAjIEVuc3VyZSB0aGF0IHdlIGRvIG5vdCBsZWFrIHBhZGRlZCBwb3NpdGlvbnMgaW4gdGhlIGNvbnZvbHV0aW9uIGxheWVyLgogICAgICAgIHNlcXMgPSBhcHBseV9wYWRkaW5nX21hc2soc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICAjIChOLCBTLCBNKSAtPiAoTiwgTSwgUykKICAgICAgICBzZXFzID0gc2Vxcy50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyAoTiwgTSwgUykgLT4gKE4sIEgsIFMpCiAgICAgICAgc2VxcyA9IHNlbGYuY29udjEoc2VxcykKCiAgICAgICAgIyAoTiwgSCwgUykgLT4gKE4sIFMsIEgpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHNlcXMgPSBzZWxmLmxuMShzZXFzKQoKICAgICAgICBzZXFzID0gc2VsZi5kcm9wb3V0X21vZHVsZShzZXFzKQoKICAgICAgICBzZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgIyAoTiwgUywgSCkgLT4gKE4sIEgsIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgICMgKE4sIEgsIFMpIC0+IChOLCBILCBTKQogICAgICAgIHNlcXMgPSBzZWxmLmNvbnYyKHNlcXMpCgogICAgICAgICMgKE4sIEgsIFMpIC0+IChOLCBTLCBIKQogICAgICAgIHNlcXMgPSBzZXFzLnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICBzZXFzID0gc2VsZi5sbjIoc2VxcykKCiAgICAgICAgc2VxcyA9IHNlbGYuZHJvcG91dF9tb2R1bGUoc2VxcykKCiAgICAgICAgc2VxcyA9IGFwcGx5X3BhZGRpbmdfbWFzayhzZXFzLCBwYWRkaW5nX21hc2spCgogICAgICAgIGlmIHNlbGYuZmlsbSBpcyBub3QgTm9uZSBhbmQgZmlsbV9jb25kX2VtYiBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYuZmlsbShzZXFzLCBmaWxtX2NvbmRfZW1iKQogICAgICAgICAgICBzZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgIyAoTiwgUywgSCkgLT4gKE4sIFMsIDEpIC0+IChOLCBTKQogICAgICAgIHNlcXMgPSBzZWxmLnByb2ooc2Vxcykuc3F1ZWV6ZShkaW09MikKCiAgICAgICAgcmV0dXJuIHNlcXMKCgpjbGFzcyBWYXJpYW5jZUFkYXB0b3IoTW9kdWxlKToKICAgICIiIlJlcHJlc2VudCB0aGUgVmFyaWFuY2UgYWRhcHRvciBhcyBkZXNjcmliZWQgaW4KICAgIDpjaXRlOnQ6YGh0dHBzOi8vYXJ4aXYub3JnL3BkZi8yMDA2LjA0NTU4LnBkZmAiIiIKCiAgICBkdXJhdGlvbl9wcmVkaWN0b3I6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yXQogICAgcGl0Y2hfcHJlZGljdG9yOiBPcHRpb25hbFtWYXJpYW5jZVByZWRpY3Rvcl0KICAgIHZ1dl9wcmVkaWN0b3I6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yXQogICAgZW5lcmd5X3ByZWRpY3RvcjogT3B0aW9uYWxbVmFyaWFuY2VQcmVkaWN0b3JdCiAgICBsZW5ndGhfcmVndWxhdG9yOiBVbmlvbltIYXJkVXBzYW1wbGluZywgR2F1c3NpYW5VcHNhbXBsaW5nXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGR1cmF0aW9uX3ByZWRpY3RvcjogT3B0aW9uYWxbVmFyaWFuY2VQcmVkaWN0b3JdID0gTm9uZSwKICAgICAgICBwaXRjaF9wcmVkaWN0b3I6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yXSA9IE5vbmUsCiAgICAgICAgZW1iZWRfcGl0Y2g6IE9wdGlvbmFsW0NvbnYxZF0gPSBOb25lLAogICAgICAgIHZ1dl9wcmVkaWN0b3I6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yXSA9IE5vbmUsCiAgICAgICAgZW5lcmd5X3ByZWRpY3RvcjogT3B0aW9uYWxbVmFyaWFuY2VQcmVkaWN0b3JdID0gTm9uZSwKICAgICAgICBlbWJlZF9lbmVyZ3k6IE9wdGlvbmFsW0NvbnYxZF0gPSBOb25lLAogICAgICAgIGFkZF92YXJpYW5jZV9wYXJhbGxlbDogYm9vbCA9IFRydWUsCiAgICAgICAgdXBzYW1wbGluZ190eXBlOiBMaXRlcmFsWyJnYXVzc2lhbiIsICJoYXJkIl0gPSAiaGFyZCIsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBpZiBkdXJhdGlvbl9wcmVkaWN0b3I6CiAgICAgICAgICAgIHNlbGYuZHVyYXRpb25fcHJlZGljdG9yID0gZHVyYXRpb25fcHJlZGljdG9yCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoImR1cmF0aW9uX3ByZWRpY3RvciIsIE5vbmUpCgogICAgICAgIGlmIHBpdGNoX3ByZWRpY3RvcjoKICAgICAgICAgICAgc2VsZi5waXRjaF9wcmVkaWN0b3IgPSBwaXRjaF9wcmVkaWN0b3IKICAgICAgICAgICAgc2VsZi5lbWJlZF9waXRjaCA9IGVtYmVkX3BpdGNoCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoInBpdGNoX3ByZWRpY3RvciIsIE5vbmUpCiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJlbWJlZF9waXRjaCIsIE5vbmUpCgogICAgICAgIGlmIHZ1dl9wcmVkaWN0b3I6CiAgICAgICAgICAgIHNlbGYudnV2X3ByZWRpY3RvciA9IHZ1dl9wcmVkaWN0b3IKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgidnV2X3ByZWRpY3RvciIsIE5vbmUpCgogICAgICAgIGlmIGVuZXJneV9wcmVkaWN0b3I6CiAgICAgICAgICAgIHNlbGYuZW5lcmd5X3ByZWRpY3RvciA9IGVuZXJneV9wcmVkaWN0b3IKICAgICAgICAgICAgc2VsZi5lbWJlZF9lbmVyZ3kgPSBlbWJlZF9lbmVyZ3kKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZW5lcmd5X3ByZWRpY3RvciIsIE5vbmUpCiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJlbWJlZF9lbmVyZ3kiLCBOb25lKQoKICAgICAgICBzZWxmLmFkZF92YXJpYW5jZV9wYXJhbGxlbCA9IGFkZF92YXJpYW5jZV9wYXJhbGxlbAoKICAgICAgICBpZiB1cHNhbXBsaW5nX3R5cGUgPT0gImdhdXNzaWFuIjoKICAgICAgICAgICAgc2VsZi5sZW5ndGhfcmVndWxhdG9yID0gR2F1c3NpYW5VcHNhbXBsaW5nKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmxlbmd0aF9yZWd1bGF0b3IgPSBIYXJkVXBzYW1wbGluZygpCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZHVyYXRpb25zOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIG1pbl9kdXJhdGlvbjogaW50ID0gMCwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBQYWRkaW5nTWFzaywgVGVuc29yXToKICAgICAgICBpZiBzZWxmLmR1cmF0aW9uX3ByZWRpY3RvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgbG9nX2R1cmF0aW9ucyA9IHNlbGYuZHVyYXRpb25fcHJlZGljdG9yKHNlcXMsIHBhZGRpbmdfbWFzaywgZmlsbV9jb25kX2VtYikKICAgICAgICAgICAgZHVyYXRpb25zID0gdG9yY2guY2xhbXAoCiAgICAgICAgICAgICAgICB0b3JjaC5yb3VuZCgodG9yY2guZXhwKGxvZ19kdXJhdGlvbnMpIC0gMSkgKiBkdXJhdGlvbl9mYWN0b3IpLmxvbmcoKSwKICAgICAgICAgICAgICAgIG1pbj1taW5fZHVyYXRpb24sCiAgICAgICAgICAgICkKICAgICAgICAgICAgIyBXZSBuZWVkIHRvIGFwcGx5IHRoZSBwYWRkaW5nX21hc2sgYWdhaW4gc2luY2Ugd2UgY2xhbXAgYnkgbWluX2R1cmF0aW9uLgogICAgICAgICAgICBkdXJhdGlvbnMgPSBhcHBseV9wYWRkaW5nX21hc2soZHVyYXRpb25zLCBwYWRkaW5nX21hc2ssIHBhZF92YWx1ZT0wKQoKICAgICAgICBhc3NlcnQgZHVyYXRpb25zIGlzIG5vdCBOb25lCgogICAgICAgIGlmIHNlbGYucGl0Y2hfcHJlZGljdG9yIGlzIG5vdCBOb25lOgogICAgICAgICAgICBwaXRjaF9vdXQgPSBzZWxmLnBpdGNoX3ByZWRpY3RvcihzZXFzLCBwYWRkaW5nX21hc2ssIGZpbG1fY29uZF9lbWIpCiAgICAgICAgICAgIGlmIHNlbGYudnV2X3ByZWRpY3RvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHZ1dl9vdXQgPSBzZWxmLnZ1dl9wcmVkaWN0b3Ioc2VxcywgcGFkZGluZ19tYXNrLCBmaWxtX2NvbmRfZW1iKQogICAgICAgICAgICAgICAgcGl0Y2hfb3V0ID0gcGl0Y2hfb3V0ICogKHRvcmNoLnNpZ21vaWQodnV2X291dCkgPj0gMC41KQoKICAgICAgICAgICAgYXNzZXJ0IHNlbGYuZW1iZWRfcGl0Y2ggaXMgbm90IE5vbmUKICAgICAgICAgICAgcGl0Y2hfZW1iZWQgPSBzZWxmLmVtYmVkX3BpdGNoKHBpdGNoX291dC51bnNxdWVlemUoMSkpLnRyYW5zcG9zZSgxLCAyKQogICAgICAgICAgICBpZiBub3Qgc2VsZi5hZGRfdmFyaWFuY2VfcGFyYWxsZWw6CiAgICAgICAgICAgICAgICBzZXFzID0gc2VxcyArIHBpdGNoX2VtYmVkCgogICAgICAgIGlmIHNlbGYuZW5lcmd5X3ByZWRpY3RvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgZW5lcmd5X291dCA9IHNlbGYuZW5lcmd5X3ByZWRpY3RvcihzZXFzLCBwYWRkaW5nX21hc2ssIGZpbG1fY29uZF9lbWIpCgogICAgICAgICAgICBhc3NlcnQgc2VsZi5lbWJlZF9lbmVyZ3kgaXMgbm90IE5vbmUKICAgICAgICAgICAgZW5lcmd5X2VtYmVkID0gc2VsZi5lbWJlZF9lbmVyZ3koZW5lcmd5X291dC51bnNxdWVlemUoMSkpLnRyYW5zcG9zZSgxLCAyKQogICAgICAgICAgICBpZiBzZWxmLmFkZF92YXJpYW5jZV9wYXJhbGxlbDoKICAgICAgICAgICAgICAgIHNlcXMgPSBzZXFzICsgcGl0Y2hfZW1iZWQgKyBlbmVyZ3lfZW1iZWQKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlcXMgPSBzZXFzICsgZW5lcmd5X2VtYmVkCgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5sZW5ndGhfcmVndWxhdG9yLCBHYXVzc2lhblVwc2FtcGxpbmcpOgogICAgICAgICAgICBzZXFzLCBzZXFfbGVucyA9IHNlbGYubGVuZ3RoX3JlZ3VsYXRvcihzZXFzLCBkdXJhdGlvbnMsIHBhZGRpbmdfbWFzaykKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZXFzLCBzZXFfbGVucyA9IHNlbGYubGVuZ3RoX3JlZ3VsYXRvcihzZXFzLCBkdXJhdGlvbnMpCgogICAgICAgIHJldHVybiBzZXFzLCBQYWRkaW5nTWFzayhzZXFfbGVucywgYmF0Y2hfc2VxX2xlbj1zZXFzLnNpemUoMSkpLCBkdXJhdGlvbnMK'),
    ('seamless/build/lib/seamless_communication/models/unity/char_tokenizer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbCwgVW5pb24sIGZpbmFsCgpmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgKAogICAgQXNzZXREb3dubG9hZE1hbmFnZXIsCiAgICBBc3NldFN0b3JlLAogICAgYXNzZXRfc3RvcmUsCiAgICBkb3dubG9hZF9tYW5hZ2VyLAopCmZyb20gZmFpcnNlcTIuYXNzZXRzLmNhcmQgaW1wb3J0IEFzc2V0Q2FyZApmcm9tIGZhaXJzZXEyLmRhdGEudGV4dCBpbXBvcnQgKAogICAgU2VudGVuY2VQaWVjZURlY29kZXIsCiAgICBTZW50ZW5jZVBpZWNlRW5jb2RlciwKICAgIFNlbnRlbmNlUGllY2VNb2RlbCwKICAgIFRleHRUb2tlbkRlY29kZXIsCiAgICBUZXh0VG9rZW5FbmNvZGVyLAogICAgVGV4dFRva2VuaXplciwKICAgIHZvY2FiX2luZm9fZnJvbV9zZW50ZW5jZXBpZWNlLAopCmZyb20gZmFpcnNlcTIuZGF0YS50eXBpbmcgaW1wb3J0IFBhdGhMaWtlCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEZXZpY2UsIGZpbmFsb3ZlcnJpZGUKCgpAZmluYWwKY2xhc3MgQ2hhclRva2VuaXplcihUZXh0VG9rZW5pemVyKToKICAgICIiIkEgY2hhcmFjdGVyLWxldmVsIHRva2VuaXplciB1c2VkIGR1cmluZyBub24tYXV0b3JlZ3Jlc3NpdmUgVDJVIGRlY29kaW5nLiIiIgoKICAgIG1vZGVsOiBTZW50ZW5jZVBpZWNlTW9kZWwKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGF0aG5hbWU6IFBhdGhMaWtlKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBwYXRobmFtZToKICAgICAgICAgICAgVGhlIHBhdGhuYW1lIG9mIHRoZSBTZW50ZW5jZVBpZWNlIG1vZGVsIGZpbGUuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5tb2RlbCA9IFNlbnRlbmNlUGllY2VNb2RlbChwYXRobmFtZSkKCiAgICAgICAgdm9jYWJfaW5mbyA9IHZvY2FiX2luZm9fZnJvbV9zZW50ZW5jZXBpZWNlKHNlbGYubW9kZWwpCgogICAgICAgIHN1cGVyKCkuX19pbml0X18odm9jYWJfaW5mbykKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGNyZWF0ZV9lbmNvZGVyKAogICAgICAgIHNlbGYsCiAgICAgICAgdGFzazogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbW9kZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBwaW5fbWVtb3J5OiBib29sID0gRmFsc2UsCiAgICApIC0+IFRleHRUb2tlbkVuY29kZXI6CiAgICAgICAgIiIiQ3JlYXRlcyBhIGNoYXJhY3RlciBsZXZlbCBlbmNvZGVyLiIiIgogICAgICAgIHJldHVybiBTZW50ZW5jZVBpZWNlRW5jb2RlcigKICAgICAgICAgICAgc2VsZi5tb2RlbCwKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgcGluX21lbW9yeT1waW5fbWVtb3J5LAogICAgICAgICkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGNyZWF0ZV9yYXdfZW5jb2RlcigKICAgICAgICBzZWxmLCAqLCBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLCBwaW5fbWVtb3J5OiBib29sID0gRmFsc2UKICAgICkgLT4gVGV4dFRva2VuRW5jb2RlcjoKICAgICAgICByZXR1cm4gU2VudGVuY2VQaWVjZUVuY29kZXIoc2VsZi5tb2RlbCwgZGV2aWNlPWRldmljZSwgcGluX21lbW9yeT1waW5fbWVtb3J5KQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgY3JlYXRlX2RlY29kZXIoc2VsZikgLT4gVGV4dFRva2VuRGVjb2RlcjoKICAgICAgICByZXR1cm4gU2VudGVuY2VQaWVjZURlY29kZXIoc2VsZi5tb2RlbCkKCgpjbGFzcyBVbml0WUNoYXJUb2tlbml6ZXJMb2FkZXI6CiAgICAiIiJMb2FkcyBjaGFyYWN0ZXItbGV2ZWwgdG9rZW5pemVycyBvZiBVbml0WSBtb2RlbHMuIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGFzc2V0X3N0b3JlOiBBc3NldFN0b3JlLCBkb3dubG9hZF9tYW5hZ2VyOiBBc3NldERvd25sb2FkTWFuYWdlcgogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBhc3NldF9zdG9yZToKICAgICAgICAgICAgVGhlIGFzc2V0IHN0b3JlIHRvIHJldHJpZXZlIHRoZSBtb2RlbCBpbmZvcm1hdGlvbi4KICAgICAgICA6cGFyYW0gZG93bmxvYWRfbWFuYWdlcjoKICAgICAgICAgICAgVGhlIGRvd25sb2FkIG1hbmFnZXIgdG8gdXNlLgogICAgICAgICIiIgogICAgICAgIHNlbGYuYXNzZXRfc3RvcmUgPSBhc3NldF9zdG9yZQogICAgICAgIHNlbGYuZG93bmxvYWRfbWFuYWdlciA9IGRvd25sb2FkX21hbmFnZXIKCiAgICBkZWYgX19jYWxsX18oCiAgICAgICAgc2VsZiwKICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQ6IFVuaW9uW3N0ciwgQXNzZXRDYXJkXSwKICAgICAgICBmb3JjZTogYm9vbCA9IEZhbHNlLAogICAgICAgIHByb2dyZXNzOiBib29sID0gVHJ1ZSwKICAgICkgLT4gQ2hhclRva2VuaXplcjoKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbW9kZWxfbmFtZV9vcl9jYXJkOgogICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgb3IgYW4gYWxyZWFkeSBsb2FkZWQgQXNzZXRDYXJkCiAgICAgICAgIiIiCgogICAgICAgIGlmIGlzaW5zdGFuY2UobW9kZWxfbmFtZV9vcl9jYXJkLCBBc3NldENhcmQpOgogICAgICAgICAgICBjYXJkID0gbW9kZWxfbmFtZV9vcl9jYXJkCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY2FyZCA9IHNlbGYuYXNzZXRfc3RvcmUucmV0cmlldmVfY2FyZChtb2RlbF9uYW1lX29yX2NhcmQpCgogICAgICAgIHVyaSA9IGNhcmQuZmllbGQoImNoYXJfdG9rZW5pemVyIikuYXNfdXJpKCkKCiAgICAgICAgcGF0aG5hbWUgPSBzZWxmLmRvd25sb2FkX21hbmFnZXIuZG93bmxvYWRfdG9rZW5pemVyKAogICAgICAgICAgICB1cmksIGNhcmQubmFtZSwgZm9yY2U9Zm9yY2UsIHByb2dyZXNzPXByb2dyZXNzCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gQ2hhclRva2VuaXplcihwYXRobmFtZSkKCgpsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyID0gVW5pdFlDaGFyVG9rZW5pemVyTG9hZGVyKGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyKQo='),
    ('seamless/build/lib/seamless_communication/models/unity/model.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR1cGxlLCBVbmlvbiwgZmluYWwKCmZyb20gZmFpcnNlcTIuZGF0YSBpbXBvcnQgVm9jYWJ1bGFyeUluZm8KZnJvbSBmYWlyc2VxMi5tb2RlbHMuZW5jb2Rlcl9kZWNvZGVyIGltcG9ydCBFbmNvZGVyRGVjb2Rlck1vZGVsCmZyb20gZmFpcnNlcTIubW9kZWxzLnNlcXVlbmNlIGltcG9ydCBTZXF1ZW5jZU1vZGVsT3V0cHV0CmZyb20gZmFpcnNlcTIubW9kZWxzLnRyYW5zZm9ybWVyLmZyb250ZW5kIGltcG9ydCBUcmFuc2Zvcm1lckZyb250ZW5kCmZyb20gZmFpcnNlcTIubm4uaW5jcmVtZW50YWxfc3RhdGUgaW1wb3J0IEluY3JlbWVudGFsU3RhdGVCYWcKZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBQYWRkaW5nTWFzawpmcm9tIGZhaXJzZXEyLm5uLnByb2plY3Rpb24gaW1wb3J0IFByb2plY3Rpb24KZnJvbSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lciBpbXBvcnQgVHJhbnNmb3JtZXJEZWNvZGVyLCBUcmFuc2Zvcm1lckVuY29kZXIKZnJvbSBvdmVycmlkZXMgaW1wb3J0IGZpbmFsIGFzIGZpbmFsb3ZlcnJpZGUKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IE1vZHVsZQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5nZW5lcmF0b3IuZWNhcGFfdGRubiBpbXBvcnQgRUNBUEFfVEROTgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmZmdF9kZWNvZGVyIGltcG9ydCBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubmFyX2RlY29kZXJfZnJvbnRlbmQgaW1wb3J0IE5BUkRlY29kZXJGcm9udGVuZAoKCkBmaW5hbApjbGFzcyBVbml0WU1vZGVsKEVuY29kZXJEZWNvZGVyTW9kZWwpOgogICAgIiIiUmVwcmVzZW50cyBhIFVuaXRZIG1vZGVsIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIxMi4wODA1NWAuCgogICAgTm90ZSB0aGF0IHRoaXMgaW1wbGVtZW50YXRpb24gaXMgYXVnbWVudGVkIHdpdGggYSB0ZXh0IGVuY29kZXIgdG8gZW5hYmxlCiAgICB0cmFuc2xhdGluZyBmcm9tIHRleHQuCiAgICAiIiIKCiAgICBtb2RlbF9kaW06IGludAogICAgaW5wdXRfbW9kYWxpdHk6IHN0cgogICAgc3BlZWNoX2VuY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQKICAgIHNwZWVjaF9lbmNvZGVyOiBUcmFuc2Zvcm1lckVuY29kZXIKICAgIHRleHRfZW5jb2Rlcl9mcm9udGVuZDogT3B0aW9uYWxbVHJhbnNmb3JtZXJGcm9udGVuZF0KICAgIHRleHRfZW5jb2RlcjogT3B0aW9uYWxbVHJhbnNmb3JtZXJFbmNvZGVyXQogICAgdGV4dF9kZWNvZGVyX2Zyb250ZW5kOiBPcHRpb25hbFtUcmFuc2Zvcm1lckZyb250ZW5kXQogICAgdGV4dF9kZWNvZGVyOiBPcHRpb25hbFtUcmFuc2Zvcm1lckRlY29kZXJdCiAgICBmaW5hbF9wcm9qOiBPcHRpb25hbFtQcm9qZWN0aW9uXQogICAgdDJ1X21vZGVsOiBVbmlvblsiVW5pdFlUMlVNb2RlbCIsICJVbml0WU5BUlQyVU1vZGVsIiwgTm9uZV0KICAgIHByb3NvZHlfZW5jb2Rlcl9tb2RlbDogT3B0aW9uYWxbRUNBUEFfVEROTl0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBzcGVlY2hfZW5jb2Rlcl9mcm9udGVuZDogVHJhbnNmb3JtZXJGcm9udGVuZCwKICAgICAgICBzcGVlY2hfZW5jb2RlcjogVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgICAgIHRleHRfZW5jb2Rlcl9mcm9udGVuZDogT3B0aW9uYWxbVHJhbnNmb3JtZXJGcm9udGVuZF0sCiAgICAgICAgdGV4dF9lbmNvZGVyOiBPcHRpb25hbFtUcmFuc2Zvcm1lckVuY29kZXJdLAogICAgICAgIHRleHRfZGVjb2Rlcl9mcm9udGVuZDogT3B0aW9uYWxbVHJhbnNmb3JtZXJGcm9udGVuZF0sCiAgICAgICAgdGV4dF9kZWNvZGVyOiBPcHRpb25hbFtUcmFuc2Zvcm1lckRlY29kZXJdLAogICAgICAgIGZpbmFsX3Byb2o6IE9wdGlvbmFsW1Byb2plY3Rpb25dLAogICAgICAgIHQydV9tb2RlbDogVW5pb25bIlVuaXRZVDJVTW9kZWwiLCAiVW5pdFlOQVJUMlVNb2RlbCIsIE5vbmVdLAogICAgICAgIHRhcmdldF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbywKICAgICAgICBwcm9zb2R5X2VuY29kZXJfbW9kZWw6IE9wdGlvbmFsW0VDQVBBX1RETk5dID0gTm9uZSwKICAgICAgICBpbnB1dF9tb2RhbGl0eTogc3RyID0gInNwZWVjaCIsCiAgICApIC0+IE5vbmU6CiAgICAgICAgbW9kZWxfZGltID0gc3BlZWNoX2VuY29kZXIubW9kZWxfZGltCgogICAgICAgIHN1cGVyKCkuX19pbml0X18obW9kZWxfZGltLCB0YXJnZXRfdm9jYWJfaW5mbykKCiAgICAgICAgc2VsZi5pbnB1dF9tb2RhbGl0eSA9IGlucHV0X21vZGFsaXR5CgogICAgICAgIHNlbGYuc3BlZWNoX2VuY29kZXJfZnJvbnRlbmQgPSBzcGVlY2hfZW5jb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuc3BlZWNoX2VuY29kZXIgPSBzcGVlY2hfZW5jb2RlcgoKICAgICAgICBpZiB0ZXh0X2VuY29kZXIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGlmIHRleHRfZW5jb2Rlcl9mcm9udGVuZCBpcyBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICAgICAiQm90aCBgdGV4dF9lbmNvZGVyYCBhbmQgYHRleHRfZW5jb2Rlcl9mcm9udGVuZGAgbXVzdCBiZSBzcGVjaWZpZWQsIGJ1dCBgdGV4dF9lbmNvZGVyX2Zyb250ZW5kYCBpcyBgTm9uZWAuIgogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi50ZXh0X2VuY29kZXJfZnJvbnRlbmQgPSB0ZXh0X2VuY29kZXJfZnJvbnRlbmQKICAgICAgICAgICAgc2VsZi50ZXh0X2VuY29kZXIgPSB0ZXh0X2VuY29kZXIKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiB0ZXh0X2VuY29kZXJfZnJvbnRlbmQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgICJCb3RoIGB0ZXh0X2VuY29kZXJgIGFuZCBgdGV4dF9lbmNvZGVyX2Zyb250ZW5kYCBtdXN0IGJlIHNwZWNpZmllZCwgYnV0IGB0ZXh0X2VuY29kZXJgIGlzIGBOb25lYC4iCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgidGV4dF9lbmNvZGVyX2Zyb250ZW5kIiwgTm9uZSkKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoInRleHRfZW5jb2RlciIsIE5vbmUpCgogICAgICAgIGlmIHRleHRfZGVjb2RlciBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgdGV4dF9kZWNvZGVyX2Zyb250ZW5kIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgICJCb3RoIGB0ZXh0X2RlY29kZXJgIGFuZCBgdGV4dF9kZWNvZGVyX2Zyb250ZW5kYCBtdXN0IGJlIHNwZWNpZmllZCwgYnV0IGB0ZXh0X2RlY29kZXJfZnJvbnRlbmRgIGlzIGBOb25lYC4iCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLnRleHRfZGVjb2Rlcl9mcm9udGVuZCA9IHRleHRfZGVjb2Rlcl9mcm9udGVuZAogICAgICAgICAgICBzZWxmLnRleHRfZGVjb2RlciA9IHRleHRfZGVjb2RlcgogICAgICAgICAgICBzZWxmLmZpbmFsX3Byb2ogPSBmaW5hbF9wcm9qCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgdGV4dF9kZWNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICAgICAiQm90aCBgdGV4dF9lbmNvZGVyYCBhbmQgYHRleHRfZW5jb2Rlcl9mcm9udGVuZGAgbXVzdCBiZSBzcGVjaWZpZWQsIGJ1dCBgdGV4dF9kZWNvZGVyYCBpcyBgTm9uZWAuIgogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoInRleHRfZGVjb2Rlcl9mcm9udGVuZCIsIE5vbmUpCiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJ0ZXh0X2RlY29kZXIiLCBOb25lKQogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZmluYWxfcHJvaiIsIE5vbmUpCgogICAgICAgIGlmIHQydV9tb2RlbCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi50MnVfbW9kZWwgPSB0MnVfbW9kZWwKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgidDJ1X21vZGVsIiwgTm9uZSkKCiAgICAgICAgc2VsZi50YXJnZXRfdm9jYWJfaW5mbyA9IHRhcmdldF92b2NhYl9pbmZvCiAgICAgICAgaWYgcHJvc29keV9lbmNvZGVyX21vZGVsIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnByb3NvZHlfZW5jb2Rlcl9tb2RlbCA9IHByb3NvZHlfZW5jb2Rlcl9tb2RlbAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJwcm9zb2R5X2VuY29kZXJfbW9kZWwiLCBOb25lKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgZW5jb2RlKAogICAgICAgIHNlbGYsIHNlcXM6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10KICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza11dOgogICAgICAgIGlmIHNlbGYuaW5wdXRfbW9kYWxpdHkgPT0gInNwZWVjaCI6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmVuY29kZV9zcGVlY2goc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBpZiBzZWxmLmlucHV0X21vZGFsaXR5ID09ICJ0ZXh0IjoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuZW5jb2RlX3RleHQoc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoCiAgICAgICAgICAgIGYiYGlucHV0X21vZGFsaXR5YCBtdXN0IGJlICdzcGVlY2gnIG9yICd0ZXh0JywgYnV0IGlzICd7c2VsZi5pbnB1dF9tb2RhbGl0eX0nIGluc3RlYWQuIgogICAgICAgICkKCiAgICBkZWYgZW5jb2RlX3NwZWVjaCgKICAgICAgICBzZWxmLCBzZXFzOiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBzZWxmLnNwZWVjaF9lbmNvZGVyX2Zyb250ZW5kKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgcmV0dXJuIHNlbGYuc3BlZWNoX2VuY29kZXIoc2VxcywgcGFkZGluZ19tYXNrKSAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0KCiAgICBkZWYgZW5jb2RlX3RleHQoCiAgICAgICAgc2VsZiwgc2VxczogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXQogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXV06CiAgICAgICAgaWYgc2VsZi50ZXh0X2VuY29kZXIgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJgZW5jb2RlX3RleHQoKWAgcmVxdWlyZXMgYSB0ZXh0IGVuY29kZXIsIGJ1dCB0aGUgY3VycmVudCBVbml0WSBtb2RlbCBkb2VzIG5vdCBoYXZlIG9uZS4iCiAgICAgICAgICAgICkKCiAgICAgICAgYXNzZXJ0IHNlbGYudGV4dF9lbmNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lCgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYudGV4dF9lbmNvZGVyX2Zyb250ZW5kKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgcmV0dXJuIHNlbGYudGV4dF9lbmNvZGVyKHNlcXMsIHBhZGRpbmdfbWFzaykgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBkZWNvZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IFRlbnNvciwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgICosCiAgICAgICAgc3RhdGVfYmFnOiBPcHRpb25hbFtJbmNyZW1lbnRhbFN0YXRlQmFnXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBpZiBzZWxmLnRleHRfZGVjb2RlciBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgImBkZWNvZGUoKWAgcmVxdWlyZXMgYSB0ZXh0IGRlY29kZXIsIGJ1dCB0aGUgY3VycmVudCBVbml0WSBtb2RlbCBkb2VzIG5vdCBoYXZlIG9uZS4iCiAgICAgICAgICAgICkKCiAgICAgICAgYXNzZXJ0IHNlbGYudGV4dF9kZWNvZGVyX2Zyb250ZW5kIGlzIG5vdCBOb25lCgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYudGV4dF9kZWNvZGVyX2Zyb250ZW5kKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIHN0YXRlX2JhZz1zdGF0ZV9iYWcKICAgICAgICApCgogICAgICAgIHJldHVybiBzZWxmLnRleHRfZGVjb2RlciggICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICBzdGF0ZV9iYWc9c3RhdGVfYmFnLAogICAgICAgICkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIHByb2plY3QoCiAgICAgICAgc2VsZiwgZGVjb2Rlcl9vdXRwdXQ6IFRlbnNvciwgZGVjb2Rlcl9wYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXQogICAgKSAtPiBTZXF1ZW5jZU1vZGVsT3V0cHV0OgogICAgICAgIGlmIHNlbGYuZmluYWxfcHJvaiBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgImBwcm9qZWN0KClgIHJlcXVpcmVzIGEgZmluYWxfcHJvaiBsYXllciwgYnV0IHRoZSBjdXJyZW50IFVuaXRZIG1vZGVsIGRvZXMgbm90IGhhdmUgb25lLiIKICAgICAgICAgICAgKQoKICAgICAgICBsb2dpdHMgPSBzZWxmLmZpbmFsX3Byb2ooZGVjb2Rlcl9vdXRwdXQpCgogICAgICAgIHJldHVybiBTZXF1ZW5jZU1vZGVsT3V0cHV0KGxvZ2l0cywgc2VsZi50YXJnZXRfdm9jYWJfaW5mbykKCgpAZmluYWwKY2xhc3MgVW5pdFlYMlRNb2RlbChFbmNvZGVyRGVjb2Rlck1vZGVsKToKICAgIG1vZGVsX2RpbTogaW50CiAgICBlbmNvZGVyX2Zyb250ZW5kOiBUcmFuc2Zvcm1lckZyb250ZW5kCiAgICBlbmNvZGVyOiBUcmFuc2Zvcm1lckVuY29kZXIKICAgIGRlY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQKICAgIGRlY29kZXI6IFRyYW5zZm9ybWVyRGVjb2RlcgogICAgZmluYWxfcHJvajogUHJvamVjdGlvbgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGVuY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQsCiAgICAgICAgZW5jb2RlcjogVHJhbnNmb3JtZXJFbmNvZGVyLAogICAgICAgIGRlY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQsCiAgICAgICAgZGVjb2RlcjogVHJhbnNmb3JtZXJEZWNvZGVyLAogICAgICAgIGZpbmFsX3Byb2o6IFByb2plY3Rpb24sCiAgICAgICAgdGFyZ2V0X3ZvY2FiX2luZm86IFZvY2FidWxhcnlJbmZvLAogICAgKSAtPiBOb25lOgogICAgICAgIG1vZGVsX2RpbSA9IGVuY29kZXIubW9kZWxfZGltCgogICAgICAgIHN1cGVyKCkuX19pbml0X18obW9kZWxfZGltLCB0YXJnZXRfdm9jYWJfaW5mbykKCiAgICAgICAgc2VsZi5lbmNvZGVyX2Zyb250ZW5kID0gZW5jb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuZW5jb2RlciA9IGVuY29kZXIKICAgICAgICBzZWxmLmRlY29kZXJfZnJvbnRlbmQgPSBkZWNvZGVyX2Zyb250ZW5kCiAgICAgICAgc2VsZi5kZWNvZGVyID0gZGVjb2RlcgogICAgICAgIHNlbGYuZmluYWxfcHJvaiA9IGZpbmFsX3Byb2oKICAgICAgICBzZWxmLnRhcmdldF92b2NhYl9pbmZvID0gdGFyZ2V0X3ZvY2FiX2luZm8KCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGVuY29kZSgKICAgICAgICBzZWxmLCBzZXFzOiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBzZWxmLmVuY29kZXJfZnJvbnRlbmQoc2VxcywgcGFkZGluZ19tYXNrKQogICAgICAgIHJldHVybiBzZWxmLmVuY29kZXIoc2VxcywgcGFkZGluZ19tYXNrKSAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0KCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGRlY29kZSgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBlbmNvZGVyX291dHB1dDogVGVuc29yLAogICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgKiwKICAgICAgICBzdGF0ZV9iYWc6IE9wdGlvbmFsW0luY3JlbWVudGFsU3RhdGVCYWddID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza11dOgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYuZGVjb2Rlcl9mcm9udGVuZCgKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBzdGF0ZV9iYWc9c3RhdGVfYmFnCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gc2VsZi5kZWNvZGVyKCAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0KICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBlbmNvZGVyX291dHB1dCwKICAgICAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgIHN0YXRlX2JhZz1zdGF0ZV9iYWcsCiAgICAgICAgKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgcHJvamVjdCgKICAgICAgICBzZWxmLCBkZWNvZGVyX291dHB1dDogVGVuc29yLCBkZWNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdCiAgICApIC0+IFNlcXVlbmNlTW9kZWxPdXRwdXQ6CiAgICAgICAgbG9naXRzID0gc2VsZi5maW5hbF9wcm9qKGRlY29kZXJfb3V0cHV0KQoKICAgICAgICByZXR1cm4gU2VxdWVuY2VNb2RlbE91dHB1dChsb2dpdHMsIHNlbGYudGFyZ2V0X3ZvY2FiX2luZm8pCgoKQGZpbmFsCmNsYXNzIFVuaXRZVDJVTW9kZWwoRW5jb2RlckRlY29kZXJNb2RlbCk6CiAgICAiIiJSZXByZXNlbnRzIGEgVW5pdFkgVDJVIG1vZGVsIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIxMi4wODA1NWAuIiIiCgogICAgZW5jb2RlcjogT3B0aW9uYWxbVHJhbnNmb3JtZXJFbmNvZGVyXQogICAgZGVjb2Rlcl9mcm9udGVuZDogVHJhbnNmb3JtZXJGcm9udGVuZAogICAgZGVjb2RlcjogVHJhbnNmb3JtZXJEZWNvZGVyCiAgICBmaW5hbF9wcm9qOiBQcm9qZWN0aW9uCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgZW5jb2RlcjogT3B0aW9uYWxbVHJhbnNmb3JtZXJFbmNvZGVyXSwKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kOiBUcmFuc2Zvcm1lckZyb250ZW5kLAogICAgICAgIGRlY29kZXI6IFRyYW5zZm9ybWVyRGVjb2RlciwKICAgICAgICBmaW5hbF9wcm9qOiBQcm9qZWN0aW9uLAogICAgICAgIHRhcmdldF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbywKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKGRlY29kZXIubW9kZWxfZGltLCB0YXJnZXRfdm9jYWJfaW5mbykKCiAgICAgICAgaWYgZW5jb2RlciBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5lbmNvZGVyID0gZW5jb2RlcgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJlbmNvZGVyIiwgTm9uZSkKCiAgICAgICAgc2VsZi5kZWNvZGVyX2Zyb250ZW5kID0gZGVjb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuZGVjb2RlciA9IGRlY29kZXIKCiAgICAgICAgc2VsZi5maW5hbF9wcm9qID0gZmluYWxfcHJvagoKICAgIGRlZiBlbmNvZGUoCiAgICAgICAgc2VsZiwgc2VxczogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXQogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXV06CiAgICAgICAgaWYgc2VsZi5lbmNvZGVyIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBzZXFzLCBwYWRkaW5nX21hc2sKCiAgICAgICAgcmV0dXJuIHNlbGYuZW5jb2RlcihzZXFzLCBwYWRkaW5nX21hc2spICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQoKICAgIGRlZiBkZWNvZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IFRlbnNvciwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgICosCiAgICAgICAgc3RhdGVfYmFnOiBPcHRpb25hbFtJbmNyZW1lbnRhbFN0YXRlQmFnXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2sgPSBzZWxmLmRlY29kZXJfZnJvbnRlbmQoCiAgICAgICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzaywgc3RhdGVfYmFnPXN0YXRlX2JhZwogICAgICAgICkKCiAgICAgICAgcmV0dXJuIHNlbGYuZGVjb2RlciggICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICBzdGF0ZV9iYWc9c3RhdGVfYmFnLAogICAgICAgICkKCiAgICBkZWYgcHJvamVjdCgKICAgICAgICBzZWxmLCBkZWNvZGVyX291dHB1dDogVGVuc29yLCBkZWNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdCiAgICApIC0+IFNlcXVlbmNlTW9kZWxPdXRwdXQ6CiAgICAgICAgbG9naXRzID0gc2VsZi5maW5hbF9wcm9qKGRlY29kZXJfb3V0cHV0KQoKICAgICAgICByZXR1cm4gU2VxdWVuY2VNb2RlbE91dHB1dChsb2dpdHMsIHNlbGYudGFyZ2V0X3ZvY2FiX2luZm8pCgoKQGZpbmFsCmNsYXNzIFVuaXRZTkFSVDJVTW9kZWwoTW9kdWxlKToKICAgICIiIlJlcHJlc2VudHMgYSBub24tYXV0b3JlZ3Jlc3NpdmUgVW5pdFkgVDJVIG1vZGVsLiIiIgoKICAgIG1vZGVsX2RpbTogaW50CiAgICBlbmNvZGVyOiBPcHRpb25hbFtUcmFuc2Zvcm1lckVuY29kZXJdCiAgICBkZWNvZGVyX2Zyb250ZW5kOiBOQVJEZWNvZGVyRnJvbnRlbmQKICAgIGRlY29kZXI6IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIKICAgIGZpbmFsX3Byb2o6IFByb2plY3Rpb24KICAgIHRhcmdldF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbwogICAgcHJvc29keV9wcm9qOiBPcHRpb25hbFtQcm9qZWN0aW9uXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGVuY29kZXI6IE9wdGlvbmFsW1RyYW5zZm9ybWVyRW5jb2Rlcl0sCiAgICAgICAgZGVjb2Rlcl9mcm9udGVuZDogTkFSRGVjb2RlckZyb250ZW5kLAogICAgICAgIGRlY29kZXI6IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIsCiAgICAgICAgZmluYWxfcHJvajogUHJvamVjdGlvbiwKICAgICAgICB0YXJnZXRfdm9jYWJfaW5mbzogVm9jYWJ1bGFyeUluZm8sCiAgICAgICAgcHJvc29keV9wcm9qOiBPcHRpb25hbFtQcm9qZWN0aW9uXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYubW9kZWxfZGltID0gZGVjb2Rlci5tb2RlbF9kaW0KCiAgICAgICAgaWYgZW5jb2RlciBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgZW5jb2Rlci5tb2RlbF9kaW0gIT0gc2VsZi5tb2RlbF9kaW06CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgIGYiYG1vZGVsX2RpbWAgb2YgYGVuY29kZXJgIGFuZCBgbW9kZWxfZGltYCBvZiBgZGVjb2RlcmAgbXVzdCBiZSBlcXVhbCwgYnV0IGFyZSB7ZW5jb2Rlci5tb2RlbF9kaW19IGFuZCB7c2VsZi5tb2RlbF9kaW19IGluc3RlYWQuIgogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi5lbmNvZGVyID0gZW5jb2RlcgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJlbmNvZGVyIiwgTm9uZSkKCiAgICAgICAgaWYgZGVjb2Rlcl9mcm9udGVuZC5tb2RlbF9kaW0gIT0gc2VsZi5tb2RlbF9kaW06CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICBmImBtb2RlbF9kaW1gIG9mIGBkZWNvZGVyX2Zyb250ZW5kYCBhbmQgYG1vZGVsX2RpbWAgb2YgYGRlY29kZXJgIG11c3QgYmUgZXF1YWwsIGJ1dCBhcmUge2RlY29kZXJfZnJvbnRlbmQubW9kZWxfZGltfSBhbmQge3NlbGYubW9kZWxfZGltfSBpbnN0ZWFkLiIKICAgICAgICAgICAgKQoKICAgICAgICBzZWxmLmRlY29kZXJfZnJvbnRlbmQgPSBkZWNvZGVyX2Zyb250ZW5kCiAgICAgICAgc2VsZi5kZWNvZGVyID0gZGVjb2RlcgoKICAgICAgICBzZWxmLmZpbmFsX3Byb2ogPSBmaW5hbF9wcm9qCgogICAgICAgIHNlbGYudGFyZ2V0X3ZvY2FiX2luZm8gPSB0YXJnZXRfdm9jYWJfaW5mbwoKICAgICAgICBzZWxmLnByb3NvZHlfcHJvaiA9IHByb3NvZHlfcHJvagoKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgdGV4dF9kZWNvZGVyX291dHB1dDogVGVuc29yLAogICAgICAgIHRleHRfZGVjb2Rlcl9wYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICB0ZXh0X3NlcXM6IE9wdGlvbmFsW1RlbnNvcl0sCiAgICAgICAgZHVyYXRpb25fZmFjdG9yOiBmbG9hdCA9IDEuMCwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbU2VxdWVuY2VNb2RlbE91dHB1dCwgT3B0aW9uYWxbUGFkZGluZ01hc2tdLCBUZW5zb3JdOgogICAgICAgIGVuY29kZXJfb3V0cHV0LCBlbmNvZGVyX3BhZGRpbmdfbWFzayA9IHNlbGYuZW5jb2RlKAogICAgICAgICAgICB0ZXh0X2RlY29kZXJfb3V0cHV0LCB0ZXh0X2RlY29kZXJfcGFkZGluZ19tYXNrCiAgICAgICAgKQoKICAgICAgICBpZiBzZWxmLnByb3NvZHlfcHJvaiBpcyBub3QgTm9uZSBhbmQgZmlsbV9jb25kX2VtYiBpcyBub3QgTm9uZToKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQgPSBlbmNvZGVyX291dHB1dCArIHNlbGYucHJvc29keV9wcm9qKGZpbG1fY29uZF9lbWIpCgogICAgICAgIGRlY29kZXJfb3V0cHV0LCBkZWNvZGVyX3BhZGRpbmdfbWFzaywgZHVyYXRpb25zID0gc2VsZi5kZWNvZGUoCiAgICAgICAgICAgIGVuY29kZXJfb3V0cHV0LAogICAgICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgdGV4dF9zZXFzLAogICAgICAgICAgICBkdXJhdGlvbl9mYWN0b3IsCiAgICAgICAgICAgIGZpbG1fY29uZF9lbWIsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gc2VsZi5wcm9qZWN0KGRlY29kZXJfb3V0cHV0KSwgZGVjb2Rlcl9wYWRkaW5nX21hc2ssIGR1cmF0aW9ucwoKICAgIGRlZiBlbmNvZGUoCiAgICAgICAgc2VsZiwKICAgICAgICB0ZXh0X2RlY29kZXJfb3V0cHV0OiBUZW5zb3IsCiAgICAgICAgdGV4dF9kZWNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXV06CiAgICAgICAgaWYgc2VsZi5lbmNvZGVyIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiB0ZXh0X2RlY29kZXJfb3V0cHV0LCB0ZXh0X2RlY29kZXJfcGFkZGluZ19tYXNrCgogICAgICAgIHJldHVybiBzZWxmLmVuY29kZXIodGV4dF9kZWNvZGVyX291dHB1dCwgdGV4dF9kZWNvZGVyX3BhZGRpbmdfbWFzaykgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgogICAgZGVmIGRlY29kZSgKICAgICAgICBzZWxmLAogICAgICAgIGVuY29kZXJfb3V0cHV0OiBUZW5zb3IsCiAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICB0ZXh0X3NlcXM6IE9wdGlvbmFsW1RlbnNvcl0sCiAgICAgICAgZHVyYXRpb25fZmFjdG9yOiBmbG9hdCA9IDEuMCwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbVGVuc29yLCBPcHRpb25hbFtQYWRkaW5nTWFza10sIFRlbnNvcl06CiAgICAgICAgIyBlbmNvZGVyX291dHB1dDogKE4sIFMsIE0pCiAgICAgICAgIyB0ZXh0X3NlcXM6IChOLCBTKQogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzaywgZHVyYXRpb25zID0gc2VsZi5kZWNvZGVyX2Zyb250ZW5kKAogICAgICAgICAgICBlbmNvZGVyX291dHB1dCwKICAgICAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgIHRleHRfc2VxcywKICAgICAgICAgICAgZHVyYXRpb25fZmFjdG9yLAogICAgICAgICAgICBmaWxtX2NvbmRfZW1iLAogICAgICAgICkKCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5kZWNvZGVyKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIGZpbG1fY29uZF9lbWI9ZmlsbV9jb25kX2VtYgogICAgICAgICkKCiAgICAgICAgcmV0dXJuIHNlcXMsIHBhZGRpbmdfbWFzaywgZHVyYXRpb25zICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQoKICAgIGRlZiBwcm9qZWN0KHNlbGYsIGRlY29kZXJfb3V0cHV0OiBUZW5zb3IpIC0+IFNlcXVlbmNlTW9kZWxPdXRwdXQ6CiAgICAgICAgbG9naXRzID0gc2VsZi5maW5hbF9wcm9qKGRlY29kZXJfb3V0cHV0KQoKICAgICAgICByZXR1cm4gU2VxdWVuY2VNb2RlbE91dHB1dChsb2dpdHMsIHNlbGYudGFyZ2V0X3ZvY2FiX2luZm8pCgoKQGRhdGFjbGFzcwpjbGFzcyBVbml0WU91dHB1dDoKICAgICIiIkhvbGRzIHRoZSBvdXRwdXQgb2YgYSBVbml0WSBtb2RlbC4iIiIKCiAgICBzMnRfb3V0cHV0OiBTZXF1ZW5jZU1vZGVsT3V0cHV0CiAgICAiIiJUaGUgUzJUIG91dHB1dCBvZiB0aGUgbXVsdGl0YXNrIG1vZGVsLiIiIgoKICAgIG10X291dHB1dDogU2VxdWVuY2VNb2RlbE91dHB1dAogICAgIiIiVGhlIE1UIG91dHB1dCBvZiB0aGUgbXVsdGl0YXNrIG1vZGVsLiIiIgoKICAgIHQydV9vdXRwdXQ6IFNlcXVlbmNlTW9kZWxPdXRwdXQKICAgICIiIlRoZSBvdXRwdXQgb2YgdGhlIFQyVSBtb2RlbC4iIiIKCiAgICBkZWYgY29tcHV0ZV9sb3NzKAogICAgICAgIHNlbGYsIHRhcmdldHM6IFRlbnNvciwgaWdub3JlX3ByZWZpeF9zaXplOiBpbnQgPSAwLCBsYWJlbF9zbW9vdGhpbmc6IGZsb2F0ID0gMC4wCiAgICApIC0+IE5vbmU6CiAgICAgICAgIyBUT0RPOiBJbXBsZW1lbnQgUi1Ecm9wIGJhc2VkIGxvc3MKICAgICAgICBwYXNzCg=='),
    ('seamless/build/lib/seamless_communication/models/unity/film.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBMaW5lYXIKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IE1vZHVsZSwgUGFyYW1ldGVyCgoKY2xhc3MgRmlMTShNb2R1bGUpOgogICAgIiIiCiAgICBBIEZlYXR1cmUtd2lzZSBMaW5lYXIgTW9kdWxhdGlvbiBMYXllciBmcm9tCiAgICAnRmlMTTogVmlzdWFsIFJlYXNvbmluZyB3aXRoIGEgR2VuZXJhbCBDb25kaXRpb25pbmcgTGF5ZXInCiAgICAiIiIKCiAgICBwcm9qOiBMaW5lYXIKICAgIHNfZ2FtbWE6IFBhcmFtZXRlcgogICAgc19iZXRhOiBQYXJhbWV0ZXIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25kX2RpbTogaW50LAogICAgICAgIGVtYmVkX2RpbTogaW50LAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBzZWxmLnByb2ogPSBMaW5lYXIoCiAgICAgICAgICAgIGNvbmRfZGltLCAyICogZW1iZWRfZGltLCBiaWFzPVRydWUsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgKQoKICAgICAgICBzZWxmLnNfZ2FtbWEgPSBQYXJhbWV0ZXIoCiAgICAgICAgICAgIHRvcmNoLm9uZXMoCiAgICAgICAgICAgICAgICAxLAogICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICApLAogICAgICAgICAgICByZXF1aXJlc19ncmFkPVRydWUsCiAgICAgICAgKQoKICAgICAgICBzZWxmLnNfYmV0YSA9IFBhcmFtZXRlcigKICAgICAgICAgICAgdG9yY2gub25lcygKICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHJlcXVpcmVzX2dyYWQ9VHJ1ZSwKICAgICAgICApCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yLCBjb25kX2VtYnM6IFRlbnNvcikgLT4gVGVuc29yOgogICAgICAgICIiIgogICAgICAgIHggLS0gW0IsIFQsIEhdCiAgICAgICAgY29uZF9lbWIgLS0gW0IsIDEsIENdCiAgICAgICAgIiIiCiAgICAgICAgIyBnZXQgdHJhaW5hYmxlIGdhbW1hLCBiZXRhCiAgICAgICAgZ2FtbWFzLCBiZXRhcyA9IHNlbGYucHJvaihjb25kX2VtYnMpLmNodW5rKDIsIGRpbT0tMSkgICMgQiB4IDEgeCBICgogICAgICAgICMgYXBwbHkgZmlsbQogICAgICAgIGdhbW1hcyA9IHNlbGYuc19nYW1tYSAqIGdhbW1hcy5leHBhbmRfYXMoeCkKICAgICAgICBiZXRhcyA9IHNlbGYuc19iZXRhICogYmV0YXMuZXhwYW5kX2FzKHgpCgogICAgICAgIHJldHVybiAoZ2FtbWFzICsgMS4wKSAqIHggKyBiZXRhcyAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0K'),
    ('seamless/build/lib/seamless_communication/models/unity/t2u_builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gdHlwaW5nIGltcG9ydCBMaXRlcmFsLCBPcHRpb25hbCwgVW5pb24KCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcgpmcm9tIGZhaXJzZXEyLmFzc2V0cy5jYXJkIGltcG9ydCBBc3NldENhcmQKZnJvbSBmYWlyc2VxMi5kYXRhIGltcG9ydCBWb2NhYnVsYXJ5SW5mbwpmcm9tIGZhaXJzZXEyLm1vZGVscy5ubGxiLmxvYWRlciBpbXBvcnQgTmxsYlRva2VuaXplckxvYWRlcgpmcm9tIGZhaXJzZXEyLm1vZGVscy50cmFuc2Zvcm1lciBpbXBvcnQgKAogICAgVHJhbnNmb3JtZXJFbWJlZGRpbmdGcm9udGVuZCwKICAgIFRyYW5zZm9ybWVyRnJvbnRlbmQsCikKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMuYXJjaF9yZWdpc3RyeSBpbXBvcnQgQXJjaGl0ZWN0dXJlUmVnaXN0cnkKZnJvbSBmYWlyc2VxMi5ubi5lbWJlZGRpbmcgaW1wb3J0IEVtYmVkZGluZywgU3RhbmRhcmRFbWJlZGRpbmcsIGluaXRfc2NhbGVkX2VtYmVkZGluZwpmcm9tIGZhaXJzZXEyLm5uLnBvc2l0aW9uX2VuY29kZXIgaW1wb3J0IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBMaW5lYXIsIFByb2plY3Rpb24sIFRpZWRQcm9qZWN0aW9uCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIEZlZWRGb3J3YXJkTmV0d29yaywKICAgIE11bHRpaGVhZEF0dGVudGlvbiwKICAgIFN0YW5kYXJkRmVlZEZvcndhcmROZXR3b3JrLAogICAgU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24sCiAgICBTdGFuZGFyZFRyYW5zZm9ybWVyRGVjb2RlciwKICAgIFN0YW5kYXJkVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIsCiAgICBTdGFuZGFyZFRyYW5zZm9ybWVyRW5jb2RlciwKICAgIFN0YW5kYXJkVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIsCiAgICBUcmFuc2Zvcm1lckRlY29kZXIsCiAgICBUcmFuc2Zvcm1lckRlY29kZXJMYXllciwKICAgIFRyYW5zZm9ybWVyRW5jb2RlciwKICAgIFRyYW5zZm9ybWVyRW5jb2RlckxheWVyLAogICAgVHJhbnNmb3JtZXJOb3JtT3JkZXIsCiAgICBjcmVhdGVfZGVmYXVsdF9zZHBhLAopCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2gubm4gaW1wb3J0IEdFTFUsIFJlTFUKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuY2hhcl90b2tlbml6ZXIgaW1wb3J0IGxvYWRfdW5pdHlfY2hhcl90b2tlbml6ZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5mZnRfZGVjb2RlciBpbXBvcnQgRmVlZEZvcndhcmRUcmFuc2Zvcm1lcgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmZmdF9kZWNvZGVyX2xheWVyIGltcG9ydCAoCiAgICBDb252MWRCbG9jaywKICAgIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXJMYXllciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5Lmxlbmd0aF9yZWd1bGF0b3IgaW1wb3J0ICgKICAgIFZhcmlhbmNlQWRhcHRvciwKICAgIFZhcmlhbmNlUHJlZGljdG9yLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubW9kZWwgaW1wb3J0IFVuaXRZTkFSVDJVTW9kZWwsIFVuaXRZVDJVTW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5uYXJfZGVjb2Rlcl9mcm9udGVuZCBpbXBvcnQgTkFSRGVjb2RlckZyb250ZW5kCgoKQGRhdGFjbGFzcwpjbGFzcyBWYXJpYW5jZVByZWRpY3RvckNvbmZpZzoKICAgIHZhcl9wcmVkX2hpZGRlbl9kaW06IGludAogICAgdmFyX3ByZWRfa2VybmVsX3NpemU6IGludAogICAgdmFyX3ByZWRfZHJvcG91dDogZmxvYXQKICAgIHVzZV9maWxtOiBib29sCiAgICBmaWxtX2NvbmRfZGltOiBpbnQKCgpAZGF0YWNsYXNzCmNsYXNzIE5BUkRlY29kZXJGcm9udGVuZENvbmZpZzoKICAgIHN1YndvcmRfdG9fdW5pdF91cHNhbXBsaW5nX3R5cGU6IExpdGVyYWxbImdhdXNzaWFuIiwgImhhcmQiXQogICAgZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZzogVmFyaWFuY2VQcmVkaWN0b3JDb25maWcKICAgIHBpdGNoX3ByZWRpY3Rvcl9jb25maWc6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yQ29uZmlnXQogICAgZW5lcmd5X3ByZWRpY3Rvcl9jb25maWc6IE9wdGlvbmFsW1ZhcmlhbmNlUHJlZGljdG9yQ29uZmlnXQoKCkBkYXRhY2xhc3MKY2xhc3MgTkFSRGVjb2RlckNvbmZpZzoKICAgIG1vZGVsX25hbWVfb3JfY2FyZDogVW5pb25bc3RyLCBBc3NldENhcmRdCiAgICBjaGFyX3ZvY2FidWxhcnlfc2l6ZTogaW50CiAgICBjaGFyX21heF9zZXFfbGVuOiBpbnQKICAgIGNvbnYxZF9rZXJuZWxfc2l6ZTogaW50CiAgICBjb252MWRfaW5uZXJfZGltOiBpbnQKICAgIGNvbnYxZF9kcm9wb3V0X3A6IGZsb2F0CiAgICB1c2VfZmlsbTogYm9vbAogICAgZmlsbV9jb25kX2RpbTogaW50CgoKQGRhdGFjbGFzcwpjbGFzcyBVbml0WVQyVUNvbmZpZzoKICAgICIiIkhvbGRzIHRoZSBjb25maWd1cmF0aW9uIG9mIGEgVW5pdFkgVDJVIG1vZGVsIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dGBodHRwczovL2RvaS5vcmcvMTAuNDg1NTAvYXJ4aXYuMjIxMi4wODA1NWAiIiIKCiAgICBtb2RlbF9kaW06IGludAogICAgIiIiVGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBtb2RlbC4iIiIKCiAgICB1bml0X21heF9zZXFfbGVuOiBpbnQKICAgICIiIlRoZSBleHBlY3RlZCBtYXhpbXVtIHVuaXQgc2VxdWVuY2UgbGVuZ3RoLiIiIgoKICAgIHRhcmdldF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbwogICAgIiIiVGhlIHRhcmdldCB2b2NhYnVsYXJ5IGluZm9ybWF0aW9uLiIiIgoKICAgIG51bV9lbmNvZGVyX2xheWVyczogaW50CiAgICAiIiJUaGUgbnVtYmVyIG9mIFRyYW5zZm9ybWVyIGVuY29kZXIgbGF5ZXJzLiIiIgoKICAgIG51bV9kZWNvZGVyX2xheWVyczogaW50CiAgICAiIiJUaGUgbnVtYmVyIG9mIFRyYW5zZm9ybWVyIGRlY29kZXIgbGF5ZXJzLiIiIgoKICAgIG5hcl9kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZzogT3B0aW9uYWxbTkFSRGVjb2RlckZyb250ZW5kQ29uZmlnXQogICAgIiIiTm9uLWF1dG9yZWdyZXNzaXZlIGRlY29kZXIgZnJvbnQtZW5kIGNvbmZpZy4iIiIKCiAgICBuYXJfZGVjb2Rlcl9jb25maWc6IE9wdGlvbmFsW05BUkRlY29kZXJDb25maWddCiAgICAiIiJOb24tYXV0b3JlZ3Jlc3NpdmUgZGVjb2RlciBjb25maWcuIiIiCgogICAgbnVtX2VuY29kZXJfYXR0bl9oZWFkczogaW50CiAgICAiIiJUaGUgbnVtYmVyIG9mIGF0dGVudGlvbiBoZWFkcyBpbiBUcmFuc2Zvcm1lciBlbmNvZGVyIGxheWVycy4iIiIKCiAgICBudW1fZGVjb2Rlcl9hdHRuX2hlYWRzOiBpbnQKICAgICIiIlRoZSBudW1iZXIgb2YgYXR0ZW50aW9uIGhlYWRzIGluIFRyYW5zZm9ybWVyIGRlY29kZXIgbGF5ZXJzLiIiIgoKICAgIGZmbl9pbm5lcl9kaW06IGludAogICAgIiIiVGhlIGlubmVyIGRpbWVuc2lvbmFsaXR5IG9mIFRyYW5zZm9ybWVyIGZlZWQtZm9yd2FyZCBuZXR3b3Jrcy4iIiIKCiAgICBkcm9wb3V0X3A6IGZsb2F0CiAgICAiIiJUaGUgZHJvcG91dCBwcm9iYWJpbGl0eSBpbiBUcmFuc2Zvcm1lciBsYXllcnMuIiIiCgogICAgdXNlX2dlbHU6IGJvb2wKICAgICIiIklmIGBgVHJ1ZWBgLCB1c2VzIEdFTFUgYWN0aXZhdGlvbiBmdW5jdGlvbiBpbiBmZWVkLWZvcndhcmQgbmV0d29ya3MuIiIiCgogICAgY2hhcl9wYWRfaWR4OiBpbnQKICAgICIiIlRoZSBpbmRleCBvZiB0aGUgcGFkIHN5bWJvbCBpbiB0aGUgY2hhciB2b2NhYnVsYXJ5LiIiIgoKICAgIHVzZV9wcm9zb2R5X3Byb2o6IGJvb2wKICAgICIiIklmIGBgVHJ1ZWBgLCB1c2VzIGEgcHJvc29keSBwcm9qZWN0aW9uIGxheWVyLiIiIgoKICAgIHByb3NvZHlfZW5jb2Rlcl9kaW06IGludAogICAgIiIiVGhlIGRpbWVuc2lvbmFsaXR5IG9mIHByb3NvZHkgZW5jb2RlciAoZS5nLiBFQ0FQQV9URE5OKSBvdXRwdXQiIiIKCgp1bml0eV90MnVfYXJjaHMgPSBBcmNoaXRlY3R1cmVSZWdpc3RyeVtVbml0WVQyVUNvbmZpZ10oInVuaXR5X3QydSIpCgoKdW5pdHlfdDJ1X2FyY2ggPSB1bml0eV90MnVfYXJjaHMuZGVjb3JhdG9yCgoKQHVuaXR5X3QydV9hcmNoKCJiYXNlIikKZGVmIF9iYXNlX3QydSgpIC0+IFVuaXRZVDJVQ29uZmlnOgogICAgcmV0dXJuIFVuaXRZVDJVQ29uZmlnKAogICAgICAgIG1vZGVsX2RpbT0xMDI0LAogICAgICAgIHVuaXRfbWF4X3NlcV9sZW49MjA0OCwKICAgICAgICB0YXJnZXRfdm9jYWJfaW5mbz1Wb2NhYnVsYXJ5SW5mbygKICAgICAgICAgICAgc2l6ZT0xMDA4MiwgdW5rX2lkeD0zLCBib3NfaWR4PTAsIGVvc19pZHg9MiwgcGFkX2lkeD0xCiAgICAgICAgKSwKICAgICAgICBudW1fZW5jb2Rlcl9sYXllcnM9NiwKICAgICAgICBudW1fZGVjb2Rlcl9sYXllcnM9NiwKICAgICAgICBuYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWc9Tm9uZSwKICAgICAgICBuYXJfZGVjb2Rlcl9jb25maWc9Tm9uZSwKICAgICAgICBudW1fZW5jb2Rlcl9hdHRuX2hlYWRzPTE2LAogICAgICAgIG51bV9kZWNvZGVyX2F0dG5faGVhZHM9MTYsCiAgICAgICAgZmZuX2lubmVyX2RpbT0xMDI0ICogOCwKICAgICAgICBkcm9wb3V0X3A9MC4xLAogICAgICAgIHVzZV9nZWx1PUZhbHNlLAogICAgICAgIGNoYXJfcGFkX2lkeD0xLAogICAgICAgIHVzZV9wcm9zb2R5X3Byb2o9RmFsc2UsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2RpbT0wLAogICAgKQoKCkB1bml0eV90MnVfYXJjaCgibWVkaXVtIikKZGVmIF9tZWRpdW1fdDJ1KCkgLT4gVW5pdFlUMlVDb25maWc6CiAgICByZXR1cm4gVW5pdFlUMlVDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgdW5pdF9tYXhfc2VxX2xlbj0yMDQ4LAogICAgICAgIHRhcmdldF92b2NhYl9pbmZvPVZvY2FidWxhcnlJbmZvKAogICAgICAgICAgICBzaXplPTEwMDgyLCB1bmtfaWR4PTMsIGJvc19pZHg9MCwgZW9zX2lkeD0yLCBwYWRfaWR4PTEKICAgICAgICApLAogICAgICAgIG51bV9lbmNvZGVyX2xheWVycz00LAogICAgICAgIG51bV9kZWNvZGVyX2xheWVycz00LAogICAgICAgIG5hcl9kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZz1Ob25lLAogICAgICAgIG5hcl9kZWNvZGVyX2NvbmZpZz1Ob25lLAogICAgICAgIG51bV9lbmNvZGVyX2F0dG5faGVhZHM9MTYsCiAgICAgICAgbnVtX2RlY29kZXJfYXR0bl9oZWFkcz0xNiwKICAgICAgICBmZm5faW5uZXJfZGltPTEwMjQgKiA4LAogICAgICAgIGRyb3BvdXRfcD0wLjEsCiAgICAgICAgdXNlX2dlbHU9RmFsc2UsCiAgICAgICAgY2hhcl9wYWRfaWR4PTEsCiAgICAgICAgdXNlX3Byb3NvZHlfcHJvaj1GYWxzZSwKICAgICAgICBwcm9zb2R5X2VuY29kZXJfZGltPTAsCiAgICApCgoKQHVuaXR5X3QydV9hcmNoKCJiYXNlX25hciIpCmRlZiBfYmFzZV9uYXIoKSAtPiBVbml0WVQyVUNvbmZpZzoKICAgIGR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWcgPSBWYXJpYW5jZVByZWRpY3RvckNvbmZpZygKICAgICAgICB2YXJfcHJlZF9oaWRkZW5fZGltPTI1NiwKICAgICAgICB2YXJfcHJlZF9rZXJuZWxfc2l6ZT0zLAogICAgICAgIHZhcl9wcmVkX2Ryb3BvdXQ9MC41LAogICAgICAgIHVzZV9maWxtPUZhbHNlLAogICAgICAgIGZpbG1fY29uZF9kaW09MCwKICAgICkKCiAgICBuYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWcgPSBOQVJEZWNvZGVyRnJvbnRlbmRDb25maWcoCiAgICAgICAgc3Vid29yZF90b191bml0X3Vwc2FtcGxpbmdfdHlwZT0iaGFyZCIsCiAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZz1kdXJhdGlvbl9wcmVkaWN0b3JfY29uZmlnLAogICAgICAgIHBpdGNoX3ByZWRpY3Rvcl9jb25maWc9Tm9uZSwKICAgICAgICBlbmVyZ3lfcHJlZGljdG9yX2NvbmZpZz1Ob25lLAogICAgKQoKICAgIG5hcl9kZWNvZGVyX2NvbmZpZyA9IE5BUkRlY29kZXJDb25maWcoCiAgICAgICAgbW9kZWxfbmFtZV9vcl9jYXJkPSJzZWFtbGVzc000VF92Ml9sYXJnZSIsCiAgICAgICAgY2hhcl92b2NhYnVsYXJ5X3NpemU9MTA5NDMsCiAgICAgICAgY2hhcl9tYXhfc2VxX2xlbj00MDk2LAogICAgICAgIGNvbnYxZF9rZXJuZWxfc2l6ZT03LAogICAgICAgIGNvbnYxZF9pbm5lcl9kaW09MTAyNCwKICAgICAgICBjb252MWRfZHJvcG91dF9wPTAuMSwKICAgICAgICB1c2VfZmlsbT1GYWxzZSwKICAgICAgICBmaWxtX2NvbmRfZGltPTAsCiAgICApCgogICAgcmV0dXJuIFVuaXRZVDJVQ29uZmlnKAogICAgICAgIG1vZGVsX2RpbT0xMDI0LAogICAgICAgIHVuaXRfbWF4X3NlcV9sZW49NDA5NiwKICAgICAgICB0YXJnZXRfdm9jYWJfaW5mbz1Wb2NhYnVsYXJ5SW5mbygKICAgICAgICAgICAgc2l6ZT0xMDA4MiwgdW5rX2lkeD0zLCBib3NfaWR4PTAsIGVvc19pZHg9MiwgcGFkX2lkeD0xCiAgICAgICAgKSwKICAgICAgICBudW1fZW5jb2Rlcl9sYXllcnM9NiwKICAgICAgICBudW1fZGVjb2Rlcl9sYXllcnM9NiwKICAgICAgICBuYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWc9bmFyX2RlY29kZXJfZnJvbnRlbmRfY29uZmlnLAogICAgICAgIG5hcl9kZWNvZGVyX2NvbmZpZz1uYXJfZGVjb2Rlcl9jb25maWcsCiAgICAgICAgbnVtX2VuY29kZXJfYXR0bl9oZWFkcz0xNiwKICAgICAgICBudW1fZGVjb2Rlcl9hdHRuX2hlYWRzPTE2LAogICAgICAgIGZmbl9pbm5lcl9kaW09MTAyNCAqIDgsCiAgICAgICAgZHJvcG91dF9wPTAuMCwKICAgICAgICB1c2VfZ2VsdT1GYWxzZSwKICAgICAgICBjaGFyX3BhZF9pZHg9MSwKICAgICAgICB1c2VfcHJvc29keV9wcm9qPUZhbHNlLAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9kaW09MCwKICAgICkKCgpAdW5pdHlfdDJ1X2FyY2goImV4cHJlc3Npdml0eV9uYXIiKQpkZWYgX2V4cHJlc3Npdml0eV9uYXIoKSAtPiBVbml0WVQyVUNvbmZpZzoKICAgIGR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWcgPSBWYXJpYW5jZVByZWRpY3RvckNvbmZpZygKICAgICAgICB2YXJfcHJlZF9oaWRkZW5fZGltPTI1NiwKICAgICAgICB2YXJfcHJlZF9rZXJuZWxfc2l6ZT0zLAogICAgICAgIHZhcl9wcmVkX2Ryb3BvdXQ9MC41LAogICAgICAgIHVzZV9maWxtPVRydWUsCiAgICAgICAgZmlsbV9jb25kX2RpbT01MTIsCiAgICApCgogICAgbmFyX2RlY29kZXJfZnJvbnRlbmRfY29uZmlnID0gTkFSRGVjb2RlckZyb250ZW5kQ29uZmlnKAogICAgICAgIHN1YndvcmRfdG9fdW5pdF91cHNhbXBsaW5nX3R5cGU9ImhhcmQiLAogICAgICAgIGR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWc9ZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZywKICAgICAgICBwaXRjaF9wcmVkaWN0b3JfY29uZmlnPU5vbmUsCiAgICAgICAgZW5lcmd5X3ByZWRpY3Rvcl9jb25maWc9Tm9uZSwKICAgICkKCiAgICBuYXJfZGVjb2Rlcl9jb25maWcgPSBOQVJEZWNvZGVyQ29uZmlnKAogICAgICAgIG1vZGVsX25hbWVfb3JfY2FyZD0ic2VhbWxlc3NfZXhwcmVzc2l2aXR5IiwKICAgICAgICBjaGFyX3ZvY2FidWxhcnlfc2l6ZT0xMDkwNCwKICAgICAgICBjaGFyX21heF9zZXFfbGVuPTEwMDAwLAogICAgICAgIGNvbnYxZF9rZXJuZWxfc2l6ZT03LAogICAgICAgIGNvbnYxZF9pbm5lcl9kaW09MTAyNCwKICAgICAgICBjb252MWRfZHJvcG91dF9wPTAuMSwKICAgICAgICB1c2VfZmlsbT1UcnVlLAogICAgICAgIGZpbG1fY29uZF9kaW09NTEyLAogICAgKQoKICAgIHJldHVybiBVbml0WVQyVUNvbmZpZygKICAgICAgICBtb2RlbF9kaW09MTAyNCwKICAgICAgICB1bml0X21heF9zZXFfbGVuPTEwMDAwLAogICAgICAgIHRhcmdldF92b2NhYl9pbmZvPVZvY2FidWxhcnlJbmZvKAogICAgICAgICAgICBzaXplPTEwMDA1LCB1bmtfaWR4PTMsIGJvc19pZHg9MCwgZW9zX2lkeD0yLCBwYWRfaWR4PTEKICAgICAgICApLAogICAgICAgIG51bV9lbmNvZGVyX2xheWVycz00LAogICAgICAgIG51bV9kZWNvZGVyX2xheWVycz00LAogICAgICAgIG5hcl9kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZz1uYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWcsCiAgICAgICAgbmFyX2RlY29kZXJfY29uZmlnPW5hcl9kZWNvZGVyX2NvbmZpZywKICAgICAgICBudW1fZW5jb2Rlcl9hdHRuX2hlYWRzPTE2LAogICAgICAgIG51bV9kZWNvZGVyX2F0dG5faGVhZHM9MTYsCiAgICAgICAgZmZuX2lubmVyX2RpbT0xMDI0ICogOCwKICAgICAgICBkcm9wb3V0X3A9MC4wLAogICAgICAgIHVzZV9nZWx1PVRydWUsCiAgICAgICAgY2hhcl9wYWRfaWR4PTEsCiAgICAgICAgdXNlX3Byb3NvZHlfcHJvaj1UcnVlLAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9kaW09NTEyLAogICAgKQoKCmNsYXNzIFVuaXRZVDJVQnVpbGRlcjoKICAgICIiIkJ1aWxkcyBtb2R1bGVzIG9mIGFuIGF1dG9yZWdyZXNzaXZlIFVuaXRZIFQyVSBtb2RlbC4KCiAgICBUbyB0d2VhayB0aGUgYXJjaGl0ZWN0dXJlLCB5b3UgY2FuIGRlcml2ZSBmcm9tIHRoaXMgY2xhc3MgYW5kIG92ZXJyaWRlIHRoZQogICAgY29ycmVzcG9uZGluZyBtZXRob2RzLgogICAgIiIiCgogICAgY29uZmlnOiBVbml0WVQyVUNvbmZpZwogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdCiAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY29uZmlnOiBVbml0WVQyVUNvbmZpZywKICAgICAgICAqLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiCiAgICAgICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgICAgIDpwYXJhbSBkZXZpY2U6CiAgICAgICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgICAgIDpwYXJhbSBkdHlwZToKICAgICAgICAgICAgVGhlIGRhdGEgdHlwZSBvZiBtb2R1bGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycy4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmNvbmZpZyA9IGNvbmZpZwoKICAgICAgICBzZWxmLmRldmljZSwgc2VsZi5kdHlwZSA9IGRldmljZSwgZHR5cGUKCiAgICBkZWYgYnVpbGRfbW9kZWwoc2VsZikgLT4gVW5pdFlUMlVNb2RlbDoKICAgICAgICAiIiJCdWlsZCBhbiBhdXRvcmVncmVzc2l2ZSBVbml0WVQyVSBtb2RlbC4iIiIKCiAgICAgICAgZW1iZWRfdW5pdCA9IHNlbGYuYnVpbGRfdW5pdF9lbWJlZGRpbmcoKQoKICAgICAgICBlbmNvZGVyID0gc2VsZi5idWlsZF9lbmNvZGVyKCkKCiAgICAgICAgZGVjb2RlciA9IHNlbGYuYnVpbGRfZGVjb2RlcigpCgogICAgICAgIGZpbmFsX3Byb2ogPSBUaWVkUHJvamVjdGlvbihlbWJlZF91bml0LndlaWdodCwgYmlhcz1Ob25lKQoKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kID0gc2VsZi5idWlsZF9kZWNvZGVyX2Zyb250ZW5kKGVtYmVkX3VuaXQpCgogICAgICAgIHJldHVybiBVbml0WVQyVU1vZGVsKAogICAgICAgICAgICBlbmNvZGVyLAogICAgICAgICAgICBkZWNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICBkZWNvZGVyLAogICAgICAgICAgICBmaW5hbF9wcm9qLAogICAgICAgICAgICBzZWxmLmNvbmZpZy50YXJnZXRfdm9jYWJfaW5mbywKICAgICAgICApCgogICAgZGVmIGJ1aWxkX3VuaXRfZW1iZWRkaW5nKHNlbGYpIC0+IFN0YW5kYXJkRW1iZWRkaW5nOgogICAgICAgICIiIkJ1aWxkIGEgdW5pdCBlbWJlZGRpbmcgdGFibGUuIiIiCgogICAgICAgIHJldHVybiBTdGFuZGFyZEVtYmVkZGluZygKICAgICAgICAgICAgbnVtX2VtYmVkZGluZ3M9c2VsZi5jb25maWcudGFyZ2V0X3ZvY2FiX2luZm8uc2l6ZSwKICAgICAgICAgICAgZW1iZWRkaW5nX2RpbT1zZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHBhZF9pZHg9c2VsZi5jb25maWcudGFyZ2V0X3ZvY2FiX2luZm8ucGFkX2lkeCwKICAgICAgICAgICAgaW5pdF9mbj1pbml0X3NjYWxlZF9lbWJlZGRpbmcsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2VuY29kZXIoc2VsZikgLT4gT3B0aW9uYWxbVHJhbnNmb3JtZXJFbmNvZGVyXToKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGVuY29kZXIuIiIiCgogICAgICAgIG51bV9sYXllcnMgPSBzZWxmLmNvbmZpZy5udW1fZW5jb2Rlcl9sYXllcnMKICAgICAgICBpZiBudW1fbGF5ZXJzID09IDA6CiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgICAgIGxheWVycyA9IFtzZWxmLmJ1aWxkX2VuY29kZXJfbGF5ZXIoKSBmb3IgXyBpbiByYW5nZShudW1fbGF5ZXJzKV0KCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkVHJhbnNmb3JtZXJFbmNvZGVyKAogICAgICAgICAgICBsYXllcnMsCiAgICAgICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9lbmNvZGVyX2xheWVyKHNlbGYpIC0+IFRyYW5zZm9ybWVyRW5jb2RlckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgZW5jb2RlciBsYXllci4iIiIKCiAgICAgICAgc2VsZl9hdHRuID0gc2VsZi5idWlsZF9hdHRlbnRpb24oc2VsZi5jb25maWcubnVtX2VuY29kZXJfYXR0bl9oZWFkcykKCiAgICAgICAgZmZuID0gc2VsZi5idWlsZF9mZm4oKQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRUcmFuc2Zvcm1lckVuY29kZXJMYXllcigKICAgICAgICAgICAgc2VsZl9hdHRuLAogICAgICAgICAgICBmZm4sCiAgICAgICAgICAgIGRyb3BvdXRfcD1zZWxmLmNvbmZpZy5kcm9wb3V0X3AsCiAgICAgICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9kZWNvZGVyX2Zyb250ZW5kKHNlbGYsIGVtYmVkX3VuaXQ6IEVtYmVkZGluZykgLT4gVHJhbnNmb3JtZXJGcm9udGVuZDoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGRlY29kZXIgZnJvbnQtZW5kLiIiIgoKICAgICAgICBwb3NfZW5jb2RlciA9IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcudW5pdF9tYXhfc2VxX2xlbiwKICAgICAgICAgICAgX2xlZ2FjeV9wYWRfaWR4PXNlbGYuY29uZmlnLnRhcmdldF92b2NhYl9pbmZvLnBhZF9pZHgsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICApCiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybWVyRW1iZWRkaW5nRnJvbnRlbmQoCiAgICAgICAgICAgIGVtYmVkX3VuaXQsCiAgICAgICAgICAgIHBvc19lbmNvZGVyLAogICAgICAgICAgICBkcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9kZWNvZGVyKHNlbGYpIC0+IFRyYW5zZm9ybWVyRGVjb2RlcjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGRlY29kZXIuIiIiCgogICAgICAgIG51bV9sYXllcnMgPSBzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9sYXllcnMKCiAgICAgICAgbGF5ZXJzID0gW3NlbGYuYnVpbGRfZGVjb2Rlcl9sYXllcigpIGZvciBfIGluIHJhbmdlKG51bV9sYXllcnMpXQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRUcmFuc2Zvcm1lckRlY29kZXIoCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QUkUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2RlY29kZXJfbGF5ZXIoc2VsZikgLT4gVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXI6CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBkZWNvZGVyIGxheWVyLiIiIgoKICAgICAgICBzZWxmX2F0dG4gPSBzZWxmLmJ1aWxkX2F0dGVudGlvbihzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9hdHRuX2hlYWRzKQoKICAgICAgICBlbmNvZGVyX2RlY29kZXJfYXR0biA9IHNlbGYuYnVpbGRfYXR0ZW50aW9uKHNlbGYuY29uZmlnLm51bV9kZWNvZGVyX2F0dG5faGVhZHMpCgogICAgICAgIGZmbiA9IHNlbGYuYnVpbGRfZmZuKCkKCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIoCiAgICAgICAgICAgIHNlbGZfYXR0biwKICAgICAgICAgICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG4sCiAgICAgICAgICAgIGZmbiwKICAgICAgICAgICAgZHJvcG91dF9wPXNlbGYuY29uZmlnLmRyb3BvdXRfcCwKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QUkUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2F0dGVudGlvbihzZWxmLCBudW1faGVhZHM6IGludCkgLT4gTXVsdGloZWFkQXR0ZW50aW9uOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgbXVsdGktaGVhZCBhdHRlbnRpb24gbGF5ZXIuIiIiCgogICAgICAgIHNkcGEgPSBjcmVhdGVfZGVmYXVsdF9zZHBhKGF0dG5fZHJvcG91dF9wPXNlbGYuY29uZmlnLmRyb3BvdXRfcCkKCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkTXVsdGloZWFkQXR0ZW50aW9uKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIG51bV9oZWFkcywKICAgICAgICAgICAgc2RwYT1zZHBhLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9mZm4oc2VsZikgLT4gRmVlZEZvcndhcmROZXR3b3JrOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgZmVlZC1mb3J3YXJkIG5ldHdvcmsuIiIiCgogICAgICAgIHJldHVybiBTdGFuZGFyZEZlZWRGb3J3YXJkTmV0d29yaygKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5mZm5faW5uZXJfZGltLAogICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKCmNsYXNzIFVuaXRZTkFSVDJVQnVpbGRlcjoKICAgICIiIkJ1aWxkcyBtb2R1bGVzIG9mIGFuIE5BUiBVbml0WSBUMlUgbW9kZWwuCgogICAgVG8gdHdlYWsgdGhlIGFyY2hpdGVjdHVyZSwgeW91IGNhbiBkZXJpdmUgZnJvbSB0aGlzIGNsYXNzIGFuZCBvdmVycmlkZSB0aGUKICAgIGNvcnJlc3BvbmRpbmcgbWV0aG9kcy4KICAgICIiIgoKICAgIGNvbmZpZzogVW5pdFlUMlVDb25maWcKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXQogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvbmZpZzogVW5pdFlUMlVDb25maWcsCiAgICAgICAgKiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgICAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgICAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5jb25maWcgPSBjb25maWcKCiAgICAgICAgc2VsZi5kZXZpY2UsIHNlbGYuZHR5cGUgPSBkZXZpY2UsIGR0eXBlCgogICAgZGVmIGJ1aWxkX21vZGVsKHNlbGYpIC0+IFVuaXRZTkFSVDJVTW9kZWw6CiAgICAgICAgIiIiQnVpbGQgYSBub24tYXV0b3JlZ3Jlc3NpdmUgVW5pdFkgVDJVIG1vZGVsLiIiIgoKICAgICAgICBlbWJlZF91bml0ID0gc2VsZi5idWlsZF91bml0X2VtYmVkZGluZygpCgogICAgICAgIGVuY29kZXIgPSBzZWxmLmJ1aWxkX2VuY29kZXIoKQoKICAgICAgICBkZWNvZGVyID0gc2VsZi5idWlsZF9kZWNvZGVyKCkKCiAgICAgICAgZmluYWxfcHJvaiA9IFRpZWRQcm9qZWN0aW9uKGVtYmVkX3VuaXQud2VpZ2h0LCBiaWFzPU5vbmUpCgogICAgICAgIGRlY29kZXJfZnJvbnRlbmQgPSBzZWxmLmJ1aWxkX2RlY29kZXJfZnJvbnRlbmQoZW1iZWRfdW5pdCkKCiAgICAgICAgcHJvc29keV9wcm9qID0gc2VsZi5idWlsZF9wcm9zb2R5X3Byb2ooKQoKICAgICAgICByZXR1cm4gVW5pdFlOQVJUMlVNb2RlbCgKICAgICAgICAgICAgZW5jb2RlciwKICAgICAgICAgICAgZGVjb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgZGVjb2RlciwKICAgICAgICAgICAgZmluYWxfcHJvaiwKICAgICAgICAgICAgc2VsZi5jb25maWcudGFyZ2V0X3ZvY2FiX2luZm8sCiAgICAgICAgICAgIHByb3NvZHlfcHJvaj1wcm9zb2R5X3Byb2osCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF91bml0X2VtYmVkZGluZyhzZWxmKSAtPiBTdGFuZGFyZEVtYmVkZGluZzoKICAgICAgICAiIiJCdWlsZCBhIHVuaXQgZW1iZWRkaW5nIHRhYmxlLiIiIgoKICAgICAgICByZXR1cm4gU3RhbmRhcmRFbWJlZGRpbmcoCiAgICAgICAgICAgIG51bV9lbWJlZGRpbmdzPXNlbGYuY29uZmlnLnRhcmdldF92b2NhYl9pbmZvLnNpemUsCiAgICAgICAgICAgIGVtYmVkZGluZ19kaW09c2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBwYWRfaWR4PXNlbGYuY29uZmlnLnRhcmdldF92b2NhYl9pbmZvLnBhZF9pZHgsCiAgICAgICAgICAgIGluaXRfZm49aW5pdF9zY2FsZWRfZW1iZWRkaW5nLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9lbmNvZGVyKHNlbGYpIC0+IE9wdGlvbmFsW1RyYW5zZm9ybWVyRW5jb2Rlcl06CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBlbmNvZGVyLiIiIgoKICAgICAgICBudW1fbGF5ZXJzID0gc2VsZi5jb25maWcubnVtX2VuY29kZXJfbGF5ZXJzCiAgICAgICAgaWYgbnVtX2xheWVycyA9PSAwOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICBsYXllcnMgPSBbc2VsZi5idWlsZF9lbmNvZGVyX2xheWVyKCkgZm9yIF8gaW4gcmFuZ2UobnVtX2xheWVycyldCgogICAgICAgIHJldHVybiBTdGFuZGFyZFRyYW5zZm9ybWVyRW5jb2RlcigKICAgICAgICAgICAgbGF5ZXJzLAogICAgICAgICAgICBub3JtX29yZGVyPVRyYW5zZm9ybWVyTm9ybU9yZGVyLlBSRSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfZW5jb2Rlcl9sYXllcihzZWxmKSAtPiBUcmFuc2Zvcm1lckVuY29kZXJMYXllcjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGVuY29kZXIgbGF5ZXIuIiIiCgogICAgICAgIHNlbGZfYXR0biA9IHNlbGYuYnVpbGRfYXR0ZW50aW9uKHNlbGYuY29uZmlnLm51bV9lbmNvZGVyX2F0dG5faGVhZHMpCgogICAgICAgIGZmbiA9IHNlbGYuYnVpbGRfZmZuKCkKCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkVHJhbnNmb3JtZXJFbmNvZGVyTGF5ZXIoCiAgICAgICAgICAgIHNlbGZfYXR0biwKICAgICAgICAgICAgZmZuLAogICAgICAgICAgICBkcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wLAogICAgICAgICAgICBub3JtX29yZGVyPVRyYW5zZm9ybWVyTm9ybU9yZGVyLlBSRSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfdmFyaWFuY2VfYWRhcHRvcigKICAgICAgICBzZWxmLCBuYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWc6IE5BUkRlY29kZXJGcm9udGVuZENvbmZpZwogICAgKSAtPiBWYXJpYW5jZUFkYXB0b3I6CiAgICAgICAgIiIiQnVpbGQgYSB2YXJpYW5jZSBhZGFwdG9yIG1vZHVsZS4iIiIKCiAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZyA9ICgKICAgICAgICAgICAgbmFyX2RlY29kZXJfZnJvbnRlbmRfY29uZmlnLmR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWcKICAgICAgICApCiAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yID0gVmFyaWFuY2VQcmVkaWN0b3IoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9oaWRkZW5fZGltLAogICAgICAgICAgICBkdXJhdGlvbl9wcmVkaWN0b3JfY29uZmlnLnZhcl9wcmVkX2tlcm5lbF9zaXplLAogICAgICAgICAgICBkdXJhdGlvbl9wcmVkaWN0b3JfY29uZmlnLnZhcl9wcmVkX2Ryb3BvdXQsCiAgICAgICAgICAgIHVzZV9maWxtPWR1cmF0aW9uX3ByZWRpY3Rvcl9jb25maWcudXNlX2ZpbG0sCiAgICAgICAgICAgIGZpbG1fY29uZF9kaW09ZHVyYXRpb25fcHJlZGljdG9yX2NvbmZpZy5maWxtX2NvbmRfZGltLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICB2YXJpYW5jZV9hZGFwdG9yID0gVmFyaWFuY2VBZGFwdG9yKAogICAgICAgICAgICBkdXJhdGlvbl9wcmVkaWN0b3IsCiAgICAgICAgICAgIHBpdGNoX3ByZWRpY3Rvcj1Ob25lLAogICAgICAgICAgICBlbmVyZ3lfcHJlZGljdG9yPU5vbmUsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gdmFyaWFuY2VfYWRhcHRvcgoKICAgIGRlZiBidWlsZF9kZWNvZGVyX2Zyb250ZW5kKHNlbGYsIGVtYmVkX3VuaXQ6IEVtYmVkZGluZykgLT4gTkFSRGVjb2RlckZyb250ZW5kOgogICAgICAgICIiIkJ1aWxkIGEgbm9uLWF1dG9yZWdyZXNzaXZlIGRlY29kZXIgZnJvbnQtZW5kLiIiIgoKICAgICAgICBhc3NlcnQgc2VsZi5jb25maWcubmFyX2RlY29kZXJfY29uZmlnIGlzIG5vdCBOb25lCiAgICAgICAgYXNzZXJ0IHNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZyBpcyBub3QgTm9uZQoKICAgICAgICB1bml0X3Bvc19lbmNvZGVyID0gU2ludXNvaWRhbFBvc2l0aW9uRW5jb2RlcigKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy51bml0X21heF9zZXFfbGVuLAogICAgICAgICAgICBfbGVnYWN5X3BhZF9pZHg9c2VsZi5jb25maWcudGFyZ2V0X3ZvY2FiX2luZm8ucGFkX2lkeCwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICkKCiAgICAgICAgY2hhcl90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5uYXJfZGVjb2Rlcl9jb25maWcubW9kZWxfbmFtZV9vcl9jYXJkCiAgICAgICAgKQoKICAgICAgICB2YXJpYW5jZV9hZGFwdG9yID0gc2VsZi5idWlsZF92YXJpYW5jZV9hZGFwdG9yKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5uYXJfZGVjb2Rlcl9mcm9udGVuZF9jb25maWcKICAgICAgICApCgogICAgICAgIG5sbGJfdG9rZW5pemVyID0gTmxsYlRva2VuaXplckxvYWRlcihhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcikoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZy5tb2RlbF9uYW1lX29yX2NhcmQKICAgICAgICApCgogICAgICAgICMgVGhlIGxlZ2FjeSBwYWQgaWR4IHNob3VsZCBiZSB0aGUgc2FtZSBhcyB0aGF0IG9mIHRoZSB1bml0X3Bvc19lbmNvZGVyLAogICAgICAgICMgc2luY2UgaW4gZmFpcnNlcTEgdGhlIHBvcyBlbmNvZGVyIGlzIHNoYXJlZCBiZXR3ZWVuIGJvdGggY2hhciwgdW5pdHMuCiAgICAgICAgY2hhcl9wb3NfZW5jb2RlciA9IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubmFyX2RlY29kZXJfY29uZmlnLmNoYXJfbWF4X3NlcV9sZW4sCiAgICAgICAgICAgIF9sZWdhY3lfcGFkX2lkeD1zZWxmLmNvbmZpZy50YXJnZXRfdm9jYWJfaW5mby5wYWRfaWR4LAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgKQoKICAgICAgICBlbWJlZF9jaGFyID0gU3RhbmRhcmRFbWJlZGRpbmcoCiAgICAgICAgICAgIG51bV9lbWJlZGRpbmdzPXNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZy5jaGFyX3ZvY2FidWxhcnlfc2l6ZSwKICAgICAgICAgICAgZW1iZWRkaW5nX2RpbT1zZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHBhZF9pZHg9c2VsZi5jb25maWcuY2hhcl9wYWRfaWR4LAogICAgICAgICAgICBpbml0X2ZuPWluaXRfc2NhbGVkX2VtYmVkZGluZywKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgcmV0dXJuIE5BUkRlY29kZXJGcm9udGVuZCgKICAgICAgICAgICAgZW1iZWRfdW5pdCwKICAgICAgICAgICAgZW1iZWRfY2hhciwKICAgICAgICAgICAgbmxsYl90b2tlbml6ZXIsCiAgICAgICAgICAgIGNoYXJfdG9rZW5pemVyLAogICAgICAgICAgICB1bml0X3Bvc19lbmNvZGVyLAogICAgICAgICAgICBjaGFyX3Bvc19lbmNvZGVyLAogICAgICAgICAgICB2YXJpYW5jZV9hZGFwdG9yLAogICAgICAgICAgICBkcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9kZWNvZGVyKHNlbGYpIC0+IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXI6CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBkZWNvZGVyLiIiIgoKICAgICAgICBudW1fbGF5ZXJzID0gc2VsZi5jb25maWcubnVtX2RlY29kZXJfbGF5ZXJzCgogICAgICAgIGxheWVycyA9IFtzZWxmLmJ1aWxkX2RlY29kZXJfbGF5ZXIoKSBmb3IgXyBpbiByYW5nZShudW1fbGF5ZXJzKV0KCiAgICAgICAgcmV0dXJuIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIoCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QUkUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2RlY29kZXJfbGF5ZXIoc2VsZikgLT4gRmVlZEZvcndhcmRUcmFuc2Zvcm1lckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgZGVjb2RlciBsYXllci4iIiIKCiAgICAgICAgYXNzZXJ0IHNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZyBpcyBub3QgTm9uZQoKICAgICAgICBzZWxmX2F0dG4gPSBzZWxmLmJ1aWxkX2F0dGVudGlvbihzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9hdHRuX2hlYWRzKQoKICAgICAgICBjb252MWQgPSBDb252MWRCbG9jaygKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5uYXJfZGVjb2Rlcl9jb25maWcuY29udjFkX2lubmVyX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubmFyX2RlY29kZXJfY29uZmlnLmNvbnYxZF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgYmlhcz1UcnVlLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gRmVlZEZvcndhcmRUcmFuc2Zvcm1lckxheWVyKAogICAgICAgICAgICBzZWxmX2F0dG4sCiAgICAgICAgICAgIGNvbnYxZCwKICAgICAgICAgICAgZHJvcG91dF9wPXNlbGYuY29uZmlnLmRyb3BvdXRfcCwKICAgICAgICAgICAgY29udjFkX2Ryb3BvdXRfcD1zZWxmLmNvbmZpZy5uYXJfZGVjb2Rlcl9jb25maWcuY29udjFkX2Ryb3BvdXRfcCwKICAgICAgICAgICAgdXNlX2ZpbG09c2VsZi5jb25maWcubmFyX2RlY29kZXJfY29uZmlnLnVzZV9maWxtLAogICAgICAgICAgICBmaWxtX2NvbmRfZGltPXNlbGYuY29uZmlnLm5hcl9kZWNvZGVyX2NvbmZpZy5maWxtX2NvbmRfZGltLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9hdHRlbnRpb24oc2VsZiwgbnVtX2hlYWRzOiBpbnQpIC0+IE11bHRpaGVhZEF0dGVudGlvbjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIG11bHRpLWhlYWQgYXR0ZW50aW9uIGxheWVyLiIiIgoKICAgICAgICBzZHBhID0gY3JlYXRlX2RlZmF1bHRfc2RwYShhdHRuX2Ryb3BvdXRfcD1zZWxmLmNvbmZpZy5kcm9wb3V0X3ApCgogICAgICAgIHJldHVybiBTdGFuZGFyZE11bHRpaGVhZEF0dGVudGlvbigKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBudW1faGVhZHMsCiAgICAgICAgICAgIHNkcGE9c2RwYSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfZmZuKHNlbGYpIC0+IEZlZWRGb3J3YXJkTmV0d29yazoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGZlZWQtZm9yd2FyZCBuZXR3b3JrLiIiIgoKICAgICAgICByZXR1cm4gU3RhbmRhcmRGZWVkRm9yd2FyZE5ldHdvcmsoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcuZmZuX2lubmVyX2RpbSwKICAgICAgICAgICAgYmlhcz1UcnVlLAogICAgICAgICAgICBpbm5lcl9hY3RpdmF0aW9uPUdFTFUoKSBpZiBzZWxmLmNvbmZpZy51c2VfZ2VsdSBlbHNlIFJlTFUoKSwKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QUkUsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX3Byb3NvZHlfcHJvaihzZWxmKSAtPiBPcHRpb25hbFtQcm9qZWN0aW9uXToKICAgICAgICAiIiJCdWlsZCBhIHByb3NvZHkgcHJvamVjdGlvbiBsYXllciBpZiBuZWVkZWQiIiIKCiAgICAgICAgaWYgc2VsZi5jb25maWcudXNlX3Byb3NvZHlfcHJvajoKICAgICAgICAgICAgcmV0dXJuIExpbmVhcigKICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9kaW0sCiAgICAgICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCgpkZWYgY3JlYXRlX3VuaXR5X3QydV9tb2RlbCgKICAgIGNvbmZpZzogVW5pdFlUMlVDb25maWcsCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCikgLT4gVW5pb25bVW5pdFlUMlVNb2RlbCwgVW5pdFlOQVJUMlVNb2RlbF06CiAgICAiIiJDcmVhdGUgYSBVbml0WSBUMlUgbW9kZWwuCgogICAgOnBhcmFtIGNvbmZpZzoKICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgOnBhcmFtIGR0eXBlOgogICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAiIiIKICAgIGlmIGNvbmZpZy5uYXJfZGVjb2Rlcl9jb25maWcgaXMgTm9uZToKICAgICAgICByZXR1cm4gVW5pdFlUMlVCdWlsZGVyKGNvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpLmJ1aWxkX21vZGVsKCkKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIFVuaXRZTkFSVDJVQnVpbGRlcihjb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKS5idWlsZF9tb2RlbCgpCg=='),
    ('seamless/build/lib/seamless_communication/models/unity/fft_decoder_layer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbCwgVHVwbGUsIGZpbmFsCgpmcm9tIGZhaXJzZXEyLm5uLm5vcm1hbGl6YXRpb24gaW1wb3J0IExheWVyTm9ybQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrLCBhcHBseV9wYWRkaW5nX21hc2sKZnJvbSBmYWlyc2VxMi5ubi50cmFuc2Zvcm1lciBpbXBvcnQgTXVsdGloZWFkQXR0ZW50aW9uLCBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZSwgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgQ29udjFkLCBEcm9wb3V0LCBNb2R1bGUsIFJlTFUKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuZmlsbSBpbXBvcnQgRmlMTQoKCkBmaW5hbApjbGFzcyBDb252MWRCbG9jayhNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyB0aGUgQ29udjFkIGJsb2NrIHdpdGhpbiB0aGUgRkZUIEJsb2NrIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dDpgaHR0cHM6Ly9hcnhpdi5vcmcvcGRmLzE5MDUuMDkyNjMucGRmYC4iIiIKCiAgICBjb252MTogQ29udjFkCiAgICBhY3RpdmF0aW9uOiBSZUxVCiAgICBjb252MjogQ29udjFkCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbW9kZWxfZGltOiBpbnQsCiAgICAgICAgaW5uZXJfZGltOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBiaWFzOiBib29sID0gVHJ1ZSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBtb2RlbF9kaW06CiAgICAgICAgICAgIFRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgbW9kZWwuCiAgICAgICAgOnBhcmFtIGlubmVyX2RpbToKICAgICAgICAgICAgVGhlIGlubmVyIGRpbWVuc2lvbmFsaXR5IGJldHdlZW4gdGhlIHR3byBjb252b2x1dGlvbmFsIGxheWVycy4KICAgICAgICA6cGFyYW0ga2VybmVsX3NpemU6CiAgICAgICAgICAgIFRoZSBrZXJuZWwgc2l6ZSBvZiB0aGUgQ29udjFkIGxheWVycy4KICAgICAgICA6cGFyYW0gYmlhczoKICAgICAgICAgICAgSWYgYGBUcnVlYGAsIGJvdGggdGhlIGlubmVyIGFuZCBvdXRwdXQgcHJvamVjdGlvbnMgbGVhcm4gYW4gYWRkaXRpdmUKICAgICAgICAgICAgYmlhcy4KICAgICAgICAiIiIKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5jb252MSA9IENvbnYxZCgKICAgICAgICAgICAgbW9kZWxfZGltLAogICAgICAgICAgICBpbm5lcl9kaW0sCiAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICBzdHJpZGU9MSwKICAgICAgICAgICAgcGFkZGluZz0ic2FtZSIsCiAgICAgICAgICAgIGJpYXM9YmlhcywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBzZWxmLmFjdGl2YXRpb24gPSBSZUxVKCkKCiAgICAgICAgc2VsZi5jb252MiA9IENvbnYxZCgKICAgICAgICAgICAgaW5uZXJfZGltLAogICAgICAgICAgICBtb2RlbF9kaW0sCiAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICBzdHJpZGU9MSwKICAgICAgICAgICAgcGFkZGluZz0ic2FtZSIsCiAgICAgICAgICAgIGJpYXM9YmlhcywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgZm9yd2FyZChzZWxmLCBzZXFzOiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdKSAtPiBUZW5zb3I6CiAgICAgICAgIyBFbnN1cmUgdGhhdCB3ZSBkbyBub3QgbGVhayBwYWRkZWQgcG9zaXRpb25zIGluIHRoZSBjb252b2x1dGlvbiBsYXllci4KICAgICAgICBzZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgIyAoTiwgUywgTSkgLT4gKE4sIE0sIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgICMgKE4sIE0sIFMpIC0+IChOLCBpbm5lcl9kaW0sIFMpCiAgICAgICAgc2VxcyA9IHNlbGYuY29udjEoc2VxcykKCiAgICAgICAgIyAoTiwgaW5uZXJfZGltLCBTKSAtPiAoTiwgUywgaW5uZXJfZGltKQogICAgICAgIHNlcXMgPSBzZXFzLnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICBzZXFzID0gYXBwbHlfcGFkZGluZ19tYXNrKHNlcXMsIHBhZGRpbmdfbWFzaykKCiAgICAgICAgc2VxcyA9IHNlbGYuYWN0aXZhdGlvbihzZXFzKQoKICAgICAgICAjIChOLCBTLCBpbm5lcl9kaW0pIC0+IChOLCBpbm5lcl9kaW0sIFMpCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgICMgKE4sIGlubmVyX2RpbSwgUykgLT4gKE4sIE0sIFMpCiAgICAgICAgc2VxcyA9IHNlbGYuY29udjIoc2VxcykKCiAgICAgICAgIyAoTiwgTSwgUykgLT4gKE4sIFMsIE0pCiAgICAgICAgc2VxcyA9IHNlcXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHJldHVybiBzZXFzCgoKQGZpbmFsCmNsYXNzIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXJMYXllcihNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyB0aGUgRkZUIEJsb2NrIGFzIGRlc2NyaWJlZCBpbgogICAgOmNpdGU6dDpgaHR0cHM6Ly9hcnhpdi5vcmcvcGRmLzE5MDUuMDkyNjMucGRmYC4iIiIKCiAgICBtb2RlbF9kaW06IGludAogICAgc2VsZl9hdHRuOiBNdWx0aWhlYWRBdHRlbnRpb24KICAgIHNlbGZfYXR0bl9kcm9wb3V0OiBPcHRpb25hbFtEcm9wb3V0XQogICAgc2VsZl9hdHRuX2xheWVyX25vcm06IExheWVyTm9ybQogICAgY29udjFkOiBDb252MWRCbG9jawogICAgY29udjFkX2Ryb3BvdXQ6IE9wdGlvbmFsW0Ryb3BvdXRdCiAgICBjb252MWRfbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCiAgICBmaWxtOiBPcHRpb25hbFtGaUxNXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHNlbGZfYXR0bjogTXVsdGloZWFkQXR0ZW50aW9uLAogICAgICAgIGNvbnYxZDogQ29udjFkQmxvY2ssCiAgICAgICAgZHJvcG91dF9wOiBmbG9hdCA9IDAuMSwKICAgICAgICBjb252MWRfZHJvcG91dF9wOiBmbG9hdCA9IDAuMSwKICAgICAgICB1c2VfZmlsbTogYm9vbCA9IEZhbHNlLAogICAgICAgIGZpbG1fY29uZF9kaW06IGludCA9IDUxMiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBzZWxmX2F0dG46CiAgICAgICAgICAgIFRoZSBzZWxmIGF0dGVudGlvbiBsYXllci4KICAgICAgICA6cGFyYW0gY29udjFkOgogICAgICAgICAgICBUaGUgY29udjFkIGJsb2NrLgogICAgICAgIDpwYXJhbSBkcm9wb3V0X3A6CiAgICAgICAgICAgIFRoZSBkcm9wb3V0IHByb2JhYmlsaXR5IG9uIHRoZSBvdXRwdXRzIG9mIHRoZSBzZWxmIGF0dGVudGlvbiBsYXllci4KICAgICAgICA6cGFyYW0gY29udjFkX2Ryb3BvdXRfcDoKICAgICAgICAgICAgVGhlIGRyb3BvdXQgcHJvYmFiaWxpdHkgb24gdGhlIG91dHB1dHMgb2YgdGhlIGNvbnYxZCBibG9jay4KICAgICAgICA6cGFyYW0gdXNlX2ZpbG06CiAgICAgICAgICAgIFdoZXRoZXIgdG8gY29uZGl0aW9uIG9uIGEgZml4ZWQtc2l6ZSB2ZWN0b3IgdGhyb3VnaCBGaUxNLgogICAgICAgIDpwYXJhbSBmaWxtX2NvbmRfZGltOgogICAgICAgICAgICBUaGUgZGltIG9mIGZpeGVkLXNpemUgdmVjdG9yIGNvbmRpdGlvbmVkIG9uIGR1cmluZyBtb2RlbCBmb3J3YXJkLgogICAgICAgICIiIgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBzZWxmLm1vZGVsX2RpbSA9IHNlbGZfYXR0bi5tb2RlbF9kaW0KCiAgICAgICAgc2VsZi5zZWxmX2F0dG4gPSBzZWxmX2F0dG4KCiAgICAgICAgaWYgZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLnNlbGZfYXR0bl9kcm9wb3V0ID0gRHJvcG91dChkcm9wb3V0X3ApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoInNlbGZfYXR0bl9kcm9wb3V0IiwgTm9uZSkKCiAgICAgICAgbGF5ZXJfbm9ybV9mYWN0b3J5ID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0KCiAgICAgICAgc2VsZi5zZWxmX2F0dG5fbGF5ZXJfbm9ybSA9IGxheWVyX25vcm1fZmFjdG9yeSgKICAgICAgICAgICAgc2VsZi5tb2RlbF9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgKQoKICAgICAgICBzZWxmLmNvbnYxZCA9IGNvbnYxZAoKICAgICAgICBpZiBjb252MWRfZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLmNvbnYxZF9kcm9wb3V0ID0gRHJvcG91dChjb252MWRfZHJvcG91dF9wKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJjb252MWRfZHJvcG91dCIsIE5vbmUpCgogICAgICAgIHNlbGYuY29udjFkX2xheWVyX25vcm0gPSBsYXllcl9ub3JtX2ZhY3RvcnkoCiAgICAgICAgICAgIHNlbGYubW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgaWYgdXNlX2ZpbG06CiAgICAgICAgICAgIHNlbGYuZmlsbSA9IEZpTE0oZmlsbV9jb25kX2RpbSwgc2VsZi5tb2RlbF9kaW0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucmVnaXN0ZXJfbW9kdWxlKCJmaWxtIiwgTm9uZSkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZmlsbV9jb25kX2VtYjogT3B0aW9uYWxbVGVuc29yXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdXToKICAgICAgICBzZXFzID0gc2VsZi5fZm9yd2FyZF9zZWxmX2F0dG4oc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBzZXFzID0gc2VsZi5fZm9yd2FyZF9jb252MWQoc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBpZiBzZWxmLmZpbG0gaXMgbm90IE5vbmUgYW5kIGZpbG1fY29uZF9lbWIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLmZpbG0oc2VxcywgZmlsbV9jb25kX2VtYikKICAgICAgICAgICAgc2VxcyA9IGFwcGx5X3BhZGRpbmdfbWFzayhzZXFzLCBwYWRkaW5nX21hc2spCgogICAgICAgIHJldHVybiBzZXFzLCBwYWRkaW5nX21hc2sKCiAgICBkZWYgX2ZvcndhcmRfc2VsZl9hdHRuKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgcmVzaWR1YWwgPSBzZXFzCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bigKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBrZXlzPXNlcXMsCiAgICAgICAgICAgIGtleV9wYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrLAogICAgICAgICAgICB2YWx1ZXM9c2VxcywKICAgICAgICApCgogICAgICAgIGlmIHNlbGYuc2VsZl9hdHRuX2Ryb3BvdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bl9kcm9wb3V0KHNlcXMpCgogICAgICAgIHNlcXMgPSBzZXFzICsgcmVzaWR1YWwKCiAgICAgICAgc2VxcyA9IHNlbGYuc2VsZl9hdHRuX2xheWVyX25vcm0oc2VxcykKCiAgICAgICAgcmV0dXJuIHNlcXMKCiAgICBkZWYgX2ZvcndhcmRfY29udjFkKAogICAgICAgIHNlbGYsIHNlcXM6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10KICAgICkgLT4gVGVuc29yOgogICAgICAgIHJlc2lkdWFsID0gc2VxcwoKICAgICAgICBzZXFzID0gc2VsZi5jb252MWQoc2VxcywgcGFkZGluZ19tYXNrKQoKICAgICAgICBpZiBzZWxmLmNvbnYxZF9kcm9wb3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZXFzID0gc2VsZi5jb252MWRfZHJvcG91dChzZXFzKQoKICAgICAgICBzZXFzID0gc2VxcyArIHJlc2lkdWFsCgogICAgICAgIHNlcXMgPSBzZWxmLmNvbnYxZF9sYXllcl9ub3JtKHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzCg=='),
    ('seamless/build/lib/seamless_communication/models/monotonic_decoder/p_choose.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIGZpbmFsCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBMaW5lYXIKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UsIGZpbmFsb3ZlcnJpZGUKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IEF2Z1Bvb2wxZCwgTW9kdWxlLCBNb2R1bGVMaXN0LCBSZUxVCmZyb20gdG9yY2gubm4ucGFyYW1ldGVyIGltcG9ydCBQYXJhbWV0ZXIKCgpjbGFzcyBFbmVyZ3lQcm9qZWN0aW9uKE1vZHVsZSk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBtb2RlbF9kaW06IGludCwKICAgICAgICBudW1fbGF5ZXJzOiBpbnQsCiAgICAgICAgYmlhczogYm9vbCA9IFRydWUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgaWYgbnVtX2xheWVycyA8IDE6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICBmIkludmFsaWQgYG51bV9sYXllcnNgOiB7bnVtX2xheWVyc30gZm9yIEVuZXJneVByb2plY3Rpb25MYXllci4iCiAgICAgICAgICAgICkKCiAgICAgICAgc2VsZi5sYXllcnMgPSBNb2R1bGVMaXN0KCkKCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UobnVtX2xheWVycyk6CiAgICAgICAgICAgIHNlbGYubGF5ZXJzLmFwcGVuZCgKICAgICAgICAgICAgICAgIExpbmVhcihtb2RlbF9kaW0sIG1vZGVsX2RpbSwgYmlhcywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICAgICAgICAgICkKICAgICAgICAgICAgc2VsZi5sYXllcnMuYXBwZW5kKFJlTFUoKSkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCBzZXFzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICBmb3IgbGF5ZXIgaW4gc2VsZi5sYXllcnM6CiAgICAgICAgICAgIHNlcXMgPSBsYXllcihzZXFzKQogICAgICAgIHJldHVybiBzZXFzCgoKQGZpbmFsCmNsYXNzIFBDaG9vc2VMYXllcihNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50cyBhIFBDaG9vc2UgbGF5ZXIuIiIiCgogICAgbW9kZWxfZGltOiBpbnQKICAgIG51bV9oZWFkczogaW50CiAgICBlbmVyZ3lfYmlhczogUGFyYW1ldGVyCiAgICBtb25vdG9uaWNfdGVtcGVyYXR1cmU6IGZsb2F0CiAgICBxX2VuZXJneV9wcm9qOiBFbmVyZ3lQcm9qZWN0aW9uCiAgICBrX2VuZXJneV9wcm9qOiBFbmVyZ3lQcm9qZWN0aW9uCiAgICBrZXlzX3Bvb2xpbmc6IEF2Z1Bvb2wxZAoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG1vZGVsX2RpbTogaW50LAogICAgICAgIG51bV9oZWFkczogaW50LAogICAgICAgIGVuZXJneV9iaWFzX3ZhbHVlOiBmbG9hdCwKICAgICAgICBtb25vdG9uaWNfdGVtcGVyYXR1cmU6IGZsb2F0LAogICAgICAgIG51bV9tb25vdG9uaWNfZW5lcmd5X2xheWVyczogaW50LAogICAgICAgIHByZV9kZWNpc2lvbl9yYXRpbzogaW50LAogICAgICAgICosCiAgICAgICAgYmlhczogYm9vbCA9IFRydWUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbW9kZWxfZGltOgogICAgICAgICAgICBUaGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIG1vZGVsLgogICAgICAgIDpwYXJhbSBudW1faGVhZHM6CiAgICAgICAgICAgIFRoZSBudW1iZXIgb2YgYXR0ZW50aW9uIGhlYWRzLgogICAgICAgIDpwYXJhbSBiaWFzOgogICAgICAgICAgICBJZiBgYFRydWVgYCwgcXVlcnksIGtleSBlbmVyZ3kgcHJvamVjdGlvbiBsYXllcnMgbGVhcm4gYW4KICAgICAgICAgICAgYWRkaXRpdmUgYmlhcy4KICAgICAgICAiIiIKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5tb2RlbF9kaW0gPSBtb2RlbF9kaW0KICAgICAgICBzZWxmLm51bV9oZWFkcyA9IG51bV9oZWFkcwoKICAgICAgICBpZiBlbmVyZ3lfYmlhc192YWx1ZSAhPSAwLjA6CiAgICAgICAgICAgIHNlbGYuZW5lcmd5X2JpYXMgPSBQYXJhbWV0ZXIoCiAgICAgICAgICAgICAgICB0b3JjaC5mdWxsKFsxXSwgZW5lcmd5X2JpYXNfdmFsdWUsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoImVuZXJneV9iaWFzIiwgTm9uZSkKCiAgICAgICAgc2VsZi5tb25vdG9uaWNfdGVtcGVyYXR1cmUgPSBtb25vdG9uaWNfdGVtcGVyYXR1cmUKCiAgICAgICAgaWYgbnVtX21vbm90b25pY19lbmVyZ3lfbGF5ZXJzIDw9IDA6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIk51bWJlciBvZiBtb25vdG9uaWMgZW5lcmd5IGxheWVycyBtdXN0IGJlID4gMC4iKQoKICAgICAgICBzZWxmLnFfZW5lcmd5X3Byb2ogPSBFbmVyZ3lQcm9qZWN0aW9uKAogICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX21vbm90b25pY19lbmVyZ3lfbGF5ZXJzLAogICAgICAgICAgICBiaWFzLAogICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICApCiAgICAgICAgc2VsZi5rX2VuZXJneV9wcm9qID0gRW5lcmd5UHJvamVjdGlvbigKICAgICAgICAgICAgc2VsZi5tb2RlbF9kaW0sCiAgICAgICAgICAgIG51bV9tb25vdG9uaWNfZW5lcmd5X2xheWVycywKICAgICAgICAgICAgYmlhcywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBzZWxmLmtleXNfcG9vbGluZyA9IEF2Z1Bvb2wxZCgKICAgICAgICAgICAga2VybmVsX3NpemU9cHJlX2RlY2lzaW9uX3JhdGlvLAogICAgICAgICAgICBzdHJpZGU9cHJlX2RlY2lzaW9uX3JhdGlvLAogICAgICAgICAgICBjZWlsX21vZGU9VHJ1ZSwKICAgICAgICApCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHNlcXM6IFRlbnNvciwga2V5czogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgcSA9IHNlbGYucV9lbmVyZ3lfcHJvaihzZXFzKQoKICAgICAgICAjIChOLCBTLCBNKSAtPiAoTiwgSCwgUywgSykKICAgICAgICBxID0gcS51bmZsYXR0ZW4oLTEsIChzZWxmLm51bV9oZWFkcywgLTEpKS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyAoTiwgU19rdiwgTSkgLT4gKE4sIE0sIFNfa3YpIC0+IChOLCBNLCBTX3ApCiAgICAgICAgcG9vbGVkX2tleXMgPSBzZWxmLmtleXNfcG9vbGluZyhrZXlzLnRyYW5zcG9zZSgxLCAyKSkKCiAgICAgICAgIyAoTiwgTSwgU19wKSAtPiAoTiwgU19wLCBNKQogICAgICAgIHBvb2xlZF9rZXlzID0gcG9vbGVkX2tleXMudHJhbnNwb3NlKDEsIDIpCgogICAgICAgIGsgPSBzZWxmLmtfZW5lcmd5X3Byb2oocG9vbGVkX2tleXMpCgogICAgICAgICMgKE4sIFNfcCwgTSkgLT4gKE4sIEgsIFNfcCwgSykKICAgICAgICBrID0gay51bmZsYXR0ZW4oLTEsIChzZWxmLm51bV9oZWFkcywgLTEpKS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyAoTiwgSCwgUywgSykgQCAoTiwgSCwgSywgU19wKSA9IChOLCBILCBTLCBTX3ApCiAgICAgICAgbW9ub3RvbmljX2VuZXJneSA9IHRvcmNoLm1hdG11bChxLCBrLnRyYW5zcG9zZSgtMSwgLTIpKQoKICAgICAgICBtb25vdG9uaWNfZW5lcmd5ID0gbW9ub3RvbmljX2VuZXJneSAqIChxLnNpemUoLTEpICoqIC0wLjUpCgogICAgICAgIGlmIHNlbGYuZW5lcmd5X2JpYXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1vbm90b25pY19lbmVyZ3kgKz0gc2VsZi5lbmVyZ3lfYmlhcwoKICAgICAgICAjIHBfY2hvb3NlOiAoTiwgSCwgUywgU19wKQogICAgICAgIHBfY2hvb3NlID0gdG9yY2guc2lnbW9pZChtb25vdG9uaWNfZW5lcmd5IC8gc2VsZi5tb25vdG9uaWNfdGVtcGVyYXR1cmUpCgogICAgICAgIHJldHVybiBwX2Nob29zZQo='),
    ('seamless/build/lib/seamless_communication/models/monotonic_decoder/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMubW9ub3RvbmljX2RlY29kZXIuYnVpbGRlciBpbXBvcnQgKAogICAgTW9ub3RvbmljRGVjb2RlckJ1aWxkZXIgYXMgTW9ub3RvbmljRGVjb2RlckJ1aWxkZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5idWlsZGVyIGltcG9ydCAoCiAgICBNb25vdG9uaWNEZWNvZGVyQ29uZmlnIGFzIE1vbm90b25pY0RlY29kZXJDb25maWcsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5tb2RlbCBpbXBvcnQgKAogICAgTW9ub3RvbmljRGVjb2Rlck1vZGVsIGFzIE1vbm90b25pY0RlY29kZXJNb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLmJ1aWxkZXIgaW1wb3J0ICgKICAgIGNyZWF0ZV9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCBhcyBjcmVhdGVfbW9ub3RvbmljX2RlY29kZXJfbW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5idWlsZGVyIGltcG9ydCAoCiAgICBtb25vdG9uaWNfZGVjb2Rlcl9hcmNocyBhcyBtb25vdG9uaWNfZGVjb2Rlcl9hcmNocywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLmxvYWRlciBpbXBvcnQgKAogICAgbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9jb25maWcgYXMgbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9jb25maWcsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5sb2FkZXIgaW1wb3J0ICgKICAgIGxvYWRfbW9ub3RvbmljX2RlY29kZXJfbW9kZWwgYXMgbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCwKKQo='),
    ('seamless/build/lib/seamless_communication/models/monotonic_decoder/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBNYXBwaW5nCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzIGltcG9ydCBDb25maWdMb2FkZXIsIE1vZGVsTG9hZGVyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzLmNoZWNrcG9pbnQgaW1wb3J0IGNvbnZlcnRfZmFpcnNlcV9jaGVja3BvaW50Cgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLmJ1aWxkZXIgaW1wb3J0ICgKICAgIE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICBjcmVhdGVfbW9ub3RvbmljX2RlY29kZXJfbW9kZWwsCiAgICBtb25vdG9uaWNfZGVjb2Rlcl9hcmNocywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLm1vZGVsIGltcG9ydCBNb25vdG9uaWNEZWNvZGVyTW9kZWwKCgpkZWYgY29udmVydF9tb25vdG9uaWNfY2hlY2twb2ludCgKICAgIGNoZWNrcG9pbnQ6IE1hcHBpbmdbc3RyLCBBbnldLCBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcKKSAtPiBNYXBwaW5nW3N0ciwgQW55XToKICAgIHN0YXRlX2RpY3QgPSBjaGVja3BvaW50WyJtb2RlbCJdCgogICAgIyBDaGVjayBpZiB3ZSBoYXZlIGEgZmFpcnNlcTIgY2hlY2twb2ludC4KICAgIGlmICJ0ZXh0X2RlY29kZXIubGF5ZXJzLjAuc2VsZl9hdHRuLmtfcHJvai53ZWlnaHQiIGluIHN0YXRlX2RpY3Q6CiAgICAgICAgcmV0dXJuIGNoZWNrcG9pbnQKCiAgICBrZXlfbWFwID0gewogICAgICAgICMgZm10OiBvZmYKICAgICAgICByIl5kZWNvZGVyXC5lbWJlZF90b2tlbnNcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgIHIiXmRlY29kZXJcLmxheWVyc1wuKFswLTldKylcLnNlbGZfYXR0blwub3V0X3Byb2pcLiI6ICAgICAgICAgICAgICAgICAgIHIidGV4dF9kZWNvZGVyLmxheWVycy5cMS5zZWxmX2F0dG4ub3V0cHV0X3Byb2ouIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuX2xheWVyX25vcm1cLiI6ICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuXC5vdXRfcHJvalwuIjogICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuXC5lbmVyZ3lfYmlhcyI6ICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLnBfY2hvb3NlX2xheWVyLmVuZXJneV9iaWFzIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5lbmNvZGVyX2F0dG5cLnNvdXJjZV9lbmVyZ3lfbGF5ZXJcLiI6ICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEucF9jaG9vc2VfbGF5ZXIua19lbmVyZ3lfcHJvai4iLAogICAgICAgIHIiXmRlY29kZXJcLmxheWVyc1wuKFswLTldKylcLmVuY29kZXJfYXR0blwudGFyZ2V0X2VuZXJneV9sYXllclwuIjogICAgIHIidGV4dF9kZWNvZGVyLmxheWVycy5cMS5wX2Nob29zZV9sYXllci5xX2VuZXJneV9wcm9qLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZW5jb2Rlcl9hdHRuX2xheWVyX25vcm1cLiI6ICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0uIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5mYzFcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuZmZuLmlubmVyX3Byb2ouIiwKICAgICAgICByIl5kZWNvZGVyXC5sYXllcnNcLihbMC05XSspXC5mYzJcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInRleHRfZGVjb2Rlci5sYXllcnMuXDEuZmZuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJzLlwxLmZmbl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZGVjb2RlclwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJ0ZXh0X2RlY29kZXIubGF5ZXJfbm9ybS4iLAogICAgICAgIHIiXmRlY29kZXJcLm91dHB1dF9wcm9qZWN0aW9uXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIiZmluYWxfcHJvai4iLAogICAgICAgICMgZm10OiBvbgogICAgfQoKICAgICMgQ29udmVydCB0byBmYWlyc2VxMi4KICAgIGNoZWNrcG9pbnQgPSBjb252ZXJ0X2ZhaXJzZXFfY2hlY2twb2ludChjaGVja3BvaW50LCBrZXlfbWFwKQoKICAgIHN0YXRlX2RpY3QgPSBjaGVja3BvaW50WyJtb2RlbCJdCgogICAgZW1iZWRzID0gc3RhdGVfZGljdFsiZmluYWxfcHJvai53ZWlnaHQiXQoKICAgICMgZmFpcnNlcSBoYWQgYSBidWcgdGhhdCBhY2NpZGVudGFsbHkgaW50cm9kdWNlZCBhIGR1bW15IHRva2VuIGluIHRoZQogICAgIyBlbWJlZGRpbmcgdGFibGUgb2YgTkxMQi0xMDAuIFdlIGp1c3QgZGlzY2FyZCBpdC4KICAgIGlmIGVtYmVkcy5zaXplKDApID09IDI1NjEwMzogICMgbWVhbnMgTkxMQi0xMDAKICAgICAgICBlbWJlZHMgPSBlbWJlZHNbOi0xXQoKICAgICAgICBzdGF0ZV9kaWN0WyJmaW5hbF9wcm9qLndlaWdodCJdID0gZW1iZWRzCgogICAgIyBmYWlyc2VxIGNoZWNrcG9pbnRzIGhhdmUgZHVwbGljYXRlIGVtYmVkZGluZyB3ZWlnaHRzLiBFbnN1cmUgdGhhdCB3ZQogICAgIyB1c2UgYSBzaW5nbGUgZW1iZWRkaW5nIHRhYmxlIGluIGZhaXJzZXEyLgogICAgc3RhdGVfZGljdFsidGV4dF9kZWNvZGVyX2Zyb250ZW5kLmVtYmVkLndlaWdodCJdID0gZW1iZWRzCgogICAgIyBUaGUgZW1iZWRkaW5nIHBvc2l0aW9ucyBvZiB0aGUgY29udHJvbCBzeW1ib2xzIGluIGZhaXJzZXEncyBkaWN0IGRvCiAgICAjIG5vdCBtYXRjaCB0aGUgU2VudGVuY2VQaWVjZSBtb2RlbCBvZiB0aGUgdG9rZW5pemVyLgogICAgd2l0aCB0b3JjaC5pbmZlcmVuY2VfbW9kZSgpOgogICAgICAgICMgKEJPUywgUEFELCBFT1MsIFVOSykgLT4gKFBBRCwgVU5LLCBCT1MsIEVPUykKICAgICAgICBlbWJlZHNbWzAsIDEsIDIsIDNdXSA9IGVtYmVkc1tbMSwgMywgMCwgMl1dCgogICAgcmV0dXJuIGNoZWNrcG9pbnQKCgpsb2FkX21vbm90b25pY19kZWNvZGVyX2NvbmZpZyA9IENvbmZpZ0xvYWRlcltNb25vdG9uaWNEZWNvZGVyQ29uZmlnXSgKICAgIGFzc2V0X3N0b3JlLCBtb25vdG9uaWNfZGVjb2Rlcl9hcmNocwopCgoKbG9hZF9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCA9IE1vZGVsTG9hZGVyWwogICAgTW9ub3RvbmljRGVjb2Rlck1vZGVsLCBNb25vdG9uaWNEZWNvZGVyQ29uZmlnCl0oCiAgICBhc3NldF9zdG9yZSwKICAgIGRvd25sb2FkX21hbmFnZXIsCiAgICBsb2FkX21vbm90b25pY19kZWNvZGVyX2NvbmZpZywKICAgIGNyZWF0ZV9tb25vdG9uaWNfZGVjb2Rlcl9tb2RlbCwKICAgIGNvbnZlcnRfbW9ub3RvbmljX2NoZWNrcG9pbnQsCiAgICByZXN0cmljdF9jaGVja3BvaW50cz1GYWxzZSwKKQo='),
    ('seamless/build/lib/seamless_communication/models/monotonic_decoder/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IFZvY2FidWxhcnlJbmZvCmZyb20gZmFpcnNlcTIubW9kZWxzLnRyYW5zZm9ybWVyIGltcG9ydCAoCiAgICBUcmFuc2Zvcm1lckVtYmVkZGluZ0Zyb250ZW5kLAogICAgVHJhbnNmb3JtZXJGcm9udGVuZCwKKQpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscy5hcmNoX3JlZ2lzdHJ5IGltcG9ydCBBcmNoaXRlY3R1cmVSZWdpc3RyeQpmcm9tIGZhaXJzZXEyLm5uLmVtYmVkZGluZyBpbXBvcnQgRW1iZWRkaW5nLCBTdGFuZGFyZEVtYmVkZGluZywgaW5pdF9zY2FsZWRfZW1iZWRkaW5nCmZyb20gZmFpcnNlcTIubm4ucG9zaXRpb25fZW5jb2RlciBpbXBvcnQgU2ludXNvaWRhbFBvc2l0aW9uRW5jb2Rlcgpmcm9tIGZhaXJzZXEyLm5uLnByb2plY3Rpb24gaW1wb3J0IFRpZWRQcm9qZWN0aW9uCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIEZlZWRGb3J3YXJkTmV0d29yaywKICAgIE11bHRpaGVhZEF0dGVudGlvbiwKICAgIFN0YW5kYXJkRmVlZEZvcndhcmROZXR3b3JrLAogICAgU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24sCiAgICBUcmFuc2Zvcm1lck5vcm1PcmRlciwKICAgIGNyZWF0ZV9kZWZhdWx0X3NkcGEsCikKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMubW9ub3RvbmljX2RlY29kZXIubW9kZWwgaW1wb3J0IE1vbm90b25pY0RlY29kZXJNb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLm1vbm90b25pY19kZWNvZGVyIGltcG9ydCAoCiAgICBNb25vdG9uaWNUcmFuc2Zvcm1lckRlY29kZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5tb25vdG9uaWNfZGVjb2Rlcl9sYXllciBpbXBvcnQgKAogICAgTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5wX2Nob29zZSBpbXBvcnQgUENob29zZUxheWVyCgoKQGRhdGFjbGFzcwpjbGFzcyBNb25vdG9uaWNEZWNvZGVyQ29uZmlnOgogICAgIiIiSG9sZHMgdGhlIGNvbmZpZ3VyYXRpb24gb2YgYW4gTW9ub3RvbmljIERlY29kZXIgbW9kZWwuIiIiCgogICAgbW9kZWxfZGltOiBpbnQKICAgICIiIlRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgbW9kZWwuIiIiCgogICAgbWF4X3NlcV9sZW46IGludAogICAgIiIiVGhlIGV4cGVjdGVkIG1heGltdW0gc2VxdWVuY2UgbGVuZ3RoLiIiIgoKICAgIHZvY2FiX2luZm86IFZvY2FidWxhcnlJbmZvCiAgICAiIiJUaGUgdm9jYWJ1bGFyeSBpbmZvcm1hdGlvbi4iIiIKCiAgICBudW1fZGVjb2Rlcl9sYXllcnM6IGludAogICAgIiIiVGhlIG51bWJlciBvZiBUcmFuc2Zvcm1lciBkZWNvZGVyIGxheWVycy4iIiIKCiAgICBudW1fZGVjb2Rlcl9hdHRuX2hlYWRzOiBpbnQKICAgICIiIlRoZSBudW1iZXIgb2YgYXR0ZW50aW9uIGhlYWRzIGluIFRyYW5zZm9ybWVyIGRlY29kZXIgbGF5ZXJzLiIiIgoKICAgIGZmbl9pbm5lcl9kaW06IGludAogICAgIiIiVGhlIGlubmVyIGRpbWVuc2lvbmFsaXR5IG9mIFRyYW5zZm9ybWVyIGZlZWQtZm9yd2FyZCBuZXR3b3Jrcy4iIiIKCiAgICBkcm9wb3V0X3A6IGZsb2F0CiAgICAiIiJUaGUgZHJvcG91dCBwcm9iYWJpbGl0eSBpbiBUcmFuc2Zvcm1lciBsYXllcnMuIiIiCgogICAgZW5lcmd5X2JpYXNfdmFsdWU6IGZsb2F0CiAgICAiIiJUaGUgdmFsdWUgb2YgdGhlIGVuZXJneSBiaWFzIHBhcmFtZXRlciB0byBiZSBhZGRlZCB0byB0aGUKICAgIG1vbm90b25pYyBlbmVyZ3kgaW4gdGhlIFBDaG9vc2VMYXllci4iIiIKCiAgICBtb25vdG9uaWNfdGVtcGVyYXR1cmU6IGZsb2F0CiAgICAiIiJUaGUgcGFyYW1ldGVyIHdpdGggd2hpY2ggdG8gZGl2aWRlIHRoZSBtb25vdG9uaWMgZW5lcmd5CiAgICB0byBjb21wdXRlIHBfY2hvb3NlLiIiIgoKICAgIG51bV9tb25vdG9uaWNfZW5lcmd5X2xheWVyczogaW50CiAgICAiIiJUaGUgbnVtYmVyIG9mIGxheWVycyBpbiB0aGUgRW5lcmd5UHJvamVjdGlvbiBtb2R1bGUuIiIiCgogICAgcHJlX2RlY2lzaW9uX3JhdGlvOiBpbnQKICAgICIiIlRoZSBrZXJuZWwgc2l6ZSBhbmQgc3RyaWRlIG9mIHRoZSBhdmVyYWdlIHBvb2xpbmcKICAgIGluIHRoZSBQQ2hvb3NlTGF5ZXIuIiIiCgoKbW9ub3RvbmljX2RlY29kZXJfYXJjaHMgPSBBcmNoaXRlY3R1cmVSZWdpc3RyeVtNb25vdG9uaWNEZWNvZGVyQ29uZmlnXSgKICAgICJtb25vdG9uaWNfZGVjb2RlciIKKQoKbW9ub3RvbmljX2RlY29kZXJfYXJjaCA9IG1vbm90b25pY19kZWNvZGVyX2FyY2hzLmRlY29yYXRvcgoKCkBtb25vdG9uaWNfZGVjb2Rlcl9hcmNoKCJkZW5zZV8xYiIpCmRlZiBfZGVuc2VfMWIoKSAtPiBNb25vdG9uaWNEZWNvZGVyQ29uZmlnOgogICAgcmV0dXJuIE1vbm90b25pY0RlY29kZXJDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgbWF4X3NlcV9sZW49NDA5NiwKICAgICAgICB2b2NhYl9pbmZvPVZvY2FidWxhcnlJbmZvKAogICAgICAgICAgICBzaXplPTI1NjEwMiwgdW5rX2lkeD0xLCBib3NfaWR4PTIsIGVvc19pZHg9MywgcGFkX2lkeD0wCiAgICAgICAgKSwKICAgICAgICBudW1fZGVjb2Rlcl9sYXllcnM9MjQsCiAgICAgICAgbnVtX2RlY29kZXJfYXR0bl9oZWFkcz0xNiwKICAgICAgICBmZm5faW5uZXJfZGltPTEwMjQgKiA4LAogICAgICAgIGRyb3BvdXRfcD0wLjEsCiAgICAgICAgZW5lcmd5X2JpYXNfdmFsdWU9LTAuNSwKICAgICAgICBtb25vdG9uaWNfdGVtcGVyYXR1cmU9MC4yLAogICAgICAgIG51bV9tb25vdG9uaWNfZW5lcmd5X2xheWVycz00LAogICAgICAgIHByZV9kZWNpc2lvbl9yYXRpbz0yLAogICAgKQoKCmNsYXNzIE1vbm90b25pY0RlY29kZXJCdWlsZGVyOgogICAgIiIiQnVpbGRzIG1vZHVsZXMgb2YgYSBNb25vdG9uaWMgRGVjb2Rlci4KCiAgICBUbyB0d2VhayB0aGUgYXJjaGl0ZWN0dXJlLCB5b3UgY2FuIGRlcml2ZSBmcm9tIHRoaXMgY2xhc3MgYW5kIG92ZXJyaWRlIHRoZQogICAgY29ycmVzcG9uZGluZyBtZXRob2RzLgogICAgIiIiCgogICAgY29uZmlnOiBNb25vdG9uaWNEZWNvZGVyQ29uZmlnCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0KICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICAgICAgKiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgICAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgICAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5jb25maWcgPSBjb25maWcKCiAgICAgICAgc2VsZi5kZXZpY2UsIHNlbGYuZHR5cGUgPSBkZXZpY2UsIGR0eXBlCgogICAgZGVmIGJ1aWxkX21vZGVsKHNlbGYpIC0+IE1vbm90b25pY0RlY29kZXJNb2RlbDoKICAgICAgICB0ZXh0X2VtYmVkID0gc2VsZi5idWlsZF9lbWJlZGRpbmcoKQoKICAgICAgICB0ZXh0X2RlY29kZXJfZnJvbnRlbmQgPSBzZWxmLmJ1aWxkX2Zyb250ZW5kKHRleHRfZW1iZWQpCgogICAgICAgIHRleHRfZGVjb2RlciA9IHNlbGYuYnVpbGRfZGVjb2RlcigpCgogICAgICAgIGZpbmFsX3Byb2ogPSBUaWVkUHJvamVjdGlvbih0ZXh0X2VtYmVkLndlaWdodCwgYmlhcz1Ob25lKQoKICAgICAgICByZXR1cm4gTW9ub3RvbmljRGVjb2Rlck1vZGVsKAogICAgICAgICAgICB0ZXh0X2RlY29kZXJfZnJvbnRlbmQsCiAgICAgICAgICAgIHRleHRfZGVjb2RlciwKICAgICAgICAgICAgZmluYWxfcHJvaiwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2VtYmVkZGluZyhzZWxmKSAtPiBTdGFuZGFyZEVtYmVkZGluZzoKICAgICAgICAiIiJCdWlsZCBhbiBlbWJlZGRpbmcgdGFibGUuIiIiCiAgICAgICAgcmV0dXJuIFN0YW5kYXJkRW1iZWRkaW5nKAogICAgICAgICAgICBudW1fZW1iZWRkaW5ncz1zZWxmLmNvbmZpZy52b2NhYl9pbmZvLnNpemUsCiAgICAgICAgICAgIGVtYmVkZGluZ19kaW09c2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBwYWRfaWR4PXNlbGYuY29uZmlnLnZvY2FiX2luZm8ucGFkX2lkeCwKICAgICAgICAgICAgaW5pdF9mbj1pbml0X3NjYWxlZF9lbWJlZGRpbmcsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2Zyb250ZW5kKHNlbGYsIGVtYmVkOiBFbWJlZGRpbmcpIC0+IFRyYW5zZm9ybWVyRnJvbnRlbmQ6CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBkZWNvZGVyIGZyb250LWVuZC4iIiIKICAgICAgICBwb3NfZW5jb2RlciA9IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubWF4X3NlcV9sZW4sCiAgICAgICAgICAgIF9sZWdhY3lfcGFkX2lkeD0xLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gVHJhbnNmb3JtZXJFbWJlZGRpbmdGcm9udGVuZCgKICAgICAgICAgICAgZW1iZWQsCiAgICAgICAgICAgIHBvc19lbmNvZGVyLAogICAgICAgICAgICBkcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9kZWNvZGVyKHNlbGYpIC0+IE1vbm90b25pY1RyYW5zZm9ybWVyRGVjb2RlcjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGRlY29kZXIuIiIiCiAgICAgICAgbnVtX2xheWVycyA9IHNlbGYuY29uZmlnLm51bV9kZWNvZGVyX2xheWVycwoKICAgICAgICBsYXllcnMgPSBbc2VsZi5idWlsZF9kZWNvZGVyX2xheWVyKCkgZm9yIF8gaW4gcmFuZ2UobnVtX2xheWVycyldCgogICAgICAgIHJldHVybiBNb25vdG9uaWNUcmFuc2Zvcm1lckRlY29kZXIoCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfZGVjb2Rlcl9sYXllcihzZWxmKSAtPiBNb25vdG9uaWNUcmFuc2Zvcm1lckRlY29kZXJMYXllcjoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGRlY29kZXIgbGF5ZXIuIiIiCiAgICAgICAgc2VsZl9hdHRuID0gc2VsZi5idWlsZF9hdHRlbnRpb24oc2VsZi5jb25maWcubnVtX2RlY29kZXJfYXR0bl9oZWFkcykKCiAgICAgICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG4gPSBzZWxmLmJ1aWxkX2F0dGVudGlvbihzZWxmLmNvbmZpZy5udW1fZGVjb2Rlcl9hdHRuX2hlYWRzKQoKICAgICAgICBwX2Nob29zZV9sYXllciA9IHNlbGYuYnVpbGRfcF9jaG9vc2VfbGF5ZXIoc2VsZi5jb25maWcubnVtX2RlY29kZXJfYXR0bl9oZWFkcykKCiAgICAgICAgZmZuID0gc2VsZi5idWlsZF9mZm4oKQoKICAgICAgICByZXR1cm4gTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIoCiAgICAgICAgICAgIHNlbGZfYXR0biwKICAgICAgICAgICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG4sCiAgICAgICAgICAgIHBfY2hvb3NlX2xheWVyLAogICAgICAgICAgICBmZm4sCiAgICAgICAgICAgIGRyb3BvdXRfcD1zZWxmLmNvbmZpZy5kcm9wb3V0X3AsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2F0dGVudGlvbihzZWxmLCBudW1faGVhZHM6IGludCkgLT4gTXVsdGloZWFkQXR0ZW50aW9uOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgbXVsdGktaGVhZCBhdHRlbnRpb24gbGF5ZXIuIiIiCiAgICAgICAgc2RwYSA9IGNyZWF0ZV9kZWZhdWx0X3NkcGEoYXR0bl9kcm9wb3V0X3A9c2VsZi5jb25maWcuZHJvcG91dF9wKQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX2hlYWRzLAogICAgICAgICAgICBzZHBhPXNkcGEsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX3BfY2hvb3NlX2xheWVyKHNlbGYsIG51bV9oZWFkczogaW50KSAtPiBQQ2hvb3NlTGF5ZXI6CiAgICAgICAgIiIiQnVpbGQgYSBQQ2hvb3NlIGxheWVyLiIiIgogICAgICAgIHJldHVybiBQQ2hvb3NlTGF5ZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX2hlYWRzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5lbmVyZ3lfYmlhc192YWx1ZSwKICAgICAgICAgICAgc2VsZi5jb25maWcubW9ub3RvbmljX3RlbXBlcmF0dXJlLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5udW1fbW9ub3RvbmljX2VuZXJneV9sYXllcnMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnByZV9kZWNpc2lvbl9yYXRpbywKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfZmZuKHNlbGYpIC0+IEZlZWRGb3J3YXJkTmV0d29yazoKICAgICAgICAiIiJCdWlsZCBhIFRyYW5zZm9ybWVyIGZlZWQtZm9yd2FyZCBuZXR3b3JrLiIiIgogICAgICAgIHJldHVybiBTdGFuZGFyZEZlZWRGb3J3YXJkTmV0d29yaygKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5mZm5faW5uZXJfZGltLAogICAgICAgICAgICBiaWFzPVRydWUsCiAgICAgICAgICAgIG5vcm1fb3JkZXI9VHJhbnNmb3JtZXJOb3JtT3JkZXIuUFJFLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKCmRlZiBjcmVhdGVfbW9ub3RvbmljX2RlY29kZXJfbW9kZWwoCiAgICBjb25maWc6IE1vbm90b25pY0RlY29kZXJDb25maWcsCiAgICAqLAogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAopIC0+IE1vbm90b25pY0RlY29kZXJNb2RlbDoKICAgICIiIkNyZWF0ZSBhbiBNb25vdG9uaWMgRGVjb2RlciBtb2RlbC4KCiAgICA6cGFyYW0gY29uZmlnOgogICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgIDpwYXJhbSBkZXZpY2U6CiAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBpbml0aWFsaXplIG1vZHVsZXMuCiAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgVGhlIGRhdGEgdHlwZSBvZiBtb2R1bGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycy4KICAgICIiIgogICAgcmV0dXJuIE1vbm90b25pY0RlY29kZXJCdWlsZGVyKGNvbmZpZywgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpLmJ1aWxkX21vZGVsKCkK'),
    ('seamless/build/lib/seamless_communication/models/monotonic_decoder/monotonic_decoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgSXRlcmFibGUsIExpc3QsIE9wdGlvbmFsLCBUdXBsZSwgZmluYWwKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLm5uLmluY3JlbWVudGFsX3N0YXRlIGltcG9ydCBJbmNyZW1lbnRhbFN0YXRlQmFnCmZyb20gZmFpcnNlcTIubm4ubW9kdWxlX2xpc3QgaW1wb3J0IE1vZHVsZUxpc3QKZnJvbSBmYWlyc2VxMi5ubi5ub3JtYWxpemF0aW9uIGltcG9ydCBMYXllck5vcm0KZnJvbSBmYWlyc2VxMi5ubi5wYWRkaW5nIGltcG9ydCBQYWRkaW5nTWFzawpmcm9tIGZhaXJzZXEyLm5uLnRyYW5zZm9ybWVyIGltcG9ydCAoCiAgICBBdHRlbnRpb25NYXNrRmFjdG9yeSwKICAgIENhdXNhbEF0dGVudGlvbk1hc2tGYWN0b3J5LAogICAgY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0sCikKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UsIGZpbmFsb3ZlcnJpZGUKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCmZyb20gdG9yY2gubm4gaW1wb3J0IE1vZHVsZQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5tb25vdG9uaWNfZGVjb2Rlci5tb25vdG9uaWNfZGVjb2Rlcl9sYXllciBpbXBvcnQgKAogICAgTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIsCikKCgpAZmluYWwKY2xhc3MgTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyKE1vZHVsZSk6CiAgICAiIiJSZXByZXNlbnRzIGEgTW9ub3RvbmljIFRyYW5zZm9ybWVyIGRlY29kZXIuIiIiCgogICAgbW9kZWxfZGltOiBpbnQKICAgIHNlbGZfYXR0bl9tYXNrX2ZhY3Rvcnk6IEF0dGVudGlvbk1hc2tGYWN0b3J5CiAgICBsYXllcnM6IE1vZHVsZUxpc3QKICAgIGxheWVyX25vcm06IExheWVyTm9ybQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGxheWVyczogSXRlcmFibGVbTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXJdLAogICAgICAgICosCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbGF5ZXJzOgogICAgICAgICAgICBUaGUgZGVjb2RlciBsYXllcnMuCiAgICAgICAgIiIiCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIGxheWVyX2xpc3QgPSBNb2R1bGVMaXN0KGxheWVycykKCiAgICAgICAgaWYgbm90IGxheWVyX2xpc3Q6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImBsYXllcnNgIG11c3QgYmUgbm9uLWVtcHR5LiIpCgogICAgICAgIHNlbGYubW9kZWxfZGltID0gbGF5ZXJfbGlzdFswXS5tb2RlbF9kaW0KCiAgICAgICAgc2VsZi5zZWxmX2F0dG5fbWFza19mYWN0b3J5ID0gQ2F1c2FsQXR0ZW50aW9uTWFza0ZhY3RvcnkoKQoKICAgICAgICBzZWxmLmxheWVycyA9IGxheWVyX2xpc3QKCiAgICAgICAgc2VsZi5sYXllcl9ub3JtID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0oCiAgICAgICAgICAgIHNlbGYubW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IE9wdGlvbmFsW1RlbnNvcl0gPSBOb25lLAogICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgICAgICosCiAgICAgICAgc3RhdGVfYmFnOiBPcHRpb25hbFtJbmNyZW1lbnRhbFN0YXRlQmFnXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdLCBUZW5zb3JdOgogICAgICAgIHNlbGZfYXR0bl9tYXNrID0gc2VsZi5zZWxmX2F0dG5fbWFza19mYWN0b3J5KAogICAgICAgICAgICBzZXFzLCBrZXlzPXNlcXMsIHRyYWluaW5nPXNlbGYudHJhaW5pbmcsIHN0YXRlX2JhZz1zdGF0ZV9iYWcKICAgICAgICApCgogICAgICAgIHBfY2hvb3NlX2xpc3Q6IExpc3RbVGVuc29yXSA9IFtdCgogICAgICAgIGZvciBsYXllciBpbiBzZWxmLmxheWVycy5kcm9wX2l0ZXIoKToKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBwX2Nob29zZSA9IGxheWVyKAogICAgICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgICAgIHNlbGZfYXR0bl9tYXNrLAogICAgICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzaywKICAgICAgICAgICAgICAgIHN0YXRlX2JhZz1zdGF0ZV9iYWcsCiAgICAgICAgICAgICkKICAgICAgICAgICAgcF9jaG9vc2VfbGlzdC5hcHBlbmQocF9jaG9vc2UpCgogICAgICAgIHNlcXMgPSBzZWxmLmxheWVyX25vcm0oc2VxcykKCiAgICAgICAgcF9jaG9vc2UgPSB0b3JjaC5jYXQocF9jaG9vc2VfbGlzdCwgZGltPTApCgogICAgICAgIHBfY2hvb3NlID0gcF9jaG9vc2UuZmxhdHRlbigwLCAxKQoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrLCBwX2Nob29zZQo='),
    ('seamless/build/lib/seamless_communication/models/monotonic_decoder/model.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR1cGxlLCBmaW5hbAoKZnJvbSBmYWlyc2VxMi5tb2RlbHMudHJhbnNmb3JtZXIuZnJvbnRlbmQgaW1wb3J0IFRyYW5zZm9ybWVyRnJvbnRlbmQKZnJvbSBmYWlyc2VxMi5ubi5pbmNyZW1lbnRhbF9zdGF0ZSBpbXBvcnQgSW5jcmVtZW50YWxTdGF0ZUJhZwpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrCmZyb20gZmFpcnNlcTIubm4ucHJvamVjdGlvbiBpbXBvcnQgUHJvamVjdGlvbgpmcm9tIG92ZXJyaWRlcyBpbXBvcnQgZmluYWwgYXMgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgTW9kdWxlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLm1vbm90b25pY19kZWNvZGVyIGltcG9ydCAoCiAgICBNb25vdG9uaWNUcmFuc2Zvcm1lckRlY29kZXIsCikKCgpAZmluYWwKY2xhc3MgTW9ub3RvbmljRGVjb2Rlck1vZGVsKE1vZHVsZSk6CiAgICB0ZXh0X2RlY29kZXJfZnJvbnRlbmQ6IFRyYW5zZm9ybWVyRnJvbnRlbmQKICAgIHRleHRfZGVjb2RlcjogTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyCiAgICBmaW5hbF9wcm9qOiBQcm9qZWN0aW9uCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgdGV4dF9kZWNvZGVyX2Zyb250ZW5kOiBUcmFuc2Zvcm1lckZyb250ZW5kLAogICAgICAgIHRleHRfZGVjb2RlcjogTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyLAogICAgICAgIGZpbmFsX3Byb2o6IFByb2plY3Rpb24sCiAgICApIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYudGV4dF9kZWNvZGVyX2Zyb250ZW5kID0gdGV4dF9kZWNvZGVyX2Zyb250ZW5kCiAgICAgICAgc2VsZi50ZXh0X2RlY29kZXIgPSB0ZXh0X2RlY29kZXIKICAgICAgICBzZWxmLmZpbmFsX3Byb2ogPSBmaW5hbF9wcm9qCgogICAgQGZpbmFsb3ZlcnJpZGUKICAgIGRlZiBkZWNvZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBzZXFzOiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10sCiAgICAgICAgZW5jb2Rlcl9vdXRwdXQ6IFRlbnNvciwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgICosCiAgICAgICAgc3RhdGVfYmFnOiBPcHRpb25hbFtJbmNyZW1lbnRhbFN0YXRlQmFnXSA9IE5vbmUsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgT3B0aW9uYWxbUGFkZGluZ01hc2tdLCBUZW5zb3JdOgogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYudGV4dF9kZWNvZGVyX2Zyb250ZW5kKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIHN0YXRlX2JhZz1zdGF0ZV9iYWcKICAgICAgICApCgogICAgICAgIHJldHVybiBzZWxmLnRleHRfZGVjb2RlciggICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCiAgICAgICAgICAgIHNlcXMsCiAgICAgICAgICAgIHBhZGRpbmdfbWFzaywKICAgICAgICAgICAgZW5jb2Rlcl9vdXRwdXQsCiAgICAgICAgICAgIGVuY29kZXJfcGFkZGluZ19tYXNrLAogICAgICAgICAgICBzdGF0ZV9iYWc9c3RhdGVfYmFnLAogICAgICAgICkKCiAgICBAZmluYWxvdmVycmlkZQogICAgZGVmIHByb2plY3Qoc2VsZiwgZGVjb2Rlcl9vdXRwdXQ6IFRlbnNvcikgLT4gVGVuc29yOgogICAgICAgIGxvZ2l0cyA9IHNlbGYuZmluYWxfcHJvaihkZWNvZGVyX291dHB1dCkKCiAgICAgICAgcmV0dXJuIGxvZ2l0cyAgIyB0eXBlOiBpZ25vcmVbbm8tYW55LXJldHVybl0K'),
    ('seamless/build/lib/seamless_communication/models/monotonic_decoder/monotonic_decoder_layer.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR1cGxlLCBmaW5hbAoKZnJvbSBmYWlyc2VxMi5ubi5pbmNyZW1lbnRhbF9zdGF0ZSBpbXBvcnQgSW5jcmVtZW50YWxTdGF0ZUJhZwpmcm9tIGZhaXJzZXEyLm5uLm5vcm1hbGl6YXRpb24gaW1wb3J0IExheWVyTm9ybQpmcm9tIGZhaXJzZXEyLm5uLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmdNYXNrCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIEF0dGVudGlvbk1hc2ssCiAgICBGZWVkRm9yd2FyZE5ldHdvcmssCiAgICBNdWx0aWhlYWRBdHRlbnRpb24sCiAgICBjcmVhdGVfc3RhbmRhcmRfbGF5ZXJfbm9ybSwKKQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZSwgZmluYWxvdmVycmlkZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgRHJvcG91dCwgTW9kdWxlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLm1vbm90b25pY19kZWNvZGVyLnBfY2hvb3NlIGltcG9ydCBQQ2hvb3NlTGF5ZXIKCgpAZmluYWwKY2xhc3MgTW9ub3RvbmljVHJhbnNmb3JtZXJEZWNvZGVyTGF5ZXIoTW9kdWxlKToKICAgICIiIlJlcHJlc2VudHMgYSBNb25vdG9uaWMgVHJhbnNmb3JtZXIgZGVjb2RlciBsYXllci4iIiIKCiAgICBzZWxmX2F0dG46IE11bHRpaGVhZEF0dGVudGlvbgogICAgc2VsZl9hdHRuX2Ryb3BvdXQ6IE9wdGlvbmFsW0Ryb3BvdXRdCiAgICBzZWxmX2F0dG5fbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCiAgICBlbmNvZGVyX2RlY29kZXJfYXR0bjogTXVsdGloZWFkQXR0ZW50aW9uCiAgICBlbmNvZGVyX2RlY29kZXJfYXR0bl9kcm9wb3V0OiBPcHRpb25hbFtEcm9wb3V0XQogICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG5fbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCiAgICBwX2Nob29zZV9sYXllcjogUENob29zZUxheWVyCiAgICBmZm46IEZlZWRGb3J3YXJkTmV0d29yawogICAgZmZuX2Ryb3BvdXQ6IE9wdGlvbmFsW0Ryb3BvdXRdCiAgICBmZm5fbGF5ZXJfbm9ybTogTGF5ZXJOb3JtCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VsZl9hdHRuOiBNdWx0aWhlYWRBdHRlbnRpb24sCiAgICAgICAgZW5jb2Rlcl9kZWNvZGVyX2F0dG46IE11bHRpaGVhZEF0dGVudGlvbiwKICAgICAgICBwX2Nob29zZV9sYXllcjogUENob29zZUxheWVyLAogICAgICAgIGZmbjogRmVlZEZvcndhcmROZXR3b3JrLAogICAgICAgICosCiAgICAgICAgZHJvcG91dF9wOiBmbG9hdCA9IDAuMSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBzZWxmX2F0dG46CiAgICAgICAgICAgIFRoZSBzZWxmIGF0dGVudGlvbiBsYXllci4KICAgICAgICA6cGFyYW0gZW5jb2Rlcl9kZWNvZGVyX2F0dG46CiAgICAgICAgICAgIFRoZSBlbmNvZGVyLWRlY29kZXIgYXR0ZW50aW9uIGxheWVyLgogICAgICAgIDpwYXJhbSBmZm46CiAgICAgICAgICAgIFRoZSBmZWVkLWZvcndhcmQgbmV0d29yay4KICAgICAgICA6cGFyYW0gZHJvcG91dF9wOgogICAgICAgICAgICBUaGUgZHJvcG91dCBwcm9iYWJpbGl0eSBvbiBvdXRwdXRzIG9mIHRoZSBhdHRlbnRpb24gbGF5ZXJzIGFuZCB0aGUKICAgICAgICAgICAgZmVlZC1mb3J3YXJkIG5ldHdvcmsuCiAgICAgICAgIiIiCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgICAgIHNlbGYubW9kZWxfZGltID0gc2VsZl9hdHRuLm1vZGVsX2RpbQoKICAgICAgICBzZWxmX2F0dG5fbGF5ZXJfbm9ybSA9IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtKAogICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgICAgIHNlbGYuc2VsZl9hdHRuX2xheWVyX25vcm0gPSBzZWxmX2F0dG5fbGF5ZXJfbm9ybQoKICAgICAgICBzZWxmLnNlbGZfYXR0biA9IHNlbGZfYXR0bgoKICAgICAgICBpZiBkcm9wb3V0X3AgPiAwLjA6CiAgICAgICAgICAgIHNlbGYuc2VsZl9hdHRuX2Ryb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgic2VsZl9hdHRuX2Ryb3BvdXQiLCBOb25lKQoKICAgICAgICBlbmNvZGVyX2RlY29kZXJfYXR0bl9sYXllcl9ub3JtID0gY3JlYXRlX3N0YW5kYXJkX2xheWVyX25vcm0oCiAgICAgICAgICAgIHNlbGYubW9kZWxfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICkKCiAgICAgICAgc2VsZi5lbmNvZGVyX2RlY29kZXJfYXR0bl9sYXllcl9ub3JtID0gZW5jb2Rlcl9kZWNvZGVyX2F0dG5fbGF5ZXJfbm9ybQoKICAgICAgICBzZWxmLmVuY29kZXJfZGVjb2Rlcl9hdHRuID0gZW5jb2Rlcl9kZWNvZGVyX2F0dG4KCiAgICAgICAgaWYgZHJvcG91dF9wID4gMC4wOgogICAgICAgICAgICBzZWxmLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2Ryb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZW5jb2Rlcl9kZWNvZGVyX2F0dG5fZHJvcG91dCIsIE5vbmUpCgogICAgICAgIHNlbGYucF9jaG9vc2VfbGF5ZXIgPSBwX2Nob29zZV9sYXllcgoKICAgICAgICBmZm5fbGF5ZXJfbm9ybSA9IGNyZWF0ZV9zdGFuZGFyZF9sYXllcl9ub3JtKAogICAgICAgICAgICBzZWxmLm1vZGVsX2RpbSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUKICAgICAgICApCgogICAgICAgIHNlbGYuZmZuX2xheWVyX25vcm0gPSBmZm5fbGF5ZXJfbm9ybQoKICAgICAgICBzZWxmLmZmbiA9IGZmbgoKICAgICAgICBpZiBkcm9wb3V0X3AgPiAwLjA6CiAgICAgICAgICAgIHNlbGYuZmZuX2Ryb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX21vZHVsZSgiZmZuX2Ryb3BvdXQiLCBOb25lKQoKICAgIEBmaW5hbG92ZXJyaWRlCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBzZWxmX2F0dG5fbWFzazogT3B0aW9uYWxbQXR0ZW50aW9uTWFza10gPSBOb25lLAogICAgICAgIGVuY29kZXJfb3V0cHV0OiBPcHRpb25hbFtUZW5zb3JdID0gTm9uZSwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdID0gTm9uZSwKICAgICAgICAqLAogICAgICAgIHN0YXRlX2JhZzogT3B0aW9uYWxbSW5jcmVtZW50YWxTdGF0ZUJhZ10gPSBOb25lLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwgVGVuc29yXToKICAgICAgICBzZXFzID0gc2VsZi5fZm9yd2FyZF9zZWxmX2F0dG4oc2VxcywgcGFkZGluZ19tYXNrLCBzZWxmX2F0dG5fbWFzaywgc3RhdGVfYmFnKQoKICAgICAgICBzZXFzLCBwX2Nob29zZSA9IHNlbGYuX2ZvcndhcmRfZW5jb2Rlcl9kZWNvZGVyX2F0dG4oCiAgICAgICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzaywgZW5jb2Rlcl9vdXRwdXQsIGVuY29kZXJfcGFkZGluZ19tYXNrCiAgICAgICAgKQoKICAgICAgICBzZXFzID0gc2VsZi5fZm9yd2FyZF9mZm4oc2VxcykKCiAgICAgICAgcmV0dXJuIHNlcXMsIHBhZGRpbmdfbWFzaywgcF9jaG9vc2UKCiAgICBkZWYgX2ZvcndhcmRfc2VsZl9hdHRuKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIHNlbGZfYXR0bl9tYXNrOiBPcHRpb25hbFtBdHRlbnRpb25NYXNrXSwKICAgICAgICBzdGF0ZV9iYWc6IE9wdGlvbmFsW0luY3JlbWVudGFsU3RhdGVCYWddLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgcmVzaWR1YWwgPSBzZXFzCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bl9sYXllcl9ub3JtKHNlcXMpCgogICAgICAgIHNlcXMgPSBzZWxmLnNlbGZfYXR0bigKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBrZXlzPXNlcXMsCiAgICAgICAgICAgIGtleV9wYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrLAogICAgICAgICAgICB2YWx1ZXM9c2VxcywKICAgICAgICAgICAgYXR0bl9tYXNrPXNlbGZfYXR0bl9tYXNrLAogICAgICAgICAgICBzdGF0ZV9iYWc9c3RhdGVfYmFnLAogICAgICAgICkKCiAgICAgICAgaWYgc2VsZi5zZWxmX2F0dG5fZHJvcG91dCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VxcyA9IHNlbGYuc2VsZl9hdHRuX2Ryb3BvdXQoc2VxcykKCiAgICAgICAgc2VxcyA9IHNlcXMgKyByZXNpZHVhbAoKICAgICAgICByZXR1cm4gc2VxcwoKICAgIGRlZiBfZm9yd2FyZF9lbmNvZGVyX2RlY29kZXJfYXR0bigKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IFRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBlbmNvZGVyX291dHB1dDogT3B0aW9uYWxbVGVuc29yXSwKICAgICAgICBlbmNvZGVyX3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgKSAtPiBUdXBsZVtUZW5zb3IsIFRlbnNvcl06CiAgICAgICAgaWYgZW5jb2Rlcl9vdXRwdXQgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJgZW5jb2Rlcl9vdXRwdXRgIG11c3Qgbm90IGJlIGBOb25lYCBmb3IgZW5jb2Rlci1kZWNvZGVyIGF0dGVudGlvbi4iCiAgICAgICAgICAgICkKCiAgICAgICAgcmVzaWR1YWwgPSBzZXFzCgogICAgICAgIHNlcXMgPSBzZWxmLmVuY29kZXJfZGVjb2Rlcl9hdHRuX2xheWVyX25vcm0oc2VxcykKCiAgICAgICAgcF9jaG9vc2UgPSBzZWxmLnBfY2hvb3NlX2xheWVyKHNlcXMsIGVuY29kZXJfb3V0cHV0KQoKICAgICAgICBzZXFzID0gc2VsZi5lbmNvZGVyX2RlY29kZXJfYXR0bigKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBlbmNvZGVyX291dHB1dCwKICAgICAgICAgICAgZW5jb2Rlcl9wYWRkaW5nX21hc2ssCiAgICAgICAgICAgIGVuY29kZXJfb3V0cHV0LAogICAgICAgICkKCiAgICAgICAgaWYgc2VsZi5lbmNvZGVyX2RlY29kZXJfYXR0bl9kcm9wb3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZXFzID0gc2VsZi5lbmNvZGVyX2RlY29kZXJfYXR0bl9kcm9wb3V0KHNlcXMpCgogICAgICAgIHNlcXMgPSBzZXFzICsgcmVzaWR1YWwKCiAgICAgICAgcmV0dXJuIHNlcXMsIHBfY2hvb3NlCgogICAgZGVmIF9mb3J3YXJkX2ZmbihzZWxmLCBzZXFzOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICByZXNpZHVhbCA9IHNlcXMKCiAgICAgICAgc2VxcyA9IHNlbGYuZmZuX2xheWVyX25vcm0oc2VxcykKCiAgICAgICAgc2VxcyA9IHNlbGYuZmZuKHNlcXMpCgogICAgICAgIGlmIHNlbGYuZmZuX2Ryb3BvdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlcXMgPSBzZWxmLmZmbl9kcm9wb3V0KHNlcXMpCgogICAgICAgIHNlcXMgPSBzZXFzICsgcmVzaWR1YWwKCiAgICAgICAgcmV0dXJuIHNlcXMK'),
    ('seamless/build/lib/seamless_communication/models/conformer_shaw/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmNvbmZvcm1lcl9zaGF3LmJ1aWxkZXIgaW1wb3J0ICgKICAgIENvbmZvcm1lclNoYXdFbmNvZGVyQnVpbGRlciBhcyBDb25mb3JtZXJTaGF3RW5jb2RlckJ1aWxkZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5jb25mb3JtZXJfc2hhdy5idWlsZGVyIGltcG9ydCAoCiAgICBDb25mb3JtZXJTaGF3RW5jb2RlckNvbmZpZyBhcyBDb25mb3JtZXJTaGF3RW5jb2RlckNvbmZpZywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmNvbmZvcm1lcl9zaGF3LmJ1aWxkZXIgaW1wb3J0ICgKICAgIGNvbmZvcm1lcl9zaGF3X2FyY2hzIGFzIGNvbmZvcm1lcl9zaGF3X2FyY2hzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuY29uZm9ybWVyX3NoYXcuYnVpbGRlciBpbXBvcnQgKAogICAgY3JlYXRlX2NvbmZvcm1lcl9zaGF3X21vZGVsIGFzIGNyZWF0ZV9jb25mb3JtZXJfc2hhd19tb2RlbCwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmNvbmZvcm1lcl9zaGF3LmxvYWRlciBpbXBvcnQgKAogICAgbG9hZF9jb25mb3JtZXJfc2hhd19tb2RlbCBhcyBsb2FkX2NvbmZvcm1lcl9zaGF3X21vZGVsLAopCg=='),
    ('seamless/build/lib/seamless_communication/models/conformer_shaw/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBNYXBwaW5nCgppbXBvcnQgdG9yY2gKCmZyb20gZmFpcnNlcTIuYXNzZXRzIGltcG9ydCBhc3NldF9zdG9yZSwgZG93bmxvYWRfbWFuYWdlcgpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscyBpbXBvcnQgTW9kZWxMb2FkZXIKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMuY2hlY2twb2ludCBpbXBvcnQgY29udmVydF9mYWlyc2VxX2NoZWNrcG9pbnQKZnJvbSBmYWlyc2VxMi5tb2RlbHMud2F2MnZlYzIuYnVpbGRlciBpbXBvcnQgV2F2MlZlYzJDb25maWcKZnJvbSBmYWlyc2VxMi5tb2RlbHMud2F2MnZlYzIubG9hZGVyIGltcG9ydCBsb2FkX3dhdjJ2ZWMyX2NvbmZpZwpmcm9tIGZhaXJzZXEyLm1vZGVscy53YXYydmVjMi5tb2RlbCBpbXBvcnQgV2F2MlZlYzJNb2RlbAoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5jb25mb3JtZXJfc2hhdy5idWlsZGVyIGltcG9ydCAoCiAgICBjcmVhdGVfY29uZm9ybWVyX3NoYXdfbW9kZWwsCikKCgpkZWYgY29udmVydF9jb25mb3JtZXJfc2hhd19jaGVja3BvaW50KAogICAgY2hlY2twb2ludDogTWFwcGluZ1tzdHIsIEFueV0sIGNvbmZpZzogV2F2MlZlYzJDb25maWcKKSAtPiBNYXBwaW5nW3N0ciwgQW55XToKICAgICIiIkNvbnZlcnQgYSBmYWlyc2VxIGNvbmZvcm1lciBzaGF3IGNoZWNrcG9pbnQgdG8gZmFpcnNlcTIuIiIiCiAgICBzdGF0ZV9kaWN0ID0gY2hlY2twb2ludFsibW9kZWwiXQoKICAgICMgQ2hlY2sgaWYgd2UgaGF2ZSBhIGZhaXJzZXEyIGNoZWNrcG9pbnQuCiAgICBpZiAiZmluYWxfdGFyZ2V0X3Byb2oud2VpZ2h0IiBpbiBzdGF0ZV9kaWN0OgogICAgICAgIHJldHVybiBjaGVja3BvaW50CgogICAgZm9yIGtleSBpbiAoCiAgICAgICAgIm1sbV9wcm9qLndlaWdodCIsCiAgICAgICAgIm1sbV9wcm9qLmJpYXMiLAogICAgICAgICJlbmNvZGVyLmxheWVyX25vcm0ud2VpZ2h0IiwKICAgICAgICAiZW5jb2Rlci5sYXllcl9ub3JtLmJpYXMiLAogICAgKToKICAgICAgICBpZiBrZXkgaW4gc3RhdGVfZGljdDoKICAgICAgICAgICAgZGVsIHN0YXRlX2RpY3Rba2V5XQoKICAgIHN0YXRlX2RpY3RbInF1YW50aXplci5udW1fdXBkYXRlcyJdID0gdG9yY2guemVyb3MoKCksIGRldmljZT0iY3B1IikKCiAgICBrZXlfbWFwID0gewogICAgICAgICMgZm10OiBvZmYKICAgICAgICByIl5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5zZWxmX2F0dG5cLm91dF9wcm9qXC4iOiAgICAgICAgICAgIHIiZW5jb2Rlci5sYXllcnMuXDEuc2VsZl9hdHRuLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuc2VsZl9hdHRuXC5yZWxfa19lbWJlZGRpbmdcLiI6ICAgICByImVuY29kZXIubGF5ZXJzLlwxLnNlbGZfYXR0bi5zZHBhLnJlbF9rX2VtYmVkLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9tb2R1bGVcLmRlcHRod2lzZV9jb252XC4iOiAgICByImVuY29kZXIubGF5ZXJzLlwxLmNvbnYuZGVwdGh3aXNlX2NvbnYuIiwKICAgICAgICByIl5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5jb252X21vZHVsZVwubGF5ZXJfbm9ybVwuIjogICAgICAgIHIiZW5jb2Rlci5sYXllcnMuXDEuY29udl9sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuY29udl9tb2R1bGVcLmxheWVyX25vcm0yXC4iOiAgICAgICByImVuY29kZXIubGF5ZXJzLlwxLmNvbnYubGF5ZXJfbm9ybS4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5wb2ludHdpc2VfY29udjFcLiI6ICAgciJlbmNvZGVyLmxheWVycy5cMS5jb252LnBvaW50d2lzZV9jb252MS4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmNvbnZfbW9kdWxlXC5wb2ludHdpc2VfY29udjJcLiI6ICAgciJlbmNvZGVyLmxheWVycy5cMS5jb252LnBvaW50d2lzZV9jb252Mi4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZjMVwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgciJlbmNvZGVyLmxheWVycy5cMS5mZm4uaW5uZXJfcHJvai4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZjMlwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgciJlbmNvZGVyLmxheWVycy5cMS5mZm4ub3V0cHV0X3Byb2ouIiwKICAgICAgICByIl5lbmNvZGVyXC5sYXllcnNcLihbMC05XSspXC5mZm4oMXwyKVwubGF5ZXJfbm9ybVwuIjogICAgICAgICAgIHIiZW5jb2Rlci5sYXllcnMuXDEuZmZuXDJfbGF5ZXJfbm9ybS4iLAogICAgICAgIHIiXmVuY29kZXJcLmxheWVyc1wuKFswLTldKylcLmZmbigxfDIpXC53XzFcLiI6ICAgICAgICAgICAgICAgICAgciJlbmNvZGVyLmxheWVycy5cMS5mZm5cMi5pbm5lcl9wcm9qLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmZuKDF8MilcLndfMlwuIjogICAgICAgICAgICAgICAgICByImVuY29kZXIubGF5ZXJzLlwxLmZmblwyLm91dHB1dF9wcm9qLiIsCiAgICAgICAgciJeZW5jb2RlclwubGF5ZXJzXC4oWzAtOV0rKVwuZmluYWxfbGF5ZXJfbm9ybVwuIjogICAgICAgICAgICAgICByImVuY29kZXIubGF5ZXJzLlwxLmxheWVyX25vcm0uIiwKICAgICAgICByIl5lbmNvZGVyXC5lbWJlZF90b2tlbnNcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIiZW5jb2Rlcl9mcm9udGVuZC5lbWJlZC4iLAogICAgICAgIHIiXmVuY29kZXJcLnBvc19jb252XC4wXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJlbmNvZGVyX2Zyb250ZW5kLnBvc19lbmNvZGVyLmNvbnYuIiwKICAgICAgICByIl5mZWF0dXJlX2V4dHJhY3RvclwuY29udl9sYXllcnNcLihbMC05XSspXC4wXC4iOiAgICAgICAgICAgICAgIHIiZW5jb2Rlcl9mcm9udGVuZC5mZWF0dXJlX2V4dHJhY3Rvci5sYXllcnMuXDEuY29udi4iLAogICAgICAgIHIiXmZlYXR1cmVfZXh0cmFjdG9yXC5jb252X2xheWVyc1wuKFswLTldKylcLjJcLjFcLiI6ICAgICAgICAgICAgciJlbmNvZGVyX2Zyb250ZW5kLmZlYXR1cmVfZXh0cmFjdG9yLmxheWVycy5cMS5sYXllcl9ub3JtLiIsCiAgICAgICAgciJeZmVhdHVyZV9leHRyYWN0b3JcLmNvbnZfbGF5ZXJzXC4wXC4yXC4iOiAgICAgICAgICAgICAgICAgICAgICByImVuY29kZXJfZnJvbnRlbmQuZmVhdHVyZV9leHRyYWN0b3IubGF5ZXJzLjAuZ3JvdXBfbm9ybS4iLAogICAgICAgIHIiXmxheWVyX25vcm1cLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJlbmNvZGVyX2Zyb250ZW5kLnBvc3RfZXh0cmFjdF9sYXllcl9ub3JtLiIsCiAgICAgICAgciJecG9zdF9leHRyYWN0X3Byb2pcLiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByImVuY29kZXJfZnJvbnRlbmQubW9kZWxfZGltX3Byb2ouIiwKICAgICAgICByIl5tYXNrX2VtYiI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIibWFza2VyLnRlbXBvcmFsX21hc2tfZW1iZWQiLAogICAgICAgIHIiXnF1YW50aXplclwudmFycyI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciJxdWFudGl6ZXIuZW50cmllcyIsCiAgICAgICAgciJecXVhbnRpemVyXC53ZWlnaHRfcHJvalwuIjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByInF1YW50aXplci5lbnRyeV9wcm9qLiIsCiAgICAgICAgciJecHJvamVjdF9xXC4iOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByImZpbmFsX3RhcmdldF9wcm9qLiIsCiAgICAgICAgIyBmbXQ6IG9uCiAgICB9CgogICAgcmV0dXJuIGNvbnZlcnRfZmFpcnNlcV9jaGVja3BvaW50KGNoZWNrcG9pbnQsIGtleV9tYXApCgoKbG9hZF9jb25mb3JtZXJfc2hhd19tb2RlbCA9IE1vZGVsTG9hZGVyW1dhdjJWZWMyTW9kZWwsIFdhdjJWZWMyQ29uZmlnXSgKICAgIGFzc2V0X3N0b3JlLAogICAgZG93bmxvYWRfbWFuYWdlciwKICAgIGxvYWRfd2F2MnZlYzJfY29uZmlnLAogICAgY3JlYXRlX2NvbmZvcm1lcl9zaGF3X21vZGVsLAogICAgY29udmVydF9jb25mb3JtZXJfc2hhd19jaGVja3BvaW50LAopCg=='),
    ('seamless/build/lib/seamless_communication/models/conformer_shaw/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBhc2RpY3QsIGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwKCmZyb20gZmFpcnNlcTIubW9kZWxzLmNvbmZvcm1lciBpbXBvcnQgQ29uZm9ybWVyQ29udm9sdXRpb24KZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMuYXJjaF9yZWdpc3RyeSBpbXBvcnQgQXJjaGl0ZWN0dXJlUmVnaXN0cnkKZnJvbSBmYWlyc2VxMi5tb2RlbHMudzJ2YmVydCBpbXBvcnQgdzJ2YmVydF9hcmNocwpmcm9tIGZhaXJzZXEyLm1vZGVscy53YXYydmVjMi5idWlsZGVyIGltcG9ydCAoCiAgICBXYXYyVmVjMkJ1aWxkZXIsCiAgICBXYXYyVmVjMkNvbmZpZywKICAgIFdhdjJWZWMyRW5jb2RlckJ1aWxkZXIsCiAgICBXYXYyVmVjMkVuY29kZXJDb25maWcsCiAgICB3YXYydmVjMl9hcmNoLAopCmZyb20gZmFpcnNlcTIubW9kZWxzLndhdjJ2ZWMyLm1vZGVsIGltcG9ydCBXYXYyVmVjMk1vZGVsCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0IFNEUEEsIFNoYXdSZWxhdGl2ZVBvc2l0aW9uU0RQQSwgY3JlYXRlX2RlZmF1bHRfc2RwYQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQoKCkBkYXRhY2xhc3MKY2xhc3MgU2hhd1JlbGF0aXZlUG9zaXRpb25TRFBBQ29uZmlnOgogICAgIiIiSG9sZHMgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIDpjbGFzczpTaGF3UmVsYXRpdmVQb3NpdGlvblNEUEEgbW9kdWxlLiIiIgoKICAgIG1heF9sZWZ0X3JlbF9wb3M6IGludAogICAgIiIiVGhlIGxlZnQgY2xpcHBpbmcgdmFsdWUgZm9yIHJlbGF0aXZlIHBvc2l0aW9ucy4iIiIKCiAgICBtYXhfcmlnaHRfcmVsX3BvczogT3B0aW9uYWxbaW50XQogICAgIiIiVGhlIHJpZ2h0IGNsaXBwaW5nIHZhbHVlIGZvciByZWxhdGl2ZSBwb3NpdGlvbnMuIiIiCgogICAgdXNlX3JlbF9wb3NfdmFsdWVzOiBib29sID0gRmFsc2UKICAgICIiIklmIFRydWUsIGFsc28gdXNlcyByZWxhdGl2ZSBwb3NpdGlvbiB2YWx1ZXMgdG8gY29tcHV0ZSByZWxhdGl2ZSBhdHRlbnRpb24uIiIiCgoKQGRhdGFjbGFzcwpjbGFzcyBDb25mb3JtZXJTaGF3RW5jb2RlckNvbmZpZyhXYXYyVmVjMkVuY29kZXJDb25maWcpOgogICAgIiIiSG9sZHMgdGhlIGNvbmZpZ3VyYXRpb24gb2YgYSBjb25mb3JtZXIgc2hhdyBlbmNvZGVyLiIiIgoKICAgIHNoYXdfcmVsX3Bvc19zZHBhX2NvbmZpZzogT3B0aW9uYWxbU2hhd1JlbGF0aXZlUG9zaXRpb25TRFBBQ29uZmlnXQogICAgIiIiVGhlIHBhcmFtZXRlcnMgZm9yIFNoYXdSZWxhdGl2ZVBvc2l0aW9uU0RQQS4iIiIKCgpjb25mb3JtZXJfc2hhd19hcmNocyA9IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5W0NvbmZvcm1lclNoYXdFbmNvZGVyQ29uZmlnXSgKICAgICJjb25mb3JtZXJfc2hhdyIKKQoKY29uZm9ybWVyX3NoYXdfYXJjaCA9IGNvbmZvcm1lcl9zaGF3X2FyY2hzLmRlY29yYXRvcgoKCkBjb25mb3JtZXJfc2hhd19hcmNoKCI2MDBtIikKZGVmIF9jb25mb3JtZXJfc2hhd182MDBtX2VuY29kZXIoKSAtPiBDb25mb3JtZXJTaGF3RW5jb2RlckNvbmZpZzoKICAgIHcydmJlcnRfY29uZmlnID0gdzJ2YmVydF9hcmNocy5nZXRfY29uZmlnKCI2MDBtIikKICAgIHcydjJfZW5jb2Rlcl9jb25maWcgPSB3MnZiZXJ0X2NvbmZpZy53MnYyX2NvbmZpZy5lbmNvZGVyX2NvbmZpZwogICAgc2RwYV9jb25maWcgPSBTaGF3UmVsYXRpdmVQb3NpdGlvblNEUEFDb25maWcoCiAgICAgICAgbWF4X2xlZnRfcmVsX3Bvcz02NCwKICAgICAgICBtYXhfcmlnaHRfcmVsX3Bvcz04LAogICAgICAgIHVzZV9yZWxfcG9zX3ZhbHVlcz1GYWxzZSwKICAgICkKICAgIGNvbmZvcm1lcl9zaGF3X2VuY29kZXJfY29uZmlnID0gQ29uZm9ybWVyU2hhd0VuY29kZXJDb25maWcoCiAgICAgICAgKiphc2RpY3QodzJ2Ml9lbmNvZGVyX2NvbmZpZyksCiAgICAgICAgc2hhd19yZWxfcG9zX3NkcGFfY29uZmlnPXNkcGFfY29uZmlnLAogICAgKQogICAgY29uZm9ybWVyX3NoYXdfZW5jb2Rlcl9jb25maWcucG9zX2VuY29kZXJfdHlwZSA9ICJzaGF3X3JlbGF0aXZlIgogICAgcmV0dXJuIGNvbmZvcm1lcl9zaGF3X2VuY29kZXJfY29uZmlnCgoKQHdhdjJ2ZWMyX2FyY2goImNvbmZvcm1lcl9zaGF3XzYwMG0iKQpkZWYgX2NvbmZvcm1lcl9zaGF3XzYwMG0oKSAtPiBXYXYyVmVjMkNvbmZpZzoKICAgIGVuY29kZXJfY29uZmlnID0gX2NvbmZvcm1lcl9zaGF3XzYwMG1fZW5jb2RlcigpCgogICAgcmV0dXJuIFdhdjJWZWMyQ29uZmlnKAogICAgICAgIGVuY29kZXJfY29uZmlnLAogICAgICAgIGZpbmFsX2RpbT03NjgsCiAgICAgICAgZmluYWxfcHJval9iaWFzPVRydWUsCiAgICAgICAgdGVtcG9yYWxfbWFza19zcGFuX2xlbj0xMCwKICAgICAgICBtYXhfdGVtcG9yYWxfbWFza19wcm9iPTAuNjUsCiAgICAgICAgc3BhdGlhbF9tYXNrX3NwYW5fbGVuPTEwLAogICAgICAgIG1heF9zcGF0aWFsX21hc2tfcHJvYj0wLjAsCiAgICAgICAgcXVhbnRpemVkX2RpbT03NjgsCiAgICAgICAgbnVtX2NvZGVib29rcz0yLAogICAgICAgIG51bV9jb2RlYm9va19lbnRyaWVzPTMyMCwKICAgICAgICBjb2RlYm9va19zYW1wbGluZ190ZW1wZXJhdHVyZT0oMi4wLCAwLjEsIDAuOTk5OTk1KSwKICAgICAgICBudW1fZGlzdHJhY3RvcnM9MTAwLAogICAgICAgIGxvZ2l0X3RlbXA9MC4xLAogICAgICAgIGRpdmVyc2l0eV9sb3NzX3dlaWdodD0wLjIsCiAgICApCgoKY2xhc3MgQ29uZm9ybWVyU2hhd0VuY29kZXJCdWlsZGVyKFdhdjJWZWMyRW5jb2RlckJ1aWxkZXIpOgogICAgIiIiCiAgICBCdWlsZHMgbW9kdWxlcyBvZiBhIGBDb25mb3JtZXJTaGF3RW5jb2RlckJ1aWxkZXJgLgoKICAgIFRoaXMgaXMgYSBDb25mb3JtZXIgYXJjaGl0ZWN0dXJlIHdpdGggdGhlc2UgZGlmZmVyZW5jZXM6CiAgICAtIFNoYXdSZWxhdGl2ZVBvc2l0aW9uU0RQQSBhcyB0aGUgU0RQQS4KICAgIC0gQ29uZm9ybWVyQ29udm9sdXRpb24gd2l0aCBjYXVzYWwgZGVwdGh3aXNlIGNvbnZvbHV0aW9uCiAgICBhbmQgbm9ybV90eXBlICJsYXllcl9ub3JtIi4KICAgICIiIgoKICAgIGNvbmZpZzogQ29uZm9ybWVyU2hhd0VuY29kZXJDb25maWcKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IENvbmZvcm1lclNoYXdFbmNvZGVyQ29uZmlnLAogICAgICAgICosCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gY29uZmlnOgogICAgICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICAgICAgOnBhcmFtIGRldmljZToKICAgICAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBpbml0aWFsaXplIG1vZHVsZXMuCiAgICAgICAgOnBhcmFtIGR0eXBlOgogICAgICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgICAgICIiIgogICAgICAgIHN1cGVyKCkuX19pbml0X18oY29uZmlnLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKCiAgICAgICAgYXNzZXJ0IHNlbGYuY29uZmlnLnVzZV9jb25mb3JtZXIsICJUaGlzIGFyY2hpdGVjdHVyZSBvbmx5IHN1cHBvcnRzIGEgQ29uZm9ybWVyLiIKICAgICAgICBhc3NlcnQgKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5wb3NfZW5jb2Rlcl90eXBlID09ICJzaGF3X3JlbGF0aXZlIgogICAgICAgICksICJUaGlzIGFyY2hpdGVjdHVyZSBvbmx5IHN1cHBvcnRzIFNoYXdSZWxhdGl2ZVBvc2l0aW9uU0RQQS4iCgogICAgZGVmIGJ1aWxkX3NkcGEoc2VsZikgLT4gU0RQQToKICAgICAgICBpZiBzZWxmLmNvbmZpZy5zaGF3X3JlbF9wb3Nfc2RwYV9jb25maWcgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICJgc2hhd19yZWxfcG9zX3NkcGFfY29uZmlnYCBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGBwb3NfZW5jb2Rlcl90eXBlYCBpcyAnc2hhd19yZWxhdGl2ZScuIgogICAgICAgICAgICApCgogICAgICAgIHNkcGEgPSBjcmVhdGVfZGVmYXVsdF9zZHBhKGF0dG5fZHJvcG91dF9wPXNlbGYuY29uZmlnLmF0dG5fZHJvcG91dF9wKQoKICAgICAgICBzZHBhX2NvbmZpZyA9IHNlbGYuY29uZmlnLnNoYXdfcmVsX3Bvc19zZHBhX2NvbmZpZwoKICAgICAgICByZXR1cm4gU2hhd1JlbGF0aXZlUG9zaXRpb25TRFBBKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm51bV9lbmNvZGVyX2F0dG5faGVhZHMsCiAgICAgICAgICAgIHNkcGFfY29uZmlnLm1heF9sZWZ0X3JlbF9wb3MsCiAgICAgICAgICAgIG1heF9yaWdodF9yZWxfcG9zPXNkcGFfY29uZmlnLm1heF9yaWdodF9yZWxfcG9zLAogICAgICAgICAgICB1c2VfcmVsX3Bvc192YWx1ZXM9c2RwYV9jb25maWcudXNlX3JlbF9wb3NfdmFsdWVzLAogICAgICAgICAgICBpbm5lcl9zZHBhPXNkcGEsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2NvbmZvcm1lcl9jb252KHNlbGYpIC0+IENvbmZvcm1lckNvbnZvbHV0aW9uOgogICAgICAgIHJldHVybiBDb25mb3JtZXJDb252b2x1dGlvbigKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5kZXB0aHdpc2VfY29udl9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgY2F1c2FsX2RlcHRod2lzZV9jb252PVRydWUsCiAgICAgICAgICAgIG5vcm1fdHlwZT0ibGF5ZXJfbm9ybSIsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgoKZGVmIGNyZWF0ZV9jb25mb3JtZXJfc2hhd19tb2RlbCgKICAgIGNvbmZpZzogV2F2MlZlYzJDb25maWcsCiAgICAqLAogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAopIC0+IFdhdjJWZWMyTW9kZWw6CiAgICAiIiJDcmVhdGUgYSBjb25mb3JtZXIgc2hhdyBtb2RlbC4KCiAgICA6cGFyYW0gY29uZmlnOgogICAgICAgIFRoZSBjb25maWd1cmF0aW9uLgogICAgOnBhcmFtIGRldmljZToKICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgIDpwYXJhbSBkdHlwZToKICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgIiIiCiAgICBhc3NlcnQgaXNpbnN0YW5jZShjb25maWcuZW5jb2Rlcl9jb25maWcsIENvbmZvcm1lclNoYXdFbmNvZGVyQ29uZmlnKQoKICAgIGVuY29kZXJfYnVpbGRlciA9IENvbmZvcm1lclNoYXdFbmNvZGVyQnVpbGRlcigKICAgICAgICBjb25maWcuZW5jb2Rlcl9jb25maWcsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICApCgogICAgYnVpbGRlciA9IFdhdjJWZWMyQnVpbGRlcihjb25maWcsIGVuY29kZXJfYnVpbGRlciwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpCgogICAgcmV0dXJuIGJ1aWxkZXIuYnVpbGRfbW9kZWwoKQo='),
    ('seamless/build/lib/seamless_communication/models/generator/streamable.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgppbXBvcnQgbWF0aAppbXBvcnQgd2FybmluZ3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgTGlzdCwgTGl0ZXJhbCwgT3B0aW9uYWwsIFR1cGxlLCBUeXBlVmFyCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi50eXBpbmcgaW1wb3J0IERhdGFUeXBlLCBEZXZpY2UKZnJvbSB0b3JjaC5ubiBpbXBvcnQgKAogICAgRUxVLAogICAgTFNUTSwKICAgIENvbnYxZCwKICAgIENvbnZUcmFuc3Bvc2UxZCwKICAgIEdyb3VwTm9ybSwKICAgIElkZW50aXR5LAogICAgTW9kdWxlLAogICAgU2VxdWVudGlhbCwKKQpmcm9tIHRvcmNoLm5uIGltcG9ydCBmdW5jdGlvbmFsIGFzIEYKZnJvbSB0b3JjaC5ubi51dGlscyBpbXBvcnQgc3BlY3RyYWxfbm9ybSwgd2VpZ2h0X25vcm0gICMgdHlwZTogaWdub3JlW2F0dHItZGVmaW5lZF0KCkNPTlZfTk9STUFMSVpBVElPTlMgPSBmcm96ZW5zZXQoCiAgICBbIm5vbmUiLCAid2VpZ2h0X25vcm0iLCAic3BlY3RyYWxfbm9ybSIsICJ0aW1lX2dyb3VwX25vcm0iXQopCgoKZGVmIGFwcGx5X3BhcmFtZXRyaXphdGlvbl9ub3JtKAogICAgbW9kdWxlOiBNb2R1bGUsCiAgICBub3JtOiBMaXRlcmFsWyJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIl0gPSAibm9uZSIsCikgLT4gTW9kdWxlOgogICAgaWYgbm9ybSA9PSAid2VpZ2h0X25vcm0iOgogICAgICAgIHJldHVybiB3ZWlnaHRfbm9ybShtb2R1bGUpCiAgICBlbGlmIG5vcm0gPT0gInNwZWN0cmFsX25vcm0iOgogICAgICAgIHJldHVybiBzcGVjdHJhbF9ub3JtKG1vZHVsZSkKICAgIGVsc2U6CiAgICAgICAgIyBXZSBhbHJlYWR5IGNoZWNrIHdhcyBpbiBDT05WX05PUk1BTElaQVRJT04sIHNvIGFueSBvdGhlciBjaG9pY2UKICAgICAgICAjIGRvZXNuJ3QgbmVlZCByZXBhcmFtZXRyaXphdGlvbi4KICAgICAgICByZXR1cm4gbW9kdWxlCgoKZGVmIGdldF9ub3JtX21vZHVsZSggICMgdHlwZTogaWdub3JlW25vLXVudHlwZWQtZGVmXQogICAgbW9kdWxlOiBNb2R1bGUsCiAgICBjYXVzYWw6IGJvb2wgPSBGYWxzZSwKICAgIG5vcm06IExpdGVyYWxbIm5vbmUiLCAid2VpZ2h0X25vcm0iLCAic3BlY3RyYWxfbm9ybSIsICJ0aW1lX2dyb3VwX25vcm0iXSA9ICJub25lIiwKICAgICoqbm9ybV9rd2FyZ3MsCikgLT4gTW9kdWxlOgogICAgIiIiUmV0dXJuIHRoZSBwcm9wZXIgbm9ybWFsaXphdGlvbiBtb2R1bGUuIElmIGNhdXNhbCBpcyBUcnVlLCB0aGlzIHdpbGwgZW5zdXJlIHRoZSByZXR1cm5lZAogICAgbW9kdWxlIGlzIGNhdXNhbCwgb3IgcmV0dXJuIGFuIGVycm9yIGlmIHRoZSBub3JtYWxpemF0aW9uIGRvZXNuJ3Qgc3VwcG9ydCBjYXVzYWwgZXZhbHVhdGlvbi4KICAgICIiIgogICAgYXNzZXJ0IG5vcm0gaW4gQ09OVl9OT1JNQUxJWkFUSU9OUwogICAgaWYgbm9ybSA9PSAidGltZV9ncm91cF9ub3JtIjoKICAgICAgICBpZiBjYXVzYWw6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkdyb3VwTm9ybSBkb2Vzbid0IHN1cHBvcnQgY2F1c2FsIGV2YWx1YXRpb24uIikKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShtb2R1bGUsIHRvcmNoLm5uLm1vZHVsZXMuY29udi5fQ29udk5kKQogICAgICAgIHJldHVybiBHcm91cE5vcm0oMSwgbW9kdWxlLm91dF9jaGFubmVscywgKipub3JtX2t3YXJncykKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIElkZW50aXR5KCkKCgpkZWYgZ2V0X2V4dHJhX3BhZGRpbmdfZm9yX2NvbnYxZCgKICAgIHg6IHRvcmNoLlRlbnNvciwga2VybmVsX3NpemU6IGludCwgc3RyaWRlOiBpbnQsIHBhZGRpbmdfdG90YWw6IGludCA9IDAKKSAtPiBpbnQ6CiAgICAiIiJTZWUgYHBhZF9mb3JfY29udjFkYC4iIiIKICAgIGxlbmd0aCA9IHguc2hhcGVbLTFdCiAgICBuX2ZyYW1lcyA9IChsZW5ndGggLSBrZXJuZWxfc2l6ZSArIHBhZGRpbmdfdG90YWwpIC8gc3RyaWRlICsgMQogICAgaWRlYWxfbGVuZ3RoID0gKG1hdGguY2VpbChuX2ZyYW1lcykgLSAxKSAqIHN0cmlkZSArIChrZXJuZWxfc2l6ZSAtIHBhZGRpbmdfdG90YWwpCiAgICByZXR1cm4gaWRlYWxfbGVuZ3RoIC0gbGVuZ3RoCgoKZGVmIHBhZF9mb3JfY29udjFkKAogICAgeDogdG9yY2guVGVuc29yLCBrZXJuZWxfc2l6ZTogaW50LCBzdHJpZGU6IGludCwgcGFkZGluZ190b3RhbDogaW50ID0gMAopIC0+IHRvcmNoLlRlbnNvcjoKICAgICIiIlBhZCBmb3IgYSBjb252b2x1dGlvbiB0byBtYWtlIHN1cmUgdGhhdCB0aGUgbGFzdCB3aW5kb3cgaXMgZnVsbC4KICAgIEV4dHJhIHBhZGRpbmcgaXMgYWRkZWQgYXQgdGhlIGVuZC4gVGhpcyBpcyByZXF1aXJlZCB0byBlbnN1cmUgdGhhdCB3ZSBjYW4gcmVidWlsZAogICAgYW4gb3V0cHV0IG9mIHRoZSBzYW1lIGxlbmd0aCwgYXMgb3RoZXJ3aXNlLCBldmVuIHdpdGggcGFkZGluZywgc29tZSB0aW1lIHN0ZXBzCiAgICBtaWdodCBnZXQgcmVtb3ZlZC4KICAgIEZvciBpbnN0YW5jZSwgd2l0aCB0b3RhbCBwYWRkaW5nID0gNCwga2VybmVsIHNpemUgPSA0LCBzdHJpZGUgPSAyOgogICAgICAgIDAgMCAxIDIgMyA0IDUgMCAwICAgIyAoMHMgYXJlIHBhZGRpbmcpCiAgICAgICAgMSAgIDIgICAzICAgICAgICAgICAjIChvdXRwdXQgZnJhbWVzIG9mIGEgY29udm9sdXRpb24sIGxhc3QgMCBpcyBuZXZlciB1c2VkKQogICAgICAgIDAgMCAxIDIgMyA0IDUgMCAgICAgIyAob3V0cHV0IG9mIHRyLiBjb252LiwgYnV0IHBvcy4gNSBpcyBnb2luZyB0byBnZXQgcmVtb3ZlZCBhcyBwYWRkaW5nKQogICAgICAgICAgICAxIDIgMyA0ICAgICAgICAgIyBvbmNlIHlvdSByZW1vdmVkIHBhZGRpbmcsIHdlIGFyZSBtaXNzaW5nIG9uZSB0aW1lIHN0ZXAgIQogICAgIiIiCiAgICBleHRyYV9wYWRkaW5nID0gZ2V0X2V4dHJhX3BhZGRpbmdfZm9yX2NvbnYxZCh4LCBrZXJuZWxfc2l6ZSwgc3RyaWRlLCBwYWRkaW5nX3RvdGFsKQogICAgcmV0dXJuIEYucGFkKHgsICgwLCBleHRyYV9wYWRkaW5nKSkgICMgbm9xYQoKCmRlZiBwYWQxZCgKICAgIHg6IHRvcmNoLlRlbnNvciwKICAgIHBhZGRpbmdzOiBUdXBsZVtpbnQsIGludF0sCiAgICBtb2RlOiBzdHIgPSAiY29uc3RhbnQiLAogICAgdmFsdWU6IGZsb2F0ID0gMC4wLAopIC0+IHRvcmNoLlRlbnNvcjoKICAgICIiIlRpbnkgd3JhcHBlciBhcm91bmQgRi5wYWQsIGp1c3QgdG8gYWxsb3cgZm9yIHJlZmxlY3QgcGFkZGluZyBvbiBzbWFsbCBpbnB1dC4KICAgIElmIHRoaXMgaXMgdGhlIGNhc2UsIHdlIGluc2VydCBleHRyYSAwIHBhZGRpbmcgdG8gdGhlIHJpZ2h0IGJlZm9yZSB0aGUgcmVmbGVjdGlvbiBoYXBwZW4uCiAgICAiIiIKICAgIGxlbmd0aCA9IHguc2hhcGVbLTFdCiAgICBwYWRkaW5nX2xlZnQsIHBhZGRpbmdfcmlnaHQgPSBwYWRkaW5ncwogICAgYXNzZXJ0IHBhZGRpbmdfbGVmdCA+PSAwIGFuZCBwYWRkaW5nX3JpZ2h0ID49IDAsIChwYWRkaW5nX2xlZnQsIHBhZGRpbmdfcmlnaHQpCiAgICBpZiBtb2RlID09ICJyZWZsZWN0IjoKICAgICAgICBtYXhfcGFkID0gbWF4KHBhZGRpbmdfbGVmdCwgcGFkZGluZ19yaWdodCkKICAgICAgICBleHRyYV9wYWQgPSAwCiAgICAgICAgaWYgbGVuZ3RoIDw9IG1heF9wYWQ6CiAgICAgICAgICAgIGV4dHJhX3BhZCA9IG1heF9wYWQgLSBsZW5ndGggKyAxCiAgICAgICAgICAgIHggPSBGLnBhZCh4LCAoMCwgZXh0cmFfcGFkKSkKICAgICAgICBwYWRkZWQgPSBGLnBhZCh4LCBwYWRkaW5ncywgbW9kZSwgdmFsdWUpCiAgICAgICAgZW5kID0gcGFkZGVkLnNoYXBlWy0xXSAtIGV4dHJhX3BhZAogICAgICAgIHJldHVybiBwYWRkZWRbLi4uLCA6ZW5kXQogICAgZWxzZToKICAgICAgICByZXR1cm4gRi5wYWQoeCwgcGFkZGluZ3MsIG1vZGUsIHZhbHVlKQoKCmRlZiB1bnBhZDFkKHg6IHRvcmNoLlRlbnNvciwgcGFkZGluZ3M6IFR1cGxlW2ludCwgaW50XSkgLT4gdG9yY2guVGVuc29yOgogICAgIiIiUmVtb3ZlIHBhZGRpbmcgZnJvbSB4LCBoYW5kbGluZyBwcm9wZXJseSB6ZXJvIHBhZGRpbmcuIE9ubHkgZm9yIDFkISIiIgogICAgcGFkZGluZ19sZWZ0LCBwYWRkaW5nX3JpZ2h0ID0gcGFkZGluZ3MKICAgIGFzc2VydCBwYWRkaW5nX2xlZnQgPj0gMCBhbmQgcGFkZGluZ19yaWdodCA+PSAwLCAocGFkZGluZ19sZWZ0LCBwYWRkaW5nX3JpZ2h0KQogICAgYXNzZXJ0IChwYWRkaW5nX2xlZnQgKyBwYWRkaW5nX3JpZ2h0KSA8PSB4LnNoYXBlWy0xXQogICAgZW5kID0geC5zaGFwZVstMV0gLSBwYWRkaW5nX3JpZ2h0CiAgICByZXR1cm4geFsuLi4sIHBhZGRpbmdfbGVmdDplbmRdCgoKY2xhc3MgTm9ybUNvbnYxZChNb2R1bGUpOgogICAgIiIiV3JhcHBlciBhcm91bmQgQ29udjFkIGFuZCBub3JtYWxpemF0aW9uIGFwcGxpZWQgdG8gdGhpcyBjb252CiAgICB0byBwcm92aWRlIGEgdW5pZm9ybSBpbnRlcmZhY2UgYWNyb3NzIG5vcm1hbGl6YXRpb24gYXBwcm9hY2hlcy4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBzdHJpZGU6IGludCA9IDEsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICAgICAgZ3JvdXBzOiBpbnQgPSAxLAogICAgICAgIGJpYXM6IGJvb2wgPSBUcnVlLAogICAgICAgIGNhdXNhbDogYm9vbCA9IEZhbHNlLAogICAgICAgIG5vcm06IExpdGVyYWxbCiAgICAgICAgICAgICJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIgogICAgICAgIF0gPSAibm9uZSIsCiAgICAgICAgbm9ybV9rd2FyZ3M6IERpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb252OiBNb2R1bGUgPSBhcHBseV9wYXJhbWV0cml6YXRpb25fbm9ybSgKICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgaW5fY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBvdXRfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uLAogICAgICAgICAgICAgICAgZ3JvdXBzPWdyb3VwcywKICAgICAgICAgICAgICAgIGJpYXM9YmlhcywKICAgICAgICAgICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgbm9ybSwKICAgICAgICApCiAgICAgICAgc2VsZi5ub3JtOiBNb2R1bGUgPSBnZXRfbm9ybV9tb2R1bGUoc2VsZi5jb252LCBjYXVzYWwsIG5vcm0sICoqbm9ybV9rd2FyZ3MpCiAgICAgICAgc2VsZi5ub3JtX3R5cGUgPSBub3JtCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogdG9yY2guVGVuc29yKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAgICAgeCA9IHNlbGYuY29udih4KQogICAgICAgIHggPSBzZWxmLm5vcm0oeCkKICAgICAgICByZXR1cm4geAoKCmNsYXNzIE5vcm1Db252VHJhbnNwb3NlMWQoTW9kdWxlKToKICAgICIiIldyYXBwZXIgYXJvdW5kIENvbnZUcmFuc3Bvc2UxZCBhbmQgbm9ybWFsaXphdGlvbiBhcHBsaWVkIHRvIHRoaXMgY29udgogICAgdG8gcHJvdmlkZSBhIHVuaWZvcm0gaW50ZXJmYWNlIGFjcm9zcyBub3JtYWxpemF0aW9uIGFwcHJvYWNoZXMuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oICAjIHR5cGU6IGlnbm9yZVtuby11bnR5cGVkLWRlZl0KICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBzdHJpZGU6IGludCA9IDEsCiAgICAgICAgY2F1c2FsOiBib29sID0gRmFsc2UsCiAgICAgICAgbm9ybTogTGl0ZXJhbFsKICAgICAgICAgICAgIm5vbmUiLCAid2VpZ2h0X25vcm0iLCAic3BlY3RyYWxfbm9ybSIsICJ0aW1lX2dyb3VwX25vcm0iCiAgICAgICAgXSA9ICJub25lIiwKICAgICAgICBub3JtX2t3YXJnczogRGljdFtzdHIsIEFueV0gPSB7fSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmNvbnZ0ciA9IGFwcGx5X3BhcmFtZXRyaXphdGlvbl9ub3JtKAogICAgICAgICAgICBDb252VHJhbnNwb3NlMWQoCiAgICAgICAgICAgICAgICBpbl9jaGFubmVscz1pbl9jaGFubmVscywKICAgICAgICAgICAgICAgIG91dF9jaGFubmVscz1vdXRfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT1rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgIHN0cmlkZT1zdHJpZGUsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIG5vcm0sCiAgICAgICAgKQogICAgICAgIHNlbGYubm9ybSA9IGdldF9ub3JtX21vZHVsZShzZWxmLmNvbnZ0ciwgY2F1c2FsLCBub3JtLCAqKm5vcm1fa3dhcmdzKQogICAgICAgIHNlbGYubm9ybV90eXBlID0gbm9ybQoKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHg6IHRvcmNoLlRlbnNvcikgLT4gdG9yY2guVGVuc29yOgogICAgICAgIHggPSBzZWxmLmNvbnZ0cih4KQogICAgICAgIHggPSBzZWxmLm5vcm0oeCkKICAgICAgICByZXR1cm4geAoKCmNsYXNzIFN0cmVhbWFibGVDb252MWQoTW9kdWxlKToKICAgICIiIkNvbnYxZCB3aXRoIHNvbWUgYnVpbHRpbiBoYW5kbGluZyBvZiBhc3ltbWV0cmljIG9yIGNhdXNhbCBwYWRkaW5nCiAgICBhbmQgbm9ybWFsaXphdGlvbi4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBzdHJpZGU6IGludCA9IDEsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICAgICAgZ3JvdXBzOiBpbnQgPSAxLAogICAgICAgIGJpYXM6IGJvb2wgPSBUcnVlLAogICAgICAgIGNhdXNhbDogYm9vbCA9IEZhbHNlLAogICAgICAgIG5vcm06IExpdGVyYWxbCiAgICAgICAgICAgICJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIgogICAgICAgIF0gPSAibm9uZSIsCiAgICAgICAgbm9ybV9rd2FyZ3M6IERpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgcGFkX21vZGU6IHN0ciA9ICJyZWZsZWN0IiwKICAgICAgICBhY3RpdmF0aW9uOiBPcHRpb25hbFtNb2R1bGVdID0gTm9uZSwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICAjIHdhcm4gdXNlciBvbiB1bnVzdWFsIHNldHVwIGJldHdlZW4gZGlsYXRpb24gYW5kIHN0cmlkZQogICAgICAgIGlmIHN0cmlkZSA+IDEgYW5kIGRpbGF0aW9uID4gMToKICAgICAgICAgICAgd2FybmluZ3Mud2FybigKICAgICAgICAgICAgICAgICJTdHJlYW1hYmxlQ29udjFkIGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGggc3RyaWRlID4gMSBhbmQgZGlsYXRpb24gPiAxIgogICAgICAgICAgICAgICAgZiIgKGtlcm5lbF9zaXplPXtrZXJuZWxfc2l6ZX0gc3RyaWRlPXtzdHJpZGV9LCBkaWxhdGlvbj17ZGlsYXRpb259KS4iCiAgICAgICAgICAgICkKICAgICAgICBzZWxmLmFjdGl2YXRpb24gPSBhY3RpdmF0aW9uCiAgICAgICAgc2VsZi5jb252ID0gTm9ybUNvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHMsCiAgICAgICAgICAgIG91dF9jaGFubmVscywKICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgZGlsYXRpb249ZGlsYXRpb24sCiAgICAgICAgICAgIGdyb3Vwcz1ncm91cHMsCiAgICAgICAgICAgIGJpYXM9YmlhcywKICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgbm9ybT1ub3JtLAogICAgICAgICAgICBub3JtX2t3YXJncz1ub3JtX2t3YXJncywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQogICAgICAgIHNlbGYuY2F1c2FsID0gY2F1c2FsCiAgICAgICAgc2VsZi5wYWRfbW9kZSA9IHBhZF9tb2RlCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogdG9yY2guVGVuc29yKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAgICAgaWYgc2VsZi5hY3RpdmF0aW9uOgogICAgICAgICAgICB4ID0gc2VsZi5hY3RpdmF0aW9uKHgpCiAgICAgICAga2VybmVsX3NpemU6IGludCA9IHNlbGYuY29udi5jb252Lmtlcm5lbF9zaXplWzBdICAjIHR5cGU6IGlnbm9yZVtpbmRleCxhc3NpZ25tZW50XQogICAgICAgIHN0cmlkZTogaW50ID0gc2VsZi5jb252LmNvbnYuc3RyaWRlWzBdICAjIHR5cGU6IGlnbm9yZVtpbmRleCxhc3NpZ25tZW50XQogICAgICAgIGRpbGF0aW9uID0gc2VsZi5jb252LmNvbnYuZGlsYXRpb25bMF0gICMgdHlwZTogaWdub3JlW2luZGV4XQogICAgICAgIGtlcm5lbF9zaXplID0gKCAgIyB0eXBlOiBpZ25vcmVbYXNzaWdubWVudF0KICAgICAgICAgICAga2VybmVsX3NpemUgLSAxCiAgICAgICAgKSAqIGRpbGF0aW9uICsgMSAgIyBlZmZlY3RpdmUga2VybmVsIHNpemUgd2l0aCBkaWxhdGlvbnMKICAgICAgICBwYWRkaW5nX3RvdGFsID0ga2VybmVsX3NpemUgLSBzdHJpZGUKICAgICAgICBleHRyYV9wYWRkaW5nID0gZ2V0X2V4dHJhX3BhZGRpbmdfZm9yX2NvbnYxZCgKICAgICAgICAgICAgeCwga2VybmVsX3NpemUsIHN0cmlkZSwgcGFkZGluZ190b3RhbAogICAgICAgICkKICAgICAgICBpZiBzZWxmLmNhdXNhbDoKICAgICAgICAgICAgIyBMZWZ0IHBhZGRpbmcgZm9yIGNhdXNhbAogICAgICAgICAgICB4ID0gcGFkMWQoeCwgKHBhZGRpbmdfdG90YWwsIGV4dHJhX3BhZGRpbmcpLCBtb2RlPXNlbGYucGFkX21vZGUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBBc3ltbWV0cmljIHBhZGRpbmcgcmVxdWlyZWQgZm9yIG9kZCBzdHJpZGVzCiAgICAgICAgICAgIHBhZGRpbmdfcmlnaHQgPSBwYWRkaW5nX3RvdGFsIC8vIDIKICAgICAgICAgICAgcGFkZGluZ19sZWZ0ID0gcGFkZGluZ190b3RhbCAtIHBhZGRpbmdfcmlnaHQKICAgICAgICAgICAgeCA9IHBhZDFkKAogICAgICAgICAgICAgICAgeCwgKHBhZGRpbmdfbGVmdCwgcGFkZGluZ19yaWdodCArIGV4dHJhX3BhZGRpbmcpLCBtb2RlPXNlbGYucGFkX21vZGUKICAgICAgICAgICAgKQogICAgICAgIHJldHVybiBzZWxmLmNvbnYoeCkgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgoKY2xhc3MgU3RyZWFtYWJsZUNvbnZUcmFuc3Bvc2UxZChNb2R1bGUpOgogICAgIiIiQ29udlRyYW5zcG9zZTFkIHdpdGggc29tZSBidWlsdGluIGhhbmRsaW5nIG9mIGFzeW1tZXRyaWMgb3IgY2F1c2FsIHBhZGRpbmcKICAgIGFuZCBub3JtYWxpemF0aW9uLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaW5fY2hhbm5lbHM6IGludCwKICAgICAgICBvdXRfY2hhbm5lbHM6IGludCwKICAgICAgICBrZXJuZWxfc2l6ZTogaW50LAogICAgICAgIHN0cmlkZTogaW50ID0gMSwKICAgICAgICBjYXVzYWw6IGJvb2wgPSBGYWxzZSwKICAgICAgICBub3JtOiBMaXRlcmFsWwogICAgICAgICAgICAibm9uZSIsICJ3ZWlnaHRfbm9ybSIsICJzcGVjdHJhbF9ub3JtIiwgInRpbWVfZ3JvdXBfbm9ybSIKICAgICAgICBdID0gIm5vbmUiLAogICAgICAgIHRyaW1fcmlnaHRfcmF0aW86IGZsb2F0ID0gMS4wLAogICAgICAgIG5vcm1fa3dhcmdzOiBEaWN0W3N0ciwgQW55XSA9IHt9LAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYuY29udnRyID0gTm9ybUNvbnZUcmFuc3Bvc2UxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHMsCiAgICAgICAgICAgIG91dF9jaGFubmVscywKICAgICAgICAgICAga2VybmVsX3NpemUsCiAgICAgICAgICAgIHN0cmlkZSwKICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgbm9ybT1ub3JtLAogICAgICAgICAgICBub3JtX2t3YXJncz1ub3JtX2t3YXJncywKICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgKQogICAgICAgIHNlbGYuY2F1c2FsID0gY2F1c2FsCiAgICAgICAgc2VsZi50cmltX3JpZ2h0X3JhdGlvID0gdHJpbV9yaWdodF9yYXRpbwogICAgICAgIGFzc2VydCAoCiAgICAgICAgICAgIHNlbGYuY2F1c2FsIG9yIHNlbGYudHJpbV9yaWdodF9yYXRpbyA9PSAxLjAKICAgICAgICApLCAiYHRyaW1fcmlnaHRfcmF0aW9gICE9IDEuMCBvbmx5IG1ha2VzIHNlbnNlIGZvciBjYXVzYWwgY29udm9sdXRpb25zIgogICAgICAgIGFzc2VydCBzZWxmLnRyaW1fcmlnaHRfcmF0aW8gPj0gMC4wIGFuZCBzZWxmLnRyaW1fcmlnaHRfcmF0aW8gPD0gMS4wCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogdG9yY2guVGVuc29yKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAgICAga2VybmVsX3NpemU6IGludCA9IHNlbGYuY29udnRyLmNvbnZ0ci5rZXJuZWxfc2l6ZVswXSAgIyB0eXBlOiBpZ25vcmVbaW5kZXgsYXNzaWdubWVudF0KICAgICAgICBzdHJpZGU6IGludCA9IHNlbGYuY29udnRyLmNvbnZ0ci5zdHJpZGVbMF0gICMgdHlwZTogaWdub3JlW2luZGV4LGFzc2lnbm1lbnRdCiAgICAgICAgcGFkZGluZ190b3RhbCA9IGtlcm5lbF9zaXplIC0gc3RyaWRlCgogICAgICAgIHk6IHRvcmNoLlRlbnNvciA9IHNlbGYuY29udnRyKHgpCgogICAgICAgICMgV2Ugd2lsbCBvbmx5IHRyaW0gZml4ZWQgcGFkZGluZy4gRXh0cmEgcGFkZGluZyBmcm9tIGBwYWRfZm9yX2NvbnYxZGAgd291bGQgYmUKICAgICAgICAjIHJlbW92ZWQgYXQgdGhlIHZlcnkgZW5kLCB3aGVuIGtlZXBpbmcgb25seSB0aGUgcmlnaHQgbGVuZ3RoIGZvciB0aGUgb3V0cHV0LAogICAgICAgICMgYXMgcmVtb3ZpbmcgaXQgaGVyZSB3b3VsZCByZXF1aXJlIGFsc28gcGFzc2luZyB0aGUgbGVuZ3RoIGF0IHRoZSBtYXRjaGluZyBsYXllcgogICAgICAgICMgaW4gdGhlIGVuY29kZXIuCiAgICAgICAgaWYgc2VsZi5jYXVzYWw6CiAgICAgICAgICAgICMgVHJpbSB0aGUgcGFkZGluZyBvbiB0aGUgcmlnaHQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgcmF0aW8KICAgICAgICAgICAgIyBpZiB0cmltX3JpZ2h0X3JhdGlvID0gMS4wLCB0cmltIGV2ZXJ5dGhpbmcgZnJvbSByaWdodAogICAgICAgICAgICBwYWRkaW5nX3JpZ2h0ID0gbWF0aC5jZWlsKHBhZGRpbmdfdG90YWwgKiBzZWxmLnRyaW1fcmlnaHRfcmF0aW8pCiAgICAgICAgICAgIHBhZGRpbmdfbGVmdCA9IHBhZGRpbmdfdG90YWwgLSBwYWRkaW5nX3JpZ2h0CiAgICAgICAgICAgIHkgPSB1bnBhZDFkKHksIChwYWRkaW5nX2xlZnQsIHBhZGRpbmdfcmlnaHQpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgQXN5bW1ldHJpYyBwYWRkaW5nIHJlcXVpcmVkIGZvciBvZGQgc3RyaWRlcwogICAgICAgICAgICBwYWRkaW5nX3JpZ2h0ID0gcGFkZGluZ190b3RhbCAvLyAyCiAgICAgICAgICAgIHBhZGRpbmdfbGVmdCA9IHBhZGRpbmdfdG90YWwgLSBwYWRkaW5nX3JpZ2h0CiAgICAgICAgICAgIHkgPSB1bnBhZDFkKHksIChwYWRkaW5nX2xlZnQsIHBhZGRpbmdfcmlnaHQpKQogICAgICAgIHJldHVybiB5CgoKY2xhc3MgU3RyZWFtYWJsZUxTVE0oTW9kdWxlKToKICAgICIiIkxTVE0gd2l0aG91dCB3b3JyeWluZyBhYm91dCB0aGUgaGlkZGVuIHN0YXRlLCBub3IgdGhlIGxheW91dCBvZiB0aGUgZGF0YS4KICAgIEV4cGVjdHMgaW5wdXQgYXMgY29udm9sdXRpb25hbCBsYXlvdXQuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBkaW1lbnNpb246IGludCwKICAgICAgICBudW1fbGF5ZXJzOiBpbnQgPSAyLAogICAgICAgIHNraXA6IGJvb2wgPSBUcnVlLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYuc2tpcCA9IHNraXAKICAgICAgICBzZWxmLmxzdG0gPSBMU1RNKGRpbWVuc2lvbiwgZGltZW5zaW9uLCBudW1fbGF5ZXJzLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiB0b3JjaC5UZW5zb3IpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICB4ID0geC5wZXJtdXRlKDIsIDAsIDEpCiAgICAgICAgeSwgXyA9IHNlbGYubHN0bSh4KQogICAgICAgIGlmIHNlbGYuc2tpcDoKICAgICAgICAgICAgeSA9IHkgKyB4CiAgICAgICAgeSA9IHkucGVybXV0ZSgxLCAyLCAwKQogICAgICAgIHJldHVybiB5ICAjIHR5cGU6IGlnbm9yZVtuby1hbnktcmV0dXJuXQoKCmNsYXNzIFN0cmVhbWFibGVSZXNuZXRCbG9jayhNb2R1bGUpOgogICAgIiIiY3VzdG9tIFJlc2lkdWFsIGJsb2NrIG1vZGVsIHdpdGggc3RyZWFtYWJsZSBjb252bmV0LgoKICAgIEFyZ3M6CiAgICAgICAgZGltIChpbnQpOiBEaW1lbnNpb24gb2YgdGhlIGlucHV0L291dHB1dC4KICAgICAgICBrZXJuZWxfc2l6ZXMgKGxpc3QpOiBMaXN0IG9mIGtlcm5lbCBzaXplcyBmb3IgdGhlIGNvbnZvbHV0aW9ucy4KICAgICAgICBkaWxhdGlvbnMgKGxpc3QpOiBMaXN0IG9mIGRpbGF0aW9ucyBmb3IgdGhlIGNvbnZvbHV0aW9ucy4KICAgICAgICBhY3RpdmF0aW9uX3BhcmFtcyAoZGljdCk6IFBhcmFtZXRlcnMgdG8gcHJvdmlkZSB0byB0aGUgKEVMVSkgYWN0aXZhdGlvbiBmdW5jdGlvbi4KICAgICAgICBub3JtIChzdHIpOiBOb3JtYWxpemF0aW9uIG1ldGhvZC4KICAgICAgICBub3JtX3BhcmFtcyAoZGljdCk6IFBhcmFtZXRlcnMgdG8gcHJvdmlkZSB0byB0aGUgdW5kZXJseWluZyBub3JtYWxpemF0aW9uIHVzZWQgYWxvbmcgd2l0aCB0aGUgY29udm9sdXRpb24uCiAgICAgICAgY2F1c2FsIChib29sKTogV2hldGhlciB0byB1c2UgZnVsbHkgY2F1c2FsIGNvbnZvbHV0aW9uLgogICAgICAgIHBhZF9tb2RlIChzdHIpOiBQYWRkaW5nIG1vZGUgZm9yIHRoZSBjb252b2x1dGlvbnMuCiAgICAgICAgY29tcHJlc3MgKGludCk6IFJlZHVjZWQgZGltZW5zaW9uYWxpdHkgaW4gcmVzaWR1YWwgYnJhbmNoZXMgKGZyb20gRGVtdWNzIHYzKS4KICAgICAgICB0cnVlX3NraXAgKGJvb2wpOiBXaGV0aGVyIHRvIHVzZSB0cnVlIHNraXAgY29ubmVjdGlvbiBvciBhIHNpbXBsZQogICAgICAgICAgICAoc3RyZWFtYWJsZSkgY29udm9sdXRpb24gYXMgdGhlIHNraXAgY29ubmVjdGlvbi4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGRpbTogaW50LAogICAgICAgIGtlcm5lbF9zaXplczogTGlzdFtpbnRdID0gWzMsIDFdLAogICAgICAgIGRpbGF0aW9uczogTGlzdFtpbnRdID0gWzEsIDFdLAogICAgICAgIGFjdGl2YXRpb25fcGFyYW1zOiBEaWN0W3N0ciwgQW55XSA9IHsiYWxwaGEiOiAxLjB9LAogICAgICAgIG5vcm06IExpdGVyYWxbCiAgICAgICAgICAgICJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIgogICAgICAgIF0gPSAibm9uZSIsCiAgICAgICAgbm9ybV9wYXJhbXM6IERpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgY2F1c2FsOiBib29sID0gRmFsc2UsCiAgICAgICAgcGFkX21vZGU6IHN0ciA9ICJyZWZsZWN0IiwKICAgICAgICBjb21wcmVzczogaW50ID0gMiwKICAgICAgICB0cnVlX3NraXA6IGJvb2wgPSBUcnVlLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIGFzc2VydCBsZW4oa2VybmVsX3NpemVzKSA9PSBsZW4oCiAgICAgICAgICAgIGRpbGF0aW9ucwogICAgICAgICksICJOdW1iZXIgb2Yga2VybmVsIHNpemVzIHNob3VsZCBtYXRjaCBudW1iZXIgb2YgZGlsYXRpb25zIgogICAgICAgIGhpZGRlbiA9IGRpbSAvLyBjb21wcmVzcwogICAgICAgIGJsb2NrID0gW10KICAgICAgICBmb3IgaSwgKGtlcm5lbF9zaXplLCBkaWxhdGlvbikgaW4gZW51bWVyYXRlKHppcChrZXJuZWxfc2l6ZXMsIGRpbGF0aW9ucykpOgogICAgICAgICAgICBpbl9jaHMgPSBkaW0gaWYgaSA9PSAwIGVsc2UgaGlkZGVuCiAgICAgICAgICAgIG91dF9jaHMgPSBkaW0gaWYgaSA9PSBsZW4oa2VybmVsX3NpemVzKSAtIDEgZWxzZSBoaWRkZW4KICAgICAgICAgICAgYmxvY2sgKz0gWwogICAgICAgICAgICAgICAgRUxVKCoqYWN0aXZhdGlvbl9wYXJhbXMpLAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZUNvbnYxZCgKICAgICAgICAgICAgICAgICAgICBpbl9jaHMsCiAgICAgICAgICAgICAgICAgICAgb3V0X2NocywKICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT1rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgICAgICAgICBkaWxhdGlvbj1kaWxhdGlvbiwKICAgICAgICAgICAgICAgICAgICBub3JtPW5vcm0sCiAgICAgICAgICAgICAgICAgICAgbm9ybV9rd2FyZ3M9bm9ybV9wYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgICAgICAgICBwYWRfbW9kZT1wYWRfbW9kZSwKICAgICAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgXQogICAgICAgIHNlbGYuYmxvY2sgPSBTZXF1ZW50aWFsKCpibG9jaykKICAgICAgICBzZWxmLnNob3J0Y3V0OiBNb2R1bGUKICAgICAgICBpZiB0cnVlX3NraXA6CiAgICAgICAgICAgIHNlbGYuc2hvcnRjdXQgPSBJZGVudGl0eSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5zaG9ydGN1dCA9IFN0cmVhbWFibGVDb252MWQoCiAgICAgICAgICAgICAgICBkaW0sCiAgICAgICAgICAgICAgICBkaW0sCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT0xLAogICAgICAgICAgICAgICAgbm9ybT1ub3JtLAogICAgICAgICAgICAgICAgbm9ybV9rd2FyZ3M9bm9ybV9wYXJhbXMsCiAgICAgICAgICAgICAgICBjYXVzYWw9Y2F1c2FsLAogICAgICAgICAgICAgICAgcGFkX21vZGU9cGFkX21vZGUsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiB0b3JjaC5UZW5zb3IpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICByZXR1cm4gc2VsZi5zaG9ydGN1dCh4KSArIHNlbGYuYmxvY2soeCkgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCg=='),
    ('seamless/build/lib/seamless_communication/models/generator/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCg=='),
    ('seamless/build/lib/seamless_communication/models/generator/ecapa_tdnn.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2ssIHRvX3BhZGRpbmdfbWFzawpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgQ29udjFkLCBMYXllck5vcm0sIE1vZHVsZSwgTW9kdWxlTGlzdCwgUmVMVSwgU2lnbW9pZCwgVGFuaCwgaW5pdAoKCmNsYXNzIEVDQVBBX1RETk4oTW9kdWxlKToKICAgICIiIgogICAgUmVwcmVzZW50cyB0aGUgRUNBUEEtVEROTiBtb2RlbCBkZXNjcmliZWQgaW4gcGFwZXI6CiAgICA6Y2l0ZTp0YGh0dHBzOi8vZG9pLm9yZy8xMC40ODU1MC9hcnhpdi4yMDA1LjA3MTQzYC4KCiAgICBBcmd1bWVudHMKICAgIC0tLS0tLS0tLQogICAgOnBhcmFtIGNoYW5uZWxzOgogICAgICAgIE91dHB1dCBjaGFubmVscyBmb3IgVEROTi9TRVJlczJOZXQgbGF5ZXIuCiAgICA6cGFyYW0ga2VybmVsX3NpemVzOgogICAgICAgIExpc3Qgb2Yga2VybmVsIHNpemVzIGZvciBlYWNoIGxheWVyLgogICAgOnBhcmFtIGRpbGF0aW9uczoKICAgICAgICBMaXN0IG9mIGRpbGF0aW9ucyBmb3Iga2VybmVscyBpbiBlYWNoIGxheWVyLgogICAgOnBhcmFtIGdyb3VwczoKICAgICAgICBMaXN0IG9mIGdyb3VwcyBmb3Iga2VybmVscyBpbiBlYWNoIGxheWVyLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY2hhbm5lbHM6IExpc3RbaW50XSwKICAgICAgICBrZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICBkaWxhdGlvbnM6IExpc3RbaW50XSwKICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM6IGludCwKICAgICAgICByZXMybmV0X3NjYWxlOiBpbnQsCiAgICAgICAgc2VfY2hhbm5lbHM6IGludCwKICAgICAgICBnbG9iYWxfY29udGV4dDogYm9vbCwKICAgICAgICBncm91cHM6IExpc3RbaW50XSwKICAgICAgICBlbWJlZF9kaW06IGludCwKICAgICAgICBpbnB1dF9kaW06IGludCwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgYXNzZXJ0IGxlbihjaGFubmVscykgPT0gbGVuKGtlcm5lbF9zaXplcykgPT0gbGVuKGRpbGF0aW9ucykKICAgICAgICBzZWxmLmNoYW5uZWxzID0gY2hhbm5lbHMKICAgICAgICBzZWxmLmVtYmVkX2RpbSA9IGVtYmVkX2RpbQogICAgICAgIHNlbGYuYmxvY2tzID0gTW9kdWxlTGlzdCgpCgogICAgICAgIHNlbGYuYmxvY2tzLmFwcGVuZCgKICAgICAgICAgICAgVEROTkJsb2NrKAogICAgICAgICAgICAgICAgaW5wdXRfZGltLAogICAgICAgICAgICAgICAgY2hhbm5lbHNbMF0sCiAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZXNbMF0sCiAgICAgICAgICAgICAgICBkaWxhdGlvbnNbMF0sCiAgICAgICAgICAgICAgICBncm91cHNbMF0sCiAgICAgICAgICAgICkKICAgICAgICApCgogICAgICAgICMgU0UtUmVzMk5ldCBsYXllcnMKICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCBsZW4oY2hhbm5lbHMpIC0gMSk6CiAgICAgICAgICAgIHNlbGYuYmxvY2tzLmFwcGVuZCgKICAgICAgICAgICAgICAgIFNFUmVzMk5ldEJsb2NrKAogICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzW2kgLSAxXSwKICAgICAgICAgICAgICAgICAgICBjaGFubmVsc1tpXSwKICAgICAgICAgICAgICAgICAgICByZXMybmV0X3NjYWxlPXJlczJuZXRfc2NhbGUsCiAgICAgICAgICAgICAgICAgICAgc2VfY2hhbm5lbHM9c2VfY2hhbm5lbHMsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemVzW2ldLAogICAgICAgICAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uc1tpXSwKICAgICAgICAgICAgICAgICAgICBncm91cHM9Z3JvdXBzW2ldLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCgogICAgICAgICMgTXVsdGktbGF5ZXIgZmVhdHVyZSBhZ2dyZWdhdGlvbgogICAgICAgIHNlbGYubWZhID0gVEROTkJsb2NrKAogICAgICAgICAgICBjaGFubmVsc1stMV0sCiAgICAgICAgICAgIGNoYW5uZWxzWy0xXSwKICAgICAgICAgICAga2VybmVsX3NpemVzWy0xXSwKICAgICAgICAgICAgZGlsYXRpb25zWy0xXSwKICAgICAgICAgICAgZ3JvdXBzPWdyb3Vwc1stMV0sCiAgICAgICAgKQoKICAgICAgICAjIEF0dGVudGl2ZSBTdGF0aXN0aWNhbCBQb29saW5nCiAgICAgICAgc2VsZi5hc3AgPSBBdHRlbnRpdmVTdGF0aXN0aWNzUG9vbGluZygKICAgICAgICAgICAgY2hhbm5lbHNbLTFdLAogICAgICAgICAgICBhdHRlbnRpb25fY2hhbm5lbHM9YXR0ZW50aW9uX2NoYW5uZWxzLAogICAgICAgICAgICBnbG9iYWxfY29udGV4dD1nbG9iYWxfY29udGV4dCwKICAgICAgICApCiAgICAgICAgc2VsZi5hc3Bfbm9ybSA9IExheWVyTm9ybShjaGFubmVsc1stMV0gKiAyLCBlcHM9MWUtMTIpCgogICAgICAgICMgRmluYWwgbGluZWFyIHRyYW5zZm9ybWF0aW9uCiAgICAgICAgc2VsZi5mYyA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9Y2hhbm5lbHNbLTFdICogMiwKICAgICAgICAgICAgb3V0X2NoYW5uZWxzPWVtYmVkX2RpbSwKICAgICAgICAgICAga2VybmVsX3NpemU9MSwKICAgICAgICApCgogICAgICAgIHNlbGYucmVzZXRfcGFyYW1ldGVycygpCgogICAgZGVmIHJlc2V0X3BhcmFtZXRlcnMoc2VsZikgLT4gTm9uZToKICAgICAgICAiIiJSZXNldCB0aGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycyBvZiB0aGUgbW9kdWxlLiIiIgoKICAgICAgICBkZWYgZW5jb2Rlcl9pbml0KG06IE1vZHVsZSkgLT4gTm9uZToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShtLCBDb252MWQpOgogICAgICAgICAgICAgICAgaW5pdC54YXZpZXJfdW5pZm9ybV8obS53ZWlnaHQsIGluaXQuY2FsY3VsYXRlX2dhaW4oInJlbHUiKSkKCiAgICAgICAgc2VsZi5hcHBseShlbmNvZGVyX2luaXQpCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICB4OiBUZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUmV0dXJucyB0aGUgZW1iZWRkaW5nIHZlY3Rvci4KCiAgICAgICAgQXJndW1lbnRzCiAgICAgICAgLS0tLS0tLS0tCiAgICAgICAgeCA6IHRvcmNoLlRlbnNvcgogICAgICAgICAgICBUZW5zb3Igb2Ygc2hhcGUgKGJhdGNoLCB0aW1lLCBjaGFubmVsKS4KICAgICAgICAiIiIKICAgICAgICAjIE1pbmltaXplIHRyYW5zcG9zZSBmb3IgZWZmaWNpZW5jeQogICAgICAgIHggPSB4LnRyYW5zcG9zZSgxLCAyKQoKICAgICAgICB4bCA9IFtdCiAgICAgICAgZm9yIGxheWVyIGluIHNlbGYuYmxvY2tzOgogICAgICAgICAgICB4ID0gbGF5ZXIoeCwgcGFkZGluZ19tYXNrPXBhZGRpbmdfbWFzaykKICAgICAgICAgICAgeGwuYXBwZW5kKHgpCgogICAgICAgICMgTXVsdGktbGF5ZXIgZmVhdHVyZSBhZ2dyZWdhdGlvbgogICAgICAgIHggPSB0b3JjaC5jYXQoeGxbMTpdLCBkaW09MSkKICAgICAgICB4ID0gc2VsZi5tZmEoeCkKCiAgICAgICAgIyBBdHRlbnRpdmUgU3RhdGlzdGljYWwgUG9vbGluZwogICAgICAgIHggPSBzZWxmLmFzcCh4LCBwYWRkaW5nX21hc2s9cGFkZGluZ19tYXNrKQogICAgICAgIHggPSBzZWxmLmFzcF9ub3JtKHgudHJhbnNwb3NlKDEsIDIpKS50cmFuc3Bvc2UoMSwgMikKCiAgICAgICAgIyBGaW5hbCBsaW5lYXIgdHJhbnNmb3JtYXRpb24KICAgICAgICB4ID0gc2VsZi5mYyh4KQoKICAgICAgICB4ID0geC50cmFuc3Bvc2UoMSwgMikuc3F1ZWV6ZSgxKSAgIyBCIHggQwogICAgICAgIHJldHVybiBGLm5vcm1hbGl6ZSh4LCBkaW09LTEpCgoKY2xhc3MgVEROTkJsb2NrKE1vZHVsZSk6CiAgICAiIiJBbiBpbXBsZW1lbnRhdGlvbiBvZiBURE5OLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tLQogICAgOnBhcmFtIGluX2NoYW5uZWxzIDogaW50CiAgICAgICAgTnVtYmVyIG9mIGlucHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIGtlcm5lbF9zaXplIDogaW50CiAgICAgICAgVGhlIGtlcm5lbCBzaXplIG9mIHRoZSBURE5OIGJsb2Nrcy4KICAgIDpwYXJhbSBkaWxhdGlvbiA6IGludAogICAgICAgIFRoZSBkaWxhdGlvbiBvZiB0aGUgVEROTiBibG9jay4KICAgIDpwYXJhbSBncm91cHM6IGludAogICAgICAgIFRoZSBncm91cHMgc2l6ZSBvZiB0aGUgVEROTiBibG9ja3MuCgogICAgRXhhbXBsZQogICAgLS0tLS0tLQogICAgPj4+IGlucF90ZW5zb3IgPSB0b3JjaC5yYW5kKFs4LCAxMjAsIDY0XSkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gbGF5ZXIgPSBURE5OQmxvY2soNjQsIDY0LCBrZXJuZWxfc2l6ZT0zLCBkaWxhdGlvbj0xKQogICAgPj4+IG91dF90ZW5zb3IgPSBsYXllcihpbnBfdGVuc29yKS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXRfdGVuc29yLnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAga2VybmVsX3NpemU6IGludCwKICAgICAgICBkaWxhdGlvbjogaW50LAogICAgICAgIGdyb3VwczogaW50ID0gMSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5jb252ID0gQ29udjFkKAogICAgICAgICAgICBpbl9jaGFubmVscz1pbl9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzPW91dF9jaGFubmVscywKICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemUsCiAgICAgICAgICAgIGRpbGF0aW9uPWRpbGF0aW9uLAogICAgICAgICAgICBwYWRkaW5nPWRpbGF0aW9uICogKGtlcm5lbF9zaXplIC0gMSkgLy8gMiwKICAgICAgICAgICAgZ3JvdXBzPWdyb3VwcywKICAgICAgICApCiAgICAgICAgc2VsZi5hY3RpdmF0aW9uID0gUmVMVSgpCiAgICAgICAgc2VsZi5ub3JtID0gTGF5ZXJOb3JtKG91dF9jaGFubmVscywgZXBzPTFlLTEyKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHg6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHggPSBzZWxmLmFjdGl2YXRpb24oc2VsZi5jb252KHgpKQoKICAgICAgICByZXR1cm4gc2VsZi5ub3JtKHgudHJhbnNwb3NlKDEsIDIpKS50cmFuc3Bvc2UoMSwgMikgICMgdHlwZTogaWdub3JlW25vLWFueS1yZXR1cm5dCgoKY2xhc3MgUmVzMk5ldEJsb2NrKE1vZHVsZSk6CiAgICAiIiJBbiBpbXBsZW1lbnRhdGlvbiBvZiBSZXMyTmV0QmxvY2sgdy8gZGlsYXRpb24uCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0KICAgIDpwYXJhbSBpbl9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2YgY2hhbm5lbHMgZXhwZWN0ZWQgaW4gdGhlIGlucHV0LgogICAgOnBhcmFtIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgOnBhcmFtIHNjYWxlIDogaW50CiAgICAgICAgVGhlIHNjYWxlIG9mIHRoZSBSZXMyTmV0IGJsb2NrLgogICAgOnBhcmFtIGtlcm5lbF9zaXplOiBpbnQKICAgICAgICBUaGUga2VybmVsIHNpemUgb2YgdGhlIFJlczJOZXQgYmxvY2suCiAgICA6cGFyYW0gZGlsYXRpb24gOiBpbnQKICAgICAgICBUaGUgZGlsYXRpb24gb2YgdGhlIFJlczJOZXQgYmxvY2suCgogICAgRXhhbXBsZQogICAgLS0tLS0tLQogICAgPj4+IGlucF90ZW5zb3IgPSB0b3JjaC5yYW5kKFs4LCAxMjAsIDY0XSkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gbGF5ZXIgPSBSZXMyTmV0QmxvY2soNjQsIDY0LCBzY2FsZT00LCBkaWxhdGlvbj0zKQogICAgPj4+IG91dF90ZW5zb3IgPSBsYXllcihpbnBfdGVuc29yKS50cmFuc3Bvc2UoMSwgMikKICAgID4+PiBvdXRfdGVuc29yLnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAgc2NhbGU6IGludCA9IDgsCiAgICAgICAga2VybmVsX3NpemU6IGludCA9IDMsCiAgICAgICAgZGlsYXRpb246IGludCA9IDEsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIGFzc2VydCBpbl9jaGFubmVscyAlIHNjYWxlID09IDAKICAgICAgICBhc3NlcnQgb3V0X2NoYW5uZWxzICUgc2NhbGUgPT0gMAoKICAgICAgICBpbl9jaGFubmVsID0gaW5fY2hhbm5lbHMgLy8gc2NhbGUKICAgICAgICBoaWRkZW5fY2hhbm5lbCA9IG91dF9jaGFubmVscyAvLyBzY2FsZQogICAgICAgIHNlbGYuYmxvY2tzID0gTW9kdWxlTGlzdCgKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgVEROTkJsb2NrKAogICAgICAgICAgICAgICAgICAgIGluX2NoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAgaGlkZGVuX2NoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9a2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICAgICAgZGlsYXRpb249ZGlsYXRpb24sCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShzY2FsZSAtIDEpCiAgICAgICAgICAgIF0KICAgICAgICApCiAgICAgICAgc2VsZi5zY2FsZSA9IHNjYWxlCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHkgPSBbXQogICAgICAgIGZvciBpLCB4X2kgaW4gZW51bWVyYXRlKHRvcmNoLmNodW5rKHgsIHNlbGYuc2NhbGUsIGRpbT0xKSk6CiAgICAgICAgICAgIGlmIGkgPT0gMDoKICAgICAgICAgICAgICAgIHlfaSA9IHhfaQogICAgICAgICAgICBlbGlmIGkgPT0gMToKICAgICAgICAgICAgICAgIHlfaSA9IHNlbGYuYmxvY2tzW2kgLSAxXSh4X2kpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB5X2kgPSBzZWxmLmJsb2Nrc1tpIC0gMV0oeF9pICsgeV9pKQogICAgICAgICAgICB5LmFwcGVuZCh5X2kpCgogICAgICAgIHlfdGVuc29yID0gdG9yY2guY2F0KHksIGRpbT0xKQogICAgICAgIHJldHVybiB5X3RlbnNvcgoKCmNsYXNzIFNFQmxvY2soTW9kdWxlKToKICAgICIiIkFuIGltcGxlbWVudGF0aW9uIG9mIHNxdWVlemUtYW5kLWV4Y2l0YXRpb24gYmxvY2suCgogICAgQXJndW1lbnRzCiAgICAtLS0tLS0tLS0KICAgIGluX2NoYW5uZWxzIDogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBpbnB1dCBjaGFubmVscy4KICAgIHNlX2NoYW5uZWxzIDogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBvdXRwdXQgY2hhbm5lbHMgYWZ0ZXIgc3F1ZWV6ZS4KICAgIG91dF9jaGFubmVscyA6IGludAogICAgICAgIFRoZSBudW1iZXIgb2Ygb3V0cHV0IGNoYW5uZWxzLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaW5fY2hhbm5lbHM6IGludCwKICAgICAgICBzZV9jaGFubmVsczogaW50LAogICAgICAgIG91dF9jaGFubmVsczogaW50LAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5jb252MSA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9aW5fY2hhbm5lbHMsIG91dF9jaGFubmVscz1zZV9jaGFubmVscywga2VybmVsX3NpemU9MQogICAgICAgICkKICAgICAgICBzZWxmLnJlbHUgPSBSZUxVKGlucGxhY2U9VHJ1ZSkKICAgICAgICBzZWxmLmNvbnYyID0gQ29udjFkKAogICAgICAgICAgICBpbl9jaGFubmVscz1zZV9jaGFubmVscywgb3V0X2NoYW5uZWxzPW91dF9jaGFubmVscywga2VybmVsX3NpemU9MQogICAgICAgICkKICAgICAgICBzZWxmLnNpZ21vaWQgPSBTaWdtb2lkKCkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4OiBUZW5zb3IsIHBhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdID0gTm9uZSkgLT4gVGVuc29yOgogICAgICAgICIiIlByb2Nlc3NlcyB0aGUgaW5wdXQgdGVuc29yIHggYW5kIHJldHVybnMgYW4gb3V0cHV0IHRlbnNvci4iIiIKICAgICAgICBpZiBwYWRkaW5nX21hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1hc2sgPSBwYWRkaW5nX21hc2subWF0ZXJpYWxpemUoKS51bnNxdWVlemUoMSkKICAgICAgICAgICAgcyA9ICh4ICogbWFzaykuc3VtKGRpbT0yLCBrZWVwZGltPVRydWUpIC8gcGFkZGluZ19tYXNrLnNlcV9sZW5zWwogICAgICAgICAgICAgICAgOiwgTm9uZSwgTm9uZQogICAgICAgICAgICBdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcyA9IHgubWVhbihkaW09Miwga2VlcGRpbT1UcnVlKQoKICAgICAgICBzID0gc2VsZi5yZWx1KHNlbGYuY29udjEocykpCiAgICAgICAgcyA9IHNlbGYuc2lnbW9pZChzZWxmLmNvbnYyKHMpKQoKICAgICAgICByZXR1cm4gcyAqIHgKCgpjbGFzcyBBdHRlbnRpdmVTdGF0aXN0aWNzUG9vbGluZyhNb2R1bGUpOgogICAgIiIiVGhpcyBjbGFzcyBpbXBsZW1lbnRzIGFuIGF0dGVudGl2ZSBzdGF0aXN0aWMgcG9vbGluZyBsYXllciBmb3IgZWFjaCBjaGFubmVsLgogICAgSXQgcmV0dXJucyB0aGUgY29uY2F0ZW5hdGVkIG1lYW4gYW5kIHN0ZCBvZiB0aGUgaW5wdXQgdGVuc29yLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tCiAgICBjaGFubmVsczogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBpbnB1dCBjaGFubmVscy4KICAgIGF0dGVudGlvbl9jaGFubmVsczogaW50CiAgICAgICAgVGhlIG51bWJlciBvZiBhdHRlbnRpb24gY2hhbm5lbHMuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgY2hhbm5lbHM6IGludCwgYXR0ZW50aW9uX2NoYW5uZWxzOiBpbnQgPSAxMjgsIGdsb2JhbF9jb250ZXh0OiBib29sID0gVHJ1ZQogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi5lcHMgPSAxZS0xMgogICAgICAgIHNlbGYuZ2xvYmFsX2NvbnRleHQgPSBnbG9iYWxfY29udGV4dAogICAgICAgIGlmIGdsb2JhbF9jb250ZXh0OgogICAgICAgICAgICBzZWxmLnRkbm4gPSBURE5OQmxvY2soY2hhbm5lbHMgKiAzLCBhdHRlbnRpb25fY2hhbm5lbHMsIDEsIDEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi50ZG5uID0gVEROTkJsb2NrKGNoYW5uZWxzLCBhdHRlbnRpb25fY2hhbm5lbHMsIDEsIDEpCgogICAgICAgIHNlbGYudGFuaCA9IFRhbmgoKQogICAgICAgIHNlbGYuY29udiA9IENvbnYxZCgKICAgICAgICAgICAgaW5fY2hhbm5lbHM9YXR0ZW50aW9uX2NoYW5uZWxzLCBvdXRfY2hhbm5lbHM9Y2hhbm5lbHMsIGtlcm5lbF9zaXplPTEKICAgICAgICApCgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yLCBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSA9IE5vbmUpIC0+IFRlbnNvcjoKICAgICAgICAiIiJDYWxjdWxhdGVzIG1lYW4gYW5kIHN0ZCBmb3IgYSBiYXRjaCAoaW5wdXQgdGVuc29yKS4KCiAgICAgICAgQXJndW1lbnRzCiAgICAgICAgLS0tLS0tLS0tCiAgICAgICAgeCA6IHRvcmNoLlRlbnNvcgogICAgICAgICAgICBUZW5zb3Igb2Ygc2hhcGUgW04sIEMsIExdLgogICAgICAgICIiIgogICAgICAgIEwgPSB4LnNoYXBlWy0xXQoKICAgICAgICBkZWYgX2NvbXB1dGVfc3RhdGlzdGljcygKICAgICAgICAgICAgeDogVGVuc29yLCBtOiBUZW5zb3IsIGRpbTogaW50ID0gMiwgZXBzOiBmbG9hdCA9IHNlbGYuZXBzCiAgICAgICAgKSAtPiBUdXBsZVtUZW5zb3IsIFRlbnNvcl06CiAgICAgICAgICAgIG1lYW4gPSAobSAqIHgpLnN1bShkaW0pCiAgICAgICAgICAgIHN0ZCA9IHRvcmNoLnNxcnQoKG0gKiAoeCAtIG1lYW4udW5zcXVlZXplKGRpbSkpLnBvdygyKSkuc3VtKGRpbSkuY2xhbXAoZXBzKSkKICAgICAgICAgICAgcmV0dXJuIG1lYW4sIHN0ZAoKICAgICAgICAjIE1ha2UgYmluYXJ5IG1hc2sgb2Ygc2hhcGUgW04sIDEsIExdCiAgICAgICAgIyBtYXNrID0gdG9fcGFkZGluZ19tYXNrKGxlbmd0aHMsIG1heChsZW5ndGhzKSkKICAgICAgICBpZiBwYWRkaW5nX21hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1hc2sgPSBwYWRkaW5nX21hc2subWF0ZXJpYWxpemUoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG1hc2sgPSB0b19wYWRkaW5nX21hc2sodG9yY2guSW50VGVuc29yKFtMXSksIEwpLnJlcGVhdCh4LnNoYXBlWzBdLCAxKS50byh4KQogICAgICAgIG1hc2sgPSBtYXNrLnVuc3F1ZWV6ZSgxKQoKICAgICAgICAjIEV4cGFuZCB0aGUgdGVtcG9yYWwgY29udGV4dCBvZiB0aGUgcG9vbGluZyBsYXllciBieSBhbGxvd2luZyB0aGUKICAgICAgICAjIHNlbGYtYXR0ZW50aW9uIHRvIGxvb2sgYXQgZ2xvYmFsIHByb3BlcnRpZXMgb2YgdGhlIHV0dGVyYW5jZS4KICAgICAgICBpZiBzZWxmLmdsb2JhbF9jb250ZXh0OgogICAgICAgICAgICAjIHRvcmNoLnN0ZCBpcyB1bnN0YWJsZSBmb3IgYmFja3dhcmQgY29tcHV0YXRpb24KICAgICAgICAgICAgIyBodHRwczovL2dpdGh1Yi5jb20vcHl0b3JjaC9weXRvcmNoL2lzc3Vlcy80MzIwCiAgICAgICAgICAgIHRvdGFsID0gbWFzay5zdW0oZGltPTIsIGtlZXBkaW09VHJ1ZSkudG8oeCkKICAgICAgICAgICAgbWVhbiwgc3RkID0gX2NvbXB1dGVfc3RhdGlzdGljcyh4LCBtYXNrIC8gdG90YWwpCiAgICAgICAgICAgIG1lYW4gPSBtZWFuLnVuc3F1ZWV6ZSgyKS5yZXBlYXQoMSwgMSwgTCkKICAgICAgICAgICAgc3RkID0gc3RkLnVuc3F1ZWV6ZSgyKS5yZXBlYXQoMSwgMSwgTCkKICAgICAgICAgICAgYXR0biA9IHRvcmNoLmNhdChbeCwgbWVhbiwgc3RkXSwgZGltPTEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYXR0biA9IHgKCiAgICAgICAgIyBBcHBseSBsYXllcnMKICAgICAgICBhdHRuID0gc2VsZi5jb252KHNlbGYudGFuaChzZWxmLnRkbm4oYXR0bikpKQoKICAgICAgICAjIEZpbHRlciBvdXQgemVyby1wYWRkaW5ncwogICAgICAgIGF0dG4gPSBhdHRuLm1hc2tlZF9maWxsKG1hc2sgPT0gMCwgZmxvYXQoIi1pbmYiKSkKCiAgICAgICAgYXR0biA9IEYuc29mdG1heChhdHRuLCBkaW09MikKICAgICAgICBtZWFuLCBzdGQgPSBfY29tcHV0ZV9zdGF0aXN0aWNzKHgsIGF0dG4pCiAgICAgICAgIyBBcHBlbmQgbWVhbiBhbmQgc3RkIG9mIHRoZSBiYXRjaAogICAgICAgIHBvb2xlZF9zdGF0cyA9IHRvcmNoLmNhdCgobWVhbiwgc3RkKSwgZGltPTEpCiAgICAgICAgcG9vbGVkX3N0YXRzID0gcG9vbGVkX3N0YXRzLnVuc3F1ZWV6ZSgyKQoKICAgICAgICByZXR1cm4gcG9vbGVkX3N0YXRzCgoKY2xhc3MgU0VSZXMyTmV0QmxvY2soTW9kdWxlKToKICAgICIiIkFuIGltcGxlbWVudGF0aW9uIG9mIGJ1aWxkaW5nIGJsb2NrIGluIEVDQVBBLVRETk4sIGkuZS4sCiAgICBURE5OLVJlczJOZXQtVEROTi1TRUJsb2NrLgoKICAgIEFyZ3VtZW50cwogICAgLS0tLS0tLS0tLQogICAgb3V0X2NoYW5uZWxzOiBpbnQKICAgICAgICBUaGUgbnVtYmVyIG9mIG91dHB1dCBjaGFubmVscy4KICAgIHJlczJuZXRfc2NhbGU6IGludAogICAgICAgIFRoZSBzY2FsZSBvZiB0aGUgUmVzMk5ldCBibG9jay4KICAgIGtlcm5lbF9zaXplOiBpbnQKICAgICAgICBUaGUga2VybmVsIHNpemUgb2YgdGhlIFRETk4gYmxvY2tzLgogICAgZGlsYXRpb246IGludAogICAgICAgIFRoZSBkaWxhdGlvbiBvZiB0aGUgUmVzMk5ldCBibG9jay4KICAgIGdyb3VwczogaW50CiAgICBOdW1iZXIgb2YgYmxvY2tlZCBjb25uZWN0aW9ucyBmcm9tIGlucHV0IGNoYW5uZWxzIHRvIG91dHB1dCBjaGFubmVscy4KCiAgICBFeGFtcGxlCiAgICAtLS0tLS0tCiAgICA+Pj4geCA9IHRvcmNoLnJhbmQoOCwgMTIwLCA2NCkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gY29udiA9IFNFUmVzMk5ldEJsb2NrKDY0LCA2NCwgcmVzMm5ldF9zY2FsZT00KQogICAgPj4+IG91dCA9IGNvbnYoeCkudHJhbnNwb3NlKDEsIDIpCiAgICA+Pj4gb3V0LnNoYXBlCiAgICB0b3JjaC5TaXplKFs4LCAxMjAsIDY0XSkKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGluX2NoYW5uZWxzOiBpbnQsCiAgICAgICAgb3V0X2NoYW5uZWxzOiBpbnQsCiAgICAgICAgcmVzMm5ldF9zY2FsZTogaW50ID0gOCwKICAgICAgICBzZV9jaGFubmVsczogaW50ID0gMTI4LAogICAgICAgIGtlcm5lbF9zaXplOiBpbnQgPSAxLAogICAgICAgIGRpbGF0aW9uOiBpbnQgPSAxLAogICAgICAgIGdyb3VwczogaW50ID0gMSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5vdXRfY2hhbm5lbHMgPSBvdXRfY2hhbm5lbHMKICAgICAgICBzZWxmLnRkbm4xID0gVEROTkJsb2NrKAogICAgICAgICAgICBpbl9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICBrZXJuZWxfc2l6ZT0xLAogICAgICAgICAgICBkaWxhdGlvbj0xLAogICAgICAgICAgICBncm91cHM9Z3JvdXBzLAogICAgICAgICkKICAgICAgICBzZWxmLnJlczJuZXRfYmxvY2sgPSBSZXMyTmV0QmxvY2soCiAgICAgICAgICAgIG91dF9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICByZXMybmV0X3NjYWxlLAogICAgICAgICAgICBrZXJuZWxfc2l6ZSwKICAgICAgICAgICAgZGlsYXRpb24sCiAgICAgICAgKQogICAgICAgIHNlbGYudGRubjIgPSBURE5OQmxvY2soCiAgICAgICAgICAgIG91dF9jaGFubmVscywKICAgICAgICAgICAgb3V0X2NoYW5uZWxzLAogICAgICAgICAgICBrZXJuZWxfc2l6ZT0xLAogICAgICAgICAgICBkaWxhdGlvbj0xLAogICAgICAgICAgICBncm91cHM9Z3JvdXBzLAogICAgICAgICkKICAgICAgICBzZWxmLnNlX2Jsb2NrID0gU0VCbG9jayhvdXRfY2hhbm5lbHMsIHNlX2NoYW5uZWxzLCBvdXRfY2hhbm5lbHMpCgogICAgICAgIHNlbGYuc2hvcnRjdXQgPSBOb25lCiAgICAgICAgaWYgaW5fY2hhbm5lbHMgIT0gb3V0X2NoYW5uZWxzOgogICAgICAgICAgICBzZWxmLnNob3J0Y3V0ID0gQ29udjFkKAogICAgICAgICAgICAgICAgaW5fY2hhbm5lbHM9aW5fY2hhbm5lbHMsCiAgICAgICAgICAgICAgICBvdXRfY2hhbm5lbHM9b3V0X2NoYW5uZWxzLAogICAgICAgICAgICAgICAga2VybmVsX3NpemU9MSwKICAgICAgICAgICAgKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYsIHg6IFRlbnNvciwgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lKSAtPiBUZW5zb3I6CiAgICAgICAgIiIiUHJvY2Vzc2VzIHRoZSBpbnB1dCB0ZW5zb3IgeCBhbmQgcmV0dXJucyBhbiBvdXRwdXQgdGVuc29yLiIiIgogICAgICAgIHJlc2lkdWFsID0geAogICAgICAgIGlmIHNlbGYuc2hvcnRjdXQ6CiAgICAgICAgICAgIHJlc2lkdWFsID0gc2VsZi5zaG9ydGN1dCh4KQoKICAgICAgICB4ID0gc2VsZi50ZG5uMSh4KQogICAgICAgIHggPSBzZWxmLnJlczJuZXRfYmxvY2soeCkKICAgICAgICB4ID0gc2VsZi50ZG5uMih4KQogICAgICAgIHggPSBzZWxmLnNlX2Jsb2NrKHgsIHBhZGRpbmdfbWFzaz1wYWRkaW5nX21hc2spCgogICAgICAgIHJldHVybiB4ICsgcmVzaWR1YWwK'),
    ('seamless/build/lib/seamless_communication/models/generator/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgoKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgTWFwcGluZwoKZnJvbSBmYWlyc2VxMi5hc3NldHMgaW1wb3J0IGFzc2V0X3N0b3JlLCBkb3dubG9hZF9tYW5hZ2VyCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzIGltcG9ydCBDb25maWdMb2FkZXIsIE1vZGVsTG9hZGVyCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci5idWlsZGVyIGltcG9ydCAoCiAgICBWb2NvZGVyQ29uZmlnLAogICAgY3JlYXRlX3ZvY29kZXJfbW9kZWwsCiAgICB2b2NvZGVyX2FyY2hzLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuZ2VuZXJhdG9yLnZvY29kZXIgaW1wb3J0IFByZXRzc2VsVm9jb2RlcgoKbG9hZF9wcmV0c3NlbF92b2NvZGVyX2NvbmZpZyA9IENvbmZpZ0xvYWRlcltWb2NvZGVyQ29uZmlnXShhc3NldF9zdG9yZSwgdm9jb2Rlcl9hcmNocykKCgpsb2FkX3ByZXRzc2VsX3ZvY29kZXJfbW9kZWwgPSBNb2RlbExvYWRlcltQcmV0c3NlbFZvY29kZXIsIFZvY29kZXJDb25maWddKAogICAgYXNzZXRfc3RvcmUsCiAgICBkb3dubG9hZF9tYW5hZ2VyLAogICAgbG9hZF9wcmV0c3NlbF92b2NvZGVyX2NvbmZpZywKICAgIGNyZWF0ZV92b2NvZGVyX21vZGVsLAogICAgcmVzdHJpY3RfY2hlY2twb2ludHM9RmFsc2UsCikK'),
    ('seamless/build/lib/seamless_communication/models/generator/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBMaXN0LCBMaXRlcmFsLCBPcHRpb25hbCwgVHVwbGUKCmZyb20gZmFpcnNlcTIuZGF0YSBpbXBvcnQgVm9jYWJ1bGFyeUluZm8KZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMuYXJjaF9yZWdpc3RyeSBpbXBvcnQgQXJjaGl0ZWN0dXJlUmVnaXN0cnkKZnJvbSBmYWlyc2VxMi5ubi5lbWJlZGRpbmcgaW1wb3J0IFN0YW5kYXJkRW1iZWRkaW5nLCBpbml0X3NjYWxlZF9lbWJlZGRpbmcKZnJvbSBmYWlyc2VxMi5ubi5wb3NpdGlvbl9lbmNvZGVyIGltcG9ydCBTaW51c29pZGFsUG9zaXRpb25FbmNvZGVyCmZyb20gZmFpcnNlcTIubm4ucHJvamVjdGlvbiBpbXBvcnQgTGluZWFyCmZyb20gZmFpcnNlcTIubm4udHJhbnNmb3JtZXIgaW1wb3J0ICgKICAgIE11bHRpaGVhZEF0dGVudGlvbiwKICAgIFN0YW5kYXJkTXVsdGloZWFkQXR0ZW50aW9uLAogICAgVHJhbnNmb3JtZXJOb3JtT3JkZXIsCiAgICBjcmVhdGVfZGVmYXVsdF9zZHBhLAopCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2gubm4gaW1wb3J0IENvbnYxZAoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5nZW5lcmF0b3IuZWNhcGFfdGRubl9idWlsZGVyIGltcG9ydCAoCiAgICBFY2FwYVRETk5CdWlsZGVyLAogICAgRWNhcGFURE5OQ29uZmlnLAogICAgZWNhcGFfdGRubl9hcmNocywKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmdlbmVyYXRvci52b2NvZGVyIGltcG9ydCAoCiAgICBQcmV0c3NlbERlY29kZXJGcm9udGVuZCwKICAgIFByZXRzc2VsRW5jb2RlckZyb250ZW5kLAogICAgUHJldHNzZWxWb2NvZGVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuZmZ0X2RlY29kZXIgaW1wb3J0IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5mZnRfZGVjb2Rlcl9sYXllciBpbXBvcnQgKAogICAgQ29udjFkQmxvY2ssCiAgICBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyTGF5ZXIsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sZW5ndGhfcmVndWxhdG9yIGltcG9ydCAoCiAgICBWYXJpYW5jZUFkYXB0b3IsCiAgICBWYXJpYW5jZVByZWRpY3RvciwKKQpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LnQydV9idWlsZGVyIGltcG9ydCBWYXJpYW5jZVByZWRpY3RvckNvbmZpZwoKCkBkYXRhY2xhc3MKY2xhc3MgUHJldHNzZWxFbmNvZGVyRnJvbnRlbmRDb25maWc6CiAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnOiBFY2FwYVRETk5Db25maWcKICAgIGRyb3BvdXQ6IGZsb2F0CiAgICBsYW5nX2VtYmVkX2RpbTogT3B0aW9uYWxbaW50XSA9IE5vbmUKCgpAZGF0YWNsYXNzCmNsYXNzIEZGVExheWVyQ29uZmlnOgogICAgYXR0ZW50aW9uX2hlYWRzOiBpbnQKICAgIGhpZGRlbl9kaW06IGludAogICAga2VybmVsX3NpemU6IGludAogICAgZHJvcG91dDogZmxvYXQKICAgIGNvbnYxZF9kcm9wb3V0OiBmbG9hdAogICAgZmlsbV9jb25kX2RpbTogaW50CiAgICB1c2VfZmlsbTogYm9vbCA9IEZhbHNlCgoKQGRhdGFjbGFzcwpjbGFzcyBQcmV0c3NlbERlY29kZXJGcm9udGVuZENvbmZpZzoKICAgIHVwc2FtcGxpbmdfdHlwZTogTGl0ZXJhbFsiZ2F1c3NpYW4iLCAiaGFyZCJdCiAgICB2YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnOiBWYXJpYW5jZVByZWRpY3RvckNvbmZpZwogICAgYWRkX3ZhcmlhbmNlX3BhcmFsbGVsOiBib29sCgoKQGRhdGFjbGFzcwpjbGFzcyBWb2NvZGVyQ29uZmlnOgogICAgIiIiSG9sZHMgdGhlIGNvbmZpZ3VyYXRpb24gb2YgYSBWb2NvZGVyIG1vZGVsLiIiIgoKICAgIGVuY29kZXJfZnJvbnRlbmRfY29uZmlnOiBQcmV0c3NlbEVuY29kZXJGcm9udGVuZENvbmZpZwogICAgZmZ0X2xheWVyX2NvbmZpZzogRkZUTGF5ZXJDb25maWcKICAgIGRlY29kZXJfZnJvbnRlbmRfY29uZmlnOiBQcmV0c3NlbERlY29kZXJGcm9udGVuZENvbmZpZwogICAgcG5fY29udl9kaW06IGludAogICAgcG5fbGF5ZXJzOiBpbnQKICAgIHBuX2NvbnZfa2VybmVsX3NpemU6IGludAogICAgcG5fZHJvcG91dDogZmxvYXQKICAgIHZvY2FiX2luZm86IFZvY2FidWxhcnlJbmZvCiAgICBtb2RlbF9kaW06IGludAogICAgbWF4X3NlcV9sZW46IGludAogICAgZW5jb2Rlcl9sYXllcnM6IGludAogICAgZGVjb2Rlcl9sYXllcnM6IGludAogICAgbWVsX2RpbTogaW50CiAgICBsYW5nczogTGlzdCAgIyB0eXBlOiBpZ25vcmVbdHlwZS1hcmddCiAgICB1cHNhbXBsZV9yYXRlczogTGlzdFtpbnRdCiAgICB1cHNhbXBsZV9rZXJuZWxfc2l6ZXM6IExpc3RbaW50XQogICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsOiBpbnQKICAgIHJlc2Jsb2NrX2tlcm5lbF9zaXplczogTGlzdFtpbnRdCiAgICByZXNibG9ja19kaWxhdGlvbl9zaXplczogTGlzdFtMaXN0W2ludF1dCiAgICBjaGFubmVsczogaW50CiAgICBkaW1lbnNpb246IGludAogICAgbl9maWx0ZXJzOiBpbnQKICAgIHJhdGlvczogTGlzdFtpbnRdCiAgICBub3JtOiBMaXRlcmFsWyJub25lIiwgIndlaWdodF9ub3JtIiwgInNwZWN0cmFsX25vcm0iLCAidGltZV9ncm91cF9ub3JtIl0KICAgIG5vcm1fcGFyYW1zOiBEaWN0W3N0ciwgQW55XQogICAga2VybmVsX3NpemU6IGludAogICAgbGFzdF9rZXJuZWxfc2l6ZTogaW50CiAgICByZXNpZHVhbF9rZXJuZWxfc2l6ZTogaW50CiAgICBjYXVzYWw6IGJvb2wKICAgIHBhZF9tb2RlOiBzdHIKICAgIHRydWVfc2tpcDogYm9vbAogICAgY29tcHJlc3M6IGludAogICAgbHN0bTogaW50CiAgICBkaXNhYmxlX25vcm1fb3V0ZXJfYmxvY2tzOiBpbnQKICAgIHRyaW1fcmlnaHRfcmF0aW86IGZsb2F0CiAgICBnY212bl9zdGF0czogRGljdFtzdHIsIExpc3RdICAjIHR5cGU6IGlnbm9yZVt0eXBlLWFyZ10KCgp2b2NvZGVyX2FyY2hzID0gQXJjaGl0ZWN0dXJlUmVnaXN0cnlbVm9jb2RlckNvbmZpZ10oInZvY29kZXJfcHJldHNzZWwiKQoKCnZvY29kZXJfYXJjaCA9IHZvY29kZXJfYXJjaHMuZGVjb3JhdG9yCgoKZGVmIHByZXRzc2VsX2NvbmZpZygpIC0+ICgKICAgIFR1cGxlW1ByZXRzc2VsRW5jb2RlckZyb250ZW5kQ29uZmlnLCBGRlRMYXllckNvbmZpZywgUHJldHNzZWxEZWNvZGVyRnJvbnRlbmRDb25maWddCik6CiAgICBwcm9zb2R5X2VuY29kZXJfY29uZmlnID0gZWNhcGFfdGRubl9hcmNocy5nZXRfY29uZmlnKCJiYXNlIikKCiAgICBlbmNvZGVyX2Zyb250ZW5kX2NvbmZpZyA9IFByZXRzc2VsRW5jb2RlckZyb250ZW5kQ29uZmlnKAogICAgICAgIHByb3NvZHlfZW5jb2Rlcl9jb25maWc9cHJvc29keV9lbmNvZGVyX2NvbmZpZywKICAgICAgICBkcm9wb3V0PTAuMiwKICAgICAgICBsYW5nX2VtYmVkX2RpbT02NCwKICAgICkKCiAgICBmZnRfbGF5ZXJfY29uZmlnID0gRkZUTGF5ZXJDb25maWcoCiAgICAgICAgYXR0ZW50aW9uX2hlYWRzPTIsCiAgICAgICAgaGlkZGVuX2RpbT0xMDI0LAogICAgICAgIGtlcm5lbF9zaXplPTksCiAgICAgICAgZHJvcG91dD0wLjAsCiAgICAgICAgY29udjFkX2Ryb3BvdXQ9MC4yLAogICAgICAgIHVzZV9maWxtPVRydWUsCiAgICAgICAgZmlsbV9jb25kX2RpbT01NzYsCiAgICApCgogICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZyA9IFZhcmlhbmNlUHJlZGljdG9yQ29uZmlnKAogICAgICAgIHZhcl9wcmVkX2hpZGRlbl9kaW09NTEyLAogICAgICAgIHZhcl9wcmVkX2tlcm5lbF9zaXplPTUsCiAgICAgICAgdmFyX3ByZWRfZHJvcG91dD0wLjUsCiAgICAgICAgdXNlX2ZpbG09VHJ1ZSwKICAgICAgICBmaWxtX2NvbmRfZGltPTU3NiwKICAgICkKCiAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZyA9IFByZXRzc2VsRGVjb2RlckZyb250ZW5kQ29uZmlnKAogICAgICAgIHVwc2FtcGxpbmdfdHlwZT0iZ2F1c3NpYW4iLAogICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWc9dmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZywKICAgICAgICBhZGRfdmFyaWFuY2VfcGFyYWxsZWw9VHJ1ZSwKICAgICkKICAgIHJldHVybiAoCiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZF9jb25maWcsCiAgICAgICAgZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICkKCgpAdm9jb2Rlcl9hcmNoKCIxNmtoeiIpCmRlZiBfMTZraHpfdm9jb2RlcigpIC0+IFZvY29kZXJDb25maWc6CiAgICAoCiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZF9jb25maWcsCiAgICAgICAgZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICkgPSBwcmV0c3NlbF9jb25maWcoKQoKICAgIHJldHVybiBWb2NvZGVyQ29uZmlnKAogICAgICAgIGVuY29kZXJfZnJvbnRlbmRfY29uZmlnPWVuY29kZXJfZnJvbnRlbmRfY29uZmlnLAogICAgICAgIGZmdF9sYXllcl9jb25maWc9ZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZz1kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICAgICBwbl9jb252X2RpbT01MTIsCiAgICAgICAgcG5fbGF5ZXJzPTUsCiAgICAgICAgcG5fY29udl9rZXJuZWxfc2l6ZT01LAogICAgICAgIHBuX2Ryb3BvdXQ9MC41LAogICAgICAgIHZvY2FiX2luZm89Vm9jYWJ1bGFyeUluZm8oCiAgICAgICAgICAgIHNpemU9MTAwMDQsIHVua19pZHg9MywgYm9zX2lkeD0wLCBlb3NfaWR4PTIsIHBhZF9pZHg9MQogICAgICAgICksCiAgICAgICAgbW9kZWxfZGltPTI1NiwKICAgICAgICBtYXhfc2VxX2xlbj0xMDAwMCwKICAgICAgICBlbmNvZGVyX2xheWVycz00LAogICAgICAgIGRlY29kZXJfbGF5ZXJzPTQsCiAgICAgICAgbWVsX2RpbT04MCwKICAgICAgICBsYW5ncz1bXSwKICAgICAgICB1cHNhbXBsZV9yYXRlcz1bNSwgNCwgNCwgMl0sCiAgICAgICAgdXBzYW1wbGVfa2VybmVsX3NpemVzPVsxMCwgOCwgOCwgNF0sCiAgICAgICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsPTUxMiwKICAgICAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM9WzMsIDcsIDExXSwKICAgICAgICByZXNibG9ja19kaWxhdGlvbl9zaXplcz1bWzEsIDMsIDVdLCBbMSwgMywgNV0sIFsxLCAzLCA1XV0sCiAgICAgICAgY2hhbm5lbHM9MSwKICAgICAgICBkaW1lbnNpb249MTI4LAogICAgICAgIG5fZmlsdGVycz0zMiwKICAgICAgICByYXRpb3M9WzgsIDUsIDQsIDJdLAogICAgICAgIG5vcm09IndlaWdodF9ub3JtIiwKICAgICAgICBub3JtX3BhcmFtcz17fSwKICAgICAgICBrZXJuZWxfc2l6ZT03LAogICAgICAgIGxhc3Rfa2VybmVsX3NpemU9NywKICAgICAgICByZXNpZHVhbF9rZXJuZWxfc2l6ZT0zLAogICAgICAgIGNhdXNhbD1GYWxzZSwKICAgICAgICBwYWRfbW9kZT0iY29uc3RhbnQiLAogICAgICAgIHRydWVfc2tpcD1UcnVlLAogICAgICAgIGNvbXByZXNzPTIsCiAgICAgICAgbHN0bT0yLAogICAgICAgIGRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3M9MCwKICAgICAgICB0cmltX3JpZ2h0X3JhdGlvPTEuMCwKICAgICAgICBnY212bl9zdGF0cz17fSwKICAgICkKCgpAdm9jb2Rlcl9hcmNoKCIyNGtoeiIpCmRlZiBfMjRraHpfdm9jb2RlcigpIC0+IFZvY29kZXJDb25maWc6CiAgICAoCiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZF9jb25maWcsCiAgICAgICAgZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICkgPSBwcmV0c3NlbF9jb25maWcoKQoKICAgIHJldHVybiBWb2NvZGVyQ29uZmlnKAogICAgICAgIGVuY29kZXJfZnJvbnRlbmRfY29uZmlnPWVuY29kZXJfZnJvbnRlbmRfY29uZmlnLAogICAgICAgIGZmdF9sYXllcl9jb25maWc9ZmZ0X2xheWVyX2NvbmZpZywKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZz1kZWNvZGVyX2Zyb250ZW5kX2NvbmZpZywKICAgICAgICBwbl9jb252X2RpbT01MTIsCiAgICAgICAgcG5fbGF5ZXJzPTUsCiAgICAgICAgcG5fY29udl9rZXJuZWxfc2l6ZT01LAogICAgICAgIHBuX2Ryb3BvdXQ9MC41LAogICAgICAgIHZvY2FiX2luZm89Vm9jYWJ1bGFyeUluZm8oCiAgICAgICAgICAgIHNpemU9MTAwMDQsIHVua19pZHg9MywgYm9zX2lkeD0wLCBlb3NfaWR4PTIsIHBhZF9pZHg9MQogICAgICAgICksCiAgICAgICAgbW9kZWxfZGltPTI1NiwKICAgICAgICBtYXhfc2VxX2xlbj0xMDAwMCwKICAgICAgICBlbmNvZGVyX2xheWVycz00LAogICAgICAgIGRlY29kZXJfbGF5ZXJzPTQsCiAgICAgICAgbWVsX2RpbT04MCwKICAgICAgICBsYW5ncz1bXSwKICAgICAgICB1cHNhbXBsZV9yYXRlcz1bNSwgNCwgNCwgM10sCiAgICAgICAgdXBzYW1wbGVfa2VybmVsX3NpemVzPVsxMCwgOCwgOCwgNl0sCiAgICAgICAgdXBzYW1wbGVfaW5pdGlhbF9jaGFubmVsPTUxMiwKICAgICAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM9WzMsIDcsIDExXSwKICAgICAgICByZXNibG9ja19kaWxhdGlvbl9zaXplcz1bWzEsIDMsIDVdLCBbMSwgMywgNV0sIFsxLCAzLCA1XV0sCiAgICAgICAgY2hhbm5lbHM9MSwKICAgICAgICBkaW1lbnNpb249MTI4LAogICAgICAgIG5fZmlsdGVycz0zMiwKICAgICAgICByYXRpb3M9WzgsIDUsIDQsIDJdLAogICAgICAgIG5vcm09IndlaWdodF9ub3JtIiwKICAgICAgICBub3JtX3BhcmFtcz17fSwKICAgICAgICBrZXJuZWxfc2l6ZT03LAogICAgICAgIGxhc3Rfa2VybmVsX3NpemU9NywKICAgICAgICByZXNpZHVhbF9rZXJuZWxfc2l6ZT0zLAogICAgICAgIGNhdXNhbD1GYWxzZSwKICAgICAgICBwYWRfbW9kZT0iY29uc3RhbnQiLAogICAgICAgIHRydWVfc2tpcD1UcnVlLAogICAgICAgIGNvbXByZXNzPTIsCiAgICAgICAgbHN0bT0yLAogICAgICAgIGRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3M9MCwKICAgICAgICB0cmltX3JpZ2h0X3JhdGlvPTEuMCwKICAgICAgICBnY212bl9zdGF0cz17fSwKICAgICkKCgpjbGFzcyBQcmV0c3NlbFZvY29kZXJCdWlsZGVyOgogICAgY29uZmlnOiBWb2NvZGVyQ29uZmlnCiAgICBwcm9zb2R5X2VuY29kZXJfYnVpbGRlcjogRWNhcGFURE5OQnVpbGRlcgogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZQogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IFZvY29kZXJDb25maWcsCiAgICAgICAgcHJvc29keV9lbmNvZGVyX2J1aWxkZXI6IEVjYXBhVEROTkJ1aWxkZXIsCiAgICAgICAgKiwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIgogICAgICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgICAgIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZS4KICAgICAgICA6cGFyYW0gZGV2aWNlOgogICAgICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgICAgICA6cGFyYW0gZHR5cGU6CiAgICAgICAgICAgIFRoZSBkYXRhIHR5cGUgb2YgbW9kdWxlIHBhcmFtZXRlcnMgYW5kIGJ1ZmZlcnMuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5jb25maWcgPSBjb25maWcKICAgICAgICBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyID0gcHJvc29keV9lbmNvZGVyX2J1aWxkZXIKICAgICAgICBzZWxmLmRldmljZSwgc2VsZi5kdHlwZSA9IGRldmljZSwgZHR5cGUKCiAgICBkZWYgYnVpbGRfZW1iZWRfdG9rZW5zKHNlbGYpIC0+IFN0YW5kYXJkRW1iZWRkaW5nOgogICAgICAgICIiIkJ1aWxkIGEgdW5pdCBlbWJlZGRpbmcgdGFibGUuIiIiCgogICAgICAgIHJldHVybiBTdGFuZGFyZEVtYmVkZGluZygKICAgICAgICAgICAgbnVtX2VtYmVkZGluZ3M9c2VsZi5jb25maWcudm9jYWJfaW5mby5zaXplLAogICAgICAgICAgICBlbWJlZGRpbmdfZGltPXNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgaW5pdF9mbj1pbml0X3NjYWxlZF9lbWJlZGRpbmcsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2ZmdChzZWxmLCBudW1fbGF5ZXJzOiBpbnQpIC0+IEZlZWRGb3J3YXJkVHJhbnNmb3JtZXI6CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBlbmNvZGVyLiIiIgoKICAgICAgICBsYXllcnMgPSBbc2VsZi5idWlsZF9mZnRfbGF5ZXIoKSBmb3IgXyBpbiByYW5nZShudW1fbGF5ZXJzKV0KCiAgICAgICAgcmV0dXJuIEZlZWRGb3J3YXJkVHJhbnNmb3JtZXIoCiAgICAgICAgICAgIGxheWVycywKICAgICAgICAgICAgbm9ybV9vcmRlcj1UcmFuc2Zvcm1lck5vcm1PcmRlci5QT1NULAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgIGRlZiBidWlsZF9mZnRfbGF5ZXIoc2VsZikgLT4gRmVlZEZvcndhcmRUcmFuc2Zvcm1lckxheWVyOgogICAgICAgICIiIkJ1aWxkIGEgVHJhbnNmb3JtZXIgZGVjb2RlciBsYXllci4iIiIKCiAgICAgICAgc2VsZl9hdHRuID0gc2VsZi5idWlsZF9hdHRlbnRpb24oc2VsZi5jb25maWcuZmZ0X2xheWVyX2NvbmZpZy5hdHRlbnRpb25faGVhZHMpCgogICAgICAgIGNvbnYxZCA9IENvbnYxZEJsb2NrKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmZmdF9sYXllcl9jb25maWcuaGlkZGVuX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcuZmZ0X2xheWVyX2NvbmZpZy5rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgYmlhcz1UcnVlLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICByZXR1cm4gRmVlZEZvcndhcmRUcmFuc2Zvcm1lckxheWVyKAogICAgICAgICAgICBzZWxmX2F0dG4sCiAgICAgICAgICAgIGNvbnYxZCwKICAgICAgICAgICAgZHJvcG91dF9wPTAuMCwgICMgZmFpcnNlcTEgZG9lc24ndCBoYXZlIHRoaXMKICAgICAgICAgICAgY29udjFkX2Ryb3BvdXRfcD1zZWxmLmNvbmZpZy5mZnRfbGF5ZXJfY29uZmlnLmNvbnYxZF9kcm9wb3V0LAogICAgICAgICAgICB1c2VfZmlsbT1zZWxmLmNvbmZpZy5mZnRfbGF5ZXJfY29uZmlnLnVzZV9maWxtLAogICAgICAgICAgICBmaWxtX2NvbmRfZGltPXNlbGYuY29uZmlnLmZmdF9sYXllcl9jb25maWcuZmlsbV9jb25kX2RpbSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICBkZWYgYnVpbGRfYXR0ZW50aW9uKHNlbGYsIG51bV9oZWFkczogaW50KSAtPiBNdWx0aWhlYWRBdHRlbnRpb246CiAgICAgICAgIiIiQnVpbGQgYSBUcmFuc2Zvcm1lciBtdWx0aS1oZWFkIGF0dGVudGlvbiBsYXllci4iIiIKCiAgICAgICAgc2RwYSA9IGNyZWF0ZV9kZWZhdWx0X3NkcGEoYXR0bl9kcm9wb3V0X3A9c2VsZi5jb25maWcuZmZ0X2xheWVyX2NvbmZpZy5kcm9wb3V0KQoKICAgICAgICByZXR1cm4gU3RhbmRhcmRNdWx0aWhlYWRBdHRlbnRpb24oCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgbnVtX2hlYWRzLAogICAgICAgICAgICBzZHBhPXNkcGEsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgZGVmIGJ1aWxkX3ZhcmlhbmNlX2FkYXB0b3IoCiAgICAgICAgc2VsZiwKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kX2NvbmZpZzogUHJldHNzZWxEZWNvZGVyRnJvbnRlbmRDb25maWcsCiAgICApIC0+IFZhcmlhbmNlQWRhcHRvcjoKICAgICAgICAiIiJCdWlsZCBhIHZhcmlhbmNlIGFkYXB0b3IgbW9kdWxlLiIiIgoKICAgICAgICB2YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnID0gZGVjb2Rlcl9mcm9udGVuZF9jb25maWcudmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZwoKICAgICAgICBwaXRjaF9wcmVkaWN0b3IgPSBWYXJpYW5jZVByZWRpY3RvcigKICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICB2YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnLnZhcl9wcmVkX2hpZGRlbl9kaW0sCiAgICAgICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcudmFyX3ByZWRfa2VybmVsX3NpemUsCiAgICAgICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcudmFyX3ByZWRfZHJvcG91dCwKICAgICAgICAgICAgdXNlX2ZpbG09dmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy51c2VfZmlsbSwKICAgICAgICAgICAgZmlsbV9jb25kX2RpbT12YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnLmZpbG1fY29uZF9kaW0sCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgICAgIGVtYmVkX3BpdGNoID0gQ29udjFkKDEsIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwga2VybmVsX3NpemU9MSkKCiAgICAgICAgdnV2X3ByZWRpY3RvciA9IFZhcmlhbmNlUHJlZGljdG9yKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcudmFyX3ByZWRfaGlkZGVuX2RpbSwKICAgICAgICAgICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9kcm9wb3V0LAogICAgICAgICAgICB1c2VfZmlsbT12YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnLnVzZV9maWxtLAogICAgICAgICAgICBmaWxtX2NvbmRfZGltPXZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcuZmlsbV9jb25kX2RpbSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgZW5lcmd5X3ByZWRpY3RvciA9IFZhcmlhbmNlUHJlZGljdG9yKAogICAgICAgICAgICBzZWxmLmNvbmZpZy5tb2RlbF9kaW0sCiAgICAgICAgICAgIHZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcudmFyX3ByZWRfaGlkZGVuX2RpbSwKICAgICAgICAgICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgdmFyaWFuY2VfcHJlZGljdG9yX2NvbmZpZy52YXJfcHJlZF9kcm9wb3V0LAogICAgICAgICAgICB1c2VfZmlsbT12YXJpYW5jZV9wcmVkaWN0b3JfY29uZmlnLnVzZV9maWxtLAogICAgICAgICAgICBmaWxtX2NvbmRfZGltPXZhcmlhbmNlX3ByZWRpY3Rvcl9jb25maWcuZmlsbV9jb25kX2RpbSwKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgZW1iZWRfZW5lcmd5ID0gQ29udjFkKDEsIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwga2VybmVsX3NpemU9MSkKCiAgICAgICAgdmFyaWFuY2VfYWRhcHRvciA9IFZhcmlhbmNlQWRhcHRvcigKICAgICAgICAgICAgZHVyYXRpb25fcHJlZGljdG9yPU5vbmUsCiAgICAgICAgICAgIHBpdGNoX3ByZWRpY3Rvcj1waXRjaF9wcmVkaWN0b3IsCiAgICAgICAgICAgIGVtYmVkX3BpdGNoPWVtYmVkX3BpdGNoLAogICAgICAgICAgICB2dXZfcHJlZGljdG9yPXZ1dl9wcmVkaWN0b3IsCiAgICAgICAgICAgIGVuZXJneV9wcmVkaWN0b3I9ZW5lcmd5X3ByZWRpY3RvciwKICAgICAgICAgICAgZW1iZWRfZW5lcmd5PWVtYmVkX2VuZXJneSwKICAgICAgICAgICAgYWRkX3ZhcmlhbmNlX3BhcmFsbGVsPWRlY29kZXJfZnJvbnRlbmRfY29uZmlnLmFkZF92YXJpYW5jZV9wYXJhbGxlbCwKICAgICAgICAgICAgdXBzYW1wbGluZ190eXBlPWRlY29kZXJfZnJvbnRlbmRfY29uZmlnLnVwc2FtcGxpbmdfdHlwZSwKICAgICAgICApCgogICAgICAgIHJldHVybiB2YXJpYW5jZV9hZGFwdG9yCgogICAgZGVmIGJ1aWxkX21vZGVsKHNlbGYpIC0+IFByZXRzc2VsVm9jb2RlcjoKICAgICAgICAiIiJidWlsZCB0aGUgcHJldHNzZWwgdm9jb2Rlci4iIiIKICAgICAgICBwcm9zb2R5X2VuY29kZXIgPSBzZWxmLnByb3NvZHlfZW5jb2Rlcl9idWlsZGVyLmJ1aWxkX21vZGVsKCkKICAgICAgICBlbWJlZF90b2tlbnMgPSBzZWxmLmJ1aWxkX2VtYmVkX3Rva2VucygpCgogICAgICAgIGVtYmVkX3Bvc2l0aW9ucyA9IFNpbnVzb2lkYWxQb3NpdGlvbkVuY29kZXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubWF4X3NlcV9sZW4sCiAgICAgICAgICAgIF9sZWdhY3lfcGFkX2lkeD1zZWxmLmNvbmZpZy52b2NhYl9pbmZvLnBhZF9pZHgsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICApCiAgICAgICAgbGFuZ190b19pbmRleCA9IHtsOiBpIGZvciBpLCBsIGluIGVudW1lcmF0ZShzZWxmLmNvbmZpZy5sYW5ncyl9CiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZCA9IFByZXRzc2VsRW5jb2RlckZyb250ZW5kKAogICAgICAgICAgICBwcm9zb2R5X2VuY29kZXIsCiAgICAgICAgICAgIGVtYmVkX3Rva2VucywKICAgICAgICAgICAgZW1iZWRfcG9zaXRpb25zLAogICAgICAgICAgICBsYW5nX3RvX2luZGV4LAogICAgICAgICAgICBsYW5nX2VtYmVkX2RpbT1zZWxmLmNvbmZpZy5lbmNvZGVyX2Zyb250ZW5kX2NvbmZpZy5sYW5nX2VtYmVkX2RpbSwKICAgICAgICAgICAgZHJvcG91dF9wPXNlbGYuY29uZmlnLmVuY29kZXJfZnJvbnRlbmRfY29uZmlnLmRyb3BvdXQsCiAgICAgICAgICAgIGRldmljZT1zZWxmLmRldmljZSwKICAgICAgICAgICAgZHR5cGU9c2VsZi5kdHlwZSwKICAgICAgICApCgogICAgICAgIGVuY29kZXIgPSBzZWxmLmJ1aWxkX2ZmdChzZWxmLmNvbmZpZy5lbmNvZGVyX2xheWVycykKCiAgICAgICAgdmFyaWFuY2VfYWRhcHRvciA9IHNlbGYuYnVpbGRfdmFyaWFuY2VfYWRhcHRvcigKICAgICAgICAgICAgc2VsZi5jb25maWcuZGVjb2Rlcl9mcm9udGVuZF9jb25maWcKICAgICAgICApCgogICAgICAgIGRlY29kZXJfZnJvbnRlbmQgPSBQcmV0c3NlbERlY29kZXJGcm9udGVuZCgKICAgICAgICAgICAgdmFyaWFuY2VfYWRhcHRvciwKICAgICAgICAgICAgZW1iZWRfcG9zaXRpb25zLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBkZWNvZGVyID0gc2VsZi5idWlsZF9mZnQoc2VsZi5jb25maWcuZGVjb2Rlcl9sYXllcnMpCgogICAgICAgIGZpbmFsX3Byb2ogPSBMaW5lYXIoCiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgc2VsZi5jb25maWcubWVsX2RpbSwKICAgICAgICAgICAgYmlhcz1UcnVlLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBnY212bl9tZWFuID0gZ2Ntdm5fc3RkID0gTm9uZQogICAgICAgIGlmIHNlbGYuY29uZmlnLmdjbXZuX3N0YXRzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBnY212bl9tZWFuID0gc2VsZi5jb25maWcuZ2Ntdm5fc3RhdHNbIm1lYW4iXQogICAgICAgICAgICBnY212bl9zdGQgPSBzZWxmLmNvbmZpZy5nY212bl9zdGF0c1sic3RkIl0KCiAgICAgICAgdm9jb2RlciA9IFByZXRzc2VsVm9jb2RlcigKICAgICAgICAgICAgZW5jb2Rlcl9mcm9udGVuZD1lbmNvZGVyX2Zyb250ZW5kLAogICAgICAgICAgICBlbmNvZGVyPWVuY29kZXIsCiAgICAgICAgICAgIGRlY29kZXJfZnJvbnRlbmQ9ZGVjb2Rlcl9mcm9udGVuZCwKICAgICAgICAgICAgZGVjb2Rlcj1kZWNvZGVyLAogICAgICAgICAgICBmaW5hbF9wcm9qPWZpbmFsX3Byb2osCiAgICAgICAgICAgIHBuX25fY2hhbm5lbHM9c2VsZi5jb25maWcucG5fY29udl9kaW0sCiAgICAgICAgICAgIHBuX2tlcm5lbF9zaXplPXNlbGYuY29uZmlnLnBuX2NvbnZfa2VybmVsX3NpemUsCiAgICAgICAgICAgIHBuX2xheWVycz1zZWxmLmNvbmZpZy5wbl9sYXllcnMsCiAgICAgICAgICAgIHBuX2Ryb3BvdXQ9c2VsZi5jb25maWcucG5fZHJvcG91dCwKICAgICAgICAgICAgdXBzYW1wbGVfcmF0ZXM9c2VsZi5jb25maWcudXBzYW1wbGVfcmF0ZXMsCiAgICAgICAgICAgIHVwc2FtcGxlX2tlcm5lbF9zaXplcz1zZWxmLmNvbmZpZy51cHNhbXBsZV9rZXJuZWxfc2l6ZXMsCiAgICAgICAgICAgIHVwc2FtcGxlX2luaXRpYWxfY2hhbm5lbD1zZWxmLmNvbmZpZy51cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwsCiAgICAgICAgICAgIHJlc2Jsb2NrX2tlcm5lbF9zaXplcz1zZWxmLmNvbmZpZy5yZXNibG9ja19rZXJuZWxfc2l6ZXMsCiAgICAgICAgICAgIHJlc2Jsb2NrX2RpbGF0aW9uX3NpemVzPXNlbGYuY29uZmlnLnJlc2Jsb2NrX2RpbGF0aW9uX3NpemVzLAogICAgICAgICAgICBjaGFubmVscz1zZWxmLmNvbmZpZy5jaGFubmVscywKICAgICAgICAgICAgZGltZW5zaW9uPXNlbGYuY29uZmlnLmRpbWVuc2lvbiwKICAgICAgICAgICAgbl9maWx0ZXJzPXNlbGYuY29uZmlnLm5fZmlsdGVycywKICAgICAgICAgICAgcmF0aW9zPXNlbGYuY29uZmlnLnJhdGlvcywKICAgICAgICAgICAgbm9ybT1zZWxmLmNvbmZpZy5ub3JtLAogICAgICAgICAgICBub3JtX3BhcmFtcz1zZWxmLmNvbmZpZy5ub3JtX3BhcmFtcywKICAgICAgICAgICAga2VybmVsX3NpemU9c2VsZi5jb25maWcua2VybmVsX3NpemUsCiAgICAgICAgICAgIGxhc3Rfa2VybmVsX3NpemU9c2VsZi5jb25maWcubGFzdF9rZXJuZWxfc2l6ZSwKICAgICAgICAgICAgcmVzaWR1YWxfa2VybmVsX3NpemU9c2VsZi5jb25maWcucmVzaWR1YWxfa2VybmVsX3NpemUsCiAgICAgICAgICAgIGNhdXNhbD1zZWxmLmNvbmZpZy5jYXVzYWwsCiAgICAgICAgICAgIHBhZF9tb2RlPXNlbGYuY29uZmlnLnBhZF9tb2RlLAogICAgICAgICAgICB0cnVlX3NraXA9c2VsZi5jb25maWcudHJ1ZV9za2lwLAogICAgICAgICAgICBjb21wcmVzcz1zZWxmLmNvbmZpZy5jb21wcmVzcywKICAgICAgICAgICAgbHN0bT1zZWxmLmNvbmZpZy5sc3RtLAogICAgICAgICAgICBkaXNhYmxlX25vcm1fb3V0ZXJfYmxvY2tzPXNlbGYuY29uZmlnLmRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3MsCiAgICAgICAgICAgIHRyaW1fcmlnaHRfcmF0aW89c2VsZi5jb25maWcudHJpbV9yaWdodF9yYXRpbywKICAgICAgICAgICAgZ2Ntdm5fbWVhbj1nY212bl9tZWFuLAogICAgICAgICAgICBnY212bl9zdGQ9Z2Ntdm5fc3RkLAogICAgICAgICkKICAgICAgICB2b2NvZGVyLnRvKGR0eXBlPXNlbGYuZHR5cGUsIGRldmljZT1zZWxmLmRldmljZSkKICAgICAgICByZXR1cm4gdm9jb2RlcgoKCmRlZiBjcmVhdGVfdm9jb2Rlcl9tb2RlbCgKICAgIGNvbmZpZzogVm9jb2RlckNvbmZpZywKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKKSAtPiBQcmV0c3NlbFZvY29kZXI6CiAgICBwcm9zb2R5X2VuY29kZXJfYnVpbGRlciA9IEVjYXBhVEROTkJ1aWxkZXIoCiAgICAgICAgY29uZmlnLmVuY29kZXJfZnJvbnRlbmRfY29uZmlnLnByb3NvZHlfZW5jb2Rlcl9jb25maWcsCiAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICBkdHlwZT1kdHlwZSwKICAgICkKICAgIHJldHVybiBQcmV0c3NlbFZvY29kZXJCdWlsZGVyKAogICAgICAgIGNvbmZpZywgcHJvc29keV9lbmNvZGVyX2J1aWxkZXIsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICApLmJ1aWxkX21vZGVsKCkK'),
    ('seamless/build/lib/seamless_communication/models/generator/ecapa_tdnn_builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIE9wdGlvbmFsCgpmcm9tIGZhaXJzZXEyLm1vZGVscy51dGlscy5hcmNoX3JlZ2lzdHJ5IGltcG9ydCBBcmNoaXRlY3R1cmVSZWdpc3RyeQpmcm9tIGZhaXJzZXEyLnR5cGluZyBpbXBvcnQgRGF0YVR5cGUsIERldmljZQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5nZW5lcmF0b3IuZWNhcGFfdGRubiBpbXBvcnQgRUNBUEFfVEROTgoKCkBkYXRhY2xhc3MKY2xhc3MgRWNhcGFURE5OQ29uZmlnOgogICAgY2hhbm5lbHM6IExpc3RbaW50XQogICAga2VybmVsX3NpemVzOiBMaXN0W2ludF0KICAgIGRpbGF0aW9uczogTGlzdFtpbnRdCiAgICBhdHRlbnRpb25fY2hhbm5lbHM6IGludAogICAgcmVzMm5ldF9zY2FsZTogaW50CiAgICBzZV9jaGFubmVsczogaW50CiAgICBnbG9iYWxfY29udGV4dDogYm9vbAogICAgZ3JvdXBzOiBMaXN0W2ludF0KICAgIGVtYmVkX2RpbTogaW50CiAgICBpbnB1dF9kaW06IGludAoKCmVjYXBhX3Rkbm5fYXJjaHMgPSBBcmNoaXRlY3R1cmVSZWdpc3RyeVtFY2FwYVRETk5Db25maWddKCJlY2FwYV90ZG5uIikKCmVjYXBhX3Rkbm5fYXJjaCA9IGVjYXBhX3Rkbm5fYXJjaHMuZGVjb3JhdG9yCgoKQGVjYXBhX3Rkbm5fYXJjaCgiYmFzZSIpCmRlZiBfYmFzZV9lY2FwYV90ZG5uKCkgLT4gRWNhcGFURE5OQ29uZmlnOgogICAgcmV0dXJuIEVjYXBhVEROTkNvbmZpZygKICAgICAgICBjaGFubmVscz1bNTEyLCA1MTIsIDUxMiwgNTEyLCAxNTM2XSwKICAgICAgICBrZXJuZWxfc2l6ZXM9WzUsIDMsIDMsIDMsIDFdLAogICAgICAgIGRpbGF0aW9ucz1bMSwgMiwgMywgNCwgMV0sCiAgICAgICAgYXR0ZW50aW9uX2NoYW5uZWxzPTEyOCwKICAgICAgICByZXMybmV0X3NjYWxlPTgsCiAgICAgICAgc2VfY2hhbm5lbHM9MTI4LAogICAgICAgIGdsb2JhbF9jb250ZXh0PVRydWUsCiAgICAgICAgZ3JvdXBzPVsxLCAxLCAxLCAxLCAxXSwKICAgICAgICBlbWJlZF9kaW09NTEyLAogICAgICAgIGlucHV0X2RpbT04MCwKICAgICkKCgpjbGFzcyBFY2FwYVRETk5CdWlsZGVyOgogICAgIiIiCiAgICBCdWlsZGVyIG1vZHVsZSBmb3IgRUNBUEFfVEROTiBtb2RlbAogICAgIiIiCgogICAgY29uZmlnOiBFY2FwYVRETk5Db25maWcKICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXQogICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvbmZpZzogRWNhcGFURE5OQ29uZmlnLAogICAgICAgICosCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gY29uZmlnOgogICAgICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICAgICAgOnBhcmFtIGRldmljZXY6CiAgICAgICAgICAgIFRoZSBkZXZpY2Ugb24gd2hpY2ggdG8gaW5pdGlhbGl6ZSBtb2R1bGVzLgogICAgICAgIDpwYXJhbSBkdHlwZToKICAgICAgICAgICAgVGhlIGRhdGEgdHlwZSBvZiBtb2R1bGUgcGFyYW1ldGVycyBhbmQgYnVmZmVycy4KICAgICAgICAiIiIKICAgICAgICBzZWxmLmNvbmZpZyA9IGNvbmZpZwoKICAgICAgICBzZWxmLmRldmljZSwgc2VsZi5kdHlwZSA9IGRldmljZSwgZHR5cGUKCiAgICBkZWYgYnVpbGRfbW9kZWwoc2VsZikgLT4gRUNBUEFfVEROTjoKICAgICAgICAiIiJCdWlsZCBhIG1vZGVsLiIiIgogICAgICAgIG1vZGVsID0gRUNBUEFfVEROTigKICAgICAgICAgICAgc2VsZi5jb25maWcuY2hhbm5lbHMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmtlcm5lbF9zaXplcywKICAgICAgICAgICAgc2VsZi5jb25maWcuZGlsYXRpb25zLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5hdHRlbnRpb25fY2hhbm5lbHMsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnJlczJuZXRfc2NhbGUsCiAgICAgICAgICAgIHNlbGYuY29uZmlnLnNlX2NoYW5uZWxzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5nbG9iYWxfY29udGV4dCwKICAgICAgICAgICAgc2VsZi5jb25maWcuZ3JvdXBzLAogICAgICAgICAgICBzZWxmLmNvbmZpZy5lbWJlZF9kaW0sCiAgICAgICAgICAgIHNlbGYuY29uZmlnLmlucHV0X2RpbSwKICAgICAgICApCiAgICAgICAgbW9kZWwudG8oZGV2aWNlPXNlbGYuZGV2aWNlLCBkdHlwZT1zZWxmLmR0eXBlKQogICAgICAgIHJldHVybiBtb2RlbAoKCmRlZiBjcmVhdGVfZWNhcGFfdGRubl9tb2RlbCgKICAgIGNvbmZpZzogRWNhcGFURE5OQ29uZmlnLAogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAopIC0+IEVDQVBBX1RETk46CiAgICAiIiJDcmVhdGUgYSBFQ0FQQV9URE5OIG1vZGVsLgoKICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgOnBhcmFtIGRldmljZToKICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgIDpwYXJhbSBkdHlwZToKICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgIiIiCgogICAgcmV0dXJuIEVjYXBhVEROTkJ1aWxkZXIoY29uZmlnLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkuYnVpbGRfbW9kZWwoKQo='),
    ('seamless/build/lib/seamless_communication/models/generator/vocoder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLgojIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiMKIyBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZQojIE1JVF9MSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCgpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBMaXN0LCBMaXRlcmFsLCBPcHRpb25hbCwgVHVwbGUKCmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4uZnVuY3Rpb25hbCBhcyBGCmZyb20gZmFpcnNlcTIubm4uZW1iZWRkaW5nIGltcG9ydCBFbWJlZGRpbmcsIFN0YW5kYXJkRW1iZWRkaW5nCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgUGFkZGluZ01hc2sKZnJvbSBmYWlyc2VxMi5ubi5wb3NpdGlvbl9lbmNvZGVyIGltcG9ydCBQb3NpdGlvbkVuY29kZXIKZnJvbSBmYWlyc2VxMi5ubi5wcm9qZWN0aW9uIGltcG9ydCBQcm9qZWN0aW9uCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gdG9yY2gubm4gaW1wb3J0ICgKICAgIEVMVSwKICAgIEJhdGNoTm9ybTFkLAogICAgQ29udjFkLAogICAgQ29udlRyYW5zcG9zZTFkLAogICAgRHJvcG91dCwKICAgIE1vZHVsZSwKICAgIE1vZHVsZUxpc3QsCiAgICBQYXJhbWV0ZXIsCiAgICBTZXF1ZW50aWFsLAogICAgVGFuaCwKICAgIGluaXQsCikKZnJvbSB0b3JjaC5ubi51dGlscy53ZWlnaHRfbm9ybSBpbXBvcnQgcmVtb3ZlX3dlaWdodF9ub3JtLCB3ZWlnaHRfbm9ybQoKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5nZW5lcmF0b3IuZWNhcGFfdGRubiBpbXBvcnQgRUNBUEFfVEROTgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmZmdF9kZWNvZGVyIGltcG9ydCBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkubGVuZ3RoX3JlZ3VsYXRvciBpbXBvcnQgVmFyaWFuY2VBZGFwdG9yCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudm9jb2Rlci5oaWZpZ2FuIGltcG9ydCAoCiAgICBMUkVMVV9TTE9QRSwKICAgIFJlc0Jsb2NrLAogICAgaW5pdF93ZWlnaHRzLAopCgpmcm9tIC5zdHJlYW1hYmxlIGltcG9ydCAoCiAgICBTdHJlYW1hYmxlQ29udjFkLAogICAgU3RyZWFtYWJsZUNvbnZUcmFuc3Bvc2UxZCwKICAgIFN0cmVhbWFibGVMU1RNLAogICAgU3RyZWFtYWJsZVJlc25ldEJsb2NrLAopCgpFTFVfUEFSQU1TOiBEaWN0W3N0ciwgQW55XSA9IHsiYWxwaGEiOiAxLjB9CgoKY2xhc3MgUHJldHNzZWxFbmNvZGVyRnJvbnRlbmQoTW9kdWxlKToKICAgICIiIgogICAgUmVwcmVzZW50IEVuY29kZXIgZnJvbnRlbmQsIGluY2x1ZGluZyB0aGUgcHJvc29keSBlbmNvZGVyIGFuZCBsYW5ndWFnZSBlbWJlZGRpbmcKICAgICIiIgoKICAgIHByb3NvZHlfZW5jb2RlcjogRUNBUEFfVEROTgogICAgZW1iZWRfdG9rZW5zOiBFbWJlZGRpbmcKICAgIGVtYmVkX3Bvc2l0aW9uczogUG9zaXRpb25FbmNvZGVyCiAgICBwb3NfZW1iX2FscGhhOiBQYXJhbWV0ZXIKICAgIGVtYmVkX2xhbmc6IEVtYmVkZGluZwogICAgZHJvcG91dDogRHJvcG91dAoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHByb3NvZHlfZW5jb2RlcjogRUNBUEFfVEROTiwKICAgICAgICBlbWJlZF90b2tlbnM6IEVtYmVkZGluZywKICAgICAgICBlbWJlZF9wb3NpdGlvbnM6IFBvc2l0aW9uRW5jb2RlciwKICAgICAgICBsYW5nX3RvX2luZGV4OiBEaWN0W3N0ciwgaW50XSwKICAgICAgICBsYW5nX2VtYmVkX2RpbTogT3B0aW9uYWxbaW50XSwKICAgICAgICBkcm9wb3V0X3A6IGZsb2F0LAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IE9wdGlvbmFsW0RhdGFUeXBlXSA9IE5vbmUsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgICAgICBzZWxmLnByb3NvZHlfZW5jb2RlciA9IHByb3NvZHlfZW5jb2RlcgoKICAgICAgICBzZWxmLmVtYmVkX3Rva2VucyA9IGVtYmVkX3Rva2VucwoKICAgICAgICBzZWxmLmVtYmVkX3Bvc2l0aW9ucyA9IGVtYmVkX3Bvc2l0aW9ucwogICAgICAgIHNlbGYucG9zX2VtYl9hbHBoYSA9IFBhcmFtZXRlcih0b3JjaC5vbmVzKDEsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKSkKCiAgICAgICAgc2VsZi5sYW5nX3RvX2luZGV4ID0gbGFuZ190b19pbmRleAoKICAgICAgICBpZiBsYW5nX2VtYmVkX2RpbSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5lbWJlZF9sYW5nID0gU3RhbmRhcmRFbWJlZGRpbmcoCiAgICAgICAgICAgICAgICBsZW4obGFuZ190b19pbmRleCksIGxhbmdfZW1iZWRfZGltLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZQogICAgICAgICAgICApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9tb2R1bGUoImVtYmVkX2xhbmciLCBOb25lKQoKICAgICAgICBzZWxmLmRyb3BvdXQgPSBEcm9wb3V0KGRyb3BvdXRfcCkKCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKICAgICAgICBzZWxmLmR0eXBlID0gZHR5cGUKCiAgICBkZWYgZm9yd2FyZCgKICAgICAgICBzZWxmLAogICAgICAgIHNlcXM6IHRvcmNoLlRlbnNvciwKICAgICAgICBwYWRkaW5nX21hc2s6IE9wdGlvbmFsW1BhZGRpbmdNYXNrXSwKICAgICAgICBwcm9zb2R5X2lucHV0X3NlcXM6IHRvcmNoLlRlbnNvciwKICAgICAgICBwcm9zb2R5X3BhZGRpbmdfbWFzazogT3B0aW9uYWxbUGFkZGluZ01hc2tdLAogICAgICAgIHRndF9sYW5nOiBzdHIsCiAgICApIC0+IFR1cGxlW3RvcmNoLlRlbnNvciwgdG9yY2guVGVuc29yXToKICAgICAgICBwcm9zb2R5X2VtYnMgPSBzZWxmLnByb3NvZHlfZW5jb2RlcigKICAgICAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzLAogICAgICAgICAgICBwcm9zb2R5X3BhZGRpbmdfbWFzaywKICAgICAgICApLnVuc3F1ZWV6ZSgxKQoKICAgICAgICBpZiBzZWxmLmVtYmVkX2xhbmcgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGxhbmdfaW5kZXggPSBzZWxmLmxhbmdfdG9faW5kZXhbdGd0X2xhbmddCiAgICAgICAgICAgIGxhbmdfaW5kZXhfdGVuc29yID0gKAogICAgICAgICAgICAgICAgdG9yY2guVGVuc29yKFtsYW5nX2luZGV4XSkudG8oc2VxcykucmVwZWF0KHNlcXMuc2l6ZSgwKSwgMSkKICAgICAgICAgICAgKQogICAgICAgICAgICBsYW5nX2VtYmVkcyA9IHNlbGYuZW1iZWRfbGFuZyhsYW5nX2luZGV4X3RlbnNvcikKICAgICAgICAgICAgcHJvc29keV9lbWJzID0gdG9yY2guY2F0KFtwcm9zb2R5X2VtYnMsIGxhbmdfZW1iZWRzXSwgZGltPS0xKQoKICAgICAgICBzZXFzID0gc2VsZi5lbWJlZF90b2tlbnMoc2VxcykKICAgICAgICBzZXFzICs9IHNlbGYucG9zX2VtYl9hbHBoYSAqIChzZWxmLmVtYmVkX3Bvc2l0aW9ucyhzZXFzLCBwYWRkaW5nX21hc2spIC0gc2VxcykKICAgICAgICBzZXFzID0gc2VsZi5kcm9wb3V0KHNlcXMpCgogICAgICAgIHJldHVybiBzZXFzLCBwcm9zb2R5X2VtYnMKCgpjbGFzcyBQcmV0c3NlbERlY29kZXJGcm9udGVuZChNb2R1bGUpOgogICAgIiIiUmVwcmVzZW50IERlY29kZXIgZnJvbnRlbmQsIGluY2x1ZGluZyBWYXJpYW5jZUFkYXB0b3IgJiBQb3NpdGlvbmFsIGVtYmVkZGluZyIiIgoKICAgIHZhcmlhbmNlX2FkYXB0b3I6IFZhcmlhbmNlQWRhcHRvcgogICAgZW1iZWRfcG9zaXRpb25zOiBQb3NpdGlvbkVuY29kZXIKICAgIHBvc19lbWJfYWxwaGE6IFBhcmFtZXRlcgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHZhcmlhbmNlX2FkYXB0b3I6IFZhcmlhbmNlQWRhcHRvciwKICAgICAgICBlbWJlZF9wb3NpdGlvbnM6IFBvc2l0aW9uRW5jb2RlciwKICAgICAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgICAgIGR0eXBlOiBPcHRpb25hbFtEYXRhVHlwZV0gPSBOb25lLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICAgICAgc2VsZi52YXJpYW5jZV9hZGFwdG9yID0gdmFyaWFuY2VfYWRhcHRvcgogICAgICAgIHNlbGYuZW1iZWRfcG9zaXRpb25zID0gZW1iZWRfcG9zaXRpb25zCiAgICAgICAgc2VsZi5wb3NfZW1iX2FscGhhID0gUGFyYW1ldGVyKHRvcmNoLm9uZXMoMSwgZGV2aWNlPWRldmljZSwgZHR5cGU9ZHR5cGUpKQoKICAgICAgICBzZWxmLmRldmljZSA9IGRldmljZQogICAgICAgIHNlbGYuZHR5cGUgPSBkdHlwZQoKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogdG9yY2guVGVuc29yLAogICAgICAgIHBhZGRpbmdfbWFzazogUGFkZGluZ01hc2ssCiAgICAgICAgZHVyYXRpb25zOiBPcHRpb25hbFt0b3JjaC5UZW5zb3JdID0gTm9uZSwKICAgICAgICBkdXJhdGlvbl9mYWN0b3I6IGZsb2F0ID0gMS4wLAogICAgICAgIG1pbl9kdXJhdGlvbjogaW50ID0gMCwKICAgICAgICBmaWxtX2NvbmRfZW1iOiBPcHRpb25hbFt0b3JjaC5UZW5zb3JdID0gTm9uZSwKICAgICkgLT4gVHVwbGVbdG9yY2guVGVuc29yLCBQYWRkaW5nTWFza106CiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBfID0gc2VsZi52YXJpYW5jZV9hZGFwdG9yKAogICAgICAgICAgICBzZXFzLCBwYWRkaW5nX21hc2ssIGR1cmF0aW9ucywgZHVyYXRpb25fZmFjdG9yLCBtaW5fZHVyYXRpb24sIGZpbG1fY29uZF9lbWIKICAgICAgICApCgogICAgICAgIHNlcXMgKz0gc2VsZi5wb3NfZW1iX2FscGhhICogKHNlbGYuZW1iZWRfcG9zaXRpb25zKHNlcXMsIHBhZGRpbmdfbWFzaykgLSBzZXFzKQoKICAgICAgICByZXR1cm4gc2VxcywgcGFkZGluZ19tYXNrCgoKY2xhc3MgUHJldHNzZWxWb2NvZGVyKE1vZHVsZSk6CiAgICAiIiJUaGUgZXhwcmVzc2l2aXR5LXByZXNlcnZpbmcgdm9jb2RlciIiIgoKICAgIGVuY29kZXJfZnJvbnRlbmQ6IFByZXRzc2VsRW5jb2RlckZyb250ZW5kCiAgICBlbmNvZGVyOiBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyCiAgICBkZWNvZGVyX2Zyb250ZW5kOiBQcmV0c3NlbERlY29kZXJGcm9udGVuZAogICAgZGVjb2RlcjogRmVlZEZvcndhcmRUcmFuc2Zvcm1lcgogICAgZmluYWxfcHJvajogUHJvamVjdGlvbgoKICAgIGRlZiBfX2luaXRfXyggICMgdHlwZTogaWdub3JlW25vLXVudHlwZWQtZGVmXQogICAgICAgIHNlbGYsCiAgICAgICAgZW5jb2Rlcl9mcm9udGVuZDogUHJldHNzZWxFbmNvZGVyRnJvbnRlbmQsCiAgICAgICAgZW5jb2RlcjogRmVlZEZvcndhcmRUcmFuc2Zvcm1lciwKICAgICAgICBkZWNvZGVyX2Zyb250ZW5kOiBQcmV0c3NlbERlY29kZXJGcm9udGVuZCwKICAgICAgICBkZWNvZGVyOiBGZWVkRm9yd2FyZFRyYW5zZm9ybWVyLAogICAgICAgIGZpbmFsX3Byb2o6IFByb2plY3Rpb24sCiAgICAgICAgcG5fbl9jaGFubmVsczogaW50LAogICAgICAgIHBuX2tlcm5lbF9zaXplOiBpbnQsCiAgICAgICAgcG5fbGF5ZXJzOiBpbnQsCiAgICAgICAgcG5fZHJvcG91dDogZmxvYXQsCiAgICAgICAgdXBzYW1wbGVfcmF0ZXM6IExpc3RbaW50XSwKICAgICAgICB1cHNhbXBsZV9rZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWw6IGludCwKICAgICAgICByZXNibG9ja19rZXJuZWxfc2l6ZXM6IExpc3RbaW50XSwKICAgICAgICByZXNibG9ja19kaWxhdGlvbl9zaXplczogTGlzdFtMaXN0W2ludF1dLAogICAgICAgIG1lbF9kaW06IGludCA9IDgwLAogICAgICAgIGFkZF91cHNfb3V0X3BhZDogYm9vbCA9IFRydWUsCiAgICAgICAgY2hhbm5lbHM6IGludCA9IDEsCiAgICAgICAgZGltZW5zaW9uOiBpbnQgPSAxMjgsCiAgICAgICAgbl9maWx0ZXJzOiBpbnQgPSAzMiwKICAgICAgICByYXRpb3M6IExpc3RbaW50XSA9IFs4LCA1LCA0LCAyXSwKICAgICAgICBub3JtOiBMaXRlcmFsWwogICAgICAgICAgICAibm9uZSIsICJ3ZWlnaHRfbm9ybSIsICJzcGVjdHJhbF9ub3JtIiwgInRpbWVfZ3JvdXBfbm9ybSIKICAgICAgICBdID0gIm5vbmUiLAogICAgICAgIG5vcm1fcGFyYW1zOiBEaWN0W3N0ciwgQW55XSA9IHt9LAogICAgICAgIGtlcm5lbF9zaXplOiBpbnQgPSA3LAogICAgICAgIGxhc3Rfa2VybmVsX3NpemU6IGludCA9IDcsCiAgICAgICAgcmVzaWR1YWxfa2VybmVsX3NpemU6IGludCA9IDMsCiAgICAgICAgY2F1c2FsOiBib29sID0gRmFsc2UsCiAgICAgICAgcGFkX21vZGU6IHN0ciA9ICJjb25zdGFudCIsCiAgICAgICAgdHJ1ZV9za2lwOiBib29sID0gVHJ1ZSwKICAgICAgICBjb21wcmVzczogaW50ID0gMiwKICAgICAgICBsc3RtOiBpbnQgPSAwLAogICAgICAgIGRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3M6IGludCA9IDAsCiAgICAgICAgdHJpbV9yaWdodF9yYXRpbzogZmxvYXQgPSAxLjAsCiAgICAgICAgZ2Ntdm5fbWVhbjogT3B0aW9uYWxbTGlzdFtmbG9hdF1dID0gTm9uZSwKICAgICAgICBnY212bl9zdGQ6IE9wdGlvbmFsW0xpc3RbZmxvYXRdXSA9IE5vbmUsCiAgICAgICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdID0gTm9uZSwKICAgICAgICBkdHlwZTogT3B0aW9uYWxbRGF0YVR5cGVdID0gTm9uZSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5lbmNvZGVyX2Zyb250ZW5kID0gZW5jb2Rlcl9mcm9udGVuZAogICAgICAgIHNlbGYuZW5jb2RlciA9IGVuY29kZXIKICAgICAgICBzZWxmLmRlY29kZXJfZnJvbnRlbmQgPSBkZWNvZGVyX2Zyb250ZW5kCiAgICAgICAgc2VsZi5kZWNvZGVyID0gZGVjb2RlcgogICAgICAgIHNlbGYuZmluYWxfcHJvaiA9IGZpbmFsX3Byb2oKICAgICAgICBtdWx0ID0gMQogICAgICAgIHN0cmVhbV9sYXllcnM6IExpc3RbTW9kdWxlXSA9IFsKICAgICAgICAgICAgU3RyZWFtYWJsZUNvbnYxZCgKICAgICAgICAgICAgICAgIGNoYW5uZWxzLAogICAgICAgICAgICAgICAgbXVsdCAqIG5fZmlsdGVycywKICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICAgICAgbm9ybT0ibm9uZSIgaWYgZGlzYWJsZV9ub3JtX291dGVyX2Jsb2NrcyA+PSAxIGVsc2Ugbm9ybSwKICAgICAgICAgICAgICAgIG5vcm1fa3dhcmdzPW5vcm1fcGFyYW1zLAogICAgICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgICAgIHBhZF9tb2RlPXBhZF9tb2RlLAogICAgICAgICAgICAgICAgYWN0aXZhdGlvbj1UYW5oKCksCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICkKICAgICAgICBdCiAgICAgICAgIyBEb3duc2FtcGxlIHRvIGZyb20gYXVkaW8gc2NhbGUKICAgICAgICBmb3IgaSwgcmF0aW8gaW4gZW51bWVyYXRlKGxpc3QocmV2ZXJzZWQocmF0aW9zKSkpOgogICAgICAgICAgICBibG9ja19ub3JtID0gIm5vbmUiIGlmIGRpc2FibGVfbm9ybV9vdXRlcl9ibG9ja3MgPj0gaSArIDIgZWxzZSBub3JtCiAgICAgICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZVJlc25ldEJsb2NrKAogICAgICAgICAgICAgICAgICAgIG11bHQgKiBuX2ZpbHRlcnMsCiAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemVzPVtyZXNpZHVhbF9rZXJuZWxfc2l6ZSwgMV0sCiAgICAgICAgICAgICAgICAgICAgZGlsYXRpb25zPVsxLCAxXSwKICAgICAgICAgICAgICAgICAgICBub3JtPWJsb2NrX25vcm0sCiAgICAgICAgICAgICAgICAgICAgbm9ybV9wYXJhbXM9bm9ybV9wYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgICAgICAgICBwYWRfbW9kZT1wYWRfbW9kZSwKICAgICAgICAgICAgICAgICAgICBjb21wcmVzcz1jb21wcmVzcywKICAgICAgICAgICAgICAgICAgICB0cnVlX3NraXA9dHJ1ZV9za2lwLAogICAgICAgICAgICAgICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoRUxVKCoqRUxVX1BBUkFNUykpCiAgICAgICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZUNvbnYxZCgKICAgICAgICAgICAgICAgICAgICBtdWx0ICogbl9maWx0ZXJzLAogICAgICAgICAgICAgICAgICAgIG11bHQgKiBuX2ZpbHRlcnMgKiAyLAogICAgICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplPXJhdGlvICogMiwKICAgICAgICAgICAgICAgICAgICBzdHJpZGU9cmF0aW8sCiAgICAgICAgICAgICAgICAgICAgbm9ybT1ibG9ja19ub3JtLAogICAgICAgICAgICAgICAgICAgIG5vcm1fa3dhcmdzPW5vcm1fcGFyYW1zLAogICAgICAgICAgICAgICAgICAgIGNhdXNhbD1jYXVzYWwsCiAgICAgICAgICAgICAgICAgICAgcGFkX21vZGU9cGFkX21vZGUsCiAgICAgICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBtdWx0ICo9IDIKCiAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoU3RyZWFtYWJsZUxTVE0obXVsdCAqIG5fZmlsdGVycywgbnVtX2xheWVycz1sc3RtKSkKICAgICAgICBzdHJlYW1fbGF5ZXJzLmFwcGVuZChFTFUoKipFTFVfUEFSQU1TKSkKICAgICAgICBuX2Jsb2NrcyA9IGxlbihyYXRpb3MpICsgMgogICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICBTdHJlYW1hYmxlQ29udjFkKAogICAgICAgICAgICAgICAgbXVsdCAqIG5fZmlsdGVycywKICAgICAgICAgICAgICAgIGRpbWVuc2lvbiwKICAgICAgICAgICAgICAgIGxhc3Rfa2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICBub3JtPSJub25lIiBpZiBkaXNhYmxlX25vcm1fb3V0ZXJfYmxvY2tzID09IG5fYmxvY2tzIGVsc2Ugbm9ybSwKICAgICAgICAgICAgICAgIG5vcm1fa3dhcmdzPW5vcm1fcGFyYW1zLAogICAgICAgICAgICAgICAgY2F1c2FsPWNhdXNhbCwKICAgICAgICAgICAgICAgIHBhZF9tb2RlPXBhZF9tb2RlLAogICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICApCiAgICAgICAgKQogICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICBTdHJlYW1hYmxlQ29udjFkKAogICAgICAgICAgICAgICAgZGltZW5zaW9uLAogICAgICAgICAgICAgICAgbXVsdCAqIG5fZmlsdGVycywKICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplLAogICAgICAgICAgICAgICAgbm9ybT0ibm9uZSIgaWYgZGlzYWJsZV9ub3JtX291dGVyX2Jsb2NrcyA9PSBuX2Jsb2NrcyBlbHNlIG5vcm0sCiAgICAgICAgICAgICAgICBub3JtX2t3YXJncz1ub3JtX3BhcmFtcywKICAgICAgICAgICAgICAgIGNhdXNhbD1jYXVzYWwsCiAgICAgICAgICAgICAgICBwYWRfbW9kZT1wYWRfbW9kZSwKICAgICAgICAgICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICBzdHJlYW1fbGF5ZXJzLmFwcGVuZCgKICAgICAgICAgICAgU3RyZWFtYWJsZUxTVE0oCiAgICAgICAgICAgICAgICBtdWx0ICogbl9maWx0ZXJzLCBudW1fbGF5ZXJzPWxzdG0sIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlCiAgICAgICAgICAgICkKICAgICAgICApCgogICAgICAgICMgcmVzYW1wbGUgYmFjayB0byByYXcgYXVkaW8gc2NhbGUKICAgICAgICBmb3IgaSwgcmF0aW8gaW4gZW51bWVyYXRlKHJhdGlvcyk6CiAgICAgICAgICAgIGJsb2NrX25vcm0gPSAoCiAgICAgICAgICAgICAgICAibm9uZSIgaWYgZGlzYWJsZV9ub3JtX291dGVyX2Jsb2NrcyA+PSBuX2Jsb2NrcyAtIChpICsgMSkgZWxzZSBub3JtCiAgICAgICAgICAgICkKICAgICAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoRUxVKCoqRUxVX1BBUkFNUykpCiAgICAgICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZUNvbnZUcmFuc3Bvc2UxZCgKICAgICAgICAgICAgICAgICAgICBtdWx0ICogbl9maWx0ZXJzLAogICAgICAgICAgICAgICAgICAgIG11bHQgKiBuX2ZpbHRlcnMgLy8gMiwKICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZT1yYXRpbyAqIDIsCiAgICAgICAgICAgICAgICAgICAgc3RyaWRlPXJhdGlvLAogICAgICAgICAgICAgICAgICAgIG5vcm09YmxvY2tfbm9ybSwKICAgICAgICAgICAgICAgICAgICBub3JtX2t3YXJncz1ub3JtX3BhcmFtcywKICAgICAgICAgICAgICAgICAgICBjYXVzYWw9Y2F1c2FsLAogICAgICAgICAgICAgICAgICAgIHRyaW1fcmlnaHRfcmF0aW89dHJpbV9yaWdodF9yYXRpbywKICAgICAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN0cmVhbV9sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgU3RyZWFtYWJsZVJlc25ldEJsb2NrKAogICAgICAgICAgICAgICAgICAgIG11bHQgKiBuX2ZpbHRlcnMgLy8gMiwKICAgICAgICAgICAgICAgICAgICBrZXJuZWxfc2l6ZXM9W3Jlc2lkdWFsX2tlcm5lbF9zaXplLCAxXSwKICAgICAgICAgICAgICAgICAgICBkaWxhdGlvbnM9WzEsIDFdLAogICAgICAgICAgICAgICAgICAgIG5vcm09YmxvY2tfbm9ybSwKICAgICAgICAgICAgICAgICAgICBub3JtX3BhcmFtcz1ub3JtX3BhcmFtcywKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0aW9uX3BhcmFtcz1FTFVfUEFSQU1TLAogICAgICAgICAgICAgICAgICAgIGNhdXNhbD1jYXVzYWwsCiAgICAgICAgICAgICAgICAgICAgcGFkX21vZGU9cGFkX21vZGUsCiAgICAgICAgICAgICAgICAgICAgY29tcHJlc3M9Y29tcHJlc3MsCiAgICAgICAgICAgICAgICAgICAgdHJ1ZV9za2lwPXRydWVfc2tpcCwKICAgICAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIG11bHQgLy89IDIKCiAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoRUxVKCoqRUxVX1BBUkFNUykpCiAgICAgICAgc3RyZWFtX2xheWVycy5hcHBlbmQoCiAgICAgICAgICAgIFN0cmVhbWFibGVDb252MWQoCiAgICAgICAgICAgICAgICBuX2ZpbHRlcnMsCiAgICAgICAgICAgICAgICBjaGFubmVscywKICAgICAgICAgICAgICAgIGxhc3Rfa2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICBub3JtPSJub25lIiBpZiBkaXNhYmxlX25vcm1fb3V0ZXJfYmxvY2tzID49IDEgZWxzZSBub3JtLAogICAgICAgICAgICAgICAgbm9ybV9rd2FyZ3M9bm9ybV9wYXJhbXMsCiAgICAgICAgICAgICAgICBjYXVzYWw9Y2F1c2FsLAogICAgICAgICAgICAgICAgcGFkX21vZGU9cGFkX21vZGUsCiAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICkKICAgICAgICApCiAgICAgICAgc2VsZi5uX3N0cmVhbXMgPSBsZW4oc3RyZWFtX2xheWVycykKICAgICAgICBjaHVua19zaXplID0gc2VsZi5uX3N0cmVhbXMgLy8gNAogICAgICAgIHN0cmVhbV9pZHggPSAwCgogICAgICAgIHNlbGYucG5fbGF5ZXJzID0gcG5fbGF5ZXJzCiAgICAgICAgc2VsZi5sYXllcnMgPSBNb2R1bGVMaXN0KCkKICAgICAgICBhc3NlcnQgcG5fa2VybmVsX3NpemUgJSAyID09IDEKICAgICAgICBmb3IgaSBpbiByYW5nZShwbl9sYXllcnMpOgogICAgICAgICAgICBjdXJfbGF5ZXJzID0gKAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgIENvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgbWVsX2RpbSBpZiBpID09IDAgZWxzZSBwbl9uX2NoYW5uZWxzLAogICAgICAgICAgICAgICAgICAgICAgICBwbl9uX2NoYW5uZWxzIGlmIGkgPCBwbl9sYXllcnMgLSAxIGVsc2UgbWVsX2RpbSwKICAgICAgICAgICAgICAgICAgICAgICAga2VybmVsX3NpemU9cG5fa2VybmVsX3NpemUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9InNhbWUiLAogICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2U9ZGV2aWNlLAogICAgICAgICAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIEJhdGNoTm9ybTFkKAogICAgICAgICAgICAgICAgICAgICAgICBwbl9uX2NoYW5uZWxzIGlmIGkgPCBwbl9sYXllcnMgLSAxIGVsc2UgbWVsX2RpbSwKICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICsgKFtUYW5oKCldIGlmIGkgPCBwbl9sYXllcnMgLSAxIGVsc2UgW10pCiAgICAgICAgICAgICAgICArIFtEcm9wb3V0KHBuX2Ryb3BvdXQpXQogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYubGF5ZXJzLmFwcGVuZChTZXF1ZW50aWFsKCpjdXJfbGF5ZXJzKSkKICAgICAgICBzZWxmLnJlc2V0X3BhcmFtZXRlcnMoKQogICAgICAgIHNlbGYubGF5ZXJzLmV4dGVuZChzdHJlYW1fbGF5ZXJzWzpjaHVua19zaXplXSkKICAgICAgICBzdHJlYW1faWR4ICs9IGNodW5rX3NpemUKICAgICAgICBzZWxmLmxheWVycy5hcHBlbmQoCiAgICAgICAgICAgIHdlaWdodF9ub3JtKAogICAgICAgICAgICAgICAgQ29udjFkKAogICAgICAgICAgICAgICAgICAgIG1lbF9kaW0gaWYgbWVsX2RpbSBpcyBub3QgTm9uZSBlbHNlIDgwLAogICAgICAgICAgICAgICAgICAgIHVwc2FtcGxlX2luaXRpYWxfY2hhbm5lbCwKICAgICAgICAgICAgICAgICAgICA3LAogICAgICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZz0ic2FtZSIsCiAgICAgICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgICAgICBkdHlwZT1kdHlwZSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICBzZWxmLmxheWVycy5leHRlbmQoc3RyZWFtX2xheWVyc1tzdHJlYW1faWR4IDogc3RyZWFtX2lkeCArIGNodW5rX3NpemVdKSAgIyBub3FhCiAgICAgICAgc3RyZWFtX2lkeCArPSBjaHVua19zaXplCgogICAgICAgIHNlbGYubnVtX2tlcm5lbHMgPSBsZW4ocmVzYmxvY2tfa2VybmVsX3NpemVzKQogICAgICAgIHNlbGYubnVtX3Vwc2FtcGxlcyA9IGxlbih1cHNhbXBsZV9yYXRlcykKICAgICAgICB1cHMgPSBNb2R1bGVMaXN0KCkKICAgICAgICBmb3IgaSwgKHUsIGspIGluIGVudW1lcmF0ZSh6aXAodXBzYW1wbGVfcmF0ZXMsIHVwc2FtcGxlX2tlcm5lbF9zaXplcykpOgogICAgICAgICAgICBvdXRfcGFkID0gdSAlIDIgaWYgYWRkX3Vwc19vdXRfcGFkIGVsc2UgMAogICAgICAgICAgICB1cHMuYXBwZW5kKAogICAgICAgICAgICAgICAgd2VpZ2h0X25vcm0oCiAgICAgICAgICAgICAgICAgICAgQ29udlRyYW5zcG9zZTFkKAogICAgICAgICAgICAgICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIqKmkpLAogICAgICAgICAgICAgICAgICAgICAgICB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIgKiogKGkgKyAxKSksCiAgICAgICAgICAgICAgICAgICAgICAgIGssCiAgICAgICAgICAgICAgICAgICAgICAgIHUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9KGsgLSB1KSAvLyAyICsgb3V0X3BhZCwKICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhZGRpbmc9b3V0X3BhZCwKICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgdXBzLmFwcGx5KGluaXRfd2VpZ2h0cykKICAgICAgICBzZWxmLmxheWVycy5leHRlbmQodXBzKQogICAgICAgIHNlbGYubGF5ZXJzLmV4dGVuZChzdHJlYW1fbGF5ZXJzW3N0cmVhbV9pZHggOiBzdHJlYW1faWR4ICsgY2h1bmtfc2l6ZV0pICAjIG5vcWEKICAgICAgICBzdHJlYW1faWR4ICs9IGNodW5rX3NpemUKCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5udW1fdXBzYW1wbGVzKToKICAgICAgICAgICAgY2ggPSB1cHNhbXBsZV9pbml0aWFsX2NoYW5uZWwgLy8gKDIgKiogKGkgKyAxKSkKICAgICAgICAgICAgZm9yIGssIGQgaW4gemlwKHJlc2Jsb2NrX2tlcm5lbF9zaXplcywgcmVzYmxvY2tfZGlsYXRpb25fc2l6ZXMpOgogICAgICAgICAgICAgICAgc2VsZi5sYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIFJlc0Jsb2NrKAogICAgICAgICAgICAgICAgICAgICAgICBjaCwKICAgICAgICAgICAgICAgICAgICAgICAgaywKICAgICAgICAgICAgICAgICAgICAgICAgZCwKICAgICAgICAgICAgICAgICAgICApLnRvKGRldmljZSwgZHR5cGU9ZHR5cGUpCiAgICAgICAgICAgICAgICApCiAgICAgICAgc2VsZi5sYXllcnMuZXh0ZW5kKHN0cmVhbV9sYXllcnNbc3RyZWFtX2lkeDpdKQoKICAgICAgICBjb252X3Bvc3QgPSB3ZWlnaHRfbm9ybShDb252MWQoY2gsIDEsIDcsIDEsIHBhZGRpbmc9MykpCiAgICAgICAgY29udl9wb3N0LmFwcGx5KGluaXRfd2VpZ2h0cykKICAgICAgICBzZWxmLmxheWVycy5hcHBlbmQoY29udl9wb3N0KQogICAgICAgIGZvciB1LCBrIGluIHppcCh1cHNhbXBsZV9yYXRlcywgdXBzYW1wbGVfa2VybmVsX3NpemVzKToKICAgICAgICAgICAgYXNzZXJ0IGsgPT0gMiAqIHUsIChrLCB1KQoKICAgICAgICBtZWFuID0gdG9yY2guemVyb3MoKG1lbF9kaW0sKSwgZHR5cGU9dG9yY2guZmxvYXQpCiAgICAgICAgc2NhbGUgPSB0b3JjaC56ZXJvcygobWVsX2RpbSwpLCBkdHlwZT10b3JjaC5mbG9hdCkKICAgICAgICBzZWxmLnJlZ2lzdGVyX2J1ZmZlcigibWVhbiIsIG1lYW4pCiAgICAgICAgc2VsZi5yZWdpc3Rlcl9idWZmZXIoInNjYWxlIiwgc2NhbGUpCgogICAgICAgIHNlbGYuZ2Ntdm5fbWVhbiA9IHRvcmNoLnRlbnNvcihnY212bl9tZWFuLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT1kdHlwZSkKICAgICAgICBzZWxmLmdjbXZuX3N0ZCA9IHRvcmNoLnRlbnNvcihnY212bl9zdGQsIGRldmljZT1kZXZpY2UsIGR0eXBlPWR0eXBlKQoKICAgIGRlZiByZXNldF9wYXJhbWV0ZXJzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5wbl9sYXllcnMpOgogICAgICAgICAgICBpbml0Lnhhdmllcl91bmlmb3JtXygKICAgICAgICAgICAgICAgIHNlbGYubGF5ZXJzW2ldWzBdLndlaWdodCwKICAgICAgICAgICAgICAgIGluaXQuY2FsY3VsYXRlX2dhaW4oInRhbmgiIGlmIGkgPCBzZWxmLnBuX2xheWVycyAtIDEgZWxzZSAibGluZWFyIiksCiAgICAgICAgICAgICkKCiAgICBkZWYgZ2Ntdm5fZGVub3JtYWxpemUoc2VsZiwgeDogdG9yY2guVGVuc29yKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAgICAgaWYgc2VsZi5nY212bl9tZWFuIGlzIE5vbmUgb3Igc2VsZi5nY212bl9zdGQgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZ2Ntdm5fbWVhbiBpcyBub3Qgc2V0IikKCiAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgeC5uZGltID09IDMKICAgICAgICAgICAgYW5kIHguc2hhcGVbMl0gPT0gc2VsZi5nY212bl9tZWFuLnNoYXBlWzBdCiAgICAgICAgICAgIGFuZCB4LnNoYXBlWzJdID09IHNlbGYuZ2Ntdm5fc3RkLnNoYXBlWzBdCiAgICAgICAgKQogICAgICAgIGdjbXZuX21lYW4gPSBzZWxmLmdjbXZuX21lYW4udG8oeCkKICAgICAgICBnY212bl9zdGQgPSBzZWxmLmdjbXZuX3N0ZC50byh4KQogICAgICAgIHggPSB4ICogZ2Ntdm5fc3RkLnZpZXcoMSwgMSwgLTEpLmV4cGFuZF9hcyh4KSAgIyB0eXBlOiBpZ25vcmVbYXR0ci1kZWZpbmVkXQogICAgICAgIHJldHVybiB4ICsgZ2Ntdm5fbWVhbi52aWV3KDEsIDEsIC0xKS5leHBhbmRfYXMoeCkgICMgdHlwZTogaWdub3JlW2F0dHItZGVmaW5lZCxuby1hbnktcmV0dXJuXQoKICAgIGRlZiBmb3J3YXJkKAogICAgICAgIHNlbGYsCiAgICAgICAgc2VxczogdG9yY2guVGVuc29yLAogICAgICAgIHRndF9sYW5nOiBzdHIsCiAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzOiB0b3JjaC5UZW5zb3IsCiAgICAgICAgcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgICAgIHByb3NvZHlfcGFkZGluZ19tYXNrOiBPcHRpb25hbFtQYWRkaW5nTWFza10gPSBOb25lLAogICAgICAgIGR1cmF0aW9uczogT3B0aW9uYWxbdG9yY2guVGVuc29yXSA9IE5vbmUsCiAgICAgICAgZHVyYXRpb25fZmFjdG9yOiBmbG9hdCA9IDEuMCwKICAgICAgICBtaW5fZHVyYXRpb246IGludCA9IDAsCiAgICAgICAgbm9ybWFsaXplX2JlZm9yZTogYm9vbCA9IFRydWUsCiAgICApIC0+IExpc3RbdG9yY2guVGVuc29yXToKICAgICAgICAjIEhlcmUgd2UgYXJlIGFkZGluZyBiYXRjaCBkaW1lbnNpb24gZm9yIHRoZSBwcmV0c3NlbAogICAgICAgIGlmIHNlcXMubmRpbSA8IDI6CiAgICAgICAgICAgIHNlcXMgPSBzZXFzLnVuc3F1ZWV6ZSgwKQogICAgICAgIGlmIHByb3NvZHlfaW5wdXRfc2Vxcy5uZGltIDwgMzoKICAgICAgICAgICAgcHJvc29keV9pbnB1dF9zZXFzID0gcHJvc29keV9pbnB1dF9zZXFzLnVuc3F1ZWV6ZSgwKQogICAgICAgIHNlcXMsIGNvbmRfZW1icyA9IHNlbGYuZW5jb2Rlcl9mcm9udGVuZCgKICAgICAgICAgICAgc2VxcywKICAgICAgICAgICAgcGFkZGluZ19tYXNrLAogICAgICAgICAgICBwcm9zb2R5X2lucHV0X3NlcXMsCiAgICAgICAgICAgIHByb3NvZHlfcGFkZGluZ19tYXNrLAogICAgICAgICAgICB0Z3RfbGFuZywKICAgICAgICApCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5lbmNvZGVyKHNlcXMsIHBhZGRpbmdfbWFzaywgY29uZF9lbWJzKQogICAgICAgIHNlcXMsIHBhZGRpbmdfbWFzayA9IHNlbGYuZGVjb2Rlcl9mcm9udGVuZCgKICAgICAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrLCBkdXJhdGlvbnMsIGR1cmF0aW9uX2ZhY3RvciwgbWluX2R1cmF0aW9uLCBjb25kX2VtYnMKICAgICAgICApCiAgICAgICAgc2VxcywgcGFkZGluZ19tYXNrID0gc2VsZi5kZWNvZGVyKHNlcXMsIHBhZGRpbmdfbWFzaywgY29uZF9lbWJzKQogICAgICAgIHNlcXMgPSBzZWxmLmZpbmFsX3Byb2ooc2VxcykKCiAgICAgICAgcG4gPSBzZXFzLnRyYW5zcG9zZSgxLCAyKSAgIyBCIHggVCB4IEMgLT4gQiB4IEMgeCBUCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5wbl9sYXllcnMpOgogICAgICAgICAgICBwbiA9IHNlbGYubGF5ZXJzW2ldKHBuKQogICAgICAgIHBuID0gcG4udHJhbnNwb3NlKDEsIDIpCgogICAgICAgIHggPSBzZXFzICsgcG4KICAgICAgICB4ID0gc2VsZi5nY212bl9kZW5vcm1hbGl6ZSh4KQoKICAgICAgICB3YXZzID0gW10KICAgICAgICBmb3IgaWR4LCBfeCBpbiBlbnVtZXJhdGUoeCk6CiAgICAgICAgICAgIF94ID0gX3hbOiBkdXJhdGlvbnNbaWR4XS5zdW0oKV0gICMgdHlwZTogaWdub3JlW2luZGV4XQogICAgICAgICAgICBpZiBub3JtYWxpemVfYmVmb3JlOgogICAgICAgICAgICAgICAgX3ggPSAoX3ggLSBzZWxmLm1lYW4pIC8gc2VsZi5zY2FsZQoKICAgICAgICAgICAgX3ggPSBfeC50cmFuc3Bvc2UoMSwgMCkudW5zcXVlZXplKDApCiAgICAgICAgICAgIGNodW5rX3NpemUgPSBzZWxmLm5fc3RyZWFtcyAvLyA0CiAgICAgICAgICAgIF94ID0gc2VsZi5sYXllcnNbc2VsZi5wbl9sYXllcnMgKyBjaHVua19zaXplXShfeCkKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5udW1fdXBzYW1wbGVzKToKICAgICAgICAgICAgICAgIF94ID0gRi5sZWFreV9yZWx1KF94LCBMUkVMVV9TTE9QRSkKICAgICAgICAgICAgICAgIF94ID0gc2VsZi5sYXllcnNbaSArIHNlbGYucG5fbGF5ZXJzICsgMSArIDIgKiBjaHVua19zaXplXShfeCkKICAgICAgICAgICAgICAgIHhzID0gTm9uZQogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2Uoc2VsZi5udW1fa2VybmVscyk6CiAgICAgICAgICAgICAgICAgICAgaWYgeHMgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICAgICAgeHMgPSBzZWxmLmxheWVyc1sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKiBzZWxmLm51bV9rZXJuZWxzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc2VsZi5wbl9sYXllcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgMyAqIGNodW5rX3NpemUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc2VsZi5udW1fdXBzYW1wbGVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIDEKICAgICAgICAgICAgICAgICAgICAgICAgXShfeCkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICB4cyArPSBzZWxmLmxheWVyc1sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKiBzZWxmLm51bV9rZXJuZWxzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc2VsZi5wbl9sYXllcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgMyAqIGNodW5rX3NpemUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc2VsZi5udW1fdXBzYW1wbGVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIDEKICAgICAgICAgICAgICAgICAgICAgICAgXShfeCkKICAgICAgICAgICAgICAgIF94ID0geHMgLyBzZWxmLm51bV9rZXJuZWxzICAjIHR5cGU6IGlnbm9yZQogICAgICAgICAgICBfeCA9IEYubGVha3lfcmVsdShfeCkKICAgICAgICAgICAgX3ggPSBzZWxmLmxheWVyc1sKICAgICAgICAgICAgICAgIHNlbGYucG5fbGF5ZXJzCiAgICAgICAgICAgICAgICArIHNlbGYubl9zdHJlYW1zCiAgICAgICAgICAgICAgICArIHNlbGYubnVtX3Vwc2FtcGxlcyAqICgxICsgc2VsZi5udW1fa2VybmVscykKICAgICAgICAgICAgICAgICsgMQogICAgICAgICAgICBdKF94KQogICAgICAgICAgICBza2lwX291dHB1dCA9IF94CiAgICAgICAgICAgIGggPSBza2lwX291dHB1dAoKICAgICAgICAgICAgZm9yIGkxIGluIHJhbmdlKHNlbGYucG5fbGF5ZXJzLCBzZWxmLnBuX2xheWVycyArIGNodW5rX3NpemUpOgogICAgICAgICAgICAgICAgaCA9IHNlbGYubGF5ZXJzW2kxXShoKQogICAgICAgICAgICBpMSArPSAyCiAgICAgICAgICAgIGZvciBpMiBpbiByYW5nZShpMSwgaTEgKyBjaHVua19zaXplKToKICAgICAgICAgICAgICAgIGggPSBzZWxmLmxheWVyc1tpMl0oaCkKICAgICAgICAgICAgaTIgPSBpMiArIHNlbGYubnVtX3Vwc2FtcGxlcyArIDEKCiAgICAgICAgICAgIGZvciBpMyBpbiByYW5nZShpMiwgaTIgKyBjaHVua19zaXplKToKICAgICAgICAgICAgICAgIGggPSBzZWxmLmxheWVyc1tpM10oaCkKICAgICAgICAgICAgaTMgPSBpMyArIChzZWxmLm51bV91cHNhbXBsZXMgKiBzZWxmLm51bV9rZXJuZWxzKSArIDEKICAgICAgICAgICAgZm9yIGk0IGluIHJhbmdlKGkzLCBpMyArIGNodW5rX3NpemUpOgogICAgICAgICAgICAgICAgaCA9IHNlbGYubGF5ZXJzW2k0XShoKQogICAgICAgICAgICBoID0gaFs6LCA6LCA6IF94LnNpemUoLTEpXQoKICAgICAgICAgICAgd2F2cy5hcHBlbmQoMC44ICogaCArIHRvcmNoLnRhbmgoc2tpcF9vdXRwdXQpLnNxdWVlemUoMCkpCiAgICAgICAgcmV0dXJuIHdhdnMKCiAgICBkZWYgcmVtb3ZlX3dlaWdodF9ub3JtKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaSA9IHNlbGYucG5fbGF5ZXJzICsgMQogICAgICAgIGZvciBqIGluIHJhbmdlKHNlbGYubnVtX3Vwc2FtcGxlcyk6CiAgICAgICAgICAgIHJlbW92ZV93ZWlnaHRfbm9ybShzZWxmLmxheWVyc1tpICsgal0pCiAgICAgICAgZm9yIGsgaW4gcmFuZ2Uoc2VsZi5udW1fdXBzYW1wbGVzICogc2VsZi5udW1fa2VybmVscyk6CiAgICAgICAgICAgIHNlbGYubGF5ZXJzW2kgKyBqICsgayArIDFdLnJlbW92ZV93ZWlnaHRfbm9ybSgpCiAgICAgICAgcmVtb3ZlX3dlaWdodF9ub3JtKHNlbGYubGF5ZXJzW3NlbGYucG5fbGF5ZXJzXSkKICAgICAgICByZW1vdmVfd2VpZ2h0X25vcm0oCiAgICAgICAgICAgIHNlbGYubGF5ZXJzWwogICAgICAgICAgICAgICAgc2VsZi5wbl9sYXllcnMgKyAxICsgc2VsZi5udW1fdXBzYW1wbGVzICogKDEgKyBzZWxmLm51bV9rZXJuZWxzKQogICAgICAgICAgICBdCiAgICAgICAgKQo='),
    ('seamless/build/lib/seamless_communication/models/aligner/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuYWxpZ25lci5tb2RlbCBpbXBvcnQgKAogICAgVW5pdFkyQWxpZ25tZW50RW5jb2RlciBhcyBVbml0WTJBbGlnbm1lbnRFbmNvZGVyLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuYWxpZ25lci5tb2RlbCBpbXBvcnQgKAogICAgVW5pdFkyQWxpZ25tZW50RnJvbnRlbmQgYXMgVW5pdFkyQWxpZ25tZW50RnJvbnRlbmQsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5hbGlnbmVyLm1vZGVsIGltcG9ydCAoCiAgICBVbml0WTJBbGlnbm1lbnRNb2RlbCBhcyBVbml0WTJBbGlnbm1lbnRNb2RlbCwKKQo='),
    ('seamless/build/lib/seamless_communication/models/aligner/loader.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIExpc3QsIE1hcHBpbmcKCmltcG9ydCB0b3JjaApmcm9tIGZhaXJzZXEyLmFzc2V0cyBpbXBvcnQgYXNzZXRfc3RvcmUsIGRvd25sb2FkX21hbmFnZXIKZnJvbSBmYWlyc2VxMi5tb2RlbHMudXRpbHMgaW1wb3J0IENvbmZpZ0xvYWRlciwgTW9kZWxMb2FkZXIKCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMuYWxpZ25lci5idWlsZGVyIGltcG9ydCAoCiAgICBVbml0WTJBbGlnbm1lbnRDb25maWcsCiAgICBhbGlnbmVyX2FyY2hzLAogICAgY3JlYXRlX3VuaXR5Ml9hbGlnbm1lbnRfbW9kZWwsCikKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy5hbGlnbmVyLm1vZGVsIGltcG9ydCBVbml0WTJBbGlnbm1lbnRNb2RlbApmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyCgoKZGVmIGNvbnZlcnRfdW5pdHkyX2FsaWduZXJfY2hlY2twb2ludCgKICAgIGNoZWNrcG9pbnQ6IE1hcHBpbmdbc3RyLCBBbnldLCBjb25maWc6IFVuaXRZMkFsaWdubWVudENvbmZpZwopIC0+IE1hcHBpbmdbc3RyLCBBbnldOgogICAgaWYgKAogICAgICAgICJtb2RlbCIgaW4gY2hlY2twb2ludAogICAgICAgIGFuZCAiYWxpZ25tZW50X2VuY29kZXIudF9jb252LjEud2VpZ2h0IiBpbiBjaGVja3BvaW50WyJtb2RlbCJdCiAgICApOgogICAgICAgIHJldHVybiBjaGVja3BvaW50CgogICAgYWxpZ25tZW50X2Zyb250ZW5kX3N0YXRlZGljdCA9IHt9CiAgICB0ZXh0X2VtYl9zdGF0ZV9rZXltYXAgPSB7IndlaWdodCI6ICJhbGlnbm1lbnRfZnJvbnRlbmQuZW1iZWRfdGV4dC53ZWlnaHQifQogICAgZm9yIGssIHYgaW4gY2hlY2twb2ludFsidGV4dF9lbWJfc3RhdGUiXS5pdGVtcygpOgogICAgICAgIGFsaWdubWVudF9mcm9udGVuZF9zdGF0ZWRpY3RbdGV4dF9lbWJfc3RhdGVfa2V5bWFwW2tdXSA9IHYKCiAgICB1bml0X2VtYl9zdGF0ZV9rZXltYXAgPSB7IndlaWdodCI6ICJhbGlnbm1lbnRfZnJvbnRlbmQuZW1iZWRfdW5pdC53ZWlnaHQifQogICAgZm9yIGssIHYgaW4gY2hlY2twb2ludFsidW5pdF9lbWJfc3RhdGUiXS5pdGVtcygpOgogICAgICAgIGFsaWdubWVudF9mcm9udGVuZF9zdGF0ZWRpY3RbdW5pdF9lbWJfc3RhdGVfa2V5bWFwW2tdXSA9IHYKCiAgICBhbGlnbm1lbnRfZW5jb2Rlcl9zdGF0ZV9kaWN0ID0ge30KICAgIGZvciBrLCB2IGluIGNoZWNrcG9pbnRbImFsaWduZXJfc3RhdGUiXS5pdGVtcygpOgogICAgICAgIGFsaWdubWVudF9lbmNvZGVyX3N0YXRlX2RpY3RbZiJhbGlnbm1lbnRfZW5jb2Rlci57a30iXSA9IHYKCiAgICBtb2RlbF9zdGF0ZSA9IHsKICAgICAgICAqKmFsaWdubWVudF9lbmNvZGVyX3N0YXRlX2RpY3QsCiAgICAgICAgKiphbGlnbm1lbnRfZnJvbnRlbmRfc3RhdGVkaWN0LAogICAgfQoKICAgIGNoYXJfZW1iZWRzID0gbW9kZWxfc3RhdGVbImFsaWdubWVudF9mcm9udGVuZC5lbWJlZF90ZXh0LndlaWdodCJdCgogICAgaW5kZXhfbWFwcGluZyA9IF9nZXRfY2hhcl9pbmRleF9tYXBwaW5nKGNvbmZpZykKICAgIHZvY2FiX3NpemUgPSBsZW4oaW5kZXhfbWFwcGluZykKICAgIGNoYXJfZW1iZWRzW3RvcmNoLmFyYW5nZSh2b2NhYl9zaXplKV0gPSBjaGFyX2VtYmVkc1tpbmRleF9tYXBwaW5nXQoKICAgIGNoZWNrcG9pbnRbIm1vZGVsIl0gPSBtb2RlbF9zdGF0ZQoKICAgIHJldHVybiBjaGVja3BvaW50CgoKZGVmIF9nZXRfY2hhcl9pbmRleF9tYXBwaW5nKGNvbmZpZzogVW5pdFkyQWxpZ25tZW50Q29uZmlnKSAtPiBMaXN0W2ludF06CiAgICBjaGFyX3Rva2VuaXplciA9IGxvYWRfdW5pdHlfY2hhcl90b2tlbml6ZXIoY29uZmlnLm1vZGVsX25hbWVfb3JfY2FyZCkKICAgIHNwbV9vcmRlciA9IFsKICAgICAgICBjaGFyX3Rva2VuaXplci5tb2RlbC5pbmRleF90b190b2tlbihpKQogICAgICAgIGZvciBpIGluIHJhbmdlKGNoYXJfdG9rZW5pemVyLm1vZGVsLnZvY2FidWxhcnlfc2l6ZSkKICAgIF1bNDpdCiAgICBzcG1fdG9fZGljdF9tYXBwaW5nID0gewogICAgICAgIGNoOiBpZHgKICAgICAgICBmb3IgKGlkeCwgY2gpIGluIHppcCgKICAgICAgICAgICAgcmFuZ2UoNCwgY2hhcl90b2tlbml6ZXIubW9kZWwudm9jYWJ1bGFyeV9zaXplKSwKICAgICAgICAgICAgc29ydGVkKHNwbV9vcmRlciksCiAgICAgICAgKQogICAgfQogICAgbW9kZWxfdG9fZGljdF9tYXBwaW5nID0gWzAsIDEsIDIsIDNdICsgW3NwbV90b19kaWN0X21hcHBpbmdbY2hdIGZvciBjaCBpbiBzcG1fb3JkZXJdCiAgICByZXR1cm4gbW9kZWxfdG9fZGljdF9tYXBwaW5nCgoKbG9hZF91bml0eTJfYWxpZ25tZW50X2NvbmZpZyA9IENvbmZpZ0xvYWRlcltVbml0WTJBbGlnbm1lbnRDb25maWddKAogICAgYXNzZXRfc3RvcmUsIGFsaWduZXJfYXJjaHMKKQoKbG9hZF91bml0eTJfYWxpZ25tZW50X21vZGVsID0gTW9kZWxMb2FkZXJbVW5pdFkyQWxpZ25tZW50TW9kZWwsIFVuaXRZMkFsaWdubWVudENvbmZpZ10oCiAgICBhc3NldF9zdG9yZSwKICAgIGRvd25sb2FkX21hbmFnZXIsCiAgICBsb2FkX3VuaXR5Ml9hbGlnbm1lbnRfY29uZmlnLAogICAgY3JlYXRlX3VuaXR5Ml9hbGlnbm1lbnRfbW9kZWwsCiAgICBjb252ZXJ0X3VuaXR5Ml9hbGlnbmVyX2NoZWNrcG9pbnQsCiAgICByZXN0cmljdF9jaGVja3BvaW50cz1GYWxzZSwKKQo='),
    ('seamless/build/lib/seamless_communication/models/aligner/builder.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFVuaW9uCgppbXBvcnQgdG9yY2gKZnJvbSBmYWlyc2VxMi5hc3NldHMuY2FyZCBpbXBvcnQgQXNzZXRDYXJkCmZyb20gZmFpcnNlcTIuZGF0YS52b2NhYnVsYXJ5X2luZm8gaW1wb3J0IFZvY2FidWxhcnlJbmZvCmZyb20gZmFpcnNlcTIubW9kZWxzLnV0aWxzLmFyY2hfcmVnaXN0cnkgaW1wb3J0IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5CmZyb20gZmFpcnNlcTIubm4uZW1iZWRkaW5nIGltcG9ydCBTdGFuZGFyZEVtYmVkZGluZywgaW5pdF9zY2FsZWRfZW1iZWRkaW5nCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmFsaWduZXIubW9kZWwgaW1wb3J0ICgKICAgIFVuaXRZMkFsaWdubWVudEVuY29kZXIsCiAgICBVbml0WTJBbGlnbm1lbnRGcm9udGVuZCwKICAgIFVuaXRZMkFsaWdubWVudE1vZGVsLAopCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkuY2hhcl90b2tlbml6ZXIgaW1wb3J0IGxvYWRfdW5pdHlfY2hhcl90b2tlbml6ZXIKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0eS5sb2FkZXIgaW1wb3J0IGxvYWRfdW5pdHlfdW5pdF90b2tlbml6ZXIKCgpAZGF0YWNsYXNzCmNsYXNzIEFsaWdubWVudEVuY29kZXJDb25maWc6CiAgICBtb2RlbF9kaW06IGludAoKICAgIGZlYXRfZGltOiBpbnQKCiAgICBudW1fdGV4dF9sYXllcnM6IGludAoKICAgIG51bV9mZWF0X2xheWVyczogaW50CgogICAgZHJvcG91dDogZmxvYXQKCiAgICB0ZW1wZXJhdHVyZTogZmxvYXQKCiAgICByZWR1Y3Rpb25fZmFjdG9yOiBpbnQKCgpAZGF0YWNsYXNzCmNsYXNzIFVuaXRZMkFsaWdubWVudEZyb250ZW5kQ29uZmlnOgogICAgdW5pdF92b2NhYl9pbmZvOiBWb2NhYnVsYXJ5SW5mbwoKICAgIHRleHRfdm9jYWJfc2l6ZTogaW50CgoKQGRhdGFjbGFzcwpjbGFzcyBVbml0WTJBbGlnbm1lbnRDb25maWc6CiAgICBtb2RlbF9uYW1lX29yX2NhcmQ6IFVuaW9uW3N0ciwgQXNzZXRDYXJkXQoKICAgIGFsaWdubWVudF9lbmNvZGVyX2NvbmZpZzogQWxpZ25tZW50RW5jb2RlckNvbmZpZwoKICAgIGFsaWdubWVudF9mcm9udGVuZF9jb25maWc6IFVuaXRZMkFsaWdubWVudEZyb250ZW5kQ29uZmlnCgoKYWxpZ25lcl9hcmNocyA9IEFyY2hpdGVjdHVyZVJlZ2lzdHJ5W1VuaXRZMkFsaWdubWVudENvbmZpZ10oInVuaXR5Ml9hbGlnbmVyIikKCmFsaWduZXJfYXJjaCA9IGFsaWduZXJfYXJjaHMuZGVjb3JhdG9yCgoKQGFsaWduZXJfYXJjaCgibmFyX3QydV9hbGlnbmVyIikKZGVmIF9hbGlnbmVyX25hcl90MnUoKSAtPiBVbml0WTJBbGlnbm1lbnRDb25maWc6CiAgICBlbmNvZGVyX2NvbmZpZyA9IEFsaWdubWVudEVuY29kZXJDb25maWcoCiAgICAgICAgbW9kZWxfZGltPTEwMjQsCiAgICAgICAgZmVhdF9kaW09MTAyNCwKICAgICAgICBudW1fdGV4dF9sYXllcnM9MiwKICAgICAgICBudW1fZmVhdF9sYXllcnM9MywKICAgICAgICBkcm9wb3V0PTAuMSwKICAgICAgICB0ZW1wZXJhdHVyZT0xLjAsCiAgICAgICAgcmVkdWN0aW9uX2ZhY3Rvcj0xLAogICAgKQoKICAgIGZyb250ZW5kX2NvbmZpZyA9IFVuaXRZMkFsaWdubWVudEZyb250ZW5kQ29uZmlnKAogICAgICAgIHVuaXRfdm9jYWJfaW5mbz1Wb2NhYnVsYXJ5SW5mbygKICAgICAgICAgICAgc2l6ZT0xMDA4MiwgdW5rX2lkeD0zLCBib3NfaWR4PTAsIGVvc19pZHg9MiwgcGFkX2lkeD0xCiAgICAgICAgKSwKICAgICAgICB0ZXh0X3ZvY2FiX3NpemU9MTA5NDMsCiAgICApCgogICAgcmV0dXJuIFVuaXRZMkFsaWdubWVudENvbmZpZygKICAgICAgICBtb2RlbF9uYW1lX29yX2NhcmQ9Im5hcl90MnVfYWxpZ25lciIsCiAgICAgICAgYWxpZ25tZW50X2VuY29kZXJfY29uZmlnPWVuY29kZXJfY29uZmlnLAogICAgICAgIGFsaWdubWVudF9mcm9udGVuZF9jb25maWc9ZnJvbnRlbmRfY29uZmlnLAogICAgKQoKCmNsYXNzIFVuaXRZMkFsaWdubWVudEJ1aWxkZXI6CiAgICBjb25maWc6IFVuaXRZMkFsaWdubWVudENvbmZpZwogICAgZGV2aWNlOiBPcHRpb25hbFtEZXZpY2VdCiAgICBkdHlwZTogRGF0YVR5cGUKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25maWc6IFVuaXRZMkFsaWdubWVudENvbmZpZywKICAgICAgICAqLAogICAgICAgIGRldmljZTogT3B0aW9uYWxbRGV2aWNlXSA9IE5vbmUsCiAgICAgICAgZHR5cGU6IERhdGFUeXBlID0gdG9yY2guZmxvYXQzMiwKICAgICkgLT4gTm9uZToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gY29uZmlnOgogICAgICAgICAgICBUaGUgY29uZmlndXJhdGlvbiB0byB1c2UuCiAgICAgICAgOnBhcmFtIGRldmljZToKICAgICAgICAgICAgVGhlIGRldmljZSBvbiB3aGljaCB0byBpbml0aWFsaXplIG1vZHVsZXMuCiAgICAgICAgOnBhcmFtIGR0eXBlOgogICAgICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgICAgICIiIgogICAgICAgIHNlbGYuY29uZmlnID0gY29uZmlnCgogICAgICAgIHNlbGYuZGV2aWNlLCBzZWxmLmR0eXBlID0gZGV2aWNlLCBkdHlwZQoKICAgIGRlZiBidWlsZF9tb2RlbChzZWxmKSAtPiBVbml0WTJBbGlnbm1lbnRNb2RlbDoKICAgICAgICBhbGlnbm1lbnRfZnJvbnRlbmQgPSBzZWxmLmJ1aWxkX2FsaWdubWVudF9mcm9udGVuZCgpCgogICAgICAgIGFsaWdubWVudF9lbmNvZGVyID0gc2VsZi5idWlsZF9hbGlnbm1lbnRfZW5jb2RlcigpCgogICAgICAgIHJldHVybiBVbml0WTJBbGlnbm1lbnRNb2RlbChhbGlnbm1lbnRfZnJvbnRlbmQsIGFsaWdubWVudF9lbmNvZGVyKQoKICAgIGRlZiBidWlsZF9hbGlnbm1lbnRfZnJvbnRlbmQoc2VsZikgLT4gVW5pdFkyQWxpZ25tZW50RnJvbnRlbmQ6CiAgICAgICAgdGV4dF90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X2NoYXJfdG9rZW5pemVyKHNlbGYuY29uZmlnLm1vZGVsX25hbWVfb3JfY2FyZCkKCiAgICAgICAgdW5pdF90b2tlbml6ZXIgPSBsb2FkX3VuaXR5X3VuaXRfdG9rZW5pemVyKHNlbGYuY29uZmlnLm1vZGVsX25hbWVfb3JfY2FyZCkKCiAgICAgICAgZW1iZWRfdGV4dCA9IFN0YW5kYXJkRW1iZWRkaW5nKAogICAgICAgICAgICBudW1fZW1iZWRkaW5ncz1zZWxmLmNvbmZpZy5hbGlnbm1lbnRfZnJvbnRlbmRfY29uZmlnLnRleHRfdm9jYWJfc2l6ZSwKICAgICAgICAgICAgZW1iZWRkaW5nX2RpbT1zZWxmLmNvbmZpZy5hbGlnbm1lbnRfZW5jb2Rlcl9jb25maWcubW9kZWxfZGltLAogICAgICAgICAgICBwYWRfaWR4PXNlbGYuY29uZmlnLmFsaWdubWVudF9mcm9udGVuZF9jb25maWcudW5pdF92b2NhYl9pbmZvLnBhZF9pZHgsCiAgICAgICAgICAgIGluaXRfZm49aW5pdF9zY2FsZWRfZW1iZWRkaW5nLAogICAgICAgICAgICBkZXZpY2U9c2VsZi5kZXZpY2UsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQoKICAgICAgICBlbWJlZF91bml0ID0gU3RhbmRhcmRFbWJlZGRpbmcoCiAgICAgICAgICAgIG51bV9lbWJlZGRpbmdzPXNlbGYuY29uZmlnLmFsaWdubWVudF9mcm9udGVuZF9jb25maWcudW5pdF92b2NhYl9pbmZvLnNpemUsCiAgICAgICAgICAgIGVtYmVkZGluZ19kaW09c2VsZi5jb25maWcuYWxpZ25tZW50X2VuY29kZXJfY29uZmlnLm1vZGVsX2RpbSwKICAgICAgICAgICAgcGFkX2lkeD1zZWxmLmNvbmZpZy5hbGlnbm1lbnRfZnJvbnRlbmRfY29uZmlnLnVuaXRfdm9jYWJfaW5mby5wYWRfaWR4LAogICAgICAgICAgICBpbml0X2ZuPWluaXRfc2NhbGVkX2VtYmVkZGluZywKICAgICAgICAgICAgZGV2aWNlPXNlbGYuZGV2aWNlLAogICAgICAgICAgICBkdHlwZT1zZWxmLmR0eXBlLAogICAgICAgICkKCiAgICAgICAgcmV0dXJuIFVuaXRZMkFsaWdubWVudEZyb250ZW5kKAogICAgICAgICAgICBlbWJlZF90ZXh0LCBlbWJlZF91bml0LCB0ZXh0X3Rva2VuaXplciwgdW5pdF90b2tlbml6ZXIKICAgICAgICApCgogICAgZGVmIGJ1aWxkX2FsaWdubWVudF9lbmNvZGVyKHNlbGYsIHRyYWluaW5nOiBib29sID0gRmFsc2UpIC0+IFVuaXRZMkFsaWdubWVudEVuY29kZXI6CiAgICAgICAgY2ZnID0gc2VsZi5jb25maWcuYWxpZ25tZW50X2VuY29kZXJfY29uZmlnCiAgICAgICAgYWxpZ25tZW50X2VuY29kZXIgPSBVbml0WTJBbGlnbm1lbnRFbmNvZGVyKAogICAgICAgICAgICBlbWJlZF9kaW09Y2ZnLm1vZGVsX2RpbSwKICAgICAgICAgICAgZmVhdF9kaW09Y2ZnLmZlYXRfZGltLAogICAgICAgICAgICB0ZXh0X2xheWVycz1jZmcubnVtX3RleHRfbGF5ZXJzLAogICAgICAgICAgICBmZWF0X2xheWVycz1jZmcubnVtX2ZlYXRfbGF5ZXJzLAogICAgICAgICAgICBkcm9wb3V0PWNmZy5kcm9wb3V0LAogICAgICAgICAgICB0ZW1wZXJhdHVyZT1jZmcudGVtcGVyYXR1cmUsCiAgICAgICAgICAgIHJlZHVjdGlvbl9mYWN0b3I9Y2ZnLnJlZHVjdGlvbl9mYWN0b3IsCiAgICAgICAgICAgIGR0eXBlPXNlbGYuZHR5cGUsCiAgICAgICAgKQogICAgICAgIGFsaWdubWVudF9lbmNvZGVyLnRyYWluaW5nID0gdHJhaW5pbmcKCiAgICAgICAgcmV0dXJuIGFsaWdubWVudF9lbmNvZGVyCgoKZGVmIGNyZWF0ZV91bml0eTJfYWxpZ25tZW50X21vZGVsKAogICAgY29uZmlnOiBVbml0WTJBbGlnbm1lbnRDb25maWcsCiAgICBkZXZpY2U6IE9wdGlvbmFsW0RldmljZV0gPSBOb25lLAogICAgZHR5cGU6IERhdGFUeXBlID0gdG9yY2guZmxvYXQzMiwKKSAtPiBVbml0WTJBbGlnbm1lbnRNb2RlbDoKICAgICIiIkNyZWF0ZSBhIFVuaXRZIG1vZGVsLgoKICAgIDpwYXJhbSBjb25maWc6CiAgICAgICAgVGhlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLgogICAgOnBhcmFtIGRldmljZToKICAgICAgICBUaGUgZGV2aWNlIG9uIHdoaWNoIHRvIGluaXRpYWxpemUgbW9kdWxlcy4KICAgIDpwYXJhbSBkdHlwZToKICAgICAgICBUaGUgZGF0YSB0eXBlIG9mIG1vZHVsZSBwYXJhbWV0ZXJzIGFuZCBidWZmZXJzLgogICAgIiIiCgogICAgdW5pdHkyX2FsaWduZXJfYnVpbGRlciA9IFVuaXRZMkFsaWdubWVudEJ1aWxkZXIoCiAgICAgICAgY29uZmlnLAogICAgICAgIGRldmljZT1kZXZpY2UsCiAgICAgICAgZHR5cGU9ZHR5cGUsCiAgICApCgogICAgcmV0dXJuIHVuaXR5Ml9hbGlnbmVyX2J1aWxkZXIuYnVpbGRfbW9kZWwoKQo='),
    ('seamless/build/lib/seamless_communication/models/aligner/alignment_extractor.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmltcG9ydCBvcwpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBMaXN0LCBUdXBsZSwgVW5pb24KCmltcG9ydCBudW1weQppbXBvcnQgdG9yY2gKaW1wb3J0IHRvcmNoLm5uIGFzIG5uCmltcG9ydCB0b3JjaGF1ZGlvCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZSwgRGV2aWNlCmZyb20gZmFpcnNlcTIuZGF0YS50eXBpbmcgaW1wb3J0IFN0cmluZ0xpa2UKZnJvbSB0b3JjaCBpbXBvcnQgVGVuc29yCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLmFsaWduZXIubG9hZGVyIGltcG9ydCBsb2FkX3VuaXR5Ml9hbGlnbm1lbnRfbW9kZWwKZnJvbSBzZWFtbGVzc19jb21tdW5pY2F0aW9uLm1vZGVscy51bml0X2V4dHJhY3RvciBpbXBvcnQgVW5pdEV4dHJhY3RvcgoKdHJ5OgogICAgaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdAoKICAgIG1hdHBsb3RsaWJfYXZhaWxhYmxlID0gVHJ1ZQpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBtYXRwbG90bGliX2F2YWlsYWJsZSA9IEZhbHNlCgoKY2xhc3MgQWxpZ25tZW50RXh0cmFjdG9yKG5uLk1vZHVsZSk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBhbGlnbmVyX21vZGVsX25hbWVfb3JfY2FyZDogc3RyLAogICAgICAgIHVuaXRfZXh0cmFjdG9yX21vZGVsX25hbWVfb3JfY2FyZDogVW5pb25bQW55LCBzdHJdID0gTm9uZSwKICAgICAgICB1bml0X2V4dHJhY3Rvcl9vdXRwdXRfbGF5ZXI6IFVuaW9uW0FueSwgaW50XSA9IE5vbmUsCiAgICAgICAgdW5pdF9leHRyYWN0b3Jfa21lYW5zX21vZGVsX3VyaTogVW5pb25bQW55LCBzdHJdID0gTm9uZSwKICAgICAgICBkZXZpY2U6IERldmljZSA9IERldmljZSgiY3B1IiksCiAgICAgICAgZHR5cGU6IERhdGFUeXBlID0gdG9yY2guZmxvYXQzMiwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5kZXZpY2UgPSBkZXZpY2UKICAgICAgICBzZWxmLmR0eXBlID0gZHR5cGUKCiAgICAgICAgaWYgc2VsZi5kdHlwZSA9PSB0b3JjaC5mbG9hdDE2IGFuZCBzZWxmLmRldmljZSA9PSBEZXZpY2UoImNwdSIpOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIkZQMTYgb25seSB3b3JrcyBvbiBHUFUsIHNldCBhcmdzIGFjY29yZGluZ2x5IikKCiAgICAgICAgc2VsZi5hbGlnbm1lbnRfbW9kZWwgPSBsb2FkX3VuaXR5Ml9hbGlnbm1lbnRfbW9kZWwoCiAgICAgICAgICAgIGFsaWduZXJfbW9kZWxfbmFtZV9vcl9jYXJkLCBkZXZpY2U9c2VsZi5kZXZpY2UsIGR0eXBlPXNlbGYuZHR5cGUKICAgICAgICApCiAgICAgICAgc2VsZi5hbGlnbm1lbnRfbW9kZWwuZXZhbCgpCgogICAgICAgIHNlbGYudW5pdF9leHRyYWN0b3IgPSBOb25lCiAgICAgICAgc2VsZi51bml0X2V4dHJhY3Rvcl9vdXRwdXRfbGF5ZXIgPSAwCgogICAgICAgIGlmIHVuaXRfZXh0cmFjdG9yX21vZGVsX25hbWVfb3JfY2FyZCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi51bml0X2V4dHJhY3RvciA9IFVuaXRFeHRyYWN0b3IoCiAgICAgICAgICAgICAgICB1bml0X2V4dHJhY3Rvcl9tb2RlbF9uYW1lX29yX2NhcmQsCiAgICAgICAgICAgICAgICB1bml0X2V4dHJhY3Rvcl9rbWVhbnNfbW9kZWxfdXJpLAogICAgICAgICAgICAgICAgZGV2aWNlPWRldmljZSwKICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYudW5pdF9leHRyYWN0b3Jfb3V0cHV0X2xheWVyID0gdW5pdF9leHRyYWN0b3Jfb3V0cHV0X2xheWVyCgogICAgZGVmIGxvYWRfYXVkaW8oCiAgICAgICAgc2VsZiwgYXVkaW9fcGF0aDogc3RyLCBzYW1wbGluZ19yYXRlOiBpbnQgPSAxNl8wMDAKICAgICkgLT4gVHVwbGVbVGVuc29yLCBpbnRdOgogICAgICAgIGFzc2VydCBvcy5wYXRoLmV4aXN0cyhhdWRpb19wYXRoKQogICAgICAgIGF1ZGlvLCByYXRlID0gdG9yY2hhdWRpby5sb2FkKGF1ZGlvX3BhdGgpCiAgICAgICAgaWYgcmF0ZSAhPSBzYW1wbGluZ19yYXRlOgogICAgICAgICAgICBhdWRpbyA9IHRvcmNoYXVkaW8uZnVuY3Rpb25hbC5yZXNhbXBsZShhdWRpbywgcmF0ZSwgc2FtcGxpbmdfcmF0ZSkKICAgICAgICAgICAgcmF0ZSA9IHNhbXBsaW5nX3JhdGUKICAgICAgICByZXR1cm4gYXVkaW8sIHJhdGUKCiAgICBkZWYgcHJlcGFyZV9hdWRpbyhzZWxmLCBhdWRpbzogVW5pb25bc3RyLCBUZW5zb3JdKSAtPiBUZW5zb3I6CiAgICAgICAgIyBUT0RPOiBzd2l0Y2ggdG8gZmFpcnNlcTIgZGF0YSBwaXBlbGluZSBvbmNlIGl0IHN1cHBvcnRzIHJlc2FtcGxpbmcKICAgICAgICBpZiBpc2luc3RhbmNlKGF1ZGlvLCBzdHIpOgogICAgICAgICAgICBhdWRpbywgXyA9IHNlbGYubG9hZF9hdWRpbyhhdWRpbywgc2FtcGxpbmdfcmF0ZT0xNl8wMDApCiAgICAgICAgaWYgYXVkaW8ubmRpbSA+IDE6CiAgICAgICAgICAgICMgYXZlcmFnaW5nIG92ZXIgY2hhbm5lbHMKICAgICAgICAgICAgYXNzZXJ0IGF1ZGlvLnNpemUoMCkgPCBhdWRpby5zaXplKAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICApLCAiRXhwZWN0ZWQgW0NoYW5uZWwsVGltZV0gc2hhcGUsIGJ1dCBDaGFubmVsID4gVGltZSIKICAgICAgICAgICAgYXVkaW8gPSBhdWRpby5tZWFuKDApCiAgICAgICAgYXNzZXJ0ICgKICAgICAgICAgICAgYXVkaW8ubmRpbSA9PSAxCiAgICAgICAgKSwgZiJBZnRlciBjaGFubmVsIGF2ZXJhZ2luZyBhdWRpbyBzaGFwZSBleHBlY3RlZCB0byBiZSBbVGltZV0gaS5lLiBtb25vIGF1ZGlvIgogICAgICAgIGF1ZGlvID0gYXVkaW8udG8oc2VsZi5kZXZpY2UsIHNlbGYuZHR5cGUpCgogICAgICAgIHJldHVybiBhdWRpbwoKICAgIGRlZiBleHRyYWN0X3VuaXRzKHNlbGYsIGF1ZGlvOiBUZW5zb3IpIC0+IFRlbnNvcjoKICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZSgKICAgICAgICAgICAgc2VsZi51bml0X2V4dHJhY3RvciwgVW5pdEV4dHJhY3RvcgogICAgICAgICksICJVbml0IGV4dHJhY3RvciBpcyByZXF1aXJlZCB0byBnZXQgdW5pdHMgZnJvbSBhdWRpbyB0ZW5zb3IiCiAgICAgICAgdW5pdHMgPSBzZWxmLnVuaXRfZXh0cmFjdG9yLnByZWRpY3QoYXVkaW8sIHNlbGYudW5pdF9leHRyYWN0b3Jfb3V0cHV0X2xheWVyIC0gMSkKICAgICAgICByZXR1cm4gdW5pdHMKCiAgICBAdG9yY2guaW5mZXJlbmNlX21vZGUoKQogICAgZGVmIGV4dHJhY3RfYWxpZ25tZW50KAogICAgICAgIHNlbGYsCiAgICAgICAgYXVkaW86IFVuaW9uW3N0ciwgVGVuc29yXSwKICAgICAgICB0ZXh0OiBzdHIsCiAgICAgICAgcGxvdDogYm9vbCA9IEZhbHNlLAogICAgICAgIGFkZF90cmFpbGluZ19zaWxlbmNlOiBib29sID0gRmFsc2UsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgVGVuc29yLCBMaXN0W1N0cmluZ0xpa2VdXToKICAgICAgICBpZiBpc2luc3RhbmNlKGF1ZGlvLCBUZW5zb3IpIGFuZCBub3QgdG9yY2guaXNfZmxvYXRpbmdfcG9pbnQoYXVkaW8pOgogICAgICAgICAgICAjIHdlIGdvdCB1bml0cyBhcyBhdWRpbyBhcmcKICAgICAgICAgICAgdW5pdHMgPSBhdWRpbwogICAgICAgICAgICB1bml0cyA9IHVuaXRzLnRvKHNlbGYuZGV2aWNlKQogICAgICAgICAgICBhdWRpb190ZW5zb3IgPSBOb25lCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYXVkaW9fdGVuc29yID0gc2VsZi5wcmVwYXJlX2F1ZGlvKGF1ZGlvKQogICAgICAgICAgICB1bml0cyA9IHNlbGYuZXh0cmFjdF91bml0cyhhdWRpb190ZW5zb3IpCgogICAgICAgIHRva2VuaXplZF91bml0X2lkcyA9IHNlbGYuYWxpZ25tZW50X21vZGVsLmFsaWdubWVudF9mcm9udGVuZC50b2tlbml6ZV91bml0KAogICAgICAgICAgICB1bml0cwogICAgICAgICkudW5zcXVlZXplKDApCiAgICAgICAgdG9rZW5pemVkX3RleHRfaWRzID0gKAogICAgICAgICAgICBzZWxmLmFsaWdubWVudF9tb2RlbC5hbGlnbm1lbnRfZnJvbnRlbmQudG9rZW5pemVfdGV4dCgKICAgICAgICAgICAgICAgIHRleHQsIGFkZF90cmFpbGluZ19zaWxlbmNlPWFkZF90cmFpbGluZ19zaWxlbmNlCiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRvKHNlbGYuZGV2aWNlKQogICAgICAgICAgICAudW5zcXVlZXplKDApCiAgICAgICAgKQogICAgICAgIHRva2VuaXplZF90ZXh0X3Rva2VucyA9ICgKICAgICAgICAgICAgc2VsZi5hbGlnbm1lbnRfbW9kZWwuYWxpZ25tZW50X2Zyb250ZW5kLnRva2VuaXplX3RleHRfdG9fdG9rZW5zKAogICAgICAgICAgICAgICAgdGV4dCwgYWRkX3RyYWlsaW5nX3NpbGVuY2U9YWRkX3RyYWlsaW5nX3NpbGVuY2UKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICBfLCBhbGlnbm1lbnRfZHVyYXRpb25zID0gc2VsZi5hbGlnbm1lbnRfbW9kZWwoCiAgICAgICAgICAgIHRva2VuaXplZF90ZXh0X2lkcywgdG9rZW5pemVkX3VuaXRfaWRzCiAgICAgICAgKQoKICAgICAgICBpZiBwbG90IGFuZCAoYXVkaW9fdGVuc29yIGlzIG5vdCBOb25lKToKICAgICAgICAgICAgc2VsZi5wbG90X2FsaWdubWVudCgKICAgICAgICAgICAgICAgIGF1ZGlvX3RlbnNvci5jcHUoKSwgdG9rZW5pemVkX3RleHRfdG9rZW5zLCBhbGlnbm1lbnRfZHVyYXRpb25zLmNwdSgpCiAgICAgICAgICAgICkKCiAgICAgICAgcmV0dXJuIGFsaWdubWVudF9kdXJhdGlvbnMsIHRva2VuaXplZF90ZXh0X2lkcywgdG9rZW5pemVkX3RleHRfdG9rZW5zCgogICAgZGVmIGRldG9rZW5pemVfdGV4dChzZWxmLCB0b2tlbml6ZWRfdGV4dF9pZHM6IFRlbnNvcikgLT4gU3RyaW5nTGlrZToKICAgICAgICByZXR1cm4gc2VsZi5hbGlnbm1lbnRfbW9kZWwuYWxpZ25tZW50X2Zyb250ZW5kLmRlY29kZV90ZXh0KHRva2VuaXplZF90ZXh0X2lkcykKCiAgICBkZWYgcGxvdF9hbGlnbm1lbnQoCiAgICAgICAgc2VsZiwgYXVkaW86IFRlbnNvciwgdGV4dF90b2tlbnM6IExpc3RbU3RyaW5nTGlrZV0sIGR1cmF0aW9uczogVGVuc29yCiAgICApIC0+IE5vbmU6CiAgICAgICAgaWYgbm90IG1hdHBsb3RsaWJfYXZhaWxhYmxlOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoCiAgICAgICAgICAgICAgICAiUGxlYXNlIGBwaXAgaW5zdGFsbCBtYXRwbG90bGliYCBpbiBvcmRlciB0byB1c2UgcGxvdCBhbGlnbm1lbnQuIgogICAgICAgICAgICApCiAgICAgICAgXywgYXggPSBwbHQuc3VicGxvdHMoZmlnc2l6ZT0oMjIsIDMuNSkpCiAgICAgICAgYXgucGxvdChhdWRpbywgY29sb3I9ImdyYXkiLCBsaW5ld2lkdGg9MC4zKQogICAgICAgIGR1cmF0aW9uc19jdW11bCA9IG51bXB5LmNvbmNhdGVuYXRlKFtudW1weS5hcnJheShbMF0pLCBudW1weS5jdW1zdW0oZHVyYXRpb25zKV0pCiAgICAgICAgYWxpZ25tZW50X3RpY2tzID0gZHVyYXRpb25zX2N1bXVsICogMzIwICAjIDMyMCBpcyBoYXJkY29kZWQgZm9yIDIwbXMgcmF0ZSBoZXJlCgogICAgICAgIGF4LnZsaW5lcygKICAgICAgICAgICAgYWxpZ25tZW50X3RpY2tzLAogICAgICAgICAgICB5bWF4PTEsCiAgICAgICAgICAgIHltaW49LTEsCiAgICAgICAgICAgIGNvbG9yPSJpbmRpZ28iLAogICAgICAgICAgICBsaW5lc3R5bGVzPSJkYXNoZWQiLAogICAgICAgICAgICBsdz0wLjUsCiAgICAgICAgKQoKICAgICAgICBtaWRkbGVfdGlja19wb3NpdGlvbnMgPSAoCiAgICAgICAgICAgIGR1cmF0aW9uc19jdW11bFs6LTFdICsgKGR1cmF0aW9uc19jdW11bFsxOl0gLSBkdXJhdGlvbnNfY3VtdWxbOi0xXSkgLyAyCiAgICAgICAgKQogICAgICAgIGF4LnNldF94dGlja3MobWlkZGxlX3RpY2tfcG9zaXRpb25zICogMzIwKQogICAgICAgIGF4LnNldF94dGlja2xhYmVscyh0ZXh0X3Rva2VucywgZm9udHNpemU9MTMpCiAgICAgICAgYXguc2V0X3hsaW0oMCwgbGVuKGF1ZGlvKSkKCiAgICAgICAgYXguc2V0X3lsaW0oYXVkaW8ubWluKCksIGF1ZGlvLm1heCgpKQogICAgICAgIGF4LnNldF95dGlja3MoW10pCiAgICAgICAgcGx0LnRpZ2h0X2xheW91dCgpCiAgICAgICAgcGx0LnNob3coKQo='),
    ('seamless/build/lib/seamless_communication/models/aligner/model.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIExpc3QsIFR1cGxlLCBVbmlvbgoKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBudW1weS50eXBpbmcgYXMgbnB0CmltcG9ydCB0b3JjaAppbXBvcnQgdG9yY2gubm4gYXMgbm4KaW1wb3J0IHRvcmNoLm5uLmZ1bmN0aW9uYWwgYXMgRgpmcm9tIGZhaXJzZXEyLmRhdGEgaW1wb3J0IENTdHJpbmcKZnJvbSBmYWlyc2VxMi5ubi5lbWJlZGRpbmcgaW1wb3J0IFN0YW5kYXJkRW1iZWRkaW5nCmZyb20gZmFpcnNlcTIubm4ucGFkZGluZyBpbXBvcnQgdG9fcGFkZGluZ19tYXNrCmZyb20gZmFpcnNlcTIudHlwaW5nIGltcG9ydCBEYXRhVHlwZQpmcm9tIHRvcmNoIGltcG9ydCBUZW5zb3IKZnJvbSB0b3JjaC5ubiBpbXBvcnQgTW9kdWxlCgpmcm9tIHNlYW1sZXNzX2NvbW11bmljYXRpb24ubW9kZWxzLnVuaXR5LmNoYXJfdG9rZW5pemVyIGltcG9ydCBDaGFyVG9rZW5pemVyCmZyb20gc2VhbWxlc3NfY29tbXVuaWNhdGlvbi5tb2RlbHMudW5pdHkudW5pdF90b2tlbml6ZXIgaW1wb3J0IFVuaXRUb2tlbml6ZXIKCgpjbGFzcyBVbml0WTJBbGlnbm1lbnRGcm9udGVuZChNb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgZW1iZWRfdGV4dDogU3RhbmRhcmRFbWJlZGRpbmcsCiAgICAgICAgZW1iZWRfdW5pdDogU3RhbmRhcmRFbWJlZGRpbmcsCiAgICAgICAgdGV4dF90b2tlbml6ZXI6IENoYXJUb2tlbml6ZXIsCiAgICAgICAgdW5pdF90b2tlbml6ZXI6IFVuaXRUb2tlbml6ZXIsCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYuZW1iZWRfdGV4dCA9IGVtYmVkX3RleHQKICAgICAgICBzZWxmLmVtYmVkX3VuaXQgPSBlbWJlZF91bml0CiAgICAgICAgc2VsZi50ZXh0X3Rva2VuaXplciA9IHRleHRfdG9rZW5pemVyCiAgICAgICAgc2VsZi51bml0X3Rva2VuaXplciA9IHVuaXRfdG9rZW5pemVyCiAgICAgICAgdW5pdF90b2tlbml6ZXIuaXNfbmFyX2RlY29kZXIgPSBUcnVlCgogICAgICAgIHNlbGYuZW5jb2RlX3RleHQgPSBzZWxmLnRleHRfdG9rZW5pemVyLmNyZWF0ZV9yYXdfZW5jb2RlcigpCiAgICAgICAgIyB0ZXh0IGRlY29kZXIgY2FuIGJlIHVzZWQgdG8gbWFwIGFsaWduZWQgY2hhcmFjdGVycyB0byB3b3JkcwogICAgICAgIHNlbGYuZGVjb2RlX3RleHQgPSBzZWxmLnRleHRfdG9rZW5pemVyLmNyZWF0ZV9kZWNvZGVyKCkKICAgICAgICBzZWxmLmVuY29kZV91bml0ID0gc2VsZi51bml0X3Rva2VuaXplci5jcmVhdGVfZW5jb2RlcihsYW5nPSJlbmciKQoKICAgIGRlZiB0b2tlbml6ZV90ZXh0KAogICAgICAgIHNlbGYsIHRleHQ6IHN0ciwgcmV0dXJuX3Rva2VuczogYm9vbCA9IEZhbHNlLCBhZGRfdHJhaWxpbmdfc2lsZW5jZTogYm9vbCA9IEZhbHNlCiAgICApIC0+IFRlbnNvcjoKICAgICAgICB0b2tlbml6ZWQgPSBzZWxmLmVuY29kZV90ZXh0KHRleHQpCiAgICAgICAgaWYgYWRkX3RyYWlsaW5nX3NpbGVuY2U6CiAgICAgICAgICAgIHRva2VuaXplZCA9IHRvcmNoLmNhdChbdG9rZW5pemVkLCB0b2tlbml6ZWRbMDoxXV0pCgogICAgICAgIHJldHVybiB0b2tlbml6ZWQKCiAgICBkZWYgdG9rZW5pemVfdGV4dF90b190b2tlbnMoCiAgICAgICAgc2VsZiwgdGV4dDogc3RyLCBhZGRfdHJhaWxpbmdfc2lsZW5jZTogYm9vbCA9IEZhbHNlCiAgICApIC0+IExpc3RbVW5pb25bQ1N0cmluZywgc3RyXV06CiAgICAgICAgdG9rZW5pemVkID0gc2VsZi5lbmNvZGVfdGV4dC5lbmNvZGVfYXNfdG9rZW5zKHRleHQpCiAgICAgICAgaWYgYWRkX3RyYWlsaW5nX3NpbGVuY2U6CiAgICAgICAgICAgIHRva2VuaXplZCA9IHRva2VuaXplZCArIFt0b2tlbml6ZWRbMF1dCgogICAgICAgIHJldHVybiB0b2tlbml6ZWQKCiAgICBkZWYgdG9rZW5pemVfdW5pdChzZWxmLCB1bml0czogVW5pb25bc3RyLCBUZW5zb3JdKSAtPiBUZW5zb3I6CiAgICAgICAgaWYgaXNpbnN0YW5jZSh1bml0cywgc3RyKToKICAgICAgICAgICAgdW5pdHMgPSB0b3JjaC50ZW5zb3IoW2ludCh1KSBmb3IgdSBpbiB1bml0cy5zcGxpdCgiICIpXSkKICAgICAgICByZXR1cm4gc2VsZi5lbmNvZGVfdW5pdCh1bml0cykKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB0ZXh0OiBUZW5zb3IsIHVuaXQ6IFRlbnNvcikgLT4gVHVwbGVbQW55LCBBbnldOgogICAgICAgIGVtYnNfdW5pdCA9IHNlbGYuZW1iZWRfdW5pdCh1bml0KQogICAgICAgIGVtYnNfdGV4dCA9IHNlbGYuZW1iZWRfdGV4dCh0ZXh0KQogICAgICAgIHJldHVybiBlbWJzX3RleHQsIGVtYnNfdW5pdAoKCmNsYXNzIFBlcm11dGUxMihubi5Nb2R1bGUpOgogICAgZGVmIGZvcndhcmQoc2VsZiwgeDogVGVuc29yKSAtPiBUZW5zb3I6CiAgICAgICAgcmV0dXJuIHgudHJhbnNwb3NlKDEsIDIpCgoKY2xhc3MgVW5pdFkyQWxpZ25tZW50RW5jb2RlcihNb2R1bGUpOgogICAgIiIiCiAgICBVbml0WTIgQWxpZ25lciBjb21wb25lbnQKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGVtYmVkX2RpbTogaW50LAogICAgICAgIGZlYXRfZGltOiBpbnQsCiAgICAgICAgdGV4dF9sYXllcnM6IGludCwKICAgICAgICBmZWF0X2xheWVyczogaW50LAogICAgICAgIGRyb3BvdXQ6IGZsb2F0LAogICAgICAgIHRlbXBlcmF0dXJlOiBmbG9hdCwKICAgICAgICByZWR1Y3Rpb25fZmFjdG9yOiBpbnQsCiAgICAgICAgZHR5cGU6IERhdGFUeXBlLAogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLnRlbXBlcmF0dXJlID0gdGVtcGVyYXR1cmUKICAgICAgICBzZWxmLnJlZHVjdGlvbl9mYWN0b3IgPSByZWR1Y3Rpb25fZmFjdG9yICAjIGZvciB1bml0CgogICAgICAgIGxheWVyczogTGlzdFtNb2R1bGVdID0gW1Blcm11dGUxMigpXQogICAgICAgIGZvciBpIGluIHJhbmdlKHRleHRfbGF5ZXJzKToKICAgICAgICAgICAgaWYgaSA8IHRleHRfbGF5ZXJzIC0gMToKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgbm4uQ29udjFkKAogICAgICAgICAgICAgICAgICAgICAgICBlbWJlZF9kaW0sIGVtYmVkX2RpbSwga2VybmVsX3NpemU9MywgcGFkZGluZz0xLCBkdHlwZT1kdHlwZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQobm4uUmVMVSgpKQogICAgICAgICAgICAgICAgbGF5ZXJzLmFwcGVuZChubi5Ecm9wb3V0KHA9ZHJvcG91dCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBsYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIG5uLkNvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgZW1iZWRfZGltLCBlbWJlZF9kaW0sIGtlcm5lbF9zaXplPTEsIHBhZGRpbmc9MCwgZHR5cGU9ZHR5cGUKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBsYXllcnMuYXBwZW5kKG5uLkRyb3BvdXQocD1kcm9wb3V0KSkKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQoUGVybXV0ZTEyKCkpCiAgICAgICAgc2VsZi50X2NvbnYgPSBubi5TZXF1ZW50aWFsKCpsYXllcnMpCgogICAgICAgIGxheWVycyA9IFtQZXJtdXRlMTIoKV0KICAgICAgICBpbnB1dF9kaW0gPSBmZWF0X2RpbQogICAgICAgIGZvciBpIGluIHJhbmdlKGZlYXRfbGF5ZXJzKToKICAgICAgICAgICAgaWYgaSA8IGZlYXRfbGF5ZXJzIC0gMToKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgbm4uQ29udjFkKAogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9kaW0sIGVtYmVkX2RpbSwga2VybmVsX3NpemU9MywgcGFkZGluZz0xLCBkdHlwZT1kdHlwZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQobm4uUmVMVSgpKQogICAgICAgICAgICAgICAgbGF5ZXJzLmFwcGVuZChubi5Ecm9wb3V0KHA9ZHJvcG91dCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBsYXllcnMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIG5uLkNvbnYxZCgKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRfZGltLAogICAgICAgICAgICAgICAgICAgICAgICBlbWJlZF9kaW0sCiAgICAgICAgICAgICAgICAgICAgICAgIGtlcm5lbF9zaXplPTEsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9MCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWRlPXJlZHVjdGlvbl9mYWN0b3IsCiAgICAgICAgICAgICAgICAgICAgICAgIGR0eXBlPWR0eXBlLAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmQobm4uRHJvcG91dChwPWRyb3BvdXQpKQogICAgICAgICAgICAgICAgbGF5ZXJzLmFwcGVuZChQZXJtdXRlMTIoKSkKICAgICAgICAgICAgaW5wdXRfZGltID0gZW1iZWRfZGltCiAgICAgICAgc2VsZi5mX2NvbnYgPSBubi5TZXF1ZW50aWFsKCpsYXllcnMpCgogICAgZGVmIGZvcndhcmQoCiAgICAgICAgc2VsZiwKICAgICAgICB0ZXh0X2VtYjogVGVuc29yLAogICAgICAgIGZlYXRfZW1iOiBUZW5zb3IsCiAgICAgICAgdGV4dF9sZW5ndGhzOiBUZW5zb3IsCiAgICAgICAgZmVhdF9sZW5ndGhzOiBUZW5zb3IsCiAgICApIC0+IFR1cGxlW1RlbnNvciwgVGVuc29yXToKICAgICAgICAiIiJDb21wdXRlIGFsaWdubWVudCBiZXR3ZWVuIHNlcXVlbmNlIG9mIHRleHQgYW5kIGZlYXR1cmUgZW1iZWRkaW5ncwoKICAgICAgICBBcmdzOgogICAgICAgICAgICB0ZXh0X2VtYiAoVGVuc29yKTogQmF0Y2hlZCB0ZXh0IGVtYmVkZGluZyAoQiwgVF90ZXh0LCBDKS4KICAgICAgICAgICAgZmVhdF9lbWIgKFRlbnNvcik6IEJhdGNoZWQgYWNvdXN0aWMgZmVhdHVyZSAoQiwgVF9mZWF0LCBmZWF0X2RpbSkuCiAgICAgICAgICAgIHRleHRfbGVuZ3RocyAoVGVuc29yKTogU291cmNlIHRleHQgbGVuZ3RoIChCLCkuCiAgICAgICAgICAgIGZlYXRfbGVuZ3RocyAoVGVuc29yKTogVGFyZ2V0IGZlYXR1cmUgbGVuZ3RoIChCLCkuCgogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIFRlbnNvcjogTG9nIHByb2JhYmlsaXR5IG9mIGF0dGVudGlvbiBtYXRyaXggKEIsIFRfZmVhdCwgVF90ZXh0KQogICAgICAgICAgICBUZW5zb3I6IFVuaXQgZHVyYXRpb25zIG9mIGV2ZXJ5IHRleHQgdG9rZW4gKEIsIFRfdGV4dCkKCiAgICAgICAgIiIiCiAgICAgICAgX2ZlYXRfbGVuZ3RocyA9IGZlYXRfbGVuZ3Rocy5jbG9uZSgpCiAgICAgICAgaWYgc2VsZi5yZWR1Y3Rpb25fZmFjdG9yID4gMToKICAgICAgICAgICAgZmVhdF9sZW5ndGhzID0gdG9yY2guY2VpbChmZWF0X2xlbmd0aHMgLyBzZWxmLnJlZHVjdGlvbl9mYWN0b3IpLmxvbmcoKQoKICAgICAgICB0ZXh0X2VtYiA9IHNlbGYudF9jb252KHRleHRfZW1iKQogICAgICAgIGZlYXRfZW1iID0gc2VsZi5mX2NvbnYoZmVhdF9lbWIpCgogICAgICAgIGRpc3QgPSBmZWF0X2VtYi51bnNxdWVlemUoMikgLSB0ZXh0X2VtYi51bnNxdWVlemUoMSkKICAgICAgICBkaXN0ID0gdG9yY2gubm9ybShkaXN0LCBwPTIsIGRpbT0zKQogICAgICAgIHNjb3JlID0gLXNlbGYudGVtcGVyYXR1cmUgKiBkaXN0CgogICAgICAgIHBhZGRpbmdfbWFzayA9IH4odG9fcGFkZGluZ19tYXNrKHRleHRfbGVuZ3RocywgbWF4KHRleHRfbGVuZ3RocykpKQogICAgICAgIHBhZGRpbmdfbWFzayA9IHBhZGRpbmdfbWFzay51bnNxdWVlemUoLTIpCiAgICAgICAgc2NvcmUgPSBzY29yZS5tYXNrZWRfZmlsbChwYWRkaW5nX21hc2ssIC1ucC5pbmYpCgogICAgICAgIGF0dG5fbHByb2IgPSBGLmxvZ19zb2Z0bWF4KHNjb3JlLCBkaW09LTEpCgogICAgICAgIGF0dG5faGFyZF9kdXIgPSB2aXRlcmJpX2RlY29kZShhdHRuX2xwcm9iLCB0ZXh0X2xlbmd0aHMsIGZlYXRfbGVuZ3RocykKCiAgICAgICAgaWYgc2VsZi5yZWR1Y3Rpb25fZmFjdG9yID4gMToKICAgICAgICAgICAgYXR0bl9oYXJkX2R1ciA9IHNlbGYucG9zdHByb2Nlc3NfYWxpZ25tZW50KAogICAgICAgICAgICAgICAgYXR0bl9oYXJkX2R1ciwgdGV4dF9sZW5ndGhzLCBfZmVhdF9sZW5ndGhzCiAgICAgICAgICAgICkKCiAgICAgICAgcmV0dXJuIGF0dG5fbHByb2IsIGF0dG5faGFyZF9kdXIKCiAgICBkZWYgcG9zdHByb2Nlc3NfYWxpZ25tZW50KAogICAgICAgIHNlbGYsIGF0dG5faGFyZF9kdXI6IFRlbnNvciwgdGV4dF9sZW5ndGhzOiBUZW5zb3IsIGZlYXRfbGVuZ3RoczogVGVuc29yCiAgICApIC0+IFRlbnNvcjoKICAgICAgICBhdHRuX2hhcmRfZHVyID0gYXR0bl9oYXJkX2R1ciAqIHNlbGYucmVkdWN0aW9uX2ZhY3RvcgogICAgICAgIEIsIFQgPSBhdHRuX2hhcmRfZHVyLnNpemUoKSAgIyBCIHggVF90ZXh0CiAgICAgICAgZHVyX2N1bXN1bSA9IHRvcmNoLmN1bXN1bShhdHRuX2hhcmRfZHVyLCBkaW09MSkKICAgICAgICBmb3IgYiBpbiByYW5nZShCKToKICAgICAgICAgICAgZm9yIHQgaW4gcmFuZ2UodGV4dF9sZW5ndGhzW2JdKToKICAgICAgICAgICAgICAgICMgdHJ1bmNhdGUgdGhlIHJpZ2h0IGZyYW1lcwogICAgICAgICAgICAgICAgaWYgZHVyX2N1bXN1bVtiLCB0XSA+PSBmZWF0X2xlbmd0aHNbYl06CiAgICAgICAgICAgICAgICAgICAgaWYgdCA9PSAwOgogICAgICAgICAgICAgICAgICAgICAgICBhdHRuX2hhcmRfZHVyW2IsIHRdID0gZmVhdF9sZW5ndGhzW2JdCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgYXR0bl9oYXJkX2R1cltiLCB0XSA9IGZlYXRfbGVuZ3Roc1tiXSAtIGR1cl9jdW1zdW1bYiwgdCAtIDFdCiAgICAgICAgICAgICAgICAgICAgaWYgdCA8IHRleHRfbGVuZ3Roc1tiXSAtIDE6CiAgICAgICAgICAgICAgICAgICAgICAgIGF0dG5faGFyZF9kdXJbYiwgdCArIDEgOl0gPSAwCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICByZXR1cm4gYXR0bl9oYXJkX2R1cgoKCmRlZiBfbW9ub3RvbmljX2FsaWdubWVudF9zZWFyY2goCiAgICBhdHRuX2xwcm9iOiBucHQuTkRBcnJheVtucC5mbG9hdDY0XSwKKSAtPiBucHQuTkRBcnJheVtucC5mbG9hdDY0XToKICAgICMgaHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzIwMDUuMTExMjkKICAgIFRfZmVhdCA9IGF0dG5fbHByb2Iuc2hhcGVbMF0KICAgIFRfdGV4dCA9IGF0dG5fbHByb2Iuc2hhcGVbMV0KICAgIFEgPSBucC5mdWxsKChUX3RleHQsIFRfZmVhdCksIGZpbGxfdmFsdWU9LW5wLmluZikKCiAgICBsb2dfcHJvYiA9IGF0dG5fbHByb2IudHJhbnNwb3NlKDEsIDApICAjIC0+IChUX3RleHQsIFRfZmVhdCkKICAgICMgMS4gIFEgPC0gaW5pdCBmaXJzdCByb3cgZm9yIGFsbCBqCiAgICBmb3IgaiBpbiByYW5nZShUX2ZlYXQpOgogICAgICAgIFFbMCwgal0gPSBsb2dfcHJvYlswLCA6IGogKyAxXS5zdW0oKQoKICAgICMgMi4KICAgIGZvciBqIGluIHJhbmdlKDEsIFRfZmVhdCk6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMSwgbWluKGogKyAxLCBUX3RleHQpKToKICAgICAgICAgICAgUVtpLCBqXSA9IG1heChRW2kgLSAxLCBqIC0gMV0sIFFbaSwgaiAtIDFdKSArIGxvZ19wcm9iW2ksIGpdCgogICAgIyAzLgogICAgQSA9IG5wLmZ1bGwoKFRfZmVhdCwpLCBmaWxsX3ZhbHVlPVRfdGV4dCAtIDEpCiAgICBmb3IgaiBpbiByYW5nZShUX2ZlYXQgLSAyLCAtMSwgLTEpOiAgIyBUX2ZlYXQtMiwgLi4uLCAwCiAgICAgICAgIyAnaScgaW4ge0FbaisxXS0xLCBBW2orMV19CiAgICAgICAgaV9hID0gQVtqICsgMV0gLSAxCiAgICAgICAgaV9iID0gQVtqICsgMV0KICAgICAgICBpZiBpX2IgPT0gMDoKICAgICAgICAgICAgYXJnbWF4X2kgPSAwCiAgICAgICAgZWxpZiBRW2lfYSwgal0gPj0gUVtpX2IsIGpdOgogICAgICAgICAgICBhcmdtYXhfaSA9IGlfYQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFyZ21heF9pID0gaV9iCiAgICAgICAgQVtqXSA9IGFyZ21heF9pCiAgICByZXR1cm4gQQoKCmRlZiB2aXRlcmJpX2RlY29kZSgKICAgIGF0dG5fbHByb2I6IFRlbnNvciwgdGV4dF9sZW5ndGhzOiBUZW5zb3IsIGZlYXRfbGVuZ3RoczogVGVuc29yCikgLT4gVGVuc29yOgogICAgIiIiRXh0cmFjdCBkdXJhdGlvbiBmcm9tIGFuIGF0dGVudGlvbiBwcm9iYWJpbGl0eSBtYXRyaXgKCiAgICBBcmdzOgogICAgICAgIGF0dG5fbHByb2IgKFRlbnNvcik6IEJhdGNoZWQgbG9nIHByb2JhYmlsaXR5IG9mIGF0dGVudGlvbgogICAgICAgICAgICBtYXRyaXggKEIsIFRfZmVhdCwgVF90ZXh0KS4KICAgICAgICB0ZXh0X2xlbmd0aHMgKFRlbnNvcik6IFRleHQgbGVuZ3RoIHRlbnNvciAoQiwpLgogICAgICAgIGZlYXRfbGVuZ3RocyAoVGVuc29yKTogRmVhdHVyZSBsZW5ndGggdGVuc29yIChCLCkuCgogICAgUmV0dXJuczoKICAgICAgICBUZW5zb3I6IEJhdGNoZWQgdG9rZW4gZHVyYXRpb24gZXh0cmFjdGVkIGZyb20gYGF0dG5fbHByb2JgIChCLCBUX3RleHQpLgogICAgICAgIFRlbnNvcjogQmluYXJpemF0aW9uIGxvc3MgdGVuc29yICgpLgoKICAgICIiIgogICAgQiA9IGF0dG5fbHByb2Iuc2l6ZSgwKQogICAgVF90ZXh0ID0gYXR0bl9scHJvYi5zaXplKDIpCiAgICBkZXZpY2UgPSBhdHRuX2xwcm9iLmRldmljZQoKICAgIGR1cmF0aW9ucyA9IHRvcmNoLnplcm9zKChCLCBUX3RleHQpLCBkZXZpY2U9ZGV2aWNlLCBkdHlwZT10b3JjaC5sb25nKQogICAgZm9yIGIgaW4gcmFuZ2UoQik6CiAgICAgICAgYXNzZXJ0IGZlYXRfbGVuZ3Roc1tiXSA+IDAKICAgICAgICBhc3NlcnQgdGV4dF9sZW5ndGhzW2JdID4gMAogICAgICAgIGN1cl9sb2dfcF9hdHRuID0gYXR0bl9scHJvYltiLCA6IGZlYXRfbGVuZ3Roc1tiXSwgOiB0ZXh0X2xlbmd0aHNbYl1dCiAgICAgICAgdml0ZXJiaSA9IF9tb25vdG9uaWNfYWxpZ25tZW50X3NlYXJjaCgKICAgICAgICAgICAgY3VyX2xvZ19wX2F0dG4uZmxvYXQoKS5kZXRhY2goKS5jcHUoKS5udW1weSgpCiAgICAgICAgKQogICAgICAgIF9kdXJhdGlvbnMgPSBucC5iaW5jb3VudCh2aXRlcmJpKQogICAgICAgIGR1cmF0aW9uc1tiLCA6IGxlbihfZHVyYXRpb25zKV0gPSB0b3JjaC5mcm9tX251bXB5KF9kdXJhdGlvbnMpLnRvKGRldmljZSkKCiAgICByZXR1cm4gZHVyYXRpb25zCgoKY2xhc3MgVW5pdFkyQWxpZ25tZW50TW9kZWwoTW9kdWxlKToKICAgIGFsaWdubWVudF9lbmNvZGVyOiBVbml0WTJBbGlnbm1lbnRFbmNvZGVyCiAgICBhbGlnbm1lbnRfZnJvbnRlbmQ6IFVuaXRZMkFsaWdubWVudEZyb250ZW5kCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgYWxpZ25tZW50X2Zyb250ZW5kOiBVbml0WTJBbGlnbm1lbnRGcm9udGVuZCwKICAgICAgICBhbGlnbm1lbnRfZW5jb2RlcjogVW5pdFkyQWxpZ25tZW50RW5jb2RlciwKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5hbGlnbm1lbnRfZnJvbnRlbmQgPSBhbGlnbm1lbnRfZnJvbnRlbmQKICAgICAgICBzZWxmLmFsaWdubWVudF9lbmNvZGVyID0gYWxpZ25tZW50X2VuY29kZXIKCiAgICBkZWYgZm9yd2FyZChzZWxmLCBpbnB1dF90ZXh0OiBUZW5zb3IsIGlucHV0X3VuaXQ6IFRlbnNvcikgLT4gVHVwbGVbVGVuc29yLCBUZW5zb3JdOgogICAgICAgIGFzc2VydCBpbnB1dF90ZXh0Lm5kaW0gPT0gMgogICAgICAgIGFzc2VydCBpbnB1dF91bml0Lm5kaW0gPT0gMgogICAgICAgIGVtYnNfdGV4dCwgZW1ic191bml0ID0gc2VsZi5hbGlnbm1lbnRfZnJvbnRlbmQoaW5wdXRfdGV4dCwgaW5wdXRfdW5pdCkKICAgICAgICBhdHRuX2xwcm9iLCBhdHRuX2hhcmRfZHVyID0gc2VsZi5hbGlnbm1lbnRfZW5jb2RlcigKICAgICAgICAgICAgZW1ic190ZXh0LAogICAgICAgICAgICBlbWJzX3VuaXQsCiAgICAgICAgICAgIHRvcmNoLnRlbnNvcihbZW1ic190ZXh0LnNpemUoMSldKS50byhlbWJzX3RleHQpLmludCgpLAogICAgICAgICAgICB0b3JjaC50ZW5zb3IoW2VtYnNfdW5pdC5zaXplKDEpXSkudG8oZW1ic191bml0KS5pbnQoKSwKICAgICAgICApCgogICAgICAgIHJldHVybiBhdHRuX2xwcm9iLCBhdHRuX2hhcmRfZHVyCg=='),
    ('seamless/build/lib/seamless_communication/denoise/__init__.py', ''),
    ('seamless/build/lib/seamless_communication/denoise/demucs.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAppbXBvcnQgc3VicHJvY2VzcyBhcyBzcAppbXBvcnQgdGVtcGZpbGUKZnJvbSB0eXBpbmcgaW1wb3J0IFVuaW9uCmZyb20gdG9yY2ggaW1wb3J0IFRlbnNvcgppbXBvcnQgdG9yY2hhdWRpbwpmcm9tIGZhaXJzZXEyLm1lbW9yeSBpbXBvcnQgTWVtb3J5QmxvY2sKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbAppbXBvcnQgb3MKaW1wb3J0IGxvZ2dpbmcKClNBTVBMSU5HX1JBVEUgPSAxNjAwMAoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGxldmVsPWxvZ2dpbmcuSU5GTywKICAgIGZvcm1hdD0iJShhc2N0aW1lKXMgJShsZXZlbG5hbWUpcyAtLSAlKG5hbWUpczogJShtZXNzYWdlKXMiLAopCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcigiZGVtdWNzIikKCkBkYXRhY2xhc3MKY2xhc3MgRGVub2lzaW5nQ29uZmlnOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgICAgICBzZWxmLAogICAgICAgICAgICBmaWx0ZXJfd2lkdGg6IGludCA9IDMsCiAgICAgICAgICAgIG1vZGVsPSJodGRlbXVjcyIsIAogICAgICAgICAgICBzYW1wbGVfcmF0ZT1TQU1QTElOR19SQVRFLAogICAgICAgICAgICB0d29fc3RlbXM9Tm9uZSwKICAgICAgICAgICAgZmxvYXQzMj1GYWxzZSwKICAgICAgICAgICAgaW50MjQ9RmFsc2UpOgogICAgICAgIHNlbGYuZmlsdGVyX3dpZHRoID0gZmlsdGVyX3dpZHRoCiAgICAgICAgc2VsZi5tb2RlbCA9IG1vZGVsCiAgICAgICAgc2VsZi5zYW1wbGVfcmF0ZSA9IHNhbXBsZV9yYXRlCiAgICAgICAgc2VsZi50d29fc3RlbXMgPSB0d29fc3RlbXMKICAgICAgICBzZWxmLmZsb2F0MzIgPSBmbG9hdDMyCiAgICAgICAgc2VsZi5pbnQyNCA9IGludDI0CgpjbGFzcyBEZW11Y3MoKToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICAgICAgc2VsZiwgCiAgICAgICAgICAgIGRlbm9pc2VfY29uZmlnOiBPcHRpb25hbFtEZW5vaXNpbmdDb25maWddKToKICAgICAgICBzZWxmLmRlbm9pc2VfY29uZmlnID0gZGVub2lzZV9jb25maWcKICAgICAgICBzZWxmLnRlbXBfZmlsZXMgPSBbXQoKICAgIGRlZiBydW5fY29tbWFuZF93aXRoX3RlbXBfZmlsZShzZWxmLCBjbWQpOgogICAgICAgIHdpdGggdGVtcGZpbGUuTmFtZWRUZW1wb3JhcnlGaWxlKG1vZGU9J3crJywgZGVsZXRlPUZhbHNlKSBhcyB0ZW1wOgogICAgICAgICAgICBzZWxmLnRlbXBfZmlsZXMuYXBwZW5kKHRlbXAubmFtZSkKICAgICAgICAgICAgcmVzdWx0ID0gc3AucnVuKGNtZCwgc3Rkb3V0PXRlbXAsIHN0ZGVycj10ZW1wLCB0ZXh0PVRydWUpCiAgICAgICAgICAgICMgSWYgdGhlcmUgd2FzIGFuIGVycm9yLCBsb2cgdGhlIGNvbnRlbnQgb2YgdGhlIGZpbGUKICAgICAgICAgICAgaWYgcmVzdWx0LnJldHVybmNvZGUgIT0gMDoKICAgICAgICAgICAgICAgIHRlbXAuc2VlaygwKQogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8odGVtcC5yZWFkKCkpCgogICAgZGVmIGNsZWFudXBfdGVtcF9maWxlcyhzZWxmKToKICAgICAgICBmb3IgdGVtcF9maWxlIGluIHNlbGYudGVtcF9maWxlczoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgb3MucmVtb3ZlKHRlbXBfZmlsZSkgIAogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhmIkZhaWxlZCB0byByZW1vdmUgdGVtcG9yYXJ5IGZpbGU6IHt0ZW1wX2ZpbGV9LiBFcnJvcjoge2V9IikKCiAgICBkZWYgZGVub2lzZShzZWxmLCBhdWRpbzogVW5pb25bc3RyLCBUZW5zb3JdKToKCiAgICAgICAgaWYgc2VsZi5kZW5vaXNlX2NvbmZpZyBpcyBOb25lOgogICAgICAgICAgc2VsZi5kZW5vaXNlX2NvbmZpZyA9IERlbm9pc2luZ0NvbmZpZygpCgogICAgICAgIGlmIGlzaW5zdGFuY2UoYXVkaW8sIFRlbnNvcik6CiAgICAgICAgICAgIHdpdGggdGVtcGZpbGUuTmFtZWRUZW1wb3JhcnlGaWxlKHN1ZmZpeD0iLndhdiIsIGRlbGV0ZT1GYWxzZSkgYXMgdGVtcF93YXY6CiAgICAgICAgICAgICAgICBzZWxmLnRlbXBfZmlsZXMuYXBwZW5kKHRlbXBfd2F2Lm5hbWUpCiAgICAgICAgICAgICAgICB0b3JjaGF1ZGlvLnNhdmUodGVtcF93YXYubmFtZSwgYXVkaW8sIHNlbGYuZGVub2lzZV9jb25maWcuc2FtcGxlX3JhdGUpCiAgICAgICAgICAgICAgICBhdWRpbyA9IHRlbXBfd2F2Lm5hbWUKCiAgICAgICAgaWYgbm90IFBhdGgoYXVkaW8pLmV4aXN0cygpOgogICAgICAgICAgICBsb2dnZXIuaW5mbygiSW5wdXQgZmlsZSBkb2VzIG5vdCBleGlzdC4iKQogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICB3aXRoIHRlbXBmaWxlLlRlbXBvcmFyeURpcmVjdG9yeSgpIGFzIHRlbXBfZGlyOgogICAgICAgICAgICBjbWQgPSBbInB5dGhvbjMiLCAiLW0iLCAiZGVtdWNzLnNlcGFyYXRlIiwgIi1vIiwgdGVtcF9kaXIsICItbiIsIHNlbGYuZGVub2lzZV9jb25maWcubW9kZWxdCiAgICAgICAgICAgIGlmIHNlbGYuZGVub2lzZV9jb25maWcuZmxvYXQzMjoKICAgICAgICAgICAgICAgIGNtZCArPSBbIi0tZmxvYXQzMiJdCiAgICAgICAgICAgIGlmIHNlbGYuZGVub2lzZV9jb25maWcuaW50MjQ6CiAgICAgICAgICAgICAgICBjbWQgKz0gWyItLWludDI0Il0KICAgICAgICAgICAgaWYgc2VsZi5kZW5vaXNlX2NvbmZpZy50d29fc3RlbXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBjbWQgKz0gW2YiLS10d28tc3RlbXM9e3NlbGYuZGVub2lzZV9jb25maWcudHdvX3N0ZW1zfSJdCgogICAgICAgICAgICBhdWRpb19wYXRoID0gUGF0aChhdWRpbykKICAgICAgICAgICAgYXVkaW9fbmFtZSA9IGF1ZGlvX3BhdGguc3RlbQogICAgICAgICAgICBhdWRpbyA9IFtzdHIoYXVkaW8pXQoKICAgICAgICAgICAgbG9nZ2VyLmluZm8oIkV4ZWN1dGluZyBjb21tYW5kOiIsICIgIi5qb2luKGNtZCkpCiAgICAgICAgICAgIHNlbGYucnVuX2NvbW1hbmRfd2l0aF90ZW1wX2ZpbGUoY21kICsgYXVkaW8pCgogICAgICAgICAgICBzZXBhcmF0ZWRfZmlsZXMgPSBsaXN0KFBhdGgodGVtcF9kaXIgKyAiL2h0ZGVtdWNzLyIgKyBhdWRpb19uYW1lKS5nbG9iKCIqdm9jYWxzLndhdioiKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG5vdCBzZXBhcmF0ZWRfZmlsZXM6CiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygiU2VwYXJhdGVkIHZvY2FscyBmaWxlIG5vdCBmb3VuZC4iKQogICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgICAgIHdhdmVmb3JtLCBzYW1wbGVfcmF0ZSA9IHRvcmNoYXVkaW8ubG9hZChzZXBhcmF0ZWRfZmlsZXNbMF0pCgogICAgICAgICAgICBpZiB3YXZlZm9ybS5zaGFwZVswXSA+IDE6CiAgICAgICAgICAgICAgICB3YXZlZm9ybSA9IHdhdmVmb3JtLm1lYW4oZGltPTAsIGtlZXBkaW09VHJ1ZSkKICAgICAgICAgICAgaWYgc2FtcGxlX3JhdGUgIT0gMTYwMDA6CiAgICAgICAgICAgICAgICByZXNhbXBsZXIgPSB0b3JjaGF1ZGlvLnRyYW5zZm9ybXMuUmVzYW1wbGUob3JpZ19mcmVxPXNhbXBsZV9yYXRlLCBuZXdfZnJlcT0xNjAwMCkKICAgICAgICAgICAgICAgIHdhdmVmb3JtID0gcmVzYW1wbGVyKHdhdmVmb3JtKQogICAgICAgICAgICAgICAgc2FtcGxlX3JhdGUgPSAxNjAwMAoKICAgICAgICAgICAgd2l0aCB0ZW1wZmlsZS5OYW1lZFRlbXBvcmFyeUZpbGUoc3VmZml4PSIud2F2IiwgZGVsZXRlPVRydWUpIGFzIHRlbXBfd2F2MjoKICAgICAgICAgICAgICAgIHRvcmNoYXVkaW8uc2F2ZSh0ZW1wX3dhdjIubmFtZSwgd2F2ZWZvcm0sIHNhbXBsZV9yYXRlPXNhbXBsZV9yYXRlKQogICAgICAgICAgICAgICAgYmxvY2sgPSBNZW1vcnlCbG9jayh0ZW1wX3dhdjIucmVhZCgpKQoKICAgICAgICAgICAgc2VsZi5jbGVhbnVwX3RlbXBfZmlsZXMoKQoKICAgICAgICAgICAgcmV0dXJuIGJsb2NrCiAgICAgICAg'),
    ('seamless/build/lib/seamless_communication/datasets/__init__.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4K'),
    ('seamless/build/lib/seamless_communication/datasets/huggingface.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgppbXBvcnQgbG9nZ2luZwppbXBvcnQgb3MKZnJvbSBhYmMgaW1wb3J0IGFic3RyYWN0bWV0aG9kCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBJdGVyYWJsZSwgT3B0aW9uYWwKCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgdG9yY2gKZnJvbSBkYXRhc2V0cyBpbXBvcnQgbG9hZF9kYXRhc2V0Cgpmcm9tIC5kYXRhdHlwZXMgaW1wb3J0IExhbmdQYWlyU2FtcGxlLCBNdWx0aW1vZGFsU2FtcGxlCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpjbGFzcyBTcGVlY2hUb2tlbml6ZXI6CiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBlbmNvZGUoc2VsZiwgd2F2OiB0b3JjaC5UZW5zb3IsIHNhbXBsZV9yYXRlOiBpbnQpIC0+IHRvcmNoLlRlbnNvcjoKICAgICAgICAuLi4KCgpjbGFzcyBTcGVlY2gyU3BlZWNoRmxldXJzRGF0YXNldEJ1aWxkZXI6CiAgICAiIiJBc3NlbWJsZXMgc3BlZWNoMnNwZWVjaCBkYXRhc2V0IGZyb20gZ29vZ2xlL2ZsZXVycyBvbiBIdWdnaW5nRmFjZSIiIgoKICAgIERBVEFTRVRfTkFNRSA9ICJnb29nbGUvZmxldXJzIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHNvdXJjZV9sYW5nOiBzdHIsCiAgICAgICAgdGFyZ2V0X2xhbmc6IHN0ciwKICAgICAgICBzcGxpdDogc3RyID0gInRlc3QiLAogICAgICAgIHNraXBfc291cmNlX2F1ZGlvOiBib29sID0gVHJ1ZSwKICAgICAgICBza2lwX3RhcmdldF9hdWRpbzogYm9vbCA9IFRydWUsCiAgICAgICAgYXVkaW9fZHR5cGU6IHRvcmNoLmR0eXBlID0gdG9yY2guZmxvYXQzMiwKICAgICAgICBkYXRhc2V0X2NhY2hlX2RpcjogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgc3BlZWNoX3Rva2VuaXplcjogT3B0aW9uYWxbU3BlZWNoVG9rZW5pemVyXSA9IE5vbmUsCiAgICApOgogICAgICAgIHNlbGYuc291cmNlX2xhbmcgPSBzb3VyY2VfbGFuZwogICAgICAgIHNlbGYudGFyZ2V0X2xhbmcgPSB0YXJnZXRfbGFuZwogICAgICAgIHNlbGYuc3BsaXQgPSBzcGxpdAogICAgICAgIHNlbGYuZGF0YXNldF9jYWNoZV9kaXIgPSBkYXRhc2V0X2NhY2hlX2RpcgogICAgICAgIHNlbGYuYXVkaW9fZHR5cGUgPSBhdWRpb19kdHlwZQogICAgICAgIHNlbGYuc2tpcF9zb3VyY2VfYXVkaW8gPSBza2lwX3NvdXJjZV9hdWRpbwogICAgICAgIHNlbGYuc2tpcF90YXJnZXRfYXVkaW8gPSBza2lwX3RhcmdldF9hdWRpbwogICAgICAgIHNlbGYuc3BlZWNoX3Rva2VuaXplciA9IHNwZWVjaF90b2tlbml6ZXIKCiAgICBkZWYgX3ByZXBhcmVfc2FtcGxlKAogICAgICAgIHNlbGYsCiAgICAgICAgc2FtcGxlX2lkOiBpbnQsCiAgICAgICAgbGFuZzogc3RyLAogICAgICAgIHRleHQ6IHN0ciwKICAgICAgICBhdWRpb19sb2NhbF9wYXRoOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICB3YXZlZm9ybV9ucHk6IE9wdGlvbmFsW25wLm5kYXJyYXldID0gTm9uZSwKICAgICAgICBzYW1wbGluZ19yYXRlOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICkgLT4gTXVsdGltb2RhbFNhbXBsZToKICAgICAgICBzaG91bGRfc2tpcF9hdWRpbyA9ICgKICAgICAgICAgICAgbGFuZyA9PSBzZWxmLnRhcmdldF9sYW5nCiAgICAgICAgICAgIGFuZCBzZWxmLnNraXBfdGFyZ2V0X2F1ZGlvCiAgICAgICAgICAgIG9yIGxhbmcgPT0gc2VsZi5zb3VyY2VfbGFuZwogICAgICAgICAgICBhbmQgc2VsZi5za2lwX3NvdXJjZV9hdWRpbwogICAgICAgICAgICBvciB3YXZlZm9ybV9ucHkgaXMgTm9uZQogICAgICAgICkKICAgICAgICBpZiBub3Qgc2hvdWxkX3NraXBfYXVkaW86CiAgICAgICAgICAgIHdhdmVmb3JtID0gdG9yY2guZnJvbV9udW1weSh3YXZlZm9ybV9ucHkpLnRvKHNlbGYuYXVkaW9fZHR5cGUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgd2F2ZWZvcm0gPSBOb25lCiAgICAgICAgaWYgc2VsZi5zcGVlY2hfdG9rZW5pemVyIGlzIG5vdCBOb25lIGFuZCBub3Qgc2hvdWxkX3NraXBfYXVkaW86CiAgICAgICAgICAgIGFzc2VydCB3YXZlZm9ybSBpcyBub3QgTm9uZQogICAgICAgICAgICBhc3NlcnQgc2FtcGxpbmdfcmF0ZSBpcyBub3QgTm9uZQogICAgICAgICAgICB1bml0c190ZW5zb3IgPSBzZWxmLnNwZWVjaF90b2tlbml6ZXIuZW5jb2RlKAogICAgICAgICAgICAgICAgd2F2ZWZvcm0sIHNhbXBsaW5nX3JhdGUKICAgICAgICAgICAgKS5yZXNoYXBlKC0xKQogICAgICAgICAgICB1bml0cyA9IHVuaXRzX3RlbnNvci50b2xpc3QoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHVuaXRzID0gTm9uZQogICAgICAgIHJldHVybiBNdWx0aW1vZGFsU2FtcGxlKAogICAgICAgICAgICBpZD1zYW1wbGVfaWQsCiAgICAgICAgICAgIGxhbmc9bGFuZywKICAgICAgICAgICAgdGV4dD10ZXh0LnN0cmlwKCksCiAgICAgICAgICAgIGF1ZGlvX2xvY2FsX3BhdGg9YXVkaW9fbG9jYWxfcGF0aCwKICAgICAgICAgICAgd2F2ZWZvcm09d2F2ZWZvcm0sCiAgICAgICAgICAgIHNhbXBsaW5nX3JhdGU9c2FtcGxpbmdfcmF0ZSwKICAgICAgICAgICAgdW5pdHM9dW5pdHMsCiAgICAgICAgKQoKICAgIGRlZiBpdGVyYXRlX2xhbmdfYXVkaW9fc2FtcGxlcyhzZWxmLCBsYW5nOiBzdHIpIC0+IEl0ZXJhYmxlW011bHRpbW9kYWxTYW1wbGVdOgogICAgICAgIGRzID0gbG9hZF9kYXRhc2V0KAogICAgICAgICAgICBzZWxmLkRBVEFTRVRfTkFNRSwKICAgICAgICAgICAgbGFuZywKICAgICAgICAgICAgc3BsaXQ9c2VsZi5zcGxpdCwKICAgICAgICAgICAgY2FjaGVfZGlyPXNlbGYuZGF0YXNldF9jYWNoZV9kaXIsCiAgICAgICAgICAgIHN0cmVhbWluZz1GYWxzZSwKICAgICAgICAgICAgdHJ1c3RfcmVtb3RlX2NvZGU9VHJ1ZSwKICAgICAgICApCiAgICAgICAgZm9yIGl0ZW0gaW4gZHM6CiAgICAgICAgICAgIGF1ZGlvX3BhdGggPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgICAgICBvcy5wYXRoLmRpcm5hbWUoaXRlbVsicGF0aCJdKSwgaXRlbVsiYXVkaW8iXVsicGF0aCJdCiAgICAgICAgICAgICkKICAgICAgICAgICAgKHNhbXBsZV9pZCwgYXVkaW9fbG9jYWxfcGF0aCwgd2F2ZWZvcm0sIHNhbXBsaW5nX3JhdGUsIHRleHQpID0gKAogICAgICAgICAgICAgICAgaXRlbVsiaWQiXSwKICAgICAgICAgICAgICAgIGF1ZGlvX3BhdGgsCiAgICAgICAgICAgICAgICBpdGVtWyJhdWRpbyJdWyJhcnJheSJdLAogICAgICAgICAgICAgICAgaXRlbVsiYXVkaW8iXVsic2FtcGxpbmdfcmF0ZSJdLAogICAgICAgICAgICAgICAgaXRlbVsidHJhbnNjcmlwdGlvbiJdLAogICAgICAgICAgICApCiAgICAgICAgICAgIHlpZWxkIHNlbGYuX3ByZXBhcmVfc2FtcGxlKAogICAgICAgICAgICAgICAgc2FtcGxlX2lkPXNhbXBsZV9pZCwKICAgICAgICAgICAgICAgIGF1ZGlvX2xvY2FsX3BhdGg9YXVkaW9fbG9jYWxfcGF0aCwKICAgICAgICAgICAgICAgIHdhdmVmb3JtX25weT13YXZlZm9ybSwKICAgICAgICAgICAgICAgIHNhbXBsaW5nX3JhdGU9c2FtcGxpbmdfcmF0ZSwKICAgICAgICAgICAgICAgIHRleHQ9dGV4dCwKICAgICAgICAgICAgICAgIGxhbmc9bGFuZywKICAgICAgICAgICAgKQoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKSAtPiBJdGVyYWJsZVtMYW5nUGFpclNhbXBsZV06CiAgICAgICAgbG9nZ2VyLmluZm8oZiJMb2FkaW5nIHtzZWxmLnRhcmdldF9sYW5nfSBzYW1wbGVzIikKICAgICAgICB0YXJnZXRfc2FtcGxlczogRGljdFtpbnQsIE11bHRpbW9kYWxTYW1wbGVdID0ge30KICAgICAgICBmb3IgaWR4LCBzYW1wbGUgaW4gZW51bWVyYXRlKAogICAgICAgICAgICBzZWxmLml0ZXJhdGVfbGFuZ19hdWRpb19zYW1wbGVzKGxhbmc9c2VsZi50YXJnZXRfbGFuZykKICAgICAgICApOgogICAgICAgICAgICBpZiBpZHggYW5kIGlkeCAlIDEwMCA9PSAwOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiIuLmxvYWRlZCB7aWR4fSB0YXJnZXQgc2FtcGxlcyIpCiAgICAgICAgICAgIHRhcmdldF9zYW1wbGVzW3NhbXBsZS5pZF0gPSBzYW1wbGUKCiAgICAgICAgbG9nZ2VyLmluZm8oZiJMb2FkaW5nIHtzZWxmLnNvdXJjZV9sYW5nfSBzYW1wbGVzIikKICAgICAgICBmb3IgaWR4LCBzYW1wbGUgaW4gZW51bWVyYXRlKAogICAgICAgICAgICBzZWxmLml0ZXJhdGVfbGFuZ19hdWRpb19zYW1wbGVzKGxhbmc9c2VsZi5zb3VyY2VfbGFuZykKICAgICAgICApOgogICAgICAgICAgICBpZiBpZHggYW5kIGlkeCAlIDEwMCA9PSAwOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiIuLmxvYWRlZCB7aWR4fSBzb3VyY2Ugc2FtcGxlcyIpCiAgICAgICAgICAgIGlmIHNhbXBsZS5pZCBpbiB0YXJnZXRfc2FtcGxlczoKICAgICAgICAgICAgICAgIHlpZWxkIExhbmdQYWlyU2FtcGxlKHNvdXJjZT1zYW1wbGUsIHRhcmdldD10YXJnZXRfc2FtcGxlc1tzYW1wbGUuaWRdKQoKCmNsYXNzIFNwZWVjaDJUZXh0R2lnYXNwZWVjaERhdGFzZXRCdWlsZGVyOgogICAgIiIiIEFzc2VtYmxlcyBzcGVlY2gyc3BlZWNoIGRhdGFzZXQgZnJvbSBnb29nbGUvZmxldXJzIG9uIEh1Z2dpbmdGYWNlLgogICAgICAgIFRoaXMgZGF0YXNldCByZXF1aXJlcyBzaWduaW5nIGFuIGxpY2Vuc2UgYWdyZWVtZW50IGFuZCB1c2luZyBhbiBhdXRoIHRva2VuLgogICAgIiIiCgogICAgREFUQVNFVF9OQU1FID0gInNwZWVjaGNvbGFiL2dpZ2FzcGVlY2giCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgYXV0aF90b2tlbjogc3RyLAogICAgICAgIHNwbGl0OiBzdHIgPSAidGVzdCIsCiAgICAgICAgc2tpcF9zb3VyY2VfYXVkaW86IGJvb2wgPSBUcnVlLAogICAgICAgIHNraXBfdGFyZ2V0X2F1ZGlvOiBib29sID0gVHJ1ZSwKICAgICAgICBhdWRpb19kdHlwZTogdG9yY2guZHR5cGUgPSB0b3JjaC5mbG9hdDMyLAogICAgICAgIGRhdGFzZXRfY2FjaGVfZGlyOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBzcGVlY2hfdG9rZW5pemVyOiBPcHRpb25hbFtTcGVlY2hUb2tlbml6ZXJdID0gTm9uZSwKICAgICk6CiAgICAgICAgc2VsZi5hdXRoX3Rva2VuID0gYXV0aF90b2tlbgogICAgICAgIHNlbGYuc3BsaXQgPSBzcGxpdAogICAgICAgIHNlbGYuZGF0YXNldF9jYWNoZV9kaXIgPSBkYXRhc2V0X2NhY2hlX2RpcgogICAgICAgIHNlbGYuYXVkaW9fZHR5cGUgPSBhdWRpb19kdHlwZQogICAgICAgIHNlbGYuc2tpcF9zb3VyY2VfYXVkaW8gPSBza2lwX3NvdXJjZV9hdWRpbwogICAgICAgIHNlbGYuc2tpcF90YXJnZXRfYXVkaW8gPSBza2lwX3RhcmdldF9hdWRpbwogICAgICAgIHNlbGYuc3BlZWNoX3Rva2VuaXplciA9IHNwZWVjaF90b2tlbml6ZXIKCiAgICBkZWYgX3ByZXBhcmVfc2FtcGxlKAogICAgICAgIHNlbGYsCiAgICAgICAgc2FtcGxlX2lkOiBpbnQsCiAgICAgICAgbGFuZzogc3RyLAogICAgICAgIHRleHQ6IHN0ciwKICAgICAgICBhdWRpb19sb2NhbF9wYXRoOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICB3YXZlZm9ybV9ucHk6IE9wdGlvbmFsW25wLm5kYXJyYXldID0gTm9uZSwKICAgICAgICBzYW1wbGluZ19yYXRlOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICkgLT4gTXVsdGltb2RhbFNhbXBsZToKICAgICAgICBpZiB3YXZlZm9ybV9ucHkgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHdhdmVmb3JtID0gdG9yY2guZnJvbV9udW1weSh3YXZlZm9ybV9ucHkpLnRvKHNlbGYuYXVkaW9fZHR5cGUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgd2F2ZWZvcm0gPSBOb25lCiAgICAgICAgaWYgc2VsZi5zcGVlY2hfdG9rZW5pemVyIGlzIG5vdCBOb25lIGFuZCB3YXZlZm9ybV9ucHkgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGFzc2VydCB3YXZlZm9ybSBpcyBub3QgTm9uZQogICAgICAgICAgICBhc3NlcnQgc2FtcGxpbmdfcmF0ZSBpcyBub3QgTm9uZQogICAgICAgICAgICB1bml0c190ZW5zb3IgPSBzZWxmLnNwZWVjaF90b2tlbml6ZXIuZW5jb2RlKAogICAgICAgICAgICAgICAgd2F2ZWZvcm0sIHNhbXBsaW5nX3JhdGUKICAgICAgICAgICAgKS5yZXNoYXBlKC0xKQogICAgICAgICAgICB1bml0cyA9IHVuaXRzX3RlbnNvci50b2xpc3QoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHVuaXRzID0gTm9uZQogICAgICAgIHJldHVybiBNdWx0aW1vZGFsU2FtcGxlKAogICAgICAgICAgICBpZD1zYW1wbGVfaWQsCiAgICAgICAgICAgIGxhbmc9bGFuZywKICAgICAgICAgICAgdGV4dD10ZXh0LnN0cmlwKCksCiAgICAgICAgICAgIGF1ZGlvX2xvY2FsX3BhdGg9YXVkaW9fbG9jYWxfcGF0aCwKICAgICAgICAgICAgd2F2ZWZvcm09d2F2ZWZvcm0sCiAgICAgICAgICAgIHNhbXBsaW5nX3JhdGU9c2FtcGxpbmdfcmF0ZSwKICAgICAgICAgICAgdW5pdHM9dW5pdHMsCiAgICAgICAgKQoKICAgIGRlZiBpdGVyYXRlX2xhbmdfYXVkaW9fc2FtcGxlcyhzZWxmLCBsYW5nOiBzdHIpIC0+IEl0ZXJhYmxlW011bHRpbW9kYWxTYW1wbGVdOgogICAgICAgIGRzID0gbG9hZF9kYXRhc2V0KAogICAgICAgICAgICBzZWxmLkRBVEFTRVRfTkFNRSwKICAgICAgICAgICAgbGFuZywKICAgICAgICAgICAgc3BsaXQ9c2VsZi5zcGxpdCwKICAgICAgICAgICAgY2FjaGVfZGlyPXNlbGYuZGF0YXNldF9jYWNoZV9kaXIsCiAgICAgICAgICAgIHN0cmVhbWluZz1GYWxzZSwKICAgICAgICAgICAgdHJ1c3RfcmVtb3RlX2NvZGU9VHJ1ZSwKICAgICAgICApCiAgICAgICAgZm9yIGl0ZW0gaW4gZHM6CiAgICAgICAgICAgIGF1ZGlvX3BhdGggPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgICAgICBvcy5wYXRoLmRpcm5hbWUoaXRlbVsicGF0aCJdKSwgaXRlbVsiYXVkaW8iXVsicGF0aCJdCiAgICAgICAgICAgICkKICAgICAgICAgICAgKHNhbXBsZV9pZCwgYXVkaW9fbG9jYWxfcGF0aCwgd2F2ZWZvcm0sIHNhbXBsaW5nX3JhdGUsIHRleHQpID0gKAogICAgICAgICAgICAgICAgaXRlbVsiaWQiXSwKICAgICAgICAgICAgICAgIGF1ZGlvX3BhdGgsCiAgICAgICAgICAgICAgICBpdGVtWyJhdWRpbyJdWyJhcnJheSJdLAogICAgICAgICAgICAgICAgaXRlbVsiYXVkaW8iXVsic2FtcGxpbmdfcmF0ZSJdLAogICAgICAgICAgICAgICAgaXRlbVsidHJhbnNjcmlwdGlvbiJdLAogICAgICAgICAgICApCiAgICAgICAgICAgIHlpZWxkIHNlbGYuX3ByZXBhcmVfc2FtcGxlKAogICAgICAgICAgICAgICAgc2FtcGxlX2lkPXNhbXBsZV9pZCwKICAgICAgICAgICAgICAgIGF1ZGlvX2xvY2FsX3BhdGg9YXVkaW9fbG9jYWxfcGF0aCwKICAgICAgICAgICAgICAgIHdhdmVmb3JtX25weT13YXZlZm9ybSwKICAgICAgICAgICAgICAgIHNhbXBsaW5nX3JhdGU9c2FtcGxpbmdfcmF0ZSwKICAgICAgICAgICAgICAgIHRleHQ9dGV4dCwKICAgICAgICAgICAgICAgIGxhbmc9bGFuZywKICAgICAgICAgICAgKQoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKSAtPiBJdGVyYWJsZVtMYW5nUGFpclNhbXBsZV06CiAgICAgICAgbG9nZ2VyLmluZm8oZiJMb2FkaW5nIHtzZWxmLnRhcmdldF9sYW5nfSBzYW1wbGVzIikKICAgICAgICB0YXJnZXRfc2FtcGxlczogRGljdFtpbnQsIE11bHRpbW9kYWxTYW1wbGVdID0ge30KICAgICAgICBmb3IgaWR4LCBzYW1wbGUgaW4gZW51bWVyYXRlKAogICAgICAgICAgICBzZWxmLml0ZXJhdGVfbGFuZ19hdWRpb19zYW1wbGVzKGxhbmc9c2VsZi50YXJnZXRfbGFuZykKICAgICAgICApOgogICAgICAgICAgICBpZiBpZHggYW5kIGlkeCAlIDEwMCA9PSAwOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiIuLmxvYWRlZCB7aWR4fSB0YXJnZXQgc2FtcGxlcyIpCiAgICAgICAgICAgIHRhcmdldF9zYW1wbGVzW3NhbXBsZS5pZF0gPSBzYW1wbGUKCiAgICAgICAgbG9nZ2VyLmluZm8oZiJMb2FkaW5nIHtzZWxmLnNvdXJjZV9sYW5nfSBzYW1wbGVzIikKICAgICAgICBmb3IgaWR4LCBzYW1wbGUgaW4gZW51bWVyYXRlKAogICAgICAgICAgICBzZWxmLml0ZXJhdGVfbGFuZ19hdWRpb19zYW1wbGVzKGxhbmc9c2VsZi5zb3VyY2VfbGFuZykKICAgICAgICApOgogICAgICAgICAgICBpZiBpZHggYW5kIGlkeCAlIDEwMCA9PSAwOgogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiIuLmxvYWRlZCB7aWR4fSBzb3VyY2Ugc2FtcGxlcyIpCiAgICAgICAgICAgIGlmIHNhbXBsZS5pZCBpbiB0YXJnZXRfc2FtcGxlczoKICAgICAgICAgICAgICAgIHlpZWxkIExhbmdQYWlyU2FtcGxlKHNvdXJjZT1zYW1wbGUsIHRhcmdldD10YXJnZXRfc2FtcGxlc1tzYW1wbGUuaWRdKQo='),
    ('seamless/build/lib/seamless_communication/datasets/datatypes.py', 'IyBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzCiMgQWxsIHJpZ2h0cyByZXNlcnZlZC4KIwojIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiMgTUlUX0xJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KCgpmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgTGlzdCwgT3B0aW9uYWwKCmltcG9ydCB0b3JjaAoKCkBkYXRhY2xhc3MKY2xhc3MgTXVsdGltb2RhbFNhbXBsZToKICAgIGlkOiBpbnQKICAgIGxhbmc6IHN0cgogICAgdGV4dDogc3RyCiAgICBhdWRpb19sb2NhbF9wYXRoOiBPcHRpb25hbFtzdHJdID0gTm9uZQogICAgd2F2ZWZvcm06IE9wdGlvbmFsW3RvcmNoLlRlbnNvcl0gPSBOb25lCiAgICBzYW1wbGluZ19yYXRlOiBPcHRpb25hbFtpbnRdID0gTm9uZQogICAgdW5pdHM6IE9wdGlvbmFsW0xpc3RbaW50XV0gPSBOb25lCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9qc29uKGNscywganM6IERpY3Rbc3RyLCBBbnldKSAtPiAiTXVsdGltb2RhbFNhbXBsZSI6CiAgICAgICAgcmV0dXJuIGNscygKICAgICAgICAgICAgaWQ9anNbImlkIl0sCiAgICAgICAgICAgIGxhbmc9anNbImxhbmciXSwKICAgICAgICAgICAgdGV4dD1qc1sidGV4dCJdLAogICAgICAgICAgICBhdWRpb19sb2NhbF9wYXRoPWpzLmdldCgiYXVkaW9fbG9jYWxfcGF0aCIpLAogICAgICAgICAgICB3YXZlZm9ybT1Ob25lLCAgIyBkb24ndCBzZXJpYWxpemUKICAgICAgICAgICAgc2FtcGxpbmdfcmF0ZT1qcy5nZXQoInNhbXBsaW5nX3JhdGUiKSwKICAgICAgICAgICAgdW5pdHM9anMuZ2V0KCJ1bml0cyIpLAogICAgICAgICkKCgpAZGF0YWNsYXNzCmNsYXNzIExhbmdQYWlyU2FtcGxlOgogICAgc291cmNlOiBNdWx0aW1vZGFsU2FtcGxlCiAgICB0YXJnZXQ6IE11bHRpbW9kYWxTYW1wbGUKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2pzb24oY2xzLCBqczogRGljdFtzdHIsIEFueV0pIC0+ICJMYW5nUGFpclNhbXBsZSI6CiAgICAgICAgcmV0dXJuIGNscygKICAgICAgICAgICAgc291cmNlPU11bHRpbW9kYWxTYW1wbGUuZnJvbV9qc29uKGpzWyJzb3VyY2UiXSksCiAgICAgICAgICAgIHRhcmdldD1NdWx0aW1vZGFsU2FtcGxlLmZyb21fanNvbihqc1sidGFyZ2V0Il0pLAogICAgICAgICkK'),
]

for relative_path, encoded_content in file_data:
    full_path = os.path.join(folder_path, relative_path)
    os.makedirs(os.path.dirname(full_path), exist_ok=True)
    with open(full_path, 'wb') as f:
        f.write(base64.b64decode(encoded_content))
    print(f'Created: {full_path}')
subprocess.run(['python', 'module_registrar/modules/translation/install_translation.py'], check=True)
